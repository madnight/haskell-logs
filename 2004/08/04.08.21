01:58:15 <musasabi> Is there any simple commandline tool to read in haskell sources and print out html?
01:58:33 <musasabi> that is colorized.
01:58:47 <musasabi> scripting vim or emacs might do it...
02:00:15 <Maddas> I think it's quite easy with vim if it already colours it, I'm not sure of the details though :}
02:00:57 <Maddas> (Not very helpful, sorry)
02:01:26 <Igloo> Can enscript do it?
02:04:28 <musasabi> yes. (looking at the web page)
02:08:35 * Marvin-- ponders exactly what a libghc6-*-dev package needs to depend on
02:09:53 <Marvin--> Igloo: I think my shlibs hack is a bit overzealous :)
02:10:25 <Igloo> Marvin--: ghc6 building also broke, BTW. Vorlon has apparently retargetted the ghc6 bug at binutils
02:10:36 <Marvin--> ow
02:12:19 <Marvin--> ah, stupid ar problem, then
02:12:54 <Marvin--> so maybe the patch in #266446 isn't necessary at all
02:13:14 <Marvin--> (well, getting rid of the bashisms can't hurt, but that's unrelated)
02:14:48 <Igloo> Sven redid the -input stuff a while ago. I assumed it got into 6.2.1, but apparently not
02:16:10 <musasabi> bashism is evil.
02:16:28 <Marvin--> well, what I mean is that it looks like the exact same problem in ghc5 and ghc6, both relating to the ar bug
02:17:24 <Igloo> Yeah, it just wasn't worth investigating for only ghc5 as it's only 1 arch so just fixing it wiht an upload is easier
02:17:25 <Marvin--> musasabi: well, when you get /bin/sh -> bash by default it's easy to forget which is a bashism and which is not, especially when you do it from a Makefile where it's not apparent which shell is used (compared to a script with an explicit #!)
02:18:58 <Marvin--> I wonder if anything can go seriously wrong if libghc6-foo-dev is built with libbar-dev and libbar3 installed, and then used with libbar-dev and libbar4 installed
02:19:44 * Marvin-- growls
02:19:49 <Marvin--> combining static and dynamic linking really sucks
02:20:12 <Igloo> I'm sure it can
02:20:20 <juhp> that probably depends on what libbar is...
02:20:22 <Igloo> Constants in headers can change if nothing else
02:21:51 <juhp> though normally you'd expect libbar4 and libbar3 to have different sonames
02:23:03 <Igloo> Any thoughts on what policy 10.1 means for Haskell programs/libraries, incidentally?
02:23:24 <Igloo> I think for ghc I will build a debugging compiler if nostrip is given
02:23:50 <Igloo> I'm pondering a debugging build for other things, but it feels a bit more orthogonal to me
02:23:56 <Igloo> s/debuggin/profiling/
02:27:30 <Marvin--> juhp: yes, but package.conf doesn't mention sonames
02:28:04 <Marvin--> extra_libraries = ["art_lgpl_2", "atk-1.0", "dl", ...]
02:28:16 <Marvin--> all it has is a list of stuff you put after -l flags
02:29:20 <juhp> Marvin: true, anyway it is quite conceivable that libbarX and libbarY have differences in API :)
02:29:34 <Marvin--> yes :(
02:29:52 <Marvin--> so maybe I *do* have to go through with my evil plans
02:30:26 <Marvin--> I'm scared that it will generate too restrictive dependencies, though
02:30:33 <juhp> Marvin--: are you worrying about a particular libbar?
02:30:52 <Marvin--> no, I'm worrying in general
02:31:02 <Marvin--> about how to generate dependencies for haskell debian packages
02:31:09 <juhp> right
02:32:24 <Marvin--> Igloo: 10.1 is extremely C-centric
02:32:59 <Igloo> It would be good to fit in wiht the spirit, though
02:33:21 <Marvin--> in the case of libfoo-dev depending on libbar-dev for normal C libs, it's not really a problem, because typically libfoo-dev depends on libfooX that depends on libbarY
02:33:40 <Marvin--> but for our libghc-foo-dev there is no corresponding libghc-foo, because we link statically
02:38:36 <Marvin--> I wonder if the most sensible approach in general is to do all ffi hackery through a proxy library
02:39:07 <Marvin--> then all you'd need is extra_libraries = ["proxythingy"] which would in turn link against everything else
02:39:57 <Marvin--> but on the other hand, libproxythingy would have exactly the same dependencies as those I get when I compile a dummy program...
02:59:08 <goron> Did you know it's not useful to put the same programlogic in two places? It gives pretty undefined behaviour...
03:08:52 <TheHunter> @seen lambdabot
03:10:27 <Marvin--> TheHunter: er, are you asking lambdabot why lambdabot isn't here?
03:10:30 <Marvin--> isn't that kinda...silly
03:12:58 <TheHunter> it's silly, i know
03:54:19 <eshu> ghc is reporting that 'data Atom = WordCall String | NumLit Integer' is an illegal data declaration. It looks ok to me. Is it?
03:56:29 <Marvin--> works for me
03:57:11 * eshu shrugs
03:57:34 <Marvin--> do you have any other weird things in the file?
03:57:55 <eshu> not in that file
04:02:50 <Lemmih> Why should it be illegal?
04:04:00 <Marvin--> that's what I'm wondering too
04:06:01 <musasabi> eshu: try commenting out imports.
04:06:21 <eshu> hehe, there are none. its something in that file
04:07:02 <Marvin--> could you put the file online somewhere?
04:07:07 <musasabi> can you post it somewhere?
04:07:17 <eshu> yeah, just a second
04:08:11 <Lemmih> Hello pesco 
04:08:23 <pesco> Good morning Lemmih.
04:09:27 <eshu> http://sourcepost.sytes.net/sourceview.aspx?source_id=16161
04:10:24 <Marvin--> eshu: your data WordDef is broken
04:10:33 <Marvin--> that should probably be a type
04:10:58 <eshu> oh, crap, that was silly
04:11:04 <eshu> thanks
04:12:39 <Marvin--> first rule in debugging: line references should be taken with a grain of salt, they're often +/-1 off :)
04:12:39 <eshu> though, it was saying that line 9 had the illegal data declaration
04:12:44 <eshu> ahh
04:13:01 <goron> eshu: Was it line 9:0?
04:13:20 <Marvin--> it doesn't give a column number
04:13:29 <eshu> nope
04:13:53 <pesco> eshu: Also, it probably didn't say line 9 had an illegal data declaration, but that it wasn't expecting the word "data" there. That's an important difference.
04:14:10 <goron> Marvin--: All the errors I get have column numbers I thought. Maybe it's new in ghc-6.3
04:14:23 <Marvin--> oh, neat
04:14:26 <Marvin--> let me see
04:14:48 <Marvin--> actually, my ghci-cvs says  FData.hs:7:15: parse error in data/newtype declaration
04:15:02 <Marvin--> which is a dramatic improvement
04:15:08 <pesco> Yeah, that's good.
04:15:23 <goron> FData.hs:7:24: parse error in data/newtype declaration
04:15:34 <goron> You see? It's a lot better
04:15:54 <goron> Marvin--: I didn't read your post...
04:17:35 <goron> Now we have a good compiler, all we need is a good editor, with real time types, type checking, value calculation where possible, syntax highlighting (with a parser), and intergration. 
04:18:08 <goron> /s/intergration/integration
04:20:03 <goron> Did any of you guys ever get Proxima to compile on Linux?
04:20:22 <goron> http://www.cs.uu.nl/research/projects/proxima/
04:21:14 <Marvin--> *argh* ghc-pkg is *way* too picky
04:25:20 <Marvin--> `/usr/lib/gtk2hs/gtk2/hi' doesn't exist or isn't a directory
04:25:27 <Marvin--> YOU SHOULDN'T CARE, YOU STUPID GHC-PKG
04:25:54 * Marvin-- brings out the --force sledgehammer
04:26:13 <pesco> Woah, that's a nice "under construction" sign they have!
04:26:18 <pesco> (The proxima website)
04:27:29 <Marvin--> heh
04:29:14 <Marvin--> I think it's hard to make a decent xml editor that's as fast to use as a text editor
04:31:18 <Marvin--> I've never been a big fan of xml, but I really like xpath
04:33:13 <goron> Marvin--: HaXML isn't that 1000 times better than any standard?
04:36:04 <Marvin--> I haven't used HaXML... I've fiddled a bit with HXmlToolbox but never got it to work
04:36:23 <sazzle> BA
04:36:26 <sazzle> oops
04:38:03 <Marvin--> BAh? :)
04:40:00 <sazzle> trying to switch virtual desktops, except i was in windows
04:40:21 <sazzle> so alt+f2 appears as B .. and so on
04:40:26 <Marvin--> heh
04:40:30 <sazzle> then i accidentally pressed enter
04:51:11 <Marvin--> okay, it seems like my hack is working, now if only #224450 would be fixed, I'd be all happy
04:56:30 <Marvin--> "the IOC is barring competitors, coaches, and support personnel from writing firsthand accounts of their Olympic experience, on the web or in print, for the duration of the Games. Nor are they allowed to ever post photographs or movies that they've taken, including media of themselves, even after the Games are finished."
04:56:31 <Marvin--> sheesh
05:11:10 <shapr> Marvin--: in other news the DMCA has filed for citizenship, and is claiming exclusive copyright on everything the US has ever produced.
05:12:25 <pesco> cptchaos: Moin!
05:12:37 <cptchaos> moin pesco
05:13:11 <cptchaos> oh, lunchtime ...
05:13:20 <pesco> Uh. :)
05:26:17 <goron> This shouldn't happen...
05:26:19 <goron> Fatal error (11).Segmentation fault
05:26:31 <goron> In emacs21...
05:26:36 <pesco> You're right.
05:26:53 <goron> Where are the people that *can* build software :?
05:27:12 <goron> Are they in Redmond?
05:27:14 * pesco shrugs.
05:28:03 <Marvin--> I wonder how long before micros~1 will claim to have invented everything
05:28:58 <goron> Marvin--: I know they didn't invent anything useful (ghc is an exception).
05:29:19 <goron> But don't you experience a lot of software that breaks, like too soon?
05:31:19 <goron> Or is it just me? I even let ghc crash a couple of times. Simon fixed it, but still...
05:31:47 <Marvin--> software crashes, it's just too time consuming to make software that doesn't crash
05:32:03 <Marvin--> yay, my gtk2hs debs seem to be working
05:32:19 * pesco listens for the crash...
05:33:06 <Marvin--> ghc --make GladeTest.hs -package glade
05:33:15 <Marvin--> now we can get serious about making GUIs :-)
05:34:30 <goron> Marvin--: Did you port Glade to Haskell?
05:35:03 <Marvin--> no
05:35:09 <Marvin--> but the gtk2hs people have written a binding
05:35:16 <Marvin--> and I've made debian packages of it
05:35:28 <norpan> interesting
05:35:47 <norpan> how have they solved the typing of the getwidget? Dynamic?
05:36:01 <Marvin--> to be honest I don't know
05:36:05 <Marvin--> I suspect they haven't
05:36:14 <pesco> *G*
05:36:15 <goron> Don't blame the packages :)
05:36:19 <goron> Don't blame the packager :)
05:36:39 <pesco> Wow, how does documentation get so _long_!
05:37:41 <Marvin--> they have some weird casting functions
05:37:45 <Marvin--> Fail: Cannot cast object to Button.
05:37:53 <Marvin--> you can probably catch that with Control.Exception.catch
05:38:13 <pesco> Hehe "Fail: Cannot cast function in Iron."
05:39:15 <norpan> oh, they have a class called WidgetClass
05:39:24 <norpan> of course
05:39:31 <goron> Is it possible to get a buffer overflow in any way with a program compiled with ghc? 
05:40:15 <norpan> not if you only use safe functions
05:40:30 <pesco> The FFI exposes all the dark pointer magic you want.
05:40:53 <goron> Ok, so that runs out of the RTS?
05:41:28 <norpan> unless there is a bug in the compiler, that is :)
05:41:41 <norpan> goron: yeah, you can call arbitrary code
05:42:17 <goron> norpan: Ok, that's great considering the fact I don't use FFI @ the moment...
05:42:40 <Marvin--> catchJust errorCalls (xmlGetWidget dialogXml castToButton "window1" >>= (`onClicked` putStrLn "foo") >> return ()) putStrLn
05:42:43 <Marvin--> seems to work fine
05:43:12 <Marvin--> you don't have to use the FFI directly to get into trouble
05:43:31 <pesco> goron: The RTS cannot check bounds it doesn't know. It would be a bit harsh to check every memory access against a map of allocated memory and associated owners.
05:43:33 <Marvin--> there's the Foreign module :)
05:43:57 <pesco> I'd say module Foreign is part of the FFI.
05:44:02 <Marvin--> @type Foreign.Marshal.Alloc.malloc
05:44:03 <lambdabot> Foreign.Marshal.Alloc.malloc :: forall a.
05:44:03 <lambdabot> 				(Foreign.Storable.Storable a) =>
05:44:03 <lambdabot> 				IO (GHC.Ptr.Ptr a)
05:44:08 <Marvin--> yeah I suppose
05:44:34 <Marvin--> my point is that you don't have to use "foreign import" to shoot yourself in the foot
05:44:41 <pesco> That's true.
05:46:21 <pesco> Once one has gotten used to a "safe" language like Haskell, Bugtraq becomes hilarious.
05:47:39 * Marvin-- compiles FileChooserDemo.hs
05:47:48 <Marvin--> sweeeet
05:48:34 <Marvin--> using the onXYZ signal connectors infix is really neat
05:48:47 <Marvin-->   saveFileButton <- xmlGetWidget dialogXml castToButton "saveFileButton"
05:48:47 <Marvin-->   saveFileButton `onClicked` openSaveFileDialog mainWindow
05:49:32 <goron> Marvin--: Well, the IO monad is also dangerous...
05:50:09 <Marvin--> of course it is
05:51:07 <cptchaos> pesco: I still haven't started to write the network code ... but I will soon (I hope)
05:51:20 <pesco> cptchaos: Ok. Take your time! :)
05:51:26 <goron> Marvin--: Well, but if you just put a link of servers(of different OSes) behind eachother, you can make it rather hard to attack the program... 
05:51:32 <pesco> cptchaos: Do you need a command line parser btw?
05:51:53 <pesco> cptchaos: I have one, if you need one! Real cheap!
05:52:09 <cptchaos> pesco: yes, soon
05:52:21 <cptchaos> pesco: where?
05:52:31 <goron> Bidding starts @ 0$....
05:55:49 <Marvin--> command line parser? what's wrong with System.Console.GetOpt?
05:56:18 <pesco> cptchaos: On my glorious website (Many thanks to shapr!) at http://www.scannedinavian.org/~pesco/
05:56:36 <pesco> Marvin--: It's too complicated.
05:57:12 <Marvin--> you think?
05:57:18 <Marvin--> I think it's quite simple to use
05:57:34 <cptchaos> pesco: glorious, indeed!
05:57:47 <pesco> Yes. It is simple to use. But still to complicated, on a very small scale.
05:59:46 <pesco> cptchaos: Thanks. ;-)
06:00:08 <pesco> cptchaos: Hit reload, you'll find a doc link for the cl parser.
06:00:20 <Marvin--> argh, .xweb? you're insane
06:00:32 <pesco> Marvin--: Why, thank you!
06:00:50 <cptchaos> pesco: ok
06:01:40 <pesco> Marvin--: I'll have to put the tangle stylesheet somewhere there, but haven't gotten around to it.
06:04:18 <goron> pesco: Docs look nice... I like docs...It shows that the people who wrote the software actually cares about it...
06:04:28 <pesco> :)
06:09:01 <goron> /s/cares/care
06:09:09 <pesco> I want to find a way to provide the tangled .hs files on the site without putting them under version control.
06:09:17 <pesco> And I'd like it to be the right way, of course.
06:09:54 <pesco> And just uploading them by hand every time seems pretty wrong. Uploading them with a script sounds pretty strange too.
06:10:52 <pesco> Probably, I want a script on the server to automatically generate them somehow.
06:18:59 <Marvin--> some rewrite magic that maps foo.hs to some cgi script that calls xsltproc?
06:21:42 <pesco> Marvin--: Yes, that's the idea.
06:22:03 <pesco> Marvin--: Oh, apache rewrite magic, you mean? I hadn't thought about that.
06:22:17 <Marvin--> mod_rewrite :-)
06:22:28 <pesco> Hm. *ponder*
06:22:45 <pesco> I'm not familiar with apache and its modules.
07:35:12 <pesco> Wooh, this is getting cool.
07:35:26 * pesco scribbles some unit tests.
07:37:53 <Marvin--> what're you up to?
07:39:01 <pesco> Oh, I just had to try out how to break the "Unit Tests" section out into its own xweb file that is still woven into the same PDF thouh.
07:39:32 <Marvin--> heh
07:39:43 <pesco> It works as one would expect, but I wasn't sure it would. I don't trust my XML skills that much yet.
08:40:00 <pesco> What, why is there no assertException in HUnit?!
09:21:19 <pesco> Hm, what are generalised data types!?
09:22:19 <Smerdyakov> Well, aren't _you_ exclamatory today!
09:22:28 <Marvin--> http://research.microsoft.com/~simonpj/papers/gadt/index.htm
09:22:58 <pesco> I see.
09:23:12 <pesco> Smerdyakov: ?
09:23:43 <pesco> "wobbly types". Great.
09:24:53 <Smerdyakov> pesco, your sentence ended with "!?", and your previous with "?!".
09:25:30 <pesco> Ah, true. :)
09:27:05 <goron> Smerdyakov: You have to remove something about #haskell from the Haskell wiki. 
09:27:48 <Smerdyakov> goron, _I_ have to?
09:29:04 <goron> Smerdyakov: no
09:29:50 <goron> Smerdyakov: I thought it was no longer relevant and only exposes negativity...
09:30:10 <Lemmih> Location?
09:30:13 <Smerdyakov> goron, well, I think shapr deserves negativity about it, at the least; and you can remove it yourself if you feel its appropriate.
09:31:07 <goron> Smerdyakov: ok, never mind it then.
09:31:52 <Smerdyakov> I still think shapr should switch owner status of this channel to someone else, since he has shown he is not able to act appropriately.
09:32:23 <goron> What makes him owner anyway? Is it the first guy who enters the channel?
09:32:32 <Smerdyakov> He registered it.
09:33:23 <goron> With freenode?
09:36:01 <Smerdyakov> Yes
09:37:18 <Marvin--> Haskell gets wobbly types, whereas #haskell gets squabbly types
09:38:40 * Riastradh squabbles with Marvin--'s statement.
09:38:59 <Riastradh> I disagree, you communist wobbly!
09:39:41 <Marvin--> :-/
09:40:10 <roconnor> squabbles?
09:41:43 <pesco> goron, Smerdyakov: What are you talking about wrt. Haskell Wiki?
09:42:26 <Riastradh> @wiki HaskellChannelPeople
09:42:27 <lambdabot> http://www.haskell.org/hawiki/HaskellChannelPeople
09:45:04 <pesco> Ok.
09:49:55 <goron> Smerdyakov: When were you kicked off the channel? I would like to read why shapr did it.
09:51:40 <Philippa_> Smerdyakov: a lot depends on your definition of "act appropriately"...
09:52:09 <roconnor> Title search for "wobbly"
09:52:12 <roconnor> 0 hits out of 513 pages searched.
09:52:25 <Philippa_> goron: you could ask shapr
10:09:08 <pesco> @index evaluate
10:09:10 <lambdabot> Debug.QuickCheck,Control.Exception
10:19:15 <norpan> @index unsafePerformIO
10:19:15 <lambdabot> Graphics.Rendering.OpenGL.GL.Extensions,Foreign,GHC.IOBase,System.IO.Unsafe
10:19:22 <norpan> oj
10:58:05 <Marvin--> SyntaxLaptop: hey... er.. how do I upload to H-E again? :)
11:08:36 <thebug> I got 404 on syntaxpolice.org today while trying apt-get update
11:09:57 <SyntaxLaptop> Marvin--: you can't right now.
11:10:09 <SyntaxLaptop> yeah, we're moving it.
11:10:25 <SyntaxLaptop> Marvin--: we have to set it up on alioth
11:11:50 <SyntaxLaptop> OK, but you shouldn't get a 404 anymore...
11:12:03 <SyntaxLaptop> sadly, alioth was down a few minutes ago when I was looking :(
11:12:49 <SyntaxLaptop> as usual
11:14:29 <Marvin--> oh
11:14:34 <Marvin--> yeah alioth has problems
11:14:39 <Marvin--> I think it was an ldap problem
11:14:50 <thebug> yep, no 404 now
11:15:12 <Marvin--> I put some experimental gtk2hs packages on http://people.debian.org/~sjogren/haskell/gtk2hs/
11:16:13 <Marvin--> SyntaxLaptop: you might want to check out the mk-haskell-deps script and see if it's something you can use for wxhaskell
11:16:30 <Marvin--> let me put that up separately
11:17:19 <Marvin--> http://people.debian.org/~sjogren/haskell/mk-haskell-deps
11:22:35 <SyntaxLaptop> accursed alioth
11:23:02 <SyntaxLaptop> thebug: we'll get a 404 again soon, though. once my new dns propogates.
11:27:10 <SyntaxLaptop> Marvin--: thanks. i'll look at that.
11:29:10 <thebug> SyntaxLaptop: no worries, I've done my updating for the day :)
11:29:21 <SyntaxLaptop> nothing there has changed for a while anyway...
11:29:23 <thebug> thanks for hosting HE though
11:29:57 <thebug> meant I was able to go from woody's ghc6 to 6.2.1
11:29:59 <SyntaxLaptop> no problem. alioth is a debian server, so we're moving it there. that should make everything a bit easier, in theory.
11:33:23 <Marvin--> in theory :)
11:48:08 <Marvin--> haskell-*unsafe*?
11:49:02 <SyntaxLaptop> hehe
11:49:04 <SyntaxLaptop> igloo's idea
11:49:09 <SyntaxLaptop> experimental was too long
11:49:17 <Marvin--> unsafePerformHaskell
11:49:39 <thebug> unsafePerformApt-Get
11:49:51 <thebug> without the - of course :)
11:50:26 <SyntaxLaptop> haha
11:50:56 <Marvin--> SyntaxLaptop: do you have any plans of debianizing HUnit, or should we wait for ghc 6.3?
11:51:19 <SyntaxLaptop> hm. idono, it would be really really easy.
11:51:32 <musasabi> When will ghc 6.3 be out and what changes will it have?
11:51:35 <Marvin--> it's kinda embarassing that ounit is in debian, but not hunit ;)
11:51:53 <Marvin--> the OUnit description even mentions HUnit
11:52:04 <SyntaxLaptop> for me it's always kinda been like, I won't let myself package HUnit until I finished Cabal ;) 
11:52:10 <SyntaxLaptop> actually, I made hunit debs over a year ago.
11:52:20 <Marvin--> feh
11:52:33 <pesco> SyntaxLaptop: Oh, you're the author of HUnit?
11:52:37 <SyntaxLaptop> pesco: nono
11:52:44 <pesco> Oh ok.
11:52:48 <pesco> Sounded like it.
11:53:03 <SyntaxLaptop> no, we're just talking about packaging it for debian.
11:53:19 <SyntaxLaptop> I'll bbiab, going for a run
11:53:20 * SyntaxLaptop &
11:56:01 * Marvin-- eagerly awaits Sweden's first gold medal in Athens
12:06:31 <musasabi> any reason the library has no withHandle :: FilePath -> IOMode -> (Handle -> IO a) -> IO a
12:07:36 <jadrian> I haven't looked at HUnit yet, is it an alternative to QuickCheck?
12:07:47 <jadrian> or different purpose?
12:09:35 <musasabi> Is Control.exception.bracket the way to go?
12:09:52 <Marvin--> jadrian: HUnit is a library for unit testing
12:10:04 <Marvin--> jadrian: much in the spirit of SUnit
12:10:30 <Marvin--> musasabi: yes
12:10:48 <jadrian> Marvin--: right
12:12:19 <Marvin--> yay, gold medal for Sweden
12:12:39 <musasabi> thanks.
12:12:54 <thebug> which event, Marvin--?
12:13:40 <Marvin--> thebug: heptathlon
12:14:11 <thebug> cool!
12:14:15 <Marvin--> as expected, Carolina KlÃ¼ft crushed all opposition :)
12:15:31 <thebug> I think I need to move to UTF-8 xterms from now on
12:15:57 <Marvin--> heh
12:15:59 <Marvin--> you do that ;)
12:16:02 <thebug> I doubt she has a 'A~1/4' in the middle of her name :)
12:16:27 <thebug> I could be wrong though, that certainly would be a 'unique' name
12:16:30 <Riastradh> It's a new trend in Swedish names, thebug.
12:17:02 <Riastradh> You add random accents and numeric expressions in the middle.
12:17:05 <thebug> heh
12:17:28 <musasabi> withFile f m = bracket (openBinaryFile f m) hClose
12:17:38 <thebug> the&e2/5b|ug
12:17:40 <Riastradh> E.g., Bjorn Sp3.14159ék.
12:18:29 <Marvin--> 3.14159, hah
12:18:47 <thebug> Pi is equal to 3 ! </blasphemy>
12:18:59 <Marvin--> thebug: Kluft, but with umlaut on the u
12:19:11 <Marvin--> thebug: was that more legible? :)
12:19:15 <thebug> Marvin--: indeed ;)
12:19:16 <Riastradh> Klüft works better than that UTF-8 junk.
12:19:32 <thebug> hey! now that works
12:19:44 <thebug> so who's using which encoding?
12:19:57 <Riastradh> I don't know what encoding I'm using, but it works!
12:20:02 <thebug> :)
12:20:32 <thebug> doubt it's UTF-8 then ... from what I gather it's a minor pile of work to convince things that yes, you really -do- want to do utf-8
12:23:40 <Marvin--> thebug: really? I find that it works really well in gnome
12:28:06 <thebug> I don't use gnome, so I've not had that experience :)
12:29:26 <Marvin--> well, unless you use crummy applications, setting LANG=something.UTF-8 is usually all it takes
12:29:48 <thebug> I'll have to try that out
12:30:14 <thebug> where do I figure out what 'something' is? is that just your locale, like en_US, or something?
12:30:15 <Marvin--> where 'something' has to be a valid locale, obviously
12:30:53 <Marvin--> you're on Debian, right? dpkg-reconfigure locales and make sure you have en_US.UTF-8 generated
12:31:01 <thebug> yep, Debian
12:31:29 <thebug> good call, I -know- I haven't generated that, now that I think of it :)
12:33:34 <bugutf8> Marvin--: perhaps you could type that woman's name in again?
12:33:53 <Marvin--> KlÃ¼ft ;)
12:34:00 <bugutf8> cool :)
12:34:11 <Marvin--> and my surname is SjÃ¶gren
12:34:22 <bugutf8> indeed it is, with the o:
12:35:16 <goron> I also get weird charactars, although I have done unicode-start...
12:35:38 <goron> In my localed I use some UTF-8 encoding...
12:35:42 <goron> In my locales I use some UTF-8 encoding...
12:36:40 <bugutf8> Marvin--: happen to know what I'd do to generate those locales on woody? I don't seem to have a 'locales' package on one of my systems
12:37:10 <TheHunter> i kinda expected that setting utf8 encoding would mess up the rest of the line if you used iso umlauts but somehow that's not happening
12:37:11 <goron> Marvin--: I have the nl utf8, or doesn't that work?
12:37:35 <Marvin--> bugutf8: locales should be available in woody too, have you tried apt-get:ing it?
12:37:50 <bugutf8> ah, there it is
12:38:31 <Marvin--> goron: nl_NL.UTF-8 should work, provided it's generated, and you've set LANG properly
12:38:51 <Marvin--> goron: but you'll have to set LANG *before* starting xterm (if that's what you're using)
12:39:13 <Marvin--> try running  LANG=nl_NL.UTF-8 xterm
12:39:49 <goron> Marvin--: Ok, I didn't set LANG. 
12:40:03 <thebug> there's no problem with setting $LANG in .bash_profile or somewhere similar, is there?
12:40:16 <Marvin--> no, shouldn't be
12:40:26 <goron> I use another terminal, but that doesn't matter.
12:40:54 <Marvin--> though before I used gnome I set it from .xsession so it would be ever-present
12:41:26 <goron> But I choose some utf to be the system default, I mean why am I doing that?
12:42:11 <Marvin--> I'm not very good at debugging these things, sorry :/
12:42:14 <thebug> oops, duh ... I need to remember to export a variable after setting it ... hehe
12:42:42 <goron> In dpkg-reconfigure you have to say which one you want to have a system default. I really can't stand this logic...
12:43:55 <goron> Are you using your native language? 
12:44:50 <thebug> eh?
12:45:57 <Marvin--> goron: what logic is it you can't stand?
12:46:30 <Marvin--> (and no, I leave the system default as None on my machines)
12:47:20 <Marvin--> but I always make LANG=sv_SE.UTF-8, so I get messages and everything in Swedish
12:47:48 <Marvin--> if you want English messages, make LANG=nl_NL.UTF-8 and LC_MESSAGES=C
12:55:19 <goron> Marvin--: If I say that I want some utf as system default, I want that it has any effect. 
12:56:07 <Marvin--> well, yeah, I don't know what's wrong, I'm sorry
12:56:26 <Marvin--> I don't know how the "system default" thingy works
12:57:06 <pesco> I think it's just a matter of setting the right locale variable to the right vale.
12:57:07 <Marvin--> I think it sets /etc/environment
12:57:09 <thebug> I believe it just provides a default instead of LANG=C for anyone who doesn't explicitly pick a LANG/LC_MESSAGES setting
12:57:09 <pesco> value.
12:58:08 <Marvin--> but I don't know when that file is read
12:58:27 <pesco> I think UTF-8 locale strings look like en_US.UTF-8, is that right?
12:59:00 <Marvin--> yes
12:59:09 <Marvin--> or nl_NL.UTF-8 in goron's case
12:59:15 <pesco> Right.
13:02:40 <Marvin--> ooh, American Beauty on tv
13:05:52 <goron> Can someone send some utf charactar (not the first 127 please)?
13:06:09 <goron> /s/ar/er
13:06:12 <pesco> Î»
13:06:39 <pesco> That's unfriendly. ;-)
13:07:15 <goron> And again?
13:07:30 <pesco> Î›
13:07:48 <goron> It's just not working... I get two squares...
13:08:41 <goron> echo $LANG
13:08:42 <goron> nl_NL.UTF-8
13:09:00 <goron> Nothing seems wrong.
13:09:12 <pesco> Run locale and check the other facets.
13:09:26 <Marvin--> are you sure it's been generated and that you use a unicode-aware terminal emulator with unicode-aware font?
13:09:55 <ustenzel> goron: if you use xterm, you have to start xterm with -u8 or set some Xresource
13:10:12 <goron> pesco: I never have runned locale... is that necessary?
13:10:12 <Marvin--> I think recent xterms properly detects if it's under a unicode locale
13:10:26 <Marvin--> locale just shows you your locale settings
13:10:27 <ustenzel> goron: or teach irssi how to convert charsets; there should be some perl skript to do that.
13:10:31 <pesco> goron: It's just an informative command that tells you the values of all local facet.s
13:10:43 <pesco> ustenzel: Gah!
13:11:03 <ustenzel> pesco: did i use the p word?  damn...
13:11:08 <goron> nl_NL.UTF-8
13:11:09 <goron> ron@zonnebloem:~$ locale
13:11:09 <goron> LANG=nl_NL.UTF-8
13:11:09 <goron> LC_CTYPE="nl_NL.UTF-8"
13:11:09 <goron> LC_NUMERIC="nl_NL.UTF-8"
13:11:10 <goron> LC_TIME="nl_NL.UTF-8"
13:11:13 <goron> LC_COLLATE="nl_NL.UTF-8"
13:11:15 <goron> LC_MONETARY="nl_NL.UTF-8"
13:11:18 <goron> LC_MESSAGES="nl_NL.UTF-8"
13:11:20 <goron> LC_PAPER="nl_NL.UTF-8"
13:11:23 <goron> LC_NAME="nl_NL.UTF-8"
13:11:25 <goron> LC_ADDRESS="nl_NL.UTF-8"
13:11:28 <goron> LC_TELEPHONE="nl_NL.UTF-8"
13:11:31 <goron> LC_MEASUREMENT="nl_NL.UTF-8"
13:11:32 <pesco> goron: Make sure you set the locale in the environment of the _terminal_. It's not enough for your irssi (or whatever) to know...
13:11:33 <goron> LC_IDENTIFICATION="nl_NL.UTF-8"
13:11:36 <goron> LC_ALL=
13:11:44 <pesco> Ah, we get the point.
13:12:33 * goron does Terminal->Set Charactar Coding lol
13:13:03 <goron> Anyone to send me a nice utf string?
13:13:19 <Marvin--> Ã¥Ã¤Ã¶
13:13:48 <goron> That were three a's with weird stuff above them?
13:13:58 <Marvin--> yes ;)
13:14:11 <Marvin--> if by weird stuff you mean a ring and two umlauts
13:14:17 <goron> yes
13:14:32 <goron> Thanks, guys... 
13:16:13 <Marvin--> argh, now this is getting hard
13:16:16 <pesco> âˆ€Î±. String â†’ Î±
13:16:31 <Marvin--> olympics on one channel, Se7en on another, and American Beauty on a third
13:17:38 <pesco> Marvin--: Do you have true parallelism in your TV set or do you non-deterministically interleave frames?
13:18:06 <Marvin--> feh
13:30:22 <jadrian> true parallellism would be Marvin taking advantage of 3 tvs...
13:36:42 <Marvin--> I'm not sure "taking advantage of" is the best expression to use while I'm watching American Beauty, thank you very much ;)
13:43:59 <jadrian> lol
14:04:59 <goron> pesco: That's really neat :)
14:05:18 <pesco> goron: What, the unicode stuff?
14:05:44 <goron> pesco: Yes, how did you do it?
14:06:22 <pesco> With the Mac OS character palette. ;)
14:06:56 <goron> pesco: Well, I think it's great :)
14:07:07 <pesco> I think so, too.
14:10:18 <goron> pesco: âˆ°
14:10:28 <pesco> chrrr.
14:10:37 <goron> In Linux I have the great Charactar Map :)
14:10:58 <pesco> Yes, I believe its very similar to the one in Mac OS.
14:11:48 <Marvin--> ØªØµÙ‚Øª
14:12:18 <pesco> Unicode is amazing.
14:12:21 <Marvin--> right-to-left languages in gtk2/gnome is creepy
14:12:33 <pesco> How so?
14:12:33 <goron> Marvin--: I don't have those...
14:12:50 <Marvin--> I paste some arabic into xchat and all of a sudden the text is right-justified and End moves to the left and Home to the right :-)
14:12:59 * jadrian would like to be able to use Unicode in haskell :-/
14:13:01 <pesco> Awesome!
14:13:24 <jadrian> ascii/isolatin coding sucks :)
14:13:40 <goron> jadrian: There is a Unicode module.
14:13:51 <jadrian> goron: there is?
14:13:57 <goron> jadrian: But probably it sucks...
14:13:57 <jadrian> goron: didn't know about that
14:14:03 <jadrian> oh :)
14:14:08 <goron> I will look it up...
14:14:25 <goron> http://www.haskell.org/ghc/docs/latest/html/libraries/base/GHC.Unicode.html
14:14:42 <pesco> jadrian: I've made a little script to convert Unicode chars to some ASCII form.
14:15:09 <pesco> jadrian: It uses a UTF-8 codec I also made.
14:15:17 <jadrian> pesco: nice
14:15:22 <pesco> Let me dig up the URL.
14:15:33 <jadrian> pesco: another approach would be using something like X-Symbol
14:15:39 <jadrian> for xemacs 
14:15:46 <pesco> jadrian: I don't know what that is.
14:16:02 <pesco> shapr: What's the URL for the haskell-libs repo?
14:16:16 <jadrian> pesco: it does plenty of stuff
14:17:42 <jadrian> pesco: you can use X-Symbol to define a grammar for enconding/deconding non ASCII symbols into ASCII
14:17:54 <pesco> Here, this works: http://cvs.sourceforge.net/viewcvs.py/haskell-libs/libs/text/
14:18:09 <pesco> jadrian: Ok, that's an option then. It's basically what that script does.
14:18:21 <pesco> It's in UnicodeSrc.lhs.
14:18:26 <jadrian> pesco: this will work with X-Emacs buffer directly though
14:18:41 <pesco> Right.
14:18:42 <goron> Why don't we have Unicode support anyway? How hard can it be to use some lib and link it via FFI to Haskell?
14:18:52 <jadrian> pesco: so you can enable/disable in "run time"
14:19:14 <pesco> I don't know why there is no UTF-8 input support in GHC or Hugs.
14:19:22 <jadrian> pesco: you can also do other stuff like have it decoding ascii strings to simbols on the fly
14:19:35 <Marvin--> I think it's mostly because nobody's gotten around to it
14:19:36 <jadrian> pesco: so in LaTeX if you type \alpha it will display an alpha
14:19:37 <pesco> jadrian: Oh, that is cool.
14:19:58 <jadrian> pesco: It is used by proof general for instance
14:20:28 <jadrian> pesco: proof general is an Xemacs interface that works with stuff like Isabelle (Theorem prover)
14:20:41 <jadrian> pesco: this could be really nice for haskell too
14:21:12 <jadrian> pesco: http://proofgeneral.inf.ed.ac.uk/images/pg-isa-screenshot.png
14:21:44 <jadrian> pesco: by the way on the upper buffer you could have the ^ symbol instead of && too
14:22:15 * jadrian bookmarks pescos url
14:22:45 <pesco> That UTF-8 codec I wrote was made for the haskell-i18n effort specifically. It's originally in the haskell-i18n repository and was cross-imported to that haskell-libs dir.
14:23:05 <jadrian> right
14:23:39 <pesco> I wish someone would pick it up and plug it into GHC.
14:23:46 <pesco> Maybe I should send them an email.
14:24:04 <jadrian> pesco: yes, try the ghc mailing list
14:24:11 <Marvin--> or libraries@h.o
14:24:24 <Marvin--> a general Data.Unicode library would be great
14:26:09 <jadrian> I don't know how it is there, but one funny thing I notice all the time here
14:27:10 <jadrian> is that when it comes to decide wether your doing math or not
14:27:23 <jadrian> to many people, the way it looks counts a lot
14:29:01 <Marvin--> your point being? :)
14:29:16 <jadrian> it's just a fact :)
14:29:28 <jadrian> I just find it funny
14:30:12 <jadrian> too much ASCII usually implies dirty computer stuff
14:30:47 <jadrian> on the other hand if you have some greek letters and some generic operation symbols it suddenly becomes math
14:33:22 <SyntaxLaptop> Marvin--: what's the procedure for accepting an rfp?
14:34:38 <SyntaxLaptop> oh, nm, found it
14:34:57 <Marvin--> jadrian: let me quote Riastradh ;)
14:35:01 <Marvin--> <Riastradh> There's no Greek letter for it that I can confuse people with?
14:35:09 <Marvin--> SyntaxLaptop: you just retitle it to itp
14:35:38 <Marvin--> SyntaxLaptop: what are you packaging?
14:36:15 <Marvin--> oh, there's an rfp for wxhaskell
14:36:33 <jadrian> Marvin--: lol :)
14:37:53 <SyntaxLaptop> Marvin--: yeah, it's wxhaskell.
14:39:21 <Marvin--> I guess I should think up a better description of gtk2hs and file an itp
14:40:31 <Marvin--> right now it's "Feh. More text here."
14:51:03 <pimpbot5000> is markus forsberg here?
15:38:17 <barli> how can i see what functions are supported for e.g. String type?
15:38:53 <Lemmih> eh?
15:39:39 <Lemmih> You wanna know about all functions which takes a string as an argument?
15:40:03 <barli> yes. in the prelude
15:40:46 <np_hard> grep ?
15:40:46 <barli> you see in java for instance this is very easy to do.
15:40:50 <Cale> These are mostly the ones which act on lists.
15:41:06 <Cale> But what are you actually trying to accomplish?
15:41:07 <Marvin--> barli: it is?
15:41:25 <barli> yes there all those functions are organized in a class.
15:41:26 <Lemmih> barli: String is a type, not a class.
15:41:42 <barli> types, classes...same shit different name...
15:41:58 <Marvin--> barli: but that only gives you the methods in the class String, not methods in other classes that take Strings as arguments
15:42:20 <Lemmih> Not really. Haskell is not an OO langauge. Classes in haskell are used for overloading.
15:42:40 <barli> ok, so same name different shit?
15:43:07 <Lemmih> Same name, different methodology.
15:43:14 <SamB> well, they are called type classes, really
15:43:30 <barli> for instance i want to check if a character is uppercase. how to do this?
15:43:48 <Marvin--> import Data.Char (or Char) and use isUpper
15:44:04 <barli> ok, but how did you know that?
15:44:26 <Marvin--> http://www.haskell.org/ghc/docs/latest/html/libraries/index.html
15:44:46 <SamB> someone really ought to make a search-by-type tool!
15:45:02 <Marvin--> tricky
15:45:18 <Marvin--> but fun
15:45:19 <barli> Marvin--: is this an extension to haskell98?
15:45:52 <Marvin--> barli: Char is a standard haskell98 module, Data.Char and the hierarchical libs is an extension supported by all major implementations
15:47:47 <barli> i'm using hugs. isUpper seems to be supported without the need to import Data.Char
15:47:56 <Marvin--> yes, hugs is kinda broken that way
15:48:12 <barli> broken?
15:48:27 <Marvin--> isUpper is supposed to be in Char, not the Prelude, according to Haskell98
15:48:51 <Marvin--> you have no idea how many programs fail in ghc because the author used hugs and didn't know of this :)
15:49:02 <barli> ok.and i even made sure i was using haskell in haskell98 mode!
15:49:13 <barli> hugs i mean
15:50:46 <Marvin--> well guys, I'm off to bed
15:50:56 <Marvin--> 'night
15:51:07 <barli> yes, sleep tight...
16:13:59 <roconnor> how can I learn how Haskell compilers work?
16:15:36 <Riastradh> Read their source.
16:15:51 <roconnor> hmmmm
16:16:26 <roconnor> that doesn't immediately strike me as the best place to start.
16:16:44 <Riastradh> Browse Citeseer.
16:18:33 <roconnor> okay
16:20:36 <roconnor> Non-strict languages -- programming and implementation
18:32:02 <jpgil-cl> shapr?
19:01:26 <dons> roconnor: you could read "Implementing Functional Languages : a tutorial" by Peyton Jones. 
19:02:23 <dons> Also, after that, "Implementing Lazy Functional Languages on Stock Hardware : the Spineless Tagless G-machine", Peyton Jones
19:47:10 <jpgil-cl> helium .. ghc ... it's possible to write, debug and test in helium, then pass to code to GHC ?
20:23:15 <Smerdyakov> Probably, if you use the subset of Haskell98 that Helium supports.
20:24:21 <jpgil-cl> Now that I read a bit, the phase Helium -> GHC is always supported, but it's not true in the opposited way.
20:24:30 <Smerdyakov> There are probably expressions that have ambiguous type for GHC that don't for Helium, though.
20:24:32 <Smerdyakov> Like: 0
20:24:47 * jpgil-cl takes notes
20:25:07 <Smerdyakov> Do you know about type classes?
20:25:09 <jpgil-cl> Why ambiguos? 0 is Int, 0.0 is Float, isn't?
20:25:36 <jpgil-cl> I only know that at least in Helium I must forget about type classes.
20:25:44 * jpgil-cl is a really newbie
20:25:45 <Smerdyakov> No.
20:25:51 <dons> I remember a while back that the helium people were trying to generate Core, so they could use GHC's optimisations and backend. So there might be some conveninent way to hook them together
20:26:05 <Smerdyakov> I believe there is a type class for integers.
20:26:08 <Smerdyakov> 0 can have any type in this class.
20:26:39 <Smerdyakov> Or, so I thought.
20:26:48 <Smerdyakov> I know some constants are type-classed, at least.
20:27:30 <dons> @type 0
20:27:31 <lambdabot> 0 :: forall t. (Num t) => t
20:28:57 <Smerdyakov> Vindicated!
20:29:07 <dons> :)
20:29:56 <jpgil-cl> Humm... that means... that 0 is of class Num, and can be any type, like Int or Float?
20:30:35 <dons> @type 0.0
20:30:36 <lambdabot> 0.0 :: forall t. (Fractional t) => t
20:31:21 <jpgil-cl> In Helium->   Prelude> :t 0
20:31:21 <jpgil-cl> 0 :: Int
20:31:32 <dons> @type (0 :: Int)
20:31:34 <lambdabot> (0 :: Int) :: Int
20:32:44 <dons> so if you constrain your constants to be Int, then you get the same behaviour as Helium, probably
20:33:06 <jpgil-cl> Prelude> :t 0.0
20:33:06 <jpgil-cl> 0.0 :: Float
20:33:17 <dons> @type (0.0 :: Float)
20:33:18 <lambdabot> (0.0 :: Float) :: Float
20:33:19 * jpgil-cl is transcribing from "texthint"
20:38:04 <dons> jpgil-cl: did you find out if Helium has a GHC backend? or does it have to be done manually?
20:38:35 <jpgil-cl> I really don't know.
20:38:47 <jpgil-cl> Let me review the web site
20:45:52 <dons> maybe not. looks like the idea was discussed in February, but I couldn't find any other documentation
20:45:56 <jpgil-cl> In installation, it says that for *nix you've to install GHC first and then compile Helium *after* you install GHC. So, I guess that has it as backend.
20:46:14 <jpgil-cl> http://www.cs.uu.nl/research/projects/helium/download.html#3
20:46:20 <dons> isn't it just that Helium is written in Haskell, and has to be compiled via GHC?
20:46:59 <jpgil-cl> I don't think that. It says to use "make" and "make install".
20:47:23 <dons> the LVM is the backend target, officially. which has a bytecode of its own, afaik
20:47:33 <Riastradh> That doesn't imply it need not still be compiled with GHC, jpgil-cl.
20:48:37 <jpgil-cl> Well, I'm only guessing, I dont' know too much about Linux. The only link to GHC I found was in the URL above.
21:25:06 <dons> roconnor: re. how lazy func langs are compiled. see http://research.microsoft.com/Users/simonpj/Papers/pj-lester-book/ and the Spineless Tagless G-machine at http://www.haskell.org/ghc/documentation.html for a bit of an introduction
21:25:50 <roconnor> Thanks!
22:11:03 <jpgil-cl> Apart from x:xs (elem x, many x's), is there some name convention in Haskell, like a "best practices" or so? 
22:11:35 <jpgil-cl> It's a bit confusing to separate functions from variables in some definitions.
22:14:49 <Riastradh> Use as short and obscure variable names as possible.  Extra bonus points for each single-quote at the ends of variable names.
22:16:28 <jpgil-cl> That would produce ObfusHaskell code, I'm afraid :)
22:19:07 <jpgil-cl> For example, if I define   myFunc a b = {- something -}    it's quite obscure to deduce what kind of parameter is "a" or "b"
22:25:12 <Riastradh> Exactly.  That's why it's called 'code,' not 'program description!'
22:25:51 <jpgil-cl> What do you think about Hungarian Notation?
22:26:40 <kuz> Hate.
22:27:45 <Riastradh> KILL KILL HATE HATE MURDER MURDER MUTILATE
22:28:41 * jpgil-cl begins to understand
22:29:14 <Riastradh> (I'm only joking about the 'code' and obscurity stuff, by the way, in case you hadn't noticed.)
22:30:28 <jpgil-cl> I guessed it :)  Anyway, I think that mature haskell programmers doesn't need such thing as "best practices" to write functions and so. It's only my 
22:30:39 <jpgil-cl> lack of expertise...
22:34:31 * jpgil-cl proudly anounces the creation of his very first function.
22:35:10 * Riastradh falls over in amazed awe onto his bed and stays there for the next several hours.
22:36:35 <jpgil-cl> Any suggestions on how to write in other ways? I would thanks a lot, to see different approaches:
22:36:43 <jpgil-cl> -- Take the values between (n,m) position in a list
22:36:43 <jpgil-cl> takeInterval :: (Int, Int) -> [a] -> [a]
22:36:43 <jpgil-cl> takeInterval (_, _) [] = []
22:36:43 <jpgil-cl> takeInterval (n,m) (x:xs)
22:36:43 <jpgil-cl>   | n>m = []
22:36:43 <jpgil-cl>   | n==0 = take (m-n) (x:xs)
22:36:45 <jpgil-cl>   | otherwise = takeInterval (n-1,m-1) (xs)
22:37:30 <Riastradh> That looks good to me.
22:38:21 * Riastradh lets his head fall back onto his pillow after having lifted it up momentarily to respond.
22:51:35 <jpgil-cl> Haha! I tried to write the same function in PHP with the same degree of formality, it took me more than double the time than in Haskell.
22:51:58 <jpgil-cl> I've 4 years in PHP, and less than a month only reading about Haskell. I'm quite impressed.
