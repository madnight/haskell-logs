00:02:35 <xtreak> Thanks pavonia. http://lpaste.net/153921. How do I have maybe add function. seems (+5) is causing the error.
00:06:00 <julianleviston> fmap (+5) (Just 5)
00:06:13 <julianleviston> xtreak:  sorry not sure if you’re talking about something like that or not
00:06:51 <julianleviston> xtreak:  oh… it’s something else. nvm.
00:07:22 <MarcelineVQ> in this case (Just . (+5)) would be sufficient, idk if I'd structure things in that way though where you have to add Just to things
00:07:38 * hackagebot arx 0.2.2 - Archive execution tool.  https://hackage.haskell.org/package/arx-0.2.2 (JasonDusek)
00:07:38 * hackagebot yesod-pnotify 1.1.3.1 - Yet another getMessage/setMessage using pnotify jquery plugins  https://hackage.haskell.org/package/yesod-pnotify-1.1.3.1 (KatsutoshiItoh)
00:07:44 <julianleviston> :t pure
00:07:45 <lambdabot> Applicative f => a -> f a
00:08:18 <julianleviston> :t return
00:08:19 <lambdabot> Monad m => a -> m a
00:08:40 <MarcelineVQ> Yes those would do the job as well
00:09:28 <julianleviston> marcel: why is pure called pure?
00:09:48 <julianleviston> MarcelineVQ: sorry… ^
00:10:11 <MarcelineVQ> I don't actually know, a math crossover term maybe
00:10:50 <barrucadu> I think the intuition is supposed to be something like lifting a value into a context "without adding any side effects"
00:10:51 <goldkatze> Greetings :-)
00:11:02 <julianleviston> MarcelineVQ: oh… The names here are mostly based on parsing work by Doaitse Swierstra. ?
00:11:09 <julianleviston> MarcelineVQ: from https://hackage.haskell.org/package/base-4.8.2.0/docs/Control-Applicative.html
00:11:30 <julianleviston> barrucadu: that makes sense
00:13:02 <goldkatze> Which package would you use to build a client to a restful json api? I came across http-conduit already, but wonder if there are others, short of building something myself using json parsers, curl, etc?
00:13:48 <barrucadu> goldkatze: servant-client, maybe? I've not used it but I think the approach is interesting. See the tutorial: http://haskell-servant.github.io/tutorial/client.html
00:14:22 <goldkatze> Thanks! I must have missed that one :-)
00:14:33 <barrucadu> You specify the API as a type, and then servant can derive a client from that
00:14:40 <MarcelineVQ> hmm, I thought servant-client was for deriving from servant made api's
00:14:43 <julianleviston> goldkatze: did you read this tutorial? It’s the build-your-own variety tho… https://www.schoolofhaskell.com/school/to-infinity-and-beyond/competition-winners/interfacing-with-restful-json-apis
00:16:32 <EvanR> according to my calculations, when you type in 3.14 and get a double this is equal to 3.140000000000000124344978758017532527446746826171875
00:16:44 <EvanR> why do we never see these digits
00:17:28 <EvanR> "3.14" is surely less accurate
00:17:32 * hackagebot turtle-options 0.1.0.3 - Collection of command line options and parsers for these options  https://hackage.haskell.org/package/turtle-options-0.1.0.3 (elaye)
00:17:33 <xnil> lol'd
00:17:51 <xnil> as someone who has memorized pi to 284 digits, yes, evanr, that is correct
00:17:55 <xnil> but precise?
00:17:56 <xnil> no.
00:18:33 <julianleviston> xnil: I think he’s asking about why 3.14 is (as a Fractional) not fully represented on the screen?
00:18:40 <puregreen> EvanR: because the algorithm for showing doubles is basically “to show X, find the shortest rational number that is represented as X when you convert it into Double”
00:18:40 <julianleviston> nothing much to do with Pi, I don’t think.
00:18:43 <EvanR> 3.14 as a rational number
00:18:52 <EvanR> approximated as a double
00:19:01 <kadoban> puregreen: Is it really?
00:19:12 <EvanR> puregreen: ok i suspected as much
00:19:15 <julianleviston> doubles are floats, right?
00:19:23 <julianleviston> so they’re incorrect… always.
00:19:29 <ner0x652> Hi
00:19:33 <EvanR> the pi joke was a joke im sure
00:19:40 <julianleviston> I am stupid. soz :)
00:19:53 <xnil> julianleviston: not always!
00:19:59 <MarcelineVQ> They're not incorrect, they're just hard to reason about accurately
00:20:02 <ner0x652> I am learning maps and basic functions from Data.Map 
00:20:03 <MarcelineVQ> you tend to deal with floats in terms of tolerances for that reason
00:20:15 <xnil> zero should???? always be represented correctly
00:20:23 <xnil> i don't know why it isn't when it isn't
00:20:33 <julianleviston> MarcelineVQ: or actually impossible to reason about sometimes (given that reperentation issue)
00:20:43 <kadoban> There's many numbers that can be represented exactly in IEEE floating point. Just many that can't be too.
00:20:51 <xnil> indeed
00:20:52 <ner0x652> I read that maps are implemented as trees. I want to know what kind of trees? AVL? Red-black trees? B-Trees?
00:21:31 <julianleviston> ner0x652:  I think it’s written on the package… do you want a link to it?
00:21:33 <EvanR> xnil: im working on an arbitrary precision thing, and while there are many ways to say zero, there are also some problematic ways that cant be avoided like adding 1 to e^i*pi
00:21:37 <puregreen> kadoban: see http://www.ryanjuckett.com/programming/printing-floating-point-numbers/, section “Minimal Output and Rounding”
00:21:38 <MarcelineVQ> ner0x652: there's doc links at the top of the Map's package http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Map-Lazy.html
00:21:39 <ner0x652> no
00:21:55 <ner0x652> oh, thanks, thanks :)
00:22:00 <julianleviston> ner0x652:  The implementation of Map is based on size balanced binary trees (or trees of bounded balance
00:22:07 <puregreen> printing floating-point numbers is a surprisingly hard problem which was fully solved only last year or so, I think
00:22:21 <puregreen> (because the algorithm used currently is sometimes suboptimal)
00:22:33 <xtreak> Thanks everyone :) Finally got some understanding of it at http://lpaste.net/153921
00:22:49 <kadoban> puregreen: Looks pretty interesting, thanks.
00:22:56 <EvanR> puregreen: that seems like such a ridiculous part of the problem to get hung up on but now it makes sense since ive been struggling with printing out numbers myself
00:23:10 <EvanR> printing is actually not necessary to use numbers, but we want to anyway
00:23:52 <puregreen> the paper that introduces the always-optimal method is here, in case anyone is still interested: https://cseweb.ucsd.edu/~lerner/papers/fp-printing-popl16.pdf
00:24:30 <icicled> how is one supposed to nagivate the schoolofhaskell.com site?
00:24:50 <MarcelineVQ> puregreen: certainly
00:24:59 <icicled> i.e. how do I find the latest content on there (if there are new entries)?
00:26:31 <goldkatze> julianleviston: That's a nice tutorial :-) they actually use http-conduit, too.
00:26:31 <echo-area> Hi.  If I omit the trivial definition (e.g. fmap = fmap) for instances of simple type synonyms, GHC warns me about "No explicit implementation for abc" but the program works.  How to deal with such warnings without having to write the definitions explicitly?
00:27:24 <EvanR> echo-area: ... wouldnt fmap = fmap and a warning indicate youre doing an ininite loop
00:27:38 <julianleviston> goldkatze: cool :)
00:27:46 <EvanR> if its a type synonym why are you implementing Functor
00:27:54 <puregreen> echo-area: do you mean newtypes?
00:28:05 <echo-area> puregreen: Yes
00:28:07 <xnil> man, you gotta help out GHC with those tautologies
00:28:22 <EvanR> echo-area: then you have a bug... fmap = fmap . getFoo
00:28:49 <echo-area> EvanR: But fmap = fmap compiles without warning
00:28:55 <Patryko> helo 
00:28:57 <EvanR> er my impl is wrong
00:29:00 <EvanR> anyway
00:29:03 <puregreen> for newtypes you can avoid writing the implementation with {-# LANGUAGE GeneralizedNewtypeDeriving #-}, but EvanR is right, “fmap = fmap” is buggy anyway, you need “fmap f (Foo x) = fmap f x”
00:29:25 <puregreen> * fmap f (Foo x) = Foo (fmap f x)
00:29:33 <pavonia> echo-area: Only because it typechacks, not because the implementation is correct
00:29:45 <echo-area> Oh, okay
00:29:47 <echo-area> Thanks
00:29:54 <puregreen> * fmap f (Foo x) = Foo (f x), darn
00:30:16 <Patryko> smoe 
00:30:18 <Patryko> smoke]
00:30:21 <Patryko> !!!
00:30:28 <MarcelineVQ> !
00:30:34 <Patryko> !!!! 
00:30:53 <echo-area> pavonia: (It also works though not being correct)
00:31:08 <Patryko> Yo Bro
00:31:36 <Patryko> we are playing LOL
00:31:52 <julianleviston> Patryko: League of Legends?
00:31:57 <julianleviston> lol oh.
00:57:34 * hackagebot sampling 0.2.0 - Sample values from collections.  https://hackage.haskell.org/package/sampling-0.2.0 (JaredTobin)
01:03:05 <jakub> Hi, I am trying to setup leksah and I am getting: 'ghc: ghc no longer supports single-file style package databases' whenever I try to build the project. Any ideas what to do? where to look? up until now I only used cabal packages
01:04:33 <YTHC> ping
01:12:54 <tdammers> I'm trying to install the gtk3 package in a stack project, but it hangs at the step that says "hashable-1.2.3.4: download"
01:13:04 <tdammers> anyone got a clue what's happening there?
01:17:34 * hackagebot mwc-probability 1.2.0 - Sampling function-based probability distributions.  https://hackage.haskell.org/package/mwc-probability-1.2.0 (JaredTobin)
01:20:53 <echo-area> tdammers: I thought somebody asked a similar question yesterday, and it was you too..
01:21:01 <tdammers> yes it was
01:21:25 <tdammers> I've done some more experimenting, think I can nail it down to gtk3
01:21:37 <tdammers> as in, removing that dependency "solves" the problem
01:30:09 <tdammers> further investigation shows that manually trying to install glib produces an error that says that my gtk2hsC2hs is too old
01:55:39 <ggVGc> is there a ghc warning that only warns for toplevel values without type signatures if they are functions?
01:55:43 <ggVGc> rather than constant vakues
01:56:37 <EvanR> (one way to detect stuff like that is to build your haddock docs)
01:56:40 <bergmark_> ggVGc: no, functions are also constant values...
01:57:28 <purelazy> Hi. I'm getting this message:  parse error on input `where'
01:57:43 <purelazy> For this line: constB x = Behavior (\_ -> xs where xs = x:xs)
01:57:53 <purelazy> Any ideas?
01:58:11 <ggVGc> bergmark_: yeah, I just find it distracting with type signatures for top level constants without arguments, while I want them for functions
01:59:08 <bergmark_> ggVGc: also you will probably get unexpected inferred types for non-functions due to the monomorphism restriction if you leave out the type sigs
02:00:31 <EvanR> ggVGc: another pedantic counterexample, you can have really complex non-function "constants"
02:00:43 <EvanR> which deserve a type sig
02:01:06 <EvanR> just looking at the code for such a constant may not seem obvious what it is
02:01:45 <EvanR> ggVGc: turn off that warning altogether and just see where you dont like what haddock reports for the types
02:02:35 * hackagebot streaming-commons 0.1.15.2 - Common lower-level functions needed by various streaming data libraries  https://hackage.haskell.org/package/streaming-commons-0.1.15.2 (MichaelSnoyman)
02:02:37 * hackagebot conduit-extra 1.1.11 - Batteries included conduit: adapters for common libraries.  https://hackage.haskell.org/package/conduit-extra-1.1.11 (MichaelSnoyman)
02:07:46 <purelazy> Fix: changed line to constB x = Behavior (\_ -> let xs = x:xs in xs)
02:19:21 <inad922> How can I check if a given typeclass is a member of another typeclass? Say I have typeclass "B" with a definition "class (A a) => B a where ...". How can I figure out that it's also an "A"?
02:52:03 <johnchen902> @pf (\(a,b,c)->a)
02:52:04 <lambdabot> Maybe you meant: pl bf
02:52:18 <johnchen902> @pf (\(a,b)->a)
02:52:18 <lambdabot> Maybe you meant: pl bf
02:52:26 <johnchen902> @pl (\(a,b,c)->a)
02:52:27 <lambdabot> (line 1, column 8):
02:52:27 <lambdabot> unexpected "c"
02:52:27 <lambdabot> ambiguous use of a non associative operator
03:07:12 <simg> I've written a very simple "multi-threaded" benchmark here: http://lpaste.net/153931
03:07:14 <simg> but for some reason it seems to be slower if I specify the  number of cores I want  to use  (yes, it's a multicore cpu ;) )
03:07:16 <simg> any ideas what I'm missing?
03:08:22 <srhb> simg: There's nothing multi-threaded there, so you're only paying the overhead.
03:08:48 <MichaelBurge> simg: It looks like the user time is very nearly the same on both?
03:09:07 <simg> srhb: ah, I was assuming ghc would automatically paralellise ?
03:09:57 <srhb> simg: It will not.
03:10:03 <simg> MichaelBurge: good point !
03:10:18 <simg> srhb: Why not !?!? :) 
03:10:26 <srhb> simg: Because that's really hard. :P
03:10:39 <simg> I thought that was the point of pure functions?
03:11:03 <MichaelBurge> simg: You're using a list, so you have to walk the entirety of the list starting from the first element regardless. How would you parallelize that?
03:11:33 <srhb> simg: Yes, pure functions makes it a lot easier to write programs that parallellize properly. You should check out Simon Marlow's book on the topic.
03:11:53 <MichaelBurge> One way would be to have multiple pointers to sublists, but that requires using a different data structure and choosing upfront how many pointers you want to track. Which is more than ghc will do automatically
03:12:09 <MichaelBurge> If you use Data.Vector, I bet your benchmark would run faster
03:12:29 <simg> ah, ok, so ghc never does any automatic paralellisation ?
03:12:52 <srhb> simg: No.
03:12:57 <simg> MichaelBurge: good point about "how". 
03:13:07 <simg> srhb: :(
03:14:52 <simg> thanks both. will have to check out Simon Marlows book :)
03:16:46 <simg> >If you use Data.Vector, I bet your benchmark would run faster
03:16:48 <simg> really, why?
03:23:12 <srhb> simg: I would not expect that either.
03:25:36 <simg> for interest? I'm benchmarking haskell against the following C code: http://pastie.org/pastes/10745594
03:25:38 <simg> C code achieves:
03:25:40 <simg> real	0m0.877s
03:25:42 <simg> user	0m0.460s
03:25:44 <simg> sys	        0m0.416s
03:26:04 <srhb> simg: That seems rather futile.
03:27:05 <simg> yes, I get that's pure speed is not what haskell is about. I'm in a discussion with C games programmer about the cost of immutable data structures. 
03:29:12 <toph> i'm learning dependent types, is this approximately correct as a 'set theory' interpretation of types? http://mathb.in/53167
03:33:43 <muzzle> hi
03:33:49 <muzzle> is there a good tutorial for HLearn
03:35:20 <muzzle> or is there an other library that offers a multivariate normal distribution that one can sample from?
03:44:03 <ironChicken> any advice on using unsafePerformIO on the return value of a library function that uses newForeignPtr?
03:44:22 <ironChicken> my motivation, obviously, is to try and have more of my own code pure
03:45:03 <ironChicken> the library in question is CV, and its `create` function in the CV.Image.CreateImage class
03:54:12 <Axman6> ironChicken: is it possible that that ForeignPtr will ever be accessed by anything else? also is the function returning this guaranteed to be referentially transparent?
03:57:41 <MasseR> g
04:13:35 <miscyb> does anyone know where "sinkFile" is from this example using http-conduit? http://www.yesodweb.com/book/http-conduit
04:13:54 <miscyb> it says to import data.conduit.binary, but that module doesn't exist in the current version
04:14:14 <srhb> miscyb: https://www.stackage.org/lts-5.5/hoogle?q=sinkFile --might be helpful
04:14:58 <miscyb> srhb: ah, conduit-extra. I forgot about that
04:15:00 <miscyb> thanks
04:18:35 <zero_byte> hi
04:20:24 <zero_byte> I'm quite new in Haskell (I started 2 days ago), and I'm struggling with basics. Can someone help me, what I'm doing wrong?
04:20:25 <zero_byte> https://paste.fedoraproject.org/332870/
04:22:43 <montanonic> zero_byte: so, the type of (:) is
04:22:46 <montanonic> :t (:)
04:22:47 <lambdabot> a -> [a] -> [a]
04:23:06 <montanonic> zero_byte: your function returns [] when its input is []
04:23:08 <zero_byte> sorry ?
04:23:24 <montanonic> zero_byte: so obrat(xs) = [] when xs = []
04:23:32 <zero_byte> montanonic, yes
04:23:40 <montanonic> zero_byte: [] : x : []
04:23:44 <montanonic> zero_byte: that's one possible case
04:23:49 <zero_byte> I see
04:23:51 <montanonic> zero_byte: x:[]
04:23:55 <montanonic> > x : []
04:23:56 <lambdabot>  [x]
04:23:59 <montanonic> that makes sense
04:24:07 <montanonic> :t [] : [x]
04:24:07 <zero_byte> so I'm trying to contatenate list with list
04:24:08 <lambdabot>     Couldn't match expected type ‘[t]’ with actual type ‘Expr’
04:24:08 <lambdabot>     In the expression: x
04:24:08 <lambdabot>     In the second argument of ‘(:)’, namely ‘[x]’
04:24:13 <montanonic> :t (:)
04:24:14 <lambdabot> a -> [a] -> [a]
04:24:35 <montanonic> > [] : [x]
04:24:36 <lambdabot>      Couldn't match expected type ‘[t]’ with actual type ‘Expr’
04:24:36 <lambdabot>      In the expression: x
04:24:36 <lambdabot>      In the second argument of ‘(:)’, namely ‘[x]’
04:24:55 <montanonic> zero_byte: so yes, you can't use (:)
04:25:15 <montanonic> zero_byte: those errors aren't the most helpful, ignore them, sorry
04:25:15 <zero_byte> I was just trying to write function, which will reverse the order of the members of list
04:25:56 <montanonic> zero_byte: okay, so you already know the base case is []
04:26:01 <montanonic> reverse [] = []
04:26:05 <zero_byte> yes, it is the base
04:26:19 <zero_byte> but now, I have to find out, how to describe the problem recursively 
04:27:10 <montanonic> zero_byte: one way to do this is to pass an extra parameter
04:27:19 <montanonic> zero_byte: an accumulating parameter; for example
04:27:49 <montanonic> length (x:xs) acc = length xs (acc + 1)
04:27:57 <montanonic> length [] acc = acc
04:28:35 <puregreen> zero_byte: “:” sticks an element (a single element) in front of the list, as its type says (types are useful!). You can say e.g. “1 : [2,3,4]”, but you can't say “[1,2,3] : 4”. To concatenate 2 lists, use “++”, which has the type [a] -> [a] -> [a]. Also, your base case and recursive case are fine, the error is in “obrat(xs):x:[]”. (Tho the resulting function will be rather slow – if you want it to be
04:28:36 <puregreen> faster, listen to what montanonic says.)
04:29:14 <montanonic> zero_byte: puregreen's way is easier and makes more sense, so definitely start there
04:29:28 <zero_byte> ok guys, thanks :)
04:30:02 <zero_byte> I will try to write it
04:31:14 <montanonic> zero_byte: your function is, as mentioned, actually really close to the solution; it's just that one of your (:) is the wrong type, and (++) is the operation to concatenate
04:31:31 <zero_byte> montanonic, yes, I realized it now
04:31:43 <montanonic> zero_byte: one tip: you can write x:[] as just [x]
04:32:23 <Aleksejs> Hello, I have a droplet with 512MB of RAM, and when I launch cabal update or cabal install, it kills itself. Is it possible to somehow force cabal to use swap?
04:32:40 * hackagebot classy-prelude 0.12.6 - A typeclass-based Prelude.  https://hackage.haskell.org/package/classy-prelude-0.12.6 (MichaelSnoyman)
04:32:40 <zero_byte> it works now
04:32:42 * hackagebot classy-prelude-conduit 0.12.6 - conduit instances for classy-prelude  https://hackage.haskell.org/package/classy-prelude-conduit-0.12.6 (MichaelSnoyman)
04:32:44 * hackagebot classy-prelude-yesod 0.12.6 - Provide a classy prelude including common Yesod functionality.  https://hackage.haskell.org/package/classy-prelude-yesod-0.12.6 (MichaelSnoyman)
04:32:46 * hackagebot conduit 1.2.6.3 - Streaming data processing library.  https://hackage.haskell.org/package/conduit-1.2.6.3 (MichaelSnoyman)
04:32:52 <zero_byte> obrat (x:xs) = obrat(xs) ++ x:[]
04:33:16 <zero_byte> but as you said, it is slow, because concatenation of lists is slow ?
04:33:42 <zero_byte> yes, x:[] == [x]
04:33:53 <zero_byte> [x] is just syntax sugar for [x] right ?
04:34:11 <montanonic> zero_byte: syntax sugar for x:[], yes
04:34:19 <puregreen> Aleksejs: usually, when you have enough swap, it just works automatically – you don't have to tell cabal to use swap
04:34:20 <puregreen> http://comments.gmane.org/gmane.comp.lang.haskell.beginners/6570
04:34:40 <montanonic> zero_byte: go ahead and implement (++) yourself to get an idea of why it might be slow
04:34:56 <zero_byte> do you anyone know, if there is some list of easy tasks, I can try to do by myself ?
04:35:32 <zero_byte> so I can improve my skills by programming ? 
04:35:45 <montanonic> zero_byte: http://www.seas.upenn.edu/~cis194/spring13/
04:35:47 <zero_byte> this is my 5th function, I have written
04:35:57 <Aleksejs> puregreen: sorry for misinformation, I just checked that droplet, it has no swap at all
04:36:11 <zero_byte> but I want to write more functions and then learn new stuff from Haskell
04:36:21 <zero_byte> montanonic, thank you
04:36:36 <montanonic> zero_byte: you can mess around there; if you're really set on learning Haskell though I have only 1 recommendation: http://haskellbook.com/
04:36:55 <zero_byte> montanonic, yes, I'm reading it
04:37:16 <zero_byte> montanonic, it is nice book, but I have to practice 
04:37:29 <montanonic> zero_byte: oh really? great; if you're looking for more exercises, I'd recommend working on writing algorithms
04:37:38 <montanonic> zero_byte: do you have any algorithm books?
04:37:40 <zero_byte> I need to write more examples, because I'm student :)
04:37:48 <zero_byte> and we have haskell lectures this year
04:37:54 <zero_byte> and then, we have to write complex project 
04:38:26 <montanonic> zero_byte: I'll recommend you something with a ton of exercises then
04:38:46 <montanonic> zero_byte: https://github.com/NICTA/course
04:38:53 <zero_byte> which will read from file some finite state machine and it will reduce it to minimal machine
04:38:56 <zero_byte> or something like this
04:39:14 <ironChicken> why do we have stack? could the features it provides have been added to cabal instead?
04:39:27 <zero_byte> yes, I need to exercise a lot and then start with that project, thanks :)
04:39:46 <montanonic> zero_byte: though do be warned that NICTA is intended to be worked with mentors around, and so some of the stuff is pretty tough for people newer to Haskell. It gets very tough in some places; don't be alarmed.
04:40:40 <zero_byte> ok montanonic, thanks for caution 
04:40:46 <zero_byte> I will look at it
04:40:53 <montanonic> ironChicken: Well, it's an independent project with different developers (mostly? I think? there's definitely some collabing)
04:41:35 <ironChicken> seems a shame to have two competing systems. are we heading towards fragmentation?
04:41:46 <montanonic> ironChicken: It's also headed by FP Complete which is a commercial haskell group that needs industry-grade software
04:41:47 <zero_byte> montanonic, do you know this book?
04:41:51 <zero_byte> montanonic, http://learnyouahaskell.com/chapters
04:41:53 <ironChicken> (i mention this because i have a cabal problem which apparently has a fix in stack)
04:42:07 <montanonic> zero_byte: yes, I started with that
04:42:36 <montanonic> zero_byte: I wouldn't recommend it over the Haskell Book for almost anything though
04:43:11 <montanonic> zero_byte: I like using this http://www.amazon.com/Algorithm-Design-Manual-Steven-Skiena/dp/1848000693/ref=sr_1_1?ie=UTF8&qid=1457008949&sr=8-1&keywords=the+algorithm+design+manual as inspiration to write programs
04:43:13 <asthasr> ironChicken: It's possible that we're headed towards fragmentation for a time, but the fact is that stack fixes a lot of problems and cabal didn't seem to be fixing them :(
04:43:37 <zero_byte> montanonic, I will try to search for that book in our library
04:43:46 * ironChicken wonders whether to take the plunge...
04:43:59 <ironChicken> especially in the middle of a project
04:43:59 <montanonic> zero_byte: I enjoy learning about algorithms though; your milage may vary. But algorithms give good practice with writing basic functions.
04:44:45 <montanonic> zero_byte: which seems like it would be perfect for your situation; also, you'd get to learn how to rewrite imperative code in a functional style, since a lot of techniques used in algorithm books are only accessible in higher levels of haskell code, and it's easier to just stick with pure functions
04:45:17 <zero_byte> montanonic, yes, I'm used to program in imperative languages 
04:46:05 <montanonic> zero_byte: great, now instead of loops you can write more folds and maps and practice with that
04:46:21 <zero_byte> montanonic, thanks for your advice, I will start now and practice everyday 
04:46:25 <montanonic> zero_byte: anyways, hope that gives you some ideas; looks like you're on the right path
04:46:28 <zero_byte> at least for 2 months :/
04:46:38 <montanonic> zero_byte: awesome; you're welcome. Glad you have a chance to learn Haskell.
04:46:47 <zero_byte> then, I have to start with logic programming (PROLOG)
04:49:24 <montanonic> zero_byte: also, while you're learning, there's a #haskell-beginners channel that is also very helpful; being in both won't hurt: you can ask all types of questions in either
04:50:42 <zero_byte> montanonic, thanks, I didn't know about that channel 
04:50:50 <zero_byte> maybe, it will be even better for me :)
04:52:52 <sfilipov> I get "unhandled ELF relocation(RelA) type 42" on "HDBC-sqlite3-2.3.3.1" dependency when I try to "ghc-mod check" a file. OS is ArchLinux, GHC is system one, using "stack" to compile LTS 5.0. Any ideas where to file a bug? Arch, ghc-mod or HDBC-sqlite3? I have tried a number of things (i.e. using stack GHC, using arch  GHC, same with ghc-mod). I believe the
04:52:52 <sfilipov> problem does not occur using stack on Ubuntu 14.04.
04:55:37 <magthe> sfilipov: do you have a minimal example showing the issue?
04:57:22 <tdammers> sfilipov: IIRC HDBC-sqlite3 depends on the system-level libsqlite
04:57:40 * hackagebot distributed-process 0.6.1 - Cloud Haskell: Erlang-style concurrency in Haskell  https://hackage.haskell.org/package/distributed-process-0.6.1 (FacundoDominguez)
04:58:13 <tdammers> sfilipov: maybe the one that ships with Arch does something different from the one in Ubuntu?
04:59:58 <sfilipov> magthe: I have a public GitHub repo where it can be observed, will give more info if necessary.
04:59:58 <sfilipov> tdammers: Good tips, I'll look at Arch repositories if something strange is happening with libsqlite and get back here.
05:02:19 <simg> sooo, back to my benchmark. I've just re-written my maximum-benchmark to use recursion  as per http://learnyouahaskell.com/recursion  (I'm using the exact same maximum' function). I stopped the program after a few minutes whilst it was still using 7GB of RAM. what am I missing?  my benchmark code here http://lpaste.net/153936
05:04:30 <ironChicken> in the <https://hackage.haskell.org/package/CV> package, i can successfully build v0.4.0 in my own package's sandbox if i pass the flag "-fopencv24" to cabal install. but i can't build my own package which depends on CV. i get the same linker error that is solved for building CV itself by supplying the "-fopencv24" flag
05:04:42 <zero_byte> montanonic, is it correct approach ?
05:04:43 <zero_byte> https://paste.fedoraproject.org/332899/70102341/
05:04:56 <zero_byte> it should merge two ordered lists 
05:05:12 <puregreen> simg: your code keeps all elements in memory until it reaches the end of the list
05:05:15 <ironChicken> so coupld of questions: 1) how is that flag, er, implemented? I can't find the string "opencv24" anyone in CV's code except in the README
05:05:45 <ironChicken> 2) is there a way of making my cabal package build its CV dependency with that flag set?
05:06:06 <puregreen> simg: and I'm not sure but there's also probably a rather big closure for each element
05:06:22 <simg> puregreen: how can I prevent that? I thought recursion was the way to process lists?
05:06:24 <montanonic> zero_byte: well, if it works, it works! :)
05:06:31 <ironChicken> to question 2, i've found the suggestion of adding a: "constraint: CV +opencv24" line in my ~/.cabal/cabal.config file, but i don't think that works
05:06:32 <montanonic> zero_byte: one thing you can improve is, (x:xs) (y:ys)
05:06:45 <montanonic> zero_byte: you can write: l1@(x:xs) l2@(y:ys)
05:06:46 <puregreen> simg: use a strict accumulator
05:06:51 <zero_byte> montanonic, yes, but sometimes, it is not memory efficient 
05:07:06 <montanonic> zero_byte: then, in your code, when you write (x:xs) to use the whole list, you can instead write l1
05:07:20 <zero_byte> I see, I saw it somewhere
05:07:27 <simg> puregreen: is what I'm currently seeing a space leak? (idk)
05:07:29 <zero_byte> montanonic, it is alias right ?
05:07:38 <montanonic> zero_byte: yeah, alias
05:07:41 <zero_byte> montanonic, thank you
05:07:42 <puregreen> simg: well, yeah, sort of
05:07:57 <puregreen> simg: https://wiki.haskell.org/Performance/Accumulating_parameter
05:08:27 <montanonic> zero_byte: np; look up merge sort in Haskell if you want to see different implementations of that
05:08:38 <simg> puregreen: many thanks :)
05:08:41 <goldkatze> Can I savely expect a new minor release of the current Stackage LTS major version to appear _as soon as possible_ once a security issue within on package has been discovered? Or do they not take that into account?
05:08:44 <zero_byte> montanonic, just going on to implement sort function 
05:14:22 <roelof> can I somehow combine a where and a case or a let  .. in and a case ? 
05:15:20 <montanonic> zero_byte: join $ zipWith (\x y -> if x < y then [x,y] else [y,x]) xs ys
05:15:46 <montanonic> zero_byte: that's another way to write what you have; I don't think it's fast though, but I think it's conceptually nice
05:16:23 <inerkick> Hi. I'm trying to get haskell working in APtana(Eclipse) and I am getting this (Resolving dependencies...
05:16:23 <inerkick> All the requested packages are already installed:
05:16:23 <inerkick> stylish-haskell-0.5.14.3
05:16:23 <inerkick> Use --reinstall if you want to reinstall anyway.) in the console. Let me know how to address this.
05:16:25 <srhb> roelof: "somehow" is a bit broad
05:16:31 <zero_byte> montanonic, thanks, but the code you sent, looks more complicated for me now
05:16:40 <montanonic> zero_byte: zipping two lists means taking the first elements of each and applying some function on them, and then recursing to the next elements, and so on; it captures the idea of what you wrote
05:16:45 <montanonic> zero_byte: yes, it is more complicated
05:17:01 <montanonic> > zipWith (\x y -> (x,y) [1,2,3] [4,5,6]
05:17:02 <lambdabot>  <hint>:1:39:
05:17:02 <lambdabot>      parse error (possibly incorrect indentation or mismatched brackets)
05:17:07 <montanonic> > zipWith (\x y -> (x,y)) [1,2,3] [4,5,6]
05:17:08 <lambdabot>  [(1,4),(2,5),(3,6)]
05:17:09 <zero_byte> and dolar sign ?
05:17:22 <montanonic> zero_byte: sorry, ignore that for now
05:17:34 <montanonic> join (zipWith (\x y -> if x < y then [x,y] else [y,x]) xs ys)
05:17:38 <srhb> > let foo = bar where bar = 2 in case foo of baz -> baz; -- roelof: For instance, this uses all the words you mentioned.
05:17:39 <montanonic> zero_byte: that's the same thing
05:17:39 <lambdabot>  2
05:18:10 <montanonic> > zipWith (\x y -> x + y) [1,2,3] [4,5,6]
05:18:11 <lambdabot>  [5,7,9]
05:18:14 <roelof> oke, I have a list who looks like this Button [ ("2", "hjik"), ("3", "jbgh"). Now I can pattern match it with ((x,y):ys) 
05:18:22 <montanonic> > zipWith (+) [1,2,3] [4,5,6]
05:18:23 <lambdabot>  [5,7,9]
05:18:39 <montanonic> zero_byte: hopefully those examples give you a better feel for how you can use a function like that
05:18:41 <zero_byte> wow, nice :)
05:18:49 <zero_byte> montanonic, I nuderstand it now
05:19:05 <xa0> you could also do that with applicatives, right?
05:19:09 <inerkick> Hi.. Kindly help me to get Haskell  in APtana(Eclipse). I am getting this error http://lpaste.net/153937
05:19:11 <roelof> but now I want to check if a letter is in one of the second parts of the tuple. I can use elementIndex for that. But that one gives a Just x or Nothing 
05:19:11 <srhb> roelof: Yes?
05:19:17 <zero_byte> > zipWith (*) [1..10] [10,20..100]
05:19:19 <lambdabot>  [10,40,90,160,250,360,490,640,810,1000]
05:19:32 <montanonic> zero_byte: awesome
05:19:55 <montanonic> zipWith (\x y -> if x < y then [x,y] else [y,x]) [1,2,3] [4,5,6]
05:19:57 <roelof> SO I try to find a way I can pattern match it , but see the outcome withhout the just. I have now the pattern match part in a where clause 
05:20:01 <montanonic> > zipWith (\x y -> if x < y then [x,y] else [y,x]) [1,2,3] [4,5,6]
05:20:02 <lambdabot>  [[1,4],[2,5],[3,6]]
05:20:06 <roelof> srhb:  problem clear ? 
05:20:08 <dogui> montanonic: I think your example is wrong, did you try [1,1,1] [2,2,2]? the result is not sorted
05:20:17 <montanonic> > join (zipWith (\x y -> if x < y then [x,y] else [y,x]) [1,2,3] [4,5,6])
05:20:22 <lambdabot>  [1,4,2,5,3,6]
05:20:30 <srhb> roelof: Not really. case elementIndex ... of Nothing -> ....; Just foo -> ...
05:20:39 <montanonic> oh wait ooops lol, that's def wrong
05:21:14 <xa0> > (*) <$> [1,2,3] <*> [4,5,6]
05:21:14 <roelof> bummer, Then I have to rethink things again :( 
05:21:15 <lambdabot>  [4,5,6,8,10,12,12,15,18]
05:21:22 <montanonic> dogui: yeah thanks for pointing that out
05:21:26 <xa0> ah, yeah
05:21:31 <dogui> montanonic: no problem
05:22:13 <srhb> roelof: Probably not. You don't ever NEED to combine a where and a let and a case.
05:22:35 <srhb> Try to explain again what you have (type and value) and what you want to get (type and value)
05:23:11 * hackagebot Spock-worker 0.3.0.0 - Background workers for Spock  https://hackage.haskell.org/package/Spock-worker-0.3.0.0 (AlexanderThiemann)
05:23:31 <roelof> I have a list which looks like this [ ("1", "nmk"), ("2", jui")'] 
05:23:46 <srhb> roelof: Right.
05:23:55 <roelof> Suppose I want to know in which tuple the character m has 
05:24:01 <srhb> roelof: Yes.
05:24:31 <roelof> I will take the first item out of the list ("1", "mnk")  
05:25:06 <roelof> and I have to look if the character "m" is in the second part of the tuple with elemIndex , right ? 
05:25:20 <srhb> roelof: Sounds like filter.
05:25:25 <srhb> Or something like that.
05:25:50 <roelof> filter ??? I have not thought about that 
05:26:09 <tdammers> you could also write it as a list comprehension, which introduces a pattern matching context as well
05:26:34 <roelof> Do you mean filter out all the tuples which has not the letter "m" in it 
05:26:54 <tdammers> keep all the tuples that do have the letter 'm' in them
05:26:56 <tdammers> same thing though
05:27:04 <alex_lippling> i have a question regarding monadic in smallcheck: i used quickcheck's monadicIO before and i was able to use multiple asserts. how is this done in smallcheck? i was only able to return one bool or either at the end of the block.
05:27:22 <tdammers> filter (('m' `elem`) . snd)
05:27:25 <tdammers> something like that
05:27:47 <roelof> oke, but then I have to find out which position the letter "m" has in the snd part 
05:28:05 <srhb> > map fst $ filter (\tup -> 'm' `elem` snd tup) $ [(1,"moo"),(2,"foo"),(3,"boom")]
05:28:07 <lambdabot>  [1,3]
05:28:25 <roelof> I want to see output like this (1, 2) ,. First item , second item in the snd part 
05:28:26 <srhb> roelof: Assuming your first position was the "index"
05:28:27 <tdammers> :t lookup
05:28:27 <lambdabot> Eq a => a -> [(a, b)] -> Maybe b
05:28:30 <tdammers> ah no
05:28:33 <tdammers> :t (!!)
05:28:34 <lambdabot> [a] -> Int -> a
05:28:42 <tdammers> also not quite
05:28:43 <srhb> oh, the second part.
05:29:06 <inerkick> Hi.. Kindly help me to get Haskell  in APtana(Eclipse). I am getting this error http://lpaste.net/153937
05:29:06 <srhb> Well, zip that with an index as well. Seems a bit contrived though. :P
05:29:45 <roelof> I try to find a answer to the second challenge of the Phone exercise of the Haskell book 
05:30:32 <roelof> I have to make a sort of telephone layout so I can text with it and the output needs to be the button and how many times I have to press to get the letter 
05:30:33 <tdammers> inerkick: that's not an error, that's just an informative message telling you that whatever you tried to do has already been done successfully, so cabal/stack won't do it again
05:31:04 <inerkick> ok but it's just not continuing . It's just stuck there tdammers 
05:31:29 <inerkick> you mean it's already installed Haskell?
05:32:59 <magthe> sfilipov: would you mind giving me a link to the github repo?
05:33:04 <inerkick> this is what it shows tdammers http://s12.postimg.org/lv6lpnmnx/Screenshot.png
05:33:30 <sfilipov> no problem: https://github.com/sfilipov/HLINQ
05:33:45 <roelof> srhb:  I was hoping I could it do this way : http://lpaste.net/153938 
05:33:54 <roelof> but apperently not 
05:34:05 <sfilipov> you should be able to "stack setup && stack build" inside successfully. I am currently testing on Ubuntu 14.04 VM but waiting for ghc-mod to compile
05:34:08 <roelof> so back to the drawing tab;e 
05:35:23 <tdammers> inerkick: I don't know, frankly - I've never used an IDE with Haskell, but the message you posted seems to originate with Cabal
05:35:37 <tdammers> and it suggests that you have a working Haskell toolchain
05:35:43 <inerkick> ok
05:36:08 <tdammers> you could fire up a terminal and do something like: ghc --version
05:36:16 <tdammers> also, cabal --version
05:36:48 <tdammers> question of my own; is there an existing alias for flip (<$>)?
05:36:49 <srhb> roelof: You can certainly use your approach, you're just not done yet.
05:37:09 <srhb> roelof: What you've done so far finds the key to press, but not how many times yet. You can extend it with that.
05:37:30 <srhb> roelof: I'm not saying this is the most obvious solution, but there's value to sticking with one idea and completing it, so I would suggest you do that.
05:37:34 <roelof> yes, but I see error messages that x and Y are not found 
05:37:47 <roelof> so the where does not what I thought I would do 
05:38:22 <magthe> sfilipov: I get the same when I try to `ghc-mod check Database/HLINQ.hs`... I'll try the same with the pre-compiled packages here
05:39:11 <srhb> roelof: Indeed.
05:39:13 <sfilipov> I am sure that at some point in the past it was working. Trying to figure out what has changed. What OS do you use?
05:41:16 <roelof> srhb:  so I think it's not wise to stick to a idea what is not working 
05:41:36 <magthe> I'm on Arch
05:41:36 <roelof> but I will play with the idea of using filter 
05:41:43 <srhb> roelof: good :)
05:41:56 <magthe> and I have a bit of an interest in seeing if the pre-built packages are broken
05:42:46 <roelof> What is the best linux distro to work fine with Haskell. IM going to try to make that work on Hyper-v 
05:43:07 <tdammers> roelof: check out elemIndex
05:43:28 <magthe> roelof: I like Arch :)
05:43:47 <roelof> tdammers:  yep, I can do that with the outcome of the filter action I think 
05:44:10 <tdammers> you can use it as both the filter action and the filter condition
05:44:11 <roelof> So some inspiration to experiment further to solve this one. 
05:44:24 <tdammers> I think using Maybe's Monad instance would be a good idea here
05:44:34 <OUYOUYLOLO> 什么
05:44:55 <roelof> tdammers:  monads are not explained yet in the book. that the next chapter 
05:44:58 <zero_byte> montanonic, do you have idea, what am I doing wrong ?
05:44:59 <zero_byte> https://paste.fedoraproject.org/332923/14570126/
05:45:09 <magthe> sfilipov: yupp, exactly t
05:45:12 <tdammers> you could, for example, write a function :: (key, letters) -> Maybe (key, index)
05:45:30 <magthe> sfilipov: yupp, exactly the same behaviour with pre-built packages... :(
05:45:38 <tdammers> and in order to write that function, you'd first write a function letters -> Maybe index
05:45:39 <srhb> zero_byte: [x] or (x:[])
05:45:52 <magthe> a quick search for "unhandled ELF relocation(RelA) type 42" does't turn anything up, I do wonder what it even means
05:46:00 <sfilipov> very interesting, I need to compile 35 packages in Vagrant and will confirm whether Ubuntu 14.04 is affected or not
05:46:03 <zero_byte> srcerer, ahh, parentheses  
05:46:08 <zero_byte> srhb, thanks
05:46:20 <tdammers> and then to go from Maybe index to Maybe (key, index), you need to write something of type key -> Maybe index -> Maybe (key, index)
05:47:01 <magthe> would it be difficult to switch to another HDBC backend... if the issue is with HDBC-sqlite...
05:47:12 <magthe> or am I just grabbing for straws here?
05:47:28 <tdammers> > let f k iM = do { i <- iM; return (k, i) } in f "1" (Just 2)
05:47:30 <lambdabot>  Just ("1",2)
05:47:36 <tdammers> > let f k iM = do { i <- iM; return (k, i) } in f "1" Nothing
05:47:37 <lambdabot>  Nothing
05:47:40 <roelof> Thanks all. time to experiment more 
05:47:58 <tdammers> applicative syntax with tuple sections would also work:
05:48:05 <sfilipov> The project is not mine, I just need to ghc-mod it to see where are types defined etc. It is not essential that I make it work.
05:48:16 <xa0> yeah, liftA2
05:48:18 <tdammers> let f k iM = (k,) <$> iM in f "1" (Just 1)
05:48:24 <tdammers> > let f k iM = (k,) <$> iM in f "1" (Just 1)
05:48:26 <lambdabot>  Just ("1",1)
05:48:26 <sfilipov> magthe: https://github.com/DanielG/ghc-mod/issues/711 is similar but is due to ghc-mod being compiled with different GHC version which is not the case here
05:48:34 <xa0> or that
05:49:21 <sfilipov> magthe: According to DanielG, "42 seems to be R_386_IRELATIVE"
05:50:24 <magthe> yes, I'm looking at that comment from DanielG too... If Debian unstable's binutils is too new, then that might very well be the case on Arch as well
05:51:07 <sfilipov> But in their case the problem was fixed by recompiling ghc-mod with the current version of GHC
05:51:27 <zero_byte> what do you think about my bubble sort ? https://paste.fedoraproject.org/332928/57013003/ does it look nice, or it is terrible ?
05:52:59 <magthe> and I'm pretty sure that the ghc-mod I'm using is compiled with exactly the compiler I'm using too
05:56:57 <sfilipov> magthe: Just tried Ubuntu 14.04 and it works OK. Definitely Arch specific.
06:00:40 <sfilipov> magthe: I think I will create a issue in ghc-mod and give debug information both from Ubuntu and Arch.
06:02:45 <magthe> sfilipov: yes, it would be interesting to know what's causing it
06:16:53 <sfilipov> magthe: Here is a link FYI: https://github.com/DanielG/ghc-mod/issues/762
06:33:20 <markanastos> @pl \x -> mod x 10
06:33:20 <lambdabot> flip mod 10
06:53:13 * hackagebot jukebox 0.2.4 - A first-order reasoning toolbox  https://hackage.haskell.org/package/jukebox-0.2.4 (NickSmallbone)
06:58:10 <obadz> when should one use Data.Map.Strict vs Data.Map.Lazy ?
06:58:14 * hackagebot jukebox 0.2.5 - A first-order reasoning toolbox  https://hackage.haskell.org/package/jukebox-0.2.5 (NickSmallbone)
06:59:00 <tdammers> obadz: http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Map.html
06:59:12 <tdammers> the first sentence in the documentation there answers your question
06:59:20 <ironChicken> we look forward to jukebox-0.2.6 ;-)
06:59:41 <ironChicken> which is due for release any minute now
06:59:49 <obadz> tdammers: fair enough, I was looking in http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Map-Strict.html :)
07:00:05 <tdammers> obadz: yeah, that one doesn't contain the opposite guide
07:00:29 <tdammers> although for typical applications I'd use the strict flavor
07:06:51 <c_wraith> Where's the documentation on the new (-ish) typed TH?
07:07:23 <merijn> c_wraith: There's isn't really that much documentation, otoh, it doesn't change that much compared to untyped TH
07:07:51 <merijn> c_wraith: The main difference is that you now have "TExp a" which is basically, Exp with a phantom type that enforced well-typedness
07:17:31 <magthe> sfilipov: thanks for the link :)
07:21:12 <mpickering> If a datatype is traversable then is the definition of `traverse` unique?
07:23:50 <scshunt> mpickering: no
07:25:47 <mpickering> scshunt: Can you explain why not? 
07:25:55 <merijn> I think it is
07:26:00 <scshunt> actually, hmm
07:26:34 <merijn> Note that according to the laws "runIdentity . traverse Identity == id"
07:26:48 <merijn> I'm pretty sure that + parametricity enforces uniqueness
07:27:06 <merijn> Well, in terms of semantics
07:27:17 <merijn> Clearly the definition is not necessarily unique operationally
07:27:37 <merijn> i.e. there might be N different ways to implement functionally identical traverses with different performance
07:28:23 <scshunt> Foldable isn't unique, but Traversable might be, hmm
07:29:01 <merijn> scshunt: Foldable is unique for Traversable instances, in that it's defined to match Traversable where it exists
07:29:17 <scshunt> merijn: Sure. But Foldable is not unique for a given type
07:29:38 <MichaelBurge> If I have a data type with only 0-argument constructors, is there a good way to fetch a list of all its possible values?
07:29:44 <scshunt> e.g. for Foo a = [(a, a)], you could have a foldable instance that folds over the first element of each tuple, or the second element, or all of them
07:29:54 <scshunt> MichaelBurge: Not without using Template Haskell [reflection]
07:30:08 <mpickering> MichaelBurge: Derive Enum for it and then you can use [minBound .. maxBound]
07:30:14 <scshunt> MichaelBurge: it might make sense for you to use Enum though
07:30:24 <MichaelBurge> mpickering: Thanks!
07:30:36 <geekosaur> Enum and Bounded for minBound..maxBound
07:31:00 <mpickering> merijn: I agree with you but can't find it written down anywhere
07:31:10 <puregreen> merijn: well, if traverse traverses elements in different order (and thus actions are executed in different order), does it count as different in terms of semantics?
07:31:20 <mpickering> I think you also need the left-to-right property as well otherwise ... ^ what he said
07:31:35 <scshunt> ah, yes actually
07:31:37 <scshunt> that is relevant
07:32:15 <merijn> MichaelBurge: Derive Bounded
07:32:25 <merijn> mpickering: min and maxBound aren't in Enum
07:32:34 <merijn> oh, was already corrected
07:32:46 <geekosaur> In the Foldable instance, foldMap should be equivalent to traversal with a constant applicative functor (foldMapDefault).
07:32:53 <geekosaur> ^ found in Data.Traversable
07:33:10 <merijn> mpickering: The laws are in the class definition
07:33:12 <geekosaur> ("The superclass instances should satisfy the following:")
07:33:46 <mpickering> merijn: Hmm?
07:34:08 <mpickering> This answer seems helpful as well - http://stackoverflow.com/questions/14110671/do-traversables-really-require-to-be-traversed-left-to-right
07:34:16 <merijn> mpickering: "You said I can't find it written down"
07:34:28 <merijn> mpickering: The haddocks have laws for traverse/sequenceA as first thing inside the class
07:35:08 <mpickering> I mean whether for a datatype `T` there is a unique definition of `traverse`
07:35:43 <merijn> puregreen: Good question, I guess there are multiple ways to do it after all
07:35:58 <merijn> puregreen: And one is picked just by convention, like for Monoid
07:37:06 <mpickering> The first sentence in the documentation says  "Functors representing data structures that can be traversed from left to right." 
07:37:13 <mpickering> So there is some expectation of a fixed ordering
07:39:03 <merijn> mpickering: The ordering has to be FIXED, yes. But there's often multiple sensible orderings possible
07:39:18 <merijn> Consider a tree, you could pick pre-order or post-order traversal and both would fit the laws
07:40:30 <puregreen> this paper about Traversable says that you can e.g. traverse a tree left-to-right or right-to-left and both definitions are legal traversals: https://www.cs.ox.ac.uk/jeremy.gibbons/publications/iterator.pdf (end of page 15)
07:44:05 <mpickering> This one as well http://www.cs.ox.ac.uk/jeremy.gibbons/publications/uitbaf.pdf
07:44:31 <scshunt> left-to-right is with respect to the Applicative instance
07:44:45 <mpickering> scshunt: What do you mean?
07:44:54 <scshunt> oh wait, that makes no sense, never mind :P
07:45:24 <scshunt> I was sort of saying that the left-to-right refers to the order that the Applicative being traversed is applied
07:46:55 <mpickering> I don't really understand what you are saying sorry
07:48:25 <scshunt> mpickering: me neither
07:48:31 <scshunt> let's just pretend this didn't happen
07:54:32 <Lokathor> if you could make one breaking change to haskell and/or ghc, what would you do?
07:54:54 <Lokathor> I'd definitely rename fmap to just being map
07:55:07 <merijn> Lokathor: That was actually the case in old versions
07:55:32 <Lokathor> wow, i feel so betrayed by history
07:55:35 <mpickering> I don't understand why people care about that really
07:56:03 <Lokathor> mpickering, same reason "length" is now a functor op and not just a list op
07:56:33 <Lokathor> er
07:56:34 <Lokathor> foldable
07:56:37 <Lokathor> stupid 8am
07:56:39 <mpickering> well that's a mistake in my opinion 
07:57:00 <mpickering> but my point being that typing one extra character is no very onerous 
07:57:15 <Lokathor> it's 1% less readable
07:57:20 <Lokathor> in the "readable out loud" sense
07:57:26 <mpickering> renaming fmap = map is not likely to cause bugs in the way that length is
07:58:05 <Lokathor> length causes what bugs?
07:59:47 <mpickering> Say you have "length (foo x)" where "foo :: Int -> [Int]" and you refactor foo to "foo :: Int -> (Int, [Int])"
08:00:19 <Lokathor> that's the same bug as you'd have with sum
08:00:43 <Lokathor> oh, no i see
08:01:15 <Lokathor> hmmm
08:02:50 <dramforever> If only we had always had type-based name resolution
08:03:37 <dramforever> There are quite a number of functions out there that are often used without intention to use it polymorphicly
08:04:19 <dramforever> length is one I guess, (+) and all the numeric ones are even more so
08:05:48 <dramforever> Well, I mean, length *could* be used with a polymorphic element type, but I think the container type is often not
08:05:58 <dramforever> polymorphic
08:06:16 <Lokathor> {-# LANGUAGE DisableTypeClasses #-}
08:10:14 <geppettodivacin> Why is ((,) a) even Foldable? Its Foldable instance doesn't make much sense to me.
08:10:57 <c_wraith> geppettodivacin, because the instance is useful sometimes, and there's only one (sane) instance. 
08:11:28 <c_wraith> geppettodivacin, if the instance wasn't defined alongside it, it would just force people to define it themselves.
08:11:35 <geppettodivacin> It looks to me like it basically does the same thing as fmap, though.
08:12:19 <geppettodivacin> And it doesn't really fold anything.
08:12:37 <c_wraith> geppettodivacin, the point isn't that you can call foldMap on it. the point is that you can pass tuples to functions that work on any Foldable 
08:13:11 <acarrico> What is the style for naming predicates. In scheme it is 'pred?', in CL 'predp', in Haskell... ?
08:13:59 <geppettodivacin> c_wraith: I guess I just can't think of any cases where I would want to pass a two tuple into a Foldable function. It certainly doesn't make any sense with either sum or length.
08:13:59 <bennofs> geppettodivacin: 'traverse' is useful sometimes as well for pairs, and Traversable has Foldable as a superclass
08:14:14 <c_wraith> acarrico, if it had some semantic meaning, name it after the meaning. if it's meaning-free, just p
08:14:16 <djbeau> acarrico: in the spirit of short names, I have seen 'p' used a lot
08:14:23 <geppettodivacin> bennofs: I guess that makes more sense. Thanks!
08:14:47 <acarrico> c_wraith, djbeau: thanks!
08:15:42 <c_wraith> geppettodivacin, I don't mean functions defined in that module. I mean things like lens combinators which work with every Foldable. why prevent them from working with a perfectly valid type? 
08:19:21 <obadz> what's an example of something simple that's traversable but not functor?
08:19:43 <merijn> I think the problem is Foldable for tuples, that's fine. The addition of size/sum/etc. to Foldable is what's questionable. OTOH, I do find size useful occasionally
08:19:46 <merijn> obadz: Mu.
08:19:48 <obadz> oh nevermind functor is a superclass
08:19:52 <merijn> obadz: All Traversable are Functor
08:20:10 <django_> hey all
08:20:15 <obadz> ok then otherway around, what functors aren't traversable?
08:20:16 <django_> is this a good place to ask about pattern matching?
08:20:35 <merijn> obadz: "(->) r" ?
08:20:50 <c_wraith> geppettodivacin, as a very concrete example, consider the Free type from the free package. it has an instance Foldable f => Foldable (Free f) 
08:20:51 <obadz> merijn: any less mind-bending one?
08:21:19 <merijn> obadz: Probably not? :)
08:21:38 <c_wraith> geppettodivacin, folding over Free ((,) a) is a perfectly reasonable thing to do. 
08:21:48 <obadz> merijn: k I'm just trying to understand the meaning of traversable :)
08:22:05 <obadz> django_: sure
08:22:41 <bennofs> obadz: another example is data Repeated a = Repeated Int a with foldMap f (Repeated n a) = foldMap f (replicate n a)
08:22:43 <c_wraith> geppettodivacin, so why prevent it? 
08:22:49 <django_> obadz, how to get started? lol
08:23:23 <zebr> hi all. is there an easy compositional way to get a 'safe' list index lookup, i.e. nth :: Int -> [a] -> Maybe a
08:23:24 <geppettodivacin> c_wraith: I see. I haven't used Lenses or Free yet.
08:23:30 <obadz> django_: with pattern matching? http://learnyouahaskell.com/syntax-in-functions
08:23:36 <merijn> zebr: drop?
08:23:38 <geppettodivacin> I've looked into what they are and they seem pretty great, though.
08:23:56 <merijn> zebr: Specifically "nth n = listToMaybe . drop n"
08:23:56 <puregreen> zebr: “listToMaybe . drop n”
08:24:02 <bennofs> :t \n -> listToMaybe . drop n
08:24:03 <lambdabot> Int -> [a] -> Maybe a
08:24:19 <obadz> bennofs: thx ;-)
08:24:23 <c_wraith> geppettodivacin, well, it's not so much that there's anything special about those examples. it's just that it's nice when polymorphism actually works. 
08:24:42 <zebr> ah, of course. it's been too long since i last wrote haskell. :) thanks merijn, puregreen.
08:25:55 <bennofs> zebr: also provided as atMay in the safe package (which is quite useful): http://hackage.haskell.org/package/safe-0.3.9/docs/Safe.html#v:atMay
08:25:56 <ahihi> zebr: there's also https://hackage.haskell.org/package/safe if you need other functions in the same vein
08:26:06 <ahihi> damn, too slow!
08:26:09 <bennofs> :)
08:26:57 <zebr> oh, i'd not heard of that package. thanks
08:28:04 <c_wraith> I'm sure lens also has a solution. it always also has a solution. :) 
08:28:38 <puregreen> lensy solution: “preview (ix n)”
08:28:58 <c_wraith> > [1..10] ^? ix 3
08:29:00 <lambdabot>  Just 4
08:29:14 <c_wraith> > [1..10] ^? ix 17
08:29:16 <lambdabot>  Nothing
08:31:34 <django_> obadz, i guess i meant something more like: given some sequence as an input return the pattern lol
08:31:47 <django_> so like abbaabbaabba --> abba
08:32:42 <obadz> django_: that's not what we call pattern matching in Haskell :)
08:32:48 <django_> :o
08:32:51 <EvanR> heh
08:33:07 <EvanR> so basically isRational :: Real -> Bool ;)
08:34:42 <c_wraith> EvanR, nah, rationals can have an arbitrary prefix before they start looping. 
08:34:59 <EvanR> theres still a pattern somewheres
08:39:26 <osfameron> can you generate custom html attributes with Lucid?
08:43:12 <obadz> @let f l = (flip take l . (+ 1) . fromJust . findIndex (== l) . map (zipWith (curry snd) l . cycle) . drop 1 . inits) l
08:43:13 <lambdabot>  Defined.
08:43:31 <obadz> > f [1,2,3,1,2,3,1,2]
08:43:32 <lambdabot>      Ambiguous occurrence ‘f’
08:43:32 <lambdabot>      It could refer to either ‘L.f’,
08:43:32 <lambdabot>                               defined at /tmp/mueval21139038817684930.hs:156:1
08:43:39 <obadz> grrr
08:43:46 <obadz> anyway django_ left it seems
08:47:57 <c_wraith> are there multi-list folds anywhere? I'm looking for generalizations of zip, etc
08:51:06 <c_wraith> for instance, (a -> b -> r -> r) -> r -> [a] -> [b] -> r
08:52:50 <obadz> :t \ f x0 l1 l2 -> foldl (\ p (x, y) -> f x y p) x0 (zip l1 l2)
08:52:51 <lambdabot> (t -> t1 -> b -> b) -> b -> [t] -> [t1] -> b
08:53:06 <osfameron> in fact, I don't actually understand Lucid.  Why is it a monad?  Is there a tutorial anywhere for it?
08:54:07 <osfameron> I seem to be just adding and removing 'do' and 'return' in the hope that my code will compile, which is never a good starting point
08:54:33 <obadz> c_wraith: http://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/ghc/Util.html#v:foldl2
08:55:06 <c_wraith> I want a foldr, not a foldl :P
08:56:44 <c_wraith> also, importing the ghc api for that is terrifying. sure, make my binary 20mb bigger! 
08:57:09 <c_wraith> ok, split objs means it won't be that bad. 
08:57:17 <quicksilver> 20MB is a rounding error these days
08:57:23 <quicksilver> I've bought birthday cards with more RAM
08:57:29 <MichaelBurge> osfameron: I haven't used Lucid, but if it's like blaze-html the reason it's a monad is mainly to use the monad syntax sugar to write HTML.
08:58:40 <xa0> quicksilver: nah we are not yet at the point where 20mb is entirely insignificant
08:59:13 <xa0> still takes a good few minutes to download on notgreat connections, for example
08:59:15 <osfameron> MichaelBurge: so basically to save a few [ , ] that you'd have to use to write it as a data structure?
08:59:52 <quicksilver> osfameron: to save you using an explicit 'concatenation' operation
08:59:59 <quicksilver> either lots of <> or a concat and a list
09:00:07 <quicksilver> it seems like a terrible idea to me
09:00:37 <osfameron> ah
09:00:42 <quicksilver> (I haven't looked at lucid, so that objection is based on other libraries using that technique)
09:02:25 <osfameron> so here: https://github.com/osfameron/crow/commit/fa38c6cfc21d419ea6e4c4426e02a749f3f200ad#diff-37f8a3aefcc4d059ea2654d9d3dfd737R14
09:02:33 <osfameron> why do I have to add a 'return' there to make it work?
09:02:49 <osfameron> none of the example code on the (minimal) documentation for Lucid suggests I need it
09:03:26 <quicksilver> you don't
09:03:43 <quicksilver> erm
09:04:36 <quicksilver> I think you've made renderCell have the type (Cell,(Int,Int)) -> m (Html ())
09:04:46 <quicksilver> when you really just wanted it to be (Cell,(Int,Int)) -> Html ()
09:05:03 <quicksilver> and then forced it into the list monad
09:05:06 <quicksilver> I think.
09:05:16 <Zekka> Not that there's anything wrong with having an m! But if you're not using it you don't need it
09:05:35 <osfameron> ah.  is that because I have mapM instead of mapM_ ?
09:05:52 <seishun> http://lpaste.net/153946 is there a way to simplify this? namely, get rid of envVar and firstArg
09:06:13 <quicksilver> no I think you're doing something odder than that
09:06:20 <quicksilver> return td_ [class_ "black"] "#"
09:06:21 <quicksilver> is not
09:06:25 <quicksilver> return (td_ [class_ "black"] "#")
09:06:35 <quicksilver> not that you'd want the latter, either, but the former is something else again
09:06:53 <quicksilver> it's (return td_) [class_ "black"] "#"
09:06:55 <MichaelBurge> osfameron: My usual debugging technique for that is to split out the function and give it its own type signature.
09:07:02 <quicksilver> so you're trating (return td_) as a function
09:07:12 <quicksilver> which has forced it into the (r->) monad
09:07:37 <osfameron> MichaelBurge: yes, that usually helps
09:07:52 <osfameron> though I don't really understand what types anything is supposed to have
09:08:09 <osfameron> quicksilver: huh?
09:08:51 <quicksilver> osfameron: f a b c is (((f a) b) c)
09:09:09 <quicksilver> you're treating 'return' as a 3-arg function
09:09:15 <quicksilver> which it isn't, generally speaking
09:09:20 <osfameron> indeed
09:09:27 <osfameron> though, to be fair, I didn't intend to put a return there
09:09:36 <MichaelBurge> osfameron: I think the type for a simple Html fragment is just Html (). So give anything that's just Html that type.
09:09:37 <osfameron> it's only there out of desperation, and happened to "work"
09:10:35 <osfameron> MichaelBurge: oh!  specifying the type makes it Just Work as I expected to
09:11:52 <quicksilver> even with the bogus 'return' there?
09:12:00 <osfameron> no, I mean without
09:12:04 <quicksilver> ah good :)
09:12:07 <osfameron> the bogus return was required without the type
09:13:24 <osfameron> I know the first rule of haskell debugging: specify types until the error messages make more sense
09:13:46 <osfameron> I forgot that the corollary is that sometimes it'll also fix whatever was actually wrong too
09:13:58 <osfameron> thanks MichaelBurge quicksilver 
09:16:04 <liste> is there a stock Lens a a? hoogle didn't help me :<
09:16:31 <liste> or Iso a a a a
09:17:56 <c_wraith> liste, id
09:18:17 <c_wraith> liste, like, just the normal id function. 
09:19:03 <c_wraith> liste, using normal (.) and normal id is a large part of why lens uses the definitions it does. 
09:19:28 <EvanR> been hammering on this code, testing it by typing out incremental expressions to see progress, and its broken. finally i got tired of wasting my time typing the tests so made an IO function to print out all the test results in sequence. and suddenly everything is working
09:19:35 <EvanR> i should try that technique more often
09:20:24 <liste> c_wraith: awesome
09:21:26 <obadz> :t (concatMap, (>>=))
09:21:28 <lambdabot> (Monad m, Foldable t) => ((a -> [b]) -> t a -> [b], m a1 -> (a1 -> m b1) -> m b1)
09:22:51 <liste> :t (concatMap `asAppliedTo` [], (>>=) `asAppliedTo` [])
09:22:52 <lambdabot>     Couldn't match expected type ‘a -> [b]’ with actual type ‘[t0]’
09:22:52 <lambdabot>     In the second argument of ‘asAppliedTo’, namely ‘[]’
09:22:52 <lambdabot>     In the expression: concatMap `asAppliedTo` []
09:23:45 <obadz> :t (concatMap `asAppliedTo` [], (flip (>>=)) `asAppliedTo` [])
09:23:46 <lambdabot>     Couldn't match expected type ‘a -> [b]’ with actual type ‘[t0]’
09:23:46 <lambdabot>     In the second argument of ‘asAppliedTo’, namely ‘[]’
09:23:46 <lambdabot>     In the expression: concatMap `asAppliedTo` []
09:23:57 <Cale> EvanR: Yeah, whenever I find myself entering the same thing into GHCi multiple times, I move the things I'm doing into my source, even if it seems like it'll only be temporary anyway.
09:24:07 <liste> obadz: flip the concatMap (:
09:24:11 <c_wraith> :t concatMap `asTypeOf` (=<<) 
09:24:12 <lambdabot> (a -> [b]) -> [a] -> [b]
09:24:30 <obadz> ;-)
09:24:30 <seishun> http://lpaste.net/2936977419589910528 second attempt. Got rid of envVar and firstArg, but this looks pretty bad
09:25:18 <obadz> implementation is the same but is there a deeper categorical link?
09:25:30 <obadz> between foldable + monoid and monad
09:26:11 <EvanR> i dont think so but i now know that monads are used like monoids in F#
09:26:17 <c_wraith> not usually. it's an artifact of [], not generally deeper structure 
09:26:31 <EvanR> with kleisli as the mappend
09:27:23 <obadz> c_wraith: it's not just list, you can write concatMap both in terms of foldable+monoid and in terms of >>= for anything that's foldable+monoid+monad I think ?
09:27:37 <Cale> obadz: What *is* generalisable is that (x >>= f) is always the same as join (fmap f x)
09:27:50 <Cale> But join isn't always definable using a fold
09:27:56 <justin_smith> add -auto
09:28:23 <EvanR> ahoy justin_smith 
09:29:12 <justin_smith> EvanR: ahoy
09:30:27 <TallerGhostWalt> I have been messing with a parser whose output is structured like " data Rec = Rec Val [Rec] "  and was trying to learn more about Free constructions
09:30:55 <TallerGhostWalt> by changing it to "data Rec n = Rec Val [Rec n] "  
09:31:09 <EvanR> Tree Val
09:31:10 <TallerGhostWalt> but it seems like that isn't a useful way of transforming it to embed in Free
09:31:21 <TallerGhostWalt> EvanR: yeah 
09:31:22 <EvanR> where data Tree a = Tree a [Tree a]
09:31:31 <c_wraith> that's Cofree, not Free
09:31:40 <TallerGhostWalt> c_wraith: okay that is what I thought
09:31:53 <TallerGhostWalt> but then I keep seeing stuff where people are talking about Rose Trees as Free aslo 
09:32:21 <EvanR> .oO(wait roses dont grow on trees)
09:33:09 <TallerGhostWalt> https://www.schoolofhaskell.com/user/dolio/many-roads-to-free-monads
09:33:35 <TallerGhostWalt> has a sentence: It turns out these can both be expressed as monad algebras: monoids are monad algebras of [], while the rose-tree like things are monad algebras of Free [].
09:33:43 <Cale> @let data Free f a = Pure a | Free (f (Free f a))
09:33:44 <lambdabot>  Defined.
09:34:16 <Cale> :t Free [Free [Pure 1, Pure 2], Pure 3, Free [Pure 4, Pure 5]]
09:34:17 <lambdabot> Num a => Free [] a
09:34:22 <EvanR> whats a monad algebra
09:34:26 <Cale> ^^ trees
09:34:54 * EvanR reads the blog post
09:34:57 <c_wraith> TallerGhostWalt, I think "like" is a key word in that quote. 
09:35:22 <c_wraith> TallerGhostWalt, they aren't the same as rose trees, just kind of similar in some ways. 
09:35:29 <TallerGhostWalt> c_wraith: okay
09:35:51 <c_wraith> (the main similarity is arbitrary branching in internal nodes) 
09:36:49 <Cale> Well, hey look -- Free [] a is the same thing as rose trees with labelled leaves
09:37:14 <c_wraith> Cale, not completely. you lose values on internal nodes. 
09:37:30 <Cale> uh, is that a requirement?
09:37:52 <c_wraith> I think so.
09:37:56 <TallerGhostWalt> yeah it is 
09:37:57 <Cale> I was thinking  data Rose a = Leaf a | Branch [Rose a]
09:38:13 <TallerGhostWalt> so the Tree itself is the Free 
09:38:16 <TallerGhostWalt> instead of being embedded in it 
09:38:18 * hackagebot turtle-options 0.1.0.4 - Collection of command line options and parsers for these options  https://hackage.haskell.org/package/turtle-options-0.1.0.4 (elaye)
09:38:19 <TallerGhostWalt> that makes sense 
09:38:47 <EvanR> i thought rose trees has 1 ctor
09:38:52 <EvanR> and internal data nodes
09:39:01 <Cale> There are a lot of types of trees :P
09:39:15 <EvanR> well i guess rose isnt enough to identify one then ;)
09:39:19 <Cale> I think generally "rose tree" = "unbounded branching factor"
09:39:32 <TallerGhostWalt> Cale: that is what I meant 
09:39:41 <TallerGhostWalt> that construction makes sense
09:39:54 <TallerGhostWalt> I was going wrong by trying to embed it in Free instead of using it as Free itself 
09:40:53 <TallerGhostWalt> so then can it be both Free and Cofree?
09:42:08 <c_wraith> Free and Cofree are nearly the same thing
09:42:34 <c_wraith> the difference is that Free is a sum type, and Cofree is a product type. 
09:42:41 <Cale> Well, it would be a different type of tree then
09:42:55 <Cale> (Still a rose, but branch-labelled instead)
09:43:36 <Cale> @let data Cofree f a = a :< f (Cofree f a)
09:43:37 <lambdabot>  Defined.
09:44:09 <Cale> :t 1 :< [2 :< [], 3 :< [4 :< [], 5 :< []], 6 :< []]
09:44:10 <lambdabot> Num a => Cofree [] a
09:44:54 <c_wraith> I have an issue with calling Free [] leaf-labeled.. Free [Free [], Free []] ... No labels! 
09:45:42 <TallerGhostWalt> very helpful, thank you 
09:46:00 <Cale> No leaves (must be Winter)
09:46:50 <seishun> http://lpaste.net/2608366701519044608 third attempt... would love to simplify the (<|>) part
09:48:17 <Cale> seishun: Honestly, I'd usually just do the getArgs and lookupEnv on previous lines, and then combine the results, rather than trying to do it all at once.
09:48:19 * hackagebot psql-helpers 0.1.0.0 - A small collection of helper functions to generate postgresql queries  https://hackage.haskell.org/package/psql-helpers-0.1.0.0 (AlexanderThiemann)
09:49:29 <seishun> Cale: well it would make it much more verbose than most other languages, so I assumed there must be a better way
09:49:45 <Cale> do env <- lookupEnv "MyEnv"; args <- getArgs; let projectPath = listToMaybe $ [e | Just e <- env] ++ args
09:50:15 <Cale> er, no, lookupEnv is simply Maybe
09:50:56 <EvanR> [e | Just e <- env] is a monad comprehension?
09:50:57 <Cale> listToMaybe $ maybeToList env ++ args
09:51:08 <Cale> EvanR: heh, but I didn't intend it to be
09:51:19 <Cale> it could be Just e <- [env]
09:51:21 <Cale> but that's silly
09:52:03 <Cale> Or perhaps just  env `mplus` listToMaybe args
09:52:07 <EvanR> Just Silly
09:52:30 <mniip> Cale, wait, is that dual of Free f a = f (Either a (Free f a))
09:53:18 <c_wraith> that either should be on the outside. 
09:53:22 <Cale> Free f a ~= Either a (f (Free f a))
09:53:34 <mniip> ah right, I'm confusing with FreeT
10:08:22 <deni> how would one write a FromJSON instance for "\"/tmp:/tmp:Rw\"" where it needs to be split into 3 parts to be MyType Text Text Text ? I probably just need to step back a bit because it seems simple but haven't been able to get it to compile
10:13:19 * hackagebot resourcet 1.1.7.3 - Deterministic allocation and freeing of scarce resources.  https://hackage.haskell.org/package/resourcet-1.1.7.3 (MichaelSnoyman)
10:17:27 <JordiGH> Anyone know what inspired list comprehensions in Haskell? SPJ seems to say it came from a different programming language, not from mathematics.
10:18:11 <osfameron> I thought it was from set notation
10:18:25 <JordiGH> Page 11: http://research.microsoft.com/en-us/um/people/simonpj/papers/haskell-retrospective/HaskellRetrospective.pdf
10:19:45 <dolio> It was in Miranda first, I think.
10:20:10 <dolio> And possibly earlier languages, like ISIWM.
10:20:28 <dolio> ISWIM, even.
10:22:45 <NikolajK> Is there some more or less universally accepted GUI toolkit for you guys?
10:23:31 <osfameron> the WWW
10:23:49 <osfameron> that's about as universally accepted as you can get
10:24:08 <JordiGH> dolio: Yeah, this supports the Miranda hypothesis, partially: http://research.microsoft.com/en-us/um/people/simonpj/papers/history-of-haskell/history.pdf
10:24:42 <NikolajK> @osfameron: If that's a joke, I don't get it
10:24:42 <lambdabot> Unknown command, try @list
10:24:48 <NikolajK> osfameron: If that's a joke, I don't get it
10:25:26 <dolio> They're definitely in Miranda.
10:25:27 <osfameron> NikolajK: not a joke.  may not be to your taste, but HTML+JS is ubiquitous
10:26:44 <NikolajK> I'm dealing with data from an experiment, you start the hardware and get something back, viewed on the GUI
10:27:14 <NikolajK> I was thinking about some normal language + a toolkit I bind to
10:27:44 <quchen> NikolajK: There's a brief talk by Ollie Charles at the Haskell Exchange 2015 about this
10:28:03 <dolio> JordiGH: Wikipedia says KRC had "ZF expressions" which are comparable to list comprehensions.
10:28:19 <dolio> KRC was before Miranda, but developed by the same person.
10:28:24 <quchen> It's a fairly brief talk though, the example program he showcased was a Doom level editor
10:28:57 <quchen> Not sure that's what you're after, but it does encourage the audience to write GUIs with certain libs.
10:29:12 <osfameron> NikolajK: displaying graphs/stats in HTML (or SVG/canvas) is a fairly sensible approach.  And means you can then interact with the results remotely as well as in the lab
10:30:58 <NikolajK> right now they are using MatLab for the computation as well as the MatLab GUI Application for the display
10:31:33 <NikolajK> but it's not satisfactory, and I was thinking using something like Python (or even haskell if that makes sense, but rather not because less people know it) and something like Qt
10:31:52 <NikolajK> I know neither java script not HTML, although I'd learn both if I must
10:32:03 <EvanR> browser to show charts and graphs is very practical
10:32:32 <EvanR> a lot more practical than desktop toolkit programming
10:32:39 <hiptobecubic> NikolajK, fwiw the entire scientific python community has been trying very hard to dig people out of that situation for years. More than one company has been founded on it.
10:33:07 <hiptobecubic> EvanR, not for large amounts of data yet, unfortunately
10:33:13 <JordiGH> dolio: Right, thanks.
10:33:16 <EvanR> no?
10:33:22 * hackagebot bloodhound 0.11.0.0 - ElasticSearch client library for Haskell  https://hackage.haskell.org/package/bloodhound-0.11.0.0 (bitemyapp)
10:33:23 <NikolajK> hiptobecubic: with the consensus that what is better?
10:33:23 <hiptobecubic> Libraries are starting to make use of WebGL though, which helps a lot
10:33:43 <jackhill> NikolajK: there are bindings to Qt and GTK+, such as http://hackage.haskell.org/package/hsqml . Maturity and idiomatic APIs vary.
10:33:59 <hiptobecubic> NikolajK, than matlab? The bar is pretty low if your team is interested at all in writing programs.
10:34:05 <EvanR> hiptobecubic: not talking about number crunching, for the graphics of the thing this seems like a no brainer
10:34:15 <hiptobecubic> hsqml is pretty nice actually. but you write your ui in javascript more or less
10:34:33 <NikolajK> I mean if they are trying to get people off of Python+toolkit
10:34:40 <NikolajK> off of that and intp what?
10:34:45 <NikolajK> into what*
10:34:45 <EvanR> relative to Qt and GTK+ i mean this is not a contest
10:35:05 <hiptobecubic> EvanR, yes. And when you need to stream millions of points from some hardware device, or be able to zoom in and out quickly etc. it's difficult to keep performance reasonable.
10:35:35 <EvanR> is that what this is? and matlab is not processing it beforehand?
10:35:57 <NikolajK> I don't follow what the dos and don'ts are
10:36:29 <EvanR> anything + toolkits is a quagmire
10:36:38 <NikolajK> qu-what?
10:36:44 <hiptobecubic> Well for example, my last project involved a machine that was dumping out a ton of data as a time series and the group wanted to be able to scroll through it, zoom into various pieces easily, etc. 
10:37:16 <osfameron> I think HTML is a good first choice for a UI.  May not work for you, but it'd be silly not to consider it first.
10:37:21 <EvanR> hiptobecubic: websocket?
10:37:58 <hiptobecubic> EvanR, have you tried it? And have you tried painting that many dots in the browser? It's not doable without webgl and the libraries are just starting to make use of that now
10:38:01 <NikolajK> HTML plus what?
10:38:03 <NikolajK> afaik the device in the lab streams lots of data, it's caught and worked on via MatLab (right now) and the MatLab GUI app shows it. 
10:38:03 <NikolajK> They want for the MatLab to go and me doing something else, prettier, just as fast
10:38:57 <hiptobecubic> NikolajK, Before you spend all your time worrying about gui widgets, try to just create some plots with the data sizes you expect to be using and see if they are fast enough for you
10:39:03 <hiptobecubic> If they are then you're lucky and you can do whatever you want
10:39:23 <EvanR> hiptobecubic: yes, with just doc element graphics. i would expect fullscreen 2d canvas to be pretty slow as usual
10:39:30 <EvanR> dom elements
10:39:47 <hiptobecubic> Your computer will burst into flames.
10:40:54 <NikolajK> create plots with what language?
10:41:15 <hiptobecubic> if it's in the browser your only choice is javascript or something that generates javascript
10:41:30 <EvanR> there are countless charting js libs
10:41:34 <ReinH> NikolajK: Haskell, I would suppose.
10:41:38 <NikolajK> can I do computations with lots of data with javascript?
10:41:42 <ReinH> diagrams has some charting packages
10:41:45 <NikolajK> like, wave form analysis, etc.
10:42:00 <EvanR> you want to do matlabs entire job with javascript in the browser? ...
10:42:02 <NikolajK> (I'm pulling keywords out of my ass here)
10:42:08 <hiptobecubic> NikolajK, I wouldn't.
10:42:12 <EvanR> use matlab
10:42:14 <hiptobecubic> Maybe it's possible, but you'll die
10:42:17 <NikolajK> I'm trying to clarify this here
10:42:26 <ReinH> @google d3js
10:42:27 <lambdabot> https://d3js.org/
10:42:33 <ReinH> It depends on what "lots of data" means.
10:42:36 <NikolajK> as MatLabs GUI app isn't so great, that's why I was thinking Python, and thus +toolkit
10:42:52 <EvanR> you might not know all the GUI stuff matlab can do
10:43:03 <ReinH> you can't visualize billions of data points, so generally you're going to be rolling things up anyway.
10:44:06 <NikolajK> the GUI also starts the thing and so on
10:44:58 <purelazy> Any common reason why code works when compiled and executed, but crashes in ghci?
10:45:53 <purelazy> For what it's worth, I'm using GLFW and OpenGL (Graphics stuff) on Windows
10:46:00 <EvanR> that explains that
10:46:22 <EvanR> you cant really run gl from ghci, gl is a special snowflake
10:46:52 <purelazy> as in not a snowflake in hell's chance of running?
10:46:53 <int-e> Does it work with forkOS?
10:47:31 <EvanR> opengl in any language tends to only ever work when executed from the main bound thread
10:47:42 <int-e> (ghci executes IO in an unbound thread, and that will mess up thread-local storage badly)
10:48:23 <int-e> but anyway, I'd give it (forkOS) a try and if that still fails, I'd probably give up.
10:48:39 <EvanR> try to forkOS initialize the entire GLFW system
10:48:49 <EvanR> but it probably still wont work
10:48:53 <puregreen> hm, haven't Gloss people managed to get Gloss (which uses GLFW or something similar) work in GHCi?
10:49:46 <EvanR> i think i may have seen it work in a certain version of ghci on linux
10:49:50 <EvanR> or i may be hallucinating
10:50:26 <purelazy> I might try my Linux partition later - see if its cross-platform
10:50:58 <purelazy> i.e. the problem is cross-platform
10:52:56 <EvanR> a good reason to run an entirely separate process dedicated to graphics, and have your nice ghci-able core process send it graphics commands! ;)
10:53:35 <EvanR> separate processes for stuff also lets you reload parts of the running program
10:58:20 <gigglypuff> How difficult would you all say it is to gain enough experience in Haskell where you can make a recreation of Super Mario Bros.?
10:58:51 <roelof> > How to solve this problem : http://lpaste.net/153954
10:58:52 <lambdabot>  Not in scope: data constructor ‘How’Not in scope: ‘solve’Not in scope: ‘this...
10:58:52 <lambdabot>      Perhaps you meant variable ‘//’ (imported from Data.Array)    Not in sco...
10:58:52 <lambdabot>      Perhaps you meant one of these:
10:59:01 <roelof> How to solve this problem : http://lpaste.net/153954
10:59:57 <koala_man> roelof: parentheses around (DaPhone [(x,y):zs]) 
11:01:27 <EvanR> gigglypuff: if anyone anywhere could do that i would be incredibly impressed
11:01:46 <roelof> that leads to this : http://lpaste.net/153958   koala_man 
11:01:51 <xa0> (offtopic) gigglypuff: i love your name 
11:04:26 <yolosaaa> https://www.youtube.com/watch?v=MduaVPQzSeA
11:04:59 <EvanR> what is the youtube video link about
11:07:19 <roelof> anyone who can help me . Im fighting 2 days with this challenge 
11:07:58 <koala_man> roelof: http://lpaste.net/153954
11:10:34 <roelof> koala_man:  thanks, Can I also easily change the first number from a string to a int or integer 
11:11:21 <koala_man> roelof: what int should be returned if the character is "."?
11:11:32 <koala_man> corresponding to the pound key
11:11:40 <osfameron> any suggestions what I'm doing wrong here? https://github.com/osfameron/crow/commit/975dc287b774284df98c4dcced52b4e81f6c1216
11:11:53 <roelof> chips. that is not working 
11:12:11 <roelof> or I must change the data-structure 
11:12:15 <osfameron> I'd expect `sequence` to turn a list of [Html ()] into a Html ()  but it doesn't type check
11:12:46 <EvanR> is Html a Monad
11:12:55 <koala_man> osfameron: you can use sequence_
11:13:28 <EvanR> in your pasted error it says you have a [()] somewhere
11:13:57 <osfameron> koala_man: oh!  yes.  why does that work?
11:14:15 <osfameron> EvanR: presumably that was the original list, pre-sequencing?
11:14:15 <koala_man> osfameron: sequence_ is sequence but discarding the result (instead of accumulating a bunch of ()s)
11:14:32 <osfameron> but I don't want to discard the result, surely?
11:14:38 <osfameron> because I want it for contents
11:14:41 <EvanR> osfameron: not presumably, since () isnt Html ()
11:14:50 <osfameron> e.g. the same as number <> letter
11:14:51 <koala_man> osfameron: I mean it does the actions but ignores the returns
11:15:04 <osfameron> (I'm only using sequence, because I don't know if I'll have a number)
11:15:14 <osfameron> :t sequence
11:15:15 <lambdabot> (Monad m, Traversable t) => t (m a) -> m (t a)
11:15:18 <osfameron> :t sequence_
11:15:19 <lambdabot> (Monad m, Foldable t) => t (m a) -> m ()
11:16:11 <osfameron> so m () = Html () in this case, which is what I want ?
11:17:07 <koala_man> yes. Instead of getting a list of nothing, you just get nothing
11:17:44 <osfameron> I don't want nothing though, I want an Html thing
11:18:15 <osfameron> and seem to be getting it
11:18:26 <roelof> koala_man:  thanks, tomorrow I try to find out how to deal with capitals . it's schould output (  ("*"),1) and then the code for a lowercase character   
11:18:36 <osfameron> bah, monadic types are confusing.  I still don't understand why Html is a monad :-(
11:18:42 <EvanR> me neither
11:18:51 <EvanR> it probably doesnt need to be
11:19:01 <EvanR> i bet they are doing it to abuse do notation
11:19:20 <osfameron> yeah, that was essentially quicksilver's point above
11:19:42 <roelof> koala_man:  but thanks for the help today 
11:19:52 <roelof> Finally get this part working 
11:19:52 <EvanR> but it is consistent with web culture to think of HTML as an imperative programming language
11:20:01 <EvanR> you can print out stuff in the middle of it
11:20:08 <EvanR> even if that makes no sense
11:20:12 <osfameron> so the thing I get back isn't a value that contains HTML, but an action (with no value) but that can return some HTML ?
11:20:25 <EvanR> you get Html ()
11:21:33 <EvanR> its not an action with no value, its an action that is somehow related to the type (), what that means depends on the monad
11:22:03 <EvanR> when monads arent really doing anything, all actions probably have () on them
11:22:23 <EvanR> i mean, if they arent being use as monads
11:22:43 <koala_man> osfameron: yes, I meant nothing as in Html () and not (), I can see that being confusing. I thought of Html similar to IO but with Html output instead of putStrLn 
11:23:10 <EvanR> you can convert a Html () into html text (somehow)
11:23:28 <osfameron> koala_man: it's confusing though, as I'm assigning the "Html output" to a variable, which you can't do with putStrLn output
11:23:51 <EvanR> yes its not like IO
11:24:22 <koala_man> osfameron: let var = putStrLn "<img src='lol.jpg' />" in sequence_ [var,var,var]
11:24:50 <EvanR> ;_;
11:25:07 <EvanR> var <> var <> var
11:25:11 <osfameron> true
11:25:59 <osfameron> I'm not sure I'd say I *understand* this any better, but at least I now know that I may be able to solve some problems by appending an '_' to things ;-P
11:26:08 <osfameron> thanks koala_man EvanR 
11:26:17 <EvanR> yeah your lib is confusing
11:27:09 <osfameron> it's apparently quite popular, as is BlazeHtml, which does the same thing more or less, aiui
11:27:41 <osfameron> perhaps I should have used a templating library instead (Heist, or one of the yesod ones)
11:27:59 <EvanR> its possible to accomplish the speedup of concatting a bunch of bytestring html by using monoids
11:28:21 <EvanR> the trick is in the implementation ByteString -> ByteString
11:28:36 <EvanR> theres no room for a type variable here so monads dont even make sense
11:29:54 <EvanR> the monoid operation being compose
11:30:02 <EvanR> and the final rendering is done by applying to empty bytestring
11:30:13 <koala_man> osfameron: maybe in this particular case it helps to think of e.g. "Html Int" as a snippet of Html with an attached Int. if you only care about the snippet, you can return Html ()
11:32:11 <osfameron> koala_man: yeah, I've not even seen any examples of Html a yet (where a isn't ())
11:34:43 <osfameron> ah!  the other really odd thing is that HtmlT Data.Functor.Identity.Identity (the frightening type from my error message) == Html
11:35:03 <osfameron> as per https://github.com/chrisdone/lucid/blob/master/src/Lucid/Base.hs#L73
11:35:15 <osfameron> but the error message doesn't resolve this back for some reason
11:35:24 <EvanR> apparently Html can be equipped with extra powers through transformers o_O
11:35:31 <EvanR> so you can do IO !
11:35:48 <osfameron> "you got Html [()] instead of Html ()" might have frightened me less
11:36:01 <EvanR> yes
11:36:03 <levi> osfameron: Most monads in libraries are actually expressed as a specialization of their monad transformer variant specialized to the Identity functor.
11:36:33 <osfameron> ah
11:36:44 <aerialB> anyone know a good haskell vim plugin? Most importantly for indentation.
11:36:46 <EvanR> if it makes sense to combine them with some other monad
11:39:57 <levi> Yeah, I guess there are a fair number of monad instances that are just on everyday functors like lists and functions. But quite a lot of monads that you tend to think of primarily as monads are expressed as transformers when that makes sense, as it allows you to re-use them in more ways.
11:43:21 <levi> osfameron: You shouldn't need to worry about it too much right now, but it's good to be aware of to help interpret error messages.
11:46:45 <ReinH> @google haskell vim now
11:46:46 <lambdabot> https://github.com/begriffs/haskell-vim-now
11:46:49 <ReinH> aerialB: Whatever that uses.
11:47:12 <osfameron> levi: yeah, I literally threw up my hands in terror, rather than engaging with the message, as I had no idea what it meant :-(
11:47:34 <Zemyla> Hmm, How would a Cookie Clicker-type game be best done in Haskell, given that it seems to have mutable interdependent state literally everywhere?
11:47:36 <osfameron> I thought sometimes the compiler did resolve the type to Html () though, which is odd
11:48:05 <Zemyla> Wait, mutable interdependent state pretty much says FRP, doesn't it?
11:48:10 <johnw> Zemyla: yeah, I was just typing that :)
11:48:21 <ReinH> Not mutable, but yes.
11:48:30 <ReinH> Changing =/= mutable
11:48:31 <conal> Zemyla: *Continuously* mutable.
11:48:48 <conal> though "mutable" may give the wrong impression.
11:49:00 <ReinH> conal: I see you saw the bat^H^H^H FRP signal.
11:49:04 <conal> ReinH: indeed. some subtlety hiding there.
11:49:12 <conal> ReinH: yep. :)
11:49:55 <byorgey> . o O (the FRP signal function)
11:50:28 <ReinH> byorgey: o/
11:52:23 <Zemyla> So you have the score and the score/second as boxes: the score is fed into by the score/second and the various buy/sell things, and feeds into stuff like achievements and such; the score/s is fed into by pretty much all the game elements.
11:52:29 <johnw> conal is a continuously mutable FRP network, modifying his responses to suit questions he receives about FRP
11:52:50 <Zemyla> You'd have boxes for the units, upgrades, achievements, and whatever else unique you wanted.
11:52:52 <aerialB> ReinH: thanks
11:53:43 <ReinH> aerialB: yw
11:54:18 <ReinH> It would actually be difficult to find a game better suited for FRP, I think.
11:55:24 <conal> Zemyla: The association of varying-over-time with imperative programming is just a mental habit. Consider imagery as varying-over-space. And that continuous space greatly helps spatial modularity (transformation), as in vector graphics. And consider the central role of calculus (continuous) in physics. Put together these clues, and you'll get a sense of why FRP as a more powerful and elegant way to model "state" than imperative programming provides.
11:55:56 <conal> s/as a/is a/
11:56:28 <Zemyla> conal: Actually, it seems like all links in FRP are unidirectional. How are transactions handled?
11:57:00 <conal> Zemyla: "links"? and in what sense "transactions"?
11:58:08 <conal> Zemyla: do you mean mutual influence?
11:58:28 <conal> Zemyla: as in two or more time-varying values that depend on each other?
11:58:34 <Zemyla> Like the building box telling the cookie box "I'm trying to buy a building for 15,000 cookies. Did I actually do so?"
12:00:57 <conal> Zemyla: I don't understand your example. I can give a general answer for mutual influence, in case it helps. Do exactly what we typically do in pure functional programming: mutual recursion, i.e., mutually-referential (not just self-referential) definitions.
12:02:40 <merijn> Zemyla: In an FRP context you would make the "build a building" action impossible unless you have 15,000 cookies
12:03:19 <merijn> Zemyla: Why would you allow someone to attempt that if you already know they don't have resources?
12:04:05 <Zemyla> merijn: Yes, but I want to make sure you don't wind up with, like, you have 16,000 cookies, and they try to buy a 9,000-cookie grandma and an 11,000-cookie factory.
12:04:35 <Zemyla> Both purchases were valid at the time they were made, but they can't both be satisfied.
12:04:45 <merijn> Zemyla: I don't see the problem? They buy the first, then the second?
12:05:02 <alpha44> after completion of learnyouahaskell.com and a few parts of real world haskell, how should one go about honing his skills in Haskell ? 
12:05:06 <Zemyla> The problem is that it would wind up with -4,000 cookies at the end.
12:05:11 <merijn> Zemyla: How can you spend 9,000 out of 16,000 and still have it think you have enough for 11,000?
12:05:22 <merijn> Zemyla: You have a bunch of unstated assumptions that you're not saying
12:05:34 <merijn> Zemyla: For instance, why could this scenario possibly happen?
12:05:39 <xa0> alpha44: start reading monad tutorials :p
12:05:48 <merijn> xa0: That's very unhelpful
12:05:58 <EvanR> Zemyla: asking and telling actions seems like an oop message passing approach doesnt it
12:06:01 <merijn> alpha44: https://github.com/bitemyapp/learnhaskell
12:06:19 <xa0> merijn: the tounge in cheek was explicit!
12:06:53 <EvanR> Zemyla: actually i was working on a different perspective for game rules like this, which are interactions in two variables. in oop you always write imperative recipes in terms of the 1 object that its a method of. but in many cases its a rule about two things, just like your example
12:06:59 <conal> alpha44: I highly recommend byorgey's Typeclassopedia.
12:07:21 <merijn> xa0: It's either 1) a joke or 2) not a joke. If 1, it's not funny, we've heard it a million times and it might confuse legitimate beginners into thinking it's serious. If 2, half of the previous objection still applies
12:07:25 <ggVGc> wish I could fast forward to 10 years from now when my haskell contains a lot less of the crap I keep writing
12:07:26 <ctrlaltv> Hey guys, is there a way to use quickCheck on a map-like function?
12:07:40 <Clint> what's a map-like function
12:07:56 <xa0> sorry merijn..
12:08:01 <seishun> http://lpaste.net/7964604559341387776 is there a simple way to get rid of the "env" and "args" variables?
12:08:14 <merijn> Zemyla: Have you read conal's papers? I think that'd be the first step in understanding how to think about games in this context :)
12:08:29 <alpha44> are there any development projects I could start where I would learn interesting stuff as a part of the project ?
12:08:38 <EvanR> conal btw can you tell me how to pronounce paul hudak's last name
12:09:01 <conal> EvanR: "who'dack" (emphasis on first syllable)
12:09:03 <merijn> xa0: It's ok, but like the "a monad is just a monoid in the category of endofunctors" it might seem funny, but it's a bit of a dead horse :)
12:09:05 <ctrlaltv> Clint: I want to check a mapTree function, on a Tree data type, but I don't know what to do with the function that map applies on the tree
12:09:16 <EvanR> thanks
12:09:20 <ggVGc> alpha44: probably best with your own hbby project where you want to use the result yourself
12:09:21 <conal> EvanR: you bet :)
12:09:26 <ggVGc> that's when you really learn
12:09:26 <xa0> merijn: fair enough
12:09:32 <merijn> ctrlaltv: With quickcheck you'd do something like, e.g. "map id myTree == myTree"
12:11:08 <ctrlaltv> merijn: I want to check if the input tree has the same size as the result of my mapTree function. Can i generate a random fuction to use with map. 
12:11:30 <merijn> ctrlaltv: Map can't compute the size of a tree/list/whatever
12:11:34 <merijn> That'd be a fold
12:11:53 <ctrlaltv> let's say it's not a tree and it's a list
12:12:13 <merijn> ctrlaltv: Still can't compute the size with a map :)
12:12:18 <ctrlaltv> so i want to check if the length of my list is the same as the result of a mpa on the list
12:12:21 <ctrlaltv> map*
12:12:27 <merijn> ah
12:12:41 <merijn> ctrlaltv: Well, what's stopping you from defining "size :: Tree a -> Int"?
12:12:48 <Shockk> seishun: getting rid of them might end up a bit ugly but you can do it like, for example with args:  projectPath <- (env <|>) . listToMaybe <$> getArgs
12:12:53 <Shockk> I think that's how it'd be done
12:12:58 <merijn> And then check "size (map foo myTree) == size myTree"?
12:13:26 * hackagebot task-distribution 0.1.0.0 - Initial project template from stack  https://hackage.haskell.org/package/task-distribution-0.1.0.0 (axm)
12:13:50 <ctrlaltv> but what is this foo?
12:14:07 <merijn> ctrlaltv: Whatever function you can apply to whatever is in your tree?
12:14:10 <ctrlaltv> should I pick one on my own or can I somehow randomly generate it
12:14:12 <byorgey> ctrlaltv: QuickCheck can generate random functions.
12:15:16 <byorgey> ctrlaltv: make a property like   prop_mapSize :: (Int -> Char) -> Tree Int -> Bool;  prop_mapSize f t = size (mapTree f t) == size t.   Then evaluate  'quickCheck prop_mapSize'
12:15:43 <ctrlaltv> thanks!
12:16:05 <seishun> Shockk: any better way to get rid of both than `projectPath <- (<|>) <$> lookupEnv "MyEnv" <*> (listToMaybe <$> getArgs)`?
12:16:10 <Zemyla> merijn: No, I haven't seen conal's papers.
12:16:11 <ctrlaltv> Thank you all guys, i think this is what i was looking for. I am gonna try this out
12:17:31 <merijn> Zemyla: http://conal.net/fran/ and http://conal.net/papers/push-pull-frp/
12:17:53 <EvanR> and the blog
12:18:02 <EvanR> which i just re-read from the beginning
12:18:10 <EvanR> and lot stuff makes more sense now, years later ;)
12:18:12 <Shockk> seishun: I can't immediately think of one, but you could make it look a little bit nicer like:
12:18:35 <Shockk> projectPath <- (<|>) <$> lookupEnv "MyEnv" <*> fmap listToMaybe getArgs
12:22:24 <Zemyla> Hmm. Would a simple Cookie Clicker-type game be a suitable blog post?
12:22:49 <byorgey> Zemyla: suitable for what?
12:23:25 <Shockk> hm I tried something in ghci for that question above but I think something weird just happened 
12:23:40 * hackagebot intricacy 0.6.1 - A game of competitive puzzle-design  https://hackage.haskell.org/package/intricacy-0.6.1 (mbays)
12:23:53 <Shockk> `print 1` obviously prints out 1, but `print <$> return 1` doesn't
12:24:07 <seishun> is there any way to use IO Bool in conditionals without binding them to variables first?
12:24:32 <byorgey> Shockk: what is the type of  print <$> return 1  ?
12:24:48 <Shockk> Monad f => f (IO ())
12:24:49 <Shockk> hm
12:25:08 <Shockk> oh oh right
12:25:22 <byorgey> seishun: no, but you could make your own   ifIO :: IO Bool -> IO a -> IO a -> IO a
12:25:30 <Shockk> I'm confusing <$> with >>= or =<<
12:25:35 <Shockk> thanks
12:25:41 <puregreen> Zemyla: if suitable for, I don't know, Reddit upvotes, then I predict ~50 upvotes (you decide whether it's worth it)
12:25:41 <byorgey> (and it probably already exists in a package somewhere)
12:25:54 <Zemyla> :t \mb mt mf -> mb >>= (\b -> if b then mt else mf)
12:25:55 <lambdabot> Monad m => m Bool -> m b -> m b -> m b
12:26:13 <byorgey> Shockk: yes, probably.  print =<< return 1   would make sense.   Though that's better written as simply  'print 1'  of course =)
12:26:22 <Shockk> yep
12:26:52 <Zemyla> Well, I'd probably write it as an exploration of understanding FRP myself.
12:27:35 <byorgey> Zemyla: I'm sure there would be lots of people who would be interested to read such a thing
12:28:33 <bitemyapp> FRP needs more accessible resources really badly.
12:28:41 <EvanR> seishun: things like this might be found in monad-loops
12:28:59 <EvanR> bitemyapp: you mean besides the countless js frameworks?
12:29:05 <merijn> bitemyapp: Most people don't seem to care about FRP besides the name
12:29:11 <merijn> EvanR: Almost none of which are FRP
12:29:17 <EvanR> right
12:29:18 <bitemyapp> @karma+ merijn
12:29:19 <lambdabot> merijn's karma raised to 38.
12:29:45 <EvanR> its a branding real estate war
12:30:05 <EvanR> the only way to win is not to play ;)
12:30:33 <merijn> bitemyapp: To be fair, I though the FRAN and Push-pull paper were pretty accessible, of course that's just the ideas and not any specific implementation
12:30:58 <EvanR> you know what i never hear about, and never really heard about was grapefruit
12:31:10 <Zemyla> Yeah, a clicker-type game is kind of a best-case scenario for FRP in games, while still also having interesting intricacies.
12:33:40 * hackagebot telegram-api 0.2.1.1 - Telegram Bot API bindings  https://hackage.haskell.org/package/telegram-api-0.2.1.1 (klappvisor)
12:34:04 <seishun> :t ifM
12:34:05 <lambdabot> Not in scope: ‘ifM’
12:34:29 <EvanR> cookie clickering is interesting for not being continuous at all ;)
12:34:50 <EvanR> ignoring the animated decorations if you have any
12:36:36 <EvanR> everything is an event
12:43:41 * hackagebot mwc-probability 1.2.1 - Sampling function-based probability distributions.  https://hackage.haskell.org/package/mwc-probability-1.2.1 (JaredTobin)
12:57:36 <EvanR> can anyone explain this error message, it says overlapping patterns and points to two different lines but http://codepad.org/ErXxNFc8
12:58:04 <merijn> EvanR: Source would help...
12:58:15 <opqdonut> that looks fishy
12:58:23 <nitrix> EvanR: What happened to our beautiful lpaste site!
12:58:28 <EvanR> its not responding
12:59:25 <EvanR> here is the function http://codepad.org/W9wICKgo
13:00:01 <EvanR> oh i see the overlaps now
13:00:03 <merijn> EvanR: Line 8 can never be reached
13:00:12 <opqdonut> heh
13:00:15 <EvanR> the error message was totally off
13:01:18 <EvanR> oh, both lines have problems
13:01:26 <EvanR> the compiler knew better after all
13:02:00 * EvanR starts the "GHC knows best" intro sequence and music
13:02:08 <nitrix> How can you have both line 3 and 8 work?
13:02:16 <nitrix> Aren't the types not matching?
13:02:42 <EvanR> nothing wrong with 3 and 8
13:02:57 <EvanR> 6 and 7 are wrong and 11 is redundant
13:02:58 <nitrix> Oh, R is a sum type.
13:03:01 <EvanR> yes
13:03:35 <EvanR> no
13:03:41 * hackagebot cpphs 1.20 - A liberalised re-implementation of cpp, the C pre-processor.  https://hackage.haskell.org/package/cpphs-1.20 (MalcolmWallace)
13:03:45 <EvanR> its just a list of a sum type
13:05:36 <cmotoche> Hello people. Do you know about a function that takes something like: "user@computer:2222" and returns ("user@computer","2222")?
13:07:19 <EvanR> @hoogle String -> String -> (String, String)
13:07:21 <lambdabot> Data.List genericSplitAt :: Integral i => i -> [b] -> ([b], [b])
13:07:25 <EvanR> huzzah
13:07:31 <EvanR> hrm
13:07:51 <Hijiri> fmap (drop 1) . span (/= ':') $ "bob:alice"
13:07:55 <Hijiri> > fmap (drop 1) . span (/= ':') $ "bob:alice"
13:07:56 <lambdabot>  ("bob","alice")
13:07:57 <EvanR> :t break
13:07:58 <lambdabot> (a -> Bool) -> [a] -> ([a], [a])
13:08:15 <EvanR> > break (== ':') "user@computer:2222"
13:08:16 <lambdabot>  ("user@computer",":2222")
13:08:49 <EvanR> cmotoche: youll want to check out the split package anyway
13:09:27 <cmotoche> I'll do it.
13:09:28 <cmotoche> Thanks.
13:14:10 <osfameron> how do I convert Data.Text.Internal.Lazy.Text to ByteString ?
13:14:26 <EvanR> by using utf8 encoding
13:14:36 <EvanR> in Data.Text.Encoding
13:14:37 <seishun> seems weird that the standard libraries provide lifted versions of || and &&, but not <|>
13:14:38 <osfameron> I tried using encodeUtf8
13:14:46 <osfameron> but it wants Data.Text.Internal.Text
13:14:47 <EvanR> whats with the Internal though
13:14:50 <osfameron> rather then .Lazy.Text
13:15:05 <EvanR> well you can switch back and forth between lazy and not lazy text... but 
13:15:21 <EvanR> there should be a way to feed lazy to the encoder
13:15:23 <osfameron> I thought OverloadedStrings was supposed to make all this stuff transparent
13:15:29 <osfameron> or is that only for string literals?
13:15:30 <EvanR> heh... no
13:15:53 <EvanR> look in Data.Text.Lazy.Encoding
13:15:59 <merijn> EvanR: I think there's a lazy module in encoding
13:16:15 <osfameron> ah, Lucid has a renderBS, maybe I should use that instead of renderText ...
13:16:23 <kadoban> osfameron: OverloadedStrings isn't going to save you from having to worry about encodings. It indeed only makes string literals a tiny bit nicer.
13:16:38 <puregreen> seishun: wait, what lifted versions of || and &&? I want them too
13:16:43 <merijn> kadoban: This is about lazy vs strict, though, not encodings :)
13:17:29 <seishun> puregreen: <&&> in Control.Conditional
13:17:47 <osfameron> oh, ffs.  Lucid outputs a lazy ByteString, and Snap wants a non-lazy one
13:18:05 <EvanR> look for the lazy version in snap
13:18:15 <EvanR> theres kind of a point to all this
13:18:18 <osfameron> ah yes, writeLBS
13:18:24 <puregreen> seishun: that's not a standard library :(
13:18:37 <merijn> hmmm
13:18:50 <seishun> oh indeed
13:19:04 <seishun> it's confusing when the layout looks the same
13:19:54 <nchambers> > sum $ take 20 $ filter even [1,5..] -- lots of recursion \o/
13:19:58 <lambdabot>  mueval-core: Time limit exceeded
13:20:02 <nchambers> why does this exceed time limit?
13:20:39 <verement> > take 20 [1,5..]
13:20:41 <lambdabot>  [1,5,9,13,17,21,25,29,33,37,41,45,49,53,57,61,65,69,73,77]
13:20:59 <verement> don't see many evens in there...
13:21:10 <nchambers> ah
13:21:16 <EvanR> 20. you cant HANDLE 20 even ints
13:21:27 <nchambers> I think I want 0,5
13:21:33 <nchambers> > sum $ take 20 $ filter even [0,5..] -- lots of recursion \o/
13:21:34 <lambdabot>  1900
13:21:37 <nchambers> sweet
13:23:42 * hackagebot http-test 0.2.5 - Test framework for HTTP APIs  https://hackage.haskell.org/package/http-test-0.2.5 (glutamate)
13:23:48 <alpha44> is there an easy way to use parsec to parse markdown
13:24:58 <puregreen> alpha44: just use pandoc or cheapskate
13:26:18 <puregreen> and if you want to write your own Markdown parser with parsec, studying the source of pandoc or markdown (it's the package name) could help
13:28:12 <puregreen> alpha44: this is a question that's hard to answer without knowing context, tho, so can you explain what you want/why you want it in more detail?
13:28:24 <puregreen> (why specifically pandoc, etc)
13:29:10 <puregreen> * why specifically parsec
13:31:46 <puregreen> (If you want “markdown :: Parser MarkdownDocument” that you could use in your code, such a thing doesn't exist in any package as far as I know. If you want “markdown :: String -> MarkdownDocument”, then pandoc/cheapskate is what you need.)
13:31:56 <seishun> if I have a Maybe String, how would I do some action if it's a Nothing, or if a directory in the string doesn't exist?
13:32:03 <seishun> I can't think of a way to do this without duplication
13:34:37 <kadoban> seishun: Do a case match on it, with a guard in the Just case, and then the "some action" in the catch-all case.
13:36:17 <seishun> "with a guard in the Just case" <-- how do you mean?
13:38:49 * hackagebot irc-dcc 1.0.0 - A DCC message parsing and helper library for IRC clients  https://hackage.haskell.org/package/irc-dcc-1.0.0 (JanGerlinger)
13:39:05 <seishun> I think this is simpler anyway: exists <- maybe (return False) doesDirectoryExist projectPath
13:42:43 <seishun> http://lpaste.net/4744761418270638080 any way to simplify this?
13:44:53 <kadoban> seishun: Much of the time, it's better to just assume the directory/file exists and try to use it, unless you really need to check for some reason. You get into weird race conditions sometimes otherwise (plus it's just more work checking).
13:45:17 <geekosaur> kadoban, in this case it's a Maybe String pathname?
13:47:19 <seishun> kadoban: I know, but I'm porting from another language and want to keep the behavior
13:47:39 <seishun> but I am more interested in feedback about the code, rather than the behavior
13:53:21 <JagaJaga> why there is no uncurry3, uncurry4, etc. functions?
13:54:38 <dmj> @package tuple
13:54:38 <lambdabot> http://hackage.haskell.org/package/tuple
13:54:41 <dmj> :t uncurryN
13:54:42 <lambdabot>     Not in scope: ‘uncurryN’
13:54:42 <lambdabot>     Perhaps you meant ‘uncurry’ (imported from Data.Tuple)
13:54:49 <dmj> JagaJaga: http://hackage.haskell.org/package/tuple-0.3.0.2/docs/Data-Tuple-Curry.html#v%3auncurryN
13:55:33 <JagaJaga> dmj: thank you :)
14:02:29 <suppi_> anyone knows a nice video/lecture teaching how to implement global type inference?
14:03:49 * hackagebot milena 0.5.0.1 - A Kafka client for Haskell.  https://hackage.haskell.org/package/milena-0.5.0.1 (tylerholien)
14:03:58 <merijn> suppi_: I know a book?
14:04:18 <suppi_> tapl?
14:04:27 <merijn> Pretty much
14:04:38 <suppi_> thanks :(
14:04:46 <merijn> I think I also have a big paper on inference for arbitrary rank types somewhere
14:05:08 <suppi_> i actually need a very basic one
14:05:10 <EvanR> suppi_: first understand the problem, second think very hard, finally write down the solution
14:05:14 <merijn> suppi_: Got stuck with the book?
14:05:20 <EvanR> QED
14:05:37 <suppi_> merijn, not really, i don't have it
14:05:41 <merijn> ah
14:06:09 <merijn> Maybe Stephen Diehl's "Write You a Haskell" blog series has a nice post?
14:06:53 <suppi_> merijn, yeah, it was a bit too much and too succint, I was looking for something a bit more expanded even if a bit simpler :)
14:09:49 <suppi> If there's anything a bit more "ELI5" it'll be nice, otherwise I'll just bite the bullet and go with what I have :)
14:10:01 <suppi> EvanR, merijn, thanks for your help
14:10:15 <merijn> Not aware of anything more ELI5, but then I learned it via the hard way >.>
14:10:49 <suppi> merijn, what is the hard way?
14:11:25 <merijn> suppi: Start from a Conor McBride paper and learn type theory by repeatedly smashing your head against complex papers >.>
14:12:24 <suppi> merijn, heh, i'll read your implementations long before i reach that state :P
14:23:03 <Rotaerk> hmm wasn't there a channel for haskell OpenGL bindings?  could someone remind me what it was called
14:23:13 <Zemyla> Hmm. I'm not really grasping conal's paper, at least not where the rubber meets the road.
14:23:57 <EvanR> Rotaerk: theres #haskell-game
14:24:05 <Rotaerk> ah right
14:24:07 <Rotaerk> thanks
14:24:10 <EvanR> also the `gl' lib
14:24:23 <EvanR> way better than the OpenGL bindings ;)
14:24:47 <Rotaerk> EvanR: it's been a while since I was looking into it; but I do remember there was a "newer" GL package (probably gl), which was created because there were problems with the existing one
14:25:15 <Rotaerk> EvanR: and now Vulkan's out, and I see there are bindings for it, at least in development; I'm curious if they're accounting for the same kind of problems that gl did
14:25:27 <EvanR> dunno
14:25:45 <EvanR> the problems was that the library wasnt exposing the lowest level stuff
14:25:52 <EvanR> "give me the C calls dammit"
14:26:02 <Rotaerk> ah right
14:26:18 <EvanR> its just a style of FFI issue rather than some mysterious engineering problem
14:27:26 <Rotaerk> k
14:28:07 <EvanR> Zemyla: which part
14:30:12 <Zemyla> Okay, so an event is a monotonically increasing list of times, along with their values. A behavior is a function from time to a value. A future is just a single time-value pair.
14:30:25 <Zemyla> But, like, how do you get an Event from IO? Is it supposed to use lazy IO?
14:30:29 <EvanR> an occurrence?
14:30:39 <EvanR> or are you getting futures from the push pull paper
14:31:03 <EvanR> which paper did you start with
14:31:31 <merijn> Zemyla: The paper is about what does FRP/time *mean*
14:32:06 <merijn> Zemyla: The implementation is not the most relevant part of the paper, that's something for implementers of FRP libraries.
14:32:43 <EvanR> fran paper and push pull paper does have a lot about implementations
14:32:45 <merijn> Zemyla: Usually you'd have some "IO a -> Event a" function in the API, yes. which would take some (blocking?) IO action and return events whenever it fires
14:33:05 <Zemyla> Well, okay, the implementation is unimportant. But take my idea of a cookie clicker clone.
14:33:23 <EvanR> the actual interface to IO is a big question and everyone has done it wildly different
14:33:31 <EvanR> to me thats an important detail
14:33:48 <EvanR> it answers a lot of questions about where the theory fits into the real world
14:34:07 <EvanR> or could fit
14:35:18 <Zemyla> The number of cookies is based continuously on time and depends on the CPS, but it also varies based on user events (like buying or selling), and making the CPS change will alter the number of cookies produced with time too.
14:35:30 <gromak> I have the following type: `type T a = L -> EitherT ServantErr IO (R a)`. I want to use it in the place where type with kind * -> * is needed (`H :~> T`), where `:~>` is from http://haddock.stackage.org/lts-5.1/servant-server-0.4.4.6/Servant-Server-Internal-Enter.html#t::-126--62- Is it possible to achieve with some extension? 
14:35:59 <gromak> I get the error: `Type synonym T should have 1 argument, but has been given none`
14:35:59 <Zemyla> So is it an Event, a Behavior, or what?
14:36:57 <EvanR> Zemyla: the cookies quantity is the integral of your production level, which itself could be an integral of another production level
14:37:12 <EvanR> once you have enough levels the game feels exponential
14:38:00 <merijn> gromak: You can't partially apply type synonyms, they must be fully applied
14:38:11 <EvanR> buying something instantly drops your amount of cookies
14:38:17 <merijn> gromak: i.e. You can't use 'T' in a place that wants "* -> *"
14:38:35 <EvanR> but increases a production level, maybe
14:38:49 <merijn> gromak: If you could partially apply type synonyms that'd be equivalent to type level lambda's, which breaks type inference (and even type checking!)
14:39:13 <Zemyla> EvanR: Yes. So if the number of cookies were an Integer, then what type would the FRP value representing the number of cookies be?
14:39:16 <timbod7> If I have a typeclass of my own, and I want to say that all instances of it are instances of ToJson, how do I do that?
14:39:33 <EvanR> Zemyla: since integration doesnt give you an integer value, you could use floor at the end
14:39:51 <merijn> Zemyla: "Behaviour Int" which is build using the increasing count of cookies (i.e. "Behaviour Int)" and buy events (i.e. "Event Int")
14:39:53 <EvanR> so B Integer
14:40:07 <EvanR> Int is hilarious in the context
14:40:29 <EvanR> im in the sexdecillions
14:40:44 <Zemyla> Actually, I'd probably use, like, Fixed 1000, or something similar, since CPS can be fractional.
14:40:47 <merijn> timbod7: Do you want to say "all instances of Foo are instance of ToJson" (i.e. using Foo I can implement ToJson), or "all instances of Foo MUST BE instances of ToJson"?
14:41:02 <EvanR> Zemyla: well, the rate is a different story, you were asking about the amount of cookies
14:41:17 <timbod7> merijn: The former.  (i.e. using Foo I can implement ToJson)
14:41:25 <EvanR> its ok if the rates are increasing continuously
14:41:29 <Zemyla> Well, yes, but the number of cookies can be fractional as well, internally.
14:41:35 <EvanR> ... well why?
14:41:35 <Lokathor> you guys talking about an idle game based on FRP?
14:41:53 <EvanR> unless the prices are like "half a cookie"
14:41:57 <Lokathor> i was interested in the idea recently, but nothing in FRP seemed very friendly to new users, so I just gave up and went back to other things
14:42:00 <gromak> merijn: ok, it's not obvious for me why this is much different from `type T = L -> EitherT S IO` (note that I omit `a` here and then everything is fine), but I will believe you and will try to achieve what I want using newtype/data
14:42:01 <merijn> timbod7: The real answer to that is "You can't really"
14:42:21 <ooo``> Is there already a functor like `data Never a = Never deriving Functor`?
14:42:33 <merijn> gromak: That shouldn't work
14:42:34 <puregreen> ooo``: Proxy
14:42:46 <puregreen> ooo``: http://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Proxy.html
14:43:00 <ooo``> ah, yeah. Thanks
14:43:07 <merijn> gromak: If there was no arrow from L, then it does, but with the "L -> EitherT S IO" it shouldn't work, because "EitherT S IO" is not a valid argument to (->)
14:43:25 <Zemyla> EvanR: Well, (a) the weakest building in Cookie Clicker produces 0.1 CPS, and (b) it also means that it can update several times a second.
14:43:43 <EvanR> thats another thing i was thinking
14:43:49 <EvanR> the CPS is really a sequence of events
14:44:03 <EvanR> your cookies increase 1 by 1, just really fast (or really slow in the beginning)
14:44:11 <EvanR> its just the frequency goes really really high
14:44:29 <EvanR> i like the idea of modeling all this stuff exactly how it is conceptually, if possible
14:44:30 <timbod7> merijn: That's unfortunate. I've a typeclass that captures everything I need to implement ToJson,FromJSon, and appropriate database conversion code, and I was hoping that I wouldn't have to write all these instances.
14:44:47 <EvanR> you dont want to go out try FRP and shoehorning the system into a shape its not naturally
14:44:56 <timbod7> merijn: glad I asked though. It seemed like I as was missing something. Thanks.
14:44:58 <Zemyla> EvanR: I really don't want to be sending a sextillion events per second.
14:45:12 <EvanR> well, thats an implementation detail
14:45:26 <merijn> timbod7: The problem is that an instance "instance Foo x => ToJson x" overlaps every possible type 'x'
14:45:29 <puregreen> timbod7: you can use default signatures
14:45:42 <puregreen> no, you can't
14:45:42 <merijn> puregreen: No, since ToJson is in another package
14:45:44 <puregreen> nevermind
14:45:58 <Zemyla> gromak: You mentioned IO (R a). What type is R?
14:46:00 <EvanR> or you could say its not really cookies anyway, its a fluid
14:46:35 <puregreen> or you could say it's a discrete fluid! just use div` and mod`
14:46:37 <timbod7> So one would normally just write an instance for ToJSON for every type, but implement with a common helper function with the constraint on Foo?
14:46:41 <puregreen> * div' and mod'
14:46:56 <EvanR> use exact real arithmetic ;)
14:47:02 <merijn> timbod7: I dunno, I've managed to avoid/workaround things like that so far :)
14:47:03 <Zemyla> Well, if I'm making a game as a tutorial in Haskell, then the currency produced is going to be lambdas. :P
14:47:07 <FEAR-ME> Hello i've already learned basic python and I wanted to delve into something more interesing. Would learning haskell be a sane thing to do if I want to get a programming job?
14:47:28 <Zemyla> They'd be produced by Bindings, Functions, Functors, Applicatives, Monads, Monad Transformers, etc.
14:48:13 <EvanR> instead of trying to figure a) what frp even is then b) making it make a game, maybe you could thinking about your own model of how such a program should be written
14:48:30 <gromak> Zemyla: some my custom type (you can think it is `data R a = R Int String a`)
14:48:32 <EvanR> i would be interested in THAT tutorial
14:49:02 <aerialB> FEAR-ME: You probably shouldn't learn anything just to get a job. If it interests you, that's more important. But yeah, not many companies use Haskell. It could help you think about problems in cool new ways, but learning any language has the potential to cause that.
14:49:05 <conal> EvanR: I like that advice.
14:49:16 <ReinH> FEAR-ME: It would be sane if you want to get a Haskell programming job, although the are less common than python programming jobs.
14:50:00 <gromak> merijn: ok, I think I understand why type infrence may be broken there, thx
14:50:08 <Zekka|Sigfig> Be sure to learn enough Haskell so that if your interviewer asks you a question, ou can say “well but in HASKELL I would…” before giving him the answer he wants
14:50:11 <Zemyla> Well, if it weren't for the R, you could have it be ReaderT L (EitherT ServantErr IO).
14:50:54 <Zemyla> Is newtype IOR a = IO (R a) a monad?
14:51:10 <FEAR-ME> Reihn, yeah I understand that. Learning is my top priority but it'd be nice to have something I can get a job with as well.
14:54:03 <gromak> Yes, indeed, but it won't help because of `L ->` part. Hmm, maybe I can try `type T = ReaderT L (EitherT ServantErr IOR)`, but in this case I still need to change another code. Anyway, I understood what I'm doing wrong and why I can't do it like I planned
14:54:28 <Zemyla> gromak: Yeah, I suggested using ReaderT.
14:54:43 <Rotaerk> FEAR-ME: haskell is worth learning if you're a programmer, but it may not improve your marketability much
14:55:31 <merijn> Rotaerk: I think it does, I see plenty of job postings with "haskell experience" a plus :p
14:55:51 <Rotaerk> I've never seen that before; maybe it's regional, or I just haven't checked in a while
14:56:53 <Zemyla> Even if you never get a Haskell job in your life, it's worth learning because it fills your mental toolbox with things you wouldn't get in most other languages.
14:57:57 <merijn> Rotaerk: I'm talking about job ads on reddit/mailing lists/whatever
14:58:17 <suppi> FEAR-ME, http://matt.might.net/articles/best-programming-languages/ :)
14:58:33 <suppi> oh, they left.
15:01:37 <Rotaerk> merijn: hmm, ah I never thought to check reddit for job ads; and I've never been on mailing lists
15:01:43 <Rotaerk> didn't realize they posted job ads on mailing lists
15:02:08 <Rotaerk> maybe I shouldn't pretend reddit doesn't exist, after all
15:02:53 <EvanR> IRC certainly hasnt been a cash cow for me
15:04:49 <merijn> Rotaerk: I don't really check for them, I mostly seem to trip over discussions where then some guy goes "oh, we're hiring!"
15:04:59 <Rotaerk> heh
15:20:11 * hackagebot milena 0.5.0.1 - A Kafka client for Haskell.  https://hackage.haskell.org/package/milena-0.5.0.1 (tylerholien)
15:20:11 * hackagebot gitignore 1.1 - Apply GitHub .gitignore templates to already existing repositories.  https://hackage.haskell.org/package/gitignore-1.1 (RickyElrod)
15:28:55 <mick_> Hi, total noob here. I am trying to use the foldl1 function but when I load up my function I get a message saying that there are several potential instances.
15:29:15 <mick_>    Note: there are several potential instances:                                                                                                                                                            |      instance Foldable (Either a) -- Defined in ‘Data.Foldable’                                                                                                                                            |      instance F
15:29:35 <mick_> i don't get this when i use ghci
15:29:43 <mick_> i can use foldl1 straight off there
15:38:48 <mniip> mick_, can you post your whole code?
15:39:07 <mniip> along with the error message
15:39:09 <mniip> @where lpaste
15:39:09 <lambdabot> http://lpaste.net/
15:39:23 <mick_> it just this mnipp: last''' = foldl1 (curry snd)
15:39:44 <mick_> i'm trying to do the haskell 99 problems
15:39:53 <mniip> mick_, you'll need to give last''' a type signature
15:40:03 <mick_> oh right
15:40:05 <mick_> ok
15:40:09 <mick_> i will try that
15:40:10 <mniip> :t foldl1 (curry snd)
15:40:11 <lambdabot> Foldable t => t a -> a
15:40:23 <mniip> weird though that it wasn't able to deduce that on its own though
15:40:29 <mick_> i thought the type inferer would be able to sort that out
15:41:05 <mniip> ah yes
15:41:09 <mniip> the monomorphism restriction
15:41:10 <geekosaur> no parameters
15:41:11 <geekosaur> MR
15:41:20 <mick_> thanks mate that fixed it
15:42:14 <xa0> monomorphism restriction?
15:42:52 <Adeon> what are the classes you would want to automatically derive for anything that can
15:43:02 <geekosaur> if a binding has no parameters (as with last''' = ...) then it is forced to have a monomorphic type by default. ghci has this turned off at the prompt, though
15:43:03 <Adeon> I can think of Eq, Ord, Show, Read, Typeable, Data, Generic
15:43:05 <Adeon> Enum if possible
15:43:17 <xa0> ah
15:43:17 <aerialB> Is there no difference in the naming conventions for types and type classes?
15:43:21 <geekosaur> Bounded is often useful with Enum
15:43:21 <Adeon> any other common?
15:43:37 <monochrom> Adeon: Functor is also derivable usually. the extension is DeriveFunctor IIRC
15:43:43 <Adeon> ah right
15:44:08 <Adeon> yeah you can derive Functor, Foldable, Traversable often as well automatically
15:44:32 <monochrom> oh w00t, Foldable and Traversable too?
15:44:39 <Adeon> with extensions yeah
15:44:43 <Adeon> {-# LANGUAGE DeriveFoldable #-}
15:44:48 <Adeon> {-# LANGUAGE DeriveTraversable #-}
15:44:55 <Adeon> obviously won't work for everything
15:45:05 <Adeon> I also don't know anything about if the code they generate is smart
15:45:55 <mniip> are there even functors that GHC cannot derive?
15:45:57 <lethjakman-l> So, I'm using Stack and developing a library. Is there a good way to reference that local library?
15:46:07 <Adeon> Functor path may also be Functor, Applicative, Monad but I don't think the latter two are automatically deriveable unless it's a newtype on something that is
15:46:46 <EvanR> is there a functor so faithful that not even god can derive it
15:46:58 <monochrom> I have just tried "data X a = Return a | PutChar Char (X a) deriving (Functor, Foldable, Traversable)" and it is accepted :)
15:47:15 <mniip>     Can't make a derived instance of ‘Functor (F a)’:  Constructor ‘F’ must use the type variable only as the last argument of a data type
15:47:17 <mniip> aww
15:47:47 <mick_> guys, foldl1 (curry snd) - when applied to a list, is it just throwing away the accumulated value by the foldl1 - is my thinking correct there?
15:48:07 <mniip> curry snd = const id
15:48:13 <monochrom> it can't derive Monad for my free monad, but boy is it Traversable :)
15:48:15 <mniip> so yes
15:48:42 <mick_> great!
15:48:45 <mniip> well
15:51:15 <monochrom> so it is another way to implement "last"?
15:54:31 <mniip> an inefficient one I think
15:54:56 <mniip> you build up a stack of AP thunks
15:55:09 <monochrom> true
15:55:17 <mniip> the straightforward implementation with pattern matching doesn't do taht
15:55:36 <seishun> I assume nothing that provides Perl regex is included in Haskell Platform?
15:55:53 <mniip> seishun, what are you trying to do
15:56:00 <mniip> (you probably don't want regex)
15:56:27 <seishun> porting a program for practice
15:56:31 <monochrom> I don't know how Perly you need, but Haskell Platform has "regex-posix".
15:56:52 <seishun> it seems posix regexes don't support non-greedy captures
15:57:05 <mniip> what program are you porting? grep?
15:57:40 <mauke> don't bother with posix regexes
15:58:20 <seishun> it doesn't really matter
16:01:19 <seishun> this is all very confusing. If regex-posix is the module that actually provides regexes, then what are regex-base and regex-compat for
16:01:55 <monochrom> I think they provide a general interface. you may or may not need them.
16:02:20 <seishun> so they are not usable on their own?
16:05:34 <geekosaur> no, they are a framework. there are regex implementations that plug into them, including regex-posix, regex-tdfa (posix but pure haskell), regex, pcre, etc.
16:05:38 <geekosaur> er regex-pcre
16:06:01 <xa0> tdfa?
16:06:23 <geekosaur> "tagged discrete finite automaton"
16:06:34 <seishun> geekosaur: and regex-posix is the only one that's bundled with Haskell Platform, right?
16:06:38 <xa0> hm, fair enough
16:06:43 <geekosaur> whereas regex-posix binds to your platform's posix regex library
16:07:15 <geekosaur> looks like it, yes
16:07:23 <seishun> bummer
16:20:59 <mick_> mnipp: my implementation uses pattern matching but i was looking at the other solutions on the haskell 99 website and i saw the foldl1 - i was trying to figure out what it was doing
16:50:09 * hackagebot yesod-form-richtext 0.1.0.0 - Various rich-text WYSIWYG editors for Yesod forms.  https://hackage.haskell.org/package/yesod-form-richtext-0.1.0.0 (geraldus)
17:04:16 <pdxleif_> Is <$> in the Prelude of 7.8 and earlier?
17:04:44 <chasm> $ stack build --executable-profiling -- but then how do I run it? specifying $ stack exec foo +RTS -p says to compile with -prof, but specifying -prof says to use --executable-profiling... help?
17:07:18 <Adeon> there is no option for colored syntax code for haddock code examples, is three?
17:07:42 <geekosaur> pdxleif_, no
17:08:17 <pdxleif_> I guess I can either use fmap or import Applicative and take the redundant warning hit on 7.10 and above?
17:10:19 <crough> pdxleif_: Or guard with CPP
17:11:17 <pdxleif_> or switch between extra sourcedirs with cabal, or use base-compat, or... http://blog.haskell-exists.com/yuras/posts/stop-abusing-cpp-in-haskell.html
17:15:09 * hackagebot bond-haskell-compiler 0.1.0.0 - Bond code generator for Haskell  https://hackage.haskell.org/package/bond-haskell-compiler-0.1.0.0 (blaze)
17:33:43 <shapr> What's the best way to treat a ByteString as a number?
17:34:01 <davean> what does that even mean?
17:34:30 <Axman6> shapr: as an encoded n-bit integer? as a string representing a number?
17:34:36 <shapr> davean: Crypto.Hash returns ByteStrings, but I'm trying to do a hash values `mod` number
17:35:12 <shapr> Axman6: I like the idea of an n-bit integer
17:35:13 <Axman6> attoparsec has a hexidecimal parser in Data.Attoparsec.ByteString.Char8
17:35:42 <Axman6> if it's the actual bit string... there might be a good way to encode it as an Integer
17:35:43 <shapr> I guess I could take the cheesy approach of reading the shown hash hex value
17:35:44 <davean> shapr: I think you want to take a second look at the docs
17:35:54 <Axman6> I'd just do a fold over the bytes though
17:36:35 <davean> shapr: you could just deserialize the number with Bytes or something
17:36:41 <davean> into an Integer
17:37:02 <davean> but yah, add, and shift
17:37:13 <shapr> hm, ok
17:38:02 <davean> shapr: why are you using that library anyway? It seems to have a terrible itnerface
17:38:13 <shapr> davean: what library is better?
17:38:50 <davean> shapr: I assume this is for your bloomfilter work?
17:39:24 <shapr> davean: yup, that's it
17:42:27 <davean> shapr: several hash packages on hackage will give you the data back as Word64s, or tuples there of
17:45:24 <shapr> davean: that does sound easier
17:47:34 <davean> xxhash has a Word32, memory has siphash with a Word64, and similiarly FNV1 and FNV1a 
17:47:39 <davean> Lots of options exist
17:49:17 <monochrom> although, FNV1a is a statistically good hash (good for most hash tables), not a crypto hash.
17:49:46 <monochrom> I do teach FNV1a when I teach hash tables in data structure courses
17:50:15 <monochrom> (textbook ones are simply not interesting enough!)
17:51:10 <davean> From memory, isn't the bloom requirement pairwise independance?
17:51:48 <c_wraith> I always want to splice an Exp (rather than an ExpQ) into a TH expression literal. am I doing something wrong? 
17:53:14 <c_wraith> it feels silly to type $(return...every time. 
17:56:54 <dmwit> I would guess both 1. you're not doing anything wrong and 2. if the splice only accepted `Exp` lots of people would complain.
17:59:18 <c_wraith> I was more hoping for an alternate syntax that I missed which does the job. 
18:00:19 <Kookerus> Is haskell a good language to learn for people new to functional programming?
18:00:38 <c_wraith> I certainly splice ExpQ values all the time, and don't want that to go away. but when I'm generating expressions purely, it's weird to keep throwing in returns. 
18:00:51 <c_wraith> Kookerus, I'd say so. 
18:01:18 <aerialB> Kookerus: (very new here) I'm having fun :) If you are already a programmer and approach it with an open mind I'd say you'll be fine.
18:01:23 <c_wraith> Kookerus, it doesn't give you escape hatches to fall back on old habits. you need to really learn the topic. 
18:01:43 <Kookerus> c_wraith: Awesome! Thanks for your help
18:02:07 <Kookerus> aerialB: I'm definitely a programmer, I just wanted to make sure I wasn't getting in over my head =P
18:02:12 <dmwit> It gives you all the escape hatches, but then doesn't punish you for using them until there's a hard deadline over your head.
18:02:22 <c_wraith> Kookerus, that *does* mean you'll spend some time plain old not getting it. 
18:02:40 <dmwit> So you start all your sentences with "I'm a new Haskell programmer" and then everybody in #haskell knows not to tell you about the escape hatch.
18:03:23 <Kookerus> c_wraith: learnyouahaskell is helping out a bunch
18:03:32 <c_wraith> Kookerus, I was plenty comfortable with recursion and immutability before learning Haskell, and it was still the hardest language I've ever learned. it's just plain different. 
18:03:33 <Kookerus> dmwit: I'll definitely keep that in mind
18:03:38 <monochrom> actually I don't mention the escape hatches unless I know they already know about the escape hatches
18:04:30 <monochrom> basically even an advanced programmer doesn't use them outside low-level programming
18:04:34 <c_wraith> Kookerus, not that I think the language is hard in retrospect. it just wasn't a new skin over the same old ideas, and I had to think again. :) 
18:05:27 <Kookerus> c_wraith: Awesome, that's exactly what I'm looking for :)
18:05:33 <c_wraith> it was a shock to the system. and ego. :) 
18:05:53 <aerialB> heh, programming in general has been a shock to my ego.
18:06:32 <Kookerus> aerialB, Aw man, I know how that feels
18:06:48 <c_wraith> home soon. at the station now. 
18:06:56 <c_wraith> hah. sorry, wrong place. 
18:08:35 <aerialB> Kookerus: 6 months in and I'm at the point where I know enough to know I don't know enough. I've discovered that I'm better at realising actual solutions to problems than I thought (I've always been a disorganised, abstract thinker). But I'm definitely no where near the kind of consistency and rigour I find in experienced programmers.
18:10:25 * hackagebot cgi 3001.3.0.0 - A library for writing CGI programs  https://hackage.haskell.org/package/cgi-3001.3.0.0 (cheecheeo)
18:31:54 <timbod7> I'm using fast-logger on the basis of the recommendation here: http://haskelliseasy.readthedocs.org/en/latest/#logging. Is anyone else irritated by the fact that the logged messages come out in a seemingly random order?
18:34:20 <davean> timbod7: Thats kinda inherant in the "fast" part of fast-logger
18:34:29 <davean> if thats not what you want, you should get a different logger
18:35:14 <timbod7> davean: I guess so. The problem is that the binary is sufficiently fast that the timestamps are all the same, so they don't imply an ordering either...
18:35:29 <davean> timbod7: http://hackage.haskell.org/package/fast-logger-2.4.1/docs/src/System-Log-FastLogger.html#LoggerSet
18:35:57 <davean> You understand the ordering issue from that?
18:36:49 <timbod7> I think I understand what is going on (threads have independent log streams) but I don't see the specifics in your reference...
18:37:05 <davean> actually, its not even haskell threads
18:37:22 <davean> its capabilities, which are the RTS instances that execute haskell code
18:37:28 <davean> so even one haskell thread can bounce between them
18:37:34 <davean> you don't even get a self-order guarrentee
18:37:46 <davean> and theres a vector of buffers, and they get flushed as each fills ...
18:37:58 <timbod7> Yeah - though in practice it seems to be ordered within a haskell thread.
18:38:26 <timbod7> I understand this is fast, but it makes cause/effect analysis based upon logs difficult...
18:38:45 <davean> Hey, I never claimed it was good at all :)
18:38:54 <timbod7> :-)
18:38:55 <davean> as I said before, if you want ordering, this will never give it to you
18:40:05 <c_wraith> timbod7: if you need ordering of particular threads of execution, you can thread that through the operation (and insert it into the logging as needed)
18:49:29 <Rotaerk> is there any particular GUI library for haskell that's mature and not just a binding to a foreign API?
18:50:33 <Rotaerk> i see there's fudgets, grapfruit, and I remember seeing something called reactive banana but it's not listed on the GUI page
18:50:55 <Rotaerk> but is there any in particular that's ... mature
18:53:24 <Cale> Rotaerk: I don't know if it counts as mature, but we're using reflex-dom in production if it means anything. :)
18:53:52 <burp_> that's a web framework?
18:53:57 <Rotaerk> hmm looks like a web thing, yea
18:54:00 <Cale> yes
18:54:08 <Rotaerk> what about desktop GUIs?
18:54:15 <Cale> If you build your program with ordinary ghc, then you get a WebKit gui
18:54:38 <Cale> If you build with ghcjs, you get something for the web
18:55:04 <burp_> ah, that's cool
18:55:26 <Rotaerk> do people generally not build desktop GUIs in haskell?
18:55:33 <Cale> There's gtk2hs
18:58:08 <Adeon> I think they build web UIs instead
18:58:12 <burp_> that has been just some incomplete bindings, last time I used it a few years ago :D
18:58:16 <Adeon> which is probably more just haskell on backend + js on frontend
18:58:18 <burp_> guess it got better
18:58:33 <Adeon> but there are some haskell-like and haskell itself languages that compile to js
18:58:56 <Cale> Yeah, reflex-dom just builds with ghcjs, which is real Haskell.
18:59:15 <cstrahan> is there any way to conditionally set stuff in ~/.ghci - like, set :set -interactive-print=<FUNC> iff a package is available?
18:59:19 <Cale> (You can build most things on hackage and use them in your frontend, which is pretty nice.)
19:00:01 <burp_> webgl + ghcjs would be a nice combo
19:01:11 <Cale> burp_: Yeah, the dream there is being able to compile the same code with GHC and get a desktop app using OpenGL :)
19:01:23 <burp_> Cale: that's what I was thinking of 
19:01:39 <Cale> a bunch of people are thinking about how to do that
19:02:25 <burp_> one could always go the hacky "emscripten" path
19:03:19 <burp_> which maps opengl to webgl calls
19:03:32 <markanastos> @pl \x -> if x < 0 then (10 - (mod x 10)) else (mod x 10)
19:03:32 <lambdabot> liftM2 if' (< 0) ((-) 10 . flip mod 10) `ap` flip mod 10
19:03:38 <Rotaerk> I'm resistant to doing web interfaces; I just find it a little gross (but I can't figure out why it bothers me) to funnel everything through one application (the web browser)
19:04:13 <burp_> think of all the chromebook people who just have a webbrowser ;P
19:04:14 <geekosaur> if you're using X11, everything is being funneled through xorg
19:04:30 <Rotaerk> true
19:04:32 <geekosaur> which is actually the same problem but worse
19:12:37 <sm> Rotaerk: fltkhs is new and may fit some needs
19:16:54 <Rotaerk> sm: thanks
19:21:05 <timbod7> c_wraith: "if you need ordering of particular threads of execution, you can thread that through the operation (and insert it into the logging as needed)" - I'm not sure I understand what you mean.
19:26:12 <davean> timbod7: he means having a counter for local-ordering inside sequences you care about
19:26:43 <c_wraith> Or even a global counter for ordering inside an MVar somewhere.  Though that will destroy any "fast" logging properties.
19:27:13 <davean> Honestly, you're probavbly happy with a file handle in an MVar
19:27:30 <davean> and you're almost definately happy with a buffer in an MVar
19:27:43 <cstrahan> aha! I just came up with a wonderfully evil way to conditionally configure GHCi
19:27:54 <timbod7> davean: That would be what I would have done if I was doing this myself.
19:27:54 <davean> that, in the background, writes to a file handle on fill, while future writes happen to a new buffer in the MVar
19:28:03 <cstrahan> just put this in in your ~/.ghci:
19:28:07 <cstrahan> :def! bootstrap \x -> do { home <- System.Environment.lookupEnv "HOME"; case home of { Just home -> System.Process.readProcess (home ++ "/.ghci.d/bootstrap") [] ""; Nothing -> return "" } }
19:28:07 <cstrahan> :bootstrap
19:28:10 <timbod7> Just using fast-logger because of the recommendation...
19:28:47 <davean> timbod7: there are other loggers on hackage
19:28:51 <davean> plenty of them really :)
19:28:51 <mgsloan> Is there any modern trick for making something like "type Stringly a = (Show a, Read a)" work with (Proxy Stringly) ?  I found this http://blog.omega-prime.co.uk/?p=127#comment-1528 but that requires UndecidableInstances
19:29:01 <davean> timbod7: fast-logger is just built wrong for this
19:29:36 <timbod7> Yep. I was being lazy and not trialling all those logger packages.
19:29:52 <timbod7> That's the challenge with hackage - decide what to use...
19:30:54 <davean> timbod7: clearly the solution is a list of poorly explained, one-size-fits-all recomendations :)
19:32:13 <timbod7> There are 17 package in the logging category. It's hard to get a sense of what is worth investigating.
19:44:01 <mgsloan> timbod7: How about adding ThreadIds to your logs, and figuring them out by postanalysis?
19:44:14 <mgsloan> (also useful for sorting the timestamps)
19:44:32 <mgsloan> It would be nice if there was a parser for the builtin log formatter
19:45:34 <timbod7> mgsloan: I think that isn't enough to determine ordering. The implementation of fast-logger doesn't guarantee ordering even within a thread, and messages can be generated fast enough that the timestamps don't show the ordering either.
19:45:45 <timbod7> What do you mean be the "builtin log formatter"
19:47:44 <mgsloan> Oh, I'm thinking of monad-logger, which is the usual way I use fast-logger
19:48:05 <mgsloan> (it's got 'defaultLogStr', used by stuff like runStdoutLoggingT)
19:48:48 <mgsloan> timbod7: Really, even within a single thread you're getting message transposition?
19:50:23 <timbod7> I thought so, but don't seem to be able to reproduce it now. If a haskell thread moves from one capability to another, then you could get message transposition, right?
19:50:59 <mgsloan> I don't think so.
19:52:37 <mgsloan> The only reason you really need to worry about which CPU your thread is when calling C libraries that make use of thread local state 
19:52:44 <timbod7> Hmm - this line chooses in which buffer to log the message `(i, _) <- myThreadId >>= threadCapability`. Presumably the capability associated with a thread can change over time?
19:52:59 <mgsloan> (and in that case you gotta use 'forkOS')
19:53:33 <Rotaerk> Cale: I really just want to make some small tools.  For instance, I want to use the ii IRC client, and build a quick GUI for it.  Is it viable to do this as a web UI within the browser, without actually having to host it somewhere, with the web server having access to the folders containing ii's input/output files?
19:53:49 <Rotaerk> e.g. just have a folder with some static html and maybe js or whatever, and point the browser right to it
19:53:57 <Rotaerk> I haven't really done much web dev
19:54:50 <Rotaerk> I was just thinking, instead of pointing the browser to a web server, point it straight at some files
19:55:07 <Rotaerk> which in-turn define a GUI
19:55:57 <mgsloan> timbod7: Yeah, I suppose in that case you could conceivably get interleaving in rare circumstances
19:56:00 <mgsloan> curious!
19:57:49 <Rotaerk> wonder if I'm losing my mind
20:12:34 <Cale> Rotaerk: Yes, it's quite possible! If you're building a native application, you can execute IO, and have access to everything, even if your program's GUI appears in a window and is secretly a web page.
20:14:20 <Cale> Rotaerk: You don't have separate HTML which defines the GUI in reflex-dom's approach. The bits of your program which define the parts of the DOM that go on the page are also computations that are producing results (typically values coming from user input from that part of the page)
20:15:53 <julianleviston> Is GHC 8 working on moving towards having dependent types? Or was that my imagination? I can’t seem to find much on it at the status page for 8.0.1
20:16:01 <Rotaerk> Cale: ah cool; interesting
20:16:08 <Rotaerk> I'll dig into reflex-dom
20:16:09 <julianleviston> I guess https://ghc.haskell.org/trac/ghc/wiki/DependentHaskell/Phase1 is the place to look?
20:16:41 <julianleviston> Cale: oh how does reflex-dom go with the canvas?
20:17:27 <julianleviston> Cale: I noticed there’s an SVG sub-package in contrilb: https://hackage.haskell.org/package/reflex-dom-contrib
22:27:53 --- topic: 'http://www.haskell.org/ | https://wiki.haskell.org/IRC_channel | Paste code/errors: http://lpaste.net/new/haskell | Logs: http://tunes.org/~nef/logs/haskell/?C=M;O=D http://ircbrowse.net/day/haskell/today?mode=recent | http://reddit.com/r/haskell | Administrative issues: #haskell-ops | Hackage status? http://status.haskell.org | http://downloads.haskell.org'
22:27:53 --- topic: set by quicksilver on [Wed Oct 07 07:39:51 2015]
22:30:05 <jle`> that doesn't need it
22:30:21 <c_wraith> Is there a pretty-printer for turning a TH Exp into something resembling a Haskell expression?
22:30:25 <jle`> oh sorry, sent the same mssage twice.
22:30:46 <johnw> c_wraith: I just splice it into test code, and use -ddump-splices
22:30:58 <c_wraith> johnw: cute, but terrifying. :)
22:31:11 <johnw> if you have foo :: Q Exp, then just $(foo)
22:31:36 <jle`> hm, i thought that i do actually need it for writing some helper functions that are RankN, so GHC can't infer the types, but i need to involve the type of one of the arguments in the main function.  but then thinking about it, i could always just split off the helper function into a separate function and re-pass in the original arguments so they can use it in the type signature
22:32:12 <johnw> jle`: I'm not sure anyone is saying that ScopedTypeVariables is bad, or to be avoided; just that it would be curious to discover that it's truly necessary
22:32:27 <c_wraith> Oh hey.  There's Language.Haskell.TH.Ppr.pprint
22:32:37 <c_wraith> Not *quite* haskell code, but it does the job.
22:33:20 <jle`> johnw: yeah
22:33:30 <jle`> i'm trying to re-examine the situations whewre i thought it was necessary
22:33:41 <jle`> and they are slowly falling away
22:35:17 <jle`> i was thinking of situation where you had a vector with its length in its type, `Vec n a`, and to get the length, you could do natVal (Proxy :: Proxy n), but you can get a similar effect with a specialized helper function like proxyOf :: Vec n a -> Proxy n; proxyOf _ = Proxy ... neat
22:36:08 <jle`> maybe one day i'll comb through my singletons-heavy libraries
22:38:01 <bollu> does ghci-ng provide autocomplete in emacS?
22:39:08 <platz> jle`: any thoughts about how your 'auto' library turned out?
22:40:25 <jle`> platz: hm, in terms of api/library architecture, applications in the world ..?
22:40:38 <bollu> also, I have the hackage source code, but I'm not able to find the page that gives us the "checking and uploading candidates page"
22:40:45 <bollu> grepping for the string leads me to commented code
22:42:36 <bollu> oh, interesting - the code isn't commented, it's syntax highlighting that's borked
22:42:44 <platz> jle`: hrm, i guess whichever you have a stronger opinion about.  though I also feel it's quite valid to be impartial 
22:42:49 <platz> as much as possible
22:43:12 <platz> i guess i'm thinking more in terms of architecture
22:44:08 <platz> there were lots of good points in your blog posts leading up to the lib
22:44:11 <jle`> hm, well, i did realize this at the time, but looking back on it now, the API is kinda huge in the sense that it takes a bit to familiarize yourself with every piece of functionality that it offers
22:44:30 <platz> I kinda have assumed that those points are still valid
22:44:35 <jle`> in terms of application, it's ended up being harder for me to translate into real games than i had thought, but i hadn't had too much time to explore that space in more detail
22:45:24 <jle`> i wrote some simple games but not at a big enough scale to be convincing that the approach the library offers scales better than state loop based implementations or others
22:45:39 <platz> ah ok, game dev sure is a sticky wicket, 
22:46:09 <platz> but the lib really demonstrated the benifits of the arrow syntax when it wasnt getting much attention
22:47:01 <jle`> yeah, i'd rather let arrow syntax die, but it had some things that was very hard to do without it, so ... there it is, heh
22:47:29 <jle`> but, the library has been useful to me and others for things like networking, gui's, and building state machines like IRC chatbots
22:47:34 <platz> interesting... the only other thing i'm aware of that uses it is Opaleye
22:47:44 <platz> it meaning 'arrow syntax'
22:48:11 <jle`> yeah...for the most part, what people used to do using arrows and proc notation is now done with normal syntax and Applicative interfaces
22:48:12 <platz> yeah the modular, more high-level use cases are more interesting to me than low-level
22:49:02 <jle`> the reason auto promotes a proc-notation-based style is that it makes it really easy to draw out recursive bindings and dependency graphs in a way that is awkward with do notation or the applicative/monad fixed point combinators
22:49:30 <jle`> i'm not sure abut opaleye's reason :o
22:49:48 <bollu> jle`: I'm sorry to butt in the conversation, but why is arrow notation dying off?
22:50:17 <platz> ah that's good to know there is a translation from proc to applicative in some cases
22:50:18 <jle`> i mentioned it a few lines back, but most of the things that people used to do with arrow-based interfaces and proc notation, they now do with applicative interfaces and normal syntax
22:51:04 <platz> bollu: overall everything with arrows have been slowly going away, yeah
22:51:16 <jle`> most exploration/usage of Arrow happened before Applicative really took off as an abstraction around 2008-2010
22:51:42 <jle`> Applicative is just more often a more natural/intuitive way to work with things
22:52:24 <bollu> jle`: oh, I see. I haven't worked with arrow much expect for the occasional (&&&) or something. 
22:52:25 <jle`> i'm not saying that Arrow = Applicative, but the things that we used to rely on Arrow interfaces to do, we found a nicer way to express through different usage of Applicative interfaces.
22:52:25 <platz> and applicatives can give you the "locally stateful computation" that you outlined in the last post of the series that proc notation gives so easily?
22:52:26 <catsup> iirc arrow was discovered 10 years before applicative
22:52:58 <jle`> s/the things/a lot of the things
22:53:27 <platz> I realize that a lot of the reasons people liked arrows the realized were for things not unique to arrow
22:53:36 <platz> but i'm wondering about the things that remain unique
22:53:48 <catsup> platz: there's a paper you should read...
22:54:01 <platz> which might not be as useful, but hard to replicate
22:54:04 <bollu> catsup: arrow was first introduced in the paper on parsing, right? the one where monad leads to a space leak because backtracking?
22:54:12 <catsup> platz: http://homepages.inf.ed.ac.uk/wadler/papers/arrows-and-idioms/arrows-and-idioms.pdf
22:54:15 <catsup> bollu: ya
22:54:23 <platz> i thought the "locally stateful computation" part was one of those hard-to-replicate things
22:54:42 <catsup> platz: 'idioms' = applicative
22:54:53 <platz> catsup: thanks, i'll take a look
22:54:58 <bollu> oh, right, guys, why is there only filterM and not filterA?
22:55:02 <jle`> well, you still need Category for it to work nicely, but with Category + Applicative, you can do a lot of what you'd do with Arrow
22:55:06 <bollu> someone showed an implementation of filterA
22:55:18 <jle`> in terms of 'locally stateful' programming
22:56:36 <platz> jle`: hrm, really - I don't think i've seen this blogged by anyone
22:56:40 <bollu> is "idiom" a thing in haskell?
22:56:47 <c_wraith> bollu: I think it's mostly just because it's not all that common of an operation at all, let alone with types that are instances of Alternative but not Monad
22:57:27 <catsup> bollu: 'idiom brackets' are a proposed syntax for applicative...  applicative do probably killed any chance of that
22:57:33 <c_wraith> bollu: "idiom brackets" is a proposed syntax (and implemented in SHE) for applicative computations.  Idiom is approximately the same as applicative in that context.
22:57:35 <bollu> c_wraith: oh hm, fair.
22:57:52 <bollu> catsup: oh, interesting. I had no idea about this. and.. what's SHE?
22:57:53 <c_wraith> err, Applicative but not Monad.  I'm tired.
22:58:01 <c_wraith> Strathclyde Haskell Enhancement
22:58:02 <catsup> SHE is a haskell preprocessor
22:58:06 <c_wraith> It's a preprocessor
22:58:10 <jle`> platz: i mean, the idea behind first/second/(***) is to be able to "side-chain" computations, but liftA2 does the same thing
22:58:17 <bollu> oh, wow. one more thing about the haskell ecosystem I didn't know of
22:58:27 <catsup> SHE is ancient and dead
22:58:41 <catsup> as is the term 'idioms'
22:58:47 <bollu> ohh
22:58:57 <bollu> what did idiom brackets look like though? I'm curious
22:59:00 <c_wraith> SHE was Conor McBride, right?
22:59:03 <bollu> can someone write out an example piece of code?
22:59:18 <catsup> bollu: a <$> b <*> c    looks like [[a b c]]
22:59:35 <bollu> ohh, hm.
22:59:53 <catsup> or maybe it was ||a b c||
23:00:03 <catsup> i duno something like that
23:00:04 <bollu> so basically (liftAn x) y z … == [[x y z]] ?
23:00:25 <catsup> ya
23:00:30 <bollu> is there something like codeClimate for haskell code?
23:00:34 * hackagebot np-extras 0.3.1 - NumericPrelude extras  https://hackage.haskell.org/package/np-extras-0.3.1 (BrentYorgey)
23:01:14 <bollu> (online linter that has github hooks)
23:01:16 <johnw> I think you mean [| x y z |]
23:01:17 <platz> jle`: I guess I just don't know I would translate something like this https://github.com/mstksg/inCode/blob/master/code-samples/machines/Auto2.hs#L148-L160 into Appliative notation
23:01:24 <johnw> Idris has this too
23:01:38 <platz> where `summer` is the local state in the function
23:01:50 <bollu> jle`: is it still "worth it" to study arrows?
23:01:59 <jle`> not in a vacuum, no
23:02:18 <catsup> arrows are applicable(heh) in not very many contexts, but some
23:02:29 <platz> i get that first/second can be replaced by liftA2..
23:02:33 <jle`> bollu: probably only if you have a specific situation involving a specific instance
23:02:44 <bollu> jle`: so, well, if I pick up arrows, what else would I need for it to be useful?
23:02:56 <jle`> a library that uses Arrow interfaces
23:02:58 <jle`> :P
23:02:58 <platz> Maybe it would make more sense if I remembered how proc notation is desugared into first/second
23:03:02 <bollu> jle`: ohh, alright
23:03:10 <catsup> apparently sometimes FRP uses arrows for good reasons
23:03:12 <platz> and then that could be translated into applicatives
23:03:33 <platz> but i haven't seen examples of people doing this
23:03:52 <bollu> jle`:  :P any such libraries for, say, parsing or web servers? because those two are something that I need right now
23:03:55 <jle`> platz: i've actually been exploring translating proc blocs into applicative do blocks
23:04:30 <platz> jle`: that if very exciting! :)
23:04:33 <jle`> bollu: i think there's an XML library that uses arrows, but i'm not sure if it's for a historical reasons or if they offer an advantage over applicatives
23:04:34 <platz> if/it
23:04:36 <platz> is
23:05:00 <jle`> bollu: the 'auto' library in discussion uses arrows for managing state for things like gui's
23:06:15 <jle`> platz: yeah, i think for complicated blocks like that, they don't lend themselves to nice applicative versions.  you usually have to use both applicative things with (.)
23:06:30 <jle`> but for a lot of "simple" proc blocks found in the while, they can be straighforward to translate
23:06:37 <jle`> at least that's what ocharles_ always told me
23:07:12 <bollu> jle`: oh, neat
23:07:12 <bollu> I'll check it out when I have the time, then
23:07:55 <platz> very good, very good.. i don't think this is very common knowledge but it makes sense.. simple blocks can translate to applicative nicely, complex ones, no
23:09:06 <jle`> yeah.  and the recursive blocks are the ones that are out of the question, unless you use fixed point combinators manually
23:11:34 <platz> hah, yeah.  just because there is an isomorphism that means *most* things are better when applicative, doesn't mean *all* cases, or that there may be a few nice cases where it just nicer to express this way
23:11:55 <jle`> mhm
23:13:08 <platz>  thanks for humoring me, must be turning in
23:50:36 * hackagebot cblrepo 0.20.0 - Tool to maintain a database of CABAL packages and their dependencies  https://hackage.haskell.org/package/cblrepo-0.20.0 (MagnusTherning)
23:50:36 <icicled> julianleviston: so there's not really an official documentation guide for mtl?
