00:00:57 <montanonic> Hmm, this seems like it might help me: https://github.com/yesodweb/yesod/wiki/Using-Ajax-with-a-Scaffolded-Site
00:07:40 * hackagebot http2 1.5.3 - HTTP/2.0 library including frames and HPACK  https://hackage.haskell.org/package/http2-1.5.3 (KazuYamamoto)
00:07:40 * hackagebot task-distribution 0.1.0.2 - Initial project template from stack  https://hackage.haskell.org/package/task-distribution-0.1.0.2 (axm)
00:11:46 <ij> i
00:15:35 <ij> What's the difference between arch's ‚Äûstack‚Äú and ‚Äûhaskell-stack‚Äú packages?
00:16:11 <Ralith> what do the package descriptions say?
00:16:44 <purelazy> Who is arch?
00:17:01 <ij> Ralith, Pretty much the same thing, but they aren't (apparently) conflicting.
00:17:22 <ij> Oh, I think I know why, nvm.
00:18:17 <LysergicDreams> err... why?
00:18:42 <Ralith> the secret is that the package descriptions do not actually say the same thing
00:19:04 <ij> ! you are right
00:19:44 <liste> ij: the difference is dependencies
00:20:18 <liste> ij: "haskell-stack" installs a ton of Haskell packages, "stack" doesn't
00:22:30 <ij> I hoped I would actually get to write some code. Good night, till tomorrow!
01:01:12 <marrrk> How do I access the fields in some Record created with TH in Persistent?
01:02:12 <marrrk> Oh obviously just now after asking I guessed it.
01:02:26 <cdtdev> The worst part about programming in Haskell...
01:02:43 <cdtdev> Is eventually you're going to hate life when you have to go work on your school project in Java. :\
01:03:26 <osfabibisi> cdtdev: then you get to enjoy playing with how to apply Haskellish concepts to the other language ;-)
01:04:10 <cdtdev> Except everything in Java seems like it was custom made to not accept Haskell-like concepts.
01:05:37 <liste> cdtdev: a lot of stuff transfers well, if you don't mind the verbosity
01:06:31 <osfabibisi> yeah, you're never going to get the syntax :-)
01:06:47 <osfabibisi> modern Java even has lambdas doesn't it?
01:06:58 * osfabibisi hasn't played with it since the early pre-generics days
01:07:00 <liste> osfabibisi: yes
01:07:04 <osfabibisi> woohoo!
01:08:04 <cdtdev> Except my college requires us to use Java 6...
01:08:51 <liste> cdtdev: like writing functions "Future<T> pure(T value)" and "Future<B> bind(Future<A> from, Function<A, Future<B>> to)" -- though you'll get funny looks from Java devs
01:09:48 <liste> that's only halfway there though, that generalizes very uglily
01:11:20 <osfabibisi> yeah, you might be better off learning OO and doing things The Java Way
01:11:41 <osfabibisi> it's useful to experience, even if you run away very fast from it afterwards
01:12:32 <cdtdev> Eh, I wrote an emulator in Smalltalk. Learned I hate OOP.
01:14:17 <cdtdev> In my rather inexperienced opinion: It's way too easy to code yourself into a corner in OOP.
01:16:10 <quchen> cdtdev: Similarly, Haskell feels like it was custom made to not accept Java-like concepts.
01:16:28 <liste> cdtdev: http://www.haskellforall.com/2014/04/scalable-program-architectures.html
01:16:29 <quchen> Like a broken type system, mutability everywhere, implicit nulls everywhere, early returns.
01:25:30 <AndroUser> Has anyone got any good references on tying the knot or fixed points in hylomorphisms, comonads anamorphisms or unfolds?
01:34:16 <osfabibisi> quchen: hehe, yes
01:37:47 <cdtdev> Do any of you happen to know what that Shen language is all about?
01:41:28 <cdtdev> Wait... is Shen a prolog for Types?
01:47:27 <freeMonadella> I'm trying to write an anamorphic constructor for a cycamore datatype. Can anyone help?
01:47:55 <freeMonadella> (A cyclic tree)
01:48:25 <freeMonadella> They say you should use tables to record visited nodes to contain the recursion
01:48:42 <freeMonadella> I'd like to find another way which is less expensive
01:49:41 <EvanR> cdtdev: someone mentioned Shen earlier tonight... ive yet to look it up
01:50:44 <EvanR> looks pretty cool from the brochure
01:51:38 <freeMonadella> An introduction to mu and nu world be good also
01:52:12 <freeMonadella> Does anyone know any good material on this, I can only find one on cyclic trees or graphs
02:03:38 <u_> how common is it for ghc to hang?
02:03:53 <u_> trying to build haskell-src-exts, it's been at 99 percent cpu for ages
02:06:12 <Freundlich> u_: Did it run out of memory? In that case it could take a very long time to finish.
02:06:22 <peddie> u_: haskell-src-exts is _really_ slow to build, unfortunately
02:06:24 <u_> Freundlich: plenty of memory
02:06:39 <u_> peddie: yeah, i did see it switch to clang for a few seconds just now... so it is doing something :P
02:06:55 <u_> guess i'll just be patient
02:06:57 <peddie> u_: just be patient :)
02:06:59 <peddie> haha, yep
02:19:02 <quchen> Is it safe to do `unsafeThaw . f . unsafeFreeze` to apply a Vector operation to an MVector?
02:20:09 <merijn> quchen: Yes, no, maybe, it depends
02:20:18 <quchen> "No" then :-D
02:20:50 <merijn> That'd mutate in-place, so any other references to it get confused
02:21:15 <merijn> oh, actually...
02:21:37 <quchen> Well, it would have type (Vector a -> Vector a) -> MVector m a -> MVector m a
02:21:41 <merijn> It doesn't mutate in place
02:21:52 <merijn> But it's still unsafe, because what if someone else mutates the MVector
02:21:56 <quchen> Oh, right.
02:21:58 <quchen> Hmm.
02:22:14 <quchen> I wonder whether there's a cheap way to get e.g. maximumIndexBy on an MVector.
02:23:00 <quchen> maxIndexBy it's called.
02:24:09 <quchen> But that would be (Vector a -> b) -> MVector m a -> b.
02:24:15 <quchen> m b, rather.
03:02:37 <Squarism> Hey. There is this quote by the haskell inventor about to "avoid succeess at all cost"
03:02:42 <Squarism> or similar
03:02:52 <Squarism> anyone got a link to that?
03:04:54 <liste> Squarism: maybe this: http://www.computerworld.com.au/article/261007/a-z_programming_languages_haskell/?pp=10
03:04:58 <Cale> Squarism: The original link?
03:05:06 <Cale> Um... maybe a mailing list post...
03:05:30 <Squarism> thanx
03:05:35 <Cale> It would be so old by now
03:05:48 <Cale> That I can imagine it's hard to pinpoint where it was first said
03:06:20 <Squarism> i did use google "never succeed" first so sorry for you lmgtfy
03:06:28 <Squarism> request
03:07:24 <cdtdev> https://www.simple-talk.com/opinion/geek-of-the-week/simon-peyton-jones-geek-of-the-week/
03:07:38 <Cale> Of course, at this point, it's a bit moot, because we've pretty much failed
03:07:41 <cdtdev> "Tell me about Haskell‚Äôs unofficial slogan: avoid success at all costs. What‚Äôs the origin of it?"
03:07:52 <cdtdev> "I mentioned this at a talk I gave about Haskell a few years back and it‚Äôs become quite widely quoted."
03:08:03 <merijn> Simon Marlow once observed everyone brackets it wrong
03:08:24 <merijn> i.e. "(avoid success) at all costs", vs "avoid (success at all costs)"
03:08:29 <Cale> No, everyone brackets it right, according to the original meaning.
03:08:43 <Cale> The point is that as soon as a language is successful, you stop being able to change it
03:08:56 <liste> well, at least GHC keeps changing
03:09:16 <merijn> Cale: I'm not saying anything about the original meaning, just observing the alternative interpretation
03:09:18 <dibblego> a simple improvement like FTP was a circus show, we are there
03:09:22 <Cale> yeah
03:09:24 --- mode: dibblego set -o dibblego
03:09:34 <cdtdev> "When a language becomes too well known, or too widely used and too successful - certainly being adopted by Microsoft means such a thing - suddenly you can‚Äôt change anything anymore."
03:09:50 <cdtdev> " Now, however, they‚Äôre starting to complain if their libraries don‚Äôt work, which means that we‚Äôre beginning to get caught in the trap of being too successful."
03:09:54 <merijn> To be fair I think there's a clear room for improvement with the way Haskell handles typeclasses
03:10:33 <merijn> Something like pigworker's superclass proposal to allow more easy definition/introduction of superclasses/refactoring classes is badly needed to make future changes simpler
03:10:56 <Cale> Yeah, and such proposals have been on the table for like a decade now
03:10:59 <Cale> heheh
03:11:09 <merijn> Additionally, some kind of way to define "legit" orphans, i.e. a way for package to specify class instances without incurring a dependency is crucial
03:16:44 <davean> merijn: Hum that seems like it has to inherantly violate the entire reason we have those rules.
03:19:08 <merijn> davean: My point is: Why do we want instance to be in the package that defines the class (or the datatype, whichever), the guarantee uniqueness. But now, suppose I define some datatype that could easily be a Bifunctor, but Bifunctor is NOT currently a dependency I have the choice of "do I incur an extra dependency" or "do I make this class unusable for anyone"
03:19:43 <merijn> You'd like packages to be able to include code that is only conditionally looked at. I.e. my package has an instance of Bifunctor, but GHC doesn't compile it unless we're also linking against Bifunctor
03:19:44 <davean> merijn: yes, I understand you said that
03:20:06 <davean> merijn: except that seems to cause the issue?
03:20:26 <davean> merijn: now you've got a complicated state space of potential conflicts?
03:21:03 <merijn> davean: Why? Not if the Bifunctor instance is shipped with the package defining the datatype? Because then it has to be unique still
03:22:07 <davean> merijn: compile order now matters for one. Also you potentially sometimes doesn't conflict with it in both, etc
03:23:02 <merijn> davean: Sure, if there wasn't a problem we would've already solved this, wouldn't we? :p
03:23:32 <davean> merijn: well, you asked. I said I thought your idea couldn't not cause the issue we're avoiding.
03:32:54 * hackagebot apiary-http-client 0.1.0.0 - A http client for Apiary.  https://hackage.haskell.org/package/apiary-http-client-0.1.0.0 (winterland)
03:55:00 <mettekou> Say I want to build a library and an executable from the same source tree. In my *.cabal file, I put the library directive, exposing all of its modules and listing all of its dependencies. Next I put the executable directive which should have base and the aforementioned library as its only dependencies (it has a single Main.hs file in which the main function does pattern matching and invokes a function imported from the library).
03:55:00 <mettekou>  Yet cabal complains it cannot find dependencies of the library when building the executable. Where did I mess up?
03:56:33 <merijn> mettekou: Main.hs and library source in the same directory, causing the compiler to try and rebuild all your modules when building Main instead of linking against your library
03:56:55 <merijn> mettekou: Put the executable source and library source in different source directories and rebuild
03:59:25 <mettekou_> merijn: Thanks!
04:05:12 <trubert1> Looking through the accelerate API, I'm looking for a way of incrementing and decrementing shape indexes. I.e increment :: (Shape ix) => Exp ix -> Exp ix 
04:07:19 <trubert1> More generally, how do I do arithmetic on shape expressions? +, -,... ?
04:08:41 <liste> trubert1: seems you need more constraints
04:12:56 * hackagebot cheapskate-lucid 0.1.0.0 - Use cheapskate with Lucid  https://hackage.haskell.org/package/cheapskate-lucid-0.1.0.0 (Artyom)
04:12:58 * hackagebot jwt 0.7.0 - JSON Web Token (JWT) decoding and encoding  https://hackage.haskell.org/package/jwt-0.7.0 (StefanSaasen)
04:44:34 <marrrk> Can I rename an imported function?
04:45:30 <lyxia> f = M.g
04:48:09 <marrrk> Okay, I have to somehow get around the clash first then.
04:48:14 <dramforever> import qualified Long.Module.Name as M
04:48:21 <dramforever> wait
04:48:30 <marrrk> I thought if I did this: import qualified Data.ByteString.Char8         (pack)
04:48:35 <marrrk> I could at least say Char8.pack
04:48:47 <lyxia> you have to put the full module name
04:48:51 <merijn> marrrk: No, you have to write "Data.ByteString.Char8.pack"
04:48:54 <dramforever> marrrk: import qualified Data.ByteString.Char8 as Char8
04:48:56 <marrrk> Oh, I see
04:48:57 <merijn> marrrk: Unless you use "as" to alias it
04:50:36 <marrrk> Cool now it worked. It would be cool to be able to do something like import Data.ByteString.Char8 (pack -> charPack)
04:51:35 <lyxia> "as Char" comes pretty close
04:52:12 <marrrk> yeah but not quite
04:59:00 <merijn> Also
04:59:10 <merijn> Lemme jump in by saying: Char8 is bad and you should feel bad
04:59:24 * Clint claps.
04:59:42 <merijn> https://github.com/quchen/articles/blob/master/fbut.md#bytestringchar8-is-bad
05:05:33 <dramforever> Well, not quite, I suppose. It's a valid optimization in some cases
05:05:54 <dramforever> Now is better than never. Although never is often better than *right* now. -- the zen of python, pretty much says it all
05:07:30 <ironChicken> merijn: do you know the Perl Best Practices book? In it, Conway gives the generalisation of your advice, p. 5: "Always code as if the guy who ends up maintaining your code will be a violent psychopath who knows where you live."
05:07:48 <merijn> ironChicken: I know that quote :)
05:12:58 * hackagebot tagsoup 0.13.9 - Parsing and extracting information from (possibly malformed) HTML/XML documents  https://hackage.haskell.org/package/tagsoup-0.13.9 (NeilMitchell)
05:26:53 <oddasat> Hi guys. I'm getting a 'InvalidProfileResponse "google" "Could not decode JSON ... " when using the oauth2GoogleScoped Yesod auth plugin. This is when it lands on the callback url that Yesod has generated. Anyone seen the same behavior?
05:27:57 <oddasat> Some of the return values have got contain latin1 characters, like \195\184, could that be the problem?
05:30:36 <nobag> I'd like to addFinalizer to a real number; is putting it in an IORef the way to go? I'm not going to modify the IORef after setting it initially.
05:32:59 * hackagebot zim-parser 0.2.0.0 - Read and parse ZIM files  https://hackage.haskell.org/package/zim-parser-0.2.0.0 (robbinch)
05:35:42 <phanimahesh> Hello #haskell! Reading http://comonad.com/reader/2014/letter-to-a-young-haskell-enthusiast/ reminded me of this awesome community, so dropped in.
05:53:25 <srhb> phanimahesh: Well hi then :)
06:09:29 <bennofs> nobag: finalizers are tricky. If you're not using the IORef after adding the finalizer but instead use the value itself, it might happen that the finalizer runs too early
06:09:45 <bennofs> nobag: are you ok if the finalizer runs multiple times?
06:09:54 <bennofs> (and some of those times, too early?)
06:10:52 <bennofs> nobag: because if not, it's going to be really tricky to ensure that GHC doesn't unbox your real number thus throwing away the constructor to which you attached the the finalizer --> boom, finalizer runs too early
06:20:48 <nobag> bennofs: I would be dereferencing the IORef to get the value, and it wouldn't be a huge deal if the finalizer runs multiple times
06:21:38 <bennofs> nobag: if you would be dereferencing that IORef, definitely go the IORef value. It has much easier semantics and works more reliable IME
06:21:49 <bennofs> s/value/route
06:22:03 <nobag> bennofs: finalizers running multiple times shouldn't happen if I go with IORef boxing rather than just the value, correct?
06:23:45 <bennofs> nobag: yeah I think with IORef that should not happen, since an IORef must be explictly "allocated" with newIORef and GHC can't just duplicate it, as might happen with ordinary values
06:24:42 <bennofs> in general, if you use finalizers, you want to control the lifetime of objects carefully, and that is just much easier to accomplish with IORefs than with ordinary values, which can be duplicated and deconstructed into parts etc
06:24:49 <nobag> bennofs: it would be cool if there was a type with identity but which isn't mutable, but I supposed if I really cared I could newtype IORef
06:25:31 <bennofs> yes, I would also like such a type :) 
06:28:15 <phanimahesh> wait haskell supports finalizers and constructors?
06:28:18 <phanimahesh> O_O
06:28:30 <xa0> wat
06:29:25 <ertes> phanimahesh: finalisers, but not constructors
06:29:34 <ertes> (not in the sense you probably mean)
06:30:04 <phanimahesh> Thank heavens!
06:30:31 <phanimahesh> but bennofs said "throwing away the constructor to which"...
06:30:41 <phanimahesh> btw ehere can I read about the finalisers?
06:30:45 <bennofs> phanimahesh: data constructors
06:30:53 <bennofs> phanimahesh: like data T = X a, X is a constructor
06:30:59 <phanimahesh> Ah. Makes sense.
06:31:30 <bennofs> phanimahesh: https://hackage.haskell.org/package/base-4.8.2.0/docs/System-Mem-Weak.html
06:31:56 <ertes> phanimahesh: most haskell programmers never need to touch finalisers‚Ä¶  they are for low-level programming, like when you're building a pure abstraction around a mutable array, or when you're writing a database binding
06:31:59 <bennofs> but I recommend to avoid using them if at all possible, it leads to hard-to-find bugs
06:33:37 <ertes> in other words: although related, they don't take the same role as destructors in OOP
06:33:57 <phanimahesh> Thanks. I was very confused for a moment.
06:38:01 * hackagebot lambdacube-gl 0.5.0.3 - OpenGL 3.3 Core Profile backend for LambdaCube 3D  https://hackage.haskell.org/package/lambdacube-gl-0.5.0.3 (CsabaHruska)
06:39:17 <phanimahesh> It makes sense now. I remember reading about these long ago.
06:41:00 <nobag> Is there a library implementing mutable ordered dictionaries?
06:41:19 <merijn> Any pipes users know a more convenient way to use an IO action repeatedly as a Producer instead of "forever (liftIO (readBChan results) >>= yield"?
06:41:37 <merijn> nobag: What's the goal?
06:41:50 <merijn> nobag: i.e. will a Map in an MVar/TVar work?
06:44:12 <lieven> merijn: repeatM?
06:44:22 <nobag> merijn: that will surely work, I'm just implementing a runtime for an FRP-like library and I thought the least garbage my implementation generates the better
06:45:09 <merijn> lieven: \o/
06:45:21 <jophish> nobag: perhaps this: https://hackage.haskell.org/package/hashtables
06:45:36 <jophish> could you use that?
06:45:53 <nobag> jophish: hash tables don't map well onto ordered collections
06:46:18 <jophish> ah, if that's an unavoidable constraint...
06:46:44 <jophish> depending on your usage it might still be worth profiling to see
06:48:15 * hackagebot case-insensitive 1.2.0.6 - Case insensitive string comparison  https://hackage.haskell.org/package/case-insensitive-1.2.0.6 (BasVanDijk)
06:48:26 <nobag> jophish: it's just an experimental thing for my master thesis so I think I'll go with Map to save time
06:48:47 <joneshf-laptop> Having some issues with ghc-mod. I installed from `stack install ghc-mod`, anyone know what might be up?
06:48:49 <joneshf-laptop> ‚ûú  ~ ghc-mod check foo
06:48:51 <joneshf-laptop> ghc-mod: /usr/lib/ghc-7.10.2/settings: openFile: does not exist (No such file or directory)
06:48:55 <joneshf-laptop> ‚ûú  ~ echo $?          
06:48:57 <joneshf-laptop> 1
06:48:59 <joneshf-laptop> I'm using 7.10.3
06:49:08 <MasseR> joneshf-laptop: try stack exec -- ghc-mod check foo
06:49:11 <joneshf-laptop> so rightly, that directory doesn't exist
06:49:25 <merijn> joneshf-laptop: Clearly your ghc-mod was compiled against an older ghc
06:49:31 <merijn> joneshf-laptop: Recompile with new GHC?
06:49:37 <joneshf-laptop> ‚ûú  ~ stack exec -- ghc-mod check foo
06:49:39 <joneshf-laptop> Run from outside a project, using implicit global project config
06:49:41 <joneshf-laptop> Using resolver: lts-3.10 from implicit global project's config file: /home/joneshf/.stack/global/stack.yaml
06:49:44 <joneshf-laptop> ghc-mod: /usr/lib/ghc-7.10.2/settings: openFile: does not exist (No such file or directory)
06:49:46 <joneshf-laptop> merijn, how?
06:50:07 <MasseR> joneshf-laptop: I hate to say this but disregard merijn :). YOu probably have ghc-mod installed in /usr/bin or /usr/local/bin as well
06:50:13 <MasseR> Which is chosen instead of the stack one
06:50:32 <merijn> oh, fancy stack stuff
06:50:32 <joneshf-laptop> ‚ûú  ~ which ghc-mod
06:50:34 <joneshf-laptop> /home/joneshf/.local/bin/ghc-mod
06:51:02 <joneshf-laptop> ‚ûú  ~ ghc-mod --version
06:51:04 <joneshf-laptop> ghc-mod version 5.4.0.0 compiled by GHC 7.10.2
06:51:06 <joneshf-laptop> looks like it
06:51:29 <luigy> joneshf-laptop if you stack exec -- bash -c 'echo $PATH' ... you will notice that the implcit global bin dir it's probably getting appended to the front 
06:51:30 <joneshf-laptop> is it enough to just delete the binary? Or do I need to do some ghc-pkg magic?
06:51:54 <MasseR> joneshf-laptop:no need to do ghc-pkg magic
06:52:09 <luigy> deleting should be enough
06:54:10 <joneshf-laptop> delete it and try to install again, but it just copies the old one again
06:54:21 <joneshf-laptop> Copying from /home/joneshf/.stack/global/.stack-work/install/x86_64-linux/lts-3.10/7.10.2/bin/ghc-mod to /home/joneshf/.local/bin/ghc-mod
06:54:22 <joneshf-laptop> Copying from /home/joneshf/.stack/global/.stack-work/install/x86_64-linux/lts-3.10/7.10.2/bin/ghc-modi to /home/joneshf/.local/bin/ghc-modi
06:55:18 <luigy> I didn't follow the whole thread, but may I ask what are you trying to accomplish in the end?
06:55:19 <luigy> :)
06:56:02 <luigy> like are you trying to get ghc-mod from master?
06:56:23 <joneshf-laptop> sure, I want to try out atom with haskell, so I installed `haskell-ide` and its dependencies, one of which was `ghc-mod`.
06:56:26 <joneshf-laptop> and got to here :)
06:58:29 <luigy> latest master of ghc-mod seems to be working great so I would recommend cloning that and running `stack install` on it
06:58:46 <luigy> not as fast as before, but much more reliable :)
06:59:56 <ggVGc> do you guys use ghci much?
07:00:15 <ggVGc> I'm feeling it would benefit my workflow but I'm not sure how to start utilising it well in normal development
07:00:38 <luigy> ggVGc I would recommend checking out ghcid
07:01:39 <luigy> joneshf-laptop oh btw as to for the other issue `stack exec` should not be necessary if the project has a stack.yaml and no `dist` dir
07:02:48 <luigy> joneshf-laptop also how did that copying happend? what command did you run on what?
07:04:19 <luigy> I use ghc-mod because of it's editor integration, but there are times that ghcid shows me the error and I fix it before I get a response back 
07:04:23 <luigy> just sayin'
07:12:14 <Gurkenglas> Should there be an alias for "asum . repeat" in Alternative's definition that allows alternatives with exactly one nonempty constructor to immediately say that one is the result?
07:12:45 <Gurkenglas> (or even convert to a type that doesn't have that empty constructor)
07:13:50 <Gurkenglas> (in fact the exactly one nonempty part doesnt sound necessary)
07:14:10 <ertes> i need a monadic stream type with a minimal set of library dependencies:  newtype Gen m a = Gen { runGen :: m (a, Gen m a) }
07:14:27 <ertes> does anyone know of a library that provides such a type?  if not, i'm going to make one
07:14:48 <ertes> (it's not a monad, but m may be a monad)
07:15:55 <Gurkenglas> If it was (a, m (Gen m a)), Cofree m a
07:16:26 <ertes> well, you could abuse Free
07:16:40 <ertes> Gen m a ~ FreeT ((,) a) m Void
07:17:11 <ertes> but free drags a huge dependency tree along with it, and also i'd prefer not to have Pure for efficiency reasons
07:17:41 <Gurkenglas> Stream: https://hackage.haskell.org/package/comonad-transformers-0.6.2/docs/Control-Comonad-Trans-Stream.html
07:18:11 <Gurkenglas> Wait, no, nvm
07:18:23 <ertes> it can't be a comonad
07:18:53 <ertes> hmm, maybe it can, if m is one
07:18:57 <Gurkenglas> I saw http://hackage.haskell.org/package/list-t-0.4.6.1/docs/src/ListT.html#ListT and thought that'd be exactly right without the Maybe
07:19:18 <Gurkenglas> But it cofreely pulls the a out of the f again
07:19:53 <ertes> seems like i'm going to write it myself =)
07:20:31 <Gurkenglas> Call it StreamT instead of Gen!
07:20:51 <ertes> StreamT seems misleading, because it's not a monad transformer
07:21:02 <Gurkenglas> sure is
07:21:19 <Gurkenglas> or isn't? oh because there's no end to attach to?
07:21:22 <ertes> i stole Gen from quickcheck, which has a similar type, also called Gen
07:21:47 <ertes> Gurkenglas: well, you can make it one
07:21:54 <ertes> but it's going to be a terrible one
07:22:34 <ertes> and i'd rather not provide a Monad instance than to provide one that has time complexity linear in the number of elements produced so far, with horrible repeated effects, etc.
07:23:02 <ertes> (the correct Monad instance would have to do diagonalisation)
07:29:46 <tdammers> hmm, is there a way to use quasi-quoters inside a `where` block? I'm getting syntax errors when I try
07:30:18 <Gurkenglas> Okay, I see the problem now with the repeated effects, okay
07:31:30 <ertes> Gurkenglas: even without the repeated effects (m = Identity), the Monad instance would have complexity O(i) for the i-th element, meaning that the overall complexity is quadratic
07:33:21 <ertes> i have no proof that there can't be a better implementation, so you're welcome to try‚Ä¶  but be warned: i've tried for years =)
07:39:11 <quchen> Is there a way I can control the number of shrinks QuickCheck attempts to do?
07:39:31 <quchen> My counterexamples are still a bit long.
07:43:17 * hackagebot irc-fun-color 0.2.1.0 - Add color and style decorations to IRC messages.  https://hackage.haskell.org/package/irc-fun-color-0.2.1.0 (akrasner)
07:44:36 <anax> quchen return an empty list when done shrinking. It's up to the Arbitrary instance when shrinking completes
07:45:59 <quchen> anax: Is that so? I think there's more than that. `shrink` gives you a (potentially very long) list of simpler sub-values. Quickcheck then tries those in order, and takes the simplest one in a certain range, no?
07:46:53 <quchen> For trees or graphs the number of potential shrinks is astronomical, so I think it should abort in the default case.
07:48:01 <ertes> quchen: not exactly answering your question, but i'd like to note that smallcheck tends to produce very small counterexamples
07:49:10 <quchen> ertes: I'm also using Smallcheck for other parts. However, I can generate larger data structures with QuickCheck, and then shrink them down to counterexamples. That's sometimes more efficient than exhaustively searching everything.
07:52:12 <quchen> anax: I think it even *has* to stop trying shrunken values, or it would never finish trying all the shrinks of an infinite structure.
07:52:13 <anax> quchen In your shrink you could refuse to simplify further
07:53:11 <quchen> I don't want to stop shrinking: I want to make Quickcheck keep shrinking, e.g. until it has exhaustively searched all possible shrinks. (Only for selected tests, of course.)
07:54:22 <anax> My understanding is that quickcheck will report a failure which is not the simplest counter example if you decide not to shrink further. It's a trade-off. Either spend more time in computing the simplest counter example or get your answer fast
07:55:34 <quchen> Oh, so you mean that Quickcheck stops only if a shrink results in []?
07:56:32 <quchen> Hm, that would also be a valid implementation, but a very "left-biased" version of shrinking.
07:56:41 <quchen> I guess I'll have to dive into the source to find out more.
07:57:40 <mettekou> Should a module within a library ever export monadic non-IO (EitherT, StateT...) actions for another module in that library to use or should it handle resolving them and export a pure function?
07:58:37 <tdammers> mettekou: I like to go with either exposing everything as pure functions, or wrapping the monad stack in a transparent newtype without exposing the implementation
07:59:23 <tdammers> also add the appropriate MonadSomething instances for the newtype, e.g. MonadIO if you have IO in the stack, etc.
07:59:35 <quchen> +1 for the abstract newtype
08:01:34 <anax> quchen shrink is used only if the property fails to reduce the found counter example into a simpler one
08:02:05 <anax> if you return [] quickcheck knows it has found the simplest one
08:05:40 <quchen> anax: Aaah right! I was thinking in terms of lists where [] is a valid shrink, but "the empty list shrink" would be [[]]!
08:05:56 <quchen> Hah, thanks for your patience and showing me the obvious :-)
08:08:33 <LysergicDreams> Is there a cleaner way to do these Named classes: http://sleepanarchy.com/p/BBjVoo
08:12:07 <ij> It seems stack doesn't like my machine: http://sprunge.us/eYAX Googling didn't do much to help with "setup"'s error msg.
08:14:56 <rydgel> ij: you should probably try to turn off the system GHC, with `system-ghc: false`
08:19:02 <ij> Seems to help!
08:37:04 <desophos> is Haskell Design Patterns a good book?
08:37:37 <desophos> i'm looking through the Haskell books on Safari Books
08:37:49 <desophos> (even though i already bought The Haskell Book)
08:38:54 <dmj> there is a haskell design patterns book?
08:41:51 <eskimo> @desophos If you mean the one by Packt Publishing - no, not really
08:41:51 <lambdabot> Unknown command, try @list
08:42:00 <desophos> yes that one eskimo
08:42:07 <desophos> thanks, won't waste my time on it then
08:42:46 <eskimo> #desophos There is some interesting stuff in there, but it is not worth its money
08:42:59 <LysergicDreams> functional data structures is good, different from "Design Patterns" I guess, and it's mostly in SML
08:43:10 <eskimo> You are welcome
08:43:39 <desophos> thanks LysergicDreams, i queued that one
08:44:27 <Gurkenglas> LysergicDreams, (a, b) is a special case of m b
08:45:26 <Gurkenglas> So "usingName :: (T.Text -> (b, a)) -> (b, a)" would be covered by usingNameM, if you're okay with swapping the tuple parameters
08:46:19 <Gurkenglas> Although for what you're doing you probably want Const b a instead of (b, a)
08:47:25 <Gurkenglas> Although I'm not sure whether that'll work, for surely there's a reason why you need to have a in the type signature, and "\n -> (x, n)" works for all type signatures again, so it wouldn't know which Named a to use
08:47:40 <Gurkenglas> Putting another type signature in there should fix it
08:53:13 <Gurkenglas> (You could also use Proxy btw)
08:54:11 <Gurkenglas> LysergicDreams, http://sleepanarchy.com/p/DQtkeb#L31,63 I think you'll need to enable the ScopedTypeVariables extension for this
08:54:14 <bam365> does anyone know if it would be possible to use Network.FTP.Client, which for some reason uses String for all data, to send UTF-8 encoded content?
08:54:58 <LysergicDreams> Gurkenglas: Interesting, where does Const come from?
08:55:22 <Gurkenglas> https://hackage.haskell.org/package/base-4.8.2.0/docs/Control-Applicative.html#t:Const
08:55:24 <LysergicDreams> nvm
08:58:15 <Gurkenglas> (Oh and of course remove the hacky "@(x:_)" :D)
09:00:46 <ij> So stack makes all deps be subdirectories of the project?
09:00:47 <Gurkenglas> LysergicDreams, btw maybe https://hackage.haskell.org/package/aeson-0.11.1.0/docs/Data-Aeson-TH.html can take all this work from you?
09:03:40 <LysergicDreams> Gurkenglas: I don't know enough TH to pull that off atm - that'd be the long term goal though
09:05:27 <rydgel> ij: not really, why do you think so?
09:15:00 <puregreen> I'm writing an Earley parser with mixfixExpression and I want to parse ‚Äúlet_=_in_‚Äù, but the problem is that the first hole is an identifier and the second two holes are expressions (and mixfixExpression wants all holes to be handled by the same parser)
09:15:42 <puregreen> is there any way to work around this?
09:16:21 <julianleviston> puregreen: are you aware there‚Äôs already an Earley parser?
09:16:36 <puregreen> julianleviston: just in case, I meant that I'm using the Earley library
09:16:39 <puregreen> @hackage Earley
09:16:39 <lambdabot> http://hackage.haskell.org/package/Earley
09:16:50 <julianleviston> puregreen: that‚Äôs what I meant :) ok cool :)
09:19:15 <ij> rydgel, Silly reasons; I'll go read something to fix this.
09:19:28 <LysergicDreams> Gurkenglas: That worked well thank you
09:21:13 <julianleviston> Is Gloss usually hard to install on OS/X ?
09:21:29 <julianleviston> (using stack lts 5.8)
09:24:54 <jgornick> Hey folks, how can I link libwpa_client.so (libc6,hard-float) => /usr/lib/libwpa_client.so into my project's cabal file?
09:24:56 <julianleviston> Seems like a nightmare getting any graphics things (at all) installed on OSX for GHC...
09:25:25 <dcoutts> jgornick: in .cabal in extra-libs: wpa_client
09:26:58 <jgornick> dcoutts: Do I also need to include the header file located at /usr/include/wpa_ctrl.h ?
09:27:46 <dcoutts> jgornick: the FFI pre-processor you're using may need you to yes, in which case list it in the "includes:" field
09:28:13 <jgornick> dcoutts: includes: wpa_ctrl.h, right?
09:28:26 <dcoutts> jgornick: this has two effects, cabal will pass it to your ffi pre-processor, but it'll also check the .h file is available on the target system when the package is configured.
09:28:41 <dcoutts> jgornick: if it's directly in /usr/include, yes
09:29:16 <shafox> Is there any library out there i.e. completely written in haskell not a bind to some c/c++ lib for GUI programming ?
09:29:32 <shafox> apart from fudgets which is outdated to say 
09:29:37 <julianleviston> shafox: I‚Äôd love to know that too‚Ä¶ haven‚Äôt been able to find one yet.
09:30:02 <dcoutts> shafox: I think not, unless you count html
09:30:14 <xa0> maybe making one is the answer
09:30:19 <julianleviston> :)
09:30:25 <xa0> group project?
09:30:37 <dcoutts> I can think of better uses of our time :-)
09:31:00 <dcoutts> like making it easier to get things working with C libs across platforms
09:31:27 <dcoutts> xa0: there is a xcb lib, for X programming
09:31:38 <dcoutts> which iirc is indeed pure Haskell
09:31:47 <dcoutts> but that just gives you low level x protocol
09:31:52 <xa0> ah
09:31:59 <amf> id like to start learning haddock syntax / best practices. what is a good hackage library to learn from?
09:32:32 <rydgel> julianleviston: had some issues in the past with glut/gloss but that was fixed in GHC 7.10.3. SDL2 worked like a charm tho.
09:32:33 <julianleviston> amf: lenses probably.
09:32:34 <jgornick> dcoutts: When I run cabal build, I keep getting * Missing C library: wpa_client. If I do ldconfig -p | grep wpa, libwpa_client.so is returned. Thoughts?
09:32:47 <julianleviston> rydgel: really? are you on OSX tho?
09:32:57 <rydgel> julianleviston: yes
09:33:07 <julianleviston> rydgel: oh‚Ä¶ I wonder why I can't.
09:33:11 <shafox> julianleviston, dcoutts ah, i guess. any pointers how can I start one ? 
09:33:21 * hackagebot yeshql 0.1.0.0 - YesQL-style SQL database abstraction  https://hackage.haskell.org/package/yeshql-0.1.0.0 (TobiasDammers)
09:33:22 <julianleviston> rydgel: which version of gloss?
09:33:46 <dcoutts> jgornick: run with -v3, it may well be that it's not that it cannot find it, but that there's some additional linking error
09:34:01 <dcoutts> jgornick: e.g. sometimes you can't just -lblah, but need to link with various other things too
09:34:30 <dcoutts> jgornick: it's doing a link test, not just checking the lib exists
09:34:56 <rydgel> julianleviston: 1.9.3.1 I think at that time. But my problem was related to a dependency of gloss (GLUT). See: https://github.com/elisehuard/game-in-haskell/issues/6
09:34:59 <amf> julianleviston: ok this looks pretty good. thanks!
09:35:15 <julianleviston> rydgel: I thought you just said you had no trouble using it?
09:35:54 <julianleviston> rydgel: and yeah, I‚Äôm having trouble with GLUT too‚Ä¶ it will compile but not GHCi.
09:36:52 <rydgel> julianleviston: what version of GHC are you using?
09:37:06 <julianleviston> rydgel: 7.10.3 I think...
09:37:22 <julianleviston> rydgel: yeah‚Ä¶ stack lts-5.8 uses that
09:37:29 <rydgel> julianleviston: you can try that for your GLUT issue btw https://github.com/haskell-opengl/GLUT/issues/19#issuecomment-158131434
09:37:59 <julianleviston> rydgel: already tried it about an hour ago ;-) it doesn‚Äôt help GHCi.
09:38:42 <puregreen> amf: also see: https://artyom.me/haddock-mistakes
09:38:55 <puregreen> amf: lens makes quite a few of those mistakes
09:39:13 <rydgel> julianleviston: I didn't try to build gloss/glut for a while since those posts tho
09:39:18 <julianleviston> rydgel: so are you still having troubles, or can you actually get some gloss code to run from GHCi?
09:39:22 <julianleviston> rydgel: ah ok.
09:40:08 <julianleviston> rydgel: the whole graphics thing is such a pain in Haskell.
09:40:31 <rydgel> julianleviston: try SDL2, it worked like a charm
09:40:47 <julianleviston> rydgel: I *think* I did try ‚Ä¶ but maybe that was SDL‚Ä¶
09:41:02 <julianleviston> rydgel: I want a graphics library that‚Äôs super easy to set up for complete noobs.
09:41:05 <jgornick> dcoutts: By adding -v3 it didn't complain about missing the library or header file. Does v3 do some sort of clean?
09:41:12 <rydgel> julianleviston: but be sure to have SDL2 and co. installed on your mac first. With homebrew for instance
09:41:16 <julianleviston> rydgel: no matter the platform. I‚Äôll try SDL2 thanks.
09:41:32 <julianleviston> rydgel: yep‚Ä¶ I have SDL installed with brew already. 
09:41:49 <dcoutts> jgornick: well it's using temp files for the test link etc. Are you saying it's no longer complaining at all?
09:41:51 <julianleviston> rydgel: pretty disappointing you have to do that‚Ä¶ 
09:42:00 <rydgel> julianleviston: When I made my first game I tried gloss and encountered issues like you. I switched to SDL2 and stack and I was happy. And made my flappy bird clone :p
09:42:14 <julianleviston> rydgel: lol :) ok. 
09:42:17 <jgornick> dcoutts: Doesn't seem like it complained. It's compiling my haskell code now.
09:42:54 <dcoutts> jgornick: well I'm not sure what was wrong, we'd need to be able to reproduce it
09:43:08 <rydgel> julianleviston: no it's normal. SDL2 is a C Lib used by a lot of languages. And the sdl2 haskell package are just bindings to that lib so you have to install it first
09:43:25 <julianleviston> rydgel: oh, I understand. :)
09:43:29 <julianleviston> rydgel: but it still sucks.
09:44:05 <glutamate> If there is anyone from FPComplete here, hoogle is down: https://www.stackage.org/lts-5.5/hoogle?q=length   ==>    The given Hoogle database is not available.
09:44:05 <julianleviston> rydgel: I‚Äôm by no means new to unix and software delevopment.
09:44:31 <rydgel> julianleviston: ok
09:45:23 <julianleviston> rydgel: ideally there should be as few points of failure as possible‚Ä¶ otherwise, new people will just give up and go somewhere else.
09:45:46 <amf> puregreen: thanks! super helpful!!
09:46:05 <julianleviston> rydgel: (points of potential failure)
09:46:08 <julianleviston> rydgel: all good though.
09:46:30 <puregreen> amf: you might want to look at https://hackage.haskell.org/package/lens-tutorial-1.0.1/docs/Control-Lens-Tutorial.html, too
09:46:35 <jgornick> dcoutts: I'll let it get through here and see what happens.
09:47:01 <rydgel> julianleviston: I understand your pov, and that's why gloss is generally recommended to new people. That being said I will give it a try tonight to build gloss again.
09:47:22 <julianleviston> rydgel: SDL would be fine. 
09:47:36 <julianleviston> rydgel: it‚Äôs just that it should be a no brainer to install, really. 
09:48:23 <puregreen> I guess it has more Haddock stuff in one place
09:48:55 <rydgel> julianleviston: SDL2 is easy to use :)
09:49:19 <julianleviston> rydgel: I‚Äôm talking about installing.
09:49:19 <rydgel> julianleviston: what you wanna do?
09:49:57 <julianleviston> rydgel: I‚Äôm picking a graphics thing to use as the basis for some code for the next happylearnhaskell.com
09:50:06 <julianleviston> sorry I mean http://happylearnhaskelltutorial.com
09:50:07 <julianleviston> :)
09:50:27 <rydgel> julianleviston: oh nice
09:50:32 <julianleviston> rydgel: at least‚Ä¶ the next volume of it.
09:50:36 <Gurkenglas> LysergicDreams, shouldn't it be 'instance Named (Entity Category) where usingName = ($ "categoryVariant")'? Assuming 'newtype Entity a = Entity {getEntity :: a}' I recommend 'instance Named a => Named (Entity a) where usingName = fmap Entity . usingName . ((.) . fmap) getEntity . (. (++ "Variant"))' instead of the three Entity instances :D although you'd have to replace 'usingName :: (T.Text -> f a) -> f a' by 
09:50:36 <Gurkenglas> 'usingName :: Functor f => (T.Text -> f a) -> f a'
09:51:02 <rydgel> julianleviston: so yeah I understand your concern about how easy it is to get into that
09:51:03 <julianleviston> rydgel: still not convinced it‚Äôs a good thing to use because there‚Äôs no guarantee it‚Äôll actually be easy to install / setup.
09:51:07 <julianleviston> rydgel: ;-)
09:52:17 <rydgel> julianleviston: the first game I made was a CLI game. I know it's less sexy but you still can get to learn stuff like State and so
09:52:21 <julianleviston> rydgel: I‚Äôm almost tempted to do reflex-dom stuff‚Ä¶ though it‚Äôs just a bit too advanced for what I want to use. *might* do diagrams, but that‚Äôs not interactive.
09:52:49 <julianleviston> rydgel: I‚Äôve done a few of those already, (super basic ones) but I want to vary it a bit more‚Ä¶ and build to the graphics stuff eventually‚Ä¶ 
09:53:29 <julianleviston> rydgel: state is way further than where vol1 ends at.
09:53:46 <lambda-11235> In http://lpaste.net/154741, why is the second isPrime orders of magnitude slower than the first?
09:54:02 <Gurkenglas> waaait i read that wrong the Entity one is supposed to be unchanged
09:54:29 <rydgel> julianleviston: just as reflex-dom, no?
09:54:46 <julianleviston> rydgel: reflex-dom‚Äôs types are insane for a beginner.
09:55:38 <julianleviston> rydgel: it‚Äôd be not quite as difficult (but almost) as throwing them into Snap ;-)
09:55:58 <julianleviston> rydgel: anyway, I‚Äôm just looking around at the moment and weighing options.
09:56:00 <rydgel> julianleviston: yeah
09:56:10 <julianleviston> rydgel: might just end up using the ANSI library first ;-)
09:56:23 <Gurkenglas> LysergicDreams, here's the version using Proxy: http://sleepanarchy.com/p/TCLYtJ#L31,34
09:56:23 <rydgel> julianleviston: might be worth to post your error to the gloss/glut whatever bug tracker
09:56:36 <rydgel> julianleviston: might be a easy fix
09:56:43 <julianleviston> rydgel: it‚Äôs already up there. It‚Äôs one of those ‚Äúlost between 3 libraries‚Äù things at the moment, I think.
09:57:45 <Gurkenglas> LysergicDreams, I mean this http://sleepanarchy.com/p/LvP9hH
09:58:01 <Gurkenglas> (lpaste still mostly allows editing!)
09:58:16 <ott> Is it possible to use `MonadReader r` and `MonadIO` so that calling the function like either `r -> IO a` or `ReaderT r IO a` will work?
09:59:15 <ironChicken> are there combinators for Ordering? i.e. something which joins some Ordering expressions together to give an overall Ordering of the whole expression
09:59:27 <ironChicken> does that even make sense?
09:59:36 <LysergicDreams> Gurkenglas: No, categories have products, products have productvariants, they are distinct - I want "category" not "categoryVarients"
09:59:40 <Gurkenglas> sure. If you're only using ask and liftIO already, just remove the type signature and ghci will tell you the general one
09:59:48 <ott> ironChicken: `mappend`?
09:59:54 <julianleviston> ironChicken:  say more about what you mean?
09:59:56 <Gurkenglas> (@ironChicken)
10:00:37 * ironChicken is thinking...
10:01:46 <Gurkenglas> julianleviston, he has a function that he wants to work for both of his types. ironChicken, ask and asks and liftIO etc. work for both of those and if your function only uses such functions then so does it
10:01:58 <ott> Gurkenglas: I think you meant me. I have the function defined in a library like `(MonadReader r m, MonadIO m) => m ()` but that doesn't seem to be usable as `r -> IO ()` because picking `m` as `(->) r` leaves no "space" for the `IO`
10:02:10 <Gurkenglas> shoot, right, i meant ott
10:03:35 <Gurkenglas> shoot, right, r -> IO () does not have the form m ()
10:04:12 <ironChicken> ott: ah yes, mappend looks like it might be the thing
10:04:15 <julianleviston> ironChicken: Ordering has LT EQ or GT right‚Ä¶ so how would it combine them?
10:04:27 <julianleviston> ok cool :)
10:05:21 <ironChicken> i'm going to try. but julianleviston is right in the (implicit) suggestion that i don't really know what i'm doing ;-)
10:05:43 <julianleviston> ironChicken: well mappend GT _ will be GT‚Ä¶. etc. (ie GT is preferenced over others)
10:06:15 <liste> @check \ord1 ord2 -> (ord1 <> ord2) === (if ord1 == EQ then ord2 else ord1)
10:06:16 <lambdabot>  +++ OK, passed 100 tests.
10:06:35 <ironChicken> if i have exp1 :: Ordering, exp2 :: Ordering, etc. i think i want to do: exp1 `mappend` exp2, etc.
10:06:42 <ironChicken> for some fixed number of expn
10:07:23 <ironChicken> because i want to "combine" the Orderings in a an order or precedence
10:10:25 <lambda-11235> In http://lpaste.net/154741, why is the second isPrime orders of magnitude slower than the first?
10:10:34 <ott> Gurkenglas: And there's no obvious way to reorganize that to work both ways?
10:13:16 <Gurkenglas> ott, you could have it work for r -> IO a and Reader r (IO a) :I
10:14:49 <ott> Gurkenglas: Yeah, I'd just have two different monads and specify one class on each of them, right? That seems very non-standard though. I've never seen it in other libraries?
10:28:07 <lambda-11235> Neverming, figured it out.
10:33:26 <puregreen> am I right that you can't get a parser that only parses prime numbers without using the monadic interface?
10:36:14 <jle`> puregreen: sorta
10:36:46 <jle`> there's this trick you can do to turn a monadic parser into an applicative one if you have a finite enumerable set of potential results
10:37:03 <hpc> good thing there's only a finite number of primes ;)
10:37:12 <jle`> heh
10:37:29 <jle`> string "2" <|> string "3" <|> string "5" <|> string "7" <|> ... etc.
10:37:47 <jle`> asum (map (string . show) primes)
10:38:08 <jle`> but yeah, it doesn't work if your space of primes isn't finite heh
10:38:26 <xa0> why not?
10:38:41 <jle`> because parsing "4" will never terminate
10:38:56 <xa0> ah
10:38:58 <xa0> yeah
10:39:10 <jle`> unless you deliniate 1-digit primes, 2-digit primes, 3-digit primes ....
10:39:10 <hpc> no that's easy, just parse all the composite numbers first and fail if you match any of those!
10:39:13 <kadoban> Well, technically that'll only parse primes ;)
10:39:23 <jle`> ;)
10:39:54 <jle`> hpc: brilliant
10:40:03 <hpc> alternatively write some parsePrime using the monadic interface and then use it applicatively
10:40:12 <hpc> assuming code style is the only concern
10:43:44 * hackagebot mountpoints 1.0.2 - list mount points  https://hackage.haskell.org/package/mountpoints-1.0.2 (JoeyHess)
10:47:19 <ertes> monadic streams, initial revision, comments welcome: http://hub.darcs.net/esz/mstream/browse/Data/Gen.hs
10:47:33 <ertes> i'll add more functions and instances before release
11:02:37 <jle`> exciting stuff :)
11:13:45 * hackagebot prometheus 0.1.0.0 - Prometheus Haskell Client  https://hackage.haskell.org/package/prometheus-0.1.0.0 (LukeHoersten)
11:13:47 * hackagebot partage 0.1.0.0 - Parsing factorized  https://hackage.haskell.org/package/partage-0.1.0.0 (JakubWaszczuk)
11:46:18 <dolio> You don't need a finite set of results, really.
11:47:23 <dolio> More like a finite alphabet.
11:47:32 <dolio> And maybe not even that.
11:50:52 <dolio> parseAnything (alphabet :: String) (p :: String -> Bool) = (if p "" then pure "" else empty) <|> asum (map (\c -> (c:) <$> parseAnything alphabet (p . (c:))) alphabet)
11:51:26 <dolio> parseAnything :: String -> (String -> Bool) -> Parser String
11:53:06 <dolio> You might be able to weaken that to a method of enumerating an infinite alphabet.
11:56:24 <dolio> Oh, I did that slightly wrong.
11:56:55 <dolio> It should be `(:) <$> parseChar c <*> parseAnything ...` in the map.
11:57:23 <dolio> Where parseChar recognizes a single character, and yields it as its result.
11:59:27 <roelof> anyone seen this before with Atom : https://github.com/atom/atom/issues/11174
12:08:27 <roelof> anyone seen this before with Atom : https://github.com/atom/atom/issues/11174
12:11:20 <Gurkenglas> dolio, can you write out the Ö part in the last line? because you were using c there
12:12:05 <dolio> It's the same as before.
12:13:02 <dolio> The `(c:) <$>` part is what is changing.
12:17:48 <eazar001> hello, i'm currently inspecting some bitrotting source code in haskell ...
12:17:55 <eazar001> and i'm seeing this `void' function
12:18:11 <eazar001> it's been a few years since i've touched haskell, does anyone know where void is coming from?
12:18:24 <jle`> it's in Data.Functor
12:18:31 <jle`> @hoogle void
12:18:32 <eazar001> jle`: ahh thank you very much!
12:18:32 <lambdabot> Foreign.Marshal.Error void :: IO a -> IO ()
12:18:33 <lambdabot> Control.Monad void :: Functor f => f a -> f ()
12:18:33 <lambdabot> package void
12:18:33 <roelof> eazar001:  I think we need to see the code to tell 
12:18:46 <eazar001> roelof: based on the type signature he sounds correct to me
12:19:00 <jle`> void f = () <$ f
12:19:20 <jle`> or f >> return () for monads
12:19:24 <roelof> NP, jle knows more haskell then me. I still have to learn monads 
12:19:33 <scshunt> monads are easy
12:19:43 <eazar001> i do remember my monads
12:19:46 <scshunt> they're just like a taco factory in shrinkwrap
12:19:47 <scshunt> or something
12:19:55 <eazar001> i got to the point of transformers when i stopped using haskell
12:20:04 <eazar001> i got frustrated with cabal hell
12:20:15 <scshunt> stackage exists now
12:20:17 <scshunt> everything is magical
12:20:21 <roelof> scshunt:  if there are easy , why does any book monads at the end 
12:20:27 <eazar001> now i'm just inspecting some source code for some guy who was trying to write some compiler in it
12:20:36 <jle`> roelof: not because they're not easy, but because they're not super useful or relevant until the end
12:20:49 <roelof> eazar001:  I use stack instead of cabal. No cabal hell anymore 
12:21:04 <KaneTW> :t (()<$)
12:21:06 <lambdabot> Functor f => f b -> f ()
12:21:08 <eazar001> roelof: scshunt how does it work?
12:21:10 * dcoutts uses the nix-local-build branch of cabal, no cabal hell anymore
12:21:14 <KaneTW> that's cool
12:21:36 <roelof> eazar001:  you mean stack ? 
12:21:42 <eazar001> stack/stackage 
12:21:47 * hvr uses the nix-local build as well... 
12:21:55 <eazar001> i used to do this ridiculous thing where i'd sandbox everything
12:22:10 <roelof> eazar001:  see here : http://docs.haskellstack.org/en/stable/README/
12:22:12 <jle`> hooray for a world with no more sandboxing
12:22:15 <eazar001> i found that to be a very annoying work around
12:22:20 <dcoutts> eazar001: that's effectively what stack and the new cabal do now automatically
12:22:31 <dcoutts> though it's somewhat more sophisticated than that
12:22:48 <eazar001> roelof: dcoutts ... thx i'll look into this stack a bit closer then
12:23:02 <jle`> i experience a thrill every time i go back to an old project and rm -r .cabal-sandbox
12:23:33 <eazar001> well ...
12:23:38 <eazar001> it's just have you guys ever used Rust?
12:23:45 <roelof> me not
12:23:54 <eazar001> try the Cargo package system
12:24:04 <eazar001> that's how building/distribution should be done imho
12:24:20 <roelof> What is a good ide for linux except vim and emacs which can work with stack 
12:24:24 <eazar001> anyway, i do thank you guys for your advice
12:24:41 <jle`> atom?
12:24:44 <eazar001> jle`: and thanks again for pointing me to the right import
12:24:48 <roelof> I use now atom but it chrashes on every stack project 
12:25:04 <roelof> jle`:  yep, the atom ide made by github 
12:25:27 <jle`> np!
12:27:26 <sm> I'm using atom with stack projects without crashes
12:28:48 <ertes> eazar001: the real problem is that even today every language invents its own mini-package-manager, each with ad hoc mechanisms for everything from development to deployment
12:29:14 <ertes> cargo is not a good solution, regardless of how well it works *for rust*‚Ä¶  the real solution should not be bound to any language
12:29:24 <koz_> ertes: And they all tend to be broken in different, slightly annoying ways.
12:29:32 <ertes> so far nix is closest to what i would consider a *real* solution
12:29:38 <eazar001> ertes: agreed, but .... old and new packages just install for me flawlessly
12:29:48 <dcoutts> ertes: unfortunately the language neutral ones tend to not solve the problems that the per-language ones have
12:29:57 <dcoutts> ertes: nix is indeed the closest
12:30:35 <eazar001> ertes: so it means the WORLD to me when i install a project, and it just works.
12:30:45 <koz_> dcoutts and ertes: Have you seen GNU Guix?
12:30:46 <eazar001> (ideal or not)
12:30:55 <ertes> koz_: aware of it, but never tried it
12:30:57 <koz_> It's meant to actually do what Nix does, but even more so.
12:31:04 <dicej> Hi all.  How can I make QuickCheck test a function returning (Either String Foo) such that (Right foo) means success and (Left msg) fails and shows me the message?
12:31:08 <koz_> I've been meaning to try it for a while, but I haven't got the time to learn it. :(
12:31:14 <koz_> (or at least, not presently)
12:31:34 <simpson> koz_: I wouldn't bother with Guix unless you're interested in the GNU ecosystem.
12:31:37 <ertes> koz_: it's basically just nix with scheme and a better designed nixpkgs, as far as i understood it
12:31:39 <dcoutts> koz_: I was a bit suspicious of it, looked like it was trying to do nix only without fully understanding it
12:31:59 <ertes> oh, and it's GNU of course =)
12:32:15 <koz_> simpson: Well, I am, so yeah. :)
12:32:16 <koz_> The conversation just seemed steered that way. Also, I don't think Nix has Guix's grafting capabilities.
12:32:30 <dcoutts> koz_, ertes: but we are stealing the key nix ideas for cabal. That's what the nix-local-build branch is about.
12:33:15 <simpson> And we in Monte are straight-up using Nix as our package manager, instead of writing a new one.
12:33:33 <ertes> dcoutts: i wonder if nix couldn't simply replace cabal-install (there is nothing wrong with cabal itself, i think)
12:33:58 <dolio> Nix doesn't do some things cabal-install does.
12:33:58 <dcoutts> ertes: nix has no solver, and I think it's hard to make it conveniently aware of some of the language specific things
12:34:01 <ertes> after all nix-based haskell development doesn't involve cabal-install at all
12:34:26 <ertes> ah, yeah, that's true
12:34:28 <roelof> sm : wierd, I noticed this problem : https://github.com/atom/atom/issues/11174
12:34:35 <mike993> I've been given some assignments to do, but it's difficult for me to wrap around my head into FP after several years spent on imperative programming
12:34:52 <dcoutts> ertes: and then the obvious problem is OSX and Windows.
12:35:02 <ertes> yeah, indeed
12:35:06 <mike993> anyone would be kind enough to help me out a bit?
12:35:21 <dcoutts> ertes: but that's why we're trying to put nix ideas into cabal, because nix is great and has the right ideas
12:35:21 <ertes> perhaps some form of pseudo-bootstrap could solve the latter issue
12:35:41 <ertes> but i have no idea about the former‚Ä¶  nix isn't really version-aware
12:35:52 <dcoutts> and honestly, we have to admit nix has a bit of a learning curve
12:36:07 <ertes> absolutely
12:36:18 <bollu1> which haskell testing framework should I use?
12:36:33 <koz_> bollu1: It depends what you're trying to test.
12:36:38 <ReinH> bollu1: hunit, hspec, and tasty are popular.
12:36:41 <dcoutts> bollu1: quickcheck + (hunit +) tasty
12:36:51 <ReinH> as is quickcheck for property tests
12:36:58 <bollu1> hm, what's the different between hunit + tasty?
12:37:10 <ReinH>  hunit is a unit testing tool, tasty is a test harness
12:37:13 <bollu1> ReinH: yep, I plan on using quickcheck quite a bit
12:37:26 <ReinH> Personally I prefer hspec, but that's mostly a stylistic choice
12:37:37 <dcoutts> bollu1: so tasty is for aggregating all your tests together, QC tests, unit tests etc
12:37:42 <bollu1> ah, so tasty lets you use both hunit(for unit testing) and quickCheck?
12:37:43 <bollu1> I see, cool
12:37:50 <Clint> and so does hspec, and so does test-framework
12:37:50 <roelof> Someone who has seen this error : https://github.com/atom/atom/issues/11174
12:37:51 <ReinH> tasty is the thing that would manage your hunit unit tests and quickcheck property tests together
12:38:03 <ReinH> hspec can also do that, but in a BDD style
12:38:05 <bollu1> are the testing logs colored? :) I know it's silly but I like nicely colored logs
12:38:09 <dcoutts> bollu1: the confusion is that tasty has a re-implementation of the hunit api as one of its test providers
12:38:10 <ertes> bollu1: you can use both anyway, but tasty makes using multiple test frameworks *tasty* =)
12:38:23 <ertes> (unified output format, parallelism, etc.)
12:38:24 <ReinH> hspec's are colored, at least
12:38:28 <bollu1> ertes: heh, I see
12:39:04 <ertes> i'm only familiar with test-framework and tasty, and given a choice between those, i nowadays choose tasty
12:39:20 <dcoutts> tasty is basically test-framework but maintained
12:40:33 <shapr> I had a sudden idea, I want hackage library pages to have a tryhaskell instance with the library already loaded so you can play with the examples
12:40:47 <shapr> might not be realistic/feasible, but maybe for local libraries?
12:41:11 <shapr> sounds like something chrisdone would do
12:41:17 <ertes> oh, that reminds me:  what is the voting system i'm seeing on hackage?  ("vote for this package")
12:41:49 <dcoutts> ertes: something a GSoC student added but nobody uses :-)
12:41:55 <Elision> hah
12:42:01 <shapr> sounds familiar
12:42:04 <shapr> I did that too!
12:42:04 <ertes> i see =)
12:42:29 <dcoutts> people say they want these features, but you need to pay close attention to the UI and interaction to get anyone to use them
12:42:40 <shapr> In fact, being able to play with a library on its own docs page is vaguely close to ghcLiVE
12:42:41 <sm> agreed
12:42:47 <ReinH> dcoutts: Also people say they want features they won't actually use.
12:42:56 <dcoutts> ReinH: right :-)
12:42:59 <shapr> true that
12:43:06 <jle`> i press vote every once in a while
12:43:07 <ertes> i didn't use it, because i couldn't find any documentation‚Ä¶  i don't click "vote" unless i know what that means
12:43:10 <jle`> i don't know what i'm doing
12:43:13 <dcoutts> in this case I think the main UI problem is with the authentication
12:43:24 <dcoutts> since it only allows registered users to vote
12:43:30 <jle`> i just like pressing buttons
12:43:30 <ReinH> ertes: I wish more Americans took that attitude towards voting.
12:43:36 <jle`> shapr: that's a nice idea
12:43:40 <dcoutts> and so when you click vote it pops up the auth dialog and that puts everyone off
12:43:47 <puregreen> ReinH: which is why ‚Äúit would be useful/good for others, I guess‚Äù should be a part of every survey about features
12:43:50 <shapr> jle`: means I'll probably have to write it myself, and nobody will use it ;-)
12:43:52 <jle`> if anything it could be offered as a service, so a package maintainer can choose to host a live version of their package
12:43:57 <ertes> hehe
12:44:01 <shapr> jle`: yeah, that would be nifty
12:44:22 * sm votes for a package, sees no apparent effect, democracy is a sham
12:44:30 <shapr> I'll try to remember that idea, maybe I'll start it after I finish doing all the codekatas in Haskell
12:44:31 <MarcelineVQ> roelof: when ghc-mod crashes in atom like that then chances are ghc-mod was built with a different version of ghc than your project, the simplest fix to try is building them both with the same lts version
12:44:52 <shapr> I found two companies paying for Haskell work in Atlanta, that was neat.
12:44:58 <ertes> does anyone actually log into web-hackage?
12:45:34 <shapr> Any Atlanta area Haskellers? I want more people for my FP meetup!
12:45:43 <juanpablo_> In https://hackage.haskell.org/package/hashmap-1.3.0.1/docs/Data-HashMap.html
12:45:48 <sm> ertes: I do when required, eg to edit package informatino
12:46:06 <juanpablo_> why does the k need to need an Ord instance for a hashmap to be a monoid? `Ord k => Monoid (Map k a)`
12:46:09 <roelof> MarcelineVQ:  as far I did that is the case. I use one lts and on former exercises I did not crash. Only when I did have to make a big still not build project with Stack.
12:46:24 <ertes> juanpablo_: that's Map, not HashMap
12:46:32 <ertes> Map keys are ordered
12:46:34 <jle`> i only use hackage through the insecure http cabal interface
12:46:53 <roelof> I try to do the steps of chapter 12 of the Haskell book  and had no problems like that on former exercise 
12:47:38 <Zekka|Sigfig> You can‚Äôt insert or remove from a map without the keys being ordered, since the maps are implemented with sorted trees
12:48:04 <ertes> i think the confusion here is why the Map instance is listed in the HashMap module documentation =)
12:48:22 <ertes> haddock lists all instances that are in scope during type-checking
12:48:57 <jle`> also, people don't really use the hashmap package, from what i know
12:49:11 <jle`> ah yeah, the package page says that it's deprecated, officially
12:49:12 <ertes> yeah, use unordered-containers instead
12:49:35 <xa0> there's hashtables
12:49:44 <ertes> hash table ‚â† hash map
12:49:58 <xa0> okay
12:56:10 <bollu1> what if I want an IO action during my Huint assert?
12:56:15 <bollu1> I need to cross an FFI barries
12:56:17 <bollu1> barrier*
12:56:38 <matheus23> hi, i am getting a Ptr () from C and want to write an Array of Word32's to it. I therefore created a Data.Vector.Storable (Vector Word32) and given the (texturePtr :: Ptr ()) i did poke (castPtr texturePtr) vector
12:56:57 <matheus23> but there is no Storable instance for (Vector Word32)
12:57:23 <matheus23> and I thought there should be one, since Word32 is storable, and why shouldn't an array of Wor32s then not be storable?
12:58:02 <bollu1> matheus23: since Vector is a separate library, I don't think Vector implements a Storable instance for itself
12:58:09 <dicej> answering my own earlier question about testing functions that return Either with QuickCheck: eitherToProperty (Right _) = property True
12:58:23 <dicej> eitherToProperty (Left message) = counterexample message False
12:58:48 <matheus23> bollu1: ok so how can i write Vector content to a specific memory location?
12:59:20 <bollu1> matheus23: do you have a C array "on the other side" of the FFI?
12:59:43 <jle`> vector can't implement Storable i think, because its size isn't known at compile-time
12:59:49 <lyxia> bollu1: IO is Testable
12:59:49 <bollu1> if so, you can convert the vector to a list and use the pokeArray function(https://hackage.haskell.org/package/base-4.8.2.0/docs/Foreign-Marshal-Array.html#v:pokeArray)
13:00:09 <geekosaur> just to be clear, this is supposed to be a storable-vector of vectors of Word32?
13:00:28 <matheus23> geekosaur: no, just a one-dimensional vector of Word32s
13:01:03 <matheus23> bollu1: i'm not sure. I dont want to create a lot of Haskell-lists. I want this to run 60 times per second, and since i've got lots to do there I'd like that to take < 1 ms
13:01:03 <geekosaur> then I think you did not want Vector.Storable (Vector Word32), just Vector.Storable Word32?
13:01:47 <geekosaur> Storable is not a wrapper you put on a Vector to make it storable, it's a different *kind* of Vector
13:01:50 <bollu1> geekosaur: doesn't storable come from base.FFI (or whichever module that is, I always forget) and not from Vector?
13:01:52 <matheus23> geekosaur: I think you misunderstood me. I think I only have a Vector.Storable Word32 (I just wanted to emphasize that it's from that package)
13:02:06 <bollu1> oh hm, looks like I was mistaken
13:02:11 <geekosaur> " I therefore created a Data.Vector.Storable (Vector Word32)"
13:02:30 <matheus23> I create the Vector with generateM
13:02:32 <matheus23> btw
13:02:58 <geekosaur> and the error you report is consistent with that. my point is that is not what you think it is
13:03:00 <bollu1> can I store a multiline string (with \n and all) in a string? the way C concatenates adjacent "strings""together""like""these"?
13:03:24 <geekosaur> Data.Vector.Storable (Vector Word32) is a storable-vector of vectors of Word32
13:03:32 <geekosaur> it is not a "storable vector of Word32"
13:04:12 <matheus23> geekosaur: well, I did not create such a vector though. I create a vector like this: xorVector width height = generateM (width * height) $ \index -> do ...
13:04:34 <geekosaur> bollu1, not like C does it, no. you can use string gaps, but most people hate those to the point that they will use concat ["string1", "string2", ...] to avoid them
13:04:44 <matheus23> to be more precise, last line of that do block:    return $ fromIntegral (x `xor` y)
13:05:41 <lyxia> what's x and y
13:05:45 <bollu1> geekosaur: hm, thanks
13:05:51 <matheus23> (x :: Int), (x :: Int)
13:06:05 <matheus23> xorVector :: Int -> Int -> IO (Vector Word32)
13:06:06 <lyxia> matheus23: can you lpaste it
13:06:12 <lyxia> with the error
13:06:22 <matheus23> lyxia: yeah already thought about it as i almost posted all relevant code
13:06:48 <geekosaur> my guess us that wants to be Int -> Int -> IO (Data.Vector.Storable Word32)
13:07:04 <geekosaur> *is that
13:07:39 <matheus23> http://lpaste.net/154750
13:08:03 <matheus23> geekosaur: ah oh. So i used the wrong type annotation? 
13:08:58 <lyxia> matheus23: you call poke on a vector
13:09:03 <geekosaur> ^
13:09:23 <geekosaur> pouint being a n ormal Vector is not Storable, it's of indeterminate size. that's why Data.Vector.Storable exists
13:09:41 <geekosaur> you can poke that, you can't poke a normal Vector
13:10:15 <geekosaur> hm
13:10:25 <matheus23> uhm. I though i was using Data.Vector.Storable? i never imported any other vector
13:10:43 <geekosaur> looks to me like SDL is using Vector though? it may reexport it
13:10:55 * geekosaur checking
13:11:08 <matheus23> ok. So using "import Data.Vector.Storable as SV" and prefixing SV everywhere should fix it?
13:11:42 * geekosaur is still looking
13:12:25 <geekosaur> ok, no, that should actually be the right Vector unless something strange is going on (like, as I said, maybe SDL exporting the other one --- but in that case I'd actually expect it to be confused about which Vector to use)
13:12:44 <matheus23> yes me too
13:12:58 <ertes> the main point about Data.Vector.Storable is that it has an actual memory location
13:13:12 <ertes> in all other respects it behaves like Data.Vector.Unboxed, just sometimes a bit slower
13:13:14 <matheus23> lyxia said "you call poke on a vector". Am i not allowed to do that? generally? or was he about me not using Data.Vector.Storable?
13:13:43 <geekosaur> the latter
13:13:56 <lyxia> I meant the former actually
13:13:58 <geekosaur> although right now it looks like you have reason to think you're using the right one
13:15:05 <lyxia> matheus23: I think you want to cast the pointer, wrap it in a vector, and fill the pointer through this vector.
13:15:14 <geekosaur> and I think Data.Vector.Storable has that instance? not entirely sure trhough
13:15:44 <matheus23> lyxia: so simply poke each element at once?
13:15:47 <roelof> MarcelineVQ:  can I not assume that on one lts-relaese all ghc-mod is compiled with the same version as ghc ? 
13:16:25 <lyxia> matheus23: it's a different method, poke is lower level, though it works.
13:17:17 <matheus23> lyxia: but Vectors are usually immutable. So should i instead create a mutable vector out of the Ptr and then overwrite it?
13:18:35 <lyxia> yeah I meant a mutable vector. But your use case is simple enough that using poke should be easier
13:19:34 <lyxia> pokeElemOff, to use your vector as an array
13:19:39 <lyxia> s/vector/pointer
13:20:36 <matheus23> lyxia: i like the idea of a mutable array, but I didnt see how to create one. The only thing i found was https://hackage.haskell.org/package/vector-0.11.0.0/docs/Data-Vector-Storable.html#v:unsafeFromForeignPtr0
13:23:20 <lyxia> hmmm now that you mention it I don't know if you can turn a Ptr into a ForeignPtr like that
13:24:52 <lyxia> matheus23: also look into the Foreign stuff in base. newForeignPtr_ might work, I'm not sure.
13:25:08 <lyxia> Foreign.ForeignPtr.newForeignPtr_ I mean
13:25:32 <matheus23> lyxia: geekosaur: ok thank you both. I'll take some time experimenting now
13:26:45 <lyxia> matheus23: try using Storable.pokeElemOff instead of vectors
13:26:57 <matheus23> lyxia: currently doing that :)
13:27:40 <matheus23> (kind of. currently I'm going through the elements of the Vector and putting each element indivitdually. But i could get rid off the Vector afterwards)
13:28:57 <lyxia> yeah, there is no easy way to loop on mutable vectors
13:29:05 * hackagebot arena 0.1 - A journaled data store  https://hackage.haskell.org/package/arena-0.1 (davean)
13:34:05 * hackagebot envparse 0.3.1 - Parse environment variables  https://hackage.haskell.org/package/envparse-0.3.1 (MatveyAksenov)
13:38:41 <LysergicDreams> Gurkenglas: Thanks, didn't know Proxy existed
13:46:39 <matheus23> lyxia: geekosaur: thank you http://imgur.com/kJ8zS9B
13:48:04 <fr33domlover> Can I stack-sdist a package with its haddock docs?
13:48:15 <fr33domlover> Hackage takes forever to generate them
13:54:11 * hackagebot time-cache 0.1 - Cache current time and formatted time text  https://hackage.haskell.org/package/time-cache-0.1 (akrasner)
13:56:31 <bergey> fr33domlover: I think stack doesn't do this yet.  See https://github.com/commercialhaskell/stack/issues/737
13:57:48 <sm> maybe http://hackage.haskell.org/package/iridium helps with it ?
14:00:12 <fr33domlover> bergey, sm, thanks. i'll just wait for stack to support it
14:19:12 * hackagebot cookbook 3.0.1.1 - Tiered general-purpose libraries with domain-specific applications.  https://hackage.haskell.org/package/cookbook-3.0.1.1 (NatePisarski)
14:44:38 * hackagebot pcre-heavy 1.0.0.2 - A regexp library on top of pcre-light you can actually use.  https://hackage.haskell.org/package/pcre-heavy-1.0.0.2 (myfreeweb)
14:54:33 <akfp> What's the easiest way to write a json literal in haskell if I don't want to declare a type for it?
14:56:38 <simpson> akfp: "[1, 2, 3]"
14:58:08 <akfp> simpson: thanks!
14:59:28 <simpson> akfp: I don't really understand the context of your question, though. That might not be what you want. I couldn't think of anything easier.
15:01:02 <niez> hello, is it possible to use applicative with fold? can I somehow replace <$> and many <*> with a list or something?
15:01:59 <ReinH> :t (<*>)
15:02:00 <lambdabot> Applicative f => f (a -> b) -> f a -> f b
15:02:02 <ReinH> :t foldr
15:02:03 <lambdabot> Foldable t => (a -> b -> b) -> b -> t a -> b
15:02:09 <ReinH> what type would the list be?
15:02:44 <puregreen> what's the standard way to lift SomeMonadT Identity a to SomeMonadT m a?
15:04:53 <Cale> puregreen: In general, I believe there's no guarantee of a way to do that.
15:05:47 <Cale> Well, hmmm
15:07:40 <Cale> Yeah, I don't think you can do that for ContT
15:08:00 <niez> ReinH, example use case: https://github.com/begriffs/haskell-postgres-examples/blob/master/postgresql-simple/dictionary.hs#L17, if Dictionary would have many fields then there is no other way than type <*> field <*> field <*> field <*> field <*> field <*> field <*> field <*> field <*> field ?
15:08:32 <Cale> puregreen: If you know what transformer it is, they often define such a function though, when it's possible
15:08:37 <Cale> e.g. see mapStateT
15:09:36 <puregreen> okay, thanks
15:09:53 <Cale> I guess mapStateT is not quite what you're asking for, but close
15:10:13 <ReinH> niez: If there is a sufficiently large liftA, you can use it. You can use do notation if it is a Monad, where RecordWildcards can sometimes help.
15:10:50 <Cale> puregreen: Oh, the mmorph package seems to define a lot of relevant things there.
15:10:59 <ReinH> (Or if your sufficiently advanced GHC (8.x RC) has ApplicativeDo)
15:11:21 <Cale> Especially hoist
15:11:23 <niez> ReinH, how would I do it with liftA ?
15:12:53 <ReinH> theoretically, with liftA15 Dictionary a b c d e g h i j k l m n o p or w/e, but they don't actually go above liftA3.
15:13:29 <ReinH> Generally the answer to questions involving records with an unwieldy number of fields involve "try not doing that instead".
15:13:34 <ReinH> *involves
15:14:06 <ReinH> You can package similar fields into smaller records and compose the bigger one out of them. Lenses help keep this easy to deal with.
15:14:35 <niez> ReinH, well, this record is a database table, and I have about 50 of them, and they all have different number of fields (as you may guess)
15:15:37 <ReinH> If you're using a database adapter that doesn't let you use this sort of "compound" record to represent a single row, you should file a bug :p
15:15:46 <xa0> you could use <$> and <*>
15:15:54 <ReinH> xa0: The question was how to not use them
15:16:07 <xa0> ah
15:16:13 <ReinH> So I don't think using them would be an accepted answer ;)
15:16:17 <niez> ReinH, and when I see <*> field <*> field <*> field <*> field <*> field and then again <*> field <*> field <*> field <*> field and again I'm asking myself: "this is high level programming :)"
15:16:36 <ReinH> niez: Well, it's higher level than not having applicative.
15:16:46 <xa0> write your own liftA15
15:16:47 <xa0> :p
15:17:02 <ReinH> There's probably an acme package that contains it actually
15:17:07 <ReinH> I wouldn't be surprised
15:18:22 <ij> Could you help me make sense of this `stack build` error message? http://sprunge.us/UVNR
15:19:27 <Cale> niez: There's always Template Haskell
15:20:53 <niez> Cale, well, yes, I know, TH works well here, but I'm working in Elm right now ;)
15:21:26 <niez> Cale, and I was looking for generic solution for this common problem
15:21:40 <Cale> Well, Applicative sort of *is* the generic solution.
15:22:08 <Cale> The fact that you can just extend by another field arbitrarily kind of gives you that, despite the possibly somewhat noisy syntax.
15:22:25 <puregreen> ‚ÄúPattern bindings (except simple variables) not allowed in instance declarations‚Äù
15:22:27 <puregreen> aww :(
15:22:50 <Cale> puregreen: That's an interesting one!
15:22:57 <Cale> puregreen: What were you trying to define?
15:23:47 <puregreen> Cale: http://lpaste.net/154753
15:24:12 <puregreen> don't want to write ‚Äúconstr‚Äù and ‚Äúdatatype‚Äù for each method, but don't want to make them global either, they just pollute the namespace
15:24:41 <Cale> puregreen: You can always define them in the module but not export them
15:24:49 <puregreen> well... still don't want
15:25:26 <puregreen> but will have to anyway, I guess
15:25:40 <Stefanja> Hi
15:25:48 <Cale> Hello!
15:26:03 <Stefanja> Hehe, how are you?
15:26:26 <Cale> I'm well, thanks.
15:26:55 <Stefanja> You're welcome :)
15:27:11 <Cale> If you have any questions about Haskell, feel free to ask.
15:27:47 <Stefanja> So, I was curious. I want to learn programming, as I don't know any, except making batch files, but that's lame. Anyway, where should I start to learn programming?
15:28:14 <dedgrant> niez: In the context of Haskells, the automation you're asking for requires some higher order structure on the set of field types.  This isn't going to be an option in Elm afaik, but in GHC with some dubious extensions you *might* be able to define a typeclass instance over a universe of known field types that does the sort of fold you want.
15:28:58 <dedgrant> niez: Definitely not a good answer for how often the problem comes up in general.
15:29:12 <niez> dedgrant, ah, so simple thing and it is impossible (for mortals)?
15:29:53 <suppi> Stefanja, if you want to learn Haskell without previous experience, you might enjoy www.haskellbook.com
15:30:30 <Cale> Stefanja: hmm... this is always a tricky question to answer, because there are a lot of routes to take, and it's hard to say what's best for anyone in particular. Just getting a tutorial for some programming language (Haskell is fine) and getting a compiler/interpreter set up and starting are the first things you'll want to do.
15:31:07 <Cale> There's that book which supposedly tries to assume very little with regard to previous programming experience
15:31:21 <Cale> (I can't say how well it does at that, since I haven't read it)
15:31:31 <Stefanja> To learn Haskell, do you need to know other forms of programming?
15:32:15 <Cale> You shouldn't have to, and in some ways it might be an advantage not to have some preconceptions about how programming is supposed to work -- Haskell is a bit different at the outset from many other languages.
15:33:42 <LysergicDreams> ANyone use Spock/Reroute?
15:33:46 <suppi> another valid option is using the book "How to Design Programs"
15:33:58 <Cale> Stefanja: People often suggest http://www.seas.upenn.edu/~cis194/fall14/spring13/index.html as a Haskell tutorial these days
15:34:13 <Cale> (see "Lectures and Assignments" at the top
15:34:14 <Cale> )
15:35:03 <LysergicDreams> Stefanja: I think it's possible, you're just gonna have a lot more questions than someone who does
15:35:20 <lpsmith> niez, if you derive (Generic) on dictionary,  then you can just write instance FromRow Dictionary
15:35:32 <Cale> It's not perfect, but it'll get you started, and you can ask lots of questions here and get help
15:35:54 <lpsmith> it's new functionality that isn't documented yet,  but it needs to be
15:37:16 <niez> lpsmith, postgesql-simple and digestive-functors are just examples, I'm looking for generic solution (that would work in Elm for form validation)
15:37:25 <Cale> (There's a code block missing near the start of Chapter 3 if I recall -- that can be slightly confusing if you're not expecting it...)
15:38:48 <lpsmith> niez:  template haskell, generics,  SYB, there's a plethora of options
15:39:24 <lpsmith> I dunno about Elm, though
15:39:31 <lpsmith> your options are probably rather more limited there
15:39:45 * hackagebot clash-vhdl 0.6.9 - CAES Language for Synchronous Hardware - VHDL backend  https://hackage.haskell.org/package/clash-vhdl-0.6.9 (ChristiaanBaaij)
15:39:47 * hackagebot clash-ghc 0.6.14 - CAES Language for Synchronous Hardware  https://hackage.haskell.org/package/clash-ghc-0.6.14 (ChristiaanBaaij)
15:40:04 <niez> lpsmith, well, you can assume Haskel98 is close (without typeclasses)
16:16:24 <ij> Could anyone take a look and help me make sense of this `stack build` error message? http://sprunge.us/UVNR
16:24:25 <puregreen> will Spock take advantage of multithreading if I do -N? (it uses Warp under the hood)
16:24:47 * hackagebot clash-vhdl 0.6.10 - CAES Language for Synchronous Hardware - VHDL backend  https://hackage.haskell.org/package/clash-vhdl-0.6.10 (ChristiaanBaaij)
16:24:49 * hackagebot clash-ghc 0.6.15 - CAES Language for Synchronous Hardware  https://hackage.haskell.org/package/clash-ghc-0.6.15 (ChristiaanBaaij)
16:25:43 <hpc> oh boy, i can't wait for iggy-pop-ghc
16:25:52 <Axman6> puregreen: yes
16:27:12 <puregreen> thanks
16:27:38 <puregreen> this probably won't help much tho, the server is still pretty slow
16:28:07 <Axman6> ij: I assume you've run stack setup? you might also need to make sure it's not using your system GHC (once you start using stack, you basically don't need a system ghc installed, because stack takes care of that for you)
16:28:36 <Axman6> ij: try `stack --no-system-ghc build`
17:19:10 <ij> Axman6, stack setup has been done, and stack.yaml has system-ghc: false.
17:19:33 <ij> So no luck with --no-system-ghc since it was on already.
17:29:06 <fr33domlover> If I have a monad stack which contains ReaderT twice, is there any use for mtl to 'ask' (or 'asks') for the env values?
17:30:24 <ReinH> Well, you can't make two instances of MonadReader, but you can still use the correct number of lifts, per usual
17:30:59 <ReinH> ReaderT a with ReaderT b is equivalent to ReaderT (a,b) though
17:34:01 <fr33domlover> ReinH, indeed I was going to either use lifts or define aliases e.g. askX and askY. The ReaderTs just come from different places so composability-wise it's fine for them to be separate
17:34:57 <EvanR> what are other systems that use dependent types for proving besides coq, agdq, idris?
17:35:00 <EvanR> agda
17:36:06 <hpc> https://www.youtube.com/results?search_query=agdq
17:37:27 <ReinH> AGDQ is awesome.
17:40:54 <Gurkenglas> What expressions can you think of where the least upper bound of all fixpoints except the least one is not the least fixpoint?
17:41:27 <Gurkenglas> The uninteresting one is id, for types with exactly one constructor
17:42:43 <Gurkenglas> Two interesting ones are "many (Just 2)" and "asum (repeat x) :: [a]"
17:43:37 <Gurkenglas> Or, say, "asum (repeat x) :: ListT IO a"
17:56:48 <icicled> is it possible to unit test an unexported function in a library (own code) ?
18:19:54 * hackagebot snap 0.14.0.7 - Top-level package for the Snap Web Framework  https://hackage.haskell.org/package/snap-0.14.0.7 (DougBeardsley)
18:50:47 <OhTrueful> @pl (\f x y -> f x == f y)
18:50:47 <lambdabot> flip =<< (((.) . (==)) .)
18:56:40 <Gurkenglas> :t :t on (==) -- OhTrueful 
18:56:41 <lambdabot> parse error on input ‚Äò:‚Äô
18:56:49 <Gurkenglas> :t on (==) -- OhTrueful 
18:56:50 <lambdabot> Eq a1 => (a -> a1) -> a -> a -> Bool
19:21:57 <zRecursive> ghc.exe: unable to load package `time-1.5.0.1'!  However, `~ $ ghc-pkg.exe list|grep -i time` => old-time-1.1.0.3\n  time-1.5.0.1
19:24:58 <andrewsp> hi
19:25:29 <johnw> hi andrewsp 
19:26:38 <andrewsp> I'm new to Haskell and to try to learn I'm doing some exercise from a book
19:26:53 <johnw> sounds like a good starting place
19:27:19 <andrewsp> I was wondering if someone kind enough would help me out with a couple of these exercises
19:27:25 <andrewsp> :)
19:27:30 <pavonia> zRecursive: When do you get that error?
19:27:31 <johnw> we entertain any specific questions about Haskell :)
19:28:52 <andrewsp> great, would you take a look?
19:29:03 <andrewsp> it's about a b-tree
19:29:19 <johnw> i'm sure someone else here will be glad to help; I'm about to sit down to dinner
19:30:07 <andrewsp> ok, I'll paste it here then
19:30:16 <johnw> use a pasting service, like lpaste.net
19:30:30 <andrewsp> yes, I'm used to pastebin :P
19:30:34 <johnw> ok, great :)
19:31:18 <zRecursive> pavonia: when i issue ':l Foo' in ghci under emacs's eshell.
19:31:38 <andrewsp> here: http://pastebin.com/MU7v4YvH
19:31:51 <andrewsp> if someone wants to take a look is welcome :)
19:32:20 <andrewsp> the exercise requires to count the elements of type 'Zero' of a binary tree
19:32:59 <johnw> ah, when you said b-tree I thought you meant something else entirely :)
19:33:21 <andrewsp> but I'm not familiar enough with constructors and I have no idea how implement the 'cases' for recursion
19:33:42 <andrewsp> like everything I tried gives me an error
19:33:47 <pavonia> zRecursive: More information would be helpful, e.g. what if you build the file from ghc with -v?
19:33:49 <johnw> what is the error?
19:34:20 <andrewsp> about types mismatching
19:34:29 <johnw> can you paste that too?
19:34:52 <andrewsp> ok, 1 sec
19:36:37 <zRecursive> pavonia: the Foo.hs is a module and `ghc -v Foo` creates Foo.o successfully without any problem.
19:37:09 <pavonia> And when you run a program using Foo?
19:37:21 <andrewsp> oh wait, sorry I think it was beacuse I added the case of Node being Nil
19:37:27 <DrinkTea> Hi
19:37:28 <andrewsp> but a node cannot be Nil, right
19:37:44 <Gurkenglas> andrewsp, in line 15, relative to line 12, you've gained the information that t has the form "Node n l r". On the right side of 15's ->, you do "countZeroInTree t", which is just going to call the same thing you just did with the same argument, landing in an infinite loop even if you get it to work
19:37:48 <pavonia> andrewsp: Wure, it can
19:37:51 <pavonia> *Sure
19:38:23 <DrinkTea> I'm trying to create a tree type with labeled edges, and I was looking at using a Map for this, but it seems there's no way to pattern match against this, at least without hacking around something
19:38:28 <DrinkTea> I realize this may be the wrong approach
19:38:35 <Gurkenglas> andrewsp, can you describe in words what the right side of 15's -> is supposed to do?
19:38:38 <zRecursive> pavonia: i load Foo in ghci, and call its function(s) i.e. `bar 1 2` then i get that error message
19:38:39 <DrinkTea> so, what might be a reasonable way to handle this
19:39:09 <pavonia> zRecursive: Yes, I mean what happens when you run a compiled binary using this module
19:39:32 <andrewsp> Gurkenglas: I need to count the elements of type 'Zero', withouth using high order functions
19:39:46 <Gurkenglas> That's the task description; let me rephrase
19:40:03 <LysergicDreams> Anyone using Servant?
19:40:47 <Gurkenglas> andrewsp, the right side of 15's -> is "Given that t has the form 'Node n l r', count all the zeroes in it." Can you say similar describing sentences about the terms to both sides of 15's +?
19:41:05 <zRecursive> pavonia: sorry, now i have no any binary using this module. i will prepare one later. 
19:42:29 <pavonia> zRecursive: I'm asking because GHCi being unable to load the package can have different reasons, it could be a missing/broken dynamic library, for example
19:42:59 <zRecursive> pavonia: but `ghc-pkg list` can find it
19:43:24 <andrewsp> Gurkenglas: sorry I don't get it :(
19:43:55 <pavonia> zRecursive: I'm not sure ghc-pkg also checks the binaries, I think it only looks at the package list
19:44:35 <pavonia> zRecursive: Does "ghc-pkg check" yield any output?
19:44:36 <Gurkenglas> andrewsp, does your brain's processing of my line go beyond "parse error"? "15" refers to line 15, "'s ->" refers to the "->" within it. What didn't you understand?
19:45:20 <zRecursive> pavonia: `ghc-pkg check` yield nothing
19:45:26 <Gurkenglas> the http://pastebin.com/MU7v4YvH you linked numerates the lines of code in light gray on a vertical bar to the code's left
19:46:11 <pavonia> DrinkTea: You could define data Tree l a = Leaf a | Branch [(l, Tree l a)] where l is the label for an egde
19:46:12 <andrewsp> Gurkenglas: the "Can you say similar describing sentences about the terms to both sides of 15's"
19:46:32 <DrinkTea> pavonia: I thought of that but it seems a little wrong for some reason
19:46:49 <pavonia> For what reason?
19:46:50 <andrewsp> Gurkenglas: I'm sorry I'm not a native speaker
19:47:04 <Gurkenglas> What is your native language?
19:47:15 <andrewsp> Gurkenglas: Italian
19:47:22 <Gurkenglas> When computing "Given that t has the form 'Node n l r', count all the zeroes in it.", why did you choose a term of the form "a + b"? Where did the + come from?
19:47:35 <DrinkTea> paviona: well, because I'm going to be inserting and reading sequences from the tree, and those determine the path
19:48:14 <DrinkTea> with a map there's a clear way to check if the next step in that path already exists, right?
19:48:34 <DrinkTea> but with a list I have to try to filter for the one with the right label and recurse
19:48:37 <DrinkTea> it seems a little off
19:48:49 <DrinkTea> unless I'm just not thinking about it the right way
19:48:57 <Gurkenglas> Assuming that I just have to literally use different words to say "Can you say similar describing sentences about the terms to both sides of 15's +?":
19:48:58 <andrewsp> Gurkenglas: oh, well, that's for returning the number of occurrences, right? I mean, if the node contains 0, add 1 to the count and keep counting (by calling the recursive function on the sub-tree)
19:49:07 <Gurkenglas> Complete this structure:
19:49:23 <Gurkenglas> "(if n == Zero then 1 else 0) + countZeroInTree(t)" - "Given that t has the form 'Node n l r', count all the zeroes in it."
19:49:32 <Gurkenglas> "(if n == Zero then 1 else 0)" - ?
19:49:37 <Gurkenglas> countZeroInTree(t) - ?
19:49:48 <pavonia> DrinkTea: You could use "Branch (Map a (l, Tree l a)) if you want more efficent lookups
19:50:02 * hackagebot apiary-http-client 0.1.1.0 - A http client for Apiary.  https://hackage.haskell.org/package/apiary-http-client-0.1.1.0 (winterland)
19:50:08 <pavonia> DrinkTea: Or do you want lookups on the label?
19:50:15 <DrinkTea> Yeah, I want lookups on the label
19:50:45 <DrinkTea> So, my best language is python, and the way I'd do this is to have a dictionary that maps to the children
19:50:54 <DrinkTea> I know I shouldn't try to shoehorn this into that way of thinking
19:51:21 <pavonia> I guess "Branch (Map l (Tree l a)) would work then
19:51:42 <DrinkTea> hmm, I'll look into that
19:51:46 <andrewsp> Gurkenglas: sorry I've been up all night, my brain is not working properly
19:51:49 <Gurkenglas> When filling in the ?s, I want you to use the reasoning you used to invent the code ("what the code is supposed to do", as opposed to "what the code does")
19:52:14 <Gurkenglas> andrewsp, make your brain give more detailed error messages than "no"
19:53:14 <Gurkenglas> (by calling the recursive function on the sub-tree) <- the sub-trees are l and r, but you are calling the recursive function on the whole tree again, including the n part
19:53:59 <andrewsp> Gurkenglas: oh
19:54:09 <andrewsp> Gurkenglas: >.<
19:54:33 <Rotaerk> wait, you're trying to learn haskell while under sleep deprivation?
19:54:41 <andrewsp> yes
19:54:46 <andrewsp> <.<
19:54:57 <Rotaerk> whyyy
19:55:21 <Gurkenglas> You could have made the compiler tell you this by replacing lines 12-15 with "countZeroInTree Nil = 0; countZeroInTree (Node n l r) = ..." (; stands for newlines)
19:56:08 <andrewsp> I usually come home late from uni, and need to learn it for an exam which is in the next days, I figured joining the community would help bu maybe it wasnt a good idea
19:56:55 <Rotaerk> andrewsp, what's not a good idea is the learning under sleep deprivation :P go take a nap and then come back to it
19:57:01 <Rotaerk> getting help from the community is fine
19:57:28 <Gurkenglas> If you went to sleep, would you wake up early? Would you learn Haskell in the morning or do what you've been doing in your spare time the last months? Not judging, just seeing what you're expecting to happen
20:00:24 <andrewsp> sorry I know I shouldn't organize things better
20:01:30 <andrewsp> I have uni from morning to late evening, plus the train trip
20:01:37 <Rotaerk> learn on the train
20:01:38 <andrewsp> I'm used to study late
20:02:22 <andrewsp> ehh, no Internet, no compiling machine
20:02:55 <DrinkTea> pavonia: How do I pattern match against Branch (Map l (Tree l a)) when there's no map literal
20:03:53 <andrewsp> Would you guys help me out? It would really mean a lot
20:04:02 <pavonia> DrinkTea: You could use ViewPatterns
20:04:17 <andrewsp> My professor has been rushing FP and Haskell :/
20:05:11 <pavonia> andrewsp: Help with what?
20:05:20 <DrinkTea> pavonia: What's a good resource for learning about that? Sorry, I'm just getting back into Haskell after a prolonged absence!
20:06:05 <pavonia> DrinkTea: https://ghc.haskell.org/trac/ghc/wiki/ViewPatterns
20:06:17 <Rotaerk> DrinkTea, googling "haskell view patterns" should suffice :P
20:06:31 <DrinkTea> True! But sometimes people have preferred sources
20:06:37 <andrewsp> pavonia: I need to implement a functions that counts elements of type 'Zero' from a binary tree: http://pastebin.com/MU7v4YvH
20:06:40 <DrinkTea> And not all tutorials are equally good
20:06:59 <pavonia> andrewsp: And where are you stuck?
20:07:43 <andrewsp> pavonia: the recursion part, I haven't understand well the constructors, and to to match all the cases of the recursion
20:07:58 <andrewsp> pavonia: how to *
20:08:14 <pavonia> You already match on both constructors
20:08:34 <pavonia> What's missing is the recursive call on the sub-trees
20:08:47 <Rotaerk> andrewsp, applying ("calling") function f to argument x has this syntax: f x
20:09:17 <Rotaerk> andrewsp, the f(x) format that you have on line 15 is unnecessary
20:09:45 <andrewsp> Rotaerk: you mean do like this (countZeroInTree t)?
20:10:04 <Rotaerk> andrewsp, yea but even those parentheses are unnecessary in this context
20:10:22 <Rotaerk> f x + f y   is the same as   (f x) + (f y)
20:11:07 <andrewsp> Rotaerk: ok, thanks I had the compiler complaining about parenthesys a lot of time that I tend to overuse them now
20:12:37 <Rotaerk> andrewsp, another problem exists with line 15
20:12:38 <andrewsp> pavonia: how do I add the call for the sub-trees
20:12:51 <andrewsp> Rotaerk: ?
20:13:28 <pavonia> andrewsp: Do you know what the pattern "Node n l r" denotes?
20:13:44 <Rotaerk> andrewsp, when you look at (countZeroInTree t), don't think of it as a recursive function.  simply think of it in terms of what it computes.
20:14:00 <Rotaerk> andrewsp, countZeroInTree t is the number of Zero values in t
20:14:26 <andrewsp> pavonia: (Node n l r)   -> (if n == Zero then 1 else 0) + countZeroInTree(l) + countZeroInTree(r)
20:14:35 <Rotaerk> andrewsp, so what you're basically saying there is... if t is nonempty, then the countZeroInTree t is countZeroInTree t
20:14:49 <Rotaerk> x = x
20:14:59 <pavonia> andrewsp: Looks good
20:15:05 <Rotaerk> yep
20:15:22 <Rotaerk> except you did the unnecessary ()'s again :P
20:15:43 <andrewsp> copy and paste :P
20:17:48 <andrewsp> pavonia: I think it works :D
20:18:55 <andrewsp> thank you guys, really appreciated
20:19:11 <andrewsp> I thought it was more difficult
20:19:24 <Rotaerk> there are some sugary things you can do to the code
20:19:30 <Rotaerk> the case is unnecessary
20:20:43 <andrewsp> yeah well whatever :P
20:21:24 <Rotaerk> you also can just add Eq to the deriving, so no need to manually implement that
20:22:10 <andrewsp> yes I know it was just as an exercise
20:22:14 <broma0> is there a traversal for the keys of a Data.HashMap? I'm missing mapKeys from Data.Map
20:22:16 <Rotaerk> k
20:24:51 <athan> broma0: Wait you mean a traversable instance?
20:25:12 <athan> Or a `mapKeys :: (k -> k) -> HashMap k a -> Hashmap k a` or something that re-sorts the structure?
20:27:03 <pavonia> Rotaerk: What would you use instead of the case?
20:27:32 <Moto-chan> Hi, I know a small amount of Haskell. I was looking for a small project which would make sense to learn some Haskell-isms... Specifically control flow and stuff, as that's quite different in Haskell.
20:27:44 * desophos high fives Moto-chan 
20:27:48 <Moto-chan> Also, is there a #haskell-beginner ?
20:27:56 <desophos> Moto-chan, #haskell-beginners
20:27:56 <Moto-chan> Which my question would be better suited for
20:27:59 <Rotaerk> pavonia, countZeroInTree Nil = 0; countZeroInTree (Node n l r) = ...
20:27:59 <Moto-chan> Awesome
20:28:07 <jle`> wait, #haskell is for beginners too
20:28:32 <Moto-chan> jle`: I'm staying in both, don't worry XD
20:28:33 <pavonia> Rotaerk: I see
20:28:39 <jle`> :D
20:28:42 <Moto-chan> Also, hello desophos 
20:29:10 <Moto-chan> Maybe I'll just make something stupid like a brainfuck interpreter :P
20:29:19 <Moto-chan> File I/O and parsing
20:34:59 <broma0> athan: i guess so. i want something like (myMap & itsKeys %~ fmap toUpper)
20:35:36 <broma0> athan: i dont know if there's something like that for the keys of a map
20:36:04 <andrewsp> guys sorry to bother you again, would you help me... again?
20:36:35 <andrewsp> I need to implement a similar function than before but have to return a list of occurrences of the nodes
20:39:08 <Rotaerk> andrewsp, okay, and the problem?
20:40:11 <andrewsp> Rotaerk: I have issues with the syntax of HS, >.>: http://pastebin.com/mp9anrzA
20:40:45 <Rotaerk> andrewsp, are you familiar with (++) ?
20:41:22 <andrewsp> Rotaerk: isnt that for Strings
20:41:41 <Rotaerk> andrewsp, what's the definition of String?
20:41:53 <andrewsp> Rotaerk: an array of char :D
20:42:04 <andrewsp> Rotaerk: like C, I guess
20:42:07 <Rotaerk> andrewsp, and what's the signature of (++)
20:42:28 <Lokathor> a list of char
20:42:37 <Lokathor> which is very different in some ways from an array
20:42:40 <monochrom> ++ is good for all lists
20:42:56 <andrewsp> Rotaerk: (++) :: [a] -> [a] -> [a]
20:43:09 <Rotaerk> right, so works on lists of any type
20:45:34 <nitrix> What would be the type constraint on (++) if it were generalized?
20:46:05 <andrewsp> Rotaerk: I fixed it: (Node n l r) -> (if n < v then [n] else []) ++ getValuesLessThan l v ++ getValuesLessThan r v
20:46:17 * Rotaerk gives you a thumbs up.
20:46:19 <andrewsp> Rotaerk: Seems to work
20:46:22 <Lokathor> nitrix, i think you're looking for mappent
20:46:26 <Lokathor> mappend*
20:46:28 <Lokathor> :t mappend
20:46:29 <lambdabot> Monoid a => a -> a -> a
20:46:44 <nitrix> Lokathor: [] doesn't seem to have a monoid instance, so I was curious.
20:46:56 <nitrix> Oh nvm
20:46:58 <nitrix> it does.
20:47:07 <nitrix> > [1,2,3] <> [4,5,6]
20:47:09 <lambdabot>  [1,2,3,4,5,6]
20:47:13 <nitrix> And intuitive at that.
20:47:18 <andrewsp> Rotaerk: I'll have last one then go to sleep
20:50:02 <Rotaerk> andrewsp, by the way, if you intend to be a programmer after college, don't treat haskell as just something you have to learn for school; it's not as popular as some of the more mainstream languages, but it's awesome ... and better than them :P
20:50:49 <andrewsp> Rotaerk: even if I won't end up using it, I will certainly learned a lot from it
20:51:03 <andrewsp> Rotaerk: it's good to change POV from time to time
21:00:45 <xecycle> in the arrow operation f &&& g, if f and g are not one-input-one-output computations, how is it typically done?
21:03:48 <andrewsp> Rotaerk: mind helping me with this last one, I get another parsin error about a parenthesys: http://pastebin.com/qpcyUFs2
21:03:54 <jle`> xecycle: how do you mean?
21:05:42 <Rotaerk> andrewsp, double check that you used the right function names :P
21:05:51 <andrewsp> yeah sorry I noticed
21:06:06 <xecycle> jle`: i wonder how are the result tuples created; if for an input, f decide to produce 2 outputs and g decide to produce 3, how many result tuples should be there, and how?
21:06:27 <andrewsp> Rotaerk: yeah sorry I noticed, however it still complains?
21:06:53 <Rotaerk> andrewsp, complains about what?
21:06:54 <andrewsp> Rotaerk: .hs:19:5: parse error on input ‚Äò(‚Äô
21:07:16 <jle`> xecycle: if f :: r a (b,c), g :: r a (d, e, f), then f &&& g :: r a ((b, c), (d,e,f))
21:07:39 <jle`> or if f :: a -> (b, c), g :: a -> (d, e, f), then f &&& g :: a -> ((b, c), (d, e, f))
21:07:58 <Rotaerk> andrewsp, paste new code? :P
21:08:15 <xecycle> jle`: ah no, I mean something like f :: r a [b], g :: r a [c]
21:09:07 <andrewsp> Rotaerk: http://pastebin.com/pRVXZK38
21:09:12 <jle`> then you'd get f &&& g :: r a ([b], [c])
21:09:32 <xecycle> hmm...  not exactly, but that the number of outputs is not known at compile time; still it should be f :: r a b, g :: r a c, but there may be many b coming out from f, and many c from g.
21:10:41 <jle`> can't you work with the (b, c) that results?
21:11:57 <xecycle> maybe that can be implemented as producing ([b], [c]), but I'd like it to become many (b, c), while still satisfying the arrow laws
21:12:44 <jle`> well, arrows don't really have a notion of "how many are produced"
21:12:50 <jle`> are you thinking about a specific instance?
21:12:55 <Rotaerk> andrewsp, not seeing the problem with that code
21:13:35 <xecycle> not a specific one; i am thinking on writing a new one, but still not sure how it will be like.
21:15:12 <xecycle> and yes, i understand there's nothing like "how many are produced"; an Arrow a b c is said to be a computation taking input of type a and producing output of type b, but it is not required to be a one-a-to-one-b thing, right?
21:15:20 <Rotaerk> andrewsp, sure you saved it before recompiling? :P
21:15:22 <jle`> not necessarily
21:15:30 <jle`> it doesn't have to even be a computation
21:15:35 <jle`> it's an abstract concept
21:16:34 <jle`> like functors don't have to be containers
21:17:45 <andrewsp> Rotaerk: I just fixed it, there was a tab in the first clause O.O
21:17:45 <jle`> monads don't have to be things-that-have-state
21:17:45 <acertain> xecycle, (&&&) :: a b c -> a b c' -> a b (c, c')    gives you [(a,b)], right?
21:17:45 <andrewsp> Rotaerk: not sure why it got mad, maybe it doesn't like mixing spaces and tabs
21:17:45 <acertain> (&&&) is in the Arrow class
21:17:45 <xecycle> well yes, any Category can be fine; just that i intend to work on some computations, and wondering how it should be done if they are not one-to-one
21:18:03 <jle`> my suggestion would be to work on the specific type you are working with in the end
21:18:21 <jle`> that's like asking about how to handle errors for Monad m => ...
21:18:33 <jle`> or get the modify the state of a Monad m => ...
21:18:46 <jle`> when you could just work directly with Either or State
21:18:47 <xecycle> acertain: sorry not following...  [(a,b)]? the Arrow instance a itself?
21:18:55 <Rotaerk> andrewsp, yea don't use tabs in haskell
21:19:08 <acertain> xecycle, nvm
21:19:31 <Rotaerk> andrewsp, anyway good luck; time for me to go
21:19:43 <acertain> xecycle, but you should be able to have an Arrow instance where `r a b` produces multiple results
21:19:49 <andrewsp> Rotaerk: ok, thank you so much for assisting me
21:19:53 <Rotaerk> np
21:19:56 <andrewsp> Rotaerk: really appreciated
21:20:06 * hackagebot cron 0.4.0 - Cron datatypes and Attoparsec parser  https://hackage.haskell.org/package/cron-0.4.0 (MichaelXavier)
21:20:14 <andrewsp> Rotaerk: see you :)
21:20:23 <Rotaerk> g'night
21:20:35 <xecycle> acertain: i think so; any examples?  i am curious how it normally looks like.
21:20:55 <jle`> `Kleisli [] a b` is an a -> [b]
21:21:51 <xecycle> ah i see; let me check it out
21:21:57 <jle`> > let f = Kleisli (\x -> [x,x,x]); g = Kleisli (\x -> [x-2,x-1]) in runKleisli (f &&& g) 10
21:21:58 <lambdabot>  [(10,8),(10,9),(10,8),(10,9),(10,8),(10,9)]
21:22:17 <jle`> > let f = Kleisli show; g = Kleisli (\x -> [x-2,x-1]) in runKleisli (f &&& g) 10
21:22:18 <lambdabot>  [('1',8),('1',9),('0',8),('0',9)]
21:23:04 <jle`> > let g = Kleisli (\x -> [x-2,x-1]) in runKleisli g 10
21:23:06 <lambdabot>  [8,9]
21:23:22 <xecycle> so it depends on >>= here
21:23:36 <jle`> yeah, that's how the Arrow instance for Kleisli is implemented
21:24:06 <xecycle> hmm got it.  need some more hours to figure out the whole thing
21:24:12 <jle`> it can be slightly unintuitive though because (f &&& g) doesn't necessarily = first f . second g
21:24:23 <jle`> some people consider it a failing of the Arrow laws
21:24:52 <jle`> um, a failing in the sense that the Arrow laws allow it, but it's unintuitive, so the laws might not be doing their job
21:24:54 <xecycle> ah that's exactly what I intend to break
21:25:06 * hackagebot miku 2016.3.16 - A minimum web dev DSL in Haskell  https://hackage.haskell.org/package/miku-2016.3.16 (JinjingWang)
21:25:18 <jle`> so it's still a lawful Arrow, but the fact that it's lawful goes against a lot of intuition about arrows
21:27:44 <jle`> > let f = Kleisli show; g = Kleisli (\x -> [x-2,x-1]) in runKleisli (first f C.. second g) 10
21:27:46 <lambdabot>      Could not deduce (Num (b0, d))
21:27:46 <lambdabot>      from the context (Num d, Num (b, d), Show b)
21:27:46 <lambdabot>        bound by the inferred type for ‚Äòe_12110‚Äô:
21:28:06 <jle`> oh yeah, that should have been talking about (f *** g) and first f . second g
21:28:23 <jle`> > let f = Kleisli show; g = Kleisli (\x -> [x-2,x-1]) in runKleisli (first f C.. second g) (10,10)
21:28:25 <lambdabot>  [('1',8),('0',8),('1',9),('0',9)]
21:28:35 <jle`> > let f = Kleisli show; g = Kleisli (\x -> [x-2,x-1]) in runKleisli (f &&& g) (10,10)
21:28:36 <lambdabot>      No instance for (Show t0)
21:28:37 <lambdabot>        arising from a use of ‚Äòshow_M67715464393265410408788‚Äô
21:28:37 <lambdabot>      The type variable ‚Äòt0‚Äô is ambiguous
21:28:42 <jle`> > let f = Kleisli show; g = Kleisli (\x -> [x-2,x-1]) in runKleisli (f *** g) (10,10)
21:28:44 <lambdabot>  [('1',8),('1',9),('0',8),('0',9)]
21:28:50 <jle`> see, different! :O
21:37:03 <jerin> hey, I'm relatively new to haskell, and I think I'm a little past the newbie phase. I'd like to get started with implementing serious stuff like data structures, algorithms and real world applications in haskell. Can you get me some intermediate resources to start with?
21:37:05 <alk> pointfree o/
21:40:42 <Cale> jerin: What sort of applications are you interested in?
21:41:08 <Cale> jerin: Perhaps the next thing is just to find some nice libraries to get started with on a real project?
21:42:15 <Cale> jerin: I could also maybe point you at a bunch of different papers on various topics -- especially the older papers by Phil Wadler and Simon Peyton Jones are pretty good intermediate reading materials
21:42:43 <Cale> https://wiki.haskell.org/Research_papers/Functional_pearls -- these also tend to be inspiring
21:44:03 <jerin> Exactly the stuff I was looking for, thanks! I'm hoping to get started on projects once I'm fluent in the language to an intermediate level.
21:50:08 * hackagebot http2 1.5.4 - HTTP/2.0 library including frames and HPACK  https://hackage.haskell.org/package/http2-1.5.4 (KazuYamamoto)
21:51:56 <EvanR> cool structure http://lpaste.net/154767
21:56:41 <Gurkenglas> Any use for that besides parsing prefixes of cycle [a, b]?
22:00:43 <EvanR> well, ignoring the fact that Node is isomorphic to Link
22:01:08 <EvanR> im using it for the chain of strokes that might loop back in glyphs
22:01:10 <jle`> red black trees?
22:01:19 <EvanR> or might not
22:01:30 <EvanR> a = R2 b = stroke attributes
22:02:59 <Gurkenglas> (Why not Node a b = Node a (Node b a) | End a?)
22:03:10 <EvanR> wheres the b
22:03:21 <Gurkenglas> in the Node b a
22:03:24 <EvanR> er
22:03:27 <EvanR> heh
22:03:32 <EvanR> well End is different from Close
22:04:02 <EvanR> your way uses less types, but now im confused about which End is which, 
22:04:40 <Gurkenglas> Do the as and bs contain different information?
22:04:44 <EvanR> yeah
22:05:11 <EvanR> a = R2 b = stroke attributes
22:05:43 <Gurkenglas> R2 is a constructor, and "a ~ R2 b"?
22:05:54 <EvanR> R2=(Double,Double)
22:06:21 <Gurkenglas> a is isomorphic to (R2, b)?
22:06:41 <Gurkenglas> ohhhh (a = R2); (b = stroke attributes)
22:06:46 <EvanR> no way a and b are independent variables ;)
22:07:00 <Gurkenglas> I thought (a) = (R2 b) = (stroke attributes)
22:07:11 <EvanR> too much significant whitespace
23:25:40 <zlztheog_> what's up
23:25:44 <zlztheog_> first time visiting
23:29:32 <zlztheog_> :'(
23:29:38 <zlztheog_> is IRC just for idling
23:30:21 <EvanR> even better, join #idlerpg and you level up while idling
23:30:31 <zlztheog_> vnice
23:30:35 <zlztheog_> I just want to make friends online
23:30:57 <EvanR> do you haskell
23:31:15 <zlztheog_> is this security oriented or is it solely for haskell
23:31:20 <zlztheog_> not really
23:31:23 <Rotaerk> lol, hadn't heard of #idlerpg
23:31:51 <zlztheog_> someone throw me a good movie
23:32:01 <zlztheog_> about to watch ocean's twelve
23:32:05 <zlztheog_> but i've seen it already
23:32:08 <zlztheog_> you must know the struggle
23:34:37 <EvanR> solely for haskell
