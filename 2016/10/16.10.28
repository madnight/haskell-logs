00:12:37 <cheater> sup
00:21:01 <EvanR> flip (fix .) titleScreen $ \screen loop -> do
00:21:16 <EvanR> i cant seem to remember the weird trick with flip (<$>)
00:21:46 <EvanR> something like (??) = flip fmap... fix ?? 'a' ?? 41 $ \loop ...
00:28:49 * hackagebot json-bytes-builder 0.4 - Direct-to-bytes JSON Builder  https://hackage.haskell.org/package/json-bytes-builder-0.4 (NikitaVolkov)
00:43:50 * hackagebot solr 0.3.3 - A minimal Solr client library  https://hackage.haskell.org/package/solr-0.3.3 (NikitaVolkov)
00:45:16 <coleman> anyone still on?
00:46:01 <coleman> need to clean this guy up: http://lpaste.net/6700567560682733568
00:46:17 <coleman> specifically the nexted `where` looks bad.
00:53:50 * hackagebot http-response-decoder 0.2.3 - Declarative DSL for parsing an HTTP response  https://hackage.haskell.org/package/http-response-decoder-0.2.3 (NikitaVolkov)
01:07:48 <Ulrar> Hi, so I made myself a little lib to communicate with an API, and I'm using it in a few projects. Is there a simple way to tell those to look for it in ../ instead of copying my file in each project ?
01:09:10 <liste> Ulrar: are you using Stack or just cabal-install?
01:09:56 <Ulrar> I'm doing "ghc -hide-package cryptonite --make main.hs" for now, but I can change if needed
01:11:03 <liste> Ulrar: if you go with stack, https://docs.haskellstack.org/en/stable/faq/#i-need-to-use-a-package-or-version-of-a-package-that-is-not-available-on-hackage-what-should-i-do
01:11:48 <Ulrar> Ha neat, I can put it on my github and use that
01:11:55 <Ulrar> That'll be perfect, thanks a lot
01:28:15 <behappy> hello every one
01:31:42 <Guest54022> Hey, I'm working through the section on Monoids in Haskell from First Principles (http://haskellbook.com), and I'm a bit confused why this works... 
01:31:43 <Guest54022> monoidAssoc :: (Eq m, Monoid m) => m -> m -> m -> Bool
01:31:49 <Guest54022> quickCheck (monoidAssoc :: S -> S -> S -> B)
01:32:12 <Guest54022> It seems to me that quickCheck monoidAssoc is not fully applied - monoidAssoc takes 3 arguments
01:32:16 <Guest54022> How does that code work?
01:33:25 <jle`> Guest54022: quaestor is a higher order function
01:33:30 <jle`> *quickcheck
01:33:35 <jle`> it takes a function as an argument :)
01:33:44 <jle`> have you seen other higher order functions like 'map' ?
01:33:48 <Hafydd> That's an interesting typo.
01:33:48 <Guest54022> Yes
01:33:50 <Guest54022> That bit is fine
01:33:55 <jle`> > map negate [1,2,3]
01:33:58 <lambdabot>  [-1,-2,-3]
01:34:08 <Guest54022> I was expecting "no instance from Show arising from..."
01:34:17 <Guest54022> As monoidAssoc seems like it needs more arguments
01:34:21 <Guest54022> to be evaluated
01:34:27 <jle`> Guest54022: do you see "negate" up there in 'map negate [1,2,3]' ?
01:34:31 <Guest54022> Yep
01:34:40 <jle`> negate is a function, but it's supplied "unapplied"
01:34:45 <jle`> just like monoidAssoc there
01:35:02 <jle`> that's because map takes a function as an argument
01:35:29 <jle`> do you expect 'map negate [1,2,3]' to cause a compiler error because negate "takes one argument"?
01:35:35 <Guest54022> Yes, I am happy with map because its type signiture makes sense to me
01:35:38 <Guest54022> :t map
01:35:39 <lambdabot> (a -> b) -> [a] -> [b]
01:35:45 <Guest54022> map :: (a -> b) -> [a] -> [b]
01:35:49 <jle`> in this case, you can think of quickchec as having the type
01:35:58 <jle`> quickCheck :: (S -> S -> S -> B) -> IO ()
01:36:10 <jle`> it takes an (S -> S -> S -> B) and returns an IO ()
01:36:33 <Guest54022> Yeah - so there must be an instance for "Testable" for (S -> S -> S -> B)
01:36:34 <Guest54022> right?
01:36:38 <jle`> mhm
01:36:44 <Guest54022> since quickCheck is:
01:36:44 <Guest54022> quickCheck :: Testable prop => prop -> IO ()
01:36:54 <jle`> yup, in your case, prop is S -> S -> S -> B
01:37:42 <Guest54022> I was trying to understand how there is an instance for Testable for that type
01:37:56 <Guest54022> Perhaps that rests on some more advanced haskell feature I haven't learned yet...
01:37:59 <jle`> you could write one yourself, if you don't want there to be mystery :)
01:38:02 <jle`> it's not an advanced haskell feature
01:38:09 <jle`> instance Testable (S -> S -> S -> B) where ...
01:38:22 <jle`> it's just that the quickcheck library provides instances for that for you already
01:38:25 <Guest54022> So has quickCheck explicitly defined that instance?
01:38:32 <jle`> probably in a more polymorphic way
01:38:38 <jle`> but yes, more or less
01:38:40 <jle`> it isn't magical
01:38:52 <jle`> the quickcheck library provides instances for common functions and types
01:39:08 <jle`> and you could probably find it in the source if you looked :)
01:39:10 <Guest54022> OK, so perhaps there is an instance for all functions that return a Bool, or something?
01:39:12 <Guest54022> I will, thanks
01:39:16 <jle`> mhm
01:39:41 <jle`> btw, if you consider that quickCheck only takes one argument, 'quickCheck x' is "fully applied" no matter what the type of x is
01:40:06 <jle`> x could be (a -> b) or (a -> a -> b) or [a], but quickCheck only takes one argument, so quickCheck x is a fully applied form of quickcheck
01:40:37 <Guest54022> Yeah, that makes sense
01:40:56 <Guest54022> In the source for quickCheck I can see the following:
01:40:57 <Guest54022> instance Testable Bool where   property = property . liftBool
01:41:10 <Guest54022> But would that also provide an instance for functions returning Bool?  I would have thought now
01:41:11 <Guest54022> not*
01:41:37 <jle`> it wouldn't; that only provides an instance for Bool
01:42:27 <jle`> you might find an 'instance (Generic a, Testable t) => Testable (a -> t)' somewhere
01:42:35 <jle`> er, not Generic, Arbitrary
01:42:51 <jle`> Arbitrary is a typeclass of things you can create arbitrary/random values of (and you might write instances yourself eventually)
01:43:04 <Guest54022> instance (Arbitrary a, Show a, Testable prop) => Testable (a -> prop) where
01:43:09 <Guest54022> That'll be the one?
01:43:10 <jle`> yup that's the one
01:43:13 <Guest54022> OK great
01:43:18 <jle`> so if 'S' is an instance of Arbitrary
01:43:23 <jle`> then S -> Bool is an instance of Testable
01:43:25 <Guest54022> Yeah
01:43:32 <jle`> and so is S -> (S -> Bool)
01:43:50 <jle`> because you have Arbitrary S and Testable (S -> Bool), so you have Testable (S -> (S -> Bool))
01:44:07 <jle`> and if you have arbitrary S, Testable (S -> S -> Bool), then you have Testable (S -> S -> S -> Bool)
01:44:13 <Guest54022> Yeah
01:44:23 <Guest54022> So any function that eventually returns something that is Testable, is Testable
01:44:28 <Guest54022> ie anything that returns a Bool
01:44:33 <Guest54022> (so long as the argument are all Arbitrary)
01:44:34 <jle`> mhm, 'cause of that instance declaration
01:44:51 <Guest54022> OK, thanks, I am happy that there is no magic
01:44:56 <Guest54022> Thanks for your help :)
01:45:00 <jle`> no problem!
01:45:31 <jle`> it's not magic, but it's kind of a party trick.  Text.Printf in 'base' uses this as well i believe
01:50:44 <sim642> Can I somehow limit the length of lists quickcheck uses? I want to test different permutation generation functions which are rather slow to test since quickcheck really wants to test large lengths too
01:53:12 <liste> :t forAll
01:53:14 <lambdabot> (STestable prop, Show a) => Gen a -> (a -> prop) -> Test.QuickCheck.Safe.SProperty
01:53:16 <Ulrar> Creating a package with stack is a nightmare, I must be doing something wrong
01:53:18 <liste> :t (==>)
01:53:20 <lambdabot> STestable prop => Bool -> prop -> Test.QuickCheck.Safe.SProperty
01:53:27 <liste> sim642: you can use those 2 ^
01:54:10 <liste> @quickcheck \a -> (a > 0) ==> a * a > 0
01:54:11 <lambdabot> Unknown command, try @list
01:54:14 <liste> @check \a -> (a > 0) ==> a * a > 0
01:54:17 <lambdabot>  error:
01:54:17 <lambdabot>  • No instance for (Show Test.QuickCheck.Safe.SProperty) arising from a use o...
01:54:45 <jle`> Ulrar: hm, really?
01:54:50 <jle`> 'stack init' --> you're done, right?
01:55:06 <jle`> have you read the stack tutorial? :)
01:56:05 <Ulrar> jle`: stack build fails, it tells me to use stack resolver but that doesn't do anything
01:56:35 <jle`> did you use stack new to create a stack project?
01:57:04 <Ulrar> I used Haskeleting
01:57:08 <Ulrar> Haskeleton
01:57:12 <jle`> oh
01:57:21 <Ulrar> Is that not the one to create packages ?
01:57:21 <jle`> what's that?
01:57:32 <Ulrar> no idea, the only one in the list that seemed right
01:57:54 <jle`> haskeleton has been discontinued/unmaintained for over a year now i think heh
01:58:11 <Ulrar> I should just use stack init then ?
01:58:16 <jle`> yeah, *stack new, sorry
01:58:20 <Ulrar> ha
01:59:27 <Ulrar> jle`: Do I need the app/Main.hs even if it's just a library ? I'm not planning on releasing it, I just don't want to keep copying my .hs file in different projects by hand
01:59:51 <jle`> you don't need it if it's just a library, it just makes it automatically in case
01:59:53 <nesqi> I'm confused... has the Rep type changed in ghc 8.0.*? I keep getting these, Expecting one more argument to ‘Rep a’ Expected a type, but ‘Rep a’ has kind ‘* -> *’ , even though I'm following examlpes. 
02:00:07 <tomjaguarpaw> I'm really confused why in GHCi :t and :i give different type signatures for a function I am trying to change.  I change the type signature in my package, cabal install it, and then load it in GHCi.  :i sees the change but :t doesn't.  What's going on!
02:00:08 <jle`> Ulrar: you'll have to comment out the executable in the cabal file though because it expects to find one there
02:01:34 <Ulrar> Allright
02:01:57 <jle`> Ulrar: that is, if you delete app/Main.hs, you have to change the cabal file to not try to build Main.hs heh.  but you can also just leave it there too
02:02:04 <jle`> i'm usually lazy with that lol
02:06:20 <Ulrar> Yeah I deleted it and that part in the .cabal file
02:06:25 <Ulrar> Now to add the dependencies ..
02:08:54 * hackagebot heist 1.0.1.0 - An Haskell template system supporting both HTML5 and XML.  https://hackage.haskell.org/package/heist-1.0.1.0 (DougBeardsley)
02:14:56 <tabaqui1> well, I still cannot build cross-ghc
02:15:05 <tabaqui1> can I use ghc translator to C code
02:15:11 <tabaqui1> and compile it with cross-GCC?
02:18:47 <av_> Hi everyone, I'm having a pretty hard time with OpenCL (by Luis Cabellos) --
02:18:51 <geekosaur> ghc hasn't supported compiling to C in years. (it had the option but it did nothing)
02:19:35 <av_> I have a few kernels that I run many times, and also copy some data between runs, and all that produces a slow space leak
02:20:05 <av_> I've profiled the program already, memory use as far as haskell is concerned is constant, no leak there
02:20:37 <av_> so it must be within the C part not visible to haskell (if such a thing exists)
02:21:00 <av_> I need some help because this is driving me nuts and stops me from working
02:22:45 <tabaqui1> geekosaur: why it was dropped? nobody uses this for years?
02:23:17 <geekosaur> it was always horrid. it was replaced by a native asm backend and an option to generate LLVM IR
02:24:28 <geekosaur> for one thing, it didn't actually generate usable C code unless you specially configured ghc to produce pure ANSI C (with terrible performance). it produced mutant C that had to be compiled to asm, then a horrible Perl script run on it to produce asm code that would actually work
02:24:50 <tabaqui1> hm, so I can cross-compile through llvm?
02:25:06 <tabaqui1> with native ghc and cross-compiler llvm to windows
02:25:34 <av_> I also tried modifying the code so that once a CLEvent is no longer needed (after the dependent task is queued), it is released explicitly, but that didn't change a thing about the leak
02:25:39 <av_> any ideas, anyone?
02:26:30 <geekosaur> possibly. I don't know of anyone who's tried it, and usually when someone wants to try to cross-compile for Windows they are advised to set up a Windows VM instead
02:27:22 <tabaqui1> my project depends on openssl and it's damn hard work to compile it and link with
02:33:24 <Ulrar> Well, not better. Still get unsolvable dependencies as soon as I but wreq in my extra-deps
02:33:44 <Ulrar> Works fine when I build by hand though so it's not unsolvable
02:33:56 * hackagebot hw-bits 0.5.0.0 - Bit manipulation  https://hackage.haskell.org/package/hw-bits-0.5.0.0 (haskellworks)
02:43:56 * hackagebot hw-packed-vector 0.0.0.1 - Packed Vector  https://hackage.haskell.org/package/hw-packed-vector-0.0.0.1 (haskellworks)
02:55:56 <tabaqui1> I want a static compiling
02:56:13 <tabaqui1> I have to reinstall libraries with disable-shared
02:56:23 <tabaqui1> and compile project with -static, right?
02:56:59 <tabaqui1> oops, afk 30 min
03:18:58 * hackagebot hw-eliasfano 0.1.0.1 - Elias-Fano  https://hackage.haskell.org/package/hw-eliasfano-0.1.0.1 (haskellworks)
03:22:35 <runeks> What's wrong with this?
03:22:58 <runeks> [ "Addresses:" : (addrs :: [String]) | not (null addrs) ]
03:23:35 <mniip> looks good
03:24:00 <mniip> :t [ "Addresses:" : (?addrs :: [String]) | not (null ?addrs) ]
03:24:02 <lambdabot> (?addrs::[String]) => [[[Char]]]
03:24:04 <runeks> I think so too
03:24:07 <runeks> GHC tells me addrs should be of type [Char]
03:24:22 <mniip> paste the context?
03:24:33 <mniip> surrounding code etc
03:24:35 <runeks> Hmm. Wait a minute
03:25:39 <runeks> Never mind. It was my IDE being really slow to update
03:25:50 <runeks> It doesn't like 1000-line modules it appears
03:42:26 <agocorona> Hi
03:44:39 <jchia> Hi, in this code, I'm writing readBarText as part of a larger system where I'm trying to catch various exceptions and the top-level function returns a IO (Either String ()), the exception content being a String for human consumption. Which version of bazToText is better? How can I improve the code? I find the need to call (ExceptT . pure) to wrap decodeByName quite troublesome. http://lpaste.net/310430
03:45:49 <jchia> Or, maybe I should just forget about ExceptT at this level and just use IO (Either String) directly?
03:46:52 <niklasb> jchia: you might also just absttract over the monad entirely, if you don't actually use any of its features except `fail`
03:47:13 <niklasb> i.e. (Monad m) => ... -> m Foo
03:47:44 <niklasb> or monadio in the second case
03:48:16 <jchia> niklasb: Not sure what you mean exactly. Could you elaborate. Do I change the signature of readBarText?
03:49:06 <niklasb> jchia: you should be able to just make that (MonadIO m) => Text -> m (Vector Text) from how see it
03:49:29 <niklasb> but I think version 1 is also ok
03:49:34 <niklasb> sorry, version 2
03:49:49 <tabaqui1> ok, i'm back, so again:
03:49:50 <niklasb> (you shouldn't use fail though for Either)
03:49:53 <tabaqui1> I want a static compiling
03:49:58 <tabaqui1> I have to reinstall libraries with disable-shared
03:50:01 <tabaqui1> and compile project with -static, right?
03:51:50 <ertesx> :t Lunch
03:51:51 <lambdabot> Pizza (sure enough)
03:51:56 <ertesx> :t Pizza
03:51:58 <lambdabot> Pizza Margherita
03:53:05 <tabaqui1> :t Margherita
03:53:06 <lambdabot> error: Data constructor not in scope: Margherita
03:53:15 <tabaqui1> :i Margherita
03:57:47 <tabaqui1> hmm,
03:57:57 <tabaqui1> looks like cabal cannot static compile library
03:58:10 <tabaqui1> /usr/bin/ld: cannot find -lHSHsOpenSSL-0.11.3.2-DjxEiawrnmQI1fAc4MlaU-ghc8.0.1
03:58:19 <tabaqui1> /usr/bin/ghc -shared -dynamic '-dynload deploy' ...
03:58:33 <tabaqui1> but i set -static flag in project.cabal
03:58:39 <jchia> niklasb: Do you mean use the MonadIO constraint in readBarText or bazToText or both?
03:59:52 <niklasb> jchia: bazToText is pure, so I would expose it as such (Either is fine). but readBarText doesn't actually use ExceptT, so you can abstract that away
04:08:21 <jchia> niklasb: Do you mean Version 3? (I've updated the paste.)
04:09:00 * hackagebot hw-prim 0.4.0.1 - Primitive functions and data types  https://hackage.haskell.org/package/hw-prim-0.4.0.1 (haskellworks)
04:09:35 <niklasb> jchia: yeah that looks pretty good to me w.r.t types. I think there might be a bug in bazToText however: `fail` in Either is basically `error`
04:09:43 <niklasb> you probably want Left
04:11:28 <jchia> niklasb: In version 3 I can't replace fail with Left if I only have the constraint MonadIO m. Nothing says that Either has anything to do with this function.
04:11:58 <niklasb> jchia: I'm talking about the bazToText function
04:13:37 <niklasb> jchia: you probably want smth like this: http://lpaste.net/7751892734889164800
04:15:49 <jchia> niklasb: I was under the impression that fail means Left for Either.
04:16:20 <piyush-kurur> question regarding the fields include and install-include in cabal: What exactly is the purpose of this
04:16:27 <niklasb> jchia: it can't be for general Either a. and it's not
04:16:28 <jchia> But it doesn't make sense because fail takes a String and Left doesn't necessary take a string
04:16:42 <piyush-kurur> if the header files are used only in the c function do I need to include it
04:18:26 <jchia> How come fail "abc" :: Either String Int causes an exception but for not for Maybe Int? What does MonadFail mean? Maybe is included in MonadFail but not Either a.
04:20:30 <jchia> never mind. it seems to be due to some historical reasons and there's a MonadFail proposal I'm reading
04:20:32 <niklasb> jchia: I think is planned to be moved from Monad to MonadFail for the exact reason that you can't have a useful definition for some monads like Either
04:20:57 <niklasb> because you can't pull a Left instance out of thin air. For Maybe you can just use Nothing
04:21:04 <niklasb> and swallow the message
04:21:12 <younder> Is this assumpition correct? http://lpaste.net/310491
04:22:20 <jchia> niklasb: OK, I get it.
04:23:38 <younder> from Paralell and concurrent programming: http://chimera.labs.oreilly.com/books/1230000000929/ch02.html#sec_par-rpar-rseq
04:39:02 * hackagebot hw-vector 0.0.0.1 - Vector type with convenient typeclass instances  https://hackage.haskell.org/package/hw-vector-0.0.0.1 (haskellworks)
04:56:50 <Barggros> :t silence
04:56:50 <lambdabot> error: Variable not in scope: silence
04:58:16 <younder> wow that shut everynone up ;)
04:59:30 <Barggros> seems like it
05:07:58 * younder wonders if the load of cimera.labs.labs.orilly.com has suddenly spiked
05:15:08 <hpc> oh my, Eval is now defined in terms of the RealWorld# state trick
05:20:00 <jchia> niklasb: In Version 3, shouldn't the fail in readBarText be changed to throwError?
05:24:04 <Stuart> Hello
05:24:04 * hackagebot hw-prim 0.4.0.2 - Primitive functions and data types  https://hackage.haskell.org/package/hw-prim-0.4.0.2 (haskellworks)
05:24:24 <Stuart> Does anyway know about the reader monad
05:24:32 <hpc> it's a secret to everyone
05:24:35 <hpc> ;)
05:24:43 <Stuart> Hah
05:24:44 <hpc> what are you having trouble with?
05:24:45 <Rembane> I've met him a couple of times, he's a bit strange but nice.
05:25:08 <Stuart> what does the ask function do?
05:25:12 <hpc> :t ask
05:25:14 <lambdabot> MonadReader r m => m r
05:25:24 <Rembane> Gets something from the environment
05:25:30 <hpc> it's an action that produces the environment
05:25:52 <hpc> when m = (->) r, ask = id
05:26:13 <hpc> (because ask :: r -> r and that's the only inhabitant of that type)
05:27:21 <Stuart> ok, the implementation https://wiki.haskell.org/All_About_Monads#The_Reader_monad
05:27:31 <Stuart> it says reader id
05:28:00 <hpc> right, so
05:28:10 <Stuart> is id a function
05:28:13 <hpc> the way Reader is (was) defined (at the time that was written)
05:28:27 <Stuart> that returs it self
05:28:27 <hpc> is newtype Reader r a = Reader {runReader :: r -> a}
05:28:47 <hpc> which is to say, a function (r -> a) that's wrapped in a constructor
05:28:57 <Stuart> yep
05:29:10 <Stuart> so Reader id is returning (r -> a)
05:29:15 <hpc> ask :: Reader r r, so the result has to be Reader (something :: r -> r)
05:29:19 <Stuart> Reader (r -> a)
05:29:31 <hpc> since for this specific type, a = r
05:29:57 <Stuart> hmmm
05:30:02 <hpc> in general yes, it's Reader (something :: r -> a)
05:31:03 <Stuart> Just reading again
05:31:07 <Stuart> the definition
05:32:30 <hpc> the structure of the MonadReader class and the way that page is written, it's not entirely obvious
05:32:44 <hpc> but a lot of the Reader stuff just writes itself if you can work out the type
05:34:55 <Stuart> Is there something more clearer for the monad reader
05:37:12 <hpc> just a sec
05:40:25 <hpc> Stuart: http://lpaste.net/310629 - put that in a file and replace the undefineds with more-defined stuff and see what typechecks and what doesn't
05:40:51 <hpc> Stuart: iirc every 'undefined' there should have exactly one valid implementation (modulo it being written slightly differently)
05:41:20 <Stuart> Cool i will try that
05:43:27 <hpc> Stuart: and if the constructors are still disorienting, use the version i just added on that same link which flattens it out entirely
05:43:44 <hpc> Stuart: but i think you might find the first one easier because type errors will be a bit more obvious with the type delimiting things
05:46:59 <Stuart> I am looking at this one http://lpaste.net/310629
05:49:06 * hackagebot irc-client 0.4.4.1 - An IRC client library.  https://hackage.haskell.org/package/irc-client-0.4.4.1 (barrucadu)
05:53:17 <Stuart> What does asks do
05:53:35 <Stuart> I will have a go at that
05:55:01 <Stuart> hpc
05:55:29 <Stuart> hpc: Ok, I think i have done the implementations sept for the monad
05:55:48 <Stuart> I am unclear about the syntax (Reader fa) >>= frb
05:56:15 <Stuart> Is  Reader fa and frb arguments 
05:56:40 <Stuart> ahh
05:56:56 <Stuart> frb is (a -> Reader r b)
06:03:20 <Stuart> hpc: are you still there?
06:06:26 <ocramz> anyone knows why `split` and `pack` from Data.ByteString.Lazy are not compatible with those in Data.ByteString.Char8 ?
06:06:49 <lyxia> Why would they
06:06:51 <ocramz> I needed to convert from String to ByteString and encountered this .. feature
06:07:02 <Stuart> How do I am implement the >>= in the reader monad
06:08:37 <ocramz> lyxia : Lazy operates on Word8 and Char8 operates on Char . I understand
06:09:00 <lyxia> There is Data.ByteString.Lazy.Char8 if you want string-y lazy bytestrings.
06:10:41 <lyxia> Stuart: Reader fa >>= frb is a good start
06:11:33 <lyxia> Stuart: The result should have type Reader r b, so you can start building it with a constructor: Reader fa >>= frb = Reader ???
06:12:11 <jmorris> when i run "cabal build" i get the error message "<no location info>: error:output was redirected with -o, but no output will be generated because there is no Main module."
06:12:36 <lyxia> Stuart: Reader then expects a function r -> b, to build a function you can use a lambda.  Reader fa >>= frb = Reader (\r -> ???)
06:12:48 <osa1> jmorris: make sure your main module is really named Main
06:13:00 <lyxia> Stuart: And so on... ?
06:13:10 <osa1> jmorris: in you cabal file you should see a `main-is: ...` field, check that file and see if the module name is Main
06:13:27 <Stuart> ok
06:13:30 <jmorris> the main-is is the name of the main module
06:13:35 <jmorris> does it need to be called main
06:13:44 <Stuart> (>>=) :: Reader r a -> (a -> Reader r b) -> Reader r b
06:13:49 <osa1> jmorris: the file doesn't need to be called Main.hs but the module has to be called Main
06:13:56 <jmorris> ok ill try
06:14:12 <osa1> jmorris: so you have have `main-is: MyPgm.hs` then in MyPgm.hs you should have `module Main where ...`
06:14:24 <Stuart> lyxia
06:14:33 <Stuart> lyxia: I will have another go
06:14:52 <jmorris> osal: i think that worked, thanks
06:19:29 <damian_> hello everyone.. does anyone know any lib that allow me to log using logstash json format so I can push logs to logstash directly?
06:20:17 <osa1> @hackage hslogstash
06:20:17 <lambdabot> http://hackage.haskell.org/package/hslogstash
06:20:30 <osa1> damian_: have you checked that one?
06:20:41 <bartavelle> I haven't look at hslogstash for a while, so I don't know how current it is WRT logstash format
06:20:46 <bartavelle> s/look/looked/
06:21:10 <damian_> osa1: thanks I was actually checking that one
06:21:21 <damian_> but it contains a lot of code just to contact the server directly
06:21:38 <bartavelle> damian_, it has many things that should be deprecated (such as the puppet code that should be removed)
06:22:09 <bartavelle> damian_, it was made as a replacement to logstash, so you only get the server parts out of the box too
06:23:12 <bartavelle> damian_, I would suggest copy/pasting the content of the Logstash.Message module as that is all you will probably salvage
06:23:31 <damian_> bartavelle: thanks, will do that then :)
06:23:58 <bartavelle> damian_, good luck, let me know if the message format is outdated! In that case I would deprecate the module
06:25:24 <bartavelle> damian_, OTOH, in my experience (which is a few years old), replacing the whole logstash stuff with haskell code was great : easier to configure than logstash, more flexible, and a lot more efficient
06:26:58 <damian_> bartavelle: thanks but we have already the infrastructure bit to collect logs straight from stdout and push it to different services.... that infra is shared among many services, so we do not necessary need to talk with logstash directly
06:27:35 <Stuart> Ipc: Lynx: Thanks, I think I have implemented Reader monad, don't know how to use it but I think I have implemented it
06:28:47 <Stuart> Any good examples on how to use the reader monad
06:30:02 <Stuart> What is a good defintion for the applicative of the Reader monad?
06:30:33 <johnw> (f <*> g) x = f x (g x)
06:33:07 <Stuart> johnw How with the Reader type
06:33:08 <fizruk> Stuart: Reader is used to store server configuration (e.g. environment) and shared stuff (e.g. DB connection pool, HTTP client manager, etc.)
06:33:30 <Stuart> Yeah, is there a easy example
06:34:16 <fizruk> Stuart: I don't think so, because in simple examples you normally are better off with explicit argument passing
06:34:39 <Stuart> What is a good example then
06:36:20 <fizruk> Stuart: what do you mean?
06:36:53 <fizruk> Stuart: like you want to look at some code with Reader?
06:37:55 <Stuart> Yeah, two questions, what is the type signature expanded for applicative and also what is good example of the use of the Reader monad
06:38:32 <johnw> Stuart: consider the monadic action "x >> y >> z".  For the Reader monad, this means passing an argument (and the same argument) implicitly to every one of those actions
06:40:54 <Stuart> ok, yeah that seems the point. Looking at a example now
06:44:21 <Stuart> johnw, fizruk: Might be getting it now
06:44:30 <codedmart> Is this the proper way to handle async chat stuff, to have a sendLoop and recieveLoop? https://github.com/realli/chatqy/blob/master/src/Qy/Chat/Simple.hs#L31-L33
06:49:39 <ocramz> I'm parsing a CSV with attoparsec, and some fields here and there are missing values; I was thinking of returning in Maybe with `parserMaybe p = PB.option Nothing (Just <$> p)`
06:49:57 <ocramz> rather than just carrying the remainder forward
06:50:16 <ocramz> is it a bad idea?
06:53:06 <fizruk> ocramz: looks ok to me, I'm surprised there's no 'optionally' combinator there
06:53:31 <codedmart> What is the ! in this mean -> https://github.com/realli/chatqy/blob/master/src/Qy/Chat/Types.hs#L84-L88
06:53:38 <ocramz> fizruk : good question, I'll look for it
06:53:41 <ocramz> thanks
06:53:43 <codedmart> I have seen it but never dug into it yet.
06:54:07 <ocramz> codedmart : that's a strictness annotation
06:54:20 <fizruk> codedmart: strict fields?
06:54:24 <ocramz> so the fields in that datastructure are "unboxed"
06:54:44 <ocramz> that is, the actual values are passed around and not pointers to them
06:54:46 * fizruk thinks strict is not the same as unboxed
06:55:05 <codedmart> Ah first google mentions performance.
06:55:36 <osa1> ocramz: that's not really true, strict doesn't mean unboxed
06:55:46 <osa1> but non-strict means boxed :-)
06:56:10 <ocramz> please don't mess with my tired brain osa1
06:56:21 <ocramz> but yeah, I understood you
06:56:27 <codedmart> I need to read up on them I guess. Thanks!
06:56:38 <fizruk> codedmart: I think strict means fields are evaluated whenever constructor is
06:57:15 <codedmart> fizruk: OK I just need to read on when to use them and why :).
06:57:32 <osa1> that's true fizruk
06:57:36 <codedmart> That doesn't seem performance related when you say it like that.
06:58:04 <codedmart> So my first google result titles were misleading maybe?
07:01:35 <Jinxit> codedmart: it is definitely performance related, but it's not necessarily a benefit to using strict everywhere
07:01:45 <fizruk> codedmart: http://stackoverflow.com/questions/8576795/advantages-of-strict-fields-in-data-types
07:01:59 <codedmart> Jinxit: Thanks!
07:02:10 <codedmart> fizruk: Reading that one now, thanks! :)
07:06:36 <polo> Hello, I'm doing a long homework.I have done so far 3 questions but I really have no clue for the 4th question.The solution builds on each other.it's long and I'll appreciate if sb can take some time and help me. http://lpaste.net/294377   
07:09:57 <osa1> polo: you have expressions like `(d == Water)         (a == Water || a== Fire)` in your program, what do you expect type of those to be?
07:12:10 <polo> osal: I have defined my own type for them
07:12:29 <polo> osal: data Type = Normal | Water | Fire | Grass | Electric deriving (Show,Enum, Eq)
07:21:32 <osa1> polo: I mean what's the type of `(d == Water)` ? it's a Bool, right? by putting two expressions next to each other like in the example I copied from your code you end up applying a Bool to another Bool
07:21:44 <osa1> polo: (p.s. it's 1 (one) not l)
07:22:29 <polo> osal: yes it returns bool
07:23:03 <polo> osa1: 
07:23:11 <mpickering> I think he fixed that osa1 
07:23:37 <mpickering> polo: You should ask a more specific question. It doesn't look like you have tried something for exercise 4
07:25:23 <polo> osa1, mpickering: updated  http://lpaste.net/294377 I'm just not confident where to begin
07:33:02 <jedai> polo: This is interesting
07:34:42 <jedai> polo: though the difficulty doesn't scale very well, I think starting by writing a battle() function that pits one Pokemon against another and returns Just the winner (or Nothing if it's a mutual defeat) is a good idea
07:35:24 <jedai> that's suggested by the fourth question but maybe should have been the whole question, before going into a combat between trainers
07:36:16 <jedai> polo: I'll also note that I don't know if damage to a pokemon should be preserved between two battles ? Maybe a pokemon player would know
07:38:02 <jedai> polo: Also, the previous answer may not be perfects (I'm particularly curious about the None in Pokemon definition, I don't see how "None" is a Pokemon)
07:39:28 <polo> jedai: I made the definition, so maybe I did something wrong as I'm very new in haskell
07:40:03 <jedai> polo: As I said, there's no reason to have an option of None in this definition
07:44:12 <jedai> polo: ok for question 4 : Start by writing a battle() function that takes two Pokemons and returns the two Pokemons after one round of battle (so with their hit points impacted, taking into account vulnerability and resistance)
07:44:31 <jedai> polo: that should be a good first step
08:04:47 <tangled_z> Hi! I'm looking to build a parser for a miniature relational language. Would anyone have any suggestions for tutorials/papers that I could read? At the moment I am struggling to know where to start! 
08:05:40 <mmaruseacph2> tangled_z: try looking at attoparsec
08:07:27 <tangled_z> mmaruseacph2: thanks for the tip! do you know if parsing a relational language is inherently a different task to parsing an imperative or a functional language? 
08:07:37 <mmaruseacph2> shouldn't be
08:08:09 <tangled_z> mmaruseacph2: that's good to know, thanks :)
08:13:35 <Guest89219> if you don't mind going diy and want something small with no external dependencies, one of these is easy to build en.wikipedia.org/wiki/Recursive_descent_parser
08:14:51 <tangled_z> thanks, Guest89219 :) 
08:15:08 <Guest89219> once you've defined a grammar, it translates almost directly to code using some simple rules
08:16:51 <tangled_z> That would be useful! Do you have any recommendations for resources on defining grammars? 
08:17:31 <ertesx> tangled_z: also i suggest megaparsec instead of attoparsec, because it is designed for human languages with builtin infix parsers and reasonable error reporting (not just "your input sux!")
08:18:35 <tangled_z> ertesx: ah neat, thanks for the advice! do you mean it's designed for >parsing< of human languages? as that's quite interesting. 
08:19:19 <ertesx> tangled_z: it's designed for parsing languages written by humans (not necessarily natural languages) like programming languages, configuration files, markup, etc.
08:19:45 <ertesx> you would use attoparsec, say, to parse a network protocol
08:19:55 <tangled_z> ertesx: ah yes, I see! that makes sense 
08:20:18 <av_> problem solved (see above, about 6 hours ago) -- it wasn't OpenCL or any of my wrongdoing, it was the OpenCL backend (radeon), now using amdgpu-pro, and the space leak is gone
08:29:14 * hackagebot marvin 0.0.1 - A modular bot for slack  https://hackage.haskell.org/package/marvin-0.0.1 (justus)
08:29:16 * hackagebot sbp 1.2.4 - SwiftNav's SBP Library  https://hackage.haskell.org/package/sbp-1.2.4 (markfine)
08:44:30 <mmaruseacph2> anyone know if Frames can be made to work with a CSV file specified by user instead of hardcoding it in the file?
08:44:58 <mmaruseacph2> all resources I found so far do the same thing as https://acowley.github.io/Frames/, they just hardcode the FilePath twice
08:49:10 <mmaruseacph2> wait, there are some hints down below, back to the drawing board I go
08:59:41 <michalrus> > let h x y z t = let f a b c d = Just (a + b + c + d) ; g = Just . show in f x y z t >>= g in h 1 2 3 4
08:59:43 <lambdabot>  Just "10"
08:59:58 <michalrus> Can I somehow define h point-free? Without x,y,z,t?
09:00:43 <sham1> Ask lambdabot
09:00:52 <michalrus> How? :)
09:00:59 <sham1> Google is a friend
09:01:14 <grantwu> @pl let h x y z t = let f a b c d = Just (a + b + c + d) ; g = Just . show in f x y z t >>= g in h 1 2 3 4
09:01:14 <lambdabot> Just . show =<< Just 10
09:02:15 <grantwu> I think pl is doing some constant folding there
09:02:20 <Tuplanolla> @pl let h x y z t = let f a b c d = Just (a + b + c + d) ; g = Just . show in f x y z t >>= g in h
09:02:21 <lambdabot> flip flip (Just . show) . ((flip . (flip .)) .) . flip flip ((((((Just .) . (+)) .) . (+)) .) . (+)) . ((flip . ((flip . (((>>=) .) .) . flip) .) . flip) .) . flip . flip id
09:02:31 <sham1> :P
09:02:31 <Tuplanolla> Yes, this is pleasant.
09:02:35 <michalrus> Huh. :o
09:02:40 <sham1> Rather not use that pointfree
09:02:54 <michalrus> Kay, thank you, both. :P
09:02:57 <sham1> There comes a point when pointfree goes from being helpful and into the stupid territory
09:03:43 <Tuplanolla> The `flip` count is a good metric of quality.
09:03:58 <sham1> And how much one can read it
09:04:19 <MarcelineVQ> if you really like pointfree you could reorder your arguments in a where to make them more condusive to being point-free, kinda defeats the point a bit though
09:05:01 <sham1> It's like, pointfree only makes sense if it actually increases the readability of a function
09:05:09 <sham1> In other cases, it really is not worth it
09:05:36 <michalrus> OK. :)
09:06:10 <Tuplanolla> You can often do better by hand, because you know what you want.
09:07:19 <Tuplanolla> Commonly that involves `on`, the function instances of `<*>` or `join` or utilities from `Control.Arrow`.
09:09:16 * hackagebot ngx-export 0.2.3.0 - Helper module for Nginx haskell module  https://hackage.haskell.org/package/ngx-export-0.2.3.0 (lyokha)
09:11:36 <Tuplanolla> > let f = sum &&& zip <*> tail in f [1 .. 4]
09:11:39 <lambdabot>  (10,[(1,2),(2,3),(3,4)])
09:12:11 <sham1> Control.Arrow is just glorious
09:34:22 <leshow> anyone in here use stack? i recently ran stack build && stack exec exename from the wrong project dir
09:34:33 <leshow> and since then the project cant be built
09:34:44 <leshow> one sec ill post the output
09:35:00 <leshow> OLE_info' can not be used when making a shared object; recompile with -fPIC
09:35:02 <leshow> /usr/bin/ld: /home/evan/.stack/programs/x86_64-linux/ghc-8.0.1/lib/ghc-8.0.1/rts/libHSrts_thr.a(Arena.thr_o): relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC
09:35:04 <leshow> /usr/bin/ld: /home/evan/.stack/programs/x86_64-linux/ghc-8.0.1/lib/ghc-8.0.1/rts/libCffi.a(closures.o): relocation R_X86_64_32 against `.rodata' can not be used when making a shared object; recompile with -fPIC
09:35:06 <leshow> /usr/bin/ld: /home/evan/.stack/programs/x86_64-linux/ghc-8.0.1/lib/ghc-8.0.1/rts/libCffi.a(ffi64.o): relocation R_X86_64_32S against `.rodata' can not be used when making a shared object; recompile with -fPIC
09:35:08 <leshow> /usr/bin/ld: final link failed: Nonrepresentable section on output
09:35:09 <sham1> Use a pastebin
09:35:10 <leshow> collect2: error: ld returned 1 exit status
09:35:10 <sham1> FFS
09:35:12 <leshow> `gcc' failed in phase `Linker'. (Exit code: 1)
09:35:14 <leshow> --  While building package haskell-programming-0.1.0.0 using:
09:35:16 <leshow>       /home/evan/.stack/setup-exe-cache/x86_64-linux/setup-Simple-Cabal-1.24.0.0-ghc-8.0.1 --builddir=.stack-work/dist/x86_64-linux/Cabal-1.24.0.0 build lib:haskell-programming exe:haskell-programming --ghc-options " -ddump-hi -ddump-to-file"
09:35:35 <Tuplanolla> That's not the first time he's done that either.
09:45:04 <abstract-alf> so (>>=) is often called 'Bind'.  Does (>>) also have a name?
09:45:34 <sham1> I'd call it "monadic sequence"
09:45:44 <sham1> Because it sequences two monadic actions
09:45:59 <sham1> While discarding the output of the former
09:46:03 <Tuplanolla> It's "bind" without binding variables, so technically it's "".
09:46:12 <abstract-alf> Tuplanolla, haha
09:47:20 <ahihi> (>>) is often called "then"
09:48:24 <abstract-alf> Hmmm.. I'm trying to figure out if I can implement (>>) in C#'s LINQ but I'm having trouble googling with "C# LINQ Monadic Sequence" and "C# LINQ Then"
09:49:14 <Tuplanolla> @src (>>)
09:49:14 <lambdabot> m >> k = m >>= \_ -> k
09:49:48 <Tuplanolla> Try "const bind".
09:50:00 <jle`> andThen
09:53:17 <ahihi> not sure what exactly it means to implement (>>) in LINQ
09:53:40 <ahihi> as far as I understand, LINQ is a few interfaces with extension methods, plus syntactic sugar for these
09:55:12 <ahihi> I don't remember if C# has higher-kinded polymorphism, which you'd need for expressing Monad as an interface
09:55:42 <abstract-alf> ahihi, very similar to how haskell's do notation uses functions on the Monad type class... 
09:56:20 <abstract-alf> I've managed to implement (>>=) for an arbitrary type, and C# let's me use it in it's LINQ query syntax (similar to do notation)
09:56:36 <Gurkenglas> When I encounter some function name that I do not know while reading source on hackage, and hayoo lists many results but none of them are a direct dependency of the package where I found the name used, how do I find its source?
09:57:06 <EvanR> isnt the function hyperlinked in haddock now
09:57:24 <Gurkenglas> Not fromFunction here http://hackage.haskell.org/package/repa-3.4.1.2/docs/src/Data-Array-Repa-Operators-Traversal.html#traverse
09:57:50 <EvanR> even better, no type signature
09:57:57 <Gurkenglas> (Trying to find a monadic version of traverse here. (naaaaaming))
09:58:00 <byorgey> Gurkenglas: it can be hard.  Your best bet is to look at the imports in the source file where you saw the function, and figure out which one the function is coming from
09:58:01 <EvanR> oh i see it
09:58:39 <EvanR> fromFunction :: sh -> (sh -> a) -> Array D sh a
09:58:44 <byorgey> Gurkenglas: looks to me like fromFunction is defined in another Repa module
09:58:46 <EvanR> Data.Array.Repa
09:58:51 <Gurkenglas> how
09:59:13 <EvanR> i saw it returns an Array D sh a... so looke in the main repa module
09:59:29 <byorgey> Gurkenglas: the only three imports in that module are Data.Array.Repa.* things, plus Prelude.  It has to be defined in one of those.
09:59:54 <Gurkenglas> Ah, I assumed Ctrl-F in the source module would be enough, since I didnt realize the source link in the main module wasnt to the main module
10:01:03 <glguy> repa source documentation updated to prettier new stuff: http://hackage.haskell.org/package/repa-3.4.1.2/docs/src/Data.Array.Repa.Operators.Traversal.html#traverse
10:01:03 <Gurkenglas> Umm rephrasing for comprehensibility: Ah, I assumed Ctrl-F in the source of the module that defines traverse would be enough, since I thought that's the main module.
10:01:55 <glguy> (including hyperlinks)
10:03:14 <Gurkenglas> Did you just upload that, or why isn't that linked to by the docs?
10:03:36 <glguy> Yeah, I just refreshed the documentation
10:03:42 <glguy> It's linked now
10:04:15 <cobreadmonster> Hey!
10:04:35 <cobreadmonster> Is it possible to write an Android app in Haskell?
10:05:23 <sham1> Well, you could like Frege, maybe
10:05:29 <Gurkenglas> If you can turn javascript into an app, then ghcjs which turns haskell into javascript could help I think?
10:06:15 <dmj`> cobreadmonster: http://keera.co.uk/
10:07:26 <NikolajK> Is anybody interested in an Idris reading club once the book comes out at the end of the year? 
10:07:26 <NikolajK> I'm going to read it and put videos up on what I understand, and also show some code.
10:08:01 <EvanR> NikolajK great idea!
10:08:20 <NikolajK> any recommendations?
10:08:31 <ahihi> there's a book coming out? I should get that
10:10:43 <NikolajK> @ahihi
10:10:43 <lambdabot> Unknown command, try @list
10:10:43 <NikolajK> https://www.manning.com/books/type-driven-development-with-idris
10:10:51 <ahihi> yeah I found it :)
10:10:58 <cobreadmonster> NikolajK: There's an idris book?
10:11:02 <cobreadmonster> Wait what?
10:11:19 <NikolajK> not yet
10:11:32 <NikolajK> I assume it extends the tutorial
10:11:35 <NikolajK> extends it to 600 pages, that is
12:15:31 --- topic: 'https://www.haskell.org | https://wiki.haskell.org/IRC_channel | Paste code/errors: http://lpaste.net/new/haskell | Logs: http://tunes.org/~nef/logs/haskell/?C=M;O=D http://ircbrowse.net/day/haskell/today?mode=recent | https://www.reddit.com/r/haskell | Admin: #haskell-ops | Offtopic: #haskell-offtopic | Hackage status? https://status.haskell.org | https://downloads.haskell.org'
12:15:31 --- topic: set by glguy on [Fri Aug 05 17:41:47 2016]
12:15:32 <EvanR> https://hackage.haskell.org/package/unagi-chan
12:16:13 <unit73e> domo :p
12:23:39 <coleman> sup
12:24:39 <nitrix> coleman: https://www.youtube.com/watch?v=gAeWAwdZf9I
12:25:17 <coleman> nitrix: i dsilike this
12:26:07 <nitrix> That banjo rift <3
12:26:53 <EvanR> not the banjo videos again
12:26:55 <coleman> Can you take a look at this? http://lpaste.net/6700567560682733568
12:27:01 <nitrix> Ahem, I'm on #haskell again :(
12:27:13 <EvanR> coleman: did you see my reformat of that
12:27:18 <coleman> EvanR: no!
12:27:21 <coleman> :-)
12:27:23 <EvanR> i told lambdabot to msg you about it
12:28:53 <absence> is there a shorthand or something for put =<< f =<< get in a common library?
12:28:59 <coleman> EvanR: found the message. unless I'm missing something it looks the same?
12:29:06 <EvanR> o_O
12:29:09 <coleman> http://lpaste.net/6700567560682733568 right?
12:29:35 <EvanR> you must have overwrote it...
12:29:38 <EvanR> http://lpaste.net/diff/6700567560682733568/310104
12:30:02 <coleman> EvanR: my mistake. getting used to lpaste
12:31:56 <MarcelineVQ> absence: are you looking for modify ?
12:32:29 <coleman> EvanR: In your version you have to pass a0 into specialTriplet? Wouldn't it make more sense just to pass the sum you're looking for (i.e. 1000)?
12:32:57 <coleman> oh wait
12:33:30 <absence> MarcelineVQ: modify doesn't do that
12:33:47 <slack1256> is there an "import manager" for haskell?
12:33:55 <absence> MarcelineVQ: note that f is an action, not a function
12:34:00 <EvanR> coleman: a0 is the initial value of the recursion
12:34:20 <EvanR> i just moved it lower
12:34:28 * hackagebot ip 0.8.7 - Library for IP and MAC addresses  https://hackage.haskell.org/package/ip-0.8.7 (andrewthad)
12:34:56 <monochrom> what does an import manager do?
12:35:20 <coleman> EvanR: ah I see now
12:35:37 <coleman> EvanR: I thought you needed to put `in` after every let?
12:35:54 <EvanR> theres an in there
12:35:57 <orion> grr
12:36:32 <coleman> EvanR: that's just your stylisting choice?
12:36:36 <orion> I literally just had to use a package manager (apt) to install a package manager (npm), so that I could install a package manager (bower), so that I could use a Haskell-like language in the browser (purescript).
12:36:45 <EvanR> coleman: hmm? you have to put it
12:36:55 <slack1256> I don't really know, I just want to avoid dealing with huge import lists per module to be effective
12:36:59 <coleman> EvanR: I mean to not put it below
12:37:11 <monochrom> You can drop apt by going slackware.
12:37:29 <monochrom> Actually you can drop them all by going Windows, too.
12:37:44 <slack1256> I guess an emacs function that told me "mmm you seem to be using Data.Set yet is not imported, I will do the default and import it for you as qualified Set as you told me"
12:37:57 <EvanR> coleman: well, im coming from this perspective http://lpaste.net/311396
12:38:03 <monochrom> "throwing out the purescript with the package managers"
12:38:06 <orion> purescript transpiles to JS. Why can't we have "Haskellscript" in the web ecosystem instead?
12:38:23 <coleman> EvanR: ah
12:38:34 <orion> Why can't I put a Haskell interpreter in Firefox and deliver code that runs in a special sandboxed Monad?
12:38:52 <EvanR> coleman: note you can put them all in one let block in that case, but i tend to not do that in idris where lets are more often necessary and cant just be wheres
12:38:53 <monochrom> You can. But I probably can't, I'll need your browser.
12:38:56 <geekosaur> orion, that would be possible but nobody else would do it
12:39:09 <geekosaur> orion, meanwhile you may want to look at elm or ghcjs
12:39:39 <orion> WRY?
12:39:48 <geekosaur> (elm probably preferred for this even though it is not full Haskell, because ghcjs *is* full Haskell and requires a fairly large runtime library)
12:39:49 <monochrom> slack1256: I think ghc-mod and intero do it
12:40:30 <monochrom> what is "WRY"?
12:40:46 <Cale> orion: My day job is writing web applications in Haskell (compiled via ghcjs)
12:40:46 <slack1256> maybe he is quoting Dio's WRY
12:41:00 <monochrom> Why do people use words I don't know?
12:41:08 <orion> monochrom: It's a way to say, "WHY?" in a strange voice.
12:41:20 <orion> Internet slang.
12:41:20 <monochrom> Why do people mistake economic questions as technical questions?
12:41:39 <grantwu> I've never seen "WRY" used for "WHY" before
12:41:55 * geekosaur assumed "why repeat yourself" by analogy to DRY
12:42:03 <grpala> neither have I, and I believe it's not a meme worth spreading
12:42:26 <orion> http://www.urbandictionary.com/define.php?term=WRYYYYYY
12:42:52 <slack1256> yep, Dio's WRY
12:43:05 <coleman> EvanR: you mean you could move a0, x, and go into a single let block with b and recur that?
12:43:08 <monochrom> If you pay enough money, you can hire people to make a browser that runs Haskell code, you know?
12:43:20 <EvanR> coleman: no, i was talking about my paste
12:43:26 <coleman> EvanR: oh
12:43:26 <Cale> Browsers already run Haskell code pretty well
12:43:32 <Cale> In my experience
12:43:35 <monochrom> The logical conclusion is that you haven't paid enough money, so it's an economic issue, purely economic, you know?
12:43:40 <orion> Cale: Because it's transpiled to JS?
12:43:44 <coleman> EvanR: right. the latter looks a bit nicer imo desire the drawback
12:43:47 <Cale> "compiled", yes
12:44:16 <slack1256> oh it is a economic issue, you haven't proved it is "purely" an economic issue
12:44:17 <EvanR> coleman: i used let in your example just because there was 1 definition and where would be awkward as you saw
12:44:18 <Cale> I don't really know what the distinction between "compiling" and "transpiling" is supposed to be.
12:44:25 <slack1256> haskellers and their silly notions of purely
12:44:28 * hackagebot existential 0.2.0.0 - Existential types with lens-like accessors.  https://hackage.haskell.org/package/existential-0.2.0.0 (SimonHudon)
12:44:38 <monochrom> Haha OK "purely" is a hyperbole
12:45:05 <slack1256> :-)
12:45:09 <monochrom> Anyway I want to break out the cold hard truth that if something nice hasn't happened, it is your fault. yours.
12:45:10 <coleman> EvanR: putting the `in` at the end of the line fucks up indentation in emacs haskell-mode
12:45:11 <coleman> too bad
12:45:24 <EvanR> thats pretty bad
12:45:25 <geekosaur> there are ways to adjust its indentation, I think
12:45:34 <Tuplanolla> My hypothesis is that transpiling is a term coined by developers who don't really understand compiling.
12:45:39 <orion> Ok, if you want to take on the economic argument, I shall rephrase: I'm frustrated that people don't share the same values and incentive structures as me.
12:46:08 <grantwu> I think transpiling is supposed to be a term for compiling to a target language that is also actively written by humans.
12:46:08 <Cale> orion: But the Javascript which comes out on the other end is very much like the assembly language output of GHC, except written in Javascript.
12:46:21 <geekosaur> first print reference was in the late 80s sometime and the context was an early (and deficient) take on what LLVM does these days
12:46:22 <Cale> (so it's just as difficult/easy to understand)
12:46:28 <orion> Cale: Sure, I won't argue semantics.
12:46:38 <monochrom> Although, to be honest, I feel that a Haskell-capable browser is a very large undertaking, and so I don't even know what price I would quote if you tried to hire me.
12:46:53 <EvanR> monochrom: hourly
12:47:24 <monochrom> Whereas if you just asked the vanilla #haskell kind of help questions, I would know what price to quote.
12:47:26 <Cale> orion: Have you had the chance to check out reflex-platform?
12:47:32 <geekosaur> anyway yes, the assumption was that compiling always went to native machine code. dunno what they think javac does...
12:47:40 <Cale> It's a pretty easy way to get set up with ghcjs and reflex-dom
12:47:47 <orion> What's the most difficult aspect of adding native Haskell support to a browser?
12:47:54 * slack1256 thinks somebody is tired
12:47:56 <slack1256> standards
12:48:02 <Cale> Well, I don't know whether you'd even *want* that.
12:48:16 <Cale> You don't want to be delivering Haskell source code to be compiled client-side I think.
12:48:19 <Tuplanolla> So we have a bunch of transpilers that are incorrectly called compilers until they people stop writing C, at which point they become compilers, grantwu.
12:48:21 <geekosaur> or for that matter what every unix c compiler has always done (because they don't go direct to machine code, they go to an IR or to assembly language, both of which require further translation)
12:48:24 <Tuplanolla> I like it.
12:48:31 <monochrom> the Java inventors were envisioning hardware JVM. in fact they had prototypes, even a product that later failed.
12:48:36 <orion> Cale: How is it any different with JS being interpreted?
12:48:38 <Cale> So it doesn't really make any sense for the *browser* to be interpreting Haskell code
12:49:05 <Cale> Well, you *could* do this, but compiling Haskell code usually takes a good bit of time, just because of all the stuff we need to do to it to get it to perform well.
12:49:14 <monochrom> although, I wouldn't draw a hard line between asm and machine code.
12:49:16 <dolio> JS being interpreted doesn't make a ton of sense, either.
12:49:20 <Cale> So it'd be better to just deliver binaries
12:49:34 <Cale> In some kind of virtual machine language
12:49:49 <Cale> WebAssembly, e.g. might be really nice.
12:49:52 <dolio> There's a lot of up-front work in Haskell that doesn't make a lot of sense to be done client-side, though.
12:49:54 <slack1256> like java applets
12:50:10 <orion> I don't know enough about the runtime, but is it possible to take the compiled output and run it in a restricted Monad?
12:50:20 <dolio> People do up-front work on JS, too, these days.
12:52:17 <Cale> orion: I don't know what that means really...
12:52:32 <geekosaur> re not drawing a hard line, is your answer the same with the old -fvia-C and the Evil Mangler? :p
12:52:57 <geekosaur> (reality is *always* more flexible than our pigeonholes)
12:53:16 <Cale> orion: But what I'm really hoping to see soon enough is that WebAssembly gets its act together, and GHCJS gets a WebAssembly backend, and we just compile Haskell programs to WebAssembly and deliver them in binary form like that.
12:53:32 <monochrom> ooohhh what if the evil mangler worked on *.o files instead? that's interesting.
12:53:45 <Cale> (It does look like it is getting its act together pretty well so far, given that I can run this unity demo http://webassembly.org/demo/ )
12:54:23 <monochrom> you know what, I think that would be better at the meta level, since no one would be thinking "let's try perl" when the task were framed that way.
12:54:39 <thoughtpolice> Cale: My worry is that WebAssembly will probably make GHCJS size issues even worse though, I'm betting.
12:54:51 <monochrom> "let's try perl" is only people of the usual pigeonhole "w00t asm file is a plain text file"
12:55:27 <monochrom> hmm that sentence doesn't quite parse, but I am not sure how to fix it :)
12:55:35 <lpaste> int-index pasted “Pattern parens” at http://lpaste.net/311435
12:55:44 <monochrom> oh! s/people/because/
12:55:48 <int-index> is there a reason why this doesn't parse or is this a bug in GHC Grammar?
12:55:54 <Cale> thoughtpolice: really?
12:56:02 <monochrom> no, my sentence, int-index
12:56:05 <Cale> thoughtpolice: You mean, after compression?
12:56:13 <monochrom> but I'll look at your code
12:56:27 <orion> Cale: I'll rephrase my question: Let's say we have a Monad called "Browser" which only allows "safe" operations. Is it possible to compile that code, deliver it to another party, and then have that party *prove* that it uses that Monad as opposed to, say, IO?
12:57:06 <monochrom> int-index: it's GHCi prompt, which is not exactly Haskell. add "let " at the front
12:57:16 <Tuplanolla> That's not the issue, monochrom.
12:57:21 <thoughtpolice> Cale: I'd imagine so. At least asm.js is significantly more verbose in general. WebAssembly may be more compact; idk. I mean, yeah there's compression, but it really depends on the output and I'm not sure any redundancy from "lower syntactic complexity" will offset just the larger amount of necessary code.
12:57:23 <geekosaur> monochrom, to be fair, the evil mangler was not just about text files, it was about recognizing patterns. and that is something perl still excels at
12:57:44 <orion> Cale: I.e., is there a way that a browser can take untrusted Haskell code and prove it to be safe?
12:57:55 <int-index> monochrom, the same behavior is observed when I compile a file. Also, since GHC 8 lets in GHCi are optional
12:57:56 <geekosaur> monochrom, int-index: it *is* recognizing that as a declaration. it just doesn't like extra parens in patterns, which has been seen before
12:57:56 <Cale> thoughtpolice: hmm, yeah
12:57:57 <thoughtpolice> Cale: Of course this is just speculation. I'd think this is a very reasonable tradeoff in some cases and for some code, but perhaps not all.
12:58:04 <geekosaur> whether it is intentional or not, I don't know
12:58:15 <monochrom> Oh OK
12:58:28 <Cale> orion: Well, it's up to the browser to interpret what you give it as code which doesn't have the ability to do incorrect things.
12:58:39 <monochrom> Hrm I still have 7.10.3
12:58:44 <Tuplanolla> @let runIdentity ((Identity) x) = x
12:58:45 <lambdabot>  Parse failed: Parse error in pattern: (Identity)
12:59:00 <geekosaur> right, 8.0.1 needed for that to work in ghci
12:59:29 * geekosaur also has not upgraded yet, mostly because env needs tweaking to make sure his xmonad setup doesn't fall over >.>
12:59:34 <monochrom> 7.10.3 doesn't like ((X) (v)) either
12:59:42 <Cale> orion: If what you're shipping over is code which is only capable of describing certain "safe" actions, then sure, presumably we can hope the interpreter for that will not be extensively buggy and let you express things not in the language.
12:59:51 <geekosaur> (not so much because of xmonad, as because I've always got hacky stuff going on with my xmonad...)
13:00:02 <cloudhead> is there something like 'local', but for a StateT? I'm looking at withStateT, but that looks to be just `modify f >> m` ie: it doesn't preserve the previous state
13:00:26 <monochrom> oh I have both 7.10.3 and 8.0.1. I am defaulting to 8.0.1 since a week ago or something. And I erased some old GHC versions like 7.8
13:00:57 <monochrom> hmm what does Haskell 2010 say?
13:01:04 <int-index> That's exactly my question
13:01:13 <int-index> is this behavior aligned with the standard?
13:01:51 <geekosaur> it may well be. parens do more than just grouping; consider the (op) syntax for treating an operator as a function
13:01:53 <geekosaur> or sections
13:04:43 <int-index> I'm looking at the grammar of patterns from the Haskell 2010 report. Looks like this should be valid via lpat->apat->(pat)
13:05:02 <monochrom> OK you want to use these rules from Haskell 2010.  pat -> lpat.  lpat -> gcon apat_1 ... apat_k.  Now, the apat's allow redundant parentheses, e.g., apat -> (pat).  But gcon...
13:05:33 <int-index> right, there isn't pattern appliaction, only gcon application
13:05:36 <int-index> makes sense, thanks
13:05:42 <monochrom> gcon -> () | [] | (,) | (,,) | etc | qcon
13:06:16 <monochrom> and qcon -> the alphabetic kind | (the symbolic kind like :+ )
13:06:42 <monochrom> so only the punctuation constructors can have parentheses
13:07:20 <geekosaur> right, unit and tuples, that makes even more sense than the ones I mentioned earlier
13:07:48 <Tuplanolla> There are quite a few similar warts in the syntax I'd like to change.
13:08:44 <dolio> Similar to what?
13:08:56 <Stuart> Does anyone know the Reader monad
13:08:57 <Stuart> ?
13:09:05 <johnw> Stuart: what is your question?
13:09:09 <Tuplanolla> This placement of parentheses being discussed, dolio.
13:09:11 <mmaruseacph2> Stuart: yes
13:09:16 <monochrom> I think I know the Reader monad.
13:09:30 * hackagebot axiomatic-classes 0.1.0.0 - Specify axioms for type classes and quickCheck all available instances  https://hackage.haskell.org/package/axiomatic-classes-0.1.0.0 (SimonHudon)
13:09:37 <monochrom> But I think you should cite the Dunning-Kruger effect to doubt me.
13:10:15 <johnw> monochrom: your "I think I know" showed enough diffidence that, by Dunning-Kruger, I pronounce you an expert
13:10:24 <Stuart> the definition of the applicative is f(a -> b) -> f a -> f b. How do a apply this to the Reader monad
13:10:37 <Stuart> i.e 
13:10:38 <johnw> Stuart: substitute each 'f' with 'Reader r'
13:11:04 <monochrom> :)
13:11:08 <johnw> Stuart: didn't we have this same discussion a few hours ago? :)
13:11:27 <Stuart> so it is (Reader r (a -> b) -> (Reader r a) -> (Reader r b)
13:11:33 <johnw> yes
13:11:57 <Stuart> ok so I will try to implement it now 
13:12:30 <Stuart> johnw: thats
13:12:32 <Stuart> thanks
13:12:44 <Stuart> johnw: thanks
13:18:17 <stevenxl> I folks. I was checking out HackerRank out of curiosity and I found this challenge:
13:18:23 <stevenxl> https://www.irccloud.com/pastebin/Fi2cERg5/
13:18:52 <stevenxl> I see a lambda that returns a lamda that returns its argument.
13:18:56 <stevenxl> I don't know how that's an integer. 
13:20:38 <linman> what is the -> operator called in the declerations?
13:21:04 <lyxia> it's not an operator
13:21:20 <linman> what is it? it is right associtative, correct?
13:21:28 <ab9rf> it's a type operator, if i'm not mistaken
13:21:35 <EvanR> :->: is
13:21:51 <EvanR> -> is a type constructor
13:21:53 <jophish_> stevenxl: you might be interested in learning about "Church Numerals"
13:21:54 <lyxia> ah, did you mean in a type? a -> b ?
13:21:55 <stevenxl> -> is a type constructor
13:22:00 <S11001001> stevenxl: maybe it means the integer representation of this church-encoded natural number? eh jophish_ 
13:22:29 <linman> ok, thanks. i meant in a function.. add :: Int -> Int -> Int
13:22:30 <ab9rf> the only way that's an integer is if you inteprret it as a church numeral
13:22:33 <stevenxl> S11001001 / jophish_ yes after a bit of googling I came across that concept. Don't know what it is but I got the power of the internet at my fingertips.
13:23:25 <ab9rf> which is, i suppose, the point of the question: are you sufficiently nerdy as to know about church numerals and recognize this as being one
13:23:56 <stevenxl> ab9rf: I was not.
13:24:33 <ab9rf> stevenxl: and yet now you are :)
13:24:40 <stevenxl> :-)
13:25:30 <ab9rf> now, find some way to use this knowledge, other than answering trivia quizzes
13:29:28 <polo> Hello, I wanna define a function like: combat T1 T2 = T1 `attack` T2 and then alter like T2 `attack` T1 until I get a base case where attack returns "No winner" | "T1 Won" | "T2 Won". How do I do that?
13:31:35 <ab9rf> polo: where are you getting stuck?
13:32:32 <polo> My problem is: after doing:  combat T1 T2 = T1 `attack` T2 , I want to do comabt T2 T1 = T2 `attack` T2 and keep alter like this.I don't know how to do that 
13:34:39 <polo> suppose I have combat and attack functions. I want to alternate between T1 and T2 like :L combat T1 T2 =T1 `attack` T2, combat T2 T1 = T2 `attack` T1, combat T1 T2 =......until I get a certain condition.I don't know how to do altering.
13:35:07 <lispy> You have to return a new value
13:35:07 <ab9rf> do you have code you can put in a pastebin?
13:36:01 <ab9rf> it seems to me htat the alternation can simply be accomplished by reversing the argumnets in the tail recursion in the "no winner" case
13:36:02 <polo> ab9rf: I'm on the process of doing a long homework problem.I'm posting the whole problem.http://lpaste.net/294377
13:36:31 <ab9rf> oh. this problem again :)
13:37:02 <polo> ab9rf: I'm stuck at 4.It's due at 9 pm. :(
13:37:31 <ab9rf> ugh, really, using text strings as the result?
13:37:49 <ab9rf> BAD INSTRUCTOR
13:39:04 <EvanR> stringly typed
13:39:44 <ab9rf> the requirement to terminate combat after 50 rounds adds a complication
13:40:03 <EvanR> take 50 rounds :D
13:40:23 <mmaruseacph2> worker-wrapper with a param for the number of rounds left
13:40:37 <ab9rf> it's not much of a complication, but it is one
13:41:36 <ab9rf> there's at least three strategies for that that come to mind
13:41:44 <amx> do two trainers' first pokemen in the list fight until one is dead?
13:42:26 <amx> or do they attack once, then the next two pokemon have a go at it
13:42:29 <polo> amx: yes. the first of each keeps figting until one is dead.Then the winner fights with the other ones.
13:43:34 <polo> amx:Only one pokemon from each trainer attacks each round.  1. a attacks a' 2. a' attacks a 3. Repeat 1. and 2. until a dies or a' dies. (let's say a dies) 4. b attacks a' 5. a' attacks b 6. Repeat 4. and 5. until a' dies or b dies. etc.   There is no winner declared until one trainer has 0 pokemon.
13:43:37 <EvanR> i wish original pokemon played out as fast as this haskell code will
13:43:43 <EvanR> what a waste of time
13:44:12 <ab9rf> heh
13:44:22 <Sonolin> not much of a game though with no interaction :p
13:44:35 <ab9rf> Sonolin: depends on your definition of "game"
13:44:38 <EvanR> repeat (Press A)
13:44:56 <Sonolin> although its probably more accurate to watching them fight to the death in rl
13:45:28 <EvanR> pokemon dont die, they faint and get taken to the pokecenter
13:45:39 <ab9rf> i've always disliked pokemon, since the game is based on forcibly enslaving living creatures and then forcing them to bash one another into submission, with the reward being bragging rights
13:45:42 <Sonolin> nah thats the twist
13:45:43 <mmaruseacph2> not even that in Pokemon Go
13:45:49 <ab9rf> it seems deeply immoral
13:45:53 <mmaruseacph2> you just have an item to revive the faint ones
13:46:01 <polo> One more important thing.If a pokemon isResistant then it has 30 less damage like (damage-30). And if a pokemon isVulnerable then it has 2 times more damage like (2* damage)
13:46:15 <EvanR> ab9rf: i never realized the similarity to "mandingo"
13:46:40 <mmaruseacph2> polo: that's easy, just compute the damage in a helper function and then just apply it
13:46:47 <EvanR> off topic
13:47:25 <amx> polo: so yeah, I think you just need a to do a case analysis on 'attack' e.g. using guards
13:48:19 <amx> if one of the pokethings is dead, you return the battered other one
13:48:45 <amx> otherwise you `attack` the other way round
13:48:46 <amx> just an idea
13:49:21 <polo> amx: making attack is my own approach. I thought doing like combat T1 T2 = T1 `attack` T2 is much better but then I don't know how to alter like T2 `attack` T1 for the same trainers.
13:49:28 <Tuplanolla> Related: has anyone ever worked on commutative pattern matching?
13:50:25 <amx> oh my bad, I thought attack operated on two pokemons instead of two trainers
13:50:38 <Tuplanolla> Sometimes it would be nice to get the other half of patterns automatically.
13:51:02 <EvanR> you could do
13:51:38 <EvanR> f A B = ...; f A C = ...; f B C = ...; f x y = f y x
13:51:53 <EvanR> forgot the AA BB CC cases
13:52:01 <EvanR> so not really half
13:53:01 <EvanR> its also not as efficient as exploiting commutativity
13:53:20 <EvanR> (somehow?)
13:53:27 <polo> eavnR: did you mean f x y = f y x for me?
13:53:28 <dolio> It might be.
13:53:31 <EvanR> noo
13:53:46 <Tuplanolla> I asked about that one, polo.
13:53:54 <dolio> GHC will sometimes optimize pseudo-recursive functions like that into non-recursive functions.
13:54:06 <EvanR> really O_o
13:55:23 <polo> so guys, you're experts and I'm coding in haskell for just 4 days now so please help me with this http://lpaste.net/294377. I will very much appreciate. 
13:56:14 <dolio> There used to be functions in integer-gmp that work like that, where it does 'small-small' and 'big-big' cases, and then in off-diagonal cases recursively calls itself after converting to big arguments.
13:56:48 <dolio> And if you allow the functions to be inlined into themselves one time, GHC would figure out that it could do it all in one step, in my tests.
13:56:55 <dolio> However, the functions were marked noinline.
13:59:32 <dolio> There are also pragmas for exactly this kind of thing in other scenarios.
13:59:43 <dolio> Specialize inline or something.
14:00:29 <dolio> Where the amount of self-inlining is bounded statically based on changing types in the recursive calls.
14:01:48 <amx> polo: since you seem to be stuck at alternating the attacks, think about the attack counter and how you could use it for your benefit
14:02:48 <stevenxl> polo: Also notice how similar the logic is between isResistant and isVulnerable. 
14:03:06 <polo> amx: check out http://lpaste.net/294377 I found a way but don't know how to track round or end it.
14:03:19 <eacameron> Anyone had issues building with stack --nix where it can't find zlib?
14:03:22 <stevenxl> You can define one in terms of the other. That way, if you ever have to change your logic,  you only change it in one place.
14:04:13 <amx> > even 0
14:04:15 <lambdabot>  True
14:04:20 <amx> > even 1
14:04:22 <lambdabot>  False
14:04:32 * hackagebot bioinformatics-toolkit 0.3.1 - A collection of bioinformatics tools  https://hackage.haskell.org/package/bioinformatics-toolkit-0.3.1 (kaizhang)
14:18:08 <amx> polo: did you use recursion before?
14:18:31 <amx> because if not I suggest you read up on it. It's all you need to solve this.
14:18:35 <polo> amx: yes.
14:18:58 <polo> amx: in java.
14:21:02 --- mode: ChanServ set +o monochrom
14:21:17 --- mode: monochrom set -b $a:larryba
14:21:23 --- mode: monochrom set -o monochrom
14:30:28 <nomeata> What do you think: If a module Foo has a function "foo :: Bar -> Foo" where type Bar comes from a different module Bar (and potentially a different package), should Foo re-export Bar so that a user of Bar can write type signatures for something involving foo without having to import Bar?
14:31:53 <monochrom> I say yes. But I don't insist on it. I see half of the common libraries doing that, and the other half not doing that.
14:32:18 <Tuplanolla> Yes, unless it's something weird like stuff from `primitive`.
14:32:44 <needHelpHaskell> hey guys im stuck again^^ http://pastebin.com/JjsQE0WE if one of you would be so nice and look into this...
14:34:22 <monochrom> oh you know what, here is an example when you can't re-export the outsider type, even if you wanted to.
14:34:28 <lyxia> needHelpHaskell: you don't have a case for an empty list
14:34:42 <geekosaur> needHelpHaskell, as I told you before. (x:xs) matxhes a list with at least one element
14:34:49 <monochrom> aeson has functions involving ByteString. Both kinds of ByteString. So it cannot re-export.
14:35:00 <geekosaur> you are at some point supplying an empty list, which does not match
14:35:08 <implementation> also you shouldn't do it if the name Bar is probably clashing with types from other very popular packages (like base), so that this would force any user to import Foo qualified - except Foo is intended to be imported qualified anyway
14:35:28 <geekosaur> [] is the pattern for an empty list.
14:35:32 <monochrom> For examples when they do re-export, see mtl
14:35:47 <geekosaur> you appear to be trying to handle the empty list with 	| [x] == "" = m
14:35:56 <geekosaur> but this is nonsense
14:35:59 <needHelpHaskell> yea
14:36:05 <geekosaur> because, again, [x] is always a list with one element
14:36:09 <geekosaur> so it will never be == ""
14:36:12 <needHelpHaskell> oh
14:36:14 <needHelpHaskell> okay
14:36:43 <monochrom> yeah try not to use == for everything. you will avoid a lot of problems in the first place.
14:37:12 <needHelpHaskell> how else would i check something
14:37:17 <monochrom> == is for inferior languages that do not know of algebraic data types
14:37:32 <geekosaur> by pattern matching a constructor
14:37:40 <geekosaur> the constructor you want here is [] for the empty list
14:37:44 <monochrom> ("do not know of" because they may have it or equivalent, but they aren't aware they have it. e.g. scheme)
14:37:54 <geekosaur> as opposed to (:) for a nonempty list
14:38:19 <Tuplanolla> Scheme makes up for by having a dozen different equalities.
14:38:40 <needHelpHaskell> oh
14:38:40 <monochrom> see my http://www.vex.net/~trebla/haskell/crossroad.xhtml for why pattern matching is the right thing (and why boolean tests are the wrong thing)
14:38:52 <Tuplanolla> Just how many were there?
14:39:03 <lpaste> geekosaur pasted “needHelpHaskell: pattern match empty list” at http://lpaste.net/311617
14:39:13 <monochrom> and by "the right thing" I actually have philosophical consideration to back it up. It is not a subjective preference.
14:39:30 <monochrom> (by my "philosophical" involves mostly logic)
14:39:34 * hackagebot haskell-igraph 0.2.0 - Imcomplete igraph bindings  https://hackage.haskell.org/package/haskell-igraph-0.2.0 (kaizhang)
14:41:01 <needHelpHaskell> ok thanks all
14:41:53 <needHelpHaskell> y'all are very smart
14:46:09 <RouxTheDay> monochrom: in that post, what do you mean by NxM selectors?
14:46:40 <RouxTheDay> Nevermind, I need to learn to read
14:47:58 <monochrom> :)
14:48:08 <monochrom> for [a], head and tail are selectors
14:50:41 <Rumia> How would you pronounce "(**) :: f a -> f b -> f (a,b)" ?
14:51:10 <monochrom> star star
14:51:14 <Tuplanolla> "An unpleasant surprise."
14:51:18 <monochrom> @quote monochrom modem
14:51:18 <lambdabot> No quotes match. Maybe you made a typo?
14:51:25 <monochrom> @quote modem
14:51:25 <lambdabot> hpc says: wget is one of my favorite zmodem emulators
14:51:32 <monochrom> haha
14:51:38 * Clint squints.
14:51:39 * geekosaur generally doesn't try to pronounce it...
14:51:40 <monochrom> @quote <monochrom> modem
14:51:41 <lambdabot> No quotes for this person. I've seen penguins that can type better than that.
14:51:57 <geekosaur> no <>
14:52:09 <monochrom> yeah, I was trying to see if lambdabot remembers that I said: why are you converting code to voice? you are not a modem.
14:52:56 <Rumia> Well I really need to convert it to letters. I'm coding it up in a language that is not as nice as Haskell about operators.
14:52:56 <geekosaur> doesn't look like it
14:53:29 <monochrom> oh then you should not mention "pronounce"
14:53:39 <Rumia> Fair.
14:53:50 <Tuplanolla> Is it some sort of `zip`, Rumia?
14:53:53 <monochrom> applicative multiplication
14:57:55 <Rumia> Tuplanolla: It can be either 'zip' or 'cartesian product'.
14:58:04 <Rumia> (Or other things.)
14:58:43 <monochrom> applicative cartesian product
14:59:39 <MarcelineVQ> liftTuple :>
14:59:52 <Rumia> I like applicative multiplication. Though I am going to write it as ap_mul.
15:00:09 <Rumia> That is not bad either, MarcelineVQ.
15:00:15 <monochrom> yeah, you'll need to abbreviate
15:01:07 <Paprikachu> hi, i'm doing some home work and i have to use hugs
15:01:14 <Rumia> ** is also a terrible notation for it. Maybe <,>?
15:01:26 <Paprikachu> it seems hugs chokes on popCount from Data.Bits, saying it can't find it
15:01:41 <Paprikachu> whereas it works fine if i run my program locally with ghc
15:01:55 <geekosaur> correct. popCount was added well after hugs stopped being developed
15:02:09 <Paprikachu> :c
15:02:41 <Paprikachu> any workarounds?
15:02:49 <Paprikachu> besides writing my own
15:02:57 <geekosaur> only that
15:03:01 <monochrom> hire me to do it for you for cdn$60
15:03:16 <monochrom> no, let me say it in a high class way
15:03:23 <monochrom> commission me to do it for you for cdn$60
15:03:25 <Paprikachu> ... and i thought i was being clever by using popcount to implement isPowerOf2
15:03:30 <Paprikachu> wrooong
15:03:49 <monochrom> yeah, you should use isPowerOf2 to implement popcount
15:03:53 <haldean> i'll do it for usd$40
15:04:07 <monochrom> and make a mutual recursion out of them
15:04:34 <monochrom> two birds in one infinite loop
15:04:47 <monochrom> or maybe just strange loop
15:04:58 <geekosaur> next, someone will want to know how to do -XTypeInType in hugs
15:05:30 <monochrom> oh that's interesting. but we haven't even done PolyKind
15:05:55 <monochrom> oh! I have a cunning plan. system "ghci"
15:06:37 * geekosaur deliberately picked something new in ghc8 >.>
15:06:56 <Paprikachu> is there any particular reason why they would want me to use hugs instead of ghc?
15:07:06 <monochrom> system "ghci-8.0.1 -XTypeInType"
15:07:41 <monochrom> hugs error messages are simpler
15:08:08 <monochrom> hugs is smaller and less involved to install and later uninstall
15:08:39 <monochrom> ghc is a 200MB download, and many students simply have panic attack on that
15:08:41 <polo> Can someone please help me with question 4? I wrote down the algorithm I have understood so far to deal with the problem at the bottom.http://lpaste.net/294377
15:09:06 <polo> it's due in 3 hours.
15:09:12 <Tuplanolla> The school could provide SSH access to a machine with GHC on it.
15:09:53 <monochrom> that only transforms the problem to "what the heck is ssh? and why is it so hard to use?"
15:10:14 <monochrom> especially bearing in mind that young students grew up on GUIs
15:10:14 <Paprikachu> well, they have both ghc and hugs installed on the machines so that's that
15:10:58 <Tuplanolla> Those are still better questions than "why is GHC so big".
15:11:22 <monochrom> I guess you can counter that by "but hugs is text-mode and equally hard to use". I don't disagree.
15:12:14 <monochrom> at the end I admit I don't know. recall that Erik Meijer also prescribed hugs for his online course, and it is still a big mystery why.
15:12:21 <orion> If you're a computer science student and you don't know how to use SSH, you're going to have a hard time finding work in industry (which is what I thought school should prepare you for).
15:12:28 <Rembane> monochrom: Will he not say why?
15:12:43 <monochrom> I mean, some prof in some college may choose hugs just because the prof hasn't used ghc ever.
15:13:08 <monochrom> But Erik Meijer is supposed to know his full range of choices.
15:13:48 <monochrom> I don't know. I am too shy to ask him.
15:14:17 <monochrom> I can ask him, at the limited-time discounted price of cdn$20
15:14:32 <MarcelineVQ> You are full of beans today :>
15:14:36 <geekosaur> possibly just because of winhugs
15:14:50 <monochrom> oh winhugs is nice, yes
15:15:06 <geekosaur> there was a winghci, dunno if it hs bitrotted or its original flaws (like no way to interrupt it) fixed
15:15:14 <geekosaur> ihaskell is sorely needed >.>
15:15:28 <orion> I've interviewed candidates with CS degrees who have /never/ used any VCS nor SSH.
15:15:39 <geekosaur> (but last I'd heard there, ipython -> jupyter had broken it)
15:15:43 <Tuplanolla> Universities are not vocational schools, orion.
15:15:55 <geekosaur> sadly, these days they all too often are
15:15:55 <intothemountains> polo: you might want to use recursion for combat
15:16:06 <monochrom> maybe we should bet on hyperhaskell instead
15:16:14 <geekosaur> which is why so many of them prioritize Java over e.g. Haskell
15:16:22 <Tuplanolla> Yeah, well, they shouldn't be.
15:16:45 <intothemountains> My university is too market oriented
15:16:51 <monochrom> but oh here is the irony. universities/colleges try so hard to be or claim to be vocational, and yet fail to expose you to version control and ssh and netcat.
15:17:05 <orion> But then I hear people say, "Nobody wants to hire me! I was promised a high paying job if I went to college. I have a CS degree and it's worthless!"
15:17:24 <monochrom> I am agnostic on vocational vs academic.
15:17:24 <Rembane> monochrom: A bargain!
15:17:40 <intothemountains> monochrom: we visited git and ssh, no netcat though
15:17:53 <monochrom> But I am a logician and therefore most sensitive with self-inconsistency and hypocrisy.
15:18:09 <monochrom> Heh I threw in netcat for hyperbole. Don't worry.
15:18:18 <Rembane> netcat is great fun!
15:18:32 <johnw> monochrom: does that mean that when you hear falsehood, you're ready to accept anything? :)
15:18:37 <intothemountains> I personally think universities should promote education and knowledge, not simply build workers
15:18:42 <monochrom> (almost threw in logic probe, too)
15:18:58 <pikajude> our CS program didn't even teach coq!
15:19:14 <monochrom> no, when I hear falsehood, I'm ready to cry "BS"
15:19:23 <geekosaur> nor nmap, as someone recently deponstrated here :p
15:19:30 <glguy> What was the original Haskell question?
15:19:43 <geekosaur> they wanted Data.Bits.popCount
15:19:45 <geekosaur> in hugs
15:19:54 <glguy> ah
15:20:08 <geekosaur> popCount was added to Data.Bits about 5 years after hugs last had a non-"fix compiles" update
15:24:36 <dgpratt> I thought the original Haskell question was something like "Can we make a useful lazy functional programming language?"
15:24:52 <monochrom> heh
15:25:11 <jle`> it was "can we actually get a committee to design a language and not tear itself apart in the process" 
15:25:38 <dgpratt> ah
15:25:39 <geekosaur> I thought that question has been asked since at least algol60 >.>
15:30:35 <monochrom> oh well, "due in 3 hours" is a bad omen anyway
15:31:26 <intothemountains> their homework is fun though
15:31:40 <intothemountains> mine is not as imaginative
15:42:49 <dgpratt> it's that time again when I hafta decide which Linux distro to use for my Haskell playground VM
15:43:09 <monochrom> ubuntu 16.10
15:43:26 <Tuplanolla> Perhaps Xubuntu.
15:43:27 <geekosaur> judging by recent traffic, nixos
15:44:15 <Rembane> Arch Linux! You won't regret that decision!
15:44:45 <dgpratt> geekosaur: I like nixos in theory quite a lot and I've tried to give it a go; but somehow I always end up with intractable build/library/linking errors
15:45:06 <geekosaur> funny, since that's exactly what nix is supposed to be the final solution to :)
15:45:14 <dgpratt> it is ironic
15:45:16 <monochrom> why do you have to decide? you can fork 4 VMs and try all 4 suggestions
15:45:22 <dgpratt> or maybe it isn't
15:45:31 * geekosaur tried to install nixos once. the install made me long for the old netbsd install >.>
15:46:48 <dgpratt> stock Ubuntu has a DM that seems to struggle in a VM
15:47:15 <monochrom> I see. ubuntu server then :)
15:47:32 <geekosaur> mint 18 :p
15:47:52 <geekosaur> ...in a vm, the mate spin
15:48:31 <dgpratt> Tuplanolla: xubuntu may just be what I'm looking for
15:50:56 <younder> dgpratt, Last I checked Simon Jones used ubuntu (and emacs). So it's probaly the option with least chance of problems. Chromium is altso developed under ubuntu.  And many more.
15:51:28 <pie_> funny man https://www.youtube.com/watch?list=PLnqUlCo055hX_BCFl3kLW1bB9Mp4wZACc
15:51:39 <EvanR> havent seen a linux distro discussion in here in a while... or ever
15:52:04 <pie_> dgpratt, nixos!
15:52:14 <pie_> aw i see geekosaur already got that one
15:52:37 <dgpratt> I wish I could make it work for me
15:52:49 <pie_> im using it but havent actually learned how to use it :I
15:52:54 <dgpratt> maybe I've just had bad luck, but it leaves me a bit gun-shy
15:53:01 <pie_> how long ago was it that you tried it?
15:53:15 <pie_> its probably improved but there are certainly pain points still
15:53:17 <dgpratt> 6 mo. ago maybe?
15:53:23 <pie_> ah well idk then
15:53:24 <dgpratt> (the last time)
15:53:58 <pie_> i just wish it didnt use systemd :(
15:54:09 <younder> dgpratt, Ubuntu related questions are probaly best discussed on #ubuntu
15:54:16 <dgpratt> I'm a lot more familiar/comfortable with...ahem...Windows, so it doesn't take a very big problem at all to throw me off my Linux game
15:54:38 * hackagebot haskell-igraph 0.2.1 - Imcomplete igraph bindings  https://hackage.haskell.org/package/haskell-igraph-0.2.1 (kaizhang)
15:54:44 <EvanR> #haskell-blah
15:54:45 <monochrom> but it's not even ubuntu. it's nixos.
15:55:19 <pie_> looks like this isnt actually completely a joke though
15:55:32 <pie_> ^wrong chan
15:55:36 <monochrom> heh
15:56:31 <pie_> dgpratt, computing happens :I you have to get work done so you have to use what you have to use
15:57:46 <dgpratt> well for me Haskell (and Linux, for that matter), are still just hobbies
16:00:08 <dgpratt> sooo tempted to try nixos again, but every time I do, I end up learning about nixos and not Haskell
16:00:22 <pie_> yeeeeah i can see that happening
16:00:35 <pie_> <monochrom> why do you have to decide? you can fork 4 VMs and try all 4 suggestions
16:00:36 <Tuplanolla> Just pick up an operating system that lets you forget it exists.
16:00:49 <Tuplanolla> They're mostly garbage anyway.
16:05:21 <c0dehero> dgpratt: the nixos people still haven't fixed the upgrade issue
16:05:30 <c0dehero> https://github.com/NixOS/nixpkgs/pull/10851
16:05:38 <c0dehero> i'm honestly not sure if it's ever going to happen
16:13:20 <EvanR> is it possible to get a vector of unboxed "structs"
16:13:38 <EvanR> like record of unboxed things
16:13:42 <EvanR> itself unboxed
16:14:44 <Tuplanolla> If you can implement an `Unbox` instance.
16:15:46 <EvanR> i see, the Unbox class. It has no methods ;)
16:16:29 <EvanR> ... derivingUnbox...
16:16:59 <daey> haskell is a pure programming language which means its fully compliant to lambda calculus. is that correct?
16:17:06 <daey> pure functional*
16:17:45 <daey> or it *operates fully within lambda calculus*
16:18:02 <Tuplanolla> Peek inside vector/internal/unbox-tuple-instances, EvanR.
16:19:21 <EvanR> daey: haskell has features that LC does not, like recursive bindings
16:20:02 <daey> Functional programming languages are all based on the lambda calcu-
16:20:02 <daey> lus. Some languages in this general category incorporate features into
16:20:02 <daey> the language that aren’t translatable into lambda expressions. Haskell
16:20:02 <daey> is a pure functional language, because it does not.
16:20:08 <daey> that is wrong then?
16:20:18 <jmorris> how can i search a list of a list of strings
16:20:24 <jmorris> search "hello" [["a","b"] ["hello","l"]]
16:20:49 <byorgey> jmorris: what do you want the search to return?
16:21:00 <jmorris> which list it is in
16:21:09 <jmorris> so this would be 1 if counting from 0
16:21:19 <c0dehero> also do you also want to search the strings itself?
16:21:33 <byorgey> jmorris: ok.  you should use the 'findIndex' function
16:21:51 <byorgey> findIndex ( ... ) [["a","b"] ["hello","l"]]
16:21:57 <jmorris> im using it to return passwords and usernames from a file of passwords
16:22:03 <c0dehero> oh, okay
16:22:03 <byorgey> inside the ... we need a function that tells us whether one of the lists contains a given string
16:22:29 <byorgey> @type findIndex
16:22:30 <lambdabot> (a -> Bool) -> [a] -> Maybe Int
16:22:41 <byorgey> in this case  [a] = [String]
16:22:46 <byorgey> sorry, I mean  a = [String]
16:22:56 <byorgey> so findIndex :: ([String] -> Bool) -> [[String]] -> Maybe Int
16:23:34 <cloudhead> is there a state monad function that applies a 'local' change to an action, such that it reverts?
16:23:45 <c0dehero> hm. wouldn't a tuple be better for username/password storage?
16:24:10 <Tuplanolla> A `Map` would be even better.
16:24:14 <cloudhead> something like: do { s <- get ; withStateT f m ; put s }
16:24:22 <jmorris> c0dehero: can you have a tuple in a tuple
16:24:31 <c0dehero> why couldn't you?
16:24:39 <c0dehero> but you'd want a tuple in a list
16:24:44 <geekosaur> cloudhead, not built in, not needed often enough
16:24:47 <c0dehero> if i understand correctly
16:24:57 <byorgey> cloudhead: I don't think something like that already exists
16:25:06 <jmorris> each password has a name and a username
16:25:07 <c0dehero> @type (1,(2,3))
16:25:08 <lambdabot> (Num t2, Num t1, Num t) => (t, (t1, t2))
16:25:22 <byorgey> cloudhead: if you find yourself doing lots of such local changes, then perhaps you don't really want the State monad at all, but instead the Reader monad with the 'local' function
16:25:24 <cloudhead> geekosaur: byorgey: ok, cool. would you implement it that way then? or is there something more succint?
16:25:29 <jmorris> c0dehero: could i have (google, (email, password))
16:25:38 <byorgey> cloudhead: that looks good to me
16:25:43 <geekosaur> cloudhead, probably just like that if I did need it
16:25:54 <cloudhead> byorgey: hmm actually that's a good point
16:26:04 <c0dehero> jmorris: yeah, but you'd probably just want (google,email,password)
16:26:25 <jmorris> c0dehero: ok thanks ill try that
16:27:12 <c0dehero> another option would be using a map like Tuplanolla recommended, but i suppose you don't have that many passwords
16:27:31 <c0dehero> so it wouldn't give you that much of a performance benefit i tihnk
16:27:33 <c0dehero> *think
16:28:37 <Tuplanolla> It has a nice interface.
16:29:37 <c0dehero> oh right. that would be a good reason to use it
16:30:23 <c0dehero> he/she would still have to use a tuple though. but there'd be no need to implement a search function
16:30:53 <jmorris> https://github.com/joshua-morris/hpass/blob/master/src/UI/AddPassword.hs
16:31:05 <ph88> is there some way to have ghci import the same packages as the main module loaded ?
16:31:22 <c0dehero> ghci should do that automatically
16:31:51 <c0dehero> but you can use :load
16:32:19 <c0dehero> eh no
16:32:29 <c0dehero> :module + *
16:32:44 <c0dehero> so for instance :module + Data.Map
16:33:10 <ertesx> is there a vector utility library with functions such as (setM :: (PrimMonad m, MVector v a) => v (PrimState m) a -> (Int -> m a) -> m ())?
16:33:21 <monochrom> when you :load the main module, you also get the things imported by your main module.
16:33:50 <monochrom> if you think you don't, you will have to tell us how to reproduce your problem so we can investigate what went wrong
16:34:11 <c0dehero> oh, so it was load
16:34:16 <monochrom> or else give us remote desktop administrator access
16:35:28 <c0dehero> jmorris: what about that file?
16:36:08 <jmorris> that how it currently works
16:36:18 <jmorris> thats adding a password to a file
16:37:43 <c0dehero> jmorris: why?
16:37:56 <c0dehero> why are you using an array as a parameter like that?
16:38:30 <c0dehero> don't do that
16:38:32 <c0dehero> please
16:39:51 <jmorris> what do you mean?
16:40:10 <jmorris> how should i do is?
16:40:12 <jmorris> it
16:40:34 <c0dehero> function param1 param2 param3 =
16:40:43 <c0dehero> not function [param1, param2, param3] =
16:40:52 <jmorris> oh ok
16:41:09 <c0dehero> that way you also won't have to write stuff like
16:41:15 <c0dehero> parse ["--add", "-f", fileName, passwordName, username, password] = addPassword [fileName, passwordName, username, password]
16:42:00 <jmorris> ok i'll fix it
16:42:27 <c0dehero> ok :)
16:42:33 <dk007> :q
16:42:39 <dk007> \q
16:42:47 <dk007> exit
16:43:55 <ertes> jmorris: in general don't use a list as ad-hoc overloading…  you probably want to write multiple functions in this case, potentially starting with the most generic one and then adding special cases with less arguments for convenience
16:45:16 <jmorris> ertes: ok
16:46:03 <c0dehero> and use type declarations ^^
16:49:16 <ph88> i'm doing tree traversal depth first and i want to count how many nodes have been visited, should i use the State monad ?
16:50:19 <ertes> ph88: sounds reasonable
16:50:21 <Rembane> ph88: Or just return how many nodes has been visited
16:50:35 <EvanR> use a traversal?
16:50:48 <monochrom> I wonder if you have to collect anything else from the traversal
16:51:37 <ph88> so far i have this https://paste.fedoraproject.org/462616/76986681/
16:52:07 <ph88> code looks confusing but it works
16:52:32 <ertes> for some reason i find the fedora pastebin really difficult to read…  it's probably the low line height
16:52:50 <monochrom> I like the low line height.
16:53:05 <monochrom> in contrast, I hate pastebin's double-spacing.
16:53:13 <monochrom> I don't have a 40-inch-tall screen.
16:53:16 <Welkin> lpaste?
16:53:17 <c0dehero> lpaste.net is great
16:53:21 <Welkin> hastebin?
16:53:23 <Welkin> which one?
16:53:33 <Welkin> I use both those I mentioned
16:53:46 <c0dehero> i always use lpaste
16:53:51 <Welkin> lpaste gets a ton of spam though
16:54:14 <c0dehero> does it?
16:54:25 <ertes> i mostly use gists, because it doesn't attach a bunch of bullshit "errors" to my code (hlint)
16:54:28 <monochrom> I don't understand the code. it contains no tree.
16:54:32 <Welkin> lol ertes 
16:54:44 <c0dehero> oh, gists also work
16:54:48 <c0dehero> definitely
16:54:57 <c0dehero> or sprunge even
16:54:59 <monochrom> you can stay with lpaste but mark your language as blank
16:55:18 <monochrom> in fact, could you mark it as APL? that should be fun...
16:55:25 <ertes> hehe
16:55:35 <ph88> monochrom, it's a bitvector (entire vector is root), then you take the left half and right half (2 child nodes) of the left part you can split it in 2 again and take another left and right .. and so on
16:57:58 <Welkin> hastebin is funny
16:58:06 <Welkin> it tries to detect the language of your sourcecode
16:58:09 <Welkin> it gets it wrong a lot
16:58:22 <Welkin> but you can change it at will by modifying the extension of the paste id in the url
16:58:36 <Welkin> it's kind of clever
16:58:53 <ertes> gist does something similarly whacky: instead of selecting the language, you have to provide a file name, and it detects the language based on the extension
16:59:13 <monochrom> If you feed it Java code but use the style in https://twitter.com/UdellGames/status/788690145822306304 , I wonder if hastebin will think it's python code :)
17:00:10 <hpc> try writing lisp that way sometime and break someone's brain with it
17:00:19 <monochrom> :)
17:00:48 <ertes> also try using paredit with that style ;)
17:01:30 <monochrom> s-expressions begin with "(". Where should I put it?
17:01:48 <ertes> first line:                                  (
17:01:56 <monochrom> Oh! Create one more blank line to hold it in the far right
17:02:21 <hpc> it's like a weird reverse version of the "text file" newline-at-the-end hack
17:04:42 * hackagebot haskell-igraph 0.2.2 - Imcomplete igraph bindings  https://hackage.haskell.org/package/haskell-igraph-0.2.2 (kaizhang)
17:04:59 <ertes> i'll create a haskell dialect called hiskull (to preserve the file extension) that looks like C++, just to confuse gist
17:05:45 <Welkin> ertes: where semicolon is just >>
17:05:46 <Welkin> ?
17:06:01 <Welkin> oh no
17:06:06 <Welkin> you could use do-notation
17:07:19 <ertes> template <typename A> A id(A x) { return x; }
17:08:36 <ertes> or let's make it scheme-like
17:08:59 <ertes> (:: id (forall (a) (-> a a)))
17:11:32 <dgpratt> any opinions on how much memory I should allocate to a Linux VM for Haskell coding?
17:11:50 <EvanR> at least 128M
17:11:52 <dgpratt> (going with Xubuntu for now)
17:12:15 <ertes> dgpratt: depending on the tools you use 1-2 GiB
17:12:17 <dgpratt> oh!
17:12:20 <dgpratt> oh
17:12:24 <grantwu> GHC can eat memory
17:12:36 <ertes> dgpratt: if you have more to spare, spare it
17:12:40 <dgpratt> yeah, I was thinking in that range
17:12:47 <grantwu> Are you doing all your development in there or just compiling?
17:12:50 <EvanR> i actually have done it with 128M
17:13:16 <grantwu> ghc-mod routinely leaks memory for me; I've OOMd with 8 GB before
17:13:21 <dgpratt> grantwu: probably all Haskell development
17:14:02 <dgpratt> is intero based on ghc-mod? is it any less of a resource hog?
17:14:14 <ertes> i'm using a long-lived GHCi session, which can eat anything from 100 MiB to 1 GiB, depending on how much interpreted code i load and how complicated GHC finds my modules
17:14:34 <ertes> (emacs + haskell-mode + haskell-interactive-mode)
17:14:48 <ababkin> anyone knows how to generate a random number during the compile phase and use it in code, NOT generate it when the program runs?
17:15:06 <ertes> ababkin: template haskell
17:15:26 <ababkin> hmm any other way? would love to avoid TH
17:15:51 <ertes> ababkin: but you might just as well generate it at run-time and save it to a file (saving it into the executable is kind of an equivalent thing)
17:16:10 <grantwu> Not if you want every run to use the same seed
17:16:27 <ertes> that's why you save it to a file (and reload on later runs)
17:17:08 <ababkin> thanks guys!
17:17:17 <EvanR> TH for this would be piece of cake
17:17:32 <EvanR> relative to the shenanigans it will cause later
17:17:57 <EvanR> cant reproduce the bug because my program is different each time i compile it
17:18:18 <ertes> also: "oh, you want a new one?  recompile me!"
17:19:13 <ertes> not to mention that every interpreter reload would generate a new value, too
17:23:17 <haskell865> Hi, I know that ghc 8 have some dependant type features, I was wondering if there was currently a way to use something like idris vector in haskell
17:25:07 <EvanR> yes that exists
17:25:57 <EvanR> theres a few libraries for it, but I dont know how nice it is to use any of them
17:26:34 <ertes> haskell865: see the HList library, but none of the GHC 8 features are really relevant to that one
17:27:00 <EvanR> all type level use of numbers are... weird type level versions of the value level support for numbers
17:27:13 <ertes> haskell865: the notable new extension is TypeInType, which eliminates the distinction between types and kinds
17:27:42 <ertes> haskell865: however, values and types still live in different universes, so we still don't have dependent types
17:29:19 <ph88> i changed the algorithm to return the amount of nodes visited, however i need to do the Cnt + 1 at the end for the root node, not sure how to do that, maybe with some wrapper function  https://paste.fedoraproject.org/462626/00860147/
17:29:33 <haskell865> oh okay thanks!
17:32:15 <monochrom> http://lpaste.net/311978 :)
17:32:27 <monochrom> @tell geekosaur http://lpaste.net/311978 teeheehee!
17:32:27 <lambdabot> Consider it noted.
17:36:53 <Cale> That style should be religiously applied to a major project, and pull requests rejected if they screw it up.
17:37:14 <monochrom> :)
17:37:37 <ph88> so if i have    foo = Foo "hello" 1   how do i make  foo2 = Foo "hello" 2  of that by using +1  ?
17:38:11 <Cale> ph88: Perhaps by having a function  apply f (Foo s x) = Foo s (f x)
17:42:44 <ph88> thanks Cale 
17:43:41 <ph88> Cale, instead of apply i named the function plusOne  https://paste.fedoraproject.org/462633/14777017/
17:58:40 <disavowed> Hey all. I've found I don't get on so well with learnyouahaskell and am looking for a different book from which to learn. Does anyone have any recommendations?
17:59:23 <Cale> disavowed: Perhaps try Graham Hutton's book
17:59:40 <Cale> http://www.cs.nott.ac.uk/~pszgmh/pih.html
18:00:35 <disavowed> Cale: Perfect! Thank you so much! 
18:01:43 <acowley> disavowed: I'd also recommend http://haskellbook.com, it's very thorough
18:02:59 <disavowed> acowley: I've been eying this one up but the price tag (while not exorbitent) put me off for the short term. I've heard good things though, so it's definitely on the list! 
19:14:49 <grantwu> Is there ever a good reason to use a data over a newtype, if you only have one constructor
19:15:23 <EvanR> if you want an extra bottom
19:16:04 <EvanR> i cant think of why youd want that right now
19:16:42 <grantwu> I like big bottoms and cannot lie
19:18:29 <EvanR> <span style="font-size: 72pt;">⊥</span>
19:19:29 <grantwu> when you say "right now" was there a use for them before?
19:19:59 <EvanR> no, just brain fried, too much haskell
19:21:53 <EvanR> this datatype works, data Loop = Loop Loop, but newtype Loop = Loop Loop doesnt
19:22:33 <EvanR> when building infinite trees you want laziness, but its usually involving more than one field, so... doesnt apply
19:22:45 <coleman> Anyone know why this code is slow? http://lpaste.net/312103
19:22:59 <coleman> I translated it from scheme which ran ~ 0.01 secs. This runs in ~5 secs
19:23:22 <EvanR> might be a good time to learn the difference between scheme and haskell
19:23:34 <EvanR> scheme is eager by default and haskell isnt
19:23:39 <coleman> EvanR: that's what I'm trying to with these euler probs
19:24:16 <EvanR> especially for numerical stuff you might need to introduce extra strictness with !'s
19:24:22 <grantwu> Why does lpaste have that eta reduce thing?
19:24:23 <EvanR> also make sure you compile your program with O2 optimizations
19:24:34 <coleman> EvanR: I know. I refactored the factSig definition to not use length/filter since I figured it was going over the list an unnecessary number of times. I re-wrote it so it went through one. And it was just as slow! Saved ~.2 secs
19:24:40 <coleman> EvanR: that's a good idea
19:25:00 <geekosaur> grantwu, it's hlint. hlint's heuristics are not always reliable
19:25:14 <grantwu> geekosaur: I mean, the correction seems valid
19:25:27 <grantwu> But aren't there possibly good reasons for not wanting to eta reduce?
19:25:42 <grantwu> https://ghc.haskell.org/trac/ghc/ticket/8099 Like, this
19:27:00 <coleman> EvanR: it was ghci. I passed O2 and it runs same as scheme.
19:27:06 <EvanR> awesome
19:28:19 <coleman> Wonder if there's a way to get better performance in haskell-mode's ghci repl. Seems like it takes longer to run the unoptimized code than it does to compile it ;-)
19:28:36 <EvanR> haha
19:28:55 <EvanR> thats... probably a special case only
19:33:21 <grantwu> Huh, reading https://ghc.haskell.org/trac/ghc/ticket/8099#comment:15 this actually does seem like a kind of big issue
19:35:17 <EvanR> that suggests that the highest performance way to write functions, if you want to pretend this is javascript and style matters, is to use lambda abstractions o_O
19:36:04 <EvanR> (unfortunately the ugliest way to write functions!)
19:36:10 <EvanR> i hate ugly = fast
19:36:55 <monochrom> coleman: If you start ghci by "ghci -fobject-code", you get compilation. However, you lose access to unexported things.
19:37:28 <grantwu> I wonder how hard it is to contribute to ghc
19:37:28 <monochrom> It is possible to ask haskell-mode to do this.
19:38:07 <monochrom> add "-O2"
19:38:15 <geekosaur> grantwu, the main pain point is that figuring out how ghc works is difficult
19:38:26 <geekosaur> you can read the Commentary on the ghc trac
19:38:52 <geekosaur> there's also Notes scattered throughout the source that you need to read to understand what various parts of ghc do
19:39:05 <geekosaur> (ad what's safe to do with those parts)
19:40:18 <coleman> what's the best way to figure out what's going on in a loop? How can I print out the result through each iteration so I can tell what's going on?
19:40:45 <geekosaur> take a look at Debug.Trace module
19:41:04 <grantwu> I wonder how hard it would be to implement that change
19:41:08 <geekosaur> or you can look at the generated Core (install the ghc-core package to make this a bit easier)
19:41:19 <grantwu> It seems like a pretty easy transform
19:42:04 <grantwu> Just eta abstract
19:42:58 <geekosaur> I suspect you will find "fun" interactions with pattern matching and with the way ghc rewrites multiple equations into case expressions (mostly in accordance with Haskell2010)
19:43:21 <coleman> geekosaur: but how do I slip `trace` or `traceShow` into a loop?
19:43:45 <geekosaur> depends on what the loop looks like. but in general, they go in-line
19:44:16 <geekosaur> that is, wherever you use some expression (foo), you can change it to traceShow (foo)
19:44:24 <coleman> geekosaur: I have a foo = go 1 2 3 where go x y z = | | |
19:44:32 <geekosaur> (this uses evil behind the scenes so you don't need to do it in IO)
19:44:50 <coleman> it's a guard within geekosaur aha
19:44:50 * hackagebot ivory 0.1.0.4 - Safe embedded C programming.  https://hackage.haskell.org/package/ivory-0.1.0.4 (LeePike)
19:44:58 <coleman> *aha
19:49:50 * hackagebot ivory-examples 0.1.0.4 - Ivory examples.  https://hackage.haskell.org/package/ivory-examples-0.1.0.4 (LeePike)
19:50:56 <slack1256> on nixos, anyway to manually launch nix-shell to use haskell-interactive-mode?
19:53:14 <slack1256> (I should probably mess with .dir-locals.el)
19:59:51 * hackagebot ivory-opts 0.1.0.4 - Ivory compiler optimizations.  https://hackage.haskell.org/package/ivory-opts-0.1.0.4 (LeePike)
19:59:53 * hackagebot ivory-hw 0.1.0.4 - Ivory hardware model (STM32F4).  https://hackage.haskell.org/package/ivory-hw-0.1.0.4 (LeePike)
19:59:55 * hackagebot ivory-quickcheck 0.2.0.4 - QuickCheck driver for Ivory.  https://hackage.haskell.org/package/ivory-quickcheck-0.2.0.4 (LeePike)
20:04:51 * hackagebot ivory-stdlib 0.1.0.4 - Ivory standard library.  https://hackage.haskell.org/package/ivory-stdlib-0.1.0.4 (LeePike)
20:04:53 * hackagebot ivory-serialize 0.1.0.4 - Serialization library for Ivory.  https://hackage.haskell.org/package/ivory-serialize-0.1.0.4 (LeePike)
20:04:55 * hackagebot ivory-artifact 0.1.0.4 - Manage additional data files during Ivory compilation.  https://hackage.haskell.org/package/ivory-artifact-0.1.0.4 (LeePike)
20:05:35 <coleman> EvanR: the haskell one runs 6x faster than the scheme one compiled with Cyclone
20:09:06 <monochrom> did the haskell one give an answer?
20:09:06 <fredrik> noob here. just installed stack, but having a problem: when I run "stack update", it prints "Updating package index Hackage (mirrored at https://github.com/commercialhaskell/all-cabal-hashes.git) ..." and then nothing happens
20:09:51 * hackagebot ivory-backend-c 0.1.0.4 - Ivory C backend.  https://hackage.haskell.org/package/ivory-backend-c-0.1.0.4 (LeePike)
20:09:53 * hackagebot ivory-eval 0.1.0.4 - Simple concrete evaluator for Ivory programs  https://hackage.haskell.org/package/ivory-eval-0.1.0.4 (LeePike)
20:10:13 <monochrom> is it just because github.com is slow?
20:10:34 <monochrom> when I download Calibre from github it's always slow too
20:10:58 <fredrik> I've waited 10 minutes and it's not showing any progress indicator or anything
20:32:17 <jmorris> someone said i should not use arrays for arguments in this program
20:32:24 <jmorris> https://github.com/joshua-morris/hpass/blob/master/src/UI/AddPassword.hs
20:32:45 <jmorris> but when i dont i get this error  "Equations for addPassword have different numbers of arguments"
20:33:42 <grantwu> I am not sure what you mean; where do you have arrays?
20:34:02 <geekosaur> I tried to correct them on that earliuer, they ignored it
20:34:05 <grantwu> Do you mean lists?
20:34:11 <geekosaur> linked lists are apparently te new arrays
20:35:26 <jmorris> instead of addPassword [fileName, passwordName, username, password]
20:35:35 <jmorris> i think he was suggesting addPassword [fileName, passwordName, username, password]
20:35:56 <jmorris> *addPassword fileName passwordName username password
20:36:43 <pavonia> You have to change the definition of the function then too
20:36:45 <grantwu> Well, first of all, are you representing passwords as FilePaths?
20:37:27 <jmorris> the passwords get added to a file
20:37:47 <grantwu> Yes, but the thing named password
20:37:50 <grantwu> Is that a FilePath
20:38:19 <jmorris> im not sure
20:38:32 <jmorris> i just copied the type from ghci
20:38:34 <grantwu> I mean right now it's a FilePath, according to your type signature
20:38:46 <grantwu> But that doesn't seem to make much sense to me
20:39:09 <jmorris> is there a better way to write that whole function?
20:39:35 <grantwu> Well, it seems to me that what you really want is
20:39:59 <grantwu> fileName to be of type FilePath
20:40:17 <grantwu> passwordName to be of type String (or ByteString, or Text, but for now I'm going to say String)
20:40:24 <tsenart> Hello everyone. Does anyone know why Data.ByteString isn't an instance of the Foldable type class?
20:40:28 <grantwu> username to be of type string
20:40:49 <jmorris> yeah
20:40:52 <Cale> :k Foldable
20:40:53 <lambdabot> (* -> *) -> Constraint
20:40:57 <Cale> :k ByteString
20:40:58 <lambdabot> error:
20:40:58 <lambdabot>     Not in scope: type constructor or class ‘ByteString’
20:40:58 <lambdabot>     Perhaps you meant one of these:
20:41:04 <Cale> :k Data.ByteString.ByteString
20:41:05 <lambdabot> *
20:41:09 <Cale> ^^ that's why
20:41:17 <Cale> It would be a kind error
20:41:34 <grantwu> And password to be of type String as well (this is probably not what you really want)
20:41:45 <jmorris> yeah
20:41:55 <jmorris> is there a neater way to write the function?
20:42:01 <grantwu> jmorris: Now you want to support not a username
20:42:14 <grantwu> So you'd use an option type
20:43:12 <jmorris> what is an option type?
20:43:33 <jmorris> like maybe?
20:43:46 <grantwu> Sorry, yes, a Maybe
20:43:52 <grantwu> http://lpaste.net/4524805517293387776 Perhaps this?
20:44:06 <tsenart> Cale: So how could be generalise this function to work over any given Foldable? https://github.com/tsenart/haskell-crypto-pals/blob/master/src/Lib.hs#L23
20:44:09 <grantwu> I would handle the usage case in wherever you parse the actual arguments
20:44:21 <grantwu> jmorris: What is this for, exactly?
20:44:35 <grantwu> I would be very careful with anything requiring high security, like a password manager
20:44:40 <Cale> tsenart: The generalisation would have to be a separate function
20:44:51 <Cale> (and it wouldn't really be a generalisation)
20:45:37 <jmorris> grantwu: what do you mean?
20:45:51 <tsenart> Cale: Not sure what you mean :/
20:46:16 <grantwu> jmorris: Well, this code seems to be for a password manager
20:46:36 <jmorris> grantwu: yeah it is
20:46:51 <Cale> tsenart: Well, you could replace BS.foldl with foldl from Data.Foldable
20:47:15 <Cale> tsenart: But the resulting function wouldn't be applicable to ByteString values, because they're not an instance of Foldable of course.
20:47:23 <tsenart> Cale: Yes, that goes back to my original question.
20:47:24 <grantwu> jmorris: So, a password manager is something that should be implemented extremely carefully if you intend for it to be used
20:48:17 <tsenart> Why isn't it ByteString an instance of Foldable? I don't really understand your previous answer regarding kind incompatibility. 
20:48:18 <jmorris> grantwu: yeah, i tried what you suggested and im getting this error "error: Not in scope: data constructor None'"
20:48:24 <n_blownapart> hi noob here, actually learning scheme but started reading on category theory. I understand generally what a Functor is. what's a Hom ?
20:48:26 <Cale> tsenart: It probably doesn't even hurt all that much to BS.unpack before using the Foldable one though.
20:48:35 <grantwu> jmorris: Sorry, it's Nothing instead of None
20:48:56 <Cale> n_blownapart: Hom(X,Y) is the set of arrows X -> Y in some category
20:49:01 <tsenart> Cale: Yeah, that'd be a solution indeed.
20:49:05 <grantwu> (I think I prefer the SML names of the option type constructors and I often mix them up)
20:49:29 <Cale> n_blownapart: But this assignment from pairs of objects of your category to sets can be extended to a functor C^op x C -> Set
20:49:46 <n_blownapart> thanks Cale , one sec
20:50:01 <jmorris> grantwu: im going to add crypto, it will probably be a while before it is usable
20:50:26 <grantwu> You can't just "add crypto"
20:50:45 <jmorris> grantwu: what do you mean?
20:51:10 <grantwu> Designing something to be secure, especially when you're dealing with cryptography, is generally something best left to experts
20:51:16 <grantwu> I'm not sure Haskell is even a good language for this
20:51:25 <grantwu> What would the best way to control zeroing memory be?
20:51:33 <grantwu> Mutable vectors?
20:51:56 <Cale> It depends on what your goals are, I'd say. You can sort of add crypto later -- it might require some refactoring of stuff, but refactoring isn't so bad in Haskell particularly.
20:52:26 <n_blownapart> so Hom(A, B) would be a subset of functor F(A) -> F(B), specifically the functions and not nodes or identities ?
20:52:29 <grantwu> Right, but secure systems usually need to be created with security in mind
20:52:32 <n_blownapart> Cale ^
20:52:58 <Cale> n_blownapart: no...
20:52:59 <jmorris> i dont intend on this being a usable, but im writing it to learn haskell and learn cryptography
20:53:19 <jmorris> im going to do the cryptography I by stanford
20:53:25 <Cale> n_blownapart: Hom(A,B) is just the set of arrows A -> B, which is not a subset of the arrows FA -> FB, usually...
20:53:31 <jmorris> and obviously go further
20:53:40 <grantwu> Okay, then proceed with caution, I'd say
20:54:09 <jmorris> maybe i should add a disclaimer or something
20:54:18 <jmorris> i wouldnt recommend it to people or anything
20:54:37 <Cale> grantwu: I seem to recall seeing somewhere a package which provided an abstraction for chunks of memory that needed to be zeroed...
20:55:01 <grantwu> Cale: Interesting
20:55:08 <grantwu> I wonder what the libsodium Haskell wrappers do
20:56:55 <n_blownapart> Cale really appreciate it. if you have time ...
20:57:50 <n_blownapart> my I ask a question re: this (scroll down halfway to Functors) http://nikgrozev.com/2016/03/14/functional-programming-and-category-theory-part-1-categories-and-functors/#categories
20:58:04 <n_blownapart> may* I Cale ^
20:58:24 <Cale> n_blownapart: btw, there's also a ##categorytheory which might be better for this
20:58:50 <n_blownapart> Cale oh shoot ok thanks a lot.
20:59:30 <Cale> (at least as long as we're really not going to talk about how things are reflected in Haskell)
21:00:28 <n_blownapart> Cale .. the examples are in haskell on the above page.
21:01:00 <n_blownapart> I also promise to learn haskell within a year :)
21:01:31 <Cale> They look more like they're written in Scala to me
21:01:43 <Cale> but sure
21:02:08 <n_blownapart> excellent. my question is...
21:03:59 <n_blownapart> I understand the inter-city connectedness analogy the author lays out. Then categories get abstracted to functors. so using the example of the inter-city connectedness ....
21:04:17 <Cale> btw, if you want to actually learn this stuff, I would recommend a book such as https://www.mpi-sws.org/~dreyer/courses/catlogic/awodey.pdf
21:04:57 <n_blownapart> book? excellent thanks
21:05:09 <Cale> It feels a bit strange to think of functors as an abstraction of categories to me. There's a sense in which they are, but that's like saying that functions are an abstraction of sets.
21:05:44 <n_blownapart> thats interesting I essentially follow that.
21:06:17 <n_blownapart> ok forget my use of the word abstracted
21:06:30 <Cale> Functors are the mappings between categories -- they send objects to objects and arrows to arrows in such a way that composition and identities are preserved
21:07:29 <n_blownapart> ok I follow that please continue to Hom, using the inter-city connectedness analogy if possible
21:08:10 <grantwu> http://lpaste.net/7068111693435371520 I don't quite get why the use of size on line 10 here is ambiguous
21:08:37 <grantwu> Yes, I have {-# LANGUAGE DuplicateRecordFields #-} on, and I have multiple datatypes with accessors named 'field'
21:08:42 <grantwu> er, named 'size'
21:08:52 <grantwu> But the type is pretty unambiguous here - it should be LargeType
21:09:00 <grantwu> Why can't the compiler figure that out?
21:09:09 <n_blownapart> Cale ^ if you feel like it .. appreciated ..
21:09:15 <Cale> Oh, this guy is using Hom(C) to refer to the collection of *all* arrows in the category C
21:09:37 <Cale> Which is a little unusual
21:10:13 <Cale> But okay
21:10:15 <n_blownapart> really? oh , this article was recommended so I started with it
21:10:48 <glguy> grantwu: DisambiguateRecordFields doesn't any type-driven name resolution
21:11:04 <glguy> That's what typeclasses are for
21:11:11 <Cale> It's just a bit unusual to even refer to the collection of all arrows in a category at once -- there are places where it comes up, but that's a bit rare.
21:11:12 <glguy> doesn't add any*
21:11:15 <grantwu> Uh, DisambiguateRecordFields?
21:11:28 <glguy> grantwu: That's what you're relying on there
21:11:34 <geekosaur> grantwu, the disambiguation part is not done yet
21:11:51 <geekosaur> that will be OverloadedRecordFields once it's in, iirc
21:11:55 <grantwu> Oh, hrm
21:12:11 <grantwu> Wait, now I'm confused - what does DuplicateRecordFields enable, then?
21:12:12 <Cale> One usually only thinks about fixed pairs of objects, say X and Y, and the collections of arrows X -> Y
21:12:21 <glguy> DuplicateRecordFields just allows you to use the same field name when declaring a record as another in the same module
21:12:42 <glguy> DisambiguateRecordFields allows you to use those fields in record constructor syntax
21:12:43 <Cale> e.g. in the category of sets, X and Y would be sets, and Hom(X,Y) would be the collection of functions whose domain is the set X and whose codomain is the set Y.
21:13:09 <glguy> grantwu: This is all described in the GHC user's guide if you're interested in the topic
21:13:20 <geekosaur> "Field names used as selector functions or in record updates must be unambiguous, either because there is only one such field in scope, or because a type signature is supplied, as described in the following sections."
21:13:31 <Cale> In the category of vector spaces and linear maps, it would be the collection of linear transformations between the vector spaces X and Y
21:13:54 <Cale> In the category of groups, it would be group homomorphisms between that pair of groups.
21:13:56 <geekosaur> it disambiguates use of the field name *as a field name*. it does nothing about the selector function, because doing that requires generating typeclass machinery
21:14:03 <geekosaur> which is what OverloadedRecordFields will do
21:14:11 <grantwu> I see
21:14:26 <geekosaur> right now, if you want that, you need a lens library of some kind (even something like fclabels)
21:14:36 <Cale> When you talk about composition, it takes an arrow in Hom(Y,Z) and an arrow in Hom(X,Y) and produces some arrow in Hom(X,Z)
21:14:40 <geekosaur> and TH to generate the typeclass stuff
21:14:40 <n_blownapart> thanks kindly Cale .. this is slightly over my head but I thought it might be similar to the idea of codomain.
21:15:13 <Cale> n_blownapart: btw, what are your motivations for learning category theory?
21:15:48 <grantwu> geekosaur: I think I will just add a type annotation
21:16:21 <geekosaur> hm, accoridng to this it should work though (in ghc8) because it can infer the type from the type of the pattern match
21:16:39 <geekosaur> https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#selector-functions
21:16:43 <n_blownapart> I met a young kid interested in haskell. he was blown away that I was working through the sicp book and learning scheme. he said its important for FP generally to know CT   Cale
21:17:14 <glguy> geekosaur: Inference isn't considered, you need an explicit signature it says
21:17:15 <geekosaur> oh, no, as I read on, it won't push that down, so it does need the explicit signature
21:17:16 <geekosaur> :/
21:17:17 <Cale> I'm not sure I'd agree that it's *important*. It's something which is eventually motivated perhaps.
21:17:52 <geekosaur> it does some inference. not general inference, only very simple inference
21:18:07 <Cale> Usually one of the main motivations of category theory is to unify the language surrounding different areas of mathematics somewhat, and provide inspiration when it comes to finding the "right" definitions in a new area. Specialising general definitions that are available to any category to the specific one in which you're interested doesn't always produce useful results, but it often does give you concepts that turn out to be 
21:18:07 <Cale> structurally important.
21:18:13 <glguy> It seems like a hack to me; I've been ignoring it
21:18:37 <Cale> One of the things that some Haskell enthusiasts have been doing is stealing ideas from category theory, stomping on them a bunch and turning them into Haskell code.
21:18:53 <ab9rf> heh
21:18:55 <grantwu> stomping on them a bunch? xD
21:19:02 <n_blownapart> to good effect ?
21:19:09 <Cale> Sometimes this results in abstractions which are useful in programming. You never have to understand category theory in order to use the results.
21:19:20 <ab9rf> there's a number of modules like that
21:19:40 <ab9rf> i don't understand them, but i've seen code idioms that use them and i do at least understand the code idioms enough to use them, so i do
21:19:50 <Cale> Most of it is of slightly questionable utility, but there are a few gems, and there are many things which may yet find applications.
21:20:19 <Cale> (It's easy to dump hundreds of pre-existing abstract concepts over, harder to figure out what they're good for in context)
21:21:05 <n_blownapart> I am interested in re-learning maths. It's odd, I understand math better when I see it working in scheme code. My goal is to learn as much math as possible while learning how to code. so I thought it would be good to understand CT,  Cale
21:22:57 <Cale> n_blownapart: Well, category theory only gets more interesting the more other areas of mathematics you know. It's possible to start out with it early on (and perhaps even advisable to have a little bit of it as soon as possible), but yeah, much of it is somewhat hard to motivate at first I think, as the best examples of categories are branches of mathematics in their own right.
21:23:40 <Cale> It is possible to treat category theory like other areas of algebra though, and the book I linked you does -- in order to have a smaller number of prerequisites.
21:24:24 <n_blownapart> so decent high school math will allow me to get through the book? Cale
21:24:42 <n_blownapart> I know some calculus as well
21:24:52 <n_blownapart> small bit
21:25:25 <n_blownapart> that is interesting that branches of math are categories 
21:25:32 <ab9rf> it's hard to really talk about category theory if you don't have at least some experience with abstract algebra
21:26:03 <grantwu> I don't think the branches of math are categories
21:26:12 <ab9rf> since you can't see how two things are examples of the same category unless you understand what those things are
21:26:17 <grantwu> It's not like there's a formal definition of "abstract algebra"
21:26:35 <grantwu> I think what Cale means is that you can see applications of category theory in other branches of math
21:26:53 <n_blownapart> hmm ab9rf   .. I just know a bit of linear algebra, like using matrices for binary exponentiation.
21:29:10 <n_blownapart> grantwu, ab9rf Cale  thanks so much for your input. I have my work cut out.
21:36:30 <cwl> would someone have a look at my question? http://stackoverflow.com/questions/40316051/auto-convert-type-in-haskell
21:37:20 <cwl> I'm implementing some functions to do logical operation in this way: (1 && 2 || 3) `belongs` [2]
21:37:54 <cwl> which means (1 `belongsTo` [2] && 2 `belongsTo [2] || 3 `belongsTo` [2])
21:38:17 <cwl> I can do it for integers now, because of Num class.
21:38:26 <cwl> I want to make it for all types
21:44:33 <Cale> n_blownapart: grantwu: Well, what I mean when I say that is that for any branch of mathematics, there is usually one central sort of object of study, and in mathematics we're never really content to study objects in isolation, we're always interested in the relationships between them, so there's always at least one kind of mapping between these objects we're interested in that preserves whatever it is about them that we're trying to 
21:44:33 <Cale> study
21:45:04 <geekosaur> cwl, pretty sure that can't work
21:45:05 <Cale> and from those things, categories arise -- your objects are the things you're trying to study, and the arrows are those mappings or relationships
21:45:24 <cwl> geekosaur: why?
21:47:43 <cwl> > (&&) x y = let (BoolLike f) = (toBool x), (BoolLike g) = (toBool y) in BoolLike $ \k -> f k P.&& g k
21:47:45 <lambdabot>  <hint>:1:10: error:
21:47:45 <lambdabot>      parse error on input ‘=’
21:47:45 <lambdabot>      Perhaps you need a 'let' in a 'do' block?
21:48:46 <n_blownapart> Cale that is well put, thanks kindly
21:49:39 <geekosaur> https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#compatibility-and-apartness-of-type-family-equations
22:04:22 <nshepperd> cwl: I think I would prefer for these to not be automatically converted
22:05:21 <nshepperd> '((applied x && applied y) || applied z) predicate' seems reasonable
22:07:25 <nshepperd> type Predicate a = a -> Bool
22:07:38 <nshepperd> applied :: a -> Predicate (Predicate a)
22:23:01 <coleman> I think the "simpler" solution to euler 29 on this page is wrong: https://wiki.haskell.org/Euler_problems/21_to_30#Problem_29
22:23:15 <coleman> It returns 6413 which is the answer I got but it's wrong.
22:23:24 <coleman> Unless it has something to do with GHCi
22:23:47 <coleman> The first two give the correct answer, but something really fishy is going on in the other two.
22:24:20 <EvanR> the "simpler" for smaller problem spaces you can verify yourself
22:24:26 <EvanR> try "simpler"*
22:24:33 <EvanR> that code looks right
22:24:45 <coleman> EvanR: it does look right, but it gives the wrong answer.
22:25:04 <EvanR> reduce 100 to 4 or something and see whats going on
22:25:13 <EvanR> just so you know what the right answer really is
22:25:55 <coleman> EvanR: tried that. I changed it to 5 and it has the same number as the example in the euler problem (which uses a cap of 5)
22:26:06 <EvanR> the idea behind "simpler" versions is they are more likely to be right
22:27:08 <coleman> EvanR: `problem_29 5 == 15`
22:27:17 <EvanR> > [x^y | x <- [2..4], y <- [2..4]]
22:27:18 <coleman> https://projecteuler.net/problem=29
22:27:19 <lambdabot>  [4,8,16,9,27,81,16,64,256]
22:27:26 <EvanR> > nub [x^y | x <- [2..4], y <- [2..4]]
22:27:28 <lambdabot>  [4,8,16,9,27,81,64,256]
22:27:40 <EvanR> 8
22:27:44 <coleman> right
22:27:49 <EvanR> thats wrong?
22:28:15 <coleman> well the problem says great/lesser *or equal to* so it would be [2..5]
22:28:20 <coleman> and it gives 15
22:28:26 <coleman> which is right based on the example I linked
22:28:37 * geekosaur just tried the first one and the first "simpler" one in ghci and got the same answer
22:28:44 <coleman> It's just that the answer it gives for the [2..100] is wrong
22:28:59 <EvanR> > group . sort $ liftM2 (^) [2..4] [2..4]
22:29:01 <lambdabot>  [[4],[8],[9],[16,16],[27],[64],[81],[256]]
22:29:07 <EvanR> same answer
22:29:29 <coleman> EvanR: I know. But the answer is different to [2..100]
22:29:39 <EvanR> are you using Integer ?
22:29:40 <coleman>  group . sort $ liftM2 (^) [2..100] [2..100]
22:29:46 <coleman> > group . sort $ liftM2 (^) [2..4] [2..4]
22:29:48 <lambdabot>  [[4],[8],[9],[16,16],[27],[64],[81],[256]]
22:29:55 <coleman> EvanR: I'm usiong Int
22:30:00 <EvanR> well thats silly
22:30:05 <EvanR> potentially
22:30:10 <EvanR> > 100^100
22:30:12 <lambdabot>  1000000000000000000000000000000000000000000000000000000000000000000000000000...
22:30:16 <EvanR> > 100^100 :: Int
22:30:18 <lambdabot>  0
22:30:22 <EvanR> heh
22:31:21 <coleman> > length . group . sort $ liftM2 (^) [2..100] [2..100]
22:31:23 <lambdabot>  9183
22:31:33 <coleman> > length $ nub [x^y | x <- [2..100], y <- [2..100]]
22:31:36 <lambdabot>  9183
22:31:39 <coleman> hmmm
22:31:43 <coleman> must be Int
22:31:45 <geekosaur> it's the Int thing
22:31:57 <EvanR> > > length . group . sort $ liftM2 (^) [2..100] [2..100 :: Int]
22:31:59 <lambdabot>  <hint>:1:1: error: parse error on input ‘>’
22:32:04 <EvanR> > length . group . sort $ liftM2 (^) [2..100] [2..100 :: Int]
22:32:06 <geekosaur> Int uses native machine word arithmetic; you get no warning for values that are out of range
22:32:06 <lambdabot>  9183
22:32:11 <geekosaur> > maxBound :: Int
22:32:13 <lambdabot>  9223372036854775807
22:33:45 <EvanR> > (length . group . sort) (liftM2 (^) [2..100] [2..100] :: [Int])
22:33:47 <lambdabot>  6413
22:52:30 <grantwu> I need to write something which performs IO every 5 minutes
22:53:05 <EvanR> https://hackage.haskell.org/package/cron-0.4.1.2/docs/System-Cron.html
22:53:08 <grantwu> Anyone have any pointers as to what I should be looking at re :libraries?
22:53:10 <grantwu> oh, thanks
22:54:15 <EvanR> i randomly just found that... System.Cron.Schedule seems to actually run schedule and run jobs
22:54:45 <grantwu> Yeah... it seems like kind of a mish mash of things
22:54:53 <grantwu> I don't need anything to parse cron jobs
22:55:31 <EvanR> "pretty much basically every 5 minutes" can be done with a simple loop
22:55:44 <EvanR> but it wont stick to real time, or even your system time
22:56:17 <grantwu> What do you mean real time?
22:56:33 <EvanR> something like every 5 minutes on average
22:56:56 <EvanR> happens approximately a little after exactly every 5 minutes, forever
22:57:00 <grantwu> I don't exactly need high precision - I only need like, 1 second precision - but I can't have it miss every 5 minutes
22:57:02 <grantwu> hrm, okay
22:57:19 <grantwu> Can I get a monotonically increasing clock anywhere, resilient to system time changes?
22:57:35 <EvanR> sure... clock package
22:57:45 <grantwu> https://hackage.haskell.org/package/clock might work
22:57:47 <cheater> hi
22:57:56 <cheater> is it ok to talk about haskell jobs here?
22:58:00 * EvanR watches as grantwu constructs his own cron daemon ;)
22:58:16 <jchia_> I have a function that makes uses System.IO.Temp.withSystemTempFile from temporary package together with Control.Monad.Except from mtl package. The switching in and out of ExceptT seems quite ugly. Can I do better? http://lpaste.net/312531
22:58:41 <grantwu> cheater: I think so
22:58:59 <grantwu> EvanR: Yeah, if I was sure the programming assignment I am trying to do would be okay with using cron
22:59:01 <EvanR> grantwu: if the action fails, might be a good idea to be rescheduled
22:59:06 <grantwu> I would probably want to use cron
22:59:22 <grantwu> Yeah, I ought to think about retry behavior
23:00:51 <EvanR> jchia_: IO eh... how about IO exceptions instead of ExceptT
23:07:24 <jchia_> EvanR: So what monad do I use in the innermost do block enclosing the calls to callProcess and rename?
23:07:35 <jchia_> instead of ExceptT
23:16:16 <jchia_> EvanR: Do you mean like generateOutput2? (I've updated the paste.) Then I lose information on where the exception happened.
23:21:19 <EvanR> not sure what MonadMask is
23:21:28 <EvanR> i was just suggesting to use IO
23:22:55 <EvanR> IO is probably an instance of MonadMask
23:23:26 <jchia_> something to do with asynchronous exceptions, i think
23:23:41 <EvanR> it wasnt linked, but i found it in `exceptions' package...
23:23:45 <jchia_> but then i have very little idea what asynchronous exceptions are
23:24:08 <EvanR> they are exceptions that you may get at any time from another thread
23:25:08 <EvanR> unless they are masked, unless... etc
23:25:22 <jchia_> EvanR: That's what I don't understand. how can another thread cause the current thread to have an exception?
23:25:35 <EvanR> its not commonly supported in programming languages
23:25:38 <jchia_> at least from my experience in other languages, i don't know what that means
23:26:06 <EvanR> as an example, killThread :: ThreadId -> IO ()
23:26:13 <glguy> It's exactly what it sounds like
23:26:42 <jchia_> so i suppose a thread can catch getting killed and do some cleanup?
23:27:00 <EvanR> dont do that, use a finalizer
23:27:07 <EvanR> forkFinally
23:27:20 <jchia_> but under the hood is that how it's implemented?
23:28:01 <EvanR> i cant imagine how its implemented, but what are you referring to
23:34:32 <jchia_1> trying to understand what async exceptions mean. is there another example?
23:35:20 <EvanR> what it means, or how it works
23:35:36 <jchia_1> mostly what it means for now
23:35:48 <EvanR> threads can cause exceptions to be raised in other threads
23:35:54 <EvanR> on purpose
23:36:44 <jchia_1> concretely, beside killThread, how else can it be done?
23:36:51 <EvanR> throwTo
23:37:11 <glguy> and killThread uses throwTo
23:38:19 <jchia_1> OK
23:39:08 <EvanR> the library youre using sort has forced you to know about these things even though the safety wrapper there is supposed to make it easy
23:39:22 <EvanR> sortof
23:39:56 <EvanR> it probably executes your tempfile action in a way that is safe even during async exceptions
23:42:23 <jchia_1> In generateOutput, I'm trying to generate String error messages that make it clear whether exception happened during callProcess or rename. Is there a simpler way to achieve this?
23:43:06 <EvanR> so put catch or something around each one and rethrow
23:45:09 <jchia_1> Strings cannot be thrown. I have to throw an Exception. Is there a String -> IOException -> IOException that lets me add some string info to an IOException?
23:45:26 <EvanR> throwIO (userError msg)
23:45:54 <EvanR> i dont know about adding strings to an existing IOException, but you can make your own exceptions
23:46:02 <EvanR> possibly including the original exception
23:46:46 <EvanR> data MyError e = CallProcessError e | RenameError e
23:48:03 <jchia_1> If I make my own Exception, I can throw or throwIO, any important difference when I use it in an IO monad?
23:48:15 <jchia_1> difference between throw and thowIO
23:48:21 <EvanR> use throwIO
23:49:12 <grantwu> When are asynchronous exceptions better than synchronous exceptions?
23:49:34 <EvanR> > head [1, throw (userError "foo")]
23:49:36 <lambdabot>  1
23:50:03 <grantwu> Okay, but ignoring debugging purposes
23:50:40 <grantwu> I essentially need to make an HTTP request every 5 minutes, and trying to figure out what I want to do here makes my head hurt
23:51:47 <grantwu> Maybe I should just go back to Python for this ._.
23:52:31 <EvanR> python's cron module, ruby's cron module... whats the diff ;)
23:53:55 <grantwu> Like, https://pypi.python.org/pypi/schedule wouldn't have me think about threads at all
23:54:20 <jiada`> How to desugar [2..]?
23:54:27 <EvanR> right... cron doesnt either
23:54:27 <grantwu> I don't care about asynchronous execution at all
23:54:36 <grantwu> I can't use cron
23:55:08 <grantwu> Presumably part of this assignment is to demonstrate the ability to use the timing libaries of your chosen language
23:55:09 <EvanR> the package i linked also pretty much doesnt think about threads
23:55:20 <EvanR> this is homework?
23:55:50 <grantwu> Sort of, it's a coding challenge for an internship thing
23:56:18 <EvanR> jiada`: enumFrom 2
23:57:21 <EvanR> you described "the cron problem", which imo is not a trivial task
23:57:41 <grantwu> Well, the cron package appears to use getCurrentTime, which I believe to be not really the right thing to do
23:57:51 <EvanR> using a python library or the cron library or whatever... not sure what the particular challenges are
23:58:06 <grantwu> Time zone adjustments, NTP, etc. kind of screw that up
23:58:21 <grantwu> I'm probably going to rip out the scheduling part and replace the clock source
23:58:26 <EvanR> so does cron heh...
23:58:37 <EvanR> DST messes it up twice a year
23:58:37 <grantwu> Well, yes :/
23:59:06 <ab9rf> i hate daylight stupidity time
23:59:12 <jiada`> EvanR:thx
23:59:35 <grantwu> https://github.com/MichaelXavier/cron/blob/master/src/System/Cron/Schedule.hs#L147 Is this really the right way to be resilient to async exceptions?
23:59:49 <EvanR> i would make it happen on every 5 minutes too, which is different from "every 5 minutes" but nicer in my head
23:59:56 <EvanR> like 11:00 11:05
