00:04:35 <dons> a intro to building and configuring xmonad :-)   http://www.cse.unsw.edu.au/~dons/code/xmonad-web/intro.html
00:04:35 <lambdabot> Title: xmonad : an overview
00:08:17 <MechaBlue> Have a good night
00:09:03 <notsmack> how does IncMaster tile multiple masters?  does it make the master window another stack?
00:09:33 <dons> yeah, it increases the number of windows allowed in the master pane
00:09:55 <dons> so you effectively have two panes, master and non-master, whose ratios are determined by the incmaster value
00:10:03 <dons> the availabel clients are partitioned between the two panes
00:10:15 <notsmack> gotcha.
00:10:28 <notsmack> fibonacci spiral!
00:10:48 <dons> yeah, and for other modes, master is either ignored (fullscreen mode), or used as a hint as to which windows is biggest (spiral mode)
00:13:36 <notsmack> mkRatios $ tail fibs   <-- Outrageously elegant.
00:14:07 <dons> there had to be some practical code that used fibs = 1 : 1 : (zipWith (+) fibs (tail fibs))
00:14:11 <dons>  :-)
00:14:24 <notsmack> dons: "practical"...
00:14:43 <dons> people seem to consider the spiral layout one of the best, strangely.
00:14:49 <dons> some users use it exclusively!
00:15:06 <notsmack> yeah, it may actually be appropriate for my uses...  i'll have to try
00:19:52 <TSC> Does anyone know of a graph (as in vertices and edges) library for Haskell?
00:20:05 <sorear> fgl
00:20:12 <sorear> @where fgl
00:20:12 <lambdabot> http://www.cs.orst.edu/~erwig/fgl/
00:20:18 <dons> its on hackage, iirc
00:20:23 <sorear> the actual modules are in ghc
00:20:24 <sorear> @docs
00:20:25 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/index.html
00:22:16 <TSC> That looks good to me, thanks
00:36:40 <seancorfield> anyone have an opinion on jaskell?
00:37:06 <seancorfield> i'm looking at javax.script implementations and wondered if anyone has any experience with it?
00:37:14 <dolio> It sounded risky when I read the web page.
00:37:54 <dolio> It said it does lazy evaluation, but has no restriction on where side effects can go like Haskell.
00:39:02 <dolio> Of course, you can do that, if you're careful. But the compiler won't help you out.
00:39:40 <Cheery> it requires very sharp knowledge about which thing is evaluated next
01:33:28 <dons> a bit of a manifesto for haskell development methods, http://cgi.cse.unsw.edu.au/~dons/blog/2007/06/02#xmonad-0.2
01:33:29 <lambdabot> Title: Haskell hacking
01:34:33 <sm> good evening all
01:35:30 <sm> I need a little package building support on ubuntu .. why does SDL-mixer tell me package base is hidden ? http://paste.lisp.org/display/42141
01:37:06 <Lemmih> sm: The package author is probably an incompetent jerk.
01:38:08 <Lemmih> sm: Where did get the repo? They've moved around some, lately.
01:38:44 <sm> hi Lemmih.. I got it from http://hackage.haskell.org/cgi-bin/hackage-scripts/package/SDL-mixer-0.4.0
01:38:47 <lambdabot> http://tinyurl.com/2hqmo7
01:39:40 <Lemmih> sm: Right, the packages on hackage are somewhat dated. Get the repos from darcs: http://darcs.haskell.org/~lemmih/hsSDL/
01:39:41 <lambdabot> Title: Index of /~lemmih/hsSDL
01:39:55 <sm> ok - thanks
01:40:16 <sm> is there a better home page for this ?
01:40:23 <sm> thanks for making it by the way
01:40:33 <sm> have you used it much ?
01:45:44 <Lemmih> sm: No, not much.
01:46:50 <Lemmih> sm: I've uploaded new versions to hackage.
01:46:59 <sm> great
01:48:32 <sm> with the old hackage versions I had to add CPATH=/usr/include/SDL before runhaskell Setup.lhs build, but it looks like that's maybe fixed in darcs
01:49:24 <Lemmih> That hackage thingy is pretty sweet. I should use it more often.
01:49:31 <dons> kolmodin: hah, read your blog post. i wrote one today on almost the same topic
01:50:11 <kolmodin> dons: and I'm just reading yours :D
01:50:21 <kolmodin> glad we think alike :)
01:50:42 <dons> funny. i finished mine, headed over to planet haskell, and oh, um.. hehehe
01:50:58 <kolmodin> haha :)
01:53:21 <sm> holy mackerel.. quake 4 uses sdl to good effect. http://en.wikipedia.org/wiki/Image:Strogg_harvester_patrol.jpg
01:54:33 <sm> just a simple matter of programming now, and I'll be there too..
01:55:11 <quicksilver> I'm not sure that SDL plays any significant role in that
01:55:41 <quicksilver> SDL, for quake, is just a cross-platform way to get a full-screen window with an openGL view inside it
01:55:47 <quicksilver> all the rest is openGL
01:55:50 <magnus__> @pl (\f g x y -> f (g x) (g y))
01:55:50 <lambdabot> join . ((flip . ((.) .)) .) . (.)
01:55:59 <magnus__> gaah :)
01:56:59 <sm> I would be happy with a trivial 2d game for now
01:57:30 <quicksilver> have you seen 'frag'?
01:57:34 <magnus__> Does anyone know if that function is anywhere in the standard library?
01:57:39 <roconnor> MissingH depends on network :/
01:57:43 <roconnor> that sucks
01:57:45 <quicksilver> frag is a 3D FPS written in  haskell
01:58:03 <Heffalump> @pl \x y z -> x z (y z)
01:58:03 <lambdabot> ap
01:58:07 <sm> yes, thanks
01:58:17 <opqdonut> ?src ap
01:58:17 <kolmodin> "QuickCheck helps you win friends and influence people" lmao! :D :D
01:58:17 <lambdabot> ap = liftM2 id
01:58:58 <magnus__> ap is interesting but not what I need
01:59:07 <quicksilver> magnus__: you could build something with ap which does that, but I don't think there is any point
01:59:32 <quicksilver> magnus__: I think `on` is something like it
01:59:39 <quicksilver> that might be f `on` g
01:59:44 <quicksilver> its certainly a bit like that
01:59:53 <quicksilver> (but that's not standard, it's just a name people talk about sometimes)
02:00:43 <magnus__> aha, I hope googling for "on" and "haskell" will work :)
02:01:27 <sm> quicksilver: does frag use sdl do you think ?
02:01:30 <magnus__> sortBy (compare `on` fst)
02:01:36 <magnus__> that's a good name
02:01:45 <sm> other than that I can't think of any haskell games.. it's a little surprising
02:02:06 <notsmack> @src on
02:02:06 <lambdabot> (*) `on` f = \x y -> f x * f y
02:03:12 <LoganCapaldo> interesting choice of parameter name
02:03:33 <dmwit> sm: I was writing one, but found out that it had already been done in C, and better. =P
02:03:35 <magnus__> wherefrom does lambdabot know of on?
02:03:43 <dmwit> ...where one == game
02:03:52 <notsmack> @docs on
02:03:52 <lambdabot> on not available
02:04:00 <LoganCapaldo> > (*) `on` fst $ (2,undefined) (3,undefined)
02:04:01 <sm> dmwit: got any working code you could share, or advice ?
02:04:03 <lambdabot>   Not in scope: `on'
02:04:14 <LoganCapaldo> lambdabot: fine
02:04:21 <dmwit> sm: Yeah, I have a fairly reasonable code base.
02:04:31 <dmwit> It's just a puzzle game.
02:04:40 <dmwit> So, it doesn't need anything fancy; it uses Cairo for its graphics.
02:04:46 <sm> Lemmih, I'm installing your latest (darcs, not hackage) and get this error building hssdl-ttf: Version.hsc:23:0:     error: â€˜TTF_MAJOR_VERSIONâ€™ undeclared (first use in this function)
02:04:57 <sm> dmwit: using gtk2hs, eh ?
02:05:01 <dmwit> yep
02:05:04 <Lemmih> sm: Do you have TTF installed?
02:05:24 <sm> probably not.. I thought it would complain about a missing include, like the others did
02:05:43 <sm> configure did not complain
02:05:50 <LoganCapaldo> > let on f g x y = g (f x) (f y) in ((*) `on` fst) (2,undefined) (3,undefined)
02:05:51 <lambdabot>  Couldn't match expected type `t -> t'
02:06:06 <Lemmih> sm: I'll gladly accept patches (:
02:06:11 <LoganCapaldo> > let on f g x y = f (g x) (g y) in ((*) `on` fst) (2,undefined) (3,undefined)
02:06:13 <lambdabot>  6
02:06:28 <sm> hmm, I do have libsdl-ttf1.2-dev installed
02:07:08 <Lemmih> sm: You need >= 2.0.0
02:08:15 <Lemmih> sm: Not checking the version is a known bug.
02:08:20 <sm> aha! thanks
02:14:24 <sm> wohoo! it works!
02:16:18 <magnus__> @src groupBy
02:16:18 <lambdabot> groupBy _  []       =  []
02:16:18 <lambdabot> groupBy eq (x:xs)   =  (x:ys) : groupBy eq zs
02:16:18 <lambdabot>     where (ys,zs) = span (eq x) xs
02:20:26 <bartw> ooh, can't wait for the icfp contest
02:23:24 * Heffalump doesn't think he'll have time :-(
02:24:24 <dons> nah, me neither this year.
02:24:31 <dons> its terribly exhausting :}
02:24:31 <bartw> really ?
02:24:42 <bartw> all the more changes for me then :)
02:24:51 <bartw> ehmz
02:24:59 <dons> it is very fun. everyone should try it a couple of times.
02:25:00 <bartw> chances ?
02:25:09 <TSC> chance
02:25:42 <bartw> maybe i'll try a functional language this time around
02:26:11 <dons> they tend to win, you'd probably be making a good strategic decision to use one.
02:26:18 <Heffalump> 2004 and 2006 were the best years
02:26:31 <bartw> ants and sands
02:26:41 <Heffalump> sands?
02:29:03 <bartw> hmz, i thought they used sand in the story
02:29:09 <DRMacIver> hm. Alas I'll be on holiday during the ICFP.
02:29:30 <Heffalump> bartw: oh, right, yes
02:30:06 <Heffalump> I'd really like to do it this year, I'm sure Utrecht will do something good.
02:30:24 <dons> yeah. i think so.
02:30:33 <bartw> physically i'm very close, wonder if i should do some espionage
02:30:45 <TSC> Do you need to sign up to see the problem when it's released?
02:32:15 <bartw> it is likely to use some generic programming
02:32:28 <bartw> it is the research topic of the organizers
02:33:04 <bartw> the images on the contest blog suggest garage collection
02:33:19 <Heffalump> I doubt it'll be very explicit.
02:33:52 <TSC> ltopic
02:33:58 <TSC> oops
02:34:55 <bartw> hints for the past contests added to the story and the fun, but it hardly helps with preparing :)
02:35:17 <sm> if I have ghc-6.6/libraries/GLUT, but ghc-pkg list does not mention GLUT, what does this mean ? I thought I had built and installed all libs
02:38:21 <Heffalump> bartw: indeed
02:47:29 <TSC> sm: How did you install glut?
02:49:00 <sm> I don't know that I did
02:53:18 <TSC> I mean the Haskell bindings for glut
02:53:37 <TSC> (You'll need to install the glut library in any case, if you're planning to use it)
03:00:47 <dons> http://programming.reddit.com/info/1vetk/details
03:00:48 <lambdabot> Title: xmonad: a success for pure functional data and QuickCheck (reddit.com)
03:03:23 <bartw> ugh monads hurt brain
03:04:10 <dancor> i always feel like monads aren't a big deal and are actually a really practical and down-to-earth way to encapsulate side-effects.  then i go to use them
03:04:34 <dons> we teach computer science incorrectly, when monads appear hard to understand
03:04:53 <bartw> type IO x = y -> (x, y)
03:04:55 <bartw> or something
03:05:26 <bartw> it isn't the monad that is hard i think
03:05:37 <dons> well, IO is a monad. the >>= on IO sets up a sequencing of effects.
03:05:41 <bartw> it's keeping track of the layers of nested functions as values
03:06:05 <dons> yeah, maybe. adding layers of abstraction confuse things.
03:07:04 <bartw> echo = getChar >> = \c -> putChar c
03:07:17 <dons> right.
03:07:32 <dons> then inline the definition of >>= :-) (no, don't!)
03:07:38 <bartw> right
03:07:46 <dons> the >>= is a rebindable `;' though. that's the key thing.
03:08:00 <dons> so you can mess with evaluation stratgies in arbitrarily tricksy ways
03:08:01 <bartw>  IO x -> ( x -> IO y) -> IO y i think
03:09:39 <bartw> putChar c is a function evalutating to a function evaluating to a (result, world+1), argh
03:10:09 <dons> yeah
03:10:11 <bartw> but i'm starting to see how to glue it all together i guess
03:10:12 <dons> ?src IO
03:10:12 <lambdabot> newtype IO a = IO (State# RealWorld -> (# State# RealWorld, a #))
03:10:29 <roconnor> ?src Data.Function
03:10:29 <lambdabot> Source not found. Have you considered trying to match wits with a rutabaga?
03:10:32 <bartw> those #'s ?
03:10:55 <dons> unboxed, strict type. in a strict pair (guarantees to the compiler it can remove the structure staticaly)
03:11:14 <bartw> glad i asked :)
03:13:02 <bartw> hw do you avoid getting a tree of monads instead of a chain ?
03:13:44 <bartw> hmz, nevermind
03:13:45 <ski> the values of type 'State# RealWorld' are used linearly
03:15:25 <bartw> ah, the 'awkward squid' thing might be a bit more clear that 'return' isn't a language keyword :)
03:15:30 <bartw> ?src return
03:15:30 <lambdabot> Source not found. My mind is going. I can feel it.
03:16:03 <bartw> hmz, return :: a -> IO a
03:17:33 <sm> TSC: thanks, I was wondering why it didn't get installed as most of the libs that came with ghc did
03:17:47 <sm> installing from hackage now
03:18:05 <Heffalump> bartw: it has special status as part of the type class involved in do-notation desugaring, although it's the only class member not actually part of the desugaring
03:19:54 <sm> darn.. /usr/local/lib/GLUT-2.0/ghc-6.6/HSGLUT-2.0.o: unknown symbol `glutMainLoop'
03:20:39 <bartw> the 'do' syntax might be tempting for imperative programming all the way through haskell :)
03:21:48 <dancor> will i be cooler if i learn to make ghc cross-compile in linux or should i just set up mac/win hs envs
03:23:07 <Heffalump> dancor: I think people have said it doesn't really support that.
03:23:14 <Heffalump> dancor: but if you could make it do it I think it'd be really cool
03:23:27 <Heffalump> bartw: I don't follow
03:23:34 <dancor> all the cooler give those people saying that :)
03:23:40 <dancor> s/give/given
03:24:56 <bartw> Heffalump : nevermind
03:25:35 <dancor> just always do and never be side-effectless etc
03:25:43 <dancor> like easy mode
03:25:48 <dancor> or maybe hard mode..
03:26:02 <Heffalump> ah
03:26:16 <Heffalump> it's a bit hard to use do for *everything*. After all, the thing on the RHS of <- is a normal Haskell expression.
03:26:55 <dancor> it sounds like python to me
03:27:16 <DRMacIver> The ability to do this doesn't strike me as a major problem.
03:27:25 <dons> the first version of yi was mostly monadic.
03:27:27 <bartw> it is a 'gateway' drug
03:27:31 <dons> i was young, and foolish.
03:27:40 <Heffalump> and now you are old and wise?
03:27:50 <bartw> slowly 'pureify' functions away from the do sugar
03:27:57 <DRMacIver> Or at least slightly older and somewhat less foolish? :)
03:28:07 <dons> Heffalump: middle aged, balance purity with pragmatism.
03:28:15 <Heffalump> cunning
03:28:16 <dons> i was too pragmatic early on.
03:28:25 <Heffalump> someone should teach lambdabot ages
03:28:29 <dons> i think yi 0.0 had 7 unsafeCoerce#
03:28:29 <bartw> that way newbies like me don't hit the "nice and all but how do i process user interactions'
03:28:35 <dancor> soon you will cross the hill and start being too pure
03:28:43 <Heffalump> ouch!
03:28:47 <dons> and then i can go off to oxford and teach undergrads
03:28:55 <Heffalump> cunning
03:28:55 <dons> and they'll grumble
03:28:58 <dancor> it's the perfect trajectory
03:29:03 <Heffalump> I narrowly escaped a job doing that.
03:29:33 <DRMacIver> dons: And mutter behind your back, saying "You know, I hear he unsafely coerced in his youth."
03:29:40 <dons> hehe
03:29:41 <bartw> hehe
03:29:58 <dons> meanwhile telling them they should derive their programs formally. how they will complain!
03:29:59 <bartw> i'm mostly just looking at haskell for the icfp contest, not much use at work
03:30:27 <dancor> i'm trying to use haskell more at work
03:30:30 <DRMacIver> It's not beyond the realms of possibility that I might get to use Haskell at work at some point.
03:30:32 <dancor> well, at all i guess
03:30:37 <Heffalump> surely with a formal derivation, unsafeCoerce# can be "safe"
03:30:37 <DRMacIver> Not at my current job, but at the next.
03:30:57 <Heffalump> I tried to use it at my last job with mixed success
03:31:04 <notsmack> what's the difference between IOArray and STArray?
03:31:05 <dancor> i can't wait to tell ops i need haskell running on a tier
03:31:24 <Heffalump> notsmack: the monad they live in
03:31:32 <Heffalump> dancor: a tier?
03:31:32 <DRMacIver> (There's no Haskell component to it, but it's a small and open minded company whose CTO is at least as big a languages geek as me)
03:31:52 <DRMacIver> Heffalump: What wer eyou trying to use it for? :)
03:31:57 <bartw> i think they will yell something at me if i use haskell, somethign about me creating 'jobsecurity' an they not having acceptiong behaviour like that :))
03:32:16 <dancor> Heffalump: oh haskell services are so naturally efficient that running them on more than one machine is unheard-of?
03:32:19 <dancor> :)
03:32:38 <Heffalump> well, the thing I succeeded was a framework that modelled our new SIMD architecture so it could generate test cases for the compiler
03:33:00 <Heffalump> the thing one of my managers wouldn't let me do (not that long before I left) was a more general test generator
03:33:13 <bartw> i guess i could use it for some quick and dirty data analysis stuff
03:33:14 <DRMacIver> dancor: Sure. Haskell solves the halting problem in O(1) space and time.
03:33:22 <DRMacIver> (Don't ask about the constant factor0
03:33:22 <DRMacIver> )
03:33:31 <Heffalump> but the company's R&D department did write an entire prototype compiler in Haskell, it just wasn't so well accepted outside R&D
03:33:40 <DRMacIver> Heffalump: Cool.
03:33:51 <DRMacIver> A C compiler written in Haskell?
03:33:55 <Heffalump> yes
03:33:57 <DRMacIver> Wow.
03:34:02 <bartw> ellow....
03:34:18 <DRMacIver> How well did it work? :)
03:34:19 <bartw> you work at some great companies :)
03:34:32 <Heffalump> pretty well, but it wasn't really product-isable
03:34:59 <Heffalump> bartw: you know where I work now?
03:35:04 <bartw> nope
03:35:13 <Heffalump> I was actually hired to write Haskell :-)
03:35:20 <DRMacIver> Heffalump: Why not? Just didn't have an advantage over your existing compilers?
03:35:35 <bartw> i need to improve my english to be understood here :(
03:35:38 <DRMacIver> Heffalump: Incidentally, I never did hear back from Howard. :)
03:36:07 <Heffalump> it was just intended as a proof of concept tha a compiler could target the new part of the instruction set. It didn't do a very good job of targeting the old part, and was slow and not very robust.
03:36:16 <Heffalump> DRMacIver: hmm, that sucks.
03:40:06 <bartw> jobtechnical i guess getting some c++ mastery proof would work best
03:44:24 <Heffalump> sorry?
03:45:12 <Pseudonym> You said "C++" and "proof" in the same sentence.
03:46:06 <bartw> sorry, just think out loud, at my job the c++ people are viewed as more superior then the rest by management
03:46:10 <dmead> laffs
03:46:26 <dmead> bartw, that seems common
03:46:35 <dmead> just because c++ is harder
03:46:45 <dmead> not because it's better or anything
03:46:50 <bartw> they do have the phd s, but they are hardly coding wizzes
03:47:16 <dmead> ah
03:47:21 <DRMacIver> Tell them you code malbolge. That'll impress them.
03:47:26 <DRMacIver> Or get you committed.
03:47:28 <DRMacIver> Either works.
03:47:33 <dmead> malbolge?
03:47:39 <bartw> :)
03:47:55 <DRMacIver> http://www.lscheffer.com/malbolge.shtml
03:47:55 <bartw> is that one of the whitespace bf derived languages ?
03:48:03 <lambdabot> Title: Programming in Malbolge
03:48:04 <DRMacIver> malbolge is infinitely worse than brainfuck. :)
03:48:09 <dmead> ahh
03:48:36 <DRMacIver> Brainfuck makes sense. It's just... terse.
03:48:43 <DRMacIver> Malbolge is actively evil.
03:49:21 <dmead> hehe
03:49:23 <dmead> trinary aye
03:49:28 <qwr> false is nicer than brainfuck ;)
03:49:35 <dmead> is there anything good about using trinary?
03:50:34 <ari> Trinary as in that poetry in David Brin's Uplift saga is not bad
03:50:35 <bartw> hmz, so it modifies every instruction after executing it, your only hope at conditional branches is self modifying code...
03:51:04 <bartw> programming in this is like fractal compression ...
03:51:27 <bartw> you expect the sequence you want is inthere somewhere, but how ill you ever find it
03:51:43 <ivanm> hey everyone
03:51:49 <ivanm> @seen dons
03:51:50 <lambdabot> dons is in #rwh, #ghc, #haskell-overflow, #xmonad, #haskell-soc and #haskell. I last heard dons speak 15m 30s ago.
03:51:55 <ivanm> hmmm...
03:52:04 <ivanm> I'm reading through don's blog about zippers in xmonad at,
03:52:06 <ivanm> *atm
03:52:16 <ivanm> are zippers in trees a bit like splay trees?
03:52:20 <sm> night all
03:52:47 <Heffalump> not really
03:52:50 <Heffalump> they don't reorder things
03:53:05 <Heffalump> but they do have the property of changing the representation of the same data as you do operations on it
03:53:07 <ivanm> *nod*
03:53:18 <ivanm> so, does it actually re-arrange the tree?
03:53:33 <Heffalump> it doesn't have anything like the splaying operation where the structure changes
03:53:36 <ivanm> or just dynamically re-create the tree based on the operations you're doing at the particular node?
03:53:42 <Heffalump> but the way it stores the tree changes as you move around
03:53:53 <ivanm> k
03:54:05 <Heffalump> what you have is always equivalent to the same tree structure (until you actually update something)
03:54:09 <ivanm> so, using a zipper on a tree is a bit like tree operations in imperative programming?
03:54:21 <Heffalump> a zipper is an alternate way to represent a tree
03:54:29 <ivanm> ok
03:54:40 <Heffalump> the basic idea is that you have "layers"
03:55:35 <Heffalump> a zipper is the current subtree (where you have the "cursor" pointing), a list of the subtrees to the right of the current subtree, a (reversed) list of the subtrees to the left of the current subtree, and a list of layers above you, where each layer has this left and right list too.
03:55:54 <ivanm> *nod*
03:55:58 * wolverian spies fish in an xmonad screenshot.. fish++
03:56:03 <Heffalump> so to move left and right you just put yourself on the right or left list and take something off the left or right list
03:56:12 <ivanm> so, are you actually re-arranging the tree? or does it just act like you do?
03:56:25 <Heffalump> it's always conceptually precisely the same tree structure
03:56:34 <ivanm> *nod*
03:56:40 <ivanm> just a different view on it?
03:56:42 <Heffalump> it's just that your cursor changes, and since your view is always as if seen from that cursor, your view changes too
03:57:43 <ivanm> right
03:59:31 <wolverian> can you run gnome-panel with xmonad without problems?
03:59:47 * Heffalump decides to try xmonad
04:01:00 <bartw> is there a way to say, 'fork/join' a monad sequence as to process a few files in parallel ?
04:01:38 * dmead is away: sleep
04:02:50 <DRMacIver> bartw: Haskell has a decent threading library. If there isn't already a way of doing something like that, there's probably a reasonably good way of writing a function to do it.
04:03:08 <DRMacIver> Hm. Well, GHC does anyway. I'm not sure how much of that is specified by Haskell98.
04:03:42 <bartw> wouldn't threading be implicit in haskell ?
04:04:20 <DRMacIver> Not really.
04:04:44 <Heffalump> it's too hard for a compiler to know what can be *beneficially* forked off and what can't
04:04:45 <magnus__> @index on
04:04:46 <lambdabot> bzzt
04:04:56 <Heffalump> it's easy for it to know what can be semantically forked (anything pure)
04:05:13 <bartw> you don't actually have to fork, a queue of pending evaluations would do
04:05:13 <Heffalump> but it doesn't know how long anything will take so it doesn't know the overhead/benefit balance
04:05:24 <DRMacIver> bartw: At the IO level it's a fairly 'normal' threading API. There's some implicit parallelism (or semi-explicit) work being done, but I'm not aware of any places where the compiler implicitly parallelises.
04:05:35 <Heffalump> you can ask it for parallelisation using `par`
04:05:40 <DRMacIver> bartw: mergeIO seems to be what you want.
04:05:43 <Heffalump> and some more complicated combinators based on that
04:05:51 <DRMacIver> Heffalump: Oh, can you? Neat. I didn't know that.
04:06:04 <Heffalump> well, in GHC, yaddayadda
04:06:33 <bartw> good to know
04:06:34 <Heffalump> also, remember to say +RTS -N 2 -RTS when you run, and to compile with -threaded (that may be the default now)
04:06:43 <Heffalump> (where 2 = the number of threads doing Haskell work you want)
04:06:55 <Heffalump> arguably -N <ncpus> ought to be the default, but it's not
04:07:07 <Heffalump> and no doubt some people would be annoyed if it was, anyway
04:07:29 <bartw> ehmz, shouldn't that be decided on the machine that it is run on ? arguably based on actively following the loadnumbers
04:07:52 <bartw> owwell
04:08:02 <Heffalump> perhaps
04:08:04 * DRMacIver goes out for a bit.
04:08:07 <Heffalump> it's certainly not clear-cut
04:10:22 <dmhouse> How long has hpaste been down?
04:10:27 <Heffalump> quite a while
04:10:34 <Heffalump> I don't understand what the problem is
04:10:51 <dmhouse> ?ask glguy what the problem with hpaste it
04:10:52 <lambdabot> Consider it noted.
04:11:03 <dmhouse> ?ask glguy *is
04:11:03 <lambdabot> Consider it noted.
04:11:16 <Saizan> i think shapr knows more
04:11:44 <dmhouse> shapr: know anything about what's up with hpaste?
04:11:47 <dons> @seen glguy
04:11:47 <lambdabot> I saw glguy leaving #haskell 19h 12m 55s ago, and .
04:11:51 <dons> @seen shapr
04:11:51 <lambdabot> shapr is in #haskell-blah, #happs, #xmonad, #scannedinavian and #haskell. I last heard shapr speak 5h 36m 19s ago.
04:18:27 <dmhouse> Anyone happen to know much about SMTP? I'm trying to work out how it fits in with SSL. E.g. do you establish an SSL connection first, handshake, then start sending SMTP verbs, or is it more complex than that? How does STARTTLS fit in?
04:20:48 <olsner> isn't SSL:ed smtp on another port than normal SMTP?
04:22:13 <dmhouse> True. So that probably indicates you initiate an SSL connection first.
04:22:19 <dmhouse> But then what's STARTTLS for?
04:26:37 <roconnor> @google 2 lb in grams
04:26:38 <lambdabot> 2 pounds = 907.18474 grams
04:26:53 <roconnor> @google 2 oz in grams
04:26:54 <lambdabot> 2 ounces = 56.6990463 grams
04:28:27 <ivanm> that's pretty cool... didn't know lambdabot could do that...
04:28:31 <roconnor> I think I need a lambdabot in my toolbar
04:29:41 <dmhouse> ivanm: it's Google. Try searching Google for those terms.
04:29:51 <ivanm> *nod*
04:29:56 <dmhouse> ?google mass of the earth
04:29:59 <lambdabot> http://www.enchantedlearning.com/subjects/astronomy/planets/earth/Mass.shtml
04:29:59 <lambdabot> Title: Earth's Mass - EnchantedLearning.com
04:30:00 <ivanm> so why doesn't define: work with lambdabot?
04:30:11 <ivanm> @google define:haskell
04:30:12 <lambdabot> No Result Found.
04:30:12 <dmhouse> For some reason fetching data from Google Calculator doesn't work, though.
04:30:21 <ivanm> hmmm
04:31:35 <roconnor> @google 1 pound pound per pound in USD m/s^2
04:31:35 <lambdabot> 1 ((British pound pound force) per pound) = 19.3818631 (U.S. dollars m) / (s^2)
04:33:33 <dmhouse> ?g speed of light in furlongs per fortnight
04:33:34 <lambdabot> Maybe you meant: gazetteer get-shapr ghc girl19 google gsite gwiki . v
04:33:39 <dmhouse> ?google speed of light in furlongs per fortnight
04:33:40 <lambdabot> the speed of light = 1.8026175 x 10^12 furlongs per fortnight
04:34:22 <whaleofconfusion> funny way to put it
04:34:44 <dmhouse> roconnor: I don't really understand yours. Presumably "pound" can mean Â£ or lb, but it still doesn't make much sense.
04:36:21 <dmhouse> Presumably the first pound is Â£, so that somehow "pound per pound" has to correspond to "m/s^2".
04:36:31 <ski> @go 2 simons in milliolegs
04:36:36 <lambdabot> http://tuukka.iki.fi/tmp/haskell-2007-03-16.html
04:36:36 <lambdabot> Title: haskell-2007-03-16
04:37:34 <roconnor> dmhouse: pound can also mean a pound of force
04:37:45 <roconnor> or it can refer to mass
04:38:08 <roconnor> ?google 1 pound per pound in m/s^2
04:38:09 <lambdabot> 1 (pound force per pound) = 9.80665 m / (s^2)
04:38:16 <dmhouse> Ah.
04:38:19 <roconnor> ?google force of gravity
04:38:22 <lambdabot> http://www.school-for-champions.com/science/gravity.htm
04:38:22 <lambdabot> Title: The Force of Gravity - Succeed in Physical Science: School for Champions
04:38:35 <roconnor> ?google gravity in m / s^2
04:38:37 <lambdabot> http://en.wikipedia.org/wiki/Gravity
04:38:37 <lambdabot> Title: Gravitation - Wikipedia, the free encyclopedia
04:38:47 <roconnor> hmm
04:38:52 <dmhouse> g = 9.8, I get it. :)
04:39:08 <bartw> ?google g in m/s^2
04:39:09 <lambdabot> 1 g = 9.80665 meters / (second^2)
04:39:15 <roconnor> ah good
04:39:23 <roconnor> ?google pi^2
04:39:24 <lambdabot> pi^2 = 9.8696044
04:40:54 <dmhouse> ? (g in m/s^2) * (Â£1 in usd)
04:41:02 <dmhouse> ?go (g in m/s^2) * (Â£1 in usd)
04:41:04 <lambdabot> http://en.wikipedia.org/wiki/Gold
04:41:04 <lambdabot> Title: Gold - Wikipedia, the free encyclopedia
04:41:16 <bartw> :)
04:41:17 <dmhouse> *Sigh* never mind, I understand it now.
04:41:44 <roconnor> > pi^2
04:41:52 <lambdabot>  9.869604401089358
04:42:02 <dmhouse> ?go g * Â£1 in usd m/s^2
04:42:03 <lambdabot> g * (UK£ 1) = 19.3818631 (U.S. dollars m) / (s^2)
04:42:16 <kep> > 9.869604401089358
04:42:17 <lambdabot>  9.869604401089358
04:42:31 <dmhouse> > 9.869604401089358 - pi^2
04:42:32 <lambdabot>  0.0
04:42:42 <dmhouse> Liar.
04:47:43 <bartw> auch
04:48:00 <bartw> fun with floats
04:48:06 <roconnor> ?google 9.869604401089358 - pi^2
04:48:07 <lambdabot> 9.869604401089358 - (pi^2) = 0
04:48:21 <dmhouse> Not even 0.0!
04:48:29 <bartw> google says so, it must be true then
04:48:43 <roconnor> pi is algebraic!
04:48:57 <dmhouse> More than that, it's rational!
04:49:03 <bartw> ehmz
04:49:09 <roconnor> it is?
04:49:14 <bartw> irrational would be my guess
04:49:14 <dmhouse> Err, never mind.
04:49:18 <roconnor> ;)
04:49:37 <bartw> atleast it's not imaginary
04:49:44 * dmhouse got confused for a minute and got the implication the wrong way around in the theorem sqrt(a) rational => a rational.
04:50:57 <bartw> thats confusing..
04:51:24 <olsner> is sqrt(pi) a rational?
04:52:06 <roconnor> nope
04:52:18 <dmhouse> bartw: well, if sqrt(a) is rational, then a is rational. It's not true the other way around.
04:52:39 <bartw> dmhouse , yes, it is just a confusing way to write it down
04:53:03 <bartw> a rational => sqrt(a*a) rational ;p
04:53:40 <bartw> ehmz, no thats not idempotent
04:54:13 <bartw> math is hard
04:55:01 <roconnor> math is hard, let's stick to programming :P
04:55:29 <dons> ?quote math
04:55:29 <lambdabot> math says: 2^20 ~= 10^6
04:55:33 <dons> ?quote math
04:55:33 <lambdabot> math says: 2^20 ~= 10^6
04:55:40 <dons> ?quote shopping
04:55:40 <lambdabot> samc says: monads are hard, let's go shopping
04:55:44 <dons> ah yes
04:55:59 <dmhouse> instance Rational (Sqrt a) => Rational a
04:56:05 <bartw> three zero's for every ten
04:56:12 <bartw> it is great for ballparking
04:57:15 <dcoutts> dons: I'm off for two weeks in the US, so no binary from me, looks like we'll have to submit to a different conference
04:57:44 <dcoutts> dons: I have made some interesting progress though in the optimisations, see the problems I posted to the ghc-users list
04:58:09 <dcoutts> dons: and the code I've been working on is available here...
04:58:25 <roconnor> @bab nl en nietjes
04:58:26 <lambdabot>   nietjes
04:58:41 <roconnor> @bab nl en niets
04:58:41 <lambdabot>   nothing
04:59:16 <roconnor> @bab nl en vermelden
04:59:16 <lambdabot>   to mention
04:59:38 <bartw> roconnor : what are you translating ?
04:59:55 <roconnor> the form for my train discount card in the netherlands
05:00:13 <dcoutts> dons: kolmodin: I was also looking at doing a mtl style layering thing:
05:00:13 <dcoutts> http://dhcp0714.gradacc.ox.ac.uk:8080/~duncan/binary-unstable/experimental/Layer.hs
05:00:15 <lambdabot> http://tinyurl.com/27723d
05:00:39 <dcoutts> the idea being that we want to extend the Put/Get monads with StateT style things
05:00:44 <dcoutts> to add string pools etc etc
05:01:09 <bartw> roconnor : need a hand ?
05:02:14 <roconnor> bartw: Dat kan met lijm of doorzichting plakband, maar gebruik geen nietjes.
05:03:10 <bartw> roconnor : That is possible with glue or sticky tape, but don't use staples.
05:03:36 <roconnor> perfect!
05:04:08 <roconnor> I wish I had glue or tape
05:04:40 <roconnor> I wonder how I got this far in life without those
05:04:41 <bartw> i'm guessing it is something about putting a ticket on a form
05:05:36 <pejo> roconnor, another question - how did you end up with a dutch discount card? :-)
05:05:50 <roconnor> bartw: the new cards require a photo :(
05:06:01 <roconnor> pejo: I bought one :)
05:06:59 <bartw> hmz, i though they plastified them when you get them, dunno, havent had one in years
05:07:08 <dons> dcoutts: hmm. ah ok. dcoutts perhaps PADL?
05:07:22 <dcoutts> dons: perhaps, yes
05:07:36 <roconnor> bartw: I guess you never take the train :)
05:07:56 <dons> yeah, we'll have a complete story by then. that's reasonable
05:08:16 <bartw> roconnor : used to go by train alot, but then i got a car.
05:10:03 <LeCamarade> Since OCaml is the Napoleon of all the Languages of the Earth, I will fork if Xavier doesn't put guards!!! X-(
05:10:11 <LeCamarade> La plus belle langage de programmation!!!
05:10:36 * LeCamarade is about to get kickbanned ... he sees dons' foot moving!
05:10:47 <LeCamarade> Okay. Sorry. :o)
05:10:53 * Heffalump remembers what happened to Napoleon and doesn't get too worried
05:11:37 <LeCamarade> Heffalump: You dare blaspheme?
05:12:04 <bartw> haskell threading is fun :)
05:12:38 <dons> haskell will freeze ocaml out in the long multicore winter in russia
05:12:57 <dons> and ocaml will have to retreat , and be put on a tiny island :)
05:12:59 <Heffalump> plus we're cooler than they are
05:13:01 <roconnor> bartw: thanks for the translation.  I didn't know the words for glue tape or staples.
05:13:05 <LeCamarade> bartw: Wait 'til the NDP stuff SPJ was talking about comes around. I'll parallelizing just to show my friends I can do it with a keystroke.
05:13:31 <bartw> roconnor : no problem
05:13:50 <bartw> LeCamarade : ndp ?
05:13:53 <roconnor> postzegel niet nodig.  w00t!
05:13:54 <LeCamarade> dons: We are readier for multicore than you think. It's just a state^H^H^H^H^H channel secret.
05:14:28 <dons> heh
05:14:30 <LeCamarade> bartw: Yeah. Nested Data Parallelism. Still wrapping my head 'round it, too, but the talk rocked.
05:14:46 <bartw> meh
05:15:04 <LeCamarade> dons: Plus, we can escape from the island if it comes to that.
05:15:25 <bartw> lazyness and threading, might hurt a bit
05:15:48 <LeCamarade> Wait. I'm supposed to be a spy. None of you saw that, okay? Or I'll use my ways to make you forget. X-(
05:16:09 <LeCamarade> bartw: Those are strict arrays that they use in that stuff.
05:16:24 <LeCamarade> The talk is linked to (video) on Manuel's blog.
05:19:39 <bartw> MVar.... next your going to tell me people build databases uses these things
05:19:56 <bartw> ?src MVar
05:19:56 <lambdabot> Source not found. Are you on drugs?
05:20:07 <bartw> no
05:20:27 <roconnor> dons: can we turn off the snarky lambdabot comments?
05:20:37 <LeCamarade> roconnor: No!
05:20:41 <bartw> why, they are fun
05:21:04 <LeCamarade> Leave 'em there. lambdabot has a personality, and we shouldn't edit it. Something about bot rights.
05:21:18 <roconnor> lambdabot--
05:21:44 <LeCamarade> @slap lambdabot
05:21:44 * lambdabot slaps lambdabot
05:21:57 <LeCamarade> ^^ Should suffice when she's mean.
05:22:41 * notsmack seconds roconnor
05:22:54 <bartw> i'm reading some examples using MVar to build a slinkedlist, it looks abit like OO should be possible with it
05:22:58 <ari> @poll-show cheeky-off
05:22:58 <lambdabot> ["MakeItAbuseCowboyNeal","AddFlag","No","Yes"]
05:23:14 <ari> @poll-result cheeky-off
05:23:14 <lambdabot> Poll results for cheeky-off (Open): MakeItAbuseCowboyNeal=1, AddFlag=2, No=4, Yes=15
05:23:24 <roconnor> how do I vote?
05:23:31 <roconnor> @vote
05:23:31 <lambdabot> Missing argument. Check @help <vote-cmd> for info.
05:23:33 <ari> @help poll-vote
05:23:33 <lambdabot> help <command>. Ask for help for <command>. Try 'list' for all commands
05:23:39 <roconnor> @help vote
05:23:39 <lambdabot> vote <poll> <choice>        Vote for <choice> in <poll>
05:23:50 <bartw> @vore cheecky-off MakeItAbuseCowboyNeal
05:23:50 <lambdabot> Maybe you meant: more vote
05:23:55 <roconnor> @vote cheeky-off Yes
05:23:55 <lambdabot> voted on "Yes"
05:23:56 <notsmack> @vote cheeky-off Yes
05:23:56 <lambdabot> voted on "Yes"
05:24:05 <bartw> @vote cheecky-off MakeItAbuseCowboyNeal
05:24:05 <lambdabot> No such poll:"cheecky-off"
05:24:10 <bartw> @vote cheeky-off MakeItAbuseCowboyNeal
05:24:10 <lambdabot> voted on "MakeItAbuseCowboyNeal"
05:24:16 <LeCamarade> @vote cheeky-off No
05:24:16 <lambdabot> voted on "No"
05:24:35 <olsner> what are we polling about, and who is cowboy neal?
05:24:44 <bartw> *gasp*
05:24:50 <roconnor> @who cowboy neal
05:24:50 <lambdabot> Maybe you meant: echo ghc show what wn
05:24:57 <roconnor> @who cowboy-neal
05:24:57 <lambdabot> Maybe you meant: echo ghc show what wn
05:25:00 <LeCamarade> olsner: /.'er.
05:25:05 <bartw> @google cowboy neal
05:25:07 <lambdabot> http://cowboyneal.org/
05:25:37 <ari> olsner: We're polling about lambdabot's cheeky comments
05:25:41 <ari> @src cheekyComments
05:25:41 <lambdabot> Source not found. stty: unknown mode: doofus
05:25:48 <olsner> @cheeky
05:25:49 <lambdabot>  Parse error
05:27:29 <roconnor> I humbly suggest for personality we should use @vixen
05:28:05 <bartw> a politically correct bot, hardly
05:29:56 <LeCamarade> Is there a Haskell lib to do what format does in Lisp?
05:30:25 <LeCamarade> (format nil "~R" 12) ; Prints "twelve"
05:30:48 <LeCamarade> As in, convert to words (English or otherwise).
05:31:12 <LeCamarade> These Clisp guys go as far (beyond?) sexdecillion.
05:32:48 <Saizan> ?google sexdecillion
05:32:50 <lambdabot> http://mathworld.wolfram.com/Sexdecillion.html
05:32:50 <lambdabot> Title: Sexdecillion -- from Wolfram MathWorld
05:33:50 <LeCamarade> @go vigintillion
05:33:53 <lambdabot> http://www.jimloy.com/math/billion.htm
05:33:53 <lambdabot> Title: Million, Billion, Trillion...
05:35:35 <phoniq> "But the scientific community seems to use the American system."
05:35:48 <phoniq> I call bullshit.  The scientific community uses exponents.
05:36:03 <roconnor> @google SI
05:36:06 <lambdabot> http://sportsillustrated.cnn.com/
05:36:06 <lambdabot> Title: SI.com - News and Scores from Sports Illustrated
05:36:14 <roconnor> :/
05:37:14 <LeCamarade> @go si units
05:37:16 <lambdabot> http://physics.nist.gov/cuu/Units/
05:37:16 <lambdabot> Title: International System of Units from NIST
05:40:33 <bartw> i like the stuff in the addendum
05:40:36 <bartw> 10>10>10
05:41:01 <bartw> that would be large enough
05:47:49 <Saizan> 10^303 centillion? why?
05:48:17 <phoniq> exactly
05:49:23 <bartw> cent = 100 == 100, illion = 10^(3 + 3) -> 10 ^ (100 * 3 + 3)
05:49:39 <bartw> meanless crud actually
05:51:41 <bartw> so, how do you do OO in haskell ? :)
05:55:06 <DRMacIver> You use the OOHaskell library. :)
05:57:06 <pejo> Or extend it with subtyping. :P
06:05:37 <filcab42> hi
06:06:02 <filcab42> is there a way to cascade "case statements", like in C?
06:06:09 <filcab42> for example:
06:06:26 <dons> case () of {_ | x == y  || y == z -> 2
06:06:34 <dons>    _ | foo        -> bar
06:06:35 <dons>  }
06:06:40 <filcab42> hmm
06:06:43 <filcab42> thanks
06:06:44 <dons> formatted appropriately :-)
06:06:57 <filcab42> didn't know if I could use |
06:09:11 <filcab42> I get a parse error
06:09:14 <filcab42>  case name of
06:09:14 <filcab42>     "Simon" | "John"
06:09:18 <filcab42> parse error on |
06:09:28 <filcab42> ups
06:09:33 <filcab42>  case name of
06:09:33 <filcab42>     "Simon" | "John" | "Phil" -> ...
06:09:42 <Saizan> you need a boolean expression after |
06:09:50 <Saizan> just like in function declarations
06:09:51 <filcab42> :$
06:09:55 <filcab42> right
06:09:58 <filcab42> silly me
06:10:37 <filcab42> still can't
06:10:47 <filcab42> even tried: case name of
06:10:48 <filcab42>     _ | name == "Simon" | name == "John" | name == "Phil" ->
06:11:11 <Saizan> ?type (||)
06:11:15 <lambdabot> Bool -> Bool -> Bool
06:11:31 <filcab42> oh
06:11:33 <filcab42> I was using |
06:11:35 <filcab42> not ||
06:11:38 <Saizan> _ | name == "Simon" || name == "John" || name == "Phil" ->
06:11:58 <Saizan> | denotes the start of the guard, || is just boolean or
06:12:57 <Saizan> you can also write, _ | name `elem` ["Simon","John","Phil"] ->
06:13:39 <ihope> Mm, there's no syntactic sugar for that?
06:15:46 <Saizan> nafaik
06:16:23 <LeCamarade> I am working on a number-to-string converter, but I am torn between `ninteen', which I was taught in my Commonwealth school (spit, if you want) and `nineteen', which the Americans have pasted all over the 'Net.
06:16:42 <LeCamarade> And other such subtleties that aren't important.
06:18:00 <LeCamarade> Maybe mine is wrong. Never mind. We go with nineteen.
06:18:17 * Saizan has never seen ninteen before
06:18:21 <Adamant> it's spelled nineteen, IIRC
06:18:34 <Adamant> it might be pronounced differently
06:20:00 <LeCamarade> Adamant: Yeah, I'm using `nineteen'. And `color'. And `Memorization'. Not `colour' or `memorisation'. :o)
06:20:45 <dmhouse> Err, I'm British, I've never seen "ninteen".
06:20:58 <Adamant> LeCamarade, I really thought the British spelled it "nineteen"
06:21:07 <astrolabe> We do
06:21:14 <Adamant> I can believe they pronouce it differently
06:22:00 <dmhouse> It's pronounced nine-teen in Britain too. :)
06:22:25 <Adamant> LeCamarade, both U.S. and Brit/Commonwealth spellings are valid. Just depends on your audience.
06:23:30 <Adamant> dmhouse, you'll have to forgive me, I had a little shock when I first heard about "aluminium"
06:24:09 <Adamant> so, I don't take any pronouncation for granted anymore.
06:24:19 <dmhouse> Adamant: yeah, there is quite a disparity with that word, in that the American version sounds silly. :)
06:24:37 <SamB_XP> dmhouse: huh?
06:24:46 <Adamant> dmhouse, they are spelled differently. each makes sense for the spelling
06:24:54 <SamB_XP> the british version is the one that sounds silly!
06:25:11 <Adamant> the British version sounds a little too involved to me
06:25:30 <astrolabe> Is there no way to find the one true spelling?
06:25:45 <Adamant> well, just wait 30 years
06:25:51 <astrolabe> heh
06:25:52 <pejo> "Al"? :-)
06:26:02 <dmhouse> pejo: good solution. :)
06:26:02 <Adamant> we'll all end up spelling it the way the Indians in Asia do
06:26:19 <Adamant> since they will have the most English speakers
06:26:29 <dmhouse> Adamant: which will be the American way, I imagine.
06:26:41 <Adamant> dmhouse, are you sure? They are Commonwealth
06:26:49 <astrolabe> I'd guess they spell it the British way.
06:26:52 <dmhouse> Adamant: well, not any more, they're independant.
06:27:00 <astrolabe> But I bet the chinese spelling is the decider.
06:27:20 <dmhouse> I was under the impression that American spellings have more of an international hold.
06:27:32 <bartw> LeCamarade : you want atuall localization, treat en-US like yet another language
06:27:39 <Adamant> I always thought British spellings were more international
06:27:58 <Adamant> because they are standard for Europe and the Commonwealth
06:28:06 <dmhouse> Case in point: short-scale vs. long-scale billion. (I.e. does "1 billion" mean 10^9 or 10^12?)
06:28:07 <pejo> I think we learnt the british spellings in school.
06:28:12 <LeCamarade> We all move to French.
06:28:15 <dmhouse> pejo: where are you?
06:28:20 <pejo> dmhouse, Sweden
06:28:27 <LeCamarade> And then it will be like the Good Ol' Days.
06:28:34 <Adamant> U.S. spellings do have more pull in a lot of Asia
06:28:38 * SamB_XP likes most british spellings fine, but can't get over aluminium either
06:28:42 <LeCamarade> And only OCaml, where we write `dix-neuf'.
06:28:53 <bartw> ow great
06:28:54 <Adamant> because they do more business with the U.S.
06:29:03 <bartw> quatrevingntdixneuf
06:29:03 <pejo> SamB, care to point out the other spelling of that word?
06:29:17 <bartw> asif that is sensible ;p
06:29:18 <Cheery> west europeans are weird
06:29:18 <Adamant> aluminum
06:29:24 <SamB_XP> yeah, that
06:29:36 <bartw> eh ?
06:29:43 <dmhouse> As long as we don't adopt the German system, where "72" gets read as two-and-seventy, but "172" is one hundred two-and-seventy. Mixed up endianness.
06:29:46 <bartw> most elements got that nice ium ouch
06:29:49 <pejo> And what is the pronounciation of aluminium, as it's spelled?
06:30:04 <astrolabe> in ee um
06:30:08 <Adamant> ah-luu-min-um
06:30:16 <Adamant> = aluminum
06:30:18 <bartw> dmhouse : dutch has that too, allways get confused after working with english code for a day
06:30:41 <Adamant> ah-luu-min-ee-um = aluminium
06:31:03 <Adamant> forgive me, I don't know IPA
06:31:18 <dmhouse> pejo: al you min ee um (often contracted to al you min yum) is aluminium, ah loo min um is aluminum.
06:31:23 <LeCamarade> Ah! Loo. Me? Knee. Am. Better than IPA.
06:31:24 <SamB_XP> Adamant: why do we want to forgive you for using plain english ;-)
06:31:39 <astrolabe> I disagree with all your pronounciations!
06:31:43 <dmhouse> Yeah, IPA sucks unless you're into hardcore phonetics.
06:31:45 <SamB_XP> LeCamarade: is that Captain Kirk?
06:32:11 <dmhouse> astrolabe: ah, but is it pro-nunce-see-ay-shuns or pro-nownce-see-ay-shuns?
06:32:38 <SamB_XP> astrolabe: what do you pronounce it?
06:33:18 <astrolabe> It is 'Al' rather than 'Ahl' and 'loo' is clearer than 'luu' and 'al loo' rather than 'al you'
06:33:23 <astrolabe> dmhouse :p
06:33:27 <olsner> aren't pronunciation and pronounciation (different spelling and pron(o)unciation) two different variants of that word?
06:33:42 <Adamant> astrolabe is probably right
06:33:56 <LeCamarade> SamB_XP: Depends. But that's `Aluminium'. If you're not American, anyway.
06:33:56 <olsner> http://dictionary.reference.com/browse/pronunciation
06:33:57 <lambdabot> Title: pronunciation - Definitions from Dictionary.com
06:34:09 <Adamant> no, the second one is a misspelling
06:34:16 <olsner> ah, I see
06:34:19 <Adamant> just a common one
06:34:26 <Adamant> I don't think it's Commonwealth
06:34:44 <Adamant> I don't have spell check for IRC. :)
06:34:46 <dmhouse> No results found for pronounciation. Did you mean pronunciation
06:34:55 <dmhouse> (From http://dictionary.reference.com/browse/pronounciation)
06:34:56 <lambdabot> Title: pronounciation - Definitions from Dictionary.com
06:35:10 * astrolabe hides his head in shame
06:35:22 <olsner> pronunciation beats pronounciation 20:1 according to my google
06:35:32 <Adamant> ha, don't worry
06:35:42 <Adamant> anyone would know what you are talking aboot
06:35:51 <Adamant> as the Canucks would say
06:37:02 <SamB_XP> @go pronounciation
06:37:04 <lambdabot> http://wsu.edu/~brians/errors/pronounciation.html
06:37:04 <lambdabot> Title: pronounciation
06:37:25 * SamB_XP wonders how hard it would be to get "did you mean" results
06:37:47 <dmhouse> Hmm, dictionary.com places a lot of emphasis on average-Joe-friendliness. They have "[kuhl-er]" style pronounciation guides (with the IPA hidden by default) and listings like "â€“noun, adjective, verb (used with object), verb (used without object)" instead of "transitive" and "intransitive".
06:37:51 <SamB_XP> probably would involve either screen-scraping or a search API though :-(
06:38:03 <dmhouse> Doesn't lambdabot use the Google API anyway?
06:38:10 <SamB_XP> duh... no!
06:38:20 <SamB_XP> it uses HTTP HEAD
06:38:35 <SamB_XP> at least, when I wrote it it used HEAD
06:38:37 <Adamant> it would probably overuse it's quota too quickly
06:38:44 <SamB_XP> yeah.
06:38:44 <Adamant> if it used Google API
06:39:02 <Adamant> which is too bad, really
06:39:04 <SamB_XP> unless we could get special dispensation due to it being a user agent.
06:39:19 <SamB_XP> and us being cool people.
06:39:29 <SamB_XP> and Haskell being an interesting language...
06:39:38 <Adamant> styling, profiling, and lambdabotting
06:39:51 <dmhouse> I've heard that the Yahoo! API is much more forgiving in this respect.
06:39:58 <dmhouse> It's meant to be easier to use and you get way more queries.
06:39:59 <Adamant> I wonder if Haskell is on the "too cool for Google" language list
06:40:21 <Adamant> where they tell you NO if you try to suggest they run everything on it
06:40:23 <dmhouse> (Matt Mullenweg adopted it as Wordpress.org's site search engine after consider Google API.)
06:40:35 <SamB_XP> dmhouse: interesting
06:40:42 <fasta> I have an expression within runST which introduces some context holding the parameter s. That's why runST fails to run, since runST has type forall.... I find it pretty unreasonable that it does have this restriction. Is there some way to lift this restriction?
06:40:53 <Adamant> so far, Smalltalk, CL, and Scheme have all made the list
06:40:53 <SamB_XP> Adamant: they tell you "you are silly", I think
06:41:09 <SamB_XP> and why do you say "too cool"?
06:41:41 <SamB_XP> Adamant: anyway, they know as well as we do that Haskell isn't ready for that ;-)
06:41:41 <Adamant> SamB_XP, I mean they are too academicy or whatever for Google to want to adopt them en masse
06:42:03 <dmhouse> SamB_XP: see http://photomatt.net/2005/06/17/new-wporg-search/
06:42:05 <lambdabot> Title: Photo Matt » New WP.org Search
06:42:24 <dmhouse> fasta: paste some code so we know what you're talking about
06:42:29 <pejo> Adamant, google isn't afraid of academia, on the contrary. They do a fair amount of solid resaerch that is not directly useful to htem.
06:42:47 <SamB_XP> fasta: are you playing with STUArrays
06:42:49 <SamB_XP> ?
06:42:54 <fasta> SamB_XP: no
06:42:59 <Adamant> pejo, right, but they aren't going to run their main stuff solely on academicy languages
06:43:13 <Adamant> although they will use them in projects
06:43:14 <fasta> I will prepare a paste.
06:43:27 <dmhouse> fasta: the polymorphic restriction on ST isn't something to be normally circumvented, so perhaps there's a better solution.
06:43:29 <pejo> Adamant, their main stuff works quite well today, why switch?
06:43:43 <SamB_XP> Adamant: I wouldn't blame them if Haskell was currently on their "do not deploy on cluster" list
06:44:02 <Adamant> pejo, but why did they not write them in the academicy language in the first place?
06:44:25 <SamB_XP> Adamant: smalltalk has some fairly obvious reasons
06:44:32 <Adamant> right
06:44:41 <Adamant> Lisps don't have the support depth yet
06:45:21 <Adamant> SamB_XP, I assume you are talking about the fact Smalltalk usually uses images for implimentation, right?
06:45:45 <SamB_XP> Adamant: not really that so much as the way these images are like their own little worlds...
06:45:57 <Adamant> ah, yeah, that's what I meant
06:46:03 <Adamant> does not play well with others
06:46:07 <SamB_XP> exactly
06:46:33 <SamB_XP> I mean, I've got plenty of ELF images you know ;-)
06:46:54 <Adamant> :)
06:47:19 <Adamant> 0xfeedface with Mach-O for the weird
06:47:26 <fasta> dmhouse: http://pastebin.ca/531371
06:49:24 <Saizan> fasta: isn't that ann effect of monomorphic restriction?
06:49:46 <fasta> Saizan: I don't know, unfortunately.
06:49:55 <fasta> Saizan: that's why I ask ;)
06:50:04 <Saizan> what :t example says?
06:50:30 <dmhouse> fasta: why are you using mdo?
06:50:33 * SamB_XP wonders if lambdabot should get a pastebin plugin ;-)
06:50:49 <fasta> (Control.Monad.Fix.MonadFix t,
06:50:51 <fasta>  Show a,
06:50:51 <fasta>  Rotate t (GHC.STRef.STRef s (Node s (Item a))) (Item a) a1,
06:50:51 <fasta>  MonadST s t) =>
06:50:51 <fasta> t ()
06:50:57 <fasta> dmhouse: because the real code uses that too
06:51:03 <SamB_XP> @hoogle MonadST
06:51:07 <lambdabot> Control.Monad.State.MonadState :: class Monad m => MonadState s m
06:51:15 <fasta> SamB_XP: MonadST is like MonadIO
06:52:20 <fasta> Anyone with a solution or explanation?
06:52:47 <SamB_XP> I think maybe you should supply a type signature for example in that expression
06:52:56 <dmhouse> fasta: the real code needs to use mdo, you mean?
06:53:20 <fasta> dmhouse: It doesn't "need", since mdo is not "needed", but it makes it easier to read.
06:53:34 <fasta> dmhouse: so in that sense, it's "needed".
06:53:56 <SamB_XP> fasta: what is the type of example anyway?
06:54:03 <SamB_XP> oh, wait
06:54:05 <SamB_XP> I see it now
06:54:31 <Saizan> declaring |example :: ST s ()| ?
06:55:35 <SamB_XP> Saizan: I meant at the use site, actually
06:55:39 <Saizan> ah, but the point is to use ST s
06:55:50 <Saizan> *MonadST
06:56:04 <fasta> Could not deduce (Rotate
06:56:06 <fasta> 			(ST s) (GHC.STRef.STRef s (Node s (Item a))) (Item a) a1)
06:56:06 <fasta>       from the context ()
06:56:13 <fasta> Same problem
06:56:30 <SamB_XP> fasta: well, what Rotate instances have you got?
06:57:01 <fasta>  (Show a, MonadST s m) =>  Rotate m (STRef s (Node s (Item a))) (Item a) (Int, Bool)
06:57:07 <fasta> Just that one
06:57:49 <fasta> The problem is that Show?
06:58:10 <SamB_XP> Rotate m (GHC.STRef.STRef s (Node s (Item a))) (Item a) agg
06:58:11 <fasta> Since MonadST reduces to ST s
06:58:30 <SamB_XP> thats what rotate_right wants..
06:59:24 <SamB_XP> fasta: is there some kind of missing functional dependancy?
06:59:29 <fasta> SamB_XP: so?
07:00:05 <SamB_XP> or maybe you need an "s" arg to Rotate?
07:00:22 <fasta> SamB_XP:  class Rotate m node item agg | node -> item
07:00:33 <fasta> SamB_XP: you mean that one?
07:00:39 <SamB_XP> not that fundep, no.
07:00:45 <SamB_XP> what determines agg?
07:01:05 <fasta> SamB_XP: nothing
07:01:14 <SamB_XP> fasta: what is agg for?
07:01:18 <fasta> SamB_XP: hmm, maybe I need to add a constraint for agg then
07:01:25 <fasta> SamB_XP: agg == aggregate value
07:01:44 <SamB_XP> why does it need to be in the typeclass?
07:01:44 <fasta> SamB_XP: the type of values that build up during a traversal
07:02:15 <fasta> SamB_XP: Good question
07:02:35 <fasta> SamB_XP: maybe there indeed is no need, although when I wrote this I thought there was.
07:02:56 <fasta> SamB_XP: I will see whether I can eliminate it or find out the reason for it being there.
07:03:11 <Saizan> so, rotate_right undefined (undefined :: (Int,Bool) , should work?
07:04:30 <fasta> Saizan: yes
07:04:35 <fasta> Saizan: it doe
07:04:37 <fasta> Saizan: does
07:04:57 <SamB_XP> fasta: I think eliminating agg from that class should also work then
07:05:12 <fasta> SamB_XP, Saizan: thank you
07:06:13 <SamB_XP> apparantly GHC needs to get rid of all the typeclass constraints on the argument to runST for some reason...
07:06:21 <Saizan> well
07:06:32 <Saizan> those constraints are not expressible in the type of examle
07:06:33 <wolverian> how am I supposed to update a running xmonad's config when I can't install it when xmonad is running? I get copyFile: resource busy
07:06:35 <Saizan> *example
07:06:49 <dmhouse> Yay, Emacs 22 is out.
07:06:50 <Saizan> because it's only m ()
07:07:04 <fasta> I have a class which selected from a given type the aggregated part of it to do a separation of concerns.
07:07:06 <Saizan> so it wants to resolve them
07:07:16 <fasta> At some point I deleted that constraint and now I got this problem
07:07:23 <fasta> I think that was it.
07:07:46 <Saizan> wolverian: just remove the old binary, cabal doesn't do this but you can
07:08:17 <wolverian> Saizan, thanks. that's a bit ugly, doesn't cabal have preinst scripts? :)
07:09:08 <Saizan> honestly i don't know..
07:11:44 <fasta> Couldn't match expected type `agg' (a rigid variable)  against inferred type `(a1, Bool)' <- when I remove agg from the type clas
07:11:49 <fasta> So, it is needed
07:15:23 <wolverian> am I supposed to have dmenu_path, having installed dmenu from ubuntu's packages? (somewhat ot..)
07:16:46 <wolverian> whoa, ubuntu's dmenu is apparently ancient
07:24:08 <fasta> I have a type class Aggregate a b of which the intention is that given there's for every a only one b type. I.e. Aggregate (Int, Bool) Bool Or Aggregate (Bool, Bool, Bool) Bool. Adding a functional dependency seems like a good idea in this case, but when I do that I get "Ambiguous type variables `s', `m' in the constraint:  `MonadST s m'.
07:25:22 <fasta> I thought that functional dependencies made code less ambiguous, not more.
07:30:06 <Saizan> where do you get it?
07:31:59 <fasta> Saizan:  http://pastebin.ca/531420
07:32:29 <Saizan> 500 - internal server error
07:32:37 <fasta> Saizan: try again
07:33:00 <fasta> Saizan: It loaded the next time for me
07:33:35 <Saizan> ok
07:33:43 <kmb> Hi, any comments on why the shuffle function in this paste is not returning a shuffled list would be appreciated.  Clearly, my recursion is not correct. http://paste.lisp.org/display/42150
07:34:21 <kmb> please ignore the commented-out type sigs, they are for my own reference.
07:34:55 <fasta> Saizan: I think I understand the problem somewhat.
07:35:10 <fasta> Saizan: I have this instance (MonadST s m) => Aggregate (STRef s (Node s (Item a))) (m (Int, Bool))
07:35:58 <Saizan> and empty is a member of the class?
07:36:05 <fasta> Saizan: no
07:36:45 <LoganCapaldo> kmb: you have if n > 1 then ... do the shuffle, but when you call shuffle in randomKey, you say shuffle g 0 <--- 0 is not greater than 1
07:37:03 <Saizan> i fail to see how (STRef s (Node s (Item a))) implies (m (Int, Bool)) by the way
07:37:11 <fasta> Saizan: empty :: (Omega.MonadST.MonadST s1 m) => STRef s (Chain s a) -> m (STRef s1 (Node s a))
07:38:13 <Saizan> uhm, no idea..
07:38:48 <fasta> Saizan: An aggregate value is either Nothing or Just <something>. An aggregate value for an Item a is (Int, Bool). Generalize Maybe and you got the m.
07:38:49 <kmb> LoganCapaldo: thanks, you are absolutely correct.  I was concentrating much too hard on the wrong thing.  :)
07:39:34 <fasta> Saizan: Thanks, anyway :)
07:40:10 <fasta> It is a bug in GHC that it recommends adding -fno-monomorphism-restriction when it already has that option, though.
07:53:05 <fasta> Saizan: This is was one of the solutions for what I needed:  Aggregate m a b | a -> b
07:58:01 <pitecus> is there a portable way of getting the directory for temporary files?
08:00:04 <DRMacIver> Generally you don't need to. File has a createTemporaryFile method
08:00:20 <DRMacIver> I suppose you could use that to create a temporary file then get the absolute path of that.
08:00:51 <DRMacIver> Oh, never mind
08:00:59 <DRMacIver> System.getProperty("java.io.tmpdir")
08:04:20 <Choko> how do I create a list of the form [-1,0,...,0,1] of length r+1 ?
08:05:44 <sorear> Can you give a longer example?
08:06:27 <pitecus> DRMacIver, I was wondering about how to to that in Haskell
08:07:39 <jyp> pitecus: System.Directory.getTemporaryDirectory
08:07:51 <pitecus> thanks jyp
08:07:59 * jyp tips his hat.
08:08:12 <dmhouse> jyp, haven't seen you around here in a while.
08:08:21 <jyp> dmhouse: really?
08:08:38 <jyp> I hang out here more often since Yi pre-release :)
08:08:54 <dmhouse> jyp: oh, then perhaps you ought to speak more often. :) Hehe, sorry.
08:09:11 <jyp> I'm not the talkative type.
08:09:19 <jyp> Or shall i say typeative?
08:09:55 <jyp> anyhoo, it's a pleasure to chat with you guys :)
08:09:57 <dmhouse> Or perhaps "inputtative", to be politically correct towards those people who use non-standard input methods?
08:10:03 <roconnor> > (\r -> foldr (:) [1] (-1:(replicate r 0)) 3
08:10:04 <lambdabot>  Parse error
08:10:11 <roconnor> > (\r -> foldr (:) [1] (-1:(replicate r 0))) 3
08:10:11 * jyp laughs
08:10:13 <lambdabot>  [-1,0,0,0,1]
08:10:23 <roconnor> > (\r -> foldr (:) [1] (-1:(replicate (r-1) 0))) 3
08:10:24 <lambdabot>  [-1,0,0,1]
08:10:32 <dmhouse> Choko: perhaps [-1] ++ replicate (r-1) 0 ++ [1]
08:10:56 <sorear> wg 8
08:12:28 <pitecus> also can i just get a temporary filename rather than opening a temporary file?
08:13:08 <DRMacIver> pitecus: Oh, whoops. Sorry. Channel confusion.
08:13:08 <roconnor> might as well use append I suppose.
08:13:09 <Choko> dmhouse: thanks :)
08:13:16 <DRMacIver> pitecus: It's a much more common question in ##java than #haskell. :)
08:13:24 <pejo> pitecus, that seems like a security risk
08:13:30 <pitecus> no worries DRMacIver
08:13:44 <pitecus> pejo, why?
08:14:07 <pejo> pitecus, suppose some other process opens that file before you do, for example.
08:14:46 <pitecus> i just need to pass that filename to another function which will write some data there
08:15:15 <pitecus> this function takes a path not a handle
08:15:58 <pejo> Well, tmpnam() gives you a file name. But there's a reason those methods are deprecated.
08:16:35 <sorear> they have a very long history of use in real exploits
08:17:18 <pitecus> openTempFile still gives me a filename, i just have to close the handle before
08:17:26 <roconnor> if you were to write O for the set of open sets, what font would you use?
08:18:10 <sorear> pitecus: BAD idea
08:18:34 <pitecus> sorear, any suggestions?
08:19:14 <sorear> pitecus: Your other function was badly written.
08:19:30 <pitecus> i didnt write it, sorear
08:19:39 <pitecus> its in a C++ library
08:19:45 <pitecus> Not much I can do about it
08:20:08 <sorear> hold your nose, fire off a vitriolic email, and use temporary directories
08:20:21 <sorear> i'm assuming you're on UNIX?
08:20:27 <pitecus> yup
08:20:48 <sorear> ok.  mkdir is atomic and immune to symlinks
08:20:54 <sorear> cd /tmp
08:21:04 <sorear> mkdir $RANDOMLY_GENERATED_NAME
08:21:07 <sorear> cd same
08:21:12 <sorear> do your business
08:21:27 <sorear> no need to cd, just use a path into it
08:21:43 <pitecus> ok thanks
08:21:52 <sorear> this is why so many *NIX programs make directories in /tmp
08:35:09 <fasta> Is there already a general way to given an STRef s a to write the value of type a to a file and then read it back in?
08:39:24 <int-e> fasta: that question sounds weird - if you have an STRef s a value (that's not bottom) you should be inside the ST monad which does not support IO.
08:40:20 <fasta> int-e: I am not implying that these operations need to happen in the same runST block
08:40:33 <int-e> fasta: they do, you can't get the reference out of the block
08:40:50 <fasta> int-e: that's not true
08:41:01 <fasta> int-e: at least not in the way I just described.
08:41:39 <int-e> I remain to be convinced; the type of runST is designed to prevent that.
08:42:10 <dmhouse> fasta: how could you be out of the ST monad and in possession of an STRef?
08:42:25 <fasta> dmhouse: I didn't say that
08:42:47 <fasta> int-e: You can convert the STRef s a value to a value of an isomorphic data type.
08:42:49 <dmhouse> "You can't get the reference out of the block" "that's not trueÂ£
08:43:11 <fasta> dmhouse: also read the next line, please
08:43:35 <dmhouse> fasta: I did, I obviously don't understand what you're trying to say.
08:43:35 <fasta> int-e: do you understand?
08:44:12 <int-e> fasta: unsafeCoerce and unsafePerformIO aside, of course. But then you're on your own.
08:44:28 <fasta> int-e: without unsafeCoerce
08:44:33 <SamB_XP> @hoogle unsafeIO
08:44:34 <lambdabot> GHC.Conc.unsafeIOToSTM :: IO a -> STM a
08:44:34 <lambdabot> Control.Monad.ST.unsafeIOToST :: IO a -> ST s a
08:44:35 <fasta> int-e: or without any unsafe operation...
08:44:44 <int-e> fasta: how?
08:44:51 <fasta> int-e: I just said.
08:45:00 <fasta> int-e: I will give an example for list
08:45:01 <SamB_XP> @hoogle STTo
08:45:01 <lambdabot> Control.Monad.ST.stToIO :: ST RealWorld a -> IO a
08:45:02 <lambdabot> Maybe.listToMaybe :: [a] -> Maybe a
08:45:02 <lambdabot> Data.FiniteMap.addListToFM :: Ord key => FiniteMap key elt -> [(key, elt)] -> FiniteMap key elt
08:45:12 <fasta> Suppose you have a list implemented with STRefs
08:45:39 <fasta> At some point you have a reference to a list in the ST monad, name that "ref".
08:46:14 <fasta> Now, return write a function that given an STRef, constructs a purely funcional list with the exact same structure.
08:46:22 <fasta> functional*
08:46:29 <int-e> well, then you don't have STRef s a values anymore.
08:46:56 <fasta> int-e: you will when you make a reference based structure again based on the pure structure.
08:47:19 <fasta> int-e: The context of this question was that one wants to read and write STRef values.
08:47:21 <dmhouse> fasta: perhaps you could paste some code so we know precisely what you're trying to say.
08:47:22 <int-e> you can only reconstruct the STRefs in another ST block.
08:47:38 <fasta> int-e: yes, and when did I say that was a problem?
08:47:56 <int-e> you can reconstruct them as IORefs, sure. But then your initial question ... hmm. Well if that's what you meant by the initial question, you worded it badly.
08:47:59 <fasta> int-e: I was only interested in a kind of serialization.
08:48:38 <fasta> int-e: No.. you can reconstruct them as STRefs too.
08:48:44 <fasta> int-e: not just IORefs
08:48:55 <dmhouse> fasta: you can't do IO on them, then.
08:49:13 <int-e> but no, I'm not aware of a standard serialization like that except for the runSTArray functions; it depends a lot on whether there are cycles or not and what kind of data the references hold.
08:49:30 <dmhouse> Oh, wait, unless you use stToIO all over the palce.
08:49:32 <Saizan> what's the problem on exiting ST to write them and reentering ST after the read?
08:49:32 <dmhouse> *place
08:49:32 <int-e> fasta: yes, inside another ST block where you still can't do IO
08:49:50 <int-e> dmhouse: another unsafe function? :)
08:49:58 <dmhouse> int-e: I don't see why that would be unsafe.
08:50:05 <fasta> int-e: Yes, but that's not a problem.
08:50:13 <dmhouse> int-e: ST is just IO without the impure bits.
08:50:33 <dmhouse> int-e: so converting ST code into IO code should be fine.
08:51:05 <Saizan> you are just fixing the "s" there
08:51:07 <int-e> dmhouse: hmm. yuck, so you can get STRef Realworld blah thingies.
08:51:57 <dmhouse> int-e: only inside IO
08:52:28 <fasta> do pure_value <- return (runST compute_pure_value_based_on_references); writeFile pure_value;value <- readFile pure_value; let ans = runST (computation_rebuilding_pure_value_in_STRefs value and then doing more); return () -- very pseudo code
08:52:32 <fasta> This is what I mean.
08:53:07 <ndm> sorear: did you see Alex's question about a deriveAll for Data.Derive? I would have thought you might know the answer
08:53:12 <int-e> fasta: yes, sorry. I thought you were trying to do something entirely different.
08:54:41 <ndm> @seen TomMD
08:54:42 <lambdabot> I saw TomMD leaving #xmonad and #haskell 12h 38m 57s ago, and .
08:56:20 <bartw> whats this xmonad ?
08:56:37 <sorear> http://www.xmonad.org/
08:56:37 <ptx> a window manager
08:56:38 <lambdabot> Title: xmonad : a tiling window manager
08:56:59 <roconnor> > toEnum 'â€“'
08:56:59 <lambdabot>  Improperly terminated character constant
08:57:01 <sorear> with #xmonad and xmonad@haskell.org
08:57:14 <roconnor> > fromEnum 'â€“'
08:57:14 <lambdabot>  Improperly terminated character constant
08:57:20 <int-e> fasta: but I can't imagine how this could be done generically.
08:59:05 <fasta> int-e: why not?
08:59:28 <int-e> fasta: maybe for simple acyclic ADTs.
09:00:22 <fasta> int-e: if it's impossible, it must be incomputable.
09:00:32 <fasta> int-e: why would it be incomputable?
09:01:08 * ndm has even been converting people to xmonad
09:01:15 <int-e> fasta: I didn't say it was impossible. But where cycles are involved you need to detect and encode them, somehow.
09:02:35 <fasta> int-e: Yes, it's non-trivial. I can agree with that.
09:02:46 <fasta> It would be a nice students project
09:03:43 <roconnor> @google utf8.hs
09:03:45 <lambdabot> http://repetae.net/john/repos/jhc/UTF8.hs
09:06:52 <roconnor> @google â„¤
09:06:55 <lambdabot> http://web.mat.bham.ac.uk/R.W.Kaye/seqser/constrintegers
09:06:55 <lambdabot> Title: Construction of the integers
09:07:15 <bringert> dcoutts: c2hs #pointer should provide a Storable instance
09:37:53 <jfredett> Jake damnit! Stupid perfect powers
09:50:54 <Choko> jfredett: what about them ?
09:51:19 <jfredett> i cant find a decent algorithm to detect
09:51:31 <jfredett> them
09:52:32 <Choko> you can do it in log n
09:52:49 <Choko> where can i past it!
09:53:27 <Choko> http://nopaste.com/p/aeCwhRa6C
09:53:59 <jfredett> ...
09:54:38 <jfredett> jake damnit, i've been trying to do that all day-- that exact algorithm
09:54:47 <jfredett> but i couldn't seem to get it to work.
09:56:24 <roconnor> @go mime type haskell
09:56:27 <lambdabot> http://www.toastedmarshmallow.com/Articles/TypingFiles2.pdf
10:02:29 <vegai> http://www.bash.org/?765639
10:02:30 <lambdabot> Title: QDB: Quote #765639
10:04:21 <flux> now only if bash.org contained the jist of the quote in the title, one wouldn't need to click..
10:08:22 <jfredett> Choko, your algorithm doesnt seem to work, try it on 25 (5^2)
10:10:06 <Choko> :\
10:10:21 <Choko> it says not
10:10:31 <jfredett> hmm, i must have copied it wrong
10:10:33 <jfredett> my bad
10:10:47 <Choko> :)
10:12:34 <davidL> sorear: I need another hint for that closed formula. :)
10:13:10 <ddarius> davidL: What's the open form?
10:13:45 <sorear> davidL: I only had it working on an arbitrary finite range; fortunately it is size O(log n)
10:13:59 <davidL> ddarius: f(n,d) = count a b + f(n-1,d)
10:14:39 <davidL> s/count a b/count n d
10:14:46 <jfredett> ahh, I see, the issue is log(fI(n) / log(2)), thats not an base change, thats equiv to log(fI(n)) - log(2)
10:14:52 <jfredett> fI == fromintegral
10:14:58 <jfredett> i misunderstood
10:15:30 <davidL> sorear: It only has to work on a finite range. It can be proven that the series is finite.
10:15:32 <ddarius> count n d ==  ?
10:16:15 <davidL> the number of d's in integer n, for example n = 11, d = 1 -> 2 ; n = 452, d = 1 -> 0
10:16:17 <jfredett> now i just need an log n algo for totient, and my AKS implementation will be complete *evil laughter*
10:16:18 <jfredett> :)
10:16:55 <Choko> jfredett: i was actually also trying to implement aks :P
10:17:13 <jfredett> lol
10:17:22 <jfredett> small world...
10:17:23 <Choko> how do you test (x+a)^n === x^n + a (mod n, x^r - 1)
10:17:29 <ddarius> Me too!  What's AKS?
10:18:02 <Choko> for [a | <- a [1..sqrt(r)*log(n)]]
10:18:45 <jfredett> ddarius, AKS is a polynomial time primality proving algorithms
10:18:48 <jfredett> algorithm*
10:19:06 <jfredett> it runs in log^10.5, last I looked
10:19:17 <davidL> ddarius: f(n,d) is supposed to be the number of times d has been written from 1..n
10:19:55 <jfredett> Choko, I believe you have to use some Field theory
10:20:01 <ddarius> davidL: Clearly, f(n,d) = Sum_n. count n d
10:20:05 <jfredett> and come up with a polynomial to factor
10:20:18 <ddarius> Assuming count n d = 0 for n < 0
10:20:54 <ddarius> Er I was thinking d.  Luckily that doesn't change anything.
10:21:11 <davidL> ddarius: yes but that doesn't really work for very large numbers
10:21:29 <ddarius> davidL: I was just saying that that is clearly what it means.
10:21:33 <jfredett> thats pretty easy, foreach  k in [1..n], count_n, count_n = 1 + count n div 10 if n mod 10 == d, ... easy from here
10:22:04 <davidL> > let jj = scanl (+) 0 (map (count 1) [1..100000]); count a b = (length . filter (== intToDigit a) . show) b in jj
10:22:08 <lambdabot>  [0,1,1,1,1,1,1,1,1,1,2,4,5,6,7,8,9,10,11,12,12,13,13,13,13,13,13,13,13,13,13...
10:22:32 <jfredett> anyway
10:22:52 <ddarius> Maybe if I'm bored I'll apply techniques from analytic number theory to it.
10:23:15 <davidL> There's no easy way to derive a closed formula?
10:23:26 <davidL> sorear said he did.
10:23:27 <jfredett> Choko, I'm not sure how to check that polynomial, I figured I'd reread that part of the paper to do it, theres bound to be some references in the complexity analysis that tell how to do it
10:23:42 <ddarius> davidL: I have no idea.  It would just be fun to do it via analytic number theory.
10:23:51 <jfredett> well- lets think about it
10:24:17 <Choko> jfredett: I hoped you already had implemented that part :P
10:24:19 <jfredett> davidL, its true the any number d would show up n times on the range [1..10^n], right?
10:24:40 <davidL> yes
10:24:46 <jfredett> Choko, Nope, but I have some ideas... I was actually more worried about the Perf Power part,
10:25:12 <davidL> wait, what?
10:25:13 <jfredett> davidL, so then, we know that [1..10^k], for k > n, will contain n in it, right?
10:25:20 <jfredett> well, think of it this way
10:25:24 <sorear> ddarius: I never actually managed to get a closed formula, only a O(log n) finite range formula
10:25:39 <ddarius> sorear: You said that.
10:25:41 <jfredett> I know that on the range [1..10], then number 1 shows up at least once
10:25:50 <jfredett> i'm just aiming for a Lowerbound,
10:25:56 <Choko> jfredett: you just need to check for gcd(a,n) > 1 for a = 2..r
10:26:09 <jfredett> then we can get an upper bound later,
10:26:09 <Choko> and r is bounded by something like log n
10:26:29 <jfredett> Choko, for the logarithm thing, or the polynomial thing?
10:26:55 <Choko> for step 3 in the algorithm :)
10:27:00 <Choko> i guess
10:27:11 <jfredett> right, the perfect power check
10:27:16 <jfredett> thats what I meant. :/
10:28:29 <jfredett> davidL, my idea for solving this is to say that we know k*10^n + d is an occurence of d in our series, so we have at least n-1*10^n-1 + d (something like that, anyway) d's in the sequence
10:29:25 <jfredett> that is, if we're looking for 9 in [1..100, we'll find one at 1 * 10 ^ 0 + 9, 1 * 10^1 + 9, ... 2 * 10^ 0 + 9 ...
10:29:37 <davidL> I have something like that using logs.
10:30:04 <sm> good morning all
10:30:07 <jfredett> right- my formulas two messages back are pretty bad, but the idea is to count up a lowerbound
10:30:28 <jfredett> if we can do that, then doing an upperbound is typically not much harder
10:30:35 <sm> dons: thanks for the xmonad writeup and docs.. by golly I'm going to try it
10:30:57 <jfredett> once we have both, we just examine to see if LB == UB, if so, then we're done, if not, we probably need to refine one or the other
10:31:15 <sm> but xmonad configure cannot satisfy dependency X11>=1.2.1 - is it really not installable on ubuntu edgy ?
10:31:28 <jfredett> if the former is true, the closed form would be the formula for getting either.
10:31:37 <jfredett> brb
10:31:40 <davidL> the lower bound is quite simple
10:32:02 <davidL> > let atLeast n = fromIntegral(sum $ map (\x -> 1 + floor(logBase 10 x)) [1..n]) / 10 in atLeast 234
10:32:10 <lambdabot>  59.4
10:33:14 <ddarius> -a- lower bound
10:34:08 <jfredett> right, but not necessarily -the- lowerbound,though I think you've got that right
10:34:25 <jfredett> it'd be floor(atLeast n)
10:35:01 <jfredett> the question is then if the UB is the same thing, modulo ceilings instead of floors.
10:35:21 <Saizan> sm: it's quite easy to install the right package from hackage(with cabal), http://hackage.haskell.org/cgi-bin/hackage-scripts/package/X11-1.2.2
10:35:23 <davidL> so the inverse of the LB?
10:35:24 <lambdabot> http://tinyurl.com/2grtqu
10:35:41 <jfredett> davidL, not quite
10:35:56 <jfredett> the UB would be a similar derivation, looking for an atMost
10:36:00 <jfredett> rather than atLeast
10:36:19 <jfredett> so there are at most 10^n+1 - 1 total d's on the range (a gross overcount)
10:36:55 <jfredett> we then need to reduce that estimate
10:37:07 <sm> Saizan: thanks, I will try
10:37:33 <sm> when you say with cabal, are you talking about a command-line tool ?
10:37:35 <jfredett> if we end up with the same thing as atLeast, or we get the same thing but using ceilings instead of floors
10:38:06 <sm> I see, it's talking about the ghc X11 package, not my system X11
10:38:10 <jfredett> then we know that thats our closed form
10:38:16 <Saizan> sm: not exactly, just the runghc Setup configure, runghc Setup build, runghc Setup install cycle
10:38:26 <Saizan> sm: yeah
10:38:27 <davidL> jfredett: I see now.
10:38:30 <sm> right.. thx
10:38:47 * SamB_XP wonders why his << 8s are getting compiled to about 16 dsPIC instructions each...
10:39:36 <jfredett> brb again
10:43:41 <sorear> SamB_XP: Dunno about dsPIC, but 65816 has no general shifter, only <<1
10:43:49 <sorear> might be the same issue
10:44:04 <SamB_XP> sorear: really?
10:44:23 <sorear> SamB_XP: Really.
10:44:45 * sorear has the datasheet
10:45:54 <SamB_XP> sorear: but you'd think it'd have a multiplier ;-)
10:46:23 <sorear> SamB_XP: Yes it has a multiplier.  JSR MULTIPLIER
10:47:09 <sorear> The programming manual even has an Appendix: Sample multiplier code
10:47:21 <sorear> Which, curiously enough, is not optimized for speed.
10:48:19 <sm> hmm.. any other xmonad users out there familiar with changing wm on ubuntu/debian ?
10:48:21 <SamB_XP> huh. You'd think I'd know something important like that the entire 6502 family lacks multiplication...
10:48:59 <sorear> sm: Xmonad and debian user
10:49:41 <sm> ah #xmonad, yes
10:49:47 <SamB_XP> sm: change your .Xsession file?
10:50:21 <sm> thanks.. it's unclear. I'll continue in the other channel
10:51:17 <SamB_XP> sorear: what algorithm does it use?
10:52:11 <SamB_XP> well, *this* architecture definately has MUL -- even DIV
10:52:20 <sorear> SamB_XP: Schoolbook
10:52:35 <SamB_XP> sorear: schoolbook...?
10:52:39 <jfredett> Choko, http://islab.oregonstate.edu/koc/ece575/04Project2/Halim-Chanleudfa/Report.pdf
10:52:41 <lambdabot> http://tinyurl.com/yjxs5b
10:52:54 <SamB_XP> you mean it needs a piece of paper and a pencil?
10:52:54 <jfredett> Choko : it's an implementation in C, but it has some good theoretical stuff
10:53:53 <SamB_XP> oh, wait. MUL helps only for left shifts, not right shifts
10:53:58 <SamB_XP> and DIV is usually slow
10:55:21 * SamB_XP wonders how good well GCC deals with instructions needing a pair of consecutive registers
10:55:29 <SamB_XP> s/good // ;-)
10:56:12 <Choko> jfredett: I was using Andrew granville's paper - It's easy to determine whether a given integer is prime
10:56:21 <jfredett> Choko, Brilliant! check this
10:56:27 <wolverian> hrm, xmonad.org annoys me. it has a minimum width under which the text won't flow.
10:56:30 <SamB_XP> but... this architecture also has LSR and ASR instructions!
10:56:34 <jfredett> the C  paper notes that we can just assume that p is prime,
10:56:38 <jfredett> so we just use n-1
10:56:42 <jfredett> err, p-1
10:56:49 <wolverian> ..which is kind of embarassing, as it means I can't read the site properly in xmonad's default layout :)
10:56:51 <jfredett> no totient for me... :)
10:57:28 <Choko> great
10:58:30 <SamB_XP> which are parameterizable in shift amount!
10:59:06 <SamB_XP> I wonder what the hell they did (or forgot to do) to GCC that it doesn't use them?
10:59:29 <SamB_XP> ... I suppose I could theoretically look at the source code...
11:01:19 <wolverian> btw, whose screenshot is the one on xmonad.org with fish shell? I'm trying to use dzen from fish too, but I'm hitting some buffering issues (I guess)
11:01:23 <wilx`> SamB_XP, are you sure GCC supports those instructions at all.
11:01:25 <wilx`> ?
11:01:36 <wilx`> Or that your version supports them?
11:02:15 <wilx`> Or that if it is CPU model specific, are you sure that the default -march=foo has them?
11:03:06 <jfredett> bah, methinks I'll implement miller rabin, give this (x-a)^p == (x^p - a) mod p stuff time to settle
11:05:04 <Choko> then you need some modular exponentiation stuff :P
11:05:36 <jfredett> yah- thats easy. :/
11:05:45 <SamB_XP> wilx`: not sure at all!
11:06:26 <SamB> wilx`: well, actually... it seems to define some matching instructions...
11:09:09 <SamB> hmm, this version for which I have source is apparantly older than the one I'm actually using...
11:14:03 <SamB> perhaps it is a regression from switching to GCC 4?
11:14:05 <jfredett> Hmm, maybe after AKS and MR, I'll try for EC primes :)
11:14:28 <shapr> yay hpaste is back!
11:14:30 <SamB> I notice that the GCC 3.3 compiler handles it fine...
11:14:47 <Saizan> shapr++
11:14:55 <Saizan> what happened?
11:15:23 <shapr> My hosted server got moved from Atlanta to some other city, and hpaste isn't started in /etc/init.d/
11:15:26 <shapr> But obviously it should be...
11:16:03 <SamB_XP> what? they still have to reboot to do that?
11:16:04 <SamB_XP> ;-)
11:16:26 <shapr> It is a xen vm, so I dunno why...
11:17:43 <pchiusano> hello
11:18:51 <SamB_XP> pchiusano: hi
11:18:55 <pchiusano> if I have a type data T = F String | G String
11:19:09 <pchiusano> and then I have the expression: F "hi"
11:19:25 <pchiusano> how is that actuall represented internally?
11:19:49 * SamB_XP draws in the sand... except there is no sand to draw in :-(
11:20:08 <LoganCapaldo> @src data
11:20:09 <lambdabot> Source not found. Where did you learn to type?
11:20:12 <LoganCapaldo> darn :)
11:20:52 <SamB_XP> pchiusano: well, you have an F node that references a String
11:20:55 <sorear> node0=[ address_of_F_closure, node1 ]  node1=[ address_of_unpackCString#_closure, "hi" ]
11:20:58 <sorear> pchiusano: ^^^
11:21:05 <SamB_XP> hehe
11:21:10 <sorear> pchiusano: note the second node is a thunk
11:21:20 <sorear> pchiusano: you never said "hi" would be evaluated :)
11:21:35 <SamB_XP> sorear: you aren't using the right names
11:21:54 <SamB_XP> also you need a # after "hi"
11:21:54 <TomMD> @tell tomMD test
11:21:55 <lambdabot> Consider it noted.
11:22:02 <TomMD> Good
11:22:02 <lambdabot> TomMD: You have 1 new message. '/msg lambdabot @messages' to read it.
11:22:49 <pchiusano> ok, so it is just an address
11:23:27 <sorear> base_GHCziPack_unpackCString_closure if you insist
11:23:29 <LoganCapaldo> pchiusano: are you maybe wondering if its more like union { struct { string a; } f; struct { string b; } g; } or if its more like struct { int tag; string value; }?
11:23:33 <pchiusano> hmm
11:23:40 <LoganCapaldo> Or am I being silly?
11:23:50 <pchiusano> LoganCapaldo: yes
11:24:02 <LoganCapaldo> pchiusano: to which one? :)
11:24:16 <pchiusano> um, well, I was wondering which
11:24:21 <LoganCapaldo> ah ok
11:24:28 <LoganCapaldo> I don't know the answer though
11:24:31 <LoganCapaldo> heh
11:24:35 <pchiusano> I was assuming F was just an integer tag or something
11:26:10 <sorear> pchiusano: No, GHC 6.6 uses a form of Church encoding
11:26:32 <sorear> F = \string f_return g_return -> f_return string
11:26:58 <sorear> except, since we know the control flow it can be optimized a good bit
11:27:04 <SamB_XP> sorear: I thought they'd decided against that?
11:27:25 <SamB_XP> also shouldn't that be architecture dependant?
11:27:43 <sorear> SamB_XP: Yes, but recently
11:27:49 <sorear> SamB_XP: I did qualify 6.6
11:28:05 <SamB_XP> I thought they'd decided against before that
11:29:48 <LoganCapaldo> sorear: so cases compile to something like case x of F s -> "F" ++ s; G s-> "G" ++ s ----> x (\s -> "F" ++ s) (\s -> "G" ++ s) ?
11:30:48 <sorear> LoganCapaldo: Yes.  But the lambdas are single-entry, which lets us keep data on the stack (probably a large benefit)
11:31:07 <LoganCapaldo> single-entry?
11:32:47 <LoganCapaldo> So I suppose church encoding is how you get data structures out of the LC
11:32:52 <sorear> Yes.
11:33:06 <sorear> single entry means exactly one of them is called, exactly once
11:35:20 <ddarius> LoganCapaldo: It's one way.  Arguably the most natural.
11:38:40 <LoganCapaldo> neat
11:39:50 <LoganCapaldo> > let f s f' g' = f' s ; g s f' g' = g' s; ( (f "Hello") (\s -> "F "
11:39:50 <lambdabot>  Parse error
11:39:53 <LoganCapaldo> eek
11:39:58 <LoganCapaldo> stuid return key
11:40:57 <ddarius> To really appreciate Church encoding you need, at least, rank-2 types.
11:41:01 <LoganCapaldo> > let f s f' g' = f' s ; g s f' g' = g' s in ( (f "Hello") (\s -> "F " ++ s) (\s -> "G " ++ s), (g "Goodbye") (\s -> "F " ++ s) (\s -> "G " ++ s))
11:41:02 <lambdabot>  ("F Hello","G Goodbye")
11:42:06 <LoganCapaldo> Hmm
11:42:50 <LoganCapaldo> Does OCaml use Chruch encoding? If it did, I would imagine that would be how it's `A things work (I forget the name)
11:45:28 <opqdonut> LoganCapaldo: for integers? i surely hope not
11:45:42 <opqdonut> an int->church implicit cast might be nice tho
11:47:53 <LoganCapaldo> opqdonut: not integers. like the code seen here: http://www.math.nagoya-u.ac.jp/~garrigue/papers/mixev3.04.ml.txt (`Var of string)
11:48:04 <LoganCapaldo> polymorphic variants
11:48:29 <LoganCapaldo> although now that I think about it, that would exactly the wrong thing to use church encoding for
11:48:36 <LoganCapaldo> So I withdraw the question :)
11:51:11 <opqdonut> LoganCapaldo: what does `Var of string do?
11:52:04 <LoganCapaldo> its like data T = Var String, only with Var being Var :: String -> {a set of types instead of one}
11:55:10 <Saizan> so it's more like class TakeString s where var :: String -> s ?
11:55:58 <LoganCapaldo> Saizan: yeah
11:56:08 <bringert> andygill: ping
11:56:25 <LoganCapaldo> minus the type class part
11:57:12 * LoganCapaldo waits for someone to beat him down 
11:57:14 <LoganCapaldo> :)
11:58:07 <LoganCapaldo> Saizan: oh and you can pattern match against it
11:58:09 * Saizan realizes this is a strategy to spread OCaml!
11:58:21 <LoganCapaldo> not really
11:58:21 <andygill>  hi bringert
11:58:33 <Saizan> against Var to take the String back?
11:58:42 <LoganCapaldo> Its a strategy to get people to explain things to me :)
11:58:45 <LoganCapaldo> Saizan: yes
12:00:22 <entropie> hey all
12:01:39 <Korollary> hi
12:01:40 <bringert> andygill: do you see my privmsgs? (sometimes that doesn't seem to work)
12:01:44 <entropie> i want to give xmonad a try, but i got this error msg during install. any ideas/hints?
12:01:45 <entropie> http://attachr.com/8110
12:02:32 <Igloo> bringert: If you're not registered with services then it doesn't work; you ought to get a notice from teh server in that case
12:02:59 <Igloo> bringert: You are and andygill isn't, so he'll see your messages but his replies will get eaten
12:03:05 <bringert> ah
12:03:29 <Saizan> entropie: you need to install a newer version of the X11 package first
12:03:41 <shachaf> entropie: http://hackage.haskell.org/cgi-bin/hackage-scripts/package/X11-1.2.2
12:03:43 <lambdabot> http://tinyurl.com/2grtqu
12:03:55 <andygill> How do I register?
12:04:00 <entropie> shachaf: ok. i will try
12:04:31 <bringert> andygill: it's something to do with nickserv, but I can't remember. anyone else?
12:04:36 <shachaf> andygill: /msg NickServ help register
12:05:00 <bringert> andygill: there's some info here too: http://freenode.net/faq.shtml
12:05:01 <lambdabot> Title: freenode: frequently-asked questions
12:06:07 <andygill> Thanks
12:07:41 <ndm> entropie: #xmonad probably has all the answers
12:08:21 <entropie> ah, good.
12:10:59 <gkr> What are extensible records?
12:13:25 <haskellnew> is it possible to use sortBy function for a list of [TVar a]
12:17:10 <bringert> andygill: got it working?
12:17:56 <haskellnew> i can get [a] from [TVar a] and sort it but then i can only return it as TVar [a] or some other m[a]
12:18:10 <haskellnew> but not [TVar a]
12:19:59 <Korollary> haskellnew: why would you sort TVars by themselves?
12:20:46 <LoganCapaldo> haskellnew: can you do something like [(orderingInfo, TVar a)]?
12:26:13 <haskellnew> Korollary : because i calculate something and put that thing back into TVar a , and after that i need to sort the list base on that thing and it has to be done atomically  let me see ,
12:26:53 <LoganCapaldo> If you need to sort atomically, wouldn't it make more sense to work with TVar [a] the whole time
12:30:06 <haskellnew> but "a" also contain other TVar variables  which keep changing by other threads
12:31:05 <LoganCapaldo> haskellnew: or you could let calculated = map calculate --> [(calculatedThing, TVar a)], map putthingBackinTvar $ sortBy fst calculated
12:31:14 <shapr> Yay code!
12:32:16 <LoganCapaldo> so you go from [TVar a] -> [(result, TVar a)] (sort this one) -> [TVar a] and wrap the whole thing up in an atomically
12:33:47 <LoganCapaldo> I somehow feel like that won't type though
12:34:01 <haskellnew> LoganCapaldo : thanks , i think this will do , let me go and try
12:35:12 <LoganCapaldo> yeah your still gonna have problems, because result is gonna have to be in STM
12:35:28 <LoganCapaldo> unless
12:35:32 <LoganCapaldo> @hoogle sortM
12:35:32 <lambdabot> No matches found
12:36:30 <LoganCapaldo> hmm maybe not
12:37:51 <Jaak> xs' <- mapM readTVar xs; sequence_ $ zipWith writeTVar xs' xs ?
12:38:11 <Jaak> oh, (sort xs) not xs
12:38:30 <LoganCapaldo> Jaak that's an interesting approach
12:38:57 <LoganCapaldo> not caring about the identity of the TVar, just the ordering of their values
12:39:08 <LoganCapaldo> That outta work
12:40:15 <LoganCapaldo> at least as long as the creation of the list isn't something like meaningFulThinUsedElseWhere1 <- newTvar; otherMeaningfulThing <- newTvar; [meaningfulThingUsedElseWhere, otherMeaningfulThing]..
12:41:11 <LoganCapaldo> I like it!
12:41:28 <LoganCapaldo> haskellnew: didja see Jaak's method?
12:55:39 <haskellnew> LoganCapaldo : Jaak method works , just tested it  thanks
12:55:47 <haskellnew> jaak : thanks
12:57:08 <Jaak> np
13:05:06 <jfredett> I want to go from IO Integer to just a plain Integer, (trying to generate a simple Random number.) How could I do that?
13:05:16 <opqdonut> jfredett: you can't
13:05:23 <jfredett> oh, :(
13:05:33 <jfredett> so how do I use the random number then?
13:05:37 <roconnor> jfredett: you want to use bind instead
13:05:53 <roconnor> you write a function that operates on an integer
13:05:57 <opqdonut> something like "do x <- random; dosomething x"
13:05:59 <roconnor> say f: Integer -> foo
13:06:17 <jfredett> okay
13:06:27 <roconnor> then ``do x<- myIOinteger; return (f x)
13:06:31 <roconnor> ''
13:06:57 <LoganCapaldo> (or liftM f myIOinteger)
13:07:16 <opqdonut> or myIOinteger >>= return . f
13:07:18 <jfredett> okay, cool
13:07:35 <roconnor> if f returns an IO Foo, then you can just say f x instead of return (f x)
13:07:49 <opqdonut> > random >>= return . (+2)
13:07:50 <lambdabot>   add an instance declaration for (Num (a, g))
13:07:57 <opqdonut> > randomIO >>= return . (+2)
13:07:58 <lambdabot>  <IO Integer>
13:08:01 <opqdonut> ^_^
13:08:04 <jfredett> could I write a function retRand low high, which is Integer -> Integer
13:08:13 <jfredett> but uses the Random Monad inside?
13:08:21 <jfredett> or am I going to run into problems?
13:08:43 <roconnor> nope
13:08:47 <LoganCapaldo> You can write a function that uses random numbers inside that's pure
13:08:52 <jfredett> okay
13:08:59 <LoganCapaldo> the prblem is you'll ge tthe same random numbers everytime
13:09:06 <roconnor> ``monadic functions'' are of the form: Foo -> Bar -> m Baz
13:09:13 <LoganCapaldo> making them not so random
13:09:16 <roconnor> where m is your monad (say IO)
13:09:25 <jfredett> yah... thats a problem... :/
13:10:13 <jfredett> well, I guess this all boils down to whether I -have- to check the second part of the MR test
13:10:26 <jfredett> i think the first part is sufficient, but I'm not sure
13:10:41 <jfredett> and the second part calls for some more randomimity.
13:13:59 <LoganCapaldo> jfredett: If the result of the function is deterministic, you can write f :: (StdGen g) => g -> Integer -> Integer -> Integer or whatever
13:14:06 <LoganCapaldo> and pass in a seed
13:14:15 <jfredett> i see
13:14:32 <LoganCapaldo> I don't know what the MR test is but it sounds like it would be deterministic
13:14:45 <jfredett> its not
13:14:50 <LoganCapaldo> oh ok
13:14:52 <jfredett> technically, the way I'm implementing it
13:14:57 <jfredett> I assume ERH
13:15:06 <jfredett> (extended riemann hypothesis)
13:15:11 <jfredett> which makes MR deterministic
13:15:19 <jfredett> I'm an optimist.. :P
13:16:16 <jfredett> regardless of whether or not ERH is true, the range it defines is convincing enough for me that its prime.regardless.
13:16:33 <jfredett> it seems to work fine without the second test
13:16:50 <jfredett> i haven't seen any other implemetations with it
13:20:49 <jfredett> btw, MR test is the miller rabin primality test
13:21:27 <Excedrin> jfredett: what are you writing?
13:22:17 <jfredett> a implementation of the Miller Rabin Primality test assuming the veracity of the Extended Riemann Hypothesisw
13:22:45 <jfredett> i needed a method faster than the Seive of Erasthones for a problem I was working on involving lists of primes
13:23:39 <Saizan> Atkin?
13:24:44 <jfredett> not even thats fast enough
13:24:50 <jfredett> I toyed with it
13:25:00 <jfredett> MR over a list is n log^2 n
13:25:10 <jfredett> Atkin is a bit slower
13:25:58 <jfredett> that is, MR w/ ERH, the Probabilistic version is a bit faster, but nastier to write in Haskell, IMO
13:26:05 <jfredett> Purity wins out, ayup
13:28:14 <Saizan> heh, you'd need a unsafePerformIO (newStdGen)
13:29:15 <Excedrin> which Atkin implementation did you try?
13:30:08 <jfredett> i downloaded a C version of Atkin, MillerRabin, AKS, and I wrote on of Erasthones, and tried each of them in C, then converted them
13:30:17 <jfredett> god help me if I can find them in this mess of a HD
13:30:19 <Excedrin> primegen?
13:30:24 <Excedrin> the djb one?
13:30:26 <jfredett> yah- that sounds right
13:30:46 <jfredett> The were all on the same site, I don't know if they were by the same author
13:31:00 <Excedrin> I don't need fast prime testing, but it'd be interesting to see anything faster in Haskell
13:31:25 <Excedrin> I really liked the thread about primality testing on haskell-cafe a while back
13:31:36 <jfredett> well, MR isn't too bad, I'm still working on porting AKS
13:31:42 <chessguy> hi gang
13:32:25 <jfredett> however, summing all primes < 1 mill is not going so well...
13:32:42 <jfredett> it takes 1.22 seconds to sum up to 10000
13:32:48 <Saizan> jfredett: is that for project euler?
13:32:56 <jfredett> yah, I'm redoing all the problems I did in Haskell
13:33:02 <jfredett> and saving the code this time
13:33:24 <jfredett> I have some friends who I'm helping learn to program, and I said, "Do PE, do it in Scheme"
13:33:39 <jfredett> and I need to get all the Answers, and I figure I might as well do it in Haskell
13:33:40 <Excedrin> heh, primegen is like 1.7 seconds to count the primes to 1000000000 on my machine
13:35:14 <jfredett> lol, yeh. I'm also running all this in ghci
13:35:23 <jfredett> so i've probably got some overhead.
13:35:58 <Saizan> ghci can be like 300x slower
13:36:15 <LoganCapaldo> is ghci slower than -O3?
13:36:16 <jfredett> yah...
13:36:38 <jfredett> so how do I write main modules? :)
13:36:39 <Saizan> 3? you mean -Onot ?
13:36:57 <Excedrin> http://www.haskell.org/pipermail/haskell-cafe/2007-February/022765.html maybe useful
13:36:59 <lambdabot> Title: [Haskell-cafe] Code and Perf. Data for Prime Finders (was: Genuine Eratosthenes  ..., http://tinyurl.com/2hltv4
13:37:38 <Saizan> module Main(main) where  <imports> main = ... ; <other defs> ...
13:37:57 <Excedrin> this one too: http://www.haskell.org/pipermail/haskell-cafe/2007-February/022777.html
13:37:59 <lambdabot> Title: [Haskell-cafe] Prime finding, http://tinyurl.com/2hbg2z
13:38:49 <Saizan> ghci is a bytecode interpreter, however
13:38:57 <sorear> Saizan: -O3 and -Onot mean approximately the same thing
13:39:12 <sorear> Saizan: -O2 produces vastly better code than either
13:39:42 <SamB_XP> with NASM, -O99999 is actually meaningful...
13:39:57 <jfredett> hmm, does someone have a link to a valid main module I can look at?
13:40:02 <Saizan> sorear: yup, but -O3 is a weird way to say -Onot
13:40:18 <sorear> Saizan: agreed :)
13:40:27 <SamB_XP> module Main where { main = putStrLn "Hi!" }
13:40:36 <jfredett> okay, cool
13:42:43 <jfredett> ... I can't seem to get it to import stuff. :/
13:43:06 <SamB_XP> well, usually you write it more like this...
13:43:06 <jfredett> failed to load interface for 'P10'
13:43:11 <SamB_XP> oh?
13:43:20 <jfredett> its a .lhs
13:43:23 <jfredett> my main is .hs
13:43:28 <jfredett> could that be the problem?
13:43:31 <SamB_XP> try --make
13:43:48 <jfredett> well that more or less worked
13:44:01 <jfredett> i didn't put the show where i needed it
13:44:29 <jfredett> thats better
13:44:29 <jfredett> :)
13:46:19 * bringert goes home
13:46:26 <petekaz> Reading oleg articles makes my head hurt.
13:46:36 <petekaz> I don't know why I punish myself.
13:46:52 <SamB_XP> he should use better fonts
13:46:54 <petekaz> They aren't meant for newbies.
13:47:15 <jfredett> there, that was quick...
13:47:21 <jfredett> half done already
13:47:22 <jfredett> :)
13:49:45 <jfredett> whats the highest optimization level possible? -O2?
13:50:18 <Saizan> yes
13:50:20 <SamB_XP> yup
13:50:22 <jfredett> cool
13:50:36 <SamB_XP> unless you think no optimization (what -O3 gets you) is better ;-)
13:50:43 <jfredett> lol
13:50:46 <Saizan> unless you want to add specific flags
13:50:53 <jfredett> no, -O2 should be enough
13:56:05 <fasta> Is there an assert which has (return ()) as return value?
14:03:22 <goltrpoat> totally not the right channel to ask, but ive been playing with CA in haskell, so i figure it's at least somewhat relevant..  if one wanted to factor polynomials over a field of characteristic 0, where would one look for relevant information?
14:03:44 <goltrpoat> i can somewhat follow cantor-zassenhaus, but that's over finite fields
14:05:24 <SamB_XP> goltrpoat: ... #math?
14:05:30 <sorear> goltrpoat: Which field?
14:05:44 <SamB_XP> mainly because you lost me at "characteristic 0"
14:06:17 <goltrpoat> samb:  asked on efnet last night, not much luck.. i'll try again, figured someone here might know though
14:06:23 <sorear> SamB_XP: characteristic 0  means that no matter how many times you add 1 to 1, you'll never get 0
14:06:23 <jfredett> are you looking for articles on goltrpoat? or just a direction to look in
14:06:38 <SamB_XP> sorear: oh.
14:06:39 <goltrpoat> sorear:  Q, R, C, dunno.
14:06:49 <sorear> > 0 `elem` iterate (+1) (0 :: Integer)
14:06:50 <lambdabot>  True
14:06:57 <sorear> > 0 `elem` iterate (+1) (1 :: Integer)
14:07:03 <lambdabot> Terminated
14:07:03 <olsner_> hmm... -O3 is what the alioth programming language shootout compiles with
14:07:03 <sorear> > 0 `elem` iterate (+1) (1 :: Int)
14:07:09 <lambdabot> Terminated
14:07:14 <sorear> > 0 `elem` iterate (+1) (1 :: Int16)
14:07:15 <lambdabot>  True
14:07:17 <SamB_XP> olsner_: with GHC?
14:07:28 <sorear> olsner_: i'll bet it's -optc-O3
14:07:33 <jfredett> because, given my limited knowledge of field theory in general, I'd say that Field Theory et al would be a good place to start
14:07:54 <goltrpoat> i think people assume integer coefficients, by using substitutions where needed to convert to rational coefficients, and multiplying by lcm
14:08:25 <goltrpoat> jfr:  oh, just general direction, although articles would be great.  i realize this is FT
14:08:28 <sorear> goltrpoat: right.  that works because of i-forgot-what-it's-called
14:08:42 <olsner_> http://shootout.alioth.debian.org/gp4/benchmark.php?test=knucleotide&lang=ghc&id=0
14:08:45 <lambdabot> Title: k-nucleotide Haskell GHC program | Gentoo : Intel&#174; Pentium&#174;&nbsp;4 Com ..., http://tinyurl.com/ysx9az
14:08:57 <sorear> goltrpoat: primitive polynomials (gcd of cooefs == 1) have only primitive factors
14:09:02 <goltrpoat> sorear:  right
14:09:04 <jfredett> right, I'd poke in Jstor for CA Related articles then, you're bound to run into something...
14:09:06 <olsner_>  /usr/local/bin/ghc -O3 -fglasgow-exts  -optc-O3 ...
14:09:15 <fasta> This is what I get when I replace cpp with cpphs:  cpphs: /usr/local/lib/ghc-6.7.20070402/include: openFile: inappropriate type (is a directory)
14:09:32 <sorear> olsner_: the bug is pretty recent, it doesn't affect my older heads.  not sure if it's 6.6
14:10:03 <sorear> goltrpoat: OK.  so you can always reduce polynomials over Q to polynomials over Z
14:10:07 <olsner_> older GHC's had -O3, while newer don't?
14:10:11 <goltrpoat> sorear:  right
14:10:40 <olsner_> I would assume -On to be equivalent to -O2 for all n >= 2, if -O2 is the maximum
14:10:45 <sorear> goltrpoat: the simplest method to handle polynomials over Z is to note that f = gh => forall k. f(k) = g(k) h(k)
14:11:05 <sorear> goltrpoat: So, evaluate the function at a bunch of points, and factor the results
14:11:08 <goltrpoat> sorear:  mathematica's site then says that they factor modulo a prime p using CZ.  sounds great, but which prime? :)  then it says they use hensel lifting and "recombination" to build up factors over Z
14:11:41 <sorear> olsner_: that's the right behavior, but HEAD treats -O3 mostly like -Onot (even to the extent of cancelling previous -O flags)
14:11:49 <goltrpoat> (hensel lifting is currently breaking my head)
14:11:52 <olsner_> ah, okay
14:12:36 <jfredett> whoa, goltrpoat, i think you just broke my brain
14:12:46 * jfredett rubs his cerebral cortes
14:12:54 <jfredett> s/cortes/cortex
14:16:06 <Cheery> when I think of it, I think lazy evaluation of IO should be considered somehow
14:16:42 <Cheery> with help of that, you could set up software that 'plans' adaptively
14:16:49 <Cheery> and is shown like that
14:17:58 <Cheery> ie. building the tree when necessary, the tree unfolding causing evaluation commands
14:20:25 <hpaste>  rictic annotated "GHCi transcript on lambdas" with "(no title)" at http://hpaste.org/124#a1
14:21:27 <slava> anybody have a pre-compiled linux binary of darcs 1.0.9?
14:22:19 <goltrpoat> sorear:  found it, i think.  http://yacas.sourceforge.net/Algochapter3.html makes sense.
14:22:20 <lambdabot> Title: A simple factorization algorithm for univariate polynomials
14:22:36 <Baughn_> slava: Did you try the official site?
14:22:43 <slava> the one there is corrupt
14:23:12 <Baughn_> I very much doubt that. Which one?
14:23:31 <slava> http://evan.martin.googlepages.com/darcs.bz2
14:23:44 <fasta> Anyone with a link to the Bulat tutorial about TH?
14:23:46 <slava> linked to from http://darcs.net/DarcsWiki/CategoryBinaries
14:23:48 <lambdabot> Title: CategoryBinaries - DarcsWiki
14:23:50 <Heffalump> that seems unlikely to be the official site
14:23:58 <slava> so where do i find an 'official' linux binary
14:23:58 <Baughn_> It is, kind of
14:24:03 <slava> i don't want to wait 10 hours to build ghc
14:24:09 <Heffalump> oh, for a static binary
14:24:19 <Baughn_> slava: Your distribution, then?
14:24:38 <slava> i have ghc and all on my mac but my linux box has debian-stable which only ships with darcs 1.0.2
14:24:54 <Baughn_> apt-get -t testing install darcs, or whatnot
14:25:16 <Baughn_> Or you could install a binary version of ghc and compile it yourself
14:26:30 <lispy> debian-stable is still using 1.0.2?
14:26:31 <slava> apt-get -t testing install darcs  wants to upgrade my kernel :(
14:26:52 <slava> and after all, that, its still darcs 1.0.2
14:27:06 <slava> ok, so nobody here is running linux/i386 and has darcs installed?
14:27:15 <lispy> i think you want, apt-get install darcs/testing, but that could be risky because it means you need testing in your sources, and unless you pin things it could cause other packages to want to upgrade
14:27:39 <lispy> slava: sorry, i'm using debian amd64
14:28:11 <slava> does 'darcs pull' run darcs on the remote machine?
14:28:25 <lispy> slava: have you tried downloading just the darcs package (say from the debian website) and using dpkg on just that package?
14:28:32 <slava> yes,it needs a newer libc, etc
14:28:34 <lispy> slava: no, i don't think so
14:28:42 <slava> what about darcs push?
14:28:44 <lispy> slava: but, iirc push does
14:28:47 <slava> ok
14:29:07 <lispy> as i recall, a push requires an apply, which requires darcs to be invoked on the repo
14:29:26 <lispy> a pull on the other hand, should just require read-only access
14:29:40 <Baughn_> A pull works over http, so obviously it doesn't /need/ darcs on the other end
14:29:40 <slava> ok thanks
14:29:43 <slava> i gotta go now
14:29:47 <Baughn_> I find that it's considerably faster via ssh, though
14:32:07 <scsibug> where is the type !Double defined?
14:32:22 <hpaste>  rictic pasted "GHCi transcript on lambdas" at http://hpaste.org/125
14:32:36 <Heffalump> ! is just a strictness annotation on Double
14:32:43 <scsibug> ahh
14:32:54 <scsibug> didn't realize that could show up in a data declaration...thanks
14:35:06 <fasta> How do you use GNU M4 with GHC?
14:35:48 <fasta> I can't stand CPP anymore.
14:36:02 <sorear> fasta: -pgmF ...something...
14:36:17 <fasta> sorear: oh, I got that part
14:36:23 <sorear> fasta: GHC is too good to use standard unix filters, so you'll need to write a wrapper
14:36:55 <fasta> sorear: m4 has an option - that reads from stdin
14:37:06 <fasta> sorear: I don't know whether I need to use that or not
14:37:21 <MarcWeber> fasta: There is also cpphs ...
14:37:25 <fasta> sorear: and I also don't get why I could need to write a "wrapper".
14:37:44 <fasta> MarcWeber: if you explain how to port my existing CPP macros to it, I am all ears.
14:38:03 <MarcWeber> You don't have to port anything. It tries to be compliant.
14:38:09 <fasta> MarcWeber: but I didn't manage to get cpphs working for me, ever.
14:38:19 <MarcWeber> But you can tell it using --layout to keep newlines when using \
14:38:22 <fasta> MarcWeber: "working" being that it did the same as CPP.
14:38:47 <MarcWeber> Then you know more than I do.
14:39:01 <MarcWeber> Where did you have trouble. Can you give an example?
14:39:26 <fasta> This is what I get when I replace cpp with cpphs:  cpphs: /usr/local/lib/ghc-6.7.20070402/include: openFile: inappropriate type (is a directory)
14:39:35 <fasta> MarcWeber: as posted above
14:39:42 <fasta> MarcWeber: that's one problem.
14:39:59 <fasta> MarcWeber: it seems that everytime I use cpphs something else breaks.
14:40:38 <mendips2512001> hi
14:41:05 <dainanaki> can anyone explain to me what exactly the advantage is in defining a lambda function on its own, such as saying 'f = \x -> x * x' rather than just 'f x = x * x' ?
14:42:01 <Heffalump> it's mostly a matter of style
14:42:36 <dainanaki> well which would usually be preferred then?
14:42:53 <Heffalump> in a more complicated example, such as f x = let y = x * x in \z -> y * z, there is potentially different performance characteristics to f x z = let y = x * x in y * z
14:43:05 <Heffalump> I would write the latter unless I had a good reason to write the former.
14:43:31 <Heffalump> there are situations involving polymorphism where it will work where the explicit lambda doesn't (I think)
14:44:56 <dainanaki> okiedoke
14:46:06 <dainanaki> so am i correct in thinking that a partially applied function has something to do with just giving one of the parameters to an explicit lambda?
14:47:44 <shachaf> dainanaki: Yes, except that the lambda doesn't have to be explicit.
14:47:50 <goltrpoat> why different performance characteristics?  extra reduction step after the lambda gets desugared into a let?
14:48:12 <dainanaki> so what does it look like then?
14:48:22 <RyanT5000> what does % normally do?
14:48:39 <RyanT5000> why does a%b%c get lexed as ["a", "%b", "%c"]?
14:48:50 <Heffalump> goltrpoat: if you partially apply f then call the result multiple times, you'll get different behaviour
14:48:56 <Heffalump> (ignoring potential optimisations the compiler might do)
14:49:03 <RyanT5000> (i expected ["a", "%", "b", "%", "c"]
14:49:04 <RyanT5000> )
14:49:51 <mauke> > let a = 1; b = 2 in a%b
14:49:53 <lambdabot>  1%2
14:50:22 <RyanT5000> 1%2?
14:50:22 <Heffalump> it's a constructor
14:50:26 <RyanT5000> oh
14:50:26 <Heffalump> are you talking about inside GHC?
14:50:29 <RyanT5000> yes
14:50:34 <Heffalump> that sounds odd
14:50:40 <Heffalump> @type \a b -> a%b
14:50:42 <lambdabot> forall t t1 t2. (%b::t1) => (t1 -> t2) -> t -> t2
14:50:46 <Heffalump> @type \a b -> a % b
14:50:48 <lambdabot> forall a. (Integral a) => a -> a -> Ratio a
14:51:00 <Heffalump> oh, I see
14:51:03 <RyanT5000> yes
14:51:06 <Heffalump> you could define a constructor called %b
14:51:18 <Heffalump> infix constructors start with %
14:51:28 <Heffalump> so it has to lex that way
14:51:36 <RyanT5000> i see
14:51:45 <RyanT5000> i thought they started with :
14:52:01 <Heffalump> oh. errm.
14:52:07 <RyanT5000> anyway, what's a reasonable name for (flip ($))?
14:52:14 <Heffalump> it's one or the other :-)
14:52:18 <Heffalump> `revap` ?
14:52:25 <sorear> Infix constructors start with :
14:52:28 <RyanT5000> i wanted something very concise :P
14:52:33 <RyanT5000> i.e.: %
14:52:37 <Heffalump> So what starts with %?
14:52:41 <sorear> RyanT5000: You've stumbled on an undocumented feature of GHC
14:52:47 <RyanT5000> nice, lol
14:52:55 <RyanT5000> and that feature is for?
14:53:06 <Heffalump> is that a euphemism for bug, or is it actually useful for something?
14:53:09 <sorear>      o Linear implicit parameters have been scheduled for removal for some time. In 6.6 we've removed them from the user manual, and they may well disappear from the compiler itself in 6.6.1.
14:53:18 <Heffalump> oh, them.
14:53:19 <LoganCapaldo> its for rational's isn't it?
14:53:22 <RyanT5000> woah
14:53:22 <Heffalump> Shame people didn't use them more.
14:53:24 <RyanT5000> what are those?
14:53:33 <LoganCapaldo> nvm
14:53:40 <Heffalump> LoganCapaldo: % is, yes
14:54:01 <sorear> RyanT5000: in the meantime, use -fno-glasgow-exts
14:54:22 <Heffalump> what if he wants glasgow-exts? :-)
14:54:24 <RyanT5000> sorear: i think not
14:54:27 <RyanT5000> i'll just avoid %
14:54:29 <RyanT5000> :)
14:54:32 <RyanT5000> i like glasgow-exts
14:54:40 <RyanT5000> (generally)
14:54:43 <sorear> RyanT5000: Or just put a space after %
14:54:52 <RyanT5000> nah, i'm just going to use # instead :P
14:55:06 <RyanT5000> i was just using it as (flip ($)) anyway
14:55:24 <sorear> RyanT5000: # is also taken with glasgow exts!
14:55:25 <Heffalump> I think # is more usual for that anyway
14:55:27 <RyanT5000> gah
14:55:37 <Heffalump> what for?
14:55:38 <RyanT5000> # is also taken?
14:55:45 <sjanssen> @src Int
14:55:45 <lambdabot> data Int = I# Int#
14:55:47 <sorear> Heffalump: identifier char
14:55:56 <RyanT5000> oh, great
14:55:58 <RyanT5000> :-/
14:56:17 <RyanT5000> how about ..
14:56:44 <sorear> RyanT5000: ? and $ are taken too btw
14:56:53 <Heffalump> sorear: I don't follow "identifier char"
14:57:11 <Heffalump> $ for template haskell. Most annoying, you have to remember to put a space after $.
14:57:13 <sjanssen> how is $ used?
14:57:17 <sorear> Heffalump: what are non-symbolic names made of?
14:57:19 <sjanssen> oh, right
14:57:44 <Heffalump> sorear: oh, right. Why is that in the frontend?
14:58:32 <sjanssen> it has to be part of a lexer to make things like 'Int#' work
14:58:41 <sjanssen> s/a lexer/the lexer
14:59:07 <Heffalump> fair enough
15:00:32 <SamB_XP> Heffalump: I was under the impression that they were implemented badly
15:00:47 <SamB_XP> those linear things
15:01:06 <Heffalump> they seem like a neat idea, and a way to get away from monads for random number generation
15:01:12 <Heffalump> and perhaps name supply
15:01:27 <Heffalump> which is why it seems a shame they weren't used more. But then I didn't use them, so...
15:02:23 <RyanT5000> sorear: is there a problem with using ".."?
15:03:12 <fasta> Does TH run completely at compile-time?
15:03:21 <RyanT5000> fasta: i think that's the point
15:03:24 <SamB_XP> fasta: yeah...
15:03:38 <SamB_XP> I mean, it doesn't splice code into modules at runtime ;-)
15:03:40 <RyanT5000> i'm not sure if it has some kind of runtime presence
15:03:56 <RyanT5000> but it's certainly not doing anything obvious (to me) at runtime
15:04:05 <SamB_XP> in order for code to get spliced into a module, you *must* be *compiling* that module
15:04:07 <Heffalump> I'm fairly sure it has no runtime presence.
15:04:15 <SamB_XP> (possibly to bytecode)
15:04:33 <SamB_XP> Heffalump: possibly some of it gets linked in
15:04:59 <SamB_XP> especially if you use it for anything besides splicing code into modules
15:05:20 <fasta> Template Haskell relies on GHC's built-in bytecode compiler and interpreter to run the splice expressions. The bytecode interpreter runs the compiled expression on top of the same runtime on which GHC itself is running; this means that the compiled code referred to by the interpreted expression must be compatible with this runtime, and in particular this means that object code that is compiled for profiling cannot be
15:05:21 <fasta>  loaded and used by a splice expression, because profiled object code is only compatible with the profiling version of the runtime.
15:05:21 <fasta>  
15:05:21 <fasta>  
15:05:59 <RyanT5000> interesting
15:06:17 <SamB_XP> hmm, one of these days someone is going to want to profile their template-haskell macrocode
15:06:32 <RyanT5000> you can
15:06:55 <RyanT5000> you have to compile all the modules on which the splices depend as both profiled and unprofiled
15:07:20 <RyanT5000> (in practice, the appropriate switches will generate profiled and unprofiled code for everything in the whole project)
15:07:21 <SamB_XP> I mean, the code inside $()
15:07:34 <RyanT5000> oh
15:07:42 <RyanT5000> you mean to improve compilation times?
15:07:46 <SamB_XP> yeah
15:07:49 <RyanT5000> couldn't you just use a profiling build of ghc?
15:07:57 <SamB_XP> well, "just", yeah
15:08:04 <RyanT5000> well
15:08:17 <RyanT5000> i guess it isn't "just" :P
15:08:41 <RyanT5000> maybe ghc_prof should start to be included whenever TH is
15:08:50 <RyanT5000> the ghc installation is already enormous :P
15:09:07 <SamB_XP> it should be an additional package...
15:09:18 <RyanT5000> yeah
15:09:21 <RyanT5000> that's true
15:09:47 <Heffalump> in principle, yes, but it doesn't seem like it would be enough in demand to really warrant that
15:10:26 <SamB_XP> Heffalump: distributions are that hard up for CPU time?
15:10:40 <sm> darn.. still getting GLUT link errors
15:10:51 <RyanT5000> ewwwww GLUT
15:11:06 <sm> I haven't had this problem with other packages
15:11:07 <RyanT5000> you should try SDL :)
15:11:14 <sm> thx, I have that too
15:11:28 <sm> there are a lot of examples for GLUT
15:11:52 <Heffalump> SamB_XP: distributor time, too
15:12:01 <Heffalump> they have to wait while stuff happens, especially when things go wrong
15:12:02 <RyanT5000> GLUT is based pretty heavily on global state, iirc
15:12:14 <SamB_XP> Heffalump: well I did say one of these days ;-)
15:12:29 <RyanT5000> i don't remember having any linking problems with it, though
15:13:24 <sm> it's strange.. ghc 6.6, with either GLUT 2.0 from hackage or latest from darcs
15:14:11 <sm> I ghc --make something that imports glut, and get a bunch of link errors like: undefined reference to `glutMainLoop'
15:14:33 <RyanT5000> oh
15:14:35 <sm> maybe I need to hide glut 2.0
15:14:40 <RyanT5000> is it a C linkage error?
15:15:07 <SamB_XP> er, do you actually have *glut*?:
15:15:26 <RyanT5000> yeah, that's what i was trying to ask :P
15:15:37 <RyanT5000> (poorly)
15:15:45 <sm> good idea.. I rely too much on the configure
15:16:05 <fasta> If an option is specified on the command line and in a OPTIONS_GHC list, which one is used?
15:16:22 <sm> oh, I did check this last night.. I have freeglut3 and freeglut3-dev packages
15:16:28 <sm> so I think yes
15:16:59 <SamB_XP> what .so do they provide?
15:17:26 <sm> but configure says:
15:17:26 <sm> checking for GL/glut.h... yes
15:17:26 <sm> checking for GLUT library... no
15:17:37 <sm> that sounds wrong
15:18:12 <SamB_XP> indeed
15:18:28 <RyanT5000> i think freeglut and glut are not necessarily 100% the same, btw
15:18:35 <SamB_XP> dpkg-query -L freeglut3-dev
15:19:01 <sm> I am guessing the same
15:20:10 <goltrpoat> freeglut has some freeglut-specific extensions
15:20:18 <goltrpoat> and probably vice versa
15:20:56 <sm> well I've now installed libglut3(-dev) as well.. but configure still says GLUT library... no
15:21:05 * sm tries uninstalling freeglut
15:22:18 <sm> aiee.. can't do that
15:27:13 <sm> dangit.. something wrong with this configure
15:29:30 <sm> ah, here's details in configure.log
15:30:40 <sm> it's trying -lglut32 instead of just -lglut
15:32:07 <fasta_> How do I tell ghci to look for binaries in ~/bin ?
15:34:37 <dmwit> PATH=$PATH:~/bin ghci
15:34:40 <dmwit> maybe?
15:34:41 <sorear> erm, why?
15:34:51 <sorear> ghci shouldn't be looking for binaries
15:35:04 <TomMD> That was my reaction
15:35:41 <fasta_> sorear: because it cannot find my cpphs in ~/bin
15:35:50 * sm makes it work by adding -lglut to config.mk
15:35:54 <olsner_> @pl (\f g x -> f . g x)
15:35:54 <lambdabot> (.) . (.)
15:35:54 <sm> victory!
15:36:04 <fasta_> sorear: ghc-6.6.1: could not execute: cpphs
15:36:14 <fasta_> sorear: that's how I interpret ^^.
15:36:23 <olsner_> hmm, so mapMaybe = catMaybes `(.).(.)` map then?
15:36:51 <ari> I don't think you can do `(.).(.)`
15:37:03 <olsner_> takes only names, eh
15:37:41 <fasta_> dmwit: I already have that in my path.
15:37:46 <olsner_> @pl (\x -> f . g x)
15:37:46 <lambdabot> (f .) . g
15:39:04 <fasta_> It depends on whether I first cd to some other directory and then call emacs and then Haskell mode.
15:39:13 <fasta_> That's _way_ to fragile.
15:39:16 <fasta_> too*
15:39:19 <dmwit> ??
15:39:30 <dmwit> Is this in GHCi from an emacs mode, then?
15:39:58 <fasta_> dmwit: yes, but it only depends on the cd'ing.
15:40:01 <RyanT5000> is anyone here near boston for the 8th through the 10th of this month?
15:40:25 <dmhouse> fasta_: if ~/bin is in your $PATH it shouldn't matter what Emacs's working directory is...
15:41:09 <fasta_> dmhouse: well, apparently it does....
15:41:10 <dmwit> Maybe try replacing ~/bin with the actual directory name.  (i.e. expand ~)
15:41:21 <fasta_> I think I will just relogin.
15:43:10 <fasta> Same issue.
15:48:02 <fasta> I don't understand: my shell can find it perfectly. ghc just can't. When I specify the full path it does work, but I don't want to do that.
15:49:54 <fasta> Ok, I think I understand.
15:52:41 <Jaggederest_> might it be running as a different user? then ~ expands oddly
15:55:18 <fasta> No, I don't understand it.
15:55:23 <fasta> Jaggederest_: no
15:56:33 <fasta> It could be that the crazy Gnome system doesn't work.
15:56:56 <fasta> Maybe I should switch to xmonad ;)
15:57:48 <dmwit> heh
15:58:03 <dmwit> Having your window manager change the behavior of ghc would be a first. =)
15:58:48 <fasta> dmwit: no, it seems that Gnome doesn't take into account .zshrc (which isn't that weird)
15:59:14 <dmwit> Right, but xmonad wouldn't change that.
15:59:23 <fasta> So, I need a way to start my script that starts Emacs via zsh via a Gnome launcher.
16:00:03 <dmwit> ah
16:00:12 <fasta> My script starts with #!/bin/zsh, but I guess that doesn't read .zshrc by default.
16:00:25 <dmwit> And Gnome's launcher doesn't support "VAR=value command" syntax, does it.
16:00:41 <LoganCapaldo> fasta: you could add source ~/.zshrc
16:00:47 <LoganCapaldo> to the script
16:01:00 <LoganCapaldo> for the ultimate in sad hackery
16:01:01 <fasta> Then,  if  the  shell  is  interactive,  commands are read from /etc/zshrc and then $ZDOTDIR/.zshrc.
16:01:12 <fasta> Ok, that if is false.
16:01:39 <fasta> -i     Force shell to be interactive.
16:01:43 <fasta> Thanks manual
16:01:44 <MarcWeber> fasta: Did you suceed?
16:01:57 <fasta> MarcWeber: cpphs can run now and seems to solve my problem
16:02:17 <fasta> MarcWeber: I haven't been able to do a full test, yet.
16:02:26 <MarcWeber> Fine.
16:03:35 <fasta> MarcWeber: It seems cpphs introduces an odd bug.
16:03:53 <fasta> MarcWeber: ghc claims now it cannot find (!), while it's clearly defined.
16:04:03 <fasta> MarcWeber: do you have any idea why that would happen?
16:04:12 <luqui> I'd like some help solving a threading problem.
16:04:26 <fasta> Ok, -i works :)
16:04:55 <MarcWeber> fasta No. But when you have the command line call (using ghc -v) you can execute cpphs manually and look at the output. Then you know what has gone wronge
16:05:13 <luqui> I have one thread for each socket connection I have open
16:05:21 <MarcWeber> ;)
16:05:22 <luqui> and I want to send a notification to all sockets at some point
16:05:32 <luqui> but these threads are usually blocking on IO to come in from the socket
16:05:57 <luqui> I think that the thread that "owns" the socket should be the one to send the data
16:06:05 <luqui> but that may be false paranoia
16:06:19 <luqui> should I throw an exception in each thread to stop it from blocking
16:06:33 <luqui> or should I send data to the sockets from a different thread?
16:07:26 <luqui> I have a pretty high weight on raising exceptions in other threads.  Is that standard practice, or something I should consider a hack.
16:07:28 <luqui> ?
16:09:10 <dmwit> luqui: Maybe use a short timeout?
16:09:23 <dmwit> I don't really know, I've never done any socket programming.
16:09:52 <LoganCapaldo> luqui: in my toy "chat" program I had the "main"thread write to the sockets
16:09:54 <luqui> me either :-)
16:09:58 <LoganCapaldo> but it was a toy
16:10:11 <LoganCapaldo> So I dunno if that was smart or dumb :)
16:10:26 <luqui> hmm, you make a good point.  this is a toy, too
16:10:33 <luqui> in a way
16:11:23 <MarcWeber> dmwit: Can you write the handles after calling accept into some kind of MVar and use it from two different threads? (one to write and one to listen ? )
16:11:38 <MarcWeber> s/dmwit/luqui
16:11:42 <fasta> MarcWeber: shouldn't cpphs --cpp <name of file> also work?
16:12:13 <LoganCapaldo> luqui: see this is what I did: http://hpaste.org/74
16:12:13 <MarcWeber> fasta. Don't know. You want to now what is going wrong so you should use exactly the same arguments...
16:12:46 <MarcWeber> fasta: Where is your problem using ghc -v  and grepping that command line?
16:13:25 <fasta> MarcWeber: There is no such problem.
16:14:24 <luqui> hmm interesting, LoganCapaldo
16:15:15 <luqui> yeah, I think that will work fine
16:15:54 <fasta> MarcWeber: I did now and I see that cpphs doesn't delete the ! operation. It's still in its output.
16:16:24 * fasta doesn't like programs with seemingly arbitrary behaviour.
16:17:38 <fasta> When I define !!! instead of ! it works ?
16:18:55 <fasta> Howly cows..
16:19:17 <fasta> It appears that in my version of ghc: a ! b = 1 is an invalid program.
16:19:28 <int-e> bang-patterns?
16:19:31 <fasta> Well, at least when you try to export (!)
16:19:35 <fasta> int-e: yes
16:19:51 <int-e> @src (!)
16:19:51 <lambdabot> arr@(Array l u _) ! i = unsafeAt arr (index (l,u) i)
16:20:35 <fasta> int-e: so why isn't only !x interpreted as a bang-pattern?
16:20:56 <fasta> int-e: That must be it, though. Thanks
16:21:42 <fasta> Doing infrastructure on your project is one of the most boring things in the world.
16:21:55 <fasta> Important, but boring.
16:22:32 <int-e> > let bangpatterns = let (!) _ _ = True in let a ! _ = False in 0 ! 0 in bangpatterns
16:22:33 <lambdabot>  False
16:23:11 <int-e> nice pitfall though.
16:23:12 <fasta> int-e: do you happen to know whether OPTIONS_GHC options are used before options on the command line?
16:23:51 <int-e> no, I don't.
16:24:49 <int-e> "NOTE: the contents of OPTIONS_GHC are prepended to the command-line options, so you do have the ability to override OPTIONS_GHC settings via the command line."
16:25:23 <luqui> is there a nice module I can use for a config file?
16:25:34 <fasta> int-e: ok, I couldn't find that.
16:25:36 <fasta> int-e: thanks
16:26:08 <ajudem_me> Hello!
16:26:17 <ajudem_me> please, I need help desperatly
16:26:25 * LoganCapaldo seconds luqu's question
16:26:32 <sorear> ajudem_me: Sorry.
16:26:39 <ajudem_me> There is happening an error all the time:
16:26:44 <sorear> ajudem_me: We aren't psychic
16:26:46 <ajudem_me> Last generator in do {...} must be an expression
16:26:53 <ajudem_me> what does this mean?
16:26:55 <sorear> ajudem_me: fix your indentation
16:27:14 <ajudem_me> with spaces or tabs?
16:27:15 <lispy> Last generator?
16:27:21 <lispy> what compiler do you use?
16:27:21 <sorear> main = do x <- foo
16:27:26 <ajudem_me> hugs
16:27:36 <mauke> the last thing in a do block must be an expression
16:27:38 <ajudem_me> I'm new at haskell
16:27:39 <sorear> ajudem_me: Doens't matter, as long as your tabs are set to 8 spaces
16:27:49 <kpreid> ajudem_me: the things that can occur in a 'do' block are "a <- b" and "b"; the first is not an expression and the second is. ghc thinks you have a do block which ends with an "a <- b"
16:27:54 <kpreid> er, hugs thinks ...
16:27:56 <sorear> ajudem_me: if they are set differently, expect a LOT of pain
16:28:01 <ajudem_me> hmm... it happens in a let expression
16:28:08 <lispy> ajudem_me: this error happens to me when the last line of my do expression has no effect..like a let statement
16:28:22 <sorear> ajudem_me: the lines in a do expression need to be lined up exactly
16:28:24 <ajudem_me> from the beggining
16:28:36 <kpreid> ajudem_me: "let a = b" also can't be the last thing in a do block
16:28:44 <ajudem_me> the "in" must be 8 lines in front of the "let" or at the same row?
16:28:46 <sorear> ajudem_me: haskell won't 'just know', even if it's only 1 space crooked
16:28:46 <lispy> main = do let x = 3 -- this won't compile
16:28:54 <sorear> ajudem_me:
16:28:56 <sorear> @paste
16:28:56 <lambdabot> Haskell pastebin: http://hpaste.org/new
16:28:58 <kpreid> ajudem_me: doesn't matter
16:29:04 <lispy> ajudem_me: when you use let with do blocks you don't use 'in'
16:29:21 <ajudem_me> hmmm... what is an let with do blocks?
16:29:29 <int-e> > do a <- return 1
16:29:30 <lambdabot>  Parse error
16:29:33 <lispy> do let a = b; return a
16:29:37 <kpreid> lispy: sure you do: do { let x = 1 in return (x + 1) }
16:29:42 <kpreid> :-)
16:29:49 <ajudem_me> nop...
16:29:50 <ajudem_me> w8
16:29:51 <lispy> kpreid: huh, i've never seen it
16:29:52 <sorear> ajudem_me: Show us the code, - go to the url http://hpaste.org/new
16:30:00 <kpreid> lispy: just an ordinary let expression
16:30:25 <ajudem_me>         let ((x,y), _, paredes , (x2,y2,z2)) = guarda_mundo contents
16:30:25 <lispy> kpreid: i was under the impression that in do notation the 'in' was simply not allowed since eveywhere i see it, it is omited
16:30:25 <ajudem_me>         	cenas = paredes!!1
16:30:25 <ajudem_me>         	(b1,b2,b3) = cenas
16:30:25 <ajudem_me>         	in putStrLn("stuff")
16:30:53 <sorear> ajudem_me: it needs to be lined up
16:31:03 <luqui> LoganCapaldo, the best I can find is here, haven't tried it yet: http://svn.openfoundry.org/pugs/third-party/HsSyck/Data/Yaml/Syck.hsc
16:31:03 <mauke> sorear: it's a let .. in
16:31:05 <lambdabot> http://tinyurl.com/2djzex
16:31:12 <sorear> mauke: Oh.
16:31:14 <mauke> and I think it shouldn't be
16:31:22 <sorear> ajudem_me: NM then.
16:31:51 <LoganCapaldo> luqui: neat
16:31:51 <int-e> ajudem_me: use the paste page next time please. but that contained tabs, and the 'cenas' doesn't align with the '((x,y)...' in the line above. the 'c' should be directly under the '('.
16:32:14 <sorear> ajudem_me: Check your editor settings - are tabs correctly set to 8 spaces?
16:32:35 <kpreid> lispy: it means something different
16:32:54 <sorear> ajudem_me: haskell assumes 8 space tabs, and inconsistency here will cause problems
16:33:04 <ajudem_me> (what's the paste page?? I don't come to IRC in years..)
16:33:10 <lispy> better yet, just don't use tabs with haskell source
16:33:15 <LoganCapaldo> @paste
16:33:15 <lambdabot> Haskell pastebin: http://hpaste.org/new
16:33:22 <ajudem_me> ok... w8
16:33:24 <sorear> 16:27 < sorear> @paste
16:33:24 <sorear> 16:27 < lambdabot> Haskell pastebin: http://hpaste.org/new
16:33:33 <kpreid> lispy: "let x = 1" puts x in scope for the later 'generators'; "let x = 1 in x" doesn't because it's just another expression
16:33:34 <mauke> <sorear> ajudem_me: Show us the code, - go to the url http://hpaste.org/new
16:33:40 <LoganCapaldo> I have a time machine :)
16:33:41 <ajudem_me> @paste
16:33:41 <lambdabot> Haskell pastebin: http://hpaste.org/new
16:33:43 <ajudem_me> @paste         putStrLn ("A abrir o mundo:" ++ mundo_exemplo ++ "\n")
16:33:43 <lambdabot> Haskell pastebin: http://hpaste.org/new
16:33:43 <ajudem_me>         fileHandle <- getAFile mundo_exemplo ReadMode
16:33:43 <ajudem_me>         contents <- hGetContents fileHandle
16:33:43 <ajudem_me>         putStrLn contents
16:33:43 <ajudem_me>         let ((x,y), _, paredes , (x2,y2,z2)) = guarda_mundo contents
16:33:43 <ajudem_me>                 cenas = paredes!!1
16:33:45 <ajudem_me>                 (b1,b2,b3) = cenas
16:33:47 <ajudem_me>                 in putStrLn("stuff")
16:33:49 <ajudem_me>         return()	
16:33:50 <LoganCapaldo> omg
16:33:52 <int-e> ajudem_me: go to that page in a browser
16:33:56 <mauke> blargh
16:33:57 <mauke> kick plz
16:34:36 <lispy> kpreid: oh, hrm
16:34:41 <hpaste>  (anonymous) pasted "(no title)" at http://hpaste.org/126
16:34:51 <ajudem_me> http://hpaste.org/126
16:34:55 <lispy> kpreid: why does hugs call them generators?
16:35:22 <sorear> ajudem_me: The definitions inside the let need to be lined up.
16:35:41 <ajudem_me> aren't they??
16:35:47 <sorear> ajudem_me: you have the "cenas..." one indented further than the "((x,y..." one
16:35:50 <ajudem_me> I've done 16 spaces lines...
16:35:53 <ajudem_me> w8
16:36:59 <ajudem_me> I'm sorry.. but it's lined...
16:37:20 <kpreid> ajudem_me: ((x,y) ... needs to be aligned with cenas ... and it isn't
16:37:21 <lispy> when i look at the website i can see that it's not lined up
16:37:35 <ajudem_me> (and do you say that there is no need to use in??)
16:37:50 <sorear>         let ((x,y), _, paredes , (x2,y2,z2)) = guarda_mundo contents
16:37:50 <sorear>                 cenas = paredes!!1
16:38:16 <sorear> ajudem_me: see  the first two defs in the let aren't lined up?
16:38:17 <hpaste>  int-e annotated "(no title)" with "should be lined up, for example like this" at http://hpaste.org/126#a1
16:38:56 <ajudem_me> OHHHHHHH!!!!
16:39:01 <ajudem_me> thanks!!!!! =)
16:39:03 <int-e> (note that the 'in putStrLn ("stuff")' is not actually a mistake.
16:39:16 <int-e> but it's unusual in a do block.
16:40:32 <ajudem_me> hmmm.. why do you call it an "do block" ?
16:40:59 <sorear> it's a block of text and it starts with "do" :)
16:41:28 <int-e> yep. and it suggests an imperative style which is usually full of blocks :)
16:42:50 <LoganCapaldo> not to be confused with a dew block, which is an ice cube constructed from morning dew
16:43:35 <ajudem_me> w8... but the "do blocks" in imperative languages mean that the code is repeated... the "let" is only executed once
16:43:49 <mauke> ajudem_me: no, they don't
16:44:04 <mauke> consider do { print "hello, "; print "world\n"; } in Perl
16:44:23 <ajudem_me> ohhh... blocks!
16:44:33 <ajudem_me> sorry, I was confusing with loops
16:44:54 <ajudem_me> hmmm.. have you ever heard of karel?
16:44:59 <int-e> ajudem_me: you can write stuff like   replicateM 5 $ do { ... }  and have the do block repeated 5 times.
16:45:14 <mauke> > do { x <- [0 .. 4]; return (x * 2); }  -- loop?
16:45:15 <lambdabot>  [0,2,4,6,8]
16:45:20 <int-e> ajudem_me: (although right now that probably confuses you more than it helps)
16:46:40 <int-e> @quote 16
16:46:40 <lambdabot> Excedrin says: 66016 lines of C is only 2200 lines of Haskell, just rewrite it
16:47:21 <ajudem_me> yes... I know... ;)
16:47:35 <ajudem_me> I was confortable with prolog... this haskell is killing me!
16:47:51 <byorgey> ajudem_me: you mean the little robot that goes around picking up beepers?
16:47:54 <dibblego> ?type replicateM
16:47:56 <lambdabot> forall (m :: * -> *) a. (Monad m) => Int -> m a -> m [a]
16:47:58 <int-e> haskell is mind-bending. I love it :)
16:48:14 <byorgey> ajudem_me: just stick with it, it's worth it!
16:49:25 <ajudem_me> byorgey yes... the robot!
16:49:48 <byorgey> ajudem_me: heh, I remember Karel =)
16:50:01 <ajudem_me> byorgey do you know any Haskell implementation?
16:50:18 <Cale> That's a good idea actually :)
16:50:23 <byorgey> ajudem_me: no, I don't... hmm, maybe I'll write one!
16:50:50 <Cale> Does anyone know offhand if the new gadt features are in GHC 6.6.1, or if they're only in HEAD?
16:51:16 <int-e> something got fixed in head
16:51:19 <Cale> (e.g. typeclass dictionaries getting packed into data structures)
16:51:19 <byorgey> ajudem_me: For a while I've had the idea to create a parallelized version of Karel... but never got around to it since learning to use javacc was a pain =P
16:51:36 <int-e> yes, I think that's only in head.
16:51:45 <Cale> hmm, all right
16:51:57 <ajudem_me> well... I've got to go... thanks again!
16:51:58 <ajudem_me> cya~
16:58:06 <jfredett> why does random number generation have to be so convoluted? :/
16:58:16 <mauke> @hoogle randomIO
16:58:17 <lambdabot> Random.randomIO :: Random a => IO a
16:58:23 <mauke> nice and simple
16:59:03 <jfredett> Not for me...
16:59:11 <jfredett> I'm no good at monads... :/
16:59:21 <mauke> monads? it's just IO
16:59:39 <byorgey> jfredett: well then don't blame it on random number generation =)
17:00:00 <jfredett> byorgey, okay, mea culpa, why to Monads have to be so confusing :/
17:00:08 <jfredett> s/do/to
17:00:11 <byorgey> jfredett: ah. now you're talking!
17:00:14 <jfredett> lol
17:00:29 <byorgey> jfredett: did you see that code I pasted a few days ago?
17:00:53 <jfredett> its just tough- all I want is a simple Integer -> Integer -> Integer random number over a range
17:01:00 <jfredett> i dont want a Random Integer as output
17:01:07 <jfredett> I want an Integer as output
17:01:23 <byorgey> jfredett: but any function of that type has to be referentially transparent
17:01:26 <jfredett> I don't want IO Integer, I don't want to get the same thing every time I call it... :/
17:01:32 <byorgey> jfredett: as in, it has to give the same output every time you call it
17:01:53 <jfredett> I know-- I'm just whining because i actually have to think about how to do these things
17:02:06 <Korollary> There are many excellent monad tutorials
17:02:27 <jfredett> I take RNG for granted in all my other languages, they just do it for me
17:03:15 <mauke> well, the RNG has to modify a global variable
17:03:25 <jfredett> yah- I know... :/
17:03:59 <shachaf> jfredett: What are you trying to use this for?
17:04:02 <jfredett> its the trade off of pure functional code and all its benefits (like awesomeness
17:04:02 <jfredett> )
17:04:02 <jfredett> and easy random number generation..
17:04:08 <jfredett> Miller Rabin Primality test
17:04:10 <sorear> @type randomRs (0, 99) (mkStdGen 42)
17:04:16 <lambdabot> forall t. (Num t, Random t) => [t]
17:04:24 * byorgey pats jfredett's shoulder in a sympathetic way
17:04:28 <sorear> @type randomRs (0 :: Int, 99) (mkStdGen 42)
17:04:30 <lambdabot> [Int]
17:04:32 <sorear> > randomRs (0 :: Int, 99) (mkStdGen 42)
17:04:34 <lambdabot>  [71,71,17,14,16,91,18,71,58,75,65,79,76,18,4,45,87,51,93,36,66,4,32,94,36,14...
17:04:38 <sorear> there, random numbers
17:05:01 <sorear> no monads required
17:05:10 <jfredett> right, but the question is, how do I package that in such a way that I can say in my function "s + (random <somegenerator>)
17:05:18 <jfredett> and have it not yell at me for type errors
17:05:38 <LoganCapaldo> > let xkcd = const [3,3..] in xkcd
17:05:39 <lambdabot>  Add a type signature
17:05:42 <kpreid> well, unless you define a monadic number.
17:05:44 <kpreid> you can never do that
17:06:03 <sorear> LoganCapaldo: it's 4 you moron! :)
17:06:06 <shachaf> jfredett: Do you have the rest of your function working? Can you paste it?
17:06:24 <LoganCapaldo> sorear: oops
17:06:32 <jfredett> shachaf, actually, yah, I have it all working except for one part, the part that needs Random numbers
17:06:35 <luqui> is hPutStrLn reentrant?
17:06:36 <jfredett> hang on, I'll post
17:07:47 <byorgey> > let xkcd = zipWith (^) (repeat 1) [0..] in xkcd
17:07:49 <lambdabot>  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1...
17:07:58 <hpaste>  jfredett pasted "Miller Rabin Primality -- Random Numbers." at http://hpaste.org/127
17:08:36 <jfredett> ignore the part about "changed to a map later" that was just a note I left to myself.
17:08:55 <jfredett> the problem is in the isMR function
17:09:11 <jfredett> the where .... r = s blah blah-
17:09:21 <jfredett> r is supposed to be a random number less than s
17:09:29 <jfredett> and greater than one
17:09:35 <jfredett> i dont know why the div is there,
17:10:12 <jfredett> alright, brb, gotta clean the glasses.. :/
17:11:18 <stick_figure> noob question: how do I cast a number to a string?  I'm trying to write an egregiously simple hello world type program that recurses and prints numbers and strings.
17:11:23 <sorear> read
17:11:27 <sorear> > read "234"
17:11:29 <lambdabot>  234
17:11:39 <LoganCapaldo> > show 234
17:11:41 <lambdabot>  "234"
17:11:41 <sorear> you might need to give a more spei.
17:11:47 <sorear> oh yeah :)
17:12:13 <mjk> i want to learn haskell, but my english is poor, have a chinese haskell tutor
17:12:37 <stick_figure> so read takes a string and interprets it as if it were a constant in Haskell source?
17:12:46 <sorear> stick_figure: Yes.
17:12:55 <stick_figure> thanks
17:13:10 <mjk> and have haskell news group in chinese?
17:13:17 <jfredett> mjk, I don't know of any, but you might take a search of haskell.org, i'd bet thats the best place to find one
17:13:20 <sorear> stick_figure: Actually it has its own much more limited parser, so it uses the same syntax but doesn't understand some constructs
17:13:23 <sorear> fex
17:13:27 <sorear> > read "2 + 2"
17:13:27 <byorgey> jfredett: I don't see any way around it, since isMR should sometimes return false and sometimes true for the same inputs, it has to live in the IO monad
17:13:28 <lambdabot>  Exception: Prelude.read: no parse
17:13:50 <jfredett> byorgey, damn-- that sucks.
17:14:02 <jfredett> but-- there must be a way around it
17:14:06 <byorgey> mjk: I'm not aware of any
17:14:09 <jfredett> i refuse to believe that theres no way to do it
17:14:32 <byorgey> jfredett: I suppose there is but it probably involves something like unsafePerformIO =P
17:14:56 <mjk> i can't find any tutor in chinese on haskell.org
17:15:04 <jfredett> mjk, worst case, you'll get to pick up two languages at once... I, though limited in my Haskellian knowledge, am happy to help as best I can, as well as the others here.
17:15:09 <byorgey> jfredett: what's so bad about it?  think of it as a golden opportunity to become more comfortable with the IO monad
17:15:13 <LoganCapaldo> and that way lies evil
17:15:42 <byorgey> LoganCapaldo: and other nasty things
17:15:47 <jfredett> mjk: which dialect of chinese do you speak? So I can help you search a bit
17:15:52 <mjk> and other chinese haskell tutor is very simple on internet
17:15:57 <jfredett> it'll give me something to do other than pull my hair out
17:17:05 <jfredett> byorgey, ... Monads... they're going to be the death of me
17:17:33 <Botje> jfredett: monads are a lot simpler than most tutorials make them out to be, really.
17:17:35 <mjk> standard chinese ,putonghua
17:17:53 * byorgey sings: these Monads are gonna be the death of me, Lor' Lor', Monads gonna be the death of me...
17:17:54 <ndm> @seen lambdabot
17:17:54 <lambdabot> Yes, I'm here. I'm in #rwh, #happs, #friendly-coders, #dreamlinux-es, #xmonad, #unicycling, #perl6, #parrot, #oasis, #jtiger, #haskell-soc, #haskell-overflow, #haskell-blah, #haskell, #ghc, #gentoo-
17:17:54 <lambdabot> uy, #gentoo-haskell, #darcs and #scannedinavian
17:17:59 <jfredett> mjk, okay, putonghua, gotcha.
17:18:09 <ndm> hmm, thats lacking all the language specific IRC channels
17:18:16 <ndm> @where hcar
17:18:16 <lambdabot> http://www.haskell.org/communities/
17:18:38 <jfredett> Botje, I'm sure they aren't difficult
17:18:43 <shachaf> jfredett: You could use State for this, maybe.
17:18:49 <LoganCapaldo> Monads will be the death required for rebirth :)
17:18:50 <jfredett> but it's just grokking my head around it
17:18:54 <ndm> 11 language specific IRC channels, and none on chinese
17:19:01 <jfredett> that sucks
17:19:18 <jfredett> Its unfortunate I don't speak chinese, hell, I hardly speak english-
17:20:00 <ndm> mjk: your english doesn't seem that bad, if you find a tutorial that focus on code rather than explanations you will probably be fine
17:20:08 <jfredett> I'm sorry I can't help you, mjk- but it appears that searching for anything containing the word "chinese" in google results in solely chinese language results.
17:20:27 <mjk> thanks
17:20:50 <jfredett> mjk I'll keep an eye out for them and try to get them posted somewhere-
17:21:31 <jfredett> maybe what I should do is just write some sort of external library for it-- :/
17:21:35 <jfredett> MR that is
17:21:44 <jfredett> all the nasty random number crap
17:21:51 <mjk> i have learned the basics of haskell, but i can't understand Monad
17:22:00 <jfredett> mjk, join the club
17:22:06 <mjk> so i want to learn Monad
17:22:20 <mjk> how to join the club
17:22:36 <jfredett> its an expression, it means I want to learn about Monads too
17:22:50 <jfredett> but am having trouble understanding them
17:23:57 <jfredett> bah-- sillyness.
17:24:10 <jfredett> off to learn Silly randomIO stuff
17:24:48 <jfredett> is it a true statement to say than anything non-trivial in haskell requires the use of obscure monads?
17:25:07 <jfredett> well- rephrase
17:25:11 <jfredett> monads, period
17:25:13 <jcreigh> not obscure ones
17:25:17 <olsner_> for some values of non-trivial and obscure, yes ;-)
17:25:52 <hpaste>  (anonymous) annotated "Miller Rabin Primality -- Random Numbers." with "Does this work?" at http://hpaste.org/127#a1
17:28:20 <augustss> You never need monads, but the make some things easier.
17:28:53 <jfredett> whoever posted that, control.monad.state doesn't seem to import
17:29:44 <byorgey> @index State
17:29:44 <lambdabot> Control.Monad.State, Control.Monad.RWS, Control.Monad.State, Control.Monad.RWS, Test.HUnit.Base, Test.HUnit, Test.HUnit.Base, Test.HUnit, Text.ParserCombinators.Parsec.Prim, Text.ParserCombinators.
17:29:44 <lambdabot> Parsec, Text.ParserCombinators.Parsec.Prim, Text.ParserCombinators.Parsec
17:29:54 <byorgey> jfredett: do you have the MTL installed?
17:30:10 <jfredett> Whats that?
17:30:17 <byorgey> the monad transformer library
17:30:30 <LoganCapaldo> its more than meets the eye
17:30:31 <byorgey> what platform are you on?
17:30:33 <shachaf> jfredett: You need MTL, I think.
17:30:54 <jfredett> Linux (Kubuntu) and if it didn't come w/ vanilla ghc, then no, i dont have it
17:31:09 <shachaf> jfredett: sudo apt-get install libghc6-mtl-dev
17:31:23 <shachaf> jfredett: But that code won't work.
17:31:40 <sorear> jfredett: it++ bah++ you might want to be more careful with your karma
17:31:53 <LoganCapaldo> @karma bah
17:31:54 <lambdabot> bah has a karma of 0
17:32:07 <LoganCapaldo> @karma it
17:32:07 <lambdabot> it has a karma of 0
17:32:13 <dons> moin
17:32:19 <sorear> hiya dons
17:32:28 <jfredett> sorear, what?
17:32:39 <sorear> @karma
17:32:39 <lambdabot> You have a karma of 47
17:32:44 <jfredett> @karma
17:32:44 <lambdabot> You have a karma of 0
17:32:45 <sorear> @karma it
17:32:46 <lambdabot> it has a karma of 0
17:32:48 <sorear> it++
17:32:49 <sorear> @karma it
17:32:49 <lambdabot> it has a karma of 1
17:32:49 <desp> how would you model a void* in FFI?
17:32:51 <sorear> it--
17:32:52 <desp> Ptr ()?
17:32:55 <sorear> yes
17:32:57 <sorear> @karma it
17:32:58 <lambdabot> it has a karma of 0
17:33:12 <jfredett> i'm totally confused.
17:33:16 <byorgey> jfredett: you wrote it (minus minus) and bah (minus minus) =)
17:33:21 <desp> @karma
17:33:21 <lambdabot> You have a karma of 0
17:33:27 <jfredett> ooh, i see
17:33:29 <sorear> @karma dons
17:33:30 <lambdabot> dons has a karma of 159
17:33:40 <jfredett> my bad, I'll stick to single minuses
17:33:41 <LoganCapaldo> @karma
17:33:41 <lambdabot> You have a karma of 5
17:33:47 <LoganCapaldo> woo! 5 :)
17:33:54 <jfredett> <- 0. :(
17:34:02 <shachaf> jfredett: Or just put a space after the word -- like this.
17:34:17 <jfredett> yeh- i won't remember that. :/
17:34:32 <LoganCapaldo> @karma java
17:34:32 <lambdabot> java has a karma of -18
17:34:49 <jfredett> anyway- i'll hack my way through MR later
17:34:52 <jfredett> time for cake
17:35:00 <olsner_> @karma c
17:35:00 <lambdabot> c has a karma of 15
17:35:03 <olsner_> @karma c++
17:35:03 <lambdabot> c++ has a karma of -5
17:35:28 <LoganCapaldo> @karma chameleon
17:35:28 <lambdabot> chameleon has a karma of 1
17:35:55 <olsner_> c++++
17:35:58 <olsner_> @karma c++
17:35:58 <lambdabot> c++ has a karma of -4
17:36:21 <byorgey> @karma c
17:36:21 <lambdabot> c has a karma of 15
17:36:22 <LoganCapaldo> @karma- c++
17:36:22 <lambdabot> c++'s karma lowered to -5.
17:36:43 <byorgey> silliness =)
17:36:56 <jfredett> @karma scheme
17:36:56 <lambdabot> scheme has a karma of -1
17:37:02 <jfredett> :(
17:37:11 <jfredett> i like scheme... :/
17:37:39 <sorear> @karma java
17:37:40 <lambdabot> java has a karma of -18
17:37:56 <jfredett> heh, I like java too
17:38:01 <olsner_> @karma haskell
17:38:02 <lambdabot> haskell has a karma of 26
17:38:05 <olsner_> @karma
17:38:05 <lambdabot> You have a karma of 0
17:38:12 <LoganCapaldo> @karma haskell'
17:38:12 <lambdabot> haskell' has a karma of 0
17:38:23 <LoganCapaldo> haskell'++
17:38:24 <olsner_> @karma lambdabot
17:38:24 <lambdabot> lambdabot has a karma of 49
17:38:35 <sorear> @karma-all
17:38:35 <lambdabot>  "audreyt"             852
17:38:35 <lambdabot>  "fglock"              248
17:38:35 <lambdabot>  "agentz"              173
17:38:35 <lambdabot>  "dons"                159
17:38:35 <lambdabot>  "moritz"              117
17:38:37 <lambdabot> [1227 @more lines]
17:38:37 <sorear> @more
17:38:39 <lambdabot>  "larry"               106
17:38:41 <lambdabot>  "gaal"                104
17:38:43 <lambdabot>  "lwall"                89
17:38:45 <lambdabot>  "rhr"                  74
17:38:47 <lambdabot>  "Darren_Duncan"        72
17:38:49 <lambdabot> [1222 @more lines]
17:38:49 <sorear> @more
17:38:51 <lambdabot>  "Aankhen"              57
17:38:53 <lambdabot>  "putter"               56
17:38:55 <lambdabot>  "sjanssen"             55
17:38:57 <lambdabot>  "dcoutts"              52
17:38:59 <lambdabot>  "glguy"                51
17:39:01 <lambdabot> [1217 @more lines]
17:39:04 <sorear> @more
17:39:04 <lambdabot>  "lambdabot"            49
17:39:05 <lambdabot>  "sorear"               47
17:39:07 <lambdabot>  "Cale"                 46
17:39:09 <lambdabot>  "TimToady"             41
17:39:11 <lambdabot>  "shapr"                41
17:39:13 <lambdabot> [1212 @more lines]
17:39:31 <ulfdoz> @less
17:39:31 <lambdabot> Maybe you meant: let list
17:39:49 <byorgey> woah, how'd audreyt get so much karma!?
17:39:54 <shachaf> @. reverse karma-all
17:39:54 <lambdabot> Plugin `compose' failed with: IRCRaised Parse error: "reverse"
17:40:10 <shachaf> byorgey: You get karma every time you commit to pugs.
17:40:17 <byorgey> ahhhh.
17:40:27 <jfredett> whats a pugs?
17:40:38 <sorear> byorgey: bots.  gotta love them
17:40:47 <LoganCapaldo> jfredett: perl6 in haskell
17:40:48 <shachaf> jfredett: A type of dog.
17:40:59 <jfredett> ahh brilliant
17:41:50 <LoganCapaldo> it rhymes with hugs
17:41:54 <byorgey> so, when your karma gets to 100 you get to choose a prize from the catalog, right?
17:42:02 <shachaf> byorgey: For example: < svnbot6> r16614 | gaal[plus plus] | * add ignore props on generated files
17:42:06 <LoganCapaldo> there's a catalog?
17:42:38 <byorgey> LoganCapaldo: joking =)
17:42:51 <shachaf> LoganCapaldo: http://www.idiom.com/free-compilers/LANG/Haskell-1.html
17:42:52 <lambdabot> Title: Catalog of compilers: Haskell
17:43:05 <byorgey> hdh
17:43:13 <byorgey> rg... s/d/e/
17:44:35 <ihope> @. elite karma-all
17:45:09 <sorear> @rmmeber byorgey  so, when your karma gets to 100 you get to choose a prize from the catalog, right?
17:45:18 <ihope> Is it suddenly not paying attention to me?
17:45:23 <sorear> @remember byorgey  so, when your karma gets to 100 you get to choose a prize from the catalog, right?
17:45:36 <sorear> @activity-full 180
17:45:50 <ihope> Not just me, I guess.
17:45:59 <sorear> @ignore - sorear
17:46:04 <ihope> Either that or I can't hear what it's saying.
17:46:09 <ihope> @bot
17:46:21 <sorear> I can't hear what it's saying.
17:46:29 <sorear> And I have special bot powers.
17:46:47 * byorgey weeps for gentle lamdabot
17:46:49 <kfish> @botsnack
17:47:10 <humanbot> :)
17:47:28 <dainanaki_> i really don't understand what is going on
17:47:31 <sorear> dons: @donssnack ?
17:47:42 <dainanaki_> :|
17:47:45 <dons> sorear: hmm. where's the bot?
17:48:15 <sorear> kfish: The bot is obviously either backlogged in the server, or crashed.  Assuming the former, let's not get it to the excess flood point :)
17:48:38 <ihope> This isn't one of those bots that reconnects automatically, is it?
17:48:39 <lambdabot> Plugin `compose' failed with: IRCRaised thread killed
17:48:47 <olsner_> I think it was . elite karma-all that sank it
17:48:51 <LoganCapaldo> it's alive
17:48:54 * byorgey rejoices!
17:48:58 <lambdabot> Done.
17:48:58 <lambdabot> Done.
17:49:03 <ihope> Eek!
17:49:09 <sorear> dons!!
17:49:17 * byorgey is sad again.
17:49:22 <LoganCapaldo> hooray
17:49:23 <ihope> Ah, indeed, maybe that was the killer.
17:49:26 <sorear> @remember byorgey  so, when your karma gets to 100 you get to choose a prize from the catalog, right?
17:49:34 <lambdabot> Done.
17:49:35 <sorear> (do not be alarmed)
17:49:39 <ihope> Sure it doesn't already have that?
17:49:42 <olsner_> @quote
17:49:47 * byorgey doesn't know if he can take much more of this emotional rollercoaster
17:49:48 <lambdabot> gFunk says: [the main advantage of functional programs are that they're] incorrect the first 1000 times you try to compile it!
17:50:02 <dons> that's a good quote.
17:50:16 <sorear> @quote 100
17:50:16 <lambdabot> Pseudonym says: What was considered 100 milli-Olegs of type hackery five years ago is standard operating procedure these days
17:50:18 <byorgey> dons: thanks =)
17:50:18 <sorear> @quote 100
17:50:19 <lambdabot> byorgey says:  so, when your karma gets to 100 you get to choose a prize from the catalog, right?
17:50:21 <sorear> @quote 100
17:50:21 <lambdabot> gFunk says: [the main advantage of functional programs are that they're] incorrect the first 1000 times you try to compile it!
17:50:23 <sorear> @quote 100
17:50:24 <lambdabot> lambdabot says: <chessguy> sorry, this is the bird book: http://www.amazon.com/Introduction-Functional-Programming-2nd-Bird/dp/0134843460/sr=8-6/qid=1159309594/ref=pd_bbs_6/104-1423720-3100708?ie=
17:50:24 <lambdabot> UTF8&s=books  <lambdabot> http://tinyurl.com/root7
17:50:38 <sorear> @quote catalog
17:50:38 <olsner_> @quote oleg
17:50:38 <lambdabot> byorgey says:  so, when your karma gets to 100 you get to choose a prize from the catalog, right?
17:50:38 <lambdabot> shapr says: [on Oleg:]  And ccshan and he would argue furiously for a minute or two and then SPJ would say "Why don't you send an email to the Haskell list about that so we can have time to understand
17:50:39 <lambdabot>  what you just said?"
17:50:46 <sorear> @quote catalog
17:50:46 <lambdabot> byorgey says:  so, when your karma gets to 100 you get to choose a prize from the catalog, right?
17:51:21 <kfish> @botsnack
17:51:21 <lambdabot> :)
17:51:38 <olsner_> this oleg guy is something of a celebrity around #haskell, it seems
17:51:44 <olsner_> @quote oleg
17:51:44 <lambdabot> audreyt says: assembly would require metaolegs (or megaolegs)
17:52:04 <LoganCapaldo> I want to be oleg when I grow up
17:52:16 <byorgey> @quote unit
17:52:16 <lambdabot> syntaxfree says: monad tutorials are the "Hello world" of our community.
17:52:18 <desp> does he come on IRC?
17:52:27 <kfish> @where oleg
17:52:27 <lambdabot> http://okmij.org/ftp/
17:52:30 <byorgey> @quote hackery
17:52:30 <lambdabot> Pseudonym says: What was considered 100 milli-Olegs of type hackery five years ago is standard operating procedure these days
17:52:39 <desp> kfish: I know, but nonetheless
17:54:10 <desp> btw -- would values of types FunPtr (Foo -> IO ()) and FunPtr (Foo -> ()) act the same when passed to the C side of FFI?
17:54:33 <fasta> #define ASSERT(booleanexpression) assert (booleanexpression) (return ()) <- wth is wrong with this?
17:54:41 <kfish> oh, i was kinda assuming lambdabot would have a direct line to oleg, like a red telephone for emergency type theory
17:54:54 <LoganCapaldo> @oleg
17:54:57 <lambdabot> Defined.
17:55:03 <LoganCapaldo> ?
17:55:09 <desp> @oleg
17:55:10 <lambdabot> Defined.
17:55:23 <desp> odd
17:55:25 <LoganCapaldo> @help oleg
17:55:26 <kpreid> @let
17:55:26 <lambdabot> help <command>. Ask for help for <command>. Try 'list' for all commands
17:55:26 <lambdabot> Defined.
17:55:34 <LoganCapaldo> lol
17:55:39 <kpreid> oleg -> let
17:55:55 <LoganCapaldo> that's some pretty gnarly speelkerecting
17:56:00 <fasta> Never mind
17:56:08 <LoganCapaldo> @lte
17:56:08 <lambdabot> Maybe you meant: elite ft let vote
17:56:19 <LoganCapaldo> @olet
17:56:20 <lambdabot> Defined.
17:56:46 <desp> less bot-molesting, more question-answering :)
17:57:13 <sorear> desp: No, oleg doesn't come here.
17:57:18 <sorear> ccshan does
17:57:26 <desp> actually, I meant my FFI riddle
17:57:33 <desp> sorear: but thank you :)
17:58:54 <olsner_> "Unfortunately, I couldn't test it thoroughly, since I have only 7 arms and 37 hours per day ..."
17:59:27 <sorear> desp: FunPtr <anything> will behave the same across the FFI.
17:59:32 <MarcWeber> fasta: Why are you using a macro for that?
17:59:39 <sorear> desp: All C function types have the same representation
17:59:46 <desp> sorear: I see, thanks
17:59:49 <MarcWeber> why not my_boolassert b = assert b $ return () ?
17:59:50 <sorear> desp: As do all C non-function types.
18:00:01 <dons> ?users
18:00:01 <lambdabot> Maximum users seen in #haskell: 342, currently: 300 (87.7%), active: 14 (4.7%)
18:00:28 <sorear> desp: but FunPtr a is not compatible in general with Ptr a - consider a program with 64 bit data space but 32 bits of code space
18:00:59 <fasta> MarcWeber: Try it for yourself and learn something.
18:01:35 <fasta> MarcWeber: I can also tell you now, if you want to.
18:01:53 <fnord123> noob question: How can I add an instance declaration for Fractional Integer? Or is there a specific division operator I can use on Integers?
18:02:22 <MarcWeber> I'll try
18:02:35 <byorgey> fnord123: you probably want to use the fromInteger function
18:02:52 <byorgey> > (1 :: Integer) / (6 :: Integer)
18:02:53 <lambdabot>   add an instance declaration for (Fractional Integer)
18:02:53 <lambdabot>     In the expression:...
18:02:56 <byorgey> but...
18:03:07 <shachaf> fnord123: Use fromIntegral to convert, or `div` to divide Integers.
18:03:09 <byorgey> > (fromInteger (1:: Integer)) / (fromInteger (6::Integer))
18:03:11 <lambdabot>  0.16666666666666666
18:03:12 <sorear> fasta: Why not just use error, -prof, and +RTS -xc ?
18:03:55 <fnord123> I owe byorgey a beer. :D
18:04:36 <MarcWeber> fasta: You have to tell me
18:05:10 * luqui sometimes wishes that there were a statically-typed programming language with a "number" type, and nothing else
18:05:18 <luqui> that's unreasonable, of course
18:05:23 <luqui> but I'm a mathematician...
18:05:27 <byorgey> fnord123: next time I'm in the UK maybe I'll take you up on that =)
18:05:30 <fasta> sorear: error doesn't give line numbers.
18:06:21 <fasta> MarcWeber: well, if you do as you want to. The location of the error will be the location of the call to assert, not the location of the call to "myAssert".
18:06:41 <fasta> MarcWeber: and that is completely, not what I want.
18:06:47 <LoganCapaldo> luqui: I think that would be cool, especially if it had numbers like pi, and e, etc. as themselves (would avoid approximating as much as posisble)
18:07:09 <fasta> MarcWeber: see?
18:07:29 <luqui> well, it's unreasonable because if you avoid truncating as much as possible, storing numbers in algebraic form, you will gobble up your memory really damn fast if you try to do something like compute the mandelbrot set
18:07:50 <fasta> luqui: If you ignore some stuff in Haskell you have that.
18:07:59 <sorear> fasta: That's why I specified -prof and +RTS -xc as well.
18:08:10 <fasta> sorear: does that give line numbers?
18:08:14 <luqui> fasta, basically use ratio for everything?
18:08:26 <fasta> sorear: I thought it only gave the names of functions.
18:08:27 <sorear> fasta: No, it gives function names :)
18:08:40 <fasta> sorear: right, so that doesn't fit my spec :)
18:08:49 <fasta> sorear: I am demanding ;)
18:08:54 <sorear> fasta: but functions are short in haskell!
18:09:03 <fasta> sorear: oh, I wished.
18:09:22 <fasta> sorear: I have functions that have 30 variables to be understandable.
18:09:32 <fasta> sorear: Variables in scope, that is./
18:09:42 <fasta> sorear: in the scope of a function, that is.
18:09:54 <fasta> sorear: not counting top-level stuff.
18:10:14 <fasta> sorear: I am now adding assertions all over the place to track down some bugs.
18:10:31 <fasta> sorear: I found one, but it only gave the location of where I defined "myAssert".
18:11:41 <sorear> fasta: Have you tried using GHCi's builtin debugger?  set a breakpoint on myAssert, and step out
18:12:22 <olsner_> ghci has a debugger!?
18:12:27 <fasta> sorear: yes, but it's of little to no use.
18:12:35 <fasta> olsner_: not in any release
18:12:42 <sorear> fasta: ?
18:12:42 <fasta> olsner_: in the HEAD
18:12:42 <olsner_> ah, okay
18:12:58 <olsner_> @quote head
18:12:58 <lambdabot> kyevan says: Emacs makes my head hurt almost as much as haskell!
18:13:02 <fasta> sorear: I only used one from 2 april.
18:13:15 <fasta> sorear: sjanssen said it improved.
18:13:27 <fasta> sorear: I will wait for the release, I guess.
18:14:10 <sorear> wha?
18:14:20 <sorear> ghci-6.6.1 doesn't accept :break
18:14:53 <fasta> sorear: You are surprised?
18:15:27 <sorear> fasta: Yes.  6.6.1 postdates the (old) debugger.
18:15:40 * fasta hates inferior macro systems
18:15:56 <fasta> My empty rules don't seem to match.
18:15:58 <fasta> E.g.
18:16:06 <fasta> #define FOO(bar)
18:18:36 <olsner_> cpp does the right thing for me... are you sure it's being preprocessed at all?
18:19:27 <fasta> Everytime I use macros in Haskell I hear people say:"Thanks to lazyness and hof's you don't need macros". ARG
18:19:50 <olsner_> (and some of those lowly string-based macro languages can actually generate sendmail config files! that's power for 'ya)
18:20:00 <olsner_> do that in haskell if you can ;-)
18:20:14 <fasta> olsner_: cpphs doesn't work with my cpp macros.
18:20:16 <sorear> fasta: The only reason you need macros is because you are using an evil unportable special form
18:20:25 <sorear> fasta: note that I did not say function
18:20:49 <fasta> sorear: what special form?
18:20:52 <fasta> sorear: assert?
18:20:55 <sorear> fasta: yes
18:21:26 <fasta> sorear: when I am on a platform where there's no assert, I can easily switch it off.
18:21:39 <olsner_> oh, now I found cpphs, I always assumed preprocessed haskell was run through gcc's (or the platform's) cpp
18:21:57 <fasta> sorear: and platform wise, I am tied to GHC, since it has the smartest type-inference.
18:22:31 <fasta> olsner_: GHC calls cpp with very odd options.
18:22:49 <fasta> olsner_: I can't remember which ones, but they make no sense.
18:24:29 <sorear> ghc -v4 and remove all doubt
18:24:44 <fasta> How the hell does cpphs do concatenation?
18:25:02 <fasta> I had it working for cpp, but cpphs does the wrong thing.
18:25:08 <fasta> I get variables like let !b  262
18:25:18 <fasta> Instead of let !b262
18:25:37 <fasta> I thought malcolm fixed that a few versions ago.
18:31:18 <fasta> Ok, solved that problem too.
18:31:34 <fasta> It appears that white space is significant in cpphs
18:31:42 <fasta> Whereas in cpp it isn't.
18:31:59 <shapr> !paste
18:31:59 <hpaste> Haskell paste bin: http://hpaste.org/
18:32:12 <fasta> This is in "--cpp compatibility mode".
18:32:48 <fasta> I wonder what he means by "compatible". Surely, not the same as I do.
18:37:18 <MarcWeber> fasta: Yes. I see. ;)
18:39:15 <fasta> Ok, I think this was the last piece of crappyness I had to work, through.
18:39:24 <fasta> Bye all
18:49:50 <Procyon112> what is the difference between newtype and data.. other than data having multiple constructors?
18:51:48 <dainanaki_> what does eclipse mean for the eclipsefp plugin when it says it can't locate the project's executable when i try to run it?
18:52:23 <byorgey> Procyon112: basically, newtype lets you create a type which is isomorphic to another existing type, yet still have different operations on it, different class instances, etc.
18:52:37 <byorgey> Procyon112: which you can't do with just a 'type' alias declaration
18:53:14 <fnord123> in the line where xxs@(x:xs) # yys@(y:ys) what are @ and #?
18:53:40 <byorgey> Procyon112: newtype also is more efficient (although I'm not clear on the exact mechanism)
18:53:44 <Procyon112> byorgey: right.  But newtype requires a constructor and wraps the type just like data.
18:53:58 <byorgey> Procyon112: right.
18:54:02 <Procyon112> I don't see where newtype is any different than data
18:54:16 <Procyon112> except that data allows more than one constructor.
18:55:00 <byorgey> Procyon112: I think the point is that newtype can be more efficient (in ways I'm not sure of) since the compiler knows the type will be isomorphic to another existing type
18:55:31 <byorgey> fnord123: xxs@(x:xs) means to pattern match on x:xs, but also bind the name xxs to the whole thing
18:55:40 <HairyDude> you can do "deriving Monad" on newtypes in GHC :)
18:55:53 <fnord123> byorgey: ok I thought that's what that was doing; but the #?
18:56:17 <byorgey> fnord123: that's not built in, it's probably just an operator that is being defined
18:57:15 <byorgey> fnord123: you can define infix operators just by writing them in between the arguments
18:57:22 <Procyon112> So, is there any reason at all to ever use data when there is only one constructor?  In other words: data X = X SomeType -- is silly?
18:57:29 <byorgey> > let x # y = x + y in 3 # 4
18:57:36 <Procyon112> And why couldn't the parser just figure that out on it's own?
18:57:37 <lambdabot>  7
18:58:20 <byorgey> Procyon112: I'm not sure.  My gut says there are probably good reasons for doing data X = X SomeType at times, depending on what you want to do
18:58:47 <byorgey> Procyon112: as for why the compiler can't figure it out on its own, I don't know the answer to that, although there's probably a good reason
18:59:02 <Procyon112> byorgey: That's what I'm thinking... but I'm not seeing any semantic difference. :/
18:59:23 <byorgey> Procyon112: you're exactly right, there is no semantic difference
18:59:48 <byorgey> (as far as I know)
19:00:29 <byorgey> Procyon112: there's no semantic difference between let...in and where clauses, either =)
19:01:07 <byorgey> Procyon112: the point is to give you choices with different pros/cons so you can choose the proper tool for the job at hand
19:02:22 <Procyon112> Yeah, but at least there's a syntactic difference... there is no syntactic difference between "data X = X T" and "newtype X = X T"... so if there is no semantic difference either, then it's not another tool for the job... it's a uneccissarry keyword.  I have a feeling we're missing something though, and I'm curious as to what that is :)
19:02:31 <jfredett> hassah! I found an implementation of Miller Rabin my problem is solved!
19:02:53 <byorgey> jfredett: hurrah!
19:03:18 <byorgey> Procyon112: well, there could be no *semantic* difference while still being a difference in terms of *efficiency*, for example
19:04:36 <Procyon112> byorgey: It's too simple to automatically optimize that case in a parser though.. I have a feeling it's more
19:05:15 <byorgey> Procyon112: ah, here we go
19:05:22 <byorgey> Procyon112: I looked it up in the Haskell report
19:05:41 <byorgey> Procyon112: if you do newtype Natural = Nat Integer, for example
19:06:03 <byorgey> Procyon112: once it is compiled any Natural values will still just be represented as Integers
19:06:11 <byorgey> Procyon112: but if you do data Natural = Nat Integer
19:06:31 <byorgey> Procyon112: there will be an extra level of indirection, i.e. a Nat tag being carried around as well
19:08:07 * byorgey pokes jfredett 
19:08:18 * jfredett pokes byorgey 
19:08:25 <jfredett> no homo, though-
19:08:36 <byorgey> jfredett: did you see the code I pasted the other day about detecting perfect powers?
19:08:36 <jfredett> just want to cover that--
19:08:46 <jfredett> I think so
19:08:56 <jfredett> Choko pasted some which I'm using now
19:09:08 <jfredett> It's similar to what I was trying, but his actually works.
19:09:37 <byorgey> jfredett: ok, just making sure you got it, I left a message with lambdabot for you
19:09:47 <jfredett> yah- i dont know how to get those... :/
19:10:04 <jfredett> @messages
19:10:04 <lambdabot> You don't have any new messages.
19:10:14 <jfredett> ooh- that actually worked?
19:10:21 <jfredett> it says i dont have any.
19:10:22 <jfredett> :/
19:10:25 <byorgey> oh! hrm, hang on a second...
19:11:03 <sorear> that++
19:11:17 <byorgey> jfredett: http://paste.lisp.org/display/42070
19:11:31 <jfredett> lisp! yay
19:11:34 <jfredett> lol
19:11:41 <byorgey> jfredett: hpaste was down =)
19:11:46 <jfredett> yah
19:11:57 <jfredett> it made me sad
19:12:51 <jfredett> brilliant, Choko's is far smaller, but yours has better comments, 100 trillion points to byorgey
19:13:16 <jfredett> (don't get excited, 100 trillion is not much in my points system
19:13:18 <jfredett> ) :P
19:13:24 <byorgey> ...oh =)
19:14:08 <byorgey> jfredett: where is Choko's code?  I'm curious
19:14:19 <jfredett> oh goodness, I hope i still have it open.
19:14:38 <byorgey> well, no worries if you don't, I was just curious
19:14:42 <emu> @where stats
19:14:43 <lambdabot> http://www.cse.unsw.edu.au/~dons/irc/
19:14:56 <jfredett> http://nopaste.com/p/aeCwhRa6C
19:15:06 <jfredett> i have 100 tabs open, I knew it was in there somewher
19:15:07 <jfredett> e
19:15:13 <jfredett> it was a matter of whether I'd ever find it
19:15:42 <byorgey> jfredett: hehe, I do the same thing =)
19:16:01 <jfredett> i had a brilliant idea for a FF plugin once
19:16:06 <olsner_> oh, that's not very readable... but it was short ;-)
19:16:54 <jfredett> a tree based tab system, that is-- i could drag related tabs to a supertab
19:17:00 <byorgey> jfredett: !!
19:17:07 <byorgey> that would be SWEET
19:17:11 <jfredett> which I can then open and navigate through the subtabs
19:17:14 <jfredett> recursively
19:17:22 <jfredett> i never took the time to learn XUL though
19:17:26 * byorgey drools
19:17:29 <jfredett> and all that silly FF stuf
19:17:30 <jfredett> f
19:17:37 <olsner_> I always wanted a wikipedia stack
19:17:45 <olsner_> or browse history tree
19:17:46 <jfredett> wow, I thought it was clever, but not like that-
19:17:47 <jfredett> lol
19:18:02 <jfredett> yah- I had at first thought it would just expand the tab bar
19:18:12 <jfredett> but then I thought you could even have an optional window
19:18:18 <byorgey> well, me drooling is isomorphic to you giving 100 trillion points
19:18:20 <jfredett> that held all your tabs at the ready
19:18:33 <jfredett> lol- so its not _that_ cool t hen
19:18:38 <olsner_> byorgey just has bad saliva control
19:18:44 <byorgey> =)~
19:18:59 <jfredett> its okay, that condition plagues 3 people every year
19:19:20 <jfredett> its a horrible, horrible disease, bad-saliva-controlitis
19:20:49 <jfredett> i dunno- maybe someday I'll write an extension for it
19:21:19 <jfredett> but I still haven't taken the time to learn Javascript and all that FF extension language stuff
19:21:28 <jfredett> I wish I could write it in haskell. :)
19:21:43 <jfredett> it'd give me more Monadical stuff to whine about
19:21:45 <jfredett> :)
19:22:56 <olsner_> YHC has a javascript backend ;-)
19:23:09 <olsner_> careful what you wish for ;-)
19:23:25 <jfredett> neat- you mean it can generate Javascript from haskell?
19:24:10 <olsner_> something like that ... dunno how that javascript code looks like though, and how you'd make it interact with firefox
19:24:25 <jfredett> yeh- it's probably ugly as hell
19:24:32 <jfredett> but that is cool.
19:25:07 <byorgey> olsner_: yeah, you probably couldn't write FF extensions with it, since there would be no way to make it use the FF API
19:25:27 <jfredett> yah
19:31:03 <sorear> sure you can.
19:31:19 <sorear> ycr2js supports raw js escapes!
19:32:18 <jfredett> nifty.
19:32:27 <jfredett> but the code would probably look as ugly as hell
19:32:54 <jfredett> it'd prolly be better to try to right some wrappers around the FF API, but I'm certainly no expert in those areas
19:33:59 <jfredett> now- i  have two questions- 1) to access a library in a directory, the syntax to import is "import LibDir.Libfile" right?
19:34:35 <jfredett> and 2) if I want to import all the .hs modules in a directory, can I just go "import LibDir.*" ?
19:35:27 <byorgey> sorear: nifty!
19:36:54 <jfredett> well, i guess not on 2), and i figured out 1 on my own, so nevermind
19:55:11 <jfredett> HaskellForMaths/HfM.hs:1:7, file name does not match module name `HfM'
19:55:23 <jfredett> uhm
19:55:24 <sorear> jfredett: Yes?
19:55:29 <sorear> jfredett: they have to match!
19:55:30 <SamB_XP> -I
19:55:34 <jfredett> HfM != HfM?
19:55:38 <jfredett> err, /=
19:55:39 <SamB_XP> -IHaskellForMaths, even
19:55:53 <sorear> jfredett: HaskellForMaths.HfM /= HfM   indeed!
19:55:58 <jfredett> oh!
19:56:01 <jfredett> i'm an idiot
19:56:04 <SamB_XP> or was it -L?
19:56:10 <jfredett> jfredett-- for dumbness... :/
19:56:31 <sorear> you can't change your own karma :)
19:56:34 <dcnstrct_> does anyone know where I can find the docs for pOpen3Raw ? I thought I was going to find it in import System.Posix.Process but I don't see it there.
19:56:35 <jfredett> so I have to name the module HaskellForMaths.HfM ?
19:56:41 <SamB_XP> or, yeah, add HaskellForMaths. to the module name
19:56:47 <jfredett> sorear, I figured, which is why i dont mind doing so
19:56:47 <jfredett> :P
19:56:48 <sorear> jfredett: That, or use -iHaskellForMaths
19:56:59 <SamB_XP> sorear: lowercase i?
19:57:00 <SamB_XP> really?
19:57:04 <sorear> SamB_XP: Yes.
19:57:06 <jfredett> in the import decl?
19:57:11 <SamB_XP> crazy!
19:57:18 <sorear> jfredett: on the command line
19:57:21 <jfredett> okay
19:57:25 <jfredett> cool
20:03:21 <jfredett> ... now it just cant find the frakking thing... :/
20:05:55 <jfredett> ahh, fixed it
20:06:16 <byorgey> "frakking"?  that's a new one
20:06:29 <jfredett> not really, its battlestar galactica
20:06:44 <byorgey> oh...
20:06:45 <jfredett> considerably nicer than what I usually use, I figure there might be kids around, so I'll play nice--
20:06:55 <byorgey> nice++ =)
20:06:58 <jfredett> Frak stands in for an obvious four letter word
20:07:07 <byorgey> jfredett: right, obviously =)
20:07:14 <ddarius> jfredett: sorear is a "kid" for some values of "kid"
20:07:24 <jfredett> i also use Jake damnit, and other such things
20:07:40 <jfredett> shameless plug: http://jakeforgod.blogspot.com/
20:07:41 <lambdabot> Title: Jake, Fourth Member of the Trinity
20:07:50 <shapr> I like Firefly's use of mandarin.
20:07:50 <ddarius> But my impression of kids these days is that you won't be teaching them anything
20:07:50 <jfredett> :)
20:08:05 <jfredett> ddarius, but I can dream.
20:08:23 <dolio> I seem to recall knowing all the standard curses by around 4th grade.
20:08:23 <ddarius> jfredett: That's what I try to do.  Close my eyes and dream.
20:08:52 <ddarius> dolio: And using them readily/at all?
20:08:54 <sorear> what's the difference between dcoutts and dcoutts_ ?
20:09:08 <ddarius> An underscore, silly.
20:09:26 <jfredett> I was speaking fluent sailor at 13, myself
20:09:36 <jfredett> but I try to clean it up for the kiddies,
20:09:50 <jfredett> and saying Jake Damn Son of a Frak is way more fun anyway
20:09:58 <dolio> ddarius: Nah, not really. It got popular by middle school, I'd say.
20:12:16 <jfredett> http://hroman.wordpress.com/2007/05/23/i-suddenly-have-a-craving-for-pie/
20:12:18 <lambdabot> Title: I Suddenly Have A Craving For Pi(e) « The Roman Empire, http://tinyurl.com/27yady
20:12:21 <jfredett> :)
20:12:42 <byorgey> g'night all! happy Haskelling!
20:12:47 <jfredett> gnite
20:12:55 <jfredett> jake bless
20:14:22 <ashish> Hi all, I am looking for an Haskell library that will allow me to set timer (possibly long duration)
20:14:42 <ddarius> threadDelay or sleep
20:14:48 <ddarius> Ask @hoogle or @index
20:15:09 <dcnstrct_> does anyone know of a libcurl binding for haskell ?
20:15:31 <dons> darcs has one, and providing a complete binding is a SoC project this year
20:16:11 <sorear> what's the use of building a profiling version of cabal?
20:16:13 <ashish> ddarius, thanks. The threadDelay has microseconds granularity which is probably overkill.
20:16:28 <sorear> ashish: do not use sleep
20:16:52 <ashish> How do I ask @hoogle or @index?
20:17:00 <sorear> @hoogle threadDelay
20:17:00 <lambdabot> Control.Concurrent.threadDelay :: Int -> IO ()
20:17:23 <ashish> sorear, thanks. Is there a reason why sleep is not useful here?
20:17:26 <dcnstrct_> dons, you mean I should look in the source code for darcs ?
20:17:37 <ashish> @index delay
20:17:37 <lambdabot> bzzt
20:17:40 <dcnstrct_> thnx ppl
20:17:45 <dons> dcnstrct_: that's one option, or chase up the SoC guy
20:17:48 <ashish> @hoogle delay
20:17:49 <lambdabot> Control.Concurrent.threadDelay :: Int -> IO ()
20:17:49 <lambdabot> Network.Socket.NoDelay :: SocketOption
20:17:49 <lambdabot> System.Win32.File.mOVEFILE_DELAY_UNTIL_REBOOT :: MoveFileFlag
20:18:00 <ashish> @index sleep
20:18:00 <lambdabot> System.Posix.Unistd, System.Posix
20:18:06 <sorear> ashish: it is a foreign import of the UNIX sleep function
20:18:06 <ashish> @hoogle sleep
20:18:06 <lambdabot> System.Win32.Process.sleep :: DWORD -> IO ()
20:18:19 <sorear> ashish: which often runs for a long time
20:18:36 <sorear> ashish: ghc doesn't always do what you expect with long running foreign calls
20:19:16 <sorear> ashish: also, it requires an extra kernel thread just to sleep then set a condition variable the main program waits on
20:19:34 <sorear> ashish: which is waay more inefficient than threadDelay's precision handling :)
20:20:02 <ashish> sorear, what's the maximum delay for threadDelay?
20:20:35 <sorear> ashish: not sure, probably 40 minutes or so
20:20:44 <ddarius> > 2^32/(3600*24)
20:20:46 <lambdabot>  49710.26962962963
20:20:54 <ddarius> > 2^22/(3600*24)
20:20:55 <lambdabot>  48.54518518518518
20:20:56 <sorear> ddarius: excuse me, but 24 ?
20:21:14 <ashish> sorear, I need long delays (potentially in days).
20:21:28 <dons> you can thread delay in a loop
20:21:33 <ddarius> sorear: 24 hours in a day
20:21:35 <dons> since threadelay is limited to 35 minutes, currently
20:21:43 <sorear> ashish: just use 'at' then - it has the advantage of surviving reboots
20:22:13 * geezusfreeek has just been floored by software transactional memory
20:22:44 <ashish> I am trying to implement a small DSL to wrap the 'remind' UNIX calendering application in Haskell
20:23:34 <ddarius> We can now trust that geezusfreeek is an integer.
20:23:59 <sorear> ddarius: -Infinity is no integere
20:24:01 <triplah_> haha
20:24:18 <ddarius> sorear: Nor the floor of any real number
20:25:29 * luqui wrote his first STM program today
20:25:33 <luqui> it is wonderful :-)
20:25:53 <ddarius> I should program.  It's distracting.
20:26:15 <geezusfreeek> STM needs a more fantastic name to portray how pretty it is
20:26:50 <geezusfreeek> i took this long to look into it just because i thought it would be lame based on the name
20:27:08 <dainanaki_> anyone here able to help me set up eclipsefp?
20:28:23 <ddarius> geezusfreeek: You just have poor taste.
20:29:13 <jfredett> dainanaki_, I've only encountered problems with eclipsefp
20:29:28 <geezusfreeek> ddarius: :P
20:29:44 <jfredett> you're better off w/ (vi|emacs) and ghc/hug/w/e
20:31:32 <dainanaki_> perhaps
20:32:09 <dainanaki_> but i can't seem to get the hang of them
20:32:45 <jfredett> its all about immersion
20:32:50 <jfredett> if you force yourself to use them
20:32:56 <jfredett> you'll learn alot faster
20:33:03 <jfredett> its like learning a foriegn language
20:33:08 <mauke> PUKING AT EVERY STEP
20:33:25 <dainanaki_> yeah well i'm already learning a foreign language
20:33:32 <dainanaki_> its called haskell
20:33:42 <dainanaki_> so i was hoping to hold on to some familiarity
20:33:45 <jfredett> damnit, i was going to say "foriegn natural language"
20:33:57 <jfredett> but i decided we weren't _that_ geeky
20:34:00 <geezusfreeek> at least haskell is a very _pretty_ foreign language
20:34:20 <jfredett> mhm
20:34:29 <mauke> until you start using ???? as identifiers
20:34:34 <geezusfreeek> :o
20:34:58 <dainanaki_> dear goodness
20:35:09 <jfredett> of all the languages I know (some 20 of them), I find that haskell has the greatest capability for beauty, and also for incredible ugliness
20:35:24 <dmwit> let a (?!$#) b = "swearing" in ...
20:35:45 <dainanaki_> well while i'm at it, how do i go about installing hackage?
20:35:46 <dmwit> > let a ?!#$ b = "swearing" in 3 ?!#$ 7
20:35:47 <jfredett> see, I tried to name a function isPrime? (sue me, I like lisp.)
20:35:47 <lambdabot>  "swearing"
20:35:50 <jfredett> and it yelled at me
20:36:04 <sorear> foreign isn't enough
20:36:40 <dmwit> dainanaki_: Surely you mean installing things *from* hackage?  In which case you should be able to just download the .tar.gz and run ./Setup.lhs configure/build/install.
20:36:47 <geezusfreeek> for some reason i tend to have problems coming up with appropriate names for data types and functions in haskell
20:37:17 <dainanaki_> dmwit, isn't hackage a gui for a darcs repository thing?
20:37:18 <jfredett> funcs start with a lowercase letter, never forget that
20:37:24 <geezusfreeek> ha
20:37:31 <jfredett> it will save you hours
20:37:38 <jfredett> of fruitless, wtf's
20:37:46 <geezusfreeek> easy to see that kind of problem with syntax highlighting
20:37:49 <dmwit> ?where hackage
20:37:49 <lambdabot> http://hackage.haskell.org/trac/hackage
20:37:54 <dmwit> dainanaki_: ^^
20:37:55 <jfredett> yah,
20:37:59 <dons> random thought: yi is probably going to get another 4 years development, since jyp is starting a phd at chalmers.
20:38:10 <dons> so that's really good news.
20:38:12 <dmwit> dainanaki_: Oh, wait, that's not it.
20:38:14 <sorear> chalmers?
20:38:24 <dainanaki_> thanks for that
20:38:26 <dmwit> dainanaki_: http://hackage.haskell.org
20:38:26 <jfredett> metarandom thought : Random thoughts are random.
20:38:28 <lambdabot> Title: HackageDB: introduction
20:38:34 <Korollary> good luck to jyp
20:38:35 <dainanaki_> nvm
20:38:36 <dainanaki_> no thank you dmwit
20:38:39 <dons> we need to start spotting some new phd guys, to take over a few of the community tasks the last generation of phd guys did (dcoutts, me, igloo, ganesh, bringert, nibro)
20:38:55 <dons> hmm.. i wonder if i can get lennart k to take over the hwn.
20:38:55 <dainanaki_> ok thank you reacknowledged
20:39:01 <dmwit> haha
20:39:23 <jfredett> I'm just a Junior UG... :/
20:39:27 <sorear> dons: aren't 4/5ths of those guys working professionally on haskell now?
20:39:27 <dons> anyone about to start a 4 year phd? or a masters degree? doing haskell stuff?
20:39:30 <jfredett> I do math, :)
20:39:42 <dons> sorear: right. we're all heading off to professional haskell dev, so community stuff will be harder
20:39:53 * sorear is at least 6 years away from starting his phd
20:40:10 <dons> sorear: but you might need to take over lambdabot and provide hosting, soonish (with say 3 months)
20:40:21 * jfredett about the same, assuming I can do my masters quickly... :)
20:40:39 <jfredett> i dont know why i did that w/ /me
20:40:44 * sorear ups his figure
20:41:04 * dainanaki_ is at least a year away from starting his bachelor's
20:41:14 <dainanaki_> shoot
20:41:15 <sorear> ARGHHHH!!!
20:41:16 <dmwit> sorear: I think you mispronounced UP!!1
20:41:17 <Nafai> It's an interesting commentary on a community that looks to phd candidates for community work
20:41:47 <dons> Nafai: it helps, since they tend to have guaranteed time availability , for a longer term
20:42:07 * sorear beats up waern
20:42:08 <jfredett> not really, Haskell, like it or not, is still seen as a academic language-- so its natural to look to upper academia to do shit for us.
20:42:55 <dons> Nafai: so its more about handing on open source projects, when they can't be maintained. people doing haskell research at a phd level, make great maintainers
20:43:31 <jfredett> someday i'll know haskell, someday...
20:43:34 <Nafai> dons: I understand the motivation; it's that Haskell seems to have more of the academic type involved in it
20:43:37 <dons> but see, sorear's in high school, and he'll get lambdabot. :-)
20:43:55 <dons> Nafai: right, it was born as the language of language researchers.
20:43:59 <jfredett> lol, lambdabot is the best Haskell project ever.
20:44:03 <jfredett> @botsnack
20:44:03 <lambdabot> :)
20:44:12 * jfredett pets lambdy
20:44:15 <dons> so its core community is still a lot of PL research students and academics.
20:44:25 <dons> the students get the work done, the academics write up the theory.
20:44:26 <dons> ;)
20:44:50 <dons> though, like i said, the current generatoin of phd students seems to be heading into commercial haskell work.
20:44:51 <dainanaki_> what stuff in hackage is worth installing/
20:44:57 <dons> so now we need to find people to take over.
20:45:17 <Korollary> dainanaki_: It depends on what you need, doesn't it?
20:45:17 <Nafai> dons: The mere fact there is becoming "commercial haskell work" is exciting
20:45:21 <dons> very!
20:45:40 <Nafai> But since I'm not a huge academic that might be reason I still haven't caught on to Haskell yet :)
20:45:42 <dmwit> dainanaki_: Just wait until you need something to install it.
20:45:55 <dmwit> dainanaki_: Be lazy. =)
20:46:01 <dons> or go through the `program' category
20:46:05 <dons> rather than the libraries.
20:46:10 <dainanaki_> it just seems like there are usually *must haves* for different stuff
20:46:27 <jfredett> thats the haskell way, my way (highly schemey) is to get a big harddrive and download everything
20:46:45 <jfredett> eager eval canbe useful sometimes.
20:46:48 <Korollary> I doubt scheme requires a big harddrive
20:46:56 <dons> hah
20:47:05 <jfredett> yah, but downloading everything in hackage does
20:47:06 <jfredett> :)
20:47:19 <dons> unlike the ridiculous number of hackage libs i've got installed atm :/ 92%    /home
20:47:21 <dmwit> dainanaki_: Most of the *must haves* get installed with GHC now.
20:47:30 <Korollary> Big harddrive nowadays means >250GB
20:47:32 <dmwit> mtl arrow and bytestring come to mind.
20:47:41 <dons> mtl and arrow don't come with ghc though.
20:47:47 <dons> they're extra packages now.
20:47:48 <dainanaki_> yeah well fromInt didn't even though it is in the tour of the prelude X(
20:47:49 <dmwit> Oh, really?
20:47:53 <dons> see lib-mtl or what it is in debian
20:47:57 <dons> ?hackage mtl
20:47:57 <lambdabot> http://hackage.haskell.org/cgi-bin/hackage-scripts/package/mtl
20:48:08 <sorear> libghc6-mtl-dev
20:48:12 <dmwit> ?index fromInt
20:48:12 <lambdabot> bzzt
20:48:14 <dons> we're moving from cathedral to bizarre ;)
20:48:14 <sorear> where's dcoutts?
20:48:32 <jfredett> err- Korollary try 500g just for my Home drive- My Dad worked for Seagate for a while, so we have about 50 half ter drives lieing around that he got as perks. :)
20:48:32 <dmwit> dainanaki_: apt-get install libghc6-*-dev
20:48:37 <dmwit> ;-)
20:48:49 <dons> so, rather than a single monolithic std lib, there's lots and lots of smaller libs, but centrally packaged
20:48:54 <dainanaki_> ha i'm on a mac
20:49:04 <sorear> @seen Igloo
20:49:04 <dainanaki_> i have no debian or ubuntu
20:49:04 <lambdabot> Igloo is in #haskell-overflow, #haskell, #ghc and #darcs. I last heard Igloo speak 8h 46m 4s ago.
20:49:07 <dons> not a fully distributed system. distributed maintainers, centralised hosting. working well so far, i think.
20:49:17 <dons> (sure makes xmonad easier!)
20:50:12 <Nafai> I've been meaning to try out xmonad
20:50:24 <dainanaki_> so how do i get the extra libghc stuff then?
20:50:29 <dons> so yes, we need to find a long term maintainer for lambdabot...
20:50:37 <Nafai> But I doubt I can use the Gnome Panel and nautilus and stuff with it :)
20:50:46 <dmwit> dainanaki_: Grab mtl and arrow from hackage, those are the two most important.
20:50:55 <dons> someone familiar, intimately with the code, responsible, in channel a lot, with hosting, and the ability to devote a couple of years to it
20:50:59 <Nafai> dons: So what are you moving on to?  Are you writing the book full-time?
20:51:08 <dons> interested parties can apply by privmsg :-)
20:51:13 <dmwit> Nafai: nautilus works fine, but Gnome Panel... note yet.
20:51:26 <dons> Nafai: nah, finishing up my phd in a few months, writing a book, yes, and starting a haskell job
20:51:36 <Nafai> dons: What's the job?
20:51:55 <dons> i'm going to be working at Galois, http://galois.com/
20:51:56 <lambdabot> Title: Galois Connections, Inc.
20:52:05 <Korollary> dons: moving to the States?
20:52:08 <dons> yup
20:52:19 <Korollary> woo. go pacific northwest
20:52:30 <Korollary> beat lispy up for me
20:52:39 <dons> yeah. its going to be haskell central, if it isn't already
20:53:06 <Nafai> dons: Cool, congrats
20:53:25 <Korollary> good luck
20:53:33 <dons> :-) its all very exciting.
20:53:33 * troy pops in out of curiosity :)
20:54:07 <Korollary> I'm glad Galois are doing well
20:54:34 <dmwit> Hi troy!
20:54:36 <kfish> dons: congrats
20:54:50 <dons> cheers kfish
20:55:04 <dainanaki_> are there any functions that get rid of stomach aches
20:55:13 <Korollary> @hoogle stomach
20:55:14 <lambdabot> No matches found
20:55:16 <dmwit> ?index tums
20:55:16 <lambdabot> bzzt
20:55:40 <dons> > const nauseous
20:55:41 <lambdabot>   Not in scope: `nauseous'
20:55:53 <troy> dmwit: I'm a KDE guy, and one of the thing a bunch of users keep asking us is whether than can use a functional language like haskell to write plugins and so forth... so I guess that's good news for you guys - some sort of critical mass mark
20:55:57 <mauke> > fix tummy
20:55:57 <lambdabot>   Not in scope: `tummy'
20:56:27 <dmwit> cool cool
20:56:38 <dons> troy: very interesting.
20:56:49 <dainanaki_> see thats what we need for critical mass is a library to manipulate the physical universe
20:56:57 <troy> as a result, I'm doing a little research to see if it's even remotely possible :)
20:57:09 <ddarius> dainanaki_: Which libraries don't?
20:57:09 <Korollary> what kinda plugins?
20:57:10 * troy busies himself reading haskell.org
20:57:23 <dons> troy: yeah, its possible.
20:57:25 <troy> Korollary: things like desktop widgets and such...
20:57:30 <dons> you can do ffi calls into haskell from C (and C++)
20:57:31 <dmwit> Is there any priority queue data structure in Haskell?
20:57:35 <dmwit> (Do I have to write one myself?)
20:57:37 <dons> but you do need to link against the haskell runtime
20:57:51 <dainanaki_> ddarius i have yet to see a monad that can teleport me to places
20:58:02 <dons> dainanaki_: ContT does that, I think
20:58:08 <troy> dons: problem is that we'd somehow have  to expose the KDE/Qt API to haskell, which I'm not sure about since it's a very different programming paradigm...
20:58:16 <dons> ContT RealWorld
20:58:17 <dolio> dmwit: I have code for one I lifted from Purely Function Data Structures for one of the Ruby Quizes.
20:58:24 <ddarius> dmwit: Not in the standard libraries (directly).  I'm sure you can find one in some library.  There is also a cute short definition of one in the sample chapter of The Fun of Programming.
20:58:33 <dons> troy: right. a good binding needs a haskell person to do it.
20:58:39 <Kattana> you can only teleport within the monand, otherwise the global state would have to change
20:58:40 <dons> troy, you might look at gtk2hs, the large gtk binding
20:58:47 <Korollary> Can you write plugins in python or perl for kde?
20:59:06 <dons> (yes, if you can write plugins in python, you can in haskell too, as a general rule)
20:59:14 <troy> dons: we have a system in place to autogenerate bindings for python, ruby, javascript...
20:59:26 <dons> very cool. using some xml scheme?
20:59:47 <dons> if so, you might just be able to do it for haskell too (the gtk bindings are generated automaticaly, for example)
21:00:02 <dainanaki_> doesn't ghc output as c code somehow?
21:00:13 <stepcut> troy: I did a little experiment with writing KDE apps in Haskell a while back: http://www.haskell.org/haskellwiki/CPlusPlus_from_Haskell
21:00:14 <Korollary> yes, but you need the runtime too
21:00:15 <lambdabot> Title: CPlusPlus from Haskell - HaskellWiki
21:00:17 <dons> troy: it might be worthwhile contacting dcoutts, the gtk2hs guy, http://haskell.org/gtk2hs/ , about how best to go about an automated binding
21:00:18 <lambdabot> Title: Gtk2Hs
21:00:19 <sorear> troy: You seem to be well known here - I don't recognize you though.  care to give a 1 line intro?
21:00:31 * dmwit goes to look at Purely Functional Data Structures and The Fun of Programming.
21:00:33 <dons> troy, and to find interested haskell people to help .. :-)
21:00:51 <dolio> dmwit: http://haskell.org/haskellwiki/Haskell_Quiz/Astar/Solution_Dolio code there.
21:00:52 <lambdabot> Title: Haskell Quiz/Astar/Solution Dolio - HaskellWiki
21:00:53 <troy> sorear: not well known here - but in the KDE circles I am... :) I write a lot of KDE related press
21:00:56 <stepcut> troy: but, to do something serious would probably require sip (or whatever kdebindings provides these days)
21:01:32 <troy> stepcut: was thinking about Kross, since it allows most applications to have plugins writin in an arbitrary language (KDE 4 stuff)
21:01:55 <dmwit> dolio: Heh, I'm implementing the exact same thing...
21:02:17 <sorear> troy: you can put as much - or as little - effort into the binding as you want.
21:02:21 <dainanaki_> a nice step would be getting haskell back into kdevelop
21:02:22 <troy> written, rather... :)
21:02:54 <sorear> troy: heck, with name mangling, you could probably do a passably binding fully automatically, just from the nm --dyamic output
21:04:11 <sorear> troy: you can change to the haskell naming conventions; you can wrap types; etc etc.  but any amount of work will be proportionally useful
21:04:18 <sorear> not that I use kde
21:04:25 <sorear> just speaking libs-in-general
21:04:41 <dainanaki_> hey everybody, quick question, how did you begin to learn haskell (ie what resources, how come, etc.)
21:04:53 <dons> dainanaki_: start on haskell.org :-)
21:05:07 <dons> its haskell documentation central.
21:05:13 <ddarius> Nowadays
21:05:15 <Korollary> dons: I think he meant personally how we ran into haskell
21:05:24 <dainanaki_> dons, i know. i'm working through the yaht
21:05:35 <dons> ah oops. i see. type error :-)
21:05:36 <dainanaki_> exactly!
21:05:51 <dons> (silly dynamic binding of 'you' ;)
21:06:00 <sorear> dainanaki_: Not exactly sure.  I'm pretty sure I looked at the website (back in early 06), and reading the report sounds like something I would have done
21:06:01 <stepcut> troy: hrm, I expect that it would be possible to making a kross-haskell plugin
21:06:08 <sorear> dainanaki_: I didn't know to keep notes :)
21:06:12 <dainanaki_> dons, you just inferred the type
21:07:03 <Korollary> I saw an FP in Python article. I didn't even know what FP was before then. Then I read some about FP but I didnt understand anything.
21:07:45 <sorear> troy: So, how did we go all the way from "Haskell is so unimportant we shouldn't waste maintainance on an existing kdevelop syntax highlighting file" to "Let's send our chief press guy in to research full-on BINDINGS!" so quickly?
21:07:46 <ddarius> dainanaki_: I heard of Haskell in comp.objects (?) from Dirk Thierbach.  A little while later I was interested in learning functional programming and considering SML, O'Caml, and Haskell.  Haskell won because I really wanted pure functional programming (might as well go all the way).  At that point I trawled the internet and wrote code.
21:07:55 <stepcut> I got tired of the C compiler not finding enough bugs in my code, so I first tried, lclint/splint, then Clean, then Haskell
21:08:56 <mauke> argh, splint. MUST CRUSH SPLINT
21:08:57 <sorear> I got tired of programming so I started studying the masochist languages.  the Unlambda tutorial pointed me here
21:09:03 <ddarius> dainanaki_: I read many, many research papers on things like monads, monad transformers, various recursion scheme stuff
21:09:04 <dmwit> I saw an article on programming.reddit.com that mentioned Haskell, got curious, and found the Gentle Introduction.
21:09:08 <troy> sorear: umm, KDE has maybe 2000 people active in it's development... I wasn't even aware of the kdevelop situation :)
21:09:48 <ddarius> dainanaki_: I started getting into Haskell circa 2002
21:09:56 <sorear> troy: well, I've never used it, and it sure seemed monolithic from my vantage point :)
21:10:03 <dainanaki_> i find it really odd how haskell seems to be so unknown, yet has such a huge underground following
21:10:30 <sjanssen> sorear: you must have the most bizarre 'finding Haskell' story
21:10:36 <ddarius> It's not so unknown nowadays.
21:11:00 <sorear> I'll bet the INTERCAL community is much smaller, for a much better known language.
21:11:29 <Adamant> people actually know INTERCAL?
21:11:38 <dainanaki_> well, unless you read reddit a lot, then it is kind of obscure
21:11:46 <ddarius> Adamant: I knew of INTERCAL long before I had heard of Haskell.
21:11:56 <Adamant> ddarius, but did you actually know the language?
21:12:17 <dainanaki_> wow i hadn't heard of INTERCAL before
21:12:19 <ddarius> Adamant: No, but I never tried to learn it and that is not what sorear said.
21:12:24 <dainanaki_> i'm out of the loop on this stuff
21:12:26 <Adamant> yeah
21:12:34 <troy> sorear: nah - there's dozens of programs, each with it's own team, plus translator teams for all 65 languages, the libs folks, the promo team, and so forth... not so monolithic :)
21:12:40 <Adamant> well, what I'm trying to say is, having heard of something is not understanding it
21:12:52 <klemm_> 1  
21:12:58 <Adamant> more people understand Haskell than INTERCAL I bet
21:13:17 <ddarius> Adamant: More people care to I bet.
21:13:33 <dmwit> Hi klemm_!
21:13:56 <ddarius> dainanaki_: With pugs and darcs and now xmonad, Haskell is less and less obscure.  It has definitely been mentioned pretty significantly on various non-FP sites.
21:14:19 <Adamant> how is xmonad?
21:14:50 <ddarius> dainanaki_: When I first started programming Haskell, it was still starting to gain momentum.  #haskell had 30-some people max at that time.
21:14:55 <Nafai> ddarius: And, honestly, if you listen to any of the stuff the language guys at MS are doing, they aren't shy about saying that Haskell has been an influence
21:14:58 <dainanaki_> ddarius, true, but considering how well it does on the language shootout it still doesn't seem to get that much publicity
21:15:17 <dons> ?users #xmonad
21:15:18 <lambdabot> Maximum users seen in #xmonad: 39, currently: 34 (87.2%), active: 14 (41.2%)
21:15:23 <ddarius> dainanaki_: Now and before I could care less about the shootout.
21:15:23 <Adamant> dainanaki_, OCaml started getting some pull from the language shootout
21:15:25 <dainanaki_> well i agree its gaining momentum
21:15:48 <Adamant> Erlang is getting a Pragamatic Programmers book
21:15:49 <dainanaki_> i'm just saying that it still seems kind of underground
21:15:52 <ddarius> dainanaki_: At this point it has plenty.  A little while ago I think it hit a self-sustaining amount.
21:16:04 <Adamant> there needs to be one for Haskell
21:16:15 <dons> ?google real-world haskell book
21:16:17 <dainanaki_> yeah i agree
21:16:17 <lambdabot> http://radar.oreilly.com/archives/2007/05/real_world_hask.html
21:16:17 <lambdabot> Title: O'Reilly Radar > Real World Haskell title under development
21:16:19 <mauke> RealWorld# Haskell
21:16:19 <ddarius> Adamant: There are two books along those lines being written right now.
21:16:32 <Adamant> ddarius, hope they work out
21:16:47 <ddarius> Real World Haskell definitely will.  I'm less sure about the other one.
21:16:52 <dainanaki_> whats the site for that one being written online?
21:17:02 <Adamant> Practical OCaml was apparently not very good
21:17:11 <dons> http://www.realworldhaskell.org/
21:17:13 <lambdabot> Title: Real World Haskell
21:17:19 <ddarius> Adamant: That won't happen with Real World Haskell, but it may to the other one.
21:18:10 <ddarius> http://blogs.nubgames.com/code/?p=23
21:18:14 <lambdabot> Title: Nub Games » Pragmatic Haskell
21:18:24 <Adamant> yeah. Practical Common Lisp really helped Common Lisp
21:18:37 <bos> did it really?
21:18:42 <bos> it didn't sell many copies.
21:18:53 <Adamant> well, it got more people interested, I think
21:19:50 <Procyon112> byorgey++
21:20:17 <dainanaki_> i hadn't heard of pragmatic haskell
21:20:20 <ddarius> dainanaki_: Currently there is a Haskell buzz in the blogosphere which is just going to make Haskell better known producing more buzz.
21:20:50 <bos> having simonpj present at oscon will be nice, too.
21:21:06 <dons> would be good to win the icfp contest again
21:21:19 <sorear> I need to find some excuse to go to oscon.
21:21:30 <dons> you need an excuse??
21:21:31 <bos> "because i want to"?
21:21:36 <Korollary> have spj adopt you
21:21:51 <dons> sorear: going to sneak into HOPL?
21:21:56 <sorear> bos: I have a deep mental block against those words.
21:22:06 <dainanaki_> i want something that can translate my haskell code into java
21:22:12 <bos> how odd, for a southern californian :-)
21:22:17 <sorear> bos: I can't even ask for my parents to get new clothes
21:22:25 <Korollary> dainanaki_: it would look very unidiomatic java.
21:22:27 <dainanaki_> that way, i can mess with the mind of my compsci teacher
21:22:32 <Korollary> oh yes
21:22:34 <Korollary> that you can do
21:22:52 <bos> dainanaki_: use lambdavm, then decompile the bytecode into java. very easy.
21:23:01 <dons> dainanaki_: you could write in a special library, called 'haskell' which you call as system ("ghc --make Code.hs; ./a.out");
21:23:14 <dainanaki_> yes i want the recursion to pop her head
21:23:26 <sorear> bos: Do the decompilers work on non-Java bytecode?
21:23:28 <dmwit> Mmmm, thunks.
21:23:36 <dons> we do have a tool for embedding haskell in C, so you can submit .c files to programming contests that require that
21:23:56 <dainanaki_> yeah see thats what i'm talking about
21:23:56 <bos> jvm bytecode is extremely easy to decompile into something meaningful.
21:24:05 <dmwit> dons: What's it called?
21:24:12 <sorear> dmwit: nhc
21:24:21 <bos> ghc -fvia-C
21:24:32 <dons> nah, http://www.cse.unsw.edu.au/~dons/code/hsinc/hsinc
21:24:41 <dons> hexdump -v -e "6 \"%10uu,\"" -e '"\n"' $OBJ | sed
21:24:57 <dons> submit the resulting .c file
21:25:12 <dons> worked for the ACM programming contest, for the first 2 hours.
21:25:30 <dons> then we got kicked out for breaking the spirit of the contest, since our `preprocessor' was too clever, apparently
21:25:31 <sorear> bos: afair, jvm decompiler work as postfix->infix converters.  what do they do with general dags that don't correspond to valid java ast terms?
21:26:20 <Jaggederest_> heh, too clever a preprocessor... like lush? (lisp to c compiler)
21:26:30 <sorear> f2c
21:26:40 <dons> you were allowed to use C preprocessors. but ghc wasn't one of them, apparently.
21:27:29 <bos> sorear: don't know. i've blissfully ignored java since 1999.
21:27:58 <mauke> (void)Java;
21:28:11 <Nafai> bos: Lucky!
21:28:22 <Jaggederest_> heh calling ghc a c preprocessor is like calling the space shuttle a 'mass transporter'
21:28:59 <sorear> surely it wasn't ghc ... I highly doubt -lHSrts_u was allowed :)
21:29:09 <mauke> you know, perl is a nice utility program but its config file syntax is weird
21:30:35 <dmwit> Wow!
21:30:46 <dmwit> Reading the paper on 2-3 finger trees.
21:30:59 <sjanssen> dmwit: one of my favorites
21:31:12 <dmwit> data Tree a = Zero a | Succ (Tree (Node a)) -- all nodes are at the same depth, checked at the type level!
21:31:27 <sjanssen> the monoidal measurement scheme is utterly brilliant
21:32:22 <ddarius> dmwit: That's an easy case of encoding constraints using nested data types.
21:32:43 <dainanaki_> wait so what was the quickest way to turn the haskell into java then?
21:33:02 <dmwit> ddarius: A hardened veteran, you are.  But for me, it's the first time I've seen that kind of thing... and I like it! =)
21:34:04 <sorear> Who is responsible for extralibs?
21:34:28 <ddarius> http://www.haskell.org
21:34:39 <bos> i see someone has ported quickcheck to scala.
21:34:42 <sorear> ddarius: ?
21:34:53 <ddarius> haskell.org seems to be down
21:37:33 <ddarius> http://209.85.165.104/search?q=cache:znpoVA0YKroJ:www.haskell.org/pipermail/haskell/2003-April/011693.html+site:haskell.org+AVL+trees&hl=en&ct=clnk&cd=1&gl=us&client=firefox-a
21:37:35 <lambdabot> http://tinyurl.com/2xrtjl
21:38:06 <sorear> strange error for the day:
21:38:07 <sorear> stefan@stefans:/usr/local/src/ghcbuild$ sh boot && ./configure --with-ghc=/usr/bin/ghc-6.6.1
21:38:11 <sorear> Looks like you're missing libraries/Win32,
21:38:13 <sorear> maybe you haven't done './darcs-all get'?
21:39:15 <jfredett> This whole import system confuses me more than Borat.
21:39:30 <ddarius> jfredett: It's pretty simple...
21:40:17 <dainanaki_> its only simple when you are used to it
21:40:22 <jfredett> ddarius, but it just won't work-- it doesn't get the directory structure i set up- its like it cant decide if the namespace is flat or hierarchical, meh- its probably just lack of sleep
21:40:56 <ddarius> dainanaki_: And since it's so simple, you should be familiar with it if you are familiar with any programming language.
21:41:03 <sorear> work++
21:41:05 <jfredett> It does seem that everything in haskell is trivial, after you get used to it --
21:41:13 <ddarius> dainanaki_: Compare to e.g. ML's module system.
21:41:24 <dainanaki_> ddarius, not true at all
21:41:35 <jfredett> I don't mind working, but I've worked with Java and C/C++'s import/module/package systems.
21:41:52 <dainanaki_> ddarius, nvm i misread
21:41:59 <dainanaki_> forget i said anything
21:42:01 <jfredett> and Haskell does _not_ work like Javas system, at the very least.
21:42:21 <jfredett> i dunno- its just being a pain in the ass.
21:42:30 <jfredett> and I'm to tired to be paitent with it
21:42:30 <jfredett> :/
21:43:20 <dmwit> so sleep
21:43:28 <jfredett> wish i could
21:43:34 * jfredett is an insomniac
21:43:52 <jfredett> I'll be up till about 5
21:43:54 <sjanssen> jfredett: what is going wrong with your modules
21:44:11 <jfredett> sjanssen, nothings going wrong, persay, they just aren't doing what I expect
21:44:21 <jfredett> my situation is like this:
21:44:25 <sjanssen> here are the rules: a module called "X.Y.Z" should be in the file "X/Y/Z.hs"
21:44:38 <jfredett> absolutely
21:44:52 * troy will read the tutorials and get acquainted tomorrow...
21:44:54 <troy> night folks
21:45:05 <jfredett> the issue is, I have an external library I'm (trying) to use. so I have to rename a bunch of stuff
21:45:12 <jfredett> but this stuff is somewhat self-referential
21:45:25 <dmwit> jfredett: import X qualified as Y
21:45:25 <sjanssen> because your modules clash with the external lib module names?
21:45:26 <jfredett> that is module X.Y.Z references X.Y.W
21:45:55 <dainanaki_> for lambdavm do i have to recompile ghc?
21:46:17 <jfredett> but when I try to take all these imports and pipe them into 1 "super import" module, which just provides access to all the modules in X.Y.*
21:46:46 <jfredett> it complains it needs to access X.Y.* as having the X.Y parts , because the names dont match up
21:47:06 <jfredett> but- if i do that, I'd have to push them back further in the directory structure-
21:47:10 <sjanssen> jfredett: you're trying to make a 'meta module' that exports a bunch of modules?
21:47:25 <jfredett> at first, yes.
21:47:42 <jfredett> I shortly found that this was an altogether silly idea, and not worth the hassel
21:48:11 <jfredett> so I tried referencing modules in directory X.Y.Z from A.B.C
21:48:16 <jfredett> just the ones i needed this time
21:48:26 <jfredett> and then it complained it couldn't find the modules
21:48:28 <zeeeee> is haskellwiki being excrutiatingly slow for anyone else?
21:48:55 <jfredett> so I tried doing :iX.Y.Z, to add the dir structure to my search path (which solved an older problem.)
21:48:56 <ddarius> zeeeee: haskell.org is down
21:49:22 <zeeeee> ddarius, hmmm...now it is.
21:49:22 <sjanssen> zeeeee: haskell.org is probably receiving it's monthly DoS
21:49:28 <jfredett> so yah- I have a feeling I'm just not seeing something- but it's mildly annoying.
21:49:47 <sjanssen> jfredett: it just sounds like your include paths are weird?
21:49:56 <jfredett> and I hate whining about this stuff-- but it gets to me...
21:50:13 <sorear> stuff++
21:50:34 <jfredett> sjanssen, at this point, I don't have any clue whats wrong- and even if i did, I'd have no way of knowing how to tell you, sorry about the - - 's sorear
21:50:51 * jfredett likes --'s
21:51:00 <dmwit> ?karma \
21:51:00 <lambdabot> \ has a karma of 0
21:51:06 <sjanssen> lol, I was trying to figure out why sorear was doing that
21:51:33 <zeeeee> why is haskellwiki not indexed by google?
21:51:34 <dainanaki_> ?karma dainanaki_
21:51:35 <lambdabot> You have a karma of 0
21:51:51 <jfredett> sorear's my karma fixing buddy- I routinely lower the karma of things accidently, sorear picks up the peices.
21:51:54 <dainanaki_> ?
21:51:54 <ddarius> zeeeee: Because the robots.txt say no and there is a reason why it does.
21:51:57 <dmwit> zeeeee: Faulty robots.txt file.
21:52:02 <zeeeee> ddarius, yes, that's my question.
21:52:26 <sjanssen> zeeeee: because bots DoS the wiki
21:52:28 <sorear> zeeeee: Because every man woman and child calls their bandwidth wasting useless crashing-haskell.org-with-load spider "Googlebot"
21:52:53 <sorear> hmm.
21:53:03 <sorear> maybe Googlebot should start signing its requests
21:53:13 <dmwit> dainanaki_: People who do something particularly nice/clever get karma points. ;-)
21:53:14 <sjanssen> they try checking every diff between page modifications
21:53:46 <dainanaki_> what kind of nice/clever?
21:53:56 <jfredett> I wish I could download the whole internet.
21:53:59 <dainanaki_> like code? or just entertaining statements?
21:54:00 <zeeeee> is there no mirror of haskellwiki?
21:54:11 <sjanssen> dainanaki_: either
21:54:33 <dainanaki_> ah
21:54:43 <dmwit> Entertaining statements get ?remember'd
21:54:44 <dmwit> ?quote
21:54:44 <lambdabot> foot says: On a warm Saturday afternoon, sitting by the pool with a margarita, you casually sit up from your chaise lounge chair, reach over and pick up a gun, aim at your foot, and lazily pull the
21:54:44 <lambdabot> trigger.
21:54:45 <dainanaki_> well i better go improve my cleverness
21:54:47 <sjanssen> dainanaki_: anything from helping newbies, fixing bugs, finding clever solutions, making jokes, etc.
21:54:59 <jfredett> facebook applications, someone kill me now.. facebook is eating my life
21:55:17 <dainanaki_> gotcha
21:55:24 <ddarius> If you want a lot of karma, start coding.
21:55:35 <dainanaki_> well i'm off to push through another chapter of yaht
21:55:43 <jfredett> YAHT!
21:55:44 <dainanaki_> goodbye everybodies
21:55:47 <jfredett> laters
21:58:49 <Heffalump> sorear: (re jvm decompilers) what do you mean by a general dag? Something with a JSR?
21:59:10 <Heffalump> Or something with irreducible control-flow?
22:00:59 <zeeeee> would anybody know where this vimrc file originated from? i found it sitting around in my home directory but i have no idea where it came from.
22:01:00 <sorear> Heffalump: Any.  Not sure what the jvm's JSR means - I was thinking stack manipulations mostly but control flow works too
22:01:02 <zeeeee> http://rafb.net/p/dasiAG30.html
22:01:03 <lambdabot> Title: Nopaste - vimrc
22:01:08 <sorear> zeeeee: vim!
22:01:22 <sorear> zeeeee: do you ever run vi?
22:01:25 <jfredett> vim!
22:01:31 <zeeeee> sorear, sure
22:01:44 <sorear> zeeeee: vim creates that file whenever you run it.
22:01:52 <jfredett> I use cat and sed for my editing... :)
22:01:52 <Heffalump> if you have a control-flow join with stuff on the stack, then you can model that with assignment to a temporary or with a ? :
22:01:52 <zeeeee> sorear, no
22:02:01 <zeeeee> sorear, you're thinking of viminfo
22:02:27 <dmwit> Just a guess, but how about at the URL listed in the first line?
22:02:47 <zeeeee> dmwit, i can't find it anywhere on dons' site.
22:03:00 <Heffalump> irreducible control-flow (essentially jumps into the middle of a loop, once you've figured out where all the loops are using standard algorithms) is tricky; either you have to invent completely new control variables just to skip out bits of code, or you have to duplicate code (potentially exponentially in pathological cases)
22:03:38 * dmwit shrugs
22:03:42 <sorear> dons: ping?
22:03:43 <dmwit> Maybe he took it away.
22:03:50 <Heffalump> JSR is like a subroutine-within-a-method that's needed to implement finally blocks without code duplication when compiling from Java (cos you need to either branch back to the main control flow or rethrow the exception, which have very different stacks)
22:04:14 <zeeeee> dmwit, maybe, but i don't recall ever seeing a package of vim files released on his site
22:04:16 <Heffalump> decompiling it generally involves code duplication - again possibly exponential unless you can spot a finally pattern.
22:05:54 <Heffalump> sorear: however, I think many decompilers just pattern-match and basically die on inputs that weren't produced by the specific compiler they were written for
22:07:41 <dons> sorear: ?
22:08:53 <zeeeee> dons, did you ever release that vimrc file? or did i just get it from you at some point? (i'm mainly wondering if you maintain it / updated it in any way)
22:08:59 <zeeeee> http://rafb.net/p/dasiAG30.html
22:09:00 <lambdabot> Title: Nopaste - vimrc
22:28:39 <stick_figure> When I call show on a number, it comes out with a decimal.  Does this mean my number is a float?  If so, how do I make it an Integer?
22:30:06 <stepcut> > round 2.4
22:30:08 <lambdabot>  2
22:30:37 <stepcut> but, it might help to first understand why you have a float in the first place...
22:31:29 <stepcut> normally, if you have no types specified, numbers default to integers
22:31:54 <stick_figure> then why is show printing with a decimal?
22:32:23 <stepcut> stick_figure: you probably use some operation that required floats, so it used floats instead of integers
22:32:29 <stepcut> perhaps /
22:32:43 <stick_figure> I did use a guard that involved division...
22:32:44 <stick_figure> oh
22:32:57 <stepcut> you want div
22:32:59 <stick_figure> What's modulo in Haskell?
22:33:00 <stepcut> :t div
22:33:02 <lambdabot> forall a. (Integral a) => a -> a -> a
22:33:04 <stepcut> :t mod
22:33:06 <lambdabot> forall a. (Integral a) => a -> a -> a
22:33:09 <stick_figure> thanks
22:33:09 <stepcut> :t (/)
22:33:11 <lambdabot> forall a. (Fractional a) => a -> a -> a
22:33:49 <stepcut> In haskell, overloaded operators tend to always mean the same thing -- they are just overloaded to work on more than one type
22:34:15 <stepcut> integer and floating point division are different enough that they get different operators
22:34:25 <stick_figure> makes sense to me
22:34:58 <stick_figure> But I have no idea why Haskell uses && and || for logical and and or.  Words are more readable than symbols.
22:35:12 <stick_figure> I suppose it was invented in the 80s
22:35:16 <Heffalump> that's fairly subjective
22:35:33 <Heffalump> I find && and || easy to read
22:35:56 <Heffalump> "and" and "or" are used for the same operations over lists
22:36:53 <kfish> is that like "all" and "any" in perl6?
22:37:28 <Heffalump> no idea, but if they're modelled on Haskell, they're the same functions, but lifted to function types (all f = and . map f, any f = or . map f)
22:37:54 <Heffalump> "lifted to function types" is a poor description of what I mean, the equations are clearer
22:39:27 <stick_figure> mod is not infix?
22:39:32 <stick_figure> because it's not a symbol?
22:39:52 <bos> it can be used infix
22:40:31 <stick_figure> right now Haskell thinks my function is supposed to accept some function of various types instead of an Int
22:41:36 <stick_figure> yeah, using mod infix seems to cause problems
22:41:41 <stick_figure> > mod 10 3
22:41:49 <lambdabot>  1
22:41:51 <mauke> > 10 `mod` 3
22:41:52 <lambdabot>  1
22:42:04 <stick_figure> fine, with backticks
22:43:55 <stick_figure> With the guard syntax, how do you specify a catch all for the last case?  go | True or make a second declaration of the function without any guard?
22:43:55 <Heffalump> backticks are how you make normal functions infix
22:44:00 <Heffalump> otherwise
22:44:04 <Heffalump> but that's just an alias for True
22:44:22 <Heffalump> but it's a commonly used one
22:44:52 <stick_figure> I don't follow
22:44:54 <bos> @src otherwise
22:44:54 <lambdabot> otherwise = True
22:45:15 <Heffalump> it just makes guards read better
22:45:17 <stick_figure> thanks, I thought you were saying otherwise
22:45:23 <stick_figure> I agree
22:45:25 <Heffalump> oh, sorry :-)
22:45:51 <stick_figure> heh
22:46:59 <stick_figure> Does anybody here use Vim and if so is there a good way to format Haskell?  I'm tired of reformatting the blocks every time I edit a line.
22:47:09 <bos> @google vim haskell
22:47:11 <lambdabot> http://www.cs.kent.ac.uk/people/staff/cr3/toolbox/haskell/Vim/
22:47:11 <lambdabot> Title: Haskell mode for Vim
22:47:25 <bos> @wiki vim
22:47:25 <lambdabot> http://www.haskell.org/haskellwiki/vim
22:47:30 <bos> erk
22:48:15 <mauke> stick_figure: why do you need to reformat blocks?
22:49:26 <stick_figure> mauke: the = signs must line up, right?
22:49:35 <sorear> stick_figure: no
22:49:54 <mauke> whoa
22:50:00 <stick_figure> sorear, is it considered good style?  I'm just going on tutorial info here.
22:50:44 <sjanssen> aligned ='s tends to look better, but it can be impractical at times
22:51:42 <hpaste>  mauke pasted "random code sample" at http://hpaste.org/128
22:57:24 <stick_figure> I've been writing 3D tic tac toe in a number of languages as part of a project, and so far I've been using straightforward matrices that are mutated as the players input moves at the console.  What would be an appropriate structure in Haskell?
22:57:53 <stick_figure> Should I use a list of moves, or a matrix that gets rebuilt every iteration?
22:58:45 <kolmodin> good morning!
22:58:55 <stick_figure> good morning
22:59:23 <stick_figure> I'm curious how people solve these problems more generally in Haskell.
23:00:52 <sjanssen> you might use a matrix
23:01:30 <sjanssen> Array (Int, Int, Int) (Maybe (Either X O)) -- for, example
23:02:05 <stick_figure> I was thinking an a list of (int, int, int) associated with char
23:02:05 <bos> arrays are a bit overwhelming for newcomers, though.
23:02:26 <stick_figure> and a get_cell procedure for processing it
23:03:40 <stick_figure> the alternative, the matrix that gets copied and updated, preserves O(1) access time and costs the size of the matrix to update each iteration
23:04:03 <bos> stick_figure: if you're new to haskell, don't try using arrays.
23:04:05 <sjanssen> stick_figure: you might consider a Data.Map too
23:04:24 <sjanssen> O(log n) lookup and update
23:04:51 <stick_figure> how does it achieve that?
23:04:59 <bos> it's a tree.
23:05:12 <stick_figure> oh, right
23:05:17 <stick_figure> I guess to rebuild it costs log n
23:05:31 <bos> but you don't need to rebuild it, only update it.
23:05:34 <stick_figure> because you only have to throw out the branch reaching the changed node
23:05:44 <bos> rebuilding from scratch would be O(n).
23:06:32 <sjanssen> stick_figure: right, only the spine leading to the node must be thrown away
23:06:41 <sjanssen> which is guaranteed O(log n)
23:06:51 <stick_figure> yup
23:07:28 <bos> data Val = Empty | X | O
23:07:44 <bos> type TTT3 = Data.Map (Int, Int, Int) Val
23:08:19 <sjanssen> you might even skip the Empty constructor
23:08:34 <sjanssen> let lack of a mark be denoted by a missing value in the Map
23:13:22 <stick_figure> definitely
23:14:18 <sjanssen> I bet there's some really nice list monad win condition code waiting to be found here :)
23:15:37 <dons> i wish i could write this in haskell,   \sc ws -> map (,sc)  ws
23:15:55 <sjanssen> yes, I want tuple sections badly
23:15:56 <dons> then drop the ws
23:16:16 <dons> \sc -> map (,sc) --->   map . (,)
23:16:24 <stick_figure> I dono, the way I've been doing it so far is computing a list of the winning sequences, ie cells that can cause a player to win, and checking all of them every turn.  It could be improved by checking only those including the changed cell, though.
23:16:43 <stick_figure> in Haskell, the winning sequences would have to be recomputed every round
23:16:59 <sjanssen> stick_figure: why would they need to be recomputed?
23:17:15 <stick_figure> because the structure will be updated
23:19:20 <sjanssen> you just need to generate the indices of three-in-a-row sequences, right?
23:19:31 <stick_figure> four
23:19:41 <stick_figure> three is kind of a trivial game :)
23:21:02 <stick_figure> so far I've been generating the indices by dealing with straight sequences, single plane diagonals, and major diagonals separately
23:21:49 <sjanssen> but generation of these indices has nothing to do with the current game state, yeah?
23:23:21 <stick_figure> sure.  In most of my implementations I haven't been using indices, but actual references to the cell location.  Indices would also work.
23:24:42 <sjanssen> references won't really work at all in Haskell :)
23:25:23 <stick_figure> It's still the same order of computation time as rebuilding, since you have to iterate the structure, but it is more efficient.
23:25:39 <stick_figure> sjanssen, yup, that's why I have to work this out :)
23:31:42 <hpaste>  sjanssen pasted "tic tac toe in the list monad" at http://hpaste.org/129
23:31:54 <sjanssen> stick_figure: ^^^, might spoil it for you, though
23:32:30 <stick_figure> right, but that's only 2D tic tac toe
23:32:41 <stick_figure> but cool
23:32:52 <sjanssen> 3d is just a matter of changing 'wins'
23:33:02 <edwardk> =)
23:33:35 <sjanssen> the nice part is allWins -- the same code will work for any board size or dimension
23:33:49 <sjanssen> or number of players
23:34:19 <stick_figure> that is cool
23:37:53 <stick_figure> how does the guard line in that work?
23:38:37 <stick_figure> I'm imagining that the all bit works like a filter
23:38:54 <sjanssen> all (== m) ms -- every elem of ms is equal to m
23:39:22 <sjanssen> guard True = computation succeeds
23:39:27 <sjanssen> guard False = computation fails
23:39:48 <stick_figure> which computation is it referring to though?  that's what I can't tell
23:40:10 <sjanssen> the list monad is essentially backtracking computations, so failure means this alternative is invalid, move on to the next one
23:40:59 <sjanssen> you can read the '<-' in allWins as 'for each'
23:42:26 <stick_figure> because it's invoked on a list?
23:42:42 <sjanssen> yeah, because we're in the list monad
23:43:32 <sjanssen> (we know this because we have a list type on the RHS of a '<-')
23:43:37 <stick_figure> so xs <- wins starts some iteration, and the second <- (name?) doesn't iterate because it uses pattern matching?
23:44:00 <sjanssen> well, none of this is actually iteration
23:44:04 <stick_figure> true
23:44:10 <sjanssen> and the two lines are actually the same
23:44:27 <sjanssen> I played a little trick here using mapM and M.lookup
23:44:34 <sjanssen> @type Data.Map.lookup
23:44:34 <stick_figure> I get that, I think
23:44:36 <lambdabot> forall k a (m :: * -> *). (Ord k, Monad m) => k -> Data.Map.Map k a -> m a
23:44:55 <stick_figure> that just turns a sequence of indices into the actual data
23:45:09 <sjanssen> lookup returns a monadic value too!  It 'succeeds' when there is a value for that key, and 'fails' when there is no such value
23:46:16 <sjanssen> mapM is doing double duty: it is looking up the contents of each field, and it fails when one field is empty
23:46:39 <stick_figure> failure from lookup will also act the same way as guard failure
23:46:47 <sjanssen> right
23:47:02 <sorear>  / /_\// /_/ / /  | |    GHC Interactive, version 6.7.20070601, for Haskell 98.
23:47:40 <Procyon112> so, is there a difference between "data X = X T" and "newtype X = X T" other than efficiency?
23:47:52 <sorear> Procyon112: Yes, newtype is strict
23:47:58 <sorear> Procyon112: and unlifted
23:48:15 <sjanssen> Procyon112: they differ in the treatment of 'X undefined'
23:49:12 <Procyon112> so newtype X = X <infinite structure>" will fail to terminate?
23:49:38 <bos> when you use it.
23:49:53 <Procyon112> good to know :)  Thanks
