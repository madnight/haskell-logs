00:30:20 <tsp> does gentoo have ghc 6.6?
00:30:25 <tsp> it keeps saying masked by package.mask
00:30:37 <cr> that means it has it
00:31:56 <tsp> got it
00:32:15 <sjanssen> tsp: you can add =dev-lang/ghc-6.6 to your /etc/portage/package.unmask
00:32:39 <sjanssen> but be aware that the 6.6 transition isn't complete yet, so things might break
00:34:09 <cr> hehe, paludis grabbing the haskell overlay w/ darcs
00:36:25 <araujo> the haskell overlay is on darcs
00:37:18 <cr> but GHC uses CVS - unless the ebuild is just named that for historical reasons
00:37:41 <sjanssen> cr: ghc uses darcs
00:39:43 <dmwit> sjanssen: Is there a preferred naming style for Config.hs?
00:41:20 <sjanssen> dmwit: not specifically, what did you have in mind?
00:41:51 <dmwit> Something like "sLayout = Full"
00:43:24 <twb> I've found a bug in the GHC user guide; where can I report it?  It's a fairly minor bug -- a missing space.
00:43:27 <sjanssen> dmwit: you want to set the default layout?
00:43:35 <sjanssen> defaultLayout is better
00:43:40 <dmwit> okay
00:44:16 <sjanssen> that matches defaultLeftWidth and defaultDelta
00:53:51 <twb> I'm a bit confused about how to use the FFI.
00:54:09 <twb> I'm using GHC (and/or hugs, I guess).
00:54:25 <dons> foreign import ccall unsafe "stdio.h getc" c_cget :: IO CChar -- like that?
00:54:46 <twb> That will search the usual places for stdio.h?
00:54:55 <dons> yep
00:54:57 <twb> And I can just use --make?
00:55:14 <sjanssen> twb: you'll want -fffi too
00:55:17 <dons> if the C lib is in some funny place, you can add -I flags to find it.
00:55:18 <twb> Aha!
00:55:20 <dons> or use cabal
00:55:29 <twb> I forgot I had glasgow-extensions off in the Makefile.
00:56:42 <twb> Main.hs:2:56: Not in scope: type constructor or class `CChar'
00:57:08 <sjanssen> twb: import Foreign.C.Types, probably
00:57:31 <sjanssen> twb: Makefile?  obsolete!
00:57:45 <twb> sjanssen: what should I be using?
00:58:12 <sjanssen> cabal is the standard build system for Haskell stuff
00:58:42 <twb> Where can I find an cabal tutorial for (ex-)Make users?
00:58:45 <sjanssen> http://darcs.haskell.org/~sjanssen/xmonad/xmonad.cabal is all the data needed to build xmonad
00:59:17 <dons> twb, check the README
00:59:36 <dons> 3 lines, involving runhaskell, are used to configure, build and install all cabalised apps
00:59:59 <twb> Sorry, which README?
01:00:07 <dons> for xmonad?
01:00:16 <dons> oh oops...
01:00:17 <twb> I looked at that, but I don't understand.
01:00:18 <dons> my fault. :-)
01:00:19 <dons> gimme a sec.
01:01:37 <dons> sjanssen: hmm, repo permissions changed?
01:02:10 * dons grumbles about darcs
01:02:34 <dons> grr.
01:02:34 <twb> What I'm actually doing is attempting to port a scsh library to Haskell (for the fun of it).
01:02:41 <sjanssen> dons: oh?
01:03:28 <sjanssen> yes, some of the permission bits have changed
01:03:31 <dons> sjanssen: hang on. fixing..
01:03:35 <dons> DON'T DO ANYTHING!
01:03:52 <QtPlatypus> ORA has a very strange idea what functional programing is apprently books on extreem programing, OS/390 And .NET CLR are classified as "Functional Programing"
01:03:55 * twb watches from the sidelines, bemused.
01:04:01 <sjanssen> darcs isn't smart enough to leave these alone?
01:04:19 <twb> sjanssen: darcs will just use umask by default.
01:04:25 <twb> AFAIK
01:04:27 <dons> sjanssen: ok. can you fix the permissions now?
01:05:04 <twb> So if a new file is created, it'll get umask & 644 or whatever.
01:06:23 <tsp> how long will ghc take to compile? omg
01:06:30 <tsp> its still going
01:06:45 <twb> tsp: maybe an hour or two on a 3000bogomips box
01:06:51 <tsp> damn
01:07:03 <dons> 4 mins ;-)
01:07:06 <dons> but you need more cores.
01:07:07 <sjanssen> tsp: it takes less than an hour on my core duo laptop
01:07:17 <sjanssen> dons: can you chgrp the files you own?
01:07:17 <tsp> you have core duo? wow
01:07:20 <twb> I'm gonna go home, afk 40min.
01:07:47 <dons> sjanssen: hmm
01:07:48 <dons> dons@monk:/home/sjanssen/public_html/xmonad$ darcs repair
01:07:48 <dons> Applying patch 126 of 126... done.
01:07:48 <dons> different file lengths for /home/sjanssen/public_html/xmonad/_darcs/pristine/TODO and /home/sjanssen/public_html/xmonad/_darcs/newpristine/TODO
01:07:52 <dons> Fixing pristine tree...
01:08:10 <tsp> > 175^8
01:08:11 <lambdabot>  879638824462890625
01:08:17 <tsp> wow thats big
01:08:32 <tsp> > 6^6^6^6
01:08:36 <lambdabot> Terminated
01:08:40 <tsp> damn
01:08:43 <tsp> he's too slow
01:08:50 <tsp> can that even be calculated?
01:08:59 <dons> ok. all good
01:09:13 <dons> twb: now, check the README for cabal build instructions :-)
01:09:17 <dmwit> > 6 * logBase 10 (6^6^6)
01:09:19 <lambdabot>  Infinity
01:09:31 <dmwit> Heh, close enough.
01:09:49 <tsp> > (+ 1 2 3 4)
01:09:50 <lambdabot>        add an instance declaration for (Num (t -> t1 -> t2 -> a))
01:09:52 <sjanssen> hmm, maybe I should just change my umask on darcs.haskell.org
01:10:01 <dmwit> > 6^6^6
01:10:03 <lambdabot>  2659119772153226779682489404387918594905342200269924300660432789497073559873...
01:10:08 <dmwit> > 6^it
01:10:09 <lambdabot>   Not in scope: `it'
01:10:28 <tsp> > let x = 6^6^6 where x^6
01:10:29 <lambdabot>  Parse error
01:10:40 <tsp> > let x = 6^6^6 in x^6
01:10:41 <lambdabot>  3535309136882213493716895045086793447508621514715375229208209795729500829183...
01:10:47 <tsp> is that the same thing?
01:11:09 <dmwit> No.
01:11:15 <dmwit> > let x = 6^6^6 in 6^x
01:11:19 <lambdabot> Terminated
01:11:40 <dmwit> ?let stupidlybignumber = 6^6^6
01:11:41 <tsp> x^6 and 6^x are the same, no?
01:11:42 <lambdabot> Plugin `eval' failed with: IRCRaised Data.ByteString.last: empty ByteString
01:11:49 <dmwit> tsp: I don't think so.
01:11:58 <dmwit> > 2^6 == 6^2
01:12:00 <lambdabot>  False
01:12:02 <dmwit> ;-)
01:12:04 <tsp> damn
01:12:08 <tsp> I suck at math more than I thought
01:12:53 <sjanssen> @smallcheck \x -> (x :: Integer)^6 == 6^x
01:12:53 <lambdabot> Unknown command, try @list
01:12:59 <tsp> I'm assuming python's "for i in l: print l" would be map print l in haskell?
01:13:04 <tsp> or something like that anyway
01:13:09 <sjanssen> @scheck \x -> (x :: Integer)^6 == 6^x
01:13:11 <lambdabot>   Failed test no. 1. Test values follow.: 0
01:13:27 <TSC> tsp: If print does IO, it's slightly different
01:13:30 <dmwit> :t mapM
01:13:32 <Cale> tsp: well, print would be an IO action, so mapM
01:13:33 <lambdabot>     Ambiguous occurrence `mapM'
01:13:33 <lambdabot>     It could refer to either `mapM', imported from Control.Monad.Writer
01:13:37 <sjanssen> tsp: mapM print l
01:13:41 <Cale> :t Control.Monad.mapM
01:13:42 <tsp> what's the big deal about IO?
01:13:44 <lambdabot> forall a (m :: * -> *) b. (Monad m) => (a -> m b) -> [a] -> m [b]
01:13:55 <tsp> I know that lazy eval can affect it, but its just weird
01:13:59 <Cale> tsp: IO breaks referential transparency, so you want to control it.
01:14:04 <TSC> tsp: Haskell functions are pure; you can't do IO in a pure function
01:14:14 <TSC> (without extra stuff)
01:14:20 <Cale> In Haskell, if a function returns a value for some parameters, it must always produce the same value.
01:14:27 <dmwit> tsp: Ah, here we go.  Now you're touching on everybody's favorite topic. =)
01:14:27 <Cale> and functions have no side effects
01:14:32 <tsp> 99% of the programs I'm planning to write are I/o
01:14:34 <tsp> lol
01:14:43 <Cale> Haskell has a decent system for IO
01:14:48 <tsp> muds
01:14:56 <sjanssen> tsp: Haskell has some major advantages with the IO segregation
01:15:01 <tsp> muds need objects - players, ships, rooms, etc
01:15:02 <Cale> Well, muds have plenty of non-IO processing to do.
01:15:10 <sjanssen> for one thing, IO actions are first class citizens
01:15:23 <tsp> here's the kicker - can haskell pass functions around?
01:15:30 <Cale> tsp: absolutely
01:15:31 <sjanssen> need to run an action n times?  replicateM n someAction
01:15:34 <dmwit> ?faq
01:15:35 <lambdabot> The answer is: Yes! Haskell can do that.
01:15:35 <Cale> and IO actions as well
01:15:50 <dons> > [putChar 'x', print "foo"]
01:15:52 <lambdabot>  [<IO ()>,<IO ()>]
01:15:54 <Cale> You can write your own control structures, even.
01:16:08 <tsp> neat
01:16:14 <tsp> so I could write
01:16:23 <tsp> send_to_all_players "test"
01:16:40 <Cale> sure, that would likely be an IO action.
01:16:42 <tsp> crap
01:16:52 <tsp> players woudl need to be a global variable
01:17:03 <tsp> I don't want to pass it around to everything
01:17:12 <Cale> Well, depending.
01:17:24 <dmwit> Probably you'd want the players to reside in a State monad or something like that.
01:17:41 <Cale> One way to subvert that is to use another monad over in which there's some extra functionality for working with players.
01:17:45 <dons> you'd encapsulate your state in a StateT propbably.
01:17:46 <Cale> over IO *
01:18:00 <Cale> Or even just a Reader.
01:18:19 <tsp> I would need to add palyers, delete players, etc on connect/disconnect also
01:18:40 <sjanssen> this sounds like a job for STM!
01:18:45 <Cale> ReaderT over IO, with an environment consisting of an IORef set of players.
01:18:54 <tsp> stm?
01:18:55 <Cale> Or perhaps an TVar :)
01:19:17 <sjanssen> tsp: software transactional memory, cool tools for working with many threads
01:19:18 <Cale> STM is a rather nice system for concurrency.
01:19:31 <tsp> with stm, players couldn't interact with each other then
01:19:38 <Cale> why not?
01:19:45 <tsp> everythings being run at once
01:19:52 <Cale> Give each player its own thread.
01:19:54 <Spark> programmers don't need to care about stm, they only need to care about atomicity
01:20:01 <Spark> and there are many implementations of atomicity
01:20:02 <dons> tsp, doesn't quite work like that ;-)
01:20:03 <tsp> ah
01:20:07 <Cale> Spark: true.
01:20:08 <Spark> several kinds of stm, and several kinds of automatic locking
01:20:10 <tsp> hmm, once ghc compiles
01:20:19 <tsp> I can start learning by using it
01:20:22 <dons> why not just grab a binary for your system?
01:20:27 <Cale> tsp: Don't compile GHC yourself unless you have to.
01:20:41 <tsp> gentoo
01:20:46 <dons> ah right.
01:20:52 <Cale> Even on gentoo. There's a binary package.
01:20:56 <sjanssen> tsp is on Gentoo (right?) and there isn't a ghc-bin-6.6 package yet
01:21:02 <Cale> There isn't?
01:21:06 <tsp> I don't know how to use grps, and gentoo's binary pkg is old
01:21:13 <Cale> I specifically requested that dcoutts create one, and he did. :)
01:21:13 <tsp> I had to unmask ghc-6.6
01:21:17 <tsp> and ghc-bin-6.6
01:21:19 <sjanssen> Cale: nope, there will be soon
01:22:41 <Cale> Oh? That's odd. Maybe it's just in the Haskell overlay?
01:22:41 <tsp> can ghc create binaries that have no need for the ghc dlls or the .sos?
01:22:41 <sjanssen> oh, it might be brand new
01:22:41 <tsp> if they do in the first place
01:22:41 <dmwit> X11 is a big standard.
01:22:41 <Cale> I don't use gentoo personally. I had him do it for my friend who did.
01:22:41 <dons> tsp. right. you can link statically.
01:22:41 <tsp> heh
01:22:41 <sjanssen> Cale: yes, it looks like there is such a package
01:22:41 <kolmodin> there is a ghc-bin-6.6 package on gentoo for x86 and amd64
01:24:00 <kolmodin> and gentoo's binary package is the latest tagged version, 0.2
01:24:18 <kolmodin> I guess we could add a binary-darcs package too
01:25:35 <sjanssen> tsp: so you could just install ghc-bin if you want
01:29:28 <tsp> I installed ghc on windows, and I'm stuck at loading package base linking done
01:32:26 <tsp> there we go, emerging ghc-bin
01:32:46 <kolmodin> tsp: should only take a minute or two :)
01:33:09 <tsp> its compiling, linking setup
01:33:23 <tsp> configure: no greencard found
01:33:29 <kolmodin> that's ok
01:33:35 <tsp> oh well
01:33:46 <kolmodin> it's not going to use it anyway
01:33:58 <kolmodin> cabal can be scary sometimes.. :)
01:34:11 <tsp> what is cabal?
01:34:41 <kolmodin> maybe that wasn't cabal after all. anyway, it's a build system for haskell programs and libraries
01:34:45 <tsp> there we go, prelude>
01:35:03 <tsp> I tried x=1, but it didn't work
01:35:08 <kolmodin> aye. which arch is this? x86?
01:35:12 <tsp> x86
01:35:13 <dmwit> let x=1
01:35:45 <tsp> neat, I can let x=1 then let x=2 later on
01:36:07 <dmwit> Yep, that's because ghci runs in the IO monad.
01:36:25 <dmwit> What you're actually doing is shadowing x with a later binding.
01:36:46 <quicksilver> dmwit: not sure what that's got to do with the IO monad
01:36:52 <quicksilver> dmwit: you can shadow let bindings in pure code too :P
01:36:54 <dmwit> But try, for example, "let x=x+1" and then "x".
01:37:35 <dons> > let x = 1 : x in x
01:37:37 <lambdabot>  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1...
01:37:40 <dons> ;-)
01:37:48 <dmwit> quicksilver: Ah, I didn't know that.
01:40:03 <quicksilver> > let x = 1 in let x = 2 in x
01:40:05 <lambdabot>  2
01:40:09 <tsp> I typed :load Network in ghci, but it didn't load
01:40:26 <dmwit> :m +Network
01:40:26 <quicksilver> ghci autoloads modules as needed
01:40:31 <quicksilver> you can 'import' it with :m
01:40:47 <dons> :l is for local src files, not library packages.
01:40:57 <quicksilver> (but you don't need to import things to use them, you can use fully qualified names like Data.Set.member)
01:40:58 <tsp> :h didn't say anything about :l or:m
01:41:01 <dmwit> quicksilver: Autoloading is new in >6.4?
01:41:17 <dmwit> tsp: You can abbreviate any command to its first letter.
01:41:23 <quicksilver> dmwit: I thought it was in 6.4 but I don't necessarily remember :)
01:41:26 <dmwit> :h is actually short for :help
01:41:28 <tsp> could not find module Network
01:41:41 <tsp> maybe it was the ghc bin package
01:41:50 <dmwit> Well, it sure isn't in 6.4. =P
01:42:00 <sjanssen> tsp: emerge dev-haskell/network
01:42:04 <tsp> it sure works on ghc 6.6 windows
01:42:25 <sjanssen> tsp: the Windows installer install "extralibs" by default, Gentoo doesn't
01:42:51 <dons> ah, you don't have the network package installed.
01:42:52 <sjanssen> tsp: you'll probably need to add something to your package.unmask to get it
01:43:58 <tsp> got it
01:44:03 <tsp> sweet
01:44:11 <tsp> where do I find docs on the network package?
01:45:01 <dons> ?docs Network
01:45:01 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/network/Network.html
01:45:01 <tsp> weird
01:45:20 <tsp> that doesn't show anything
01:45:24 <tsp> blank page in edbrowse
01:45:57 <dons> for docs, in general, start on haskell.org
01:46:00 <tsp> I'll just read it with IE
01:46:12 <sjanssen> tsp: strange, it works fine in firefox
01:46:15 <dons> but that page looks fine to me in w3m too
01:46:19 <sjanssen> ?docs Data.List
01:46:20 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Data-List.html
01:46:29 <sjanssen> tsp: does that Data.List url work?
01:48:33 <tsp> the socket page worksfine in IE
01:48:36 <tsp> and lynx
01:48:39 <tsp> oh well, edbrowse bug
01:48:44 <tsp> I really, really want to rewrite that browser
01:49:40 <merus> "Perl is a great prototype language, but I wanted to support javascript, and that is more than perl can handle, so it's back to C for me. " ??? (from edbrowse homepage)
01:49:50 <dmwit> Urk.  Is X11-extras generated by hand?
01:50:02 <sjanssen> dmwit: yes
01:50:12 <dmwit> Hooo boy.
01:50:17 <sjanssen> the .hsc files are
01:50:17 <dons> dmwit: feel free to c2hs X11 for us :-)
01:50:33 <tsp> merus: that seems reasonably
01:50:35 <sjanssen> dmwit: cabal puts the generated .hs files right next to the real source
01:50:35 <tsp> s/ly/le
01:50:47 <tsp> ok, how do I see what a PortID is?
01:50:50 <dmwit> Wait, what?
01:50:51 <tsp> from within ghci
01:50:56 <merus> More than perl can handle? They're all turing complete...
01:51:11 <dmwit> What do you mean by "the real source"?
01:51:13 * merus is just confused by that statement, 'tis all.
01:51:24 <dons> tsp: Prelude Network> :info PortID
01:51:44 <dons> :info is your friend :-) as is the source.
01:52:23 <sjanssen> dmwit: the files that end in .hsc are the ones we've actually written
01:52:41 <tsp> a PortNumber is a word16, but how do I convert to that?
01:53:08 <sjanssen> dmwit: cabal runs those .hsc files through hsc2hs and produces .hs files
01:53:18 <tsp> I tried 1333 :: Network.Socket.PortNum but it wasn't in scope
01:53:25 <sjanssen> dmwit: so make sure you make changes in the .hsc files!
01:53:35 <mux> > fromIntegral (3 :: Int) :: Word16
01:53:36 <lambdabot>  3
01:53:54 <dmwit> Hmmm, now I have to learn about hsc files, hey?  Plenty of learning, this! =))
01:54:38 * mux needs to look if it is possible to ask Cabal to install data files to some specific destination at install
01:54:57 <tsp> not in scope? Word16
01:55:07 <tsp> Prelude Network> let port x = fromIntegral  (x :: Int) :: Word16
01:55:11 <sjanssen> dmwit: they're real easy.  Basically Haskell with a couple added constructs
01:55:25 <sjanssen> tsp: you can get Word16 from the Data.Word module
01:55:28 <mux> @hoogle PortId
01:55:28 <sjanssen> :m +Data.Word
01:55:28 <lambdabot> Network.PortID :: data PortID
01:55:34 <mux> :info PortID
01:55:55 <mux> ah
01:56:04 <mux> tsp: you should use the PortNumber constructor
01:56:09 <mux> @type PortNumber 25
01:56:12 <lambdabot> Not in scope: data constructor `PortNumber'
01:56:18 <mux> @type Network.PortNumber 25
01:56:21 <lambdabot> Network.PortID
01:56:29 <tsp> got it
01:56:47 <mux> or Service or UnixSocket
01:57:06 <mux> > Network.Service "smtp"
01:57:07 <lambdabot>   Not in scope: data constructor `Network.Service'
01:57:51 <tsp> weird
01:58:01 <tsp> I listened on a port, typed "s" to show the value of s, did it again and it said address already in use
01:58:22 <tsp> weird
01:58:24 <mux> that's normal
01:58:38 <mux> well it sounds so at least
01:58:46 <mux> what do you mean by "I typed 's'"
01:58:56 <tsp> I typed s in the prelude to see what s was bound to
01:58:59 <mux> @hoogle SO_REUSEADDR
01:59:00 <lambdabot> No matches found
01:59:04 <mux> @hoogle REUSEADDR
01:59:05 <lambdabot> Network.Socket.ReuseAddr :: SocketOption
01:59:08 <tsp> after I did let s = listenOn $ PortNumber 1333
01:59:11 <tsp> it said Socket: 5
01:59:16 <mux> right
01:59:24 <mux> so it allocated a Socket to listen on port 1333
01:59:32 <tsp> I thought the let would have done that for me
01:59:34 <mux> and if you re-type s, it fails because there's already a socket listening there
01:59:51 <tsp> but wouldn't s print the value of s?
02:00:01 <tsp> the whole point of ghci is so I can check things as I code
02:00:30 <dmwit> :t listenOn
02:00:31 <mux> well it does here
02:00:32 <lambdabot> Not in scope: `listenOn'
02:00:39 <mux> Prelude Network> listenOn $ PortNumber 1234
02:00:41 <mux> <socket: 5>
02:00:50 <mux> that looks like it works just nice to me?
02:01:04 <tsp> ah
02:01:06 <sjanssen> tsp: you want s <- listenOn $ PortNumber 1333
02:01:14 <tsp> I know in python, if I'm not sure what a variable is, I can type its name and get its value
02:01:32 <tsp> sjanssen: weird, let s = worked
02:01:37 <tsp> when I hit s
02:01:39 <sjanssen> tsp: the problem here is the difference between IO actions and other values
02:01:43 <mux> in ghci, you have to know is that there's an implicit "print" call for everything you type
02:01:55 <mux> yeah, let worked, you just defined some kind of alias
02:02:10 <sjanssen> tsp: when you say "let s = ...", this means create that IO action BUT DON'T RUN IT YET
02:02:16 <tsp> ah
02:02:34 <sjanssen> so every time you entered 's' on the command line you ran the listenOn action
02:02:52 <tsp> lol
02:02:55 <tsp> oops
02:03:06 <sjanssen> s <- listenOn $ PortNumber 1333 -- run that IO action and hold the result in s
02:04:34 <tsp> got it
02:04:49 <tsp> I have a listening socket, but there's no select function in this lib
02:05:05 <sjanssen> we use threads instead of select
02:05:08 <mux> yes, you probably want to just use threads
02:05:24 <tsp> ah, so one thread that accepts connections, and spawns new ones
02:05:34 <sjanssen> exactly
02:05:48 <tsp> ?docs thrad
02:05:48 <lambdabot> thrad not available
02:05:51 <tsp> ?docs thread
02:05:51 <lambdabot> thread not available
02:05:53 <tsp> hmm
02:06:01 <sjanssen> @docs Control.Concurrent
02:06:01 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Control-Concurrent.html
02:07:20 <tsp> I need a simple threadingah
02:07:20 <beelsebob> anyone got any goo suggestions for a nice CPS example?
02:07:26 <beelsebob> (not CPS monad, just CPS)
02:35:46 * beelsebob pokes everyone
02:36:13 * amiddelk giggles
02:36:38 * beelsebob really needs a good CPS example
02:38:07 <beelsebob> dcoutts: you got any nice ideas for a short piece of CPS code?
02:38:39 <dcoutts> beelsebob: what's the context here?
02:39:07 <beelsebob> dcoutts: I'm writing the evaluation section for my higher-order debugging paper
02:39:15 <beelsebob> for which I'm writing a section on simple HO code
02:39:17 <beelsebob> a section on CPS
02:39:22 <beelsebob> and a section on monadic code
02:39:33 <beelsebob> and I'm struggling to come up with a nice short CPS example
02:39:38 <beelsebob> the best I can do is a tree sum
02:39:41 <dcoutts> the Builder monoid is pretty hairy :-)
02:40:01 <dcoutts> or all that ShowS stuff
02:40:08 <beelsebob> see, I'd rather not have hairy code, I'd quite like it to be simple, and beautiful
02:40:09 <dcoutts> String -> String
02:40:21 <beelsebob> showS stuff?
02:40:25 <t0mas> hi!
02:40:37 <beelsebob> lo!
02:40:43 <dcoutts> beelsebob: type ShowS = String -> String
02:40:55 <dcoutts> all the H98 pretty printer stuff uses that
02:40:59 <beelsebob> ah, I see
02:41:09 <beelsebob> ohhh... that's a good idea
02:41:13 <dcoutts> difference lists etc
02:41:19 <beelsebob> Olaf has a pretty printer that's entirely CPS
02:41:23 <beelsebob> it might blow my brain up
02:41:25 <beelsebob> but hey
02:41:27 <dcoutts> heh
02:43:15 <rashakil_> is anybody here that wants to hear me complain about xmonad?
02:43:25 <dmwit> rashakil_: Yup!
02:43:31 <rashakil_> okay
02:43:37 <sjanssen> rashakil_: what's your problem?
02:44:07 <beelsebob> I always want to hear people complain about all monads D
02:44:08 <beelsebob> :D
02:44:10 <merus_> I'm kind of confused. GHCi claims it's version 6.2.whatever, but I thought the debian package was 6.6... maybe I'm just confused.
02:44:24 <rashakil_> pressing alt-L (I mean "meta" L :-)) off the right edge of the screen causes things to start dying
02:44:31 <ibid> merus_: what does "which ghci" say?
02:45:02 <merus_> /usr/bin/ghci
02:45:18 <dmwit> Heh, so it does.
02:45:21 <t0mas> hi dmwit
02:45:27 <dmwit> That would be my fault. =(
02:45:57 <rashakil_> haven't tried the other direction very hard yet; i've retreated to kde for now
02:46:37 <merus_> ghci --version says it's 6.2, I must have gotten the wrong package.
02:46:45 <ibid> merus_: and what does dpkg -l ghc6 say?
02:47:05 <merus_> yeah, 6.2.2-3
02:47:08 <dmwit> rashakil_: Okay, sorry this didn't work for you.
02:47:13 <rashakil_> That's probably all for now..
02:47:14 <dmwit> t0mas: heyo!
02:47:18 <rashakil_> no it works!  I <3 it.
02:47:19 * merus_ sighs.
02:47:26 <ibid> merus_: are you running unstable?
02:47:39 <merus_> I thought I was, but that's apparently not the case.
02:47:42 <t0mas> dmwit? remember my parsing problem from yesterday?
02:47:53 <t0mas> (today your time? :))
02:48:14 <ibid> merus_: what's in your /etc/debian_version?
02:48:22 <dmwit> t0mas: The bank statements?
02:48:25 <t0mas> yes
02:48:35 <dmwit> A little bit.
02:48:38 <dmwit> How's it going?
02:48:41 <t0mas> I have another little problem... calling my parsing function recursive now..
02:48:54 <dmwit> hpaste?
02:48:59 <merus_> ibid, 3.1
02:49:00 <t0mas> and the optional description field following a transaction should be linked to the transaction
02:49:08 <t0mas> but... it's optional
02:49:11 <ibid> merus_: then you are not running testing or unstable
02:49:14 <dmwit> Heh.
02:49:29 <t0mas> so I can't just make the parrern (x:y:xs) and use y as the description for transaction x
02:49:38 <merus_> ibid, so it goes. thanks.
02:49:39 <t0mas> some standard way to do this in haskell?
02:49:49 <ibid> merus_: you are runningt the current stable; if you wait for a while more, we should release etch :)
02:50:02 <tsp> damn
02:50:08 <dmwit> t0mas: Maybe something like takeWhile?
02:50:09 <tsp> I'm totally lost when it comes to sockets, threads and stuff
02:50:57 <t0mas> dmwit: takeWhile "it begins with a comment identifier" and then for the recursive all to dropWhile the same condition?
02:51:29 <dmwit> t0mas: I think so.
02:51:35 <dmwit> Is this close to the semantics you want?
02:51:54 <tsp> ?docs ForkIO
02:51:54 <lambdabot> ForkIO not available
02:52:11 <t0mas> yes
02:52:14 <tsp> ah, control.concurrent
02:52:35 <ibid> tsp: your problem is in capitalization :)
02:53:13 <rashakil_> Okay, it seems that M-h is doing strange things too.  At first, it would take M-l a number of keypresses equal to M-h to get the divider visible again, but at some point there was trouble
02:54:07 <dmwit> rashakil_: Don't worry about playing with that too much, it really is broken.
02:54:12 <rashakil_> okay
02:55:13 <Nanar> Hi
02:55:25 <Nanar> I have a very strange thing:
02:55:30 <Nanar> $ runhaskell Setup.hs  build
02:55:39 <Nanar>     Could not find module `Distribution.RpmDeps':
02:55:39 <Nanar>       it is a member of package cabalrpmdeps-0.0.3, which is hidden
02:55:43 <dmwit> ?hoogle bound
02:55:44 <lambdabot> Network.Socket.Bound :: SocketStatus
02:55:45 <lambdabot> Array.bounds :: Ix a => Array a b -> (a, a)
02:55:45 <lambdabot> Data.Array.bounds :: Ix i => Array i e -> (i, i)
02:55:53 <sjanssen> rashakil_: your problem is now fixed
02:56:02 <rashakil_> ah, thanks :)
02:56:02 <Nanar> the strange things is I don't have this on x86_64 box
02:56:16 <dmwit> Heh, nice.
02:56:17 <Nanar> this appear only on my dual core
02:57:00 <sjanssen> the split is now restrained between 0% and 100%
02:57:03 <Nanar> does anyone have an idea ?
02:57:31 <Lemmih> JaffaCake: Did you have a nice vacation?
02:57:41 <JaffaCake> yes thanks :)
02:58:55 <Igloo> Nanar: Do you depend on cabalrpmdeps? Does rerunning Setup.hs configure fix it?
02:59:12 <Nanar> Igloo: no
02:59:31 <twb> How does one install hackage packages on Debian?  Is it something like Chicken's `chicken-setup <package>'?
03:00:05 <Nanar> Igloo: I use haskell installed with rpm, I did those package, both are build in same manner on both arch...
03:00:34 <Igloo> twb: You'd need to build cabal-install yourself
03:01:06 <Igloo> Nanar: "no" to which question?
03:01:32 <Nanar> Igloo: Setup.hs configure didn't fix it
03:02:06 <Nanar> I wonder if this is related http://hackage.haskell.org/trac/ghc/ticket/1108
03:02:08 <lambdabot> Title: #1108 (-package and -idir in OPTIONS_GHC are ignored, but manual says that they' ...
03:02:59 <Igloo> Nanar: It sounds like the .cabal file doesn't list it as a dependency, although I don't know why it would work on one machine but not the other
03:04:36 <Nanar> Igloo: ahhhh yup I commented the dep, don't know why darcs didn't revert this changed, thanks
03:05:21 <Nanar> Igloo: I note that all packages should be listed as deps, this is a good things !
03:06:18 <tsp> damnit
03:06:28 <tsp> how do I get the first argument out of a 3 element tuple?
03:06:46 <rashakil_> (\(x,y,z) -> x)?
03:06:49 <dmwit> frst (a, _, _) = a
03:07:06 <dcoutts> case thing of (x, _, _) -> ...
03:07:07 <tsp> unless I can write a function handle x y z = do something with them
03:07:18 <sjanssen> @djinn (a, b, c) -> a
03:07:18 <lambdabot> f (a, _, _) = a
03:07:25 <tsp> ah
03:08:10 * mux learns about data-files and getDataFileName
03:08:11 <mux> cute
03:08:28 <Cale> tsp: triples and larger raw tuples, although provided, are sort of uncommon in Haskell code. Usually when your tuples start getting large, you declare your own data types.
03:08:38 <tsp> Cale: I'm trying to do sockets
03:08:43 <tsp> and accept puts out 3 tuples
03:09:10 <Cale> ah, okay
03:09:28 <tsp> > let handle a b c = a+1 in handle (1,2,3)
03:09:29 <lambdabot>   add an instance declaration for (Num (t, t1, t2))
03:09:29 <lambdabot>     In the expression: le...
03:09:47 <sjanssen> tsp: handle (a, b, c) = ...
03:09:47 <dons> I once saw a program use a zip4.
03:09:48 <Cale> usually, you just pattern match that result in place
03:10:02 <dons> but it was a benchmark anyway
03:10:02 <sjanssen> dons: yikes!
03:10:15 <Cale> (hdl, host, port) <- accept s
03:10:21 <dons> i think it was benchmarking zips
03:10:37 <dons> (no, not really. it was a real program, circa 1991)
03:10:55 <sjanssen> dons: does zip4 fuse in your streams framework yet? :P
03:11:12 <dons> yes. i added it after I saw that program.
03:11:14 <dons> just in case.
03:11:40 <dons> ah no! only up to zip3.
03:11:41 <sjanssen> zip7 too?
03:11:55 <dons> zip3 will fuse, but we don't do zip4 or above.
03:12:13 <dons> though, one use in 20 years. hmm. maybe we should fuse it.
03:12:29 <dcoutts> dons: you added zip4 the other day didn't you?
03:12:41 <dons> i thought so. but i see only a rule for zip3
03:12:48 <dcoutts> hmm
03:12:55 <sjanssen> dons: you can simulate higher zips with multiple applications of zipWith
03:13:04 <dons> oh i did add it.
03:13:08 <dons> but jsut not the fusion rule.
03:13:19 * dons corrects his terrible error
03:13:19 <dcoutts> heh
03:13:47 <dons> ah no. i cheated. it fuses with zipWith4 instead.
03:14:21 <dcoutts> and zip4 = zipWith (,,,)
03:14:27 <dons>     next (sa' :!: sb' :!: sc' :!: sd :!: Just (L a) :!: Just (L b) :!: Just (L c)) =
03:14:30 <dons>         case nextd sd of
03:14:33 <dons>             Skip    sd' -> Skip (sa' :!: sb' :!: sc' :!: sd' :!: Just (L a) :!: Just (L b) :!: Just (L c))
03:14:36 <dons> :-)
03:14:43 <dmwit> sjanssen: I just sent some patches along.
03:14:45 <dons> zip4 needs a 7-tuple
03:15:03 <rashakil_> I see "don't resize past end of screen" was in the README, so that was actually a user error ;)
03:15:12 <Cale> hmm, there's something to consider if we ever change the meaning of do-notation -- perhaps pattern matches on a type with a single constructor should be translated using lambda even though they're technically refutable.
03:16:27 <sjanssen> @type let zipping = zipWith ($) in \ws xs ys zs -> repeat (,,,) `zipping` ws `zipping` xs `zipping` ys `zipping` zs
03:16:29 <lambdabot> forall a a1 a2 a3. [a] -> [a1] -> [a2] -> [a3] -> [(a, a1, a2, a3)]
03:17:06 <Cale> That is, so that things like (x,y) <- foo still work in the IO monad.
03:18:57 <hpaste>  lizhn pasted "(no title)" at http://hpaste.org/1143
03:19:12 <Cale> lizhn: Compile with --make
03:19:36 <lizhn> Cale: ok ... thank you
03:19:41 <Cale> lizhn: Basically, if you ever catch flak from the linker, compile with --make :)
03:19:57 <sjanssen> dmwit: your second email seems to be lacking attachments
03:20:04 <Cale> It'll autodetect all the packages necessary to compile your program.
03:20:26 <dons> dmwit: so what are you working on?
03:20:32 <beelsebob> do you need write access to a darcs repo to check out via ssh?
03:20:32 <sjanssen> dmwit: your second email seems to be lacking attachments
03:20:49 <Cale> Otherwise, you have to do -package regex-base ...
03:20:52 <dmwit> dons: I just fixed rashakil_'s complaint.
03:20:59 <dmwit> sjanssen: I know, I resent.
03:21:11 <dons> was that about Xinerama headers?
03:21:42 <rashakil_> is there any standard function that behaves like (\(x,y) z -> if z < x then x else if z > y then y else z)?
03:21:43 <dmwit> dons: No, it was just that changing the boundary allowed the leftWidth to range below 0 or above 1.
03:21:44 <lizhn> Cale: it does work....thanks again :D
03:21:53 <dons> ah right. yes. that was on my list too :-)
03:21:56 <dons> thanks.
03:22:11 <dmwit> rashakil_: I just wrote one because I couldn't find it.
03:22:19 <rashakil_> ok, was wondering.
03:22:32 <dmwit> \(mini, maxi) -> min maxi . max mini
03:22:50 <rashakil_> that's a cuter way of saying it...
03:23:34 <matt__r> you know, it really is cute :)
03:24:06 <Thunder> dmwit: It differs from the original formular if maxi < mini.
03:24:14 <dmwit> Thunder: I know. =(
03:24:26 <matt__r> awww,
03:24:43 <dmwit> Thunder: I put a guard that like | mini <= maxi on mine, but I'm not sure what to actually do.
03:24:44 <hpaste>  beelsebob pasted "oddness" at http://hpaste.org/1144
03:24:54 <beelsebob> does anyone know what's going on with darcs there?
03:25:03 <beelsebob> *confused as to why it asks for p/w twice*
03:25:11 <beelsebob> *also confused as to why it premission splodes*
03:27:36 <Cale> iirc, darcs isn't good at getting files remotely via ssh, unless you have automatic authentication set up.
03:27:55 <sjanssen> dmwit: I already fixed the resizing issue in the main repo, so you'll want to remove that patch from your local repo
03:28:05 <dmwit> Oh.
03:28:09 <dmwit> Okay.
03:28:12 <beelsebob> hmm, okay
03:29:07 <Cale> beelsebob: but I'm not 100% sure on that -- it might be better to find someone who knows darcs really well
03:29:36 <beelsebob> Cale: it sounds likely
03:29:42 <beelsebob> odd thing is it checks out okay from my machine
03:29:47 <beelsebob> but not when run on myrtle
03:33:02 <dmwit> sjanssen: Re: resizing, darcs pull says no remote changes; is the main repo in a new location?
03:33:41 <sjanssen> dmwit: technical issues with the repo (and I forgot to push earlier)
03:33:44 <sjanssen> dons: ping
03:33:57 <dmwit> Ah, okay, I'll just wait then.
03:35:03 <dons> sjanssen: pong.
03:35:27 <swiert> dons: Are you still on schedule for TMR?
03:35:30 <sjanssen> dons: can you chgrp darcs all of your files in the xmonad repo
03:35:53 <dons> swiert: deadline is when?
03:35:55 <sjanssen> dons: (and give group writing privileges)
03:36:40 <swiert> dons: A week after ICFP.
03:37:01 <dons> swiert: ah phew. then yes, a week after ICFP is ok :-)
03:37:04 <dons> not a week before ;-)
03:37:14 <dons> sjanssen: heads up re. TMR.
03:37:38 <dons> sjanssen: so i've chgrpd to darcs, and chmod g+w
03:37:46 <sjanssen> the deadline is what, exactly?
03:37:52 <swiert> dons: Yeah - I always seem to have all the time in the world "next week".
03:37:52 <sjanssen> dons: works fine now
03:38:08 * sjanssen doesn't have the ICFP submission date hardwired in his brain
03:38:14 <dons> sjanssen: so around 12th.
03:38:22 <swiert> 13th of April for TMR.
03:38:25 <dons> 6th April is hardwired into my brain.
03:38:41 <dons> swiert: then yes, should be fine. code's written.
03:38:52 <dons> sjanssen: ok? we're writing a TMR on xmonad :-)
03:38:58 <swiert> Great!
03:39:11 <sjanssen> dons: sounds good
03:39:53 <tsp> hmm, before I give haskell a break for another few years, is there a monad/threading/etc tutorial? I just can't get how this will all fit together, socket wise and such
03:48:10 <dmwit> :t when
03:48:12 <lambdabot> forall (m :: * -> *). (Monad m) => Bool -> m () -> m ()
03:52:27 <beelsebob> gyargh
03:52:32 <beelsebob> I hate latex sometimes
03:52:44 <Cheery> how would I do few simple bit operations in haskell?
03:52:48 <matt__r> beelsebob: as do i
03:52:51 <sjanssen> Cheery: Data.Bits
03:53:20 <beelsebob> matt__r: you happen to see what I've done wrong here http://hpaste.org/1145
03:53:39 <beelsebob> missing $ inserted... there's a $ there already!!!!
03:54:00 <matt__r> beelsebob: yep - you have tex inside a code block
03:54:12 <beelsebob> matt__r: code is a synonym for alltt
03:54:16 <beelsebob> so it should work fine
03:54:18 <beelsebob> ... in theory
03:54:24 <matt__r> beelsebob: brb
03:55:55 <dons> tsp, you want a tutorial on concurrency and sockets and monads?
03:56:09 <dons> you'll find those here, http://haskell.org/haskellwiki/Blog_articles
03:56:11 <lambdabot> Title: Blog articles - HaskellWiki
03:57:16 <dons> honestly though, starting a question in #haskell with "before I give haskell a break for another few years" isn't terribly inspiring.
03:57:16 <tsp> thanks
03:57:44 <dons> the main places to read are Control.Concurrent docs, regarding forkIO and threading
03:57:53 <dons> and then pehraps the IRC bot tutorial, on typical socket programming
03:58:38 <matt__r> beelsebob: first of all, I don't know what alltt is, but if you want to markup your code, use the listings package.  I think it has a haskell mode
03:58:55 <matt__r> then you don't need the textits inside code anyway
03:59:06 <beelsebob> kk
03:59:18 <hpaste>  IsaacHaze annotated "latex oddness" with "better use this" at http://hpaste.org/1145#a1
04:00:29 <matt__r> however, I think the real problem is that by using alltt (which I assume just makes all text tt) you are putting in your code in normal latex mode instead of code mode (where it ignores everything that is not \end{code}
04:01:27 <matt__r> in latex mode, some of your code looks like maths (probably the *) and latex is telling you this with the Missing $ inserted error.
04:01:36 <matt__r> isaac's suggestion is a good one.
04:02:22 <tsp> the irc bot tutorial is client code
04:02:24 <tsp> I want to write a mud
04:03:08 <matt__r> beelsebob: however, there is one problem with isaac's suggestion, if you are writing literate haskell, you *need* to use \begin{code}, in which case I have a little trick for  you
04:03:17 <matt__r> beelsebob: just let me find it
04:03:47 <dons> tsp, check one of the server tuts then.
04:03:52 <dons> same principle though.
04:04:12 <dons> fork threads for jobs, hand off data over the network as bytestrings. keep your state on disk serialised for backup.
04:04:23 <dons> a mud with STM would be a rather nice haskell server app, actually.
04:04:30 <dons> i can pretty much see how you'd write the whole thing.
04:04:57 <dons> ?time sjanssen
04:05:02 <dmwit> :t trace
04:05:04 <lambdabot> Not in scope: `trace'
04:05:17 <dons> dcoutts: ok. now we're getting better numbers :-)
04:05:19 <hpaste>  matt__r annotated "latex oddness" with "(no title)" at http://hpaste.org/1145#a2
04:05:29 <dons> dcoutts: how does N-queens running 60% faster sound? :-)
04:05:34 <dcoutts> woo!
04:05:41 <dcoutts> dons: what changed?
04:05:45 <dons> i must have broken my cold ghc somehow
04:05:46 <sjanssen> dons: Mon Mar 26 06:03:26 CDT 2007
04:05:50 <dcoutts> mm, ok
04:05:52 <dons> that's running with all the latest patches
04:05:54 <beelsebob> matt__r: thx :)
04:06:02 <matt__r> dons: can you see it opening up like the matrix
04:06:02 <dons> sjanssen: oh, early riser eh?;-)
04:06:10 <dcoutts> dons: got my monaic base patches too?
04:06:15 <sjanssen> dons: no, the other one :)
04:06:29 <dons> well, better late than never.
04:07:32 <dons> hmm. some big big speedups. interesting.
04:09:09 <cwitte> I'm trying to compile GHC under mingw and I get the error message "SuperKind is exported by the hs-boot file, but not exported by the module" any ideas on where to go from here?
04:09:16 <dcoutts> dons: we need context rules: forall step, C. concatMap (\x -> unstream (Stream step (C[x]))) = unstream . concatMap' step (\y -> C[y])
04:09:33 <dons> oh, runciman's wheel-sieve is 60% faster. Colin will be happy :-)
04:09:38 <dcoutts> dons: so we can deal robustly with things like this with lambdas
04:09:48 <dons> mm. that'd be useful.
04:10:06 <dons> i think everything is faster so far...
04:10:16 <dons> and half way through the suite. fingers crossed.
04:10:19 <dcoutts> dons: wait for happy / alex :-)
04:10:23 <dons> yeah.
04:10:31 <dons> ghc                  1.89    seconds            (1.0 x)
04:10:32 <dons> ghc-old              2.55    seconds            (1.3 x)
04:10:40 <dons> first time cryptarithm1 is faster
04:10:57 <dons> oh cute, fannkuch is faster
04:10:58 <dons> http://www.cse.unsw.edu.au/~dons/code/nobench/spectral/fannkuch
04:10:58 <dons> ghc                  1.05    seconds            (1.0 x)
04:10:58 <dons> ghc-old              1.27    seconds            (1.2 x)
04:10:58 <lambdabot> Title: Index of /~dons/code/nobench/spectral/fannkuch
04:11:03 <dons> that's a shootout program!
04:11:23 <dons> k-nucleotide also faster.
04:11:44 <dons> ok. so maybe fusion is fun after all, and not just weeks of hard work.
04:11:53 <dcoutts> dons: whee!
04:11:55 <dcoutts> dons: intuitively that rule should work ok since all our stream constructors look like: foo (Stream next0 s0) = Stream next (contextMentioning s0) where stuff = ...
04:12:03 <dons> meteor benchmark also faster. that's 4/4 shootout programs improving.
04:12:31 <dons> mm, classic sorting benchmark faster,
04:12:31 <dons> ghc                  2.58    seconds            (1.0 x)
04:12:32 <dons> ghc-old              3.65    seconds            (1.4 x)
04:12:40 * dons jumps up and down
04:12:45 <dcoutts> so as long as we can see through the let/where, we've got an explicit Stream construction where the state is constructed in a fairly trivial way from the input value
04:12:47 <pejo> dons, is ghc-old with shortcut fusion?
04:12:52 <dons> pejo: yep.
04:13:27 <sjanssen> pejo: ghc-old is also a 6.7 build?
04:13:47 <sjanssen> s/pejo/dons
04:17:46 <dons> sjanssen: yes. same compiler, one with a base library with stream fusible functions.
04:19:29 <Cale> cwitte: That question is sufficiently rare that it's probably worthwhile to post to the mailing list.
04:19:54 <sjanssen> jawsome. (to take a phrase from The Street Sharks)
04:20:07 <Cale> cwitte: (say, haskell-cafe)
04:20:31 <dons> sjanssen: have you noticed some people just don't get the concept of a tiling window manager?
04:20:35 <dons> e.g. "Can it handle KDE without putting the taskbar in a tile?"
04:21:01 <cwitte> Cale: thanks I'll give that a try
04:21:05 <dons> "I wish it had pie menus"
04:21:23 <sjanssen> dons: I laughed out loud when I saw the pie menu comment
04:21:37 <dons> dcoutts: ah well, happy is no faster. still 19.11 / 12.38
04:21:40 <vincenz> pie menus seem like a neat idea
04:21:46 <Cale> Some people seem to wish everything had pie menus.
04:21:55 <dcoutts> dons: hmm
04:21:57 <dons> i just wish i had pie.
04:21:59 <dons> on the menu.
04:22:05 <vincenz> pi
04:22:14 <vincenz> dons: what are you doing with happy?
04:22:28 <sieni> > 4 * atan 1
04:22:29 <lambdabot>  3.141592653589793
04:22:31 <Cale> Let's satisfy those people with a user interface where absolutely everything is a pie menu.
04:22:35 <dcoutts> Cale: some people just want pie
04:22:43 <Cale> The whole system, just one big endless pie menu.
04:22:45 <dcoutts> mmm pie
04:22:52 <vincenz> dcoutts: homer 2?
04:23:04 <dcoutts> vincenz: :-)
04:23:04 <Cale> Oooh, floor pie!
04:23:09 <Cale> doh!
04:23:11 <sieni> > "I hereby donate " ++ (show $ 4 * atan 1) ++ " to dons."
04:23:12 <lambdabot>  "I hereby donate 3.141592653589793 to dons."
04:23:56 <Cale> We just have to work out a sensible way to do all output through pie menus as well.
04:24:07 <Cale> Perhaps through unselectable options.
04:24:36 <rashakil_> just have the menus exhibit a menu name in the middle
04:24:51 <rashakil_> and update the name every second to send output word by word, let the user poll manually.
04:25:06 <siti> hmm making a hashtable in low level haskell will be fun, Data.Hashtable consumes far to much memory and is probably slow
04:25:21 <sjanssen> Cale: a menu with two options: view next character; stop viewing;
04:25:32 <Cale> heh
04:25:34 <sjanssen> with the current character in the middle, of course
04:25:36 <dcoutts> sjanssen: that's a Stream
04:25:48 <rashakil_> stream menus!  It's the new paradigm
04:25:58 * sjanssen wants menu fusion
04:25:59 <Cale> maybe "go back one character" as well.
04:26:07 <dcoutts> sjanssen: ha ha ha
04:26:16 <Cale> Though that breaks the stream idea somewhat.
04:26:29 <dcoutts> Cale: no, you can't rewind streams, it's ultra-minimal
04:26:53 <dcoutts> consider it a feature
04:27:13 <xs> siti, iirc, data.hashtable lacks the code to shrink; it can only grow.
04:27:20 <Cale> Rather than pie menus, how about ring-menus, like those used in Secret of Mana.
04:27:28 <xs> siti, it shouldn't be too hard to write though.
04:27:41 <Cale> So you can control everything with just the arrow keys.
04:27:41 <siti> xs: that's fine, but it consumes so much memory because I think the Marrays suck too...
04:28:25 <sjanssen> dons: too many of these "pie menu" requests and I'm going to develop CMWMDS (cranky minimal window manager developer syndrome)
04:28:59 <siti> I have found a paper on lock free hashtables, hopefully it is not to difficult...
04:30:06 <xs> siti, using STM?
04:30:39 <siti> no this is a general algorithm
04:31:06 <siti> I think IO monad is still the correct place for this, because you don't want to copy with every update...
04:31:57 <siti> xs: http://www.cs.tau.ac.il/~afek/SplitOrderListHashSS03.pdf
04:32:52 <xs> hum, you can do CAS in Haskell?
04:33:51 <Cale> xs: You could write a CAS in Haskell.
04:34:10 <Cale> You could also probably embed a CAS in Haskell.
04:34:14 <xs> Cale, isn't CAS usually very processor specific?
04:34:28 <Cale> oh, you're referring to the instruction
04:34:40 <xs> ah, you expanded computer algebra system? :)
04:34:41 <Cale> Compare and Swap, and not Computer Algebra System
04:34:43 <Cale> yeah
04:34:44 <xs> hehe :)
04:35:03 <siti> there must be a way to execute asm in haskell ;)
04:35:07 <rahikkala> I'm all for cowboy action shooting in Haskell
04:35:11 <Cale> STM probably has an efficient implementation in terms of CAS
04:35:24 <Cale> (in fact, it does)
04:35:37 <Cale> I don't know if the existing code generator does anything like that though.
04:36:16 <xs> it would be nice.
04:36:38 <Cale> Which platforms have a compare and swap instruction?
04:36:43 <siti> I will probably find it's to hard and just to a simple hashtable in haskell ;)
04:37:10 <siti> Cale: I think glib CAS I will look in it
04:37:13 <Cale> siti: You'll get better results from Data.Map
04:37:30 <siti> no data.map = evil
04:37:33 <xs> siti, have you looked at STM? i wrote a hash that worked with IO/STM/etc a little while ago. it wasn't too painful.
04:37:35 <siti> to much memory :p
04:37:40 <Cale> siti: Why?
04:37:51 <sjanssen> siti: Data.IntMap might help a bit
04:38:04 <Cale> siti: Or are you talking about some sort of concurrent data structure?
04:38:06 <siti> lol not this discussion again :p
04:38:15 <sjanssen> (I imagine you've already got an injection into Int since you're writing a hashtable)
04:38:20 <matt__r> dons: scanning the discussion this evening, can I assume you are still making hay with GHC optimisation plug-ins?
04:38:25 <mux> all modern platforms have a compare and swap instruction, or a way to emulate it
04:38:49 <Cale> mux: cool.
04:39:15 <mux> 80386 don't, and you usually emulate the missing cmpxchg instruction with cli; sti (disabling and re-enabling interrupts)
04:39:31 <Cale> siti: People are way way too concerned about logarithmic factors in algorithm complexity.
04:39:37 <mux> and somewhat "old", but still quite common ARM CPUs lack this too
04:39:39 <siti> I don't need concurrency, what I need it a reasonably fast data structure that does not take lots of memory, but concurrency would be nice...
04:39:59 <mux> I'm not sure how the lack of an atomic CAS is handled in the ARM case, but it's probably quite the same as the cli; sti hack
04:40:05 <Cale> Log factors almost never actually matter. If something runs in logarithmic time, then for all practical purposes, it runs in constant time. :)
04:40:28 <siti> I am not concerned about logn lookup, but when you have space leaking maps, that are even worse with STM, it's not good :(
04:40:47 <Cale> Space leaking?
04:40:48 <mauke> Cale: wow, so sort is O(n)?
04:40:48 <sjanssen> siti: do you have actual numbers that say Data.Map is too slow?
04:41:00 <Cale> mauke: roughly
04:41:08 <siti> sjanssen: it's not slow but it uses to much memory...
04:41:08 <Cale> It's soft-O(n)
04:41:11 <rashakil_> mauke: on computers with finite address space, sort is O(1) :-)
04:41:25 <mauke> rashakil_: old news :-)
04:41:51 <siti> functions like union/intersect cause so many problems :(
04:42:05 <siti> there needs to be lots of strict functions in data.map
04:42:07 <sjanssen> siti: Data.Map is strict in it's spine (and effectively strict in it's keys due to the frequent comparison), I don't see how it could leak space
04:42:11 <siti> insertwith' is a start
04:43:01 <sjanssen> I wonder if Data.Map is an instance of NFData
04:43:25 <siti> sjanssen: google around so many people have the same problems.  An example is do a lookup in a map and it will hang on to the map until the lookup is actually done...
04:43:34 <xs> Cale, soft-O? how is that defined?
04:44:22 <sjanssen> siti: that specific issue is your fault, not Data.Map's
04:44:35 <siti> sjanssen: also it's near impossible to get numbers with heap usage in haskell...
04:45:06 <sjanssen> it is the programmer's job to make sure the result of lookup is demanded soon enough
04:45:07 <siti> I didn't have problems with lookup, it was just an example but there are lots of things like it
04:45:15 <Cale> f(n) is Õ(g(n)) if f(n) is O(g(n) log^k g(n)) for some k.
04:45:46 <rashakil_> Õ is pronounced... "slow"?
04:45:46 <sjanssen> siti: and we can solve your problems with union too
04:45:54 <siti> the nasty one is: foldWithKey
04:45:57 <siti> and fold
04:46:02 <Cale> Õ is pronounced soft-O
04:46:33 <xs> Cale, nice. thanks!
04:46:57 <sjanssen> strictifyMap m = foldr (\(_, x) xs -> x `seq` xs) m (Data.Map.toList m) -- this function will make sure all the values stored in the map are evaluated
04:47:10 <siti> ok
04:47:20 <rashakil_> oh, it actually exists already
04:47:39 <sjanssen> (it assumes that the keys are already evaluated, which is almost always true due to Ord)
04:47:51 <Cale> Oh, and assuming that there's a finite information density in the universe, no matter how good your data structures are, lookups take at least O(r^(1/3)) time.
04:48:13 <siti> what kind of space usage am I looking at with 50,000 entries?
04:48:17 <Cale> n^(1/3), sorry
04:48:28 <sjanssen> siti: what are your keys and values?
04:48:49 <Cale> Since as you increase the size of your memory, some of that memory is going to be farther and farther away.
04:49:21 <siti> just with the map... although keys are bytestrings, values are foreign pointers...
07:00:45 --- topic: '["The Haskell programming language: Summer of Code time! http://hackage.haskell.org/trac/summer-of-code/","I'm writing a raytracer in the typesystem","http://haskell.org","Paste: http://hpaste.org","Logs: http://tunes.org/~nef/logs/haskell/","History: http://tinyurl.com/yowkle","The language of ICFP winners 3 years running"]'
07:00:45 --- topic: set by dons on [Sun Mar 18 22:06:50 2007]
07:00:45 --- names: list (clog Metuk guenni sm sreeram_ kuribas Kattana dblog miez myname zarvok tizoc[w] sreeram obsethryl eddyp_ erg0t int-e uebayasi jtoy chessguy_work Lemmih paolino lizhn Uncountable Mynstral byteshack russo lekro sad0ur ventonegro piis3141 twanvl progexp171 Nshag ndm rashakil dolio jcreigh tene michiel largos Caelum thedward nothingmuch tizoc capisce yosemite Codex_ jmob SimonRC dons resiak jdev gaal SamB Nafai znephf Igloo kosmikus orbitz)
07:00:45 --- names: list (mattam atsampson tumm dylan loud- vincenz Lamperi sendark dino- Syzygy- mr_ank toxic jdrake Altair^ kpreid benny__ encryptio ski LoganCapaldo Cheery whaleofconfusion kc5tja diffbavis malcolmw triplah_ BCoppens dmwit Jaak Cale aking Heffalump meester Nanar QtPlatypus falconair dblhelix shachaf arke seancorfield allbery_b dgriffi3 Korollary tessier_ arguile mightybyte a-priori twb stepcut giksos_ goban genneth protium ClaudiusMaximus shapr)
07:00:45 --- names: list (ctkrohn ksandstr osfameron Shuriq eno Shurique Lunchy Eidolos ihope merus astrolabe psi` mauke russells dfeuer Averell Pupeno4 doserj nbelaevski der_igel JaffaCake DirkjanH siti Ytinasni _frederik_ ohmega pebblestone swiert daniel_larsson jacobian Thunder gleb the_dormant thief_grr xinming therp Ademan ADEpt Plareplane notsmack sioraiocht|sleep Adamant enolan augustss mathrick wilx` norpan kilimanjaro jbalint tsp profmakx ulfdoz_ vjt jql)
07:00:45 --- names: list (MikeJS cognominal sabakas1 delamon mahogny JonA lincoln3 Poeir Saizan Tigge felipe mboes DRMacIver TSC lambdabot Xgc nominolo opqdonut cjay EvilTerran jcrigby Hirvinen jethrotcs drbean Vq^ arjanoosting Shoragan JohnMeacham shea morner ToRA Baughn tarantoga ramkrsna mux matthew_- Nioate xian ricebowl sieni cameron ChilliX eyck deadbeef noj quicksilver flux- Krunch__ kpk zbrown Wallbraker dinounix Mitar arcatan lucca qwr Spark scw balodja)
07:00:45 --- names: list (newsham lollicide ray lispy nnunley mornfall danb` hpaste rahikkala Eelis arcasin ibid dvekravy rey_ Botje tWip tero- Lunar^ benja_ cmeme wolverian Japsu earthy liyang pitecus dcoutts_ kaol ozone kalven psykotic dany2k Magical1 df__ kzm bdash dufflebunk pejo glguy gds kirkeby edwinb Odd_Bloke sjanssen yogan emu audreyt kombinator _roconnor mlh abz hyrax42 Khisanth ludwig- mbishop fnordus nomeata sometwo xs fabiim kolmodin_ ski_ magagr_)
07:00:45 --- names: list (integral Shimei cods cr amiddelk tessier ortmage noclouds petekaz jyasskin takuan Philippa jgrimes gh_ bd_ Gwern woggle wchogg saccade levitation[A] desp nattfodd gdsx Ugarte @ChanServ simon__ arvid lupo__)
07:00:51 <Cale> yes
07:01:16 <Cale> You can also have infix type variables
07:01:27 <vincenz> o.O
07:01:31 <vincenz> how's that?
07:01:37 <Cale> Which have mostly the same syntax as for operators
07:01:45 <Cale> except (.) (!) and (*)
07:02:09 <Cale> liftA2 :: Arrow (~>) => (a -> b -> c) -> (e ~> a) -> (e ~> b) -> (e ~> c)
07:02:14 <vincenz> nice
07:02:44 <vincenz> Hmm, did MonadState change since 6.4
07:02:45 <vincenz> ?
07:02:59 <vincenz>     Illegal instance declaration for `MonadState s (ScopeT k v m)'
07:02:59 <vincenz>         (the Coverage Condition fails for one of the functional dependencies)
07:03:00 <vincenz>     In the instance declaration for `MonadState s (ScopeT k v m)'
07:03:06 <vincenz> for code that worked fine in 6.4
07:03:17 <paolino> LoganCapaldo: I'm already there, I was trying to eliminate the indirection from parsed value to parser, which I need to elimate the one already done
07:03:32 <Igloo> It's probably changes to fundeps etc rather than MonadState
07:04:06 <vincenz> Igloo: possibly, basically I just define a lifted version of monad state
07:04:19 <vincenz> instance MonadState s m => MonadState s (MyMonadT m) where ...
07:04:31 <vincenz> and it doesn't particularly like that
07:05:28 <Igloo> vincenz: If you have a complete, small example then I can take a look
07:05:45 <vincenz> will do
07:06:09 <paolino> LoganCapaldo: I tried returning the parser itself with the parsed values, but my types exploded
07:06:26 <LoganCapaldo> mmm
07:07:09 <hpaste>  vincenz pasted "Complete case for failing" at http://hpaste.org/1150
07:07:16 <vincenz> Igloo: http://hpaste.org/1150
07:09:43 * vincenz wants to work at the company where this is default: http://www.hanselman.com/blog/content/binary/WindowsLiveWriter/Howtoadjustyourrearviewmirrorsandwhyyoun_13ABB/monitors%5B5%5D.jpg
07:09:46 <lambdabot> http://tinyurl.com/yurh3m
07:10:05 <vincenz> that's 2*22" + 1*30"
07:14:45 <FordCapri> If I want to apply for a Haskell SoC project should I discuss it first or send my application straight through Google?
07:15:16 <tcr> Can anyone explain me the following in section 4.5.5 (p. 62) of the h98 report: Why is `let { len :: Num a => a; len = genericLength xs } in (len, len)' allowed to be computed twice except for call-by-name semantics? The only comment the Report states, is "once at each of two different overloadings"
07:16:13 <bd_> tcr: let { len :: Num a => a; len = genericLength xs } in (len, len) :: (Int, Integer)
07:16:21 <bd_> you have to evaluate it seperately for each type
07:16:26 <tcr> Ah!
07:16:36 <bd_> FordCapri: You can discuss it, sure, but you probably should hurry - I think today's the deadline
07:16:55 <vincenz> Igloo: thoughts?
07:17:18 <paolino> mmh, is it possible that Map.keys fails with "Exception: Map.find: element not in the map" ?
07:17:35 <tcr> thanks bd_! That was the part I was missing. :)
07:17:45 <vincenz> Igloo: according to my reckoning, the fundep of m | s due to the precondition of MonadState (m s) should transfer to the right side of the =?
07:17:49 <vincenz> s/=?/=>
07:18:00 <ccasingh> \part
07:18:06 <Saizan> mmh where should i search for a function that goes from String with utf-8 codepoints to String with real Unicode Chars?
07:18:18 <FordCapri> I'm thinking of applying for "QuickCheck on steroids" http://hackage.haskell.org/trac/summer-of-code/ticket/40
07:18:19 <xerox> ?go UTF8.hs
07:18:19 <lambdabot> Title: #40 (Formal Verification (QuickCheck on steroids)) - Haskell.org Google Summer o ...
07:18:21 <lambdabot> http://repetae.net/john/repos/jhc/UTF8.hs
07:18:32 <xerox> maybe?
07:18:34 <FordCapri> I wrote a theorem prover as part of my dissertation
07:18:55 <FordCapri> (in haskell)
07:18:58 <xerox> String -> [Word8]  and  [Word8] -> String
07:19:24 <Saizan> yeah, i'll just change the type
07:19:25 <FordCapri> is there anything in particular I should look to include in my application?
07:20:13 <chessguy_work> FordCapri, be sure you look at the SoC template
07:20:16 <chessguy_work> ?where soc
07:20:16 <lambdabot> http://hackage.haskell.org/trac/summer-of-code/
07:20:20 <tcr> FordCapri: Heh, I've got to convert a subset of haskell to HOL for work. :) Is your diss. accessible online?
07:20:32 <FordCapri> yes
07:20:37 <Igloo> vincenz: It does fail the coverage condition from my reading of it
07:20:40 <FordCapri> http://www.dcs.shef.ac.uk/intranet/teaching/projects/archive/ug2006/pdf/u3fw.pdf
07:20:44 <lambdabot> http://tinyurl.com/yslgx2
07:20:51 <vincenz> Igloo: It worked fine in 6.4.2
07:20:55 <paolino> my keys are string and insert them with Map.insert
07:20:58 <vincenz> Igloo: move to ghc?
07:20:59 <Igloo> vincenz: But it does feel like it ought to work. I have a feeling it has come up before, but I can't remember the outcome
07:21:00 <chessguy_work> FordCapri, it probably wouldn't hurt to include a link to that in your application
07:21:01 <vincenz> +#
07:21:20 <FordCapri> I'm I only had time to implement propositional logic but I was working towards first-order
07:21:24 <Igloo> vincenz: You could bring it up on the list and see what Simon says
07:21:30 <vincenz> Igloo: which list?
07:21:41 <Igloo> vincenz: Incidentally, -fallow-undecidable-instances makes it acceptable FWIW
07:21:45 <Igloo> glasgow-haskell-users
07:21:47 <vincenz> thx
07:21:58 <vincenz> and thanks for the work-around
07:22:08 <FordCapri> I only had a third of the time to do my dissertation because I was on a dual maths computing program
07:22:55 <vincenz> Igloo: where's the subscribe of that ML?
07:23:57 <Igloo> http://www.haskell.org/mailman/listinfo/glasgow-haskell-users
07:23:58 <lambdabot> Title: Glasgow-haskell-users Info Page
07:24:28 <Igloo> vincenz: Oh, wait
07:24:49 <Igloo> vincenz: Search for -fallow-undecidable-instances in http://darcs.haskell.org/packages/mtl/_darcs/current/Control/Monad/Reader.hs; looks like it's well-known
07:24:51 <lambdabot> http://tinyurl.com/3ynb6o
07:27:34 <vincenz> Igloo: seems like a bug
07:28:05 <Igloo> vincenz: It does what the coverage condition says: http://www.haskell.org/ghc/dist/current/docs/users_guide/other-type-extensions.html#instance-decls
07:28:06 <lambdabot> Title: 7.5. Other type system extensions, http://tinyurl.com/2qbwxt
07:28:55 <vincenz> Igloo:  I meant conceptually
07:30:52 <ndm> malcolmw: once more HsColour has been proved - no additional patches, but 3 addition cases of incompleteness (all of which it proves)
07:31:06 <petekaz> xmonad is neat!  I've never used a wm like this before.  I'm also looking at dwm, but they seem very similar.
07:31:08 <sjanssen> vincenz: would you like typechecking to terminate?
07:31:14 <vincenz> sjanssen: :D
07:31:15 <malcolmw> ndm: cool
07:31:15 <lambdabot> malcolmw: You have 1 new message. '/msg lambdabot @messages' to read it.
07:31:29 <petekaz> One question, what is this emenu_path command that is passed to dmenu?
07:31:36 <sjanssen> petekaz: very similar.  we take a lot of ideas from dwm
07:32:14 <petekaz> I'm of course leaning towards xmonad simply for haskell reasons.
07:32:47 <sjanssen> petekaz: it's just a program that runs through your PATH and outputs all the executables it finds
07:33:36 <petekaz> is it standard on linux?
07:33:57 <sjanssen> no, but my distribution (gentoo) installed it when I installed dmenu
07:34:06 <chessguy_work> Cale, are you still around?
07:34:13 <sjanssen> dmenu isn't a strict requirement, it's just a handy way to launch programs
07:34:13 <petekaz> ah ..  I run debian.
07:34:28 <petekaz> dmenu is very slick .. I like that part of it the best.
07:36:16 <chessguy_work> i guess that's a no :)
07:37:12 <chessguy_work> i guess i'll just ask in general then: how is IO different from other monads?
07:37:20 <vincenz> Igloo++
07:37:31 <Igloo> ?
07:37:44 <vincenz> for the help
07:40:43 <Igloo> np
07:41:47 <chessguy_work> cale makes the statement at the end of http://www.haskell.org/haskellwiki/Introduction_to_IO that "Most monads are actually rather unlike IO"...can anyone clarify this?
07:41:48 <lambdabot> Title: Introduction to IO - HaskellWiki
07:42:04 <lizhn> hi all, does Haskell ensure that left or right most operand is evaluated before others?
07:42:17 <sjanssen> no
07:42:30 <lizhn> sjanssen: thank you
07:43:19 <Botje> chessguy_work: most don't have sideeffects in the way IO has.
07:43:34 <chessguy_work> mmmmm
07:43:35 <Botje> eg the Reader monad provides your code with an "environment"
07:43:46 <Botje> and the State monad also provides an environment
07:43:51 <kolmodin_> g'morning waern
07:43:56 <waern> morning :)
07:44:00 <kolmodin_> :)
07:44:03 <Saizan> you don't have only sequencing
07:44:07 <kolmodin_> slept well?
07:44:11 <chessguy_work> some could say that reading from and writing to the environment could be considered "side effects"
07:44:12 <sjanssen> chessguy_work: most monads are definable in pure Haskell
07:44:15 <waern> kolmodin: very well
07:44:20 <Botje> come to think of it, most monads provide some sort of "environment"
07:44:29 <chessguy_work> sjanssen, that's what i was guessing he meant
07:44:33 <kolmodin_> good to hear. it's a bit bright outside so you never know
07:44:40 <chessguy_work> is IO the only one that's not?
07:44:47 <sjanssen> ST
07:44:56 <waern> @where derive
07:44:57 <lambdabot> http://www.cs.york.ac.uk/fp/darcs/derive
07:45:06 <sjanssen> you can almost define ST with Dynamic hacks
07:45:29 <sjanssen> chessguy_work: and any other monad based on IO type stuff
07:45:39 <chessguy_work> so IO isn't really a monad, it's just dressed up to look like one
07:45:54 <sjanssen> chessguy_work: IO is a monad
07:46:12 <sjanssen> chessguy_work: the "definable in pure Haskell" is an artificial constraint
07:46:26 <chessguy_work> artificial how?
07:46:44 <Botje> chessguy_work: you could see IO as a State monad that changes the RealWorld
07:46:49 <Botje> where you can't grab the RealWorld
07:47:13 <LoganCapaldo> Plus, I suggest that the monadness of IO has nothing to do with whether or not the haskell implemntation actually causes side effects to occur or not
07:47:15 <chessguy_work> but you'll never see instance IO a where...
07:47:28 <Botje> IO isn't a typeclass :)
07:47:40 <chessguy_work> err
07:47:50 <chessguy_work> i meant instance Monad IO where...
07:47:50 <sjanssen> chessguy_work: you might.  A compiler could provide sufficient primitives to write that
07:48:12 <LoganCapaldo> You could do a Haskell where all the putStr getLine type stuff was nops
07:49:38 <vincenz> damn that's a pain
07:49:39 <vincenz>   local f a = ScopeT . ReaderT $ \r -> local f $ runReaderT (unScopeT a) r
07:49:40 <sjanssen> chessguy_work: I wouldn't dwell on Cale's statement for too long, it doesn't seem very important
07:49:52 <chessguy_work> so if IO is used like a monad, and IO acts like a monad, why would he say it's "rather different" from most monads
07:50:02 <chessguy_work> ok, fair enough :)
07:50:19 <Botje> chessguy_work: probably because most monads effects don't change the environment around your haskell program
07:50:23 <Botje> whereas IO does :)
07:50:31 <vincenz> lifting a reader through a reader is a pain in the arse
07:50:45 <Botje> ITYM "lower back"
07:50:58 <vincenz> no, I meant arse
07:51:41 <vincenz> preetty sure of it, in fact
07:53:11 <rashakil> sjanssen: workspace-specific layout is working
07:57:55 <chessguy_work> @quote oleg
07:57:56 <lambdabot> Pseudonym says: What was considered 100 milli-Olegs of type hackery five years ago is standard operating procedure these days
07:58:34 <sjanssen> rashakil: cool.  Feel free to darcs send
08:00:22 <vincenz> How do you put latex code in haskell such that lhs2tex will actually use it, and secondly, is it possible to use .hs files
08:01:00 <ndm> vincenz: the normal way, and call your file .lhs and then haskell can read it
08:01:44 <vincenz> ndm: I meant, not having to prefix all your code with > and therefore reverse the modes
08:01:59 <ndm> vincenz: \begin{code} ... \end{code}
08:02:06 <ndm> vincenz: standard literate haskell supports that
08:02:10 <vincenz> hmm
08:02:11 <vincenz> alright
08:02:19 <vincenz> can you hide stuff?
08:02:22 <vincenz> (code that is)
08:02:53 <mauke> you can run but you can't hide!
08:03:02 <ndm> don't put it in a \begin{code} block
08:03:05 <sjanssen> lol
08:03:34 <vincenz> ndm: but then it's a comment for ghc
08:04:00 * vincenz meant, hide it from the latex mode, not from the compiler
08:04:10 <vincenz> aka, I don't want to show import statements for instance.
08:04:17 <vincenz> (or some possible typedefs or helper funcs)
08:04:27 <rashakil> sjanssen: tell me if it works; I'm a bit of a complete darcs newbie
08:04:53 <LoganCapaldo> vincenz: you obviously need to make elaborate use of a preprocessor :)
08:05:11 * vincenz peers at LoganCapaldo 
08:05:48 <doserj> \usepackage{comment}?
08:05:56 <LoganCapaldo> cat imports_typedefs_etc.lhs actual_code.lhs > code_to_compile.lhs
08:06:10 <vincenz> LoganCapaldo: no thanks
08:06:59 <HairyDude> wibble
08:09:21 <LoganCapaldo> I'm no literate haskell expert but it seems like lhs is kinda weak
08:09:47 <LoganCapaldo> Can you do the whole <<code to frob the boz>> type stuff that you can with Cweb and what not?
08:10:49 <doserj> LoganCapaldo: you can't do any tangling, splicing, weaving or whatever you call this
08:11:16 <LoganCapaldo> doserj: ok
08:11:30 <chessguy_work> @type filterM
08:11:33 <lambdabot> forall a (m :: * -> *). (Monad m) => (a -> m Bool) -> [a] -> m [a]
08:13:08 <Lemmih> Sigh, vns still doesn't like xmonad.
08:13:26 * Lemmih pokes dons and sjanssen.
08:13:50 <sjanssen> Lemmih: vnc, you mean?
08:13:57 <Lemmih> Yeah.
08:14:02 <sjanssen> what happens?
08:15:06 <kolmodin_> sjanssen: xmodmap doesn't agree with xmonad either, last time I tried
08:15:32 <sjanssen> kolmodin_: "doesn't agree"?
08:15:44 <Lemmih> sjanssen: xmonad segfaults.
08:15:45 <Syzygy-> What -is- xmonad?
08:15:50 <sjanssen> @where xmonad
08:15:51 <lambdabot> darcs get http://darcs.haskell.org/~sjanssen/xmonad
08:16:01 <sjanssen> Syzygy-: a minimal window manager written in Haskell
08:16:07 <Syzygy-> O.o
08:16:15 <sioraiocht> @src (.)
08:16:15 <lambdabot> (.) f g x = f (g x)
08:16:18 * Syzygy- puts a bucket under his face.
08:16:44 <shapr> sjanssen: Lemmih and I get a reproducible segfault from xmonad when using vnc
08:16:59 <sjanssen> what are the steps?
08:17:05 <shapr> It happens after about thirty seconds or so, and .xsession-errors doesn't have any useful info.
08:17:16 <shapr> We know it has something to do with Lemmih typing something.
08:17:21 <kolmodin_> sjanssen: it crashes xmonad
08:17:54 <shapr> I do know that vnc add more keys to the keymap, since I have some that are not bound to begin with (pgdn, pgup, home, end, more)
08:18:00 <lizhn> hello, 'case' can be used as expression but 'guard' can't,  right?
08:18:22 <sjanssen> ah, hmm
08:18:32 <lizhn> sjanssen: thanks
08:18:37 <sjanssen> maybe your issues are the same
08:18:51 <mauke> :t guard
08:18:54 <lambdabot> forall (m :: * -> *). (MonadPlus m) => Bool -> m ()
08:19:09 <shapr> sjanssen: We'll try to get more detail.
08:21:01 <chessguy_work> hm, is it possible to get an RSS feed for sequence.complete.org? looks like some interesting stuff
08:21:37 <ski> > do z <- [0..9]; y <- [0..z]; x <- [0..y]; guard (x*x + y*y == z*z); return (x,y,z)
08:21:39 <lambdabot>  [(0,0,0),(0,1,1),(0,2,2),(0,3,3),(0,4,4),(3,4,5),(0,5,5),(0,6,6),(0,7,7),(0,...
08:21:53 <chessguy_work> oops, as soon as i asked, i found it
08:21:54 <ski> lizhn : works fine here ..
08:22:15 <ski> > do z <- [1..9]; y <- [1..z]; x <- [1..y]; guard (x*x + y*y == z*z); return (x,y,z)  -- actually this is more sane
08:22:17 <lambdabot>  [(3,4,5)]
08:24:41 <lizhn> ski: the 'guard' i mean is '|' , appearing after function defition
08:25:09 <mauke> then just say guards
08:25:57 <lizhn> mauke: ok
08:26:10 <ski> > "!" ++ (case () of () | 2 < 3 -> "?" | otherwise -> ".")
08:26:12 <lambdabot>  "!?"
08:26:50 <shapr> sjanssen: That seems to be the problem, but I'm not using the very latest set of patches.
08:27:00 <ski> but yes, guards attach only to 'case'-branches, and equations
08:27:10 <shapr> sjanssen: You think the code after the switch to the config file will fix that?
08:28:17 <sjanssen> shapr: "That" meaning xmodmap?
08:29:10 <shapr> Yeah, I can send you my xmodmap file if you wish.
08:29:31 <shapr> But I think you'll be able to duplicate it by setting up a keymap that does not have some keys, then adding those keys and getting keypress events.
08:29:57 <shapr> I'm guessing that xmonad maps over the existing keys to do something, and ignores keys that do not exist?
08:30:25 <sjanssen> shapr: I don't think the latest patches will fix your problem
08:31:45 <sjanssen> shapr: I'm guessing that Xlib's default error handler is kicking in somehow (which immediately terminates your program)
08:32:00 <sjanssen> so a fix might be as simple as ignoring the error
08:32:43 <vincenz> type k :-> a = M.Map k a
08:32:47 <vincenz> yet it doesn't find it
08:33:12 <sjanssen> shapr: do you get anything like xmonad: fatal error: request code=%d, error code=%d\n
08:34:16 <chessguy_work> ?hoogle next
08:34:17 <lambdabot> Random.next :: RandomGen a => a -> (Int, a)
08:34:17 <lambdabot> System.Random.next :: RandomGen g => g -> (Int, g)
08:34:17 <lambdabot> System.Win32.File.c_FindNextChangeNotification :: HANDLE -> IO Bool
08:35:58 <vincenz> you can't define tycons for pure tydef, only for newtype/data?
08:36:01 <vincenz> erm
08:36:03 <vincenz> infix ones
08:36:07 <chessguy_work> Haskell Sequence is really nice
08:36:08 <vincenz> type (:->) k a = M.Map k a
08:36:13 <chessguy_work> lots of great stuff
08:36:39 <chessguy_work> wow! i can even blog there!
08:36:43 <vincenz> ignore me.... damn me for not seeing the diff between :~> and :->
08:37:04 <chessguy_work> @type (:->)
08:37:08 <lambdabot> Not in scope: data constructor `:->'
08:41:03 <shapr> sjanssen: Nope, just a segfault.
08:41:14 <balodja> what is the precendence of operators defined by 'infix'?
08:41:28 <shapr> sjanssen: I looked at my ~/.xsession-errors in hopes of seeing something useful, maybe the X log file would be more informative?
08:41:29 <vincenz> balodja: you can define tem
08:41:32 <vincenz> s/t/th
08:41:46 <sjanssen> shapr: bleh, segfaults aren't supposed to happen in Haskell!
08:41:54 <sjanssen> shapr: it may be more illuminating
08:50:14 <shapr> Is there a compatibility layer for Data.Binary to make it work in place of NewBinary?
08:50:42 <shapr> I'd like to use Dominic Steinitz' cryptolib, and it wants NewBinary... Our code already depends on Data.Binary, so we'd rather use that.
08:51:03 <sjanssen> shapr: I don't know of such a layer
08:51:07 <Igloo> Which one's newer?
08:51:16 <sjanssen> Igloo: Data.Binary
08:51:17 <shapr> Data.Binary
08:51:53 <Igloo> Sending Dominic a patch would be the ideal solution, then
08:52:48 <shapr> Well, yeah.. but we were hoping to use it right now... oh well.
09:03:14 <shapr> It seems that NewBinary -> Data.Binary is not a trivial conversion.
09:04:43 <yetAnotherOne> are there good libraries for png-writing/reading/...?
09:06:54 <earthy> in Haskell? not yet
09:07:10 <shapr> Hm, I thought I heard of a png library...
09:07:19 <quicksilver> nothing on hackage
09:07:19 <shapr> @go filetype:hs portable network graphics
09:07:35 <lambdabot> Plugin `search' failed with: IRCRaised thread killed
09:07:36 <quicksilver> a few things to *read* PNGs, certainly
09:07:48 <quicksilver> like gtk2hs
09:07:54 <quicksilver> and SDL-image
09:07:56 <earthy> there is a wxhaskell example that shows png's
09:08:02 <earthy> but writing...
09:08:03 <quicksilver> but writing is anotehr matter
09:08:06 * quicksilver nods
09:09:00 <rashakil> you could write to a BMP and then call PNGOUT... :)
09:09:06 <int-e> the cairo binding of gtk2hs can also write image surfaces to pngs it seems.
09:09:36 <int-e> (Graphics.Rendering.Cairo.surfaceWriteToPNG)
09:13:13 <matthew-_> is darcs a requirement for adding a package to hackage?
09:15:01 <quicksilver> can anyone explain to me why the naive use of ++ in the writer monad is worse than useing (++) sections in StringS and function composition?
09:16:00 <rashakil> quicksilver: the former is O(n^2), the latter is O(n)
09:16:05 <int-e> quicksilver: I think the difference is the same as between (a ++ b) ++ c and a ++ (b ++ c)
09:16:17 <quicksilver> int-e: ahhh.. thanks
09:16:23 <quicksilver> int-e: that's the piece I wasn't seeing
09:16:36 <quicksilver> so the key is left section vs right section
09:16:51 <quicksilver> rather than composition vs tell
09:18:09 <Saizan> yeah, the point is to have the first argument of the outer ++ as short as possible, i think
09:18:47 * quicksilver nods
09:19:16 * shapr boings unfocussedly
09:19:31 <quicksilver> people explain this as if there is something 'magic' about StringS and something 'bad' about ++
09:19:35 <quicksilver> this hides the real point :)
09:19:39 <quicksilver> :i (++)
09:20:50 <yetAnotherOne> are there functions to output binary data?
09:21:07 <quicksilver> yetAnotherOne: yup, quite a few, depending what level of abstraction you want
09:21:22 <quicksilver> yetAnotherOne: a simple 'hPut' can write binary data if you don't mind confusing Chars and Bytes
09:21:26 <Saizan> an easy way is to use Data.ByteString
09:21:32 <quicksilver> yetAnotherOne: better is proabbly to use Data.Bytestring
09:21:37 <quicksilver> yetAnotherOne: which is explicitly Word8s
09:22:11 * quicksilver notes that (++) is defined as infixr, so that's good
09:23:04 * sieni votes for const 0 and const 1
09:27:19 <ddarius> @google "Derek Elkins" "Graham Klyne" concat foldl
09:27:21 <lambdabot> http://www.mail-archive.com/haskell-cafe@haskell.org/msg02820.html
09:27:21 <lambdabot> Title: Re: powerset
09:28:07 <yetAnotherOne> i dont unterstand hPut. how do i use it?
09:28:15 <quicksilver> :t hPut
09:28:17 <lambdabot> Not in scope: `hPut'
09:28:23 <quicksilver> blah
09:28:25 <largos> does anyone know of some HXT examples that demonstrate reading xml into a datastructure of some sort?
09:28:39 <ddarius> ^ re (++)
09:28:53 <Lemmih> yetAnotherOne: It writes a ByteString to a handle.
09:29:22 <Lemmih> yetAnotherOne: Like: hPut stdout (B.pack "Hello world!\n")
09:29:48 <quicksilver> or hPut stdout (B.pack [12,56,154,0]) -- binary bytes
09:31:20 <Saizan> largos: i've a very simple one, i'll put it on hpaste
09:33:59 <hpaste>  Saizan pasted "HxT example" at http://hpaste.org/1151
09:34:13 <largos> Saizan: thanks
09:40:26 <sjanssen> rashakil: I have not received any mail from you.  Is mail set up correctly on your system?
09:44:45 <ddarius> Martin Odersky subtly pimping Scala
09:45:46 <largos> Saizan: where is -< defined?
09:46:13 <mux> largos: you mean <- in monadic do-blocks ? that is syntactic sugar
09:46:36 <ddarius> -< is also part of the syntactic sugar for arrow notation.
09:46:56 <mux> oh.
09:47:37 <ddarius> http://www.haskell.org/arrows/syntax.html
09:47:38 <lambdabot> Title: Arrow syntax
09:47:47 <largos> cool, thanks
09:49:10 <Saizan> y <- myarrow -< x   roughly means  give x as an argument for myarrow and bind the result to y
09:49:52 <ddarius> Also, http://www.haskell.org/ghc/docs/latest/html/users_guide/arrow-notation.html
09:49:54 <lambdabot> Title: 7.7. Arrow notation, http://tinyurl.com/tts6c
09:50:37 <rashakil> sjanssen: I better fix that
09:51:00 <rashakil> Ohh.  Okay.
09:51:10 <therp> any cabal maintainers here?
09:54:45 <Lemmih> therp: Got a bug report?
09:55:59 <therp> lemmih: no, I was wondering if there is any interesting in merging support that enables GHC built object to be linked into shared libraries
09:56:12 <therp> s/interesting/interest/
09:57:32 <Lemmih> I think there is. You can mail cabal-devel@haskell.org to reach a greater audience.
09:57:49 <nominolo> ddarius: what do you mean? (wrt. to scala)
09:59:07 <therp> lemmih: ah ok, that's a bit premature. I'm just laying out a strategy of how shared library support can be done in GHC (GSoC application)
10:01:07 <therp> hm, but actually.
10:01:33 <kosmikus> vincenz: did you get an answer to your question? yes, you can hide code. look at Guide2.pdf, Section 10, "Conditionals".
10:05:21 <hpaste>  icarroll pasted "amapWithKey" at http://hpaste.org/1153
10:06:47 <icarroll> It seems inefficient, but I can't think of a better way to do it. Any suggestions?
10:08:28 <shapr> Is there a demo of a Haskell udp server anywhere?
10:08:39 <Lemmih> icarroll: You want to map AND cast the array?
10:08:51 <shapr> I've looked at musasabi's Network.Alt, but I haven't found anything that uses the standard network libraries for a udp server.
10:13:13 <icarroll> Lemmih: I'm not sure what you mean by "cast". The function to map over the array can return a value of a different type if that's what you mean.
10:15:39 <hpaste>  Lemmih annotated "amapWithKey" with "Slightly more efficient" at http://hpaste.org/1153#a1
10:17:16 <hyrax42> has anyone converted a cvs repo to darcs?
10:17:16 <lambdabot> hyrax42: You have 1 new message. '/msg lambdabot @messages' to read it.
10:17:31 <icarroll> Lemmih: you're using unsafe* to avoid bounds checks?
10:18:08 <hyrax42> @tell ndm I know, the school server was giving me lip
10:18:08 <lambdabot> Consider it noted.
10:18:34 <vk_mnit> hi all can anybody help me to choose the project for gsoc
10:18:39 <Saizan> and he also avoids your intermediate array
10:20:32 <Lemmih> icarroll: Yes.
10:22:41 <icarroll> Lemmih: Why do you use case instead of let or where?
10:22:47 <hpaste>  sjanssen annotated "amapWithKey" with "just as fast, more obviously safe" at http://hpaste.org/1153#a2
10:22:52 <hyrax42> ?tell ndm it works now
10:22:52 <lambdabot> Consider it noted.
10:23:10 <Lemmih> icarroll: 'case' is strict.
10:23:23 <icarroll> ah
10:24:25 <petekaz> sjanssen: I have vnc-like issue as well, but mine does not crash.  I use x2vnc on my linux box so I can use my linux keyboard and mouse for my windoze box.  It basically lets me move my mouse and keyboard input seemlessly between my linux and windoze machine.
10:25:15 <petekaz> sjanssen: when I alt-tab between my windows, the integration with my windoze box craps out.  the events are not sent anymore.
10:25:44 <sjanssen> petekaz: xmonad grabs alt+tab for it's very own
10:25:46 <petekaz> sjanssen: it does not happen when focus changes between windows in xmonad by moving the mouse., only when I use alt-tab.
10:25:50 <sjanssen> try removing that from the keybindings
10:26:01 <petekaz> sjanssen: no, I did not explain correctly.
10:26:11 <petekaz> I know alt-tab is xmonad.
10:26:24 <hpaste>  icarroll annotated "amapWithKey" with "what about this?" at http://hpaste.org/1153#a3
10:26:53 <Lemmih> icarroll: Looks good.
10:27:00 <petekaz> I'm sayning, with x2vnc, I can move my mouse from Linux to Windoze and back.  However, this breaks as soon as I use xmonad to switch windows using alt-tab.
10:27:08 <sjanssen> icarroll: that should be as fast as it gets
10:27:20 <sjanssen> petekaz: hmm
10:27:43 <petekaz> The X events do not get forwarded anymore to the vnc server on the windoze side.
10:28:20 <petekaz> But as I trying to say, if I use the mouse to switch focus on the X side (instead of alt-tab), everything is fine.
10:28:42 <petekaz> I thought perhaps this might help isolate the segfault others were seeing with the full vncclent.
10:28:49 <icarroll> Lemmih,sjanssen: spiffy thanks
10:29:28 <icarroll> Lemmih++
10:29:30 <icarroll> sjanssen++
10:32:19 <ndm> hyrax42: http://www.cs.mcgill.ca/~kalmar/ai/ gives me 403, forbidden
10:32:33 <ndm> hyrax42: perhaps it only works with a darcs get...
10:33:29 <ndm> hyrax42: got it working with darcs get, thanks
10:43:53 <hyrax42> oh yeah I don't have list access enabled on it
10:43:59 <hyrax42> lemme fix that
10:44:51 <hyrax42> ok it's browsable now
10:48:33 <ski> @seen Cale
10:48:34 <lambdabot> I saw Cale leaving #haskell, #oasis, #haskell-overflow and #ghc 3h 12m 26s ago, and .
10:49:06 <araujo> morning
10:51:42 <HairyDude> woo, ghc HEAD actually compiled this time
10:55:59 <nominolo> ?check \x xs -> fromMaybe 0 (lookup x xs) == case (lookup x xs) of Nothing -> 0; Just n -> n
10:56:00 <lambdabot>  Add a type signature
10:56:26 <nominolo> ?check \x xs -> fromMaybe 0 (lookup x (xs :: [(Int,Int)])) == case (lookup x xs) of Nothing -> 0; Just n -> n
10:56:27 <lambdabot>  OK, passed 500 tests.
10:58:06 <hyrax42> :t maybe
10:58:08 <hyrax42> :t fromMaybe
10:58:09 <lambdabot> forall b a. b -> (a -> b) -> Maybe a -> b
10:58:11 <lambdabot> forall a. a -> Maybe a -> a
10:58:46 <hyrax42> :t flip maybe id
10:58:49 <lambdabot> forall a. a -> Maybe a -> a
10:59:25 <hyrax42> I'm always forgetting those functions
11:00:10 <hyrax42> :t 3 :: I
11:00:13 <lambdabot> I :: I
11:00:14 <nominolo> though maybe isn't exaclty nice to use
11:00:22 <hyrax42> no it isn't
11:00:27 <nominolo> :t flip maybe
11:00:30 <lambdabot> forall a a1. (a1 -> a) -> a -> Maybe a1 -> a
11:00:30 <hyrax42> but it's the one I remember
11:00:40 <hyrax42> that and fromJust
11:00:48 <nominolo> :t flip . flip . maybe
11:00:48 <hyrax42> fromMaybe is the one I never remember
11:00:50 <lambdabot> forall a a1. a -> (a1 -> a) -> Maybe a1 -> a
11:01:10 <nominolo> the Maybe a arg should be the first one
11:01:25 <nominolo> fromMaybe also isn't in the prelude
11:01:57 <hyrax42> ?check \x y -> fromMaybe x y == flip maybe id (x::Int) (y::Maybe Int)
11:01:58 <lambdabot>  OK, passed 500 tests.
11:02:33 <hyrax42> ?check \x y -> fromMaybe x y == flip maybe id (x::Int) y
11:02:34 <lambdabot>  OK, passed 500 tests.
11:02:39 <hyrax42> yeah I thought so
11:03:20 <glguy> does anyone else use TextMate and think that its Haskell syntax coloring mode should be called "random"?
11:03:21 <nominolo> @src fromMaybe
11:03:21 <lambdabot> fromMaybe d x = case x of {Nothing -> d;Just v  -> v}
11:03:49 <nominolo> glguy: heh. no
11:03:53 <xerox> glguy, yeah, it doesn't make sense. And it's regexp based, pain to hack.
11:04:14 <nominolo> I don't intend to pay for something inferior to emacs
11:04:16 <nominolo> ;P
11:04:24 * glguy hasn't paid for it
11:04:42 <glguy> I just had a friend rave about it and I thought I'd see what it did
11:05:02 <xerox> advertising make people think weird things.
11:05:24 <nominolo> there usually are a few things better in native apps
11:05:38 <ski> pay-per-launch programs !
11:05:46 <nominolo> but if you start using them, you'll miss more and more stuff
11:05:49 <ndm> TextPad, its worth every penny
11:06:04 <ndm> and WinEdt, although my review of that isn't as glowing
11:06:51 <dolio> I have the same problem with KDE and kate.
11:06:58 <nominolo> ndm: you never (really) used emacs (or vim, for that matter), did you?
11:07:27 <ndm> nominolo: i have a short bit, both, and TextPad is soooo much easier to use
11:07:27 <dolio> It's pretty much the KDE text editor, but it's pretty poor compared to vim.
11:07:45 <dolio> For instance, it makes all uses of the word "Monad" bold.
11:08:28 <sjanssen> dolio: yes, that synhl mode is strange
11:08:32 <nominolo> ndm: yes, vim and emacs are scary at first but become indespensable once you get started enough
11:08:47 <sjanssen> Monad gets to be a keyword, apparently
11:08:47 <icarroll> vim is teh awexome :)
11:08:58 <ndm> nominolo: thats what i like about textpad, i don't have to rewrite my brain to use my text editor, it is wired up to me
11:09:21 <nominolo> ndm: so you were thinking in haskell before you started using it?
11:09:31 <ndm> nominolo: yes
11:09:52 <ndm> nominolo: apart from monads, i was already thinking in a typed mathematical language
11:10:06 <nominolo> ndm: lucky you
11:10:17 <ndm> i was also thinking in a lazy manner (i originally tried to write lisp like it was lazy, and found that went wrong)
11:10:27 <ndm> before i'd even seen haskell
11:10:39 <icarroll> scheme should've been lazy
11:10:56 <nominolo> icarroll: it is. though, explicitly
11:11:03 <ndm> and should have had pattern matching
11:11:03 <rashakil_> sjanssen: doesn't look like you're getting that patch :/
11:11:06 <ndm> and less brackets
11:11:12 <ndm> and stronger type system
11:11:16 <ndm> = haskell :)
11:11:19 <nominolo> ndm: those parnes are a good thing
11:11:23 <mattam> scheme should have been haskell ??
11:11:23 <icarroll> :)
11:11:26 <mattam> :)
11:11:37 <sjanssen> rashakil_: did you know you can send the patch as a plain old email attachment?
11:11:38 <ndm> nominolo: when syntax gets in the way of semantics...
11:11:48 <rashakil_> no
11:12:15 <emu> s-exp syntax doesn't make good curry
11:12:16 <nominolo> er, well, i like both haskell and scheme.  but i won't bother arguing here
11:12:22 <mahogny> well. lisp fills a purpose. it's good because you aren't constrained by types. it's bad for the same reason :)
11:12:32 <nominolo> mahogny: exactly
11:12:44 <sm> morning.. where could I find ghc 6.6 packages for ubuntu dapper ?
11:13:11 <largos> sm: dang, I have debs at home :(
11:13:26 <largos> sm: its not hard to build though
11:13:45 <sm> I did it here on my laptop.. took a long time though
11:14:27 <dolio> sm: You might be able to snag the feisty ones. There's a small chance they'd work. :)
11:14:43 <sm> very small, I'm thinking :)
11:15:34 <Saizan> there's also a static linked distro-indipendent package in the download section iirc
11:17:00 <sjanssen> rashakil_: darcs send -o somefilename.dpatch
11:17:26 <rashakil_> okay
11:35:11 <vincenz> kosmikus: thx
11:35:30 <sm> Saizan: thanks.. gosh I think that works
11:47:52 <t0mas> hi
11:47:58 <t0mas> quick question :)
11:48:05 <t0mas> I have a float..
11:48:18 <t0mas> and I want to round it to financial format...
11:48:20 <t0mas> x.yy
11:48:32 <t0mas> not x.yy00001 like I'm getting now
11:48:38 <t0mas> but round just rounds to Int's
11:48:43 <t0mas> what function should I use?
11:48:47 <sjanssen> @hoogle showFFloat
11:48:47 <lambdabot> Numeric.showFFloat :: RealFloat a => Maybe Int -> a -> ShowS
11:49:12 <sjanssen> t0mas: I think you want that one, or something else in the Numeric module
11:49:16 <sjanssen> @docs numeric
11:49:16 <lambdabot> numeric not available
11:49:21 <t0mas> ok
11:49:26 <sjanssen> @docs Numeric
11:49:27 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Numeric.html
11:49:27 <Lemmih> > showFFloat (Just 2) pi ""
11:49:29 <lambdabot>  "3.14"
11:50:04 <sieni> > showFFloat Nothing pi "pie"
11:50:05 <lambdabot>  "3.141592653589793pie"
11:51:03 <t0mas> ok
11:51:04 <t0mas> tnx
11:54:54 <DukeDave> Hello
11:55:36 <DukeDave> small question: am I correct in thinking there is no definition for a fractional modulus in the prelude?
11:55:52 <quicksilver> what would a fractional modulus mean?
11:56:39 <DukeDave> quicksilver: so you have `div` and (/),   and `mod`,   but what is the version for fractional doubles? :S
11:57:04 <quicksilver> but what would `mod` be supposed to mean for doubles?
11:57:05 <DukeDave> I kind of expected there to be a (%)
11:57:10 <quicksilver> doubles 'always' divide exactly
11:57:17 <DukeDave> Erk
11:57:30 <kc5tja> By fractional, you mean *rational*?  As in, representing 1/3 as the tuple (1,3) or some such?
11:57:33 <quicksilver> > 4.0/1.5
11:57:34 <lambdabot>  2.6666666666666665
11:57:39 <quicksilver> where is the 'mod' part there?
11:57:44 <quicksilver> the quotient is everything
11:57:56 <DukeDave> in context:  I'm computing the absolute heading of a robot, so need to 'loop' over 360
11:58:02 <LoganCapaldo> 0.6666666? :)
11:58:03 <DukeDave> but I see what you mean now
11:58:08 <kpreid> @hoogle fmod
11:58:09 <lambdabot> No matches found
11:59:02 <DukeDave> I'll settle with if x > 360 then x-360 else x
11:59:18 <matthew-_> why do the functions go wrong if x > 360 or < 0?
11:59:18 <quicksilver> ah right
11:59:25 <quicksilver> now I see what you mean :)
11:59:39 <quicksilver> best to make your functions work for any float at all
11:59:42 <matthew-_> surely it's just convenience to the user that 0 <= x < 360, the functions should work regardless, no?
11:59:51 <quicksilver> and 'truncate' to 0-360 on output (pretty print)
11:59:58 <quicksilver> or other times you need to 'normalise'
12:00:04 <DukeDave> matthew-_: I'm outputting to user now
12:00:05 <kpreid> quicksilver: you eventually lose accuracy that way
12:00:10 <DukeDave> Heh
12:00:17 <quicksilver> kpreid: yes, not for quite a while though :)
12:00:19 <icarroll> a - floor (a / b) * b
12:00:35 <icarroll> > 365 - floor (365 / 360) * 360
12:00:36 <lambdabot>  5
12:00:40 <kpreid> what icarroll said, I was just about to write that out
12:00:51 <matthew-_> DukeDave: if you use your own data type that just wraps a Double then you then manually implement Show so that on display it gets chucked between 0 and 360...
12:00:51 <DukeDave> Gee that is a cutie :)
12:01:11 <icarroll> > -5 - floor (-5 / 360) * 360
12:01:12 <lambdabot>  355
12:01:31 <DukeDave> cool
12:01:49 <kpreid> a `fmod` b = a - fromIntegral (floor (a / b)) * b
12:01:50 <LoganCapaldo> > (\n -> n - floor ( n / 360 ) * 360 ) 360
12:01:52 <lambdabot>  Add a type signature
12:01:56 <DukeDave> Thanks guys, actually gotta go now but I'll pay it forward ;)
12:02:08 <icarroll> np have fun
12:02:18 <kpreid> floor yields an integral, so you need fromIntegral
12:02:39 <icarroll> good point
12:06:09 <matthew-_> mmm. there seems to be a decent amount of stuff on hackage now...
12:06:33 <LoganCapaldo> @check let a `fmod` b = a - fromIntegral (floor (a / b)) * b in (\a b -> a `fmod` b < b)
12:06:34 <lambdabot>  Add a type signature
12:06:47 <LoganCapaldo> @check let a `fmod` b = a - fromIntegral (floor (a / b)) * b in (\a b -> a `fmod` b < b) :: Double -> Double -> Bool
12:06:49 <lambdabot>  Falsifiable, after 0 tests: 0.5, -0.5
12:07:24 <LoganCapaldo> @check let a `fmod` b = a - fromIntegral (floor (a / b)) * b in (\a b -> (abs a) `fmod` (abs b) < (abs b)) :: Double -> Double -> Bool
12:07:25 <lambdabot>  Falsifiable, after 0 tests: 0.0, 0.0
12:08:10 <LoganCapaldo> @check let a `fmod` b = a - fromIntegral (floor (a / b)) * b in (\a b -> (abs a) `fmod` (abs b + 1) < (abs b + 1)) :: Double -> Double -> Bool
12:08:10 <lambdabot>  OK, passed 500 tests.
12:09:12 <kuribas> For byte crunching on large image data, it is better to use the FFI, isn't?
12:09:46 <sjanssen> kuribas: depends
12:10:08 <sjanssen> you can often get respectable performance writing it all in Haskell
12:10:58 <kuribas> Using unboxed arrays?
12:11:17 <matthew-_> kuribas: there's a bit matching / decomposition library thingy at http://www.imperialviolet.org/page28.html#e551 which might help.
12:11:17 <dolio> There are a few papers around on doing image processing as 'Image = Point -> Color'
12:11:18 <lambdabot> Title: I M P E R I A L V I O L E T . O R G
12:11:50 <sjanssen> kuribas: yes, UArrays help
12:11:55 <dolio> And compiling your image processing language for extra performance.
12:12:18 <dolio> Although that might not fit what you're doing.
12:12:22 <sjanssen> maybe IO/STUArrays if you need mutability
12:12:35 <sjanssen> also StorableArray if you want easy C interfacing
12:13:05 <kuribas> Looks interesting.
12:13:16 <kuribas> dolio: What do you mean with compiling?
12:13:56 <icarroll> functional image manipulation in haskell: http://www.acooke.org/jara/pancito/
12:13:58 <lambdabot> Title: Jara Software: Pancito: Home Page
12:14:06 <dolio> I'm a bit fuzzy on the details, but the idea is that you have an embedded image processing language, which you write your image processing in.
12:14:32 <dolio> And then that gets compiled into a program for whatever specific processing you want to do.
12:15:24 <dolio> So it's more optimized for that specific task, or something like that.
12:15:34 <kuribas> I want to do the opposite, extracting data from an image.
12:16:17 <kuribas> Like OCR, but for musical scores.
12:17:04 <dolio> Ah, yeah.
12:17:09 <procyon_> @seen chessguy
12:17:10 <lambdabot> chessguy has changed nick to chessguy_work.
12:17:10 <lambdabot> I saw chessguy_work leaving #haskell-overflow and #haskell 17m 1s ago, and .
12:23:08 <LoganCapaldo> > let f = \n -> b where b = 3 in f 1
12:23:09 <lambdabot>  3
12:26:06 <PowerUser> I'm trying to install happy from the source tarball, but after running ./Setup.lhs configure, ./Setup.lhs is giving me this error "Setup.lhs: src/Parser.ly: no happy preprocessor available";  Any advice?
12:26:29 <PowerUser> (more clarification, that's from `./Setup.lhs build`)
12:36:54 * matthew-_ celebrates getting a package into hackage \o/
12:48:08 <hpaste>  icarroll pasted "mildly interesting graphics hack" at http://hpaste.org/1154
12:57:30 <wolverian> icarroll, that is pretty cool, but _very_ slow here.
12:57:57 <icarroll> wolverian: yeah, it's quite the cpu hog
12:58:28 <HairyDude> seems that segfault I had yesterday doesn't happen with GHC HEAD
13:01:59 <Cale> I just get "unknown GLUT call glutSetOption, check for freeglut", hmm.
13:02:11 <sjanssen> rashakil++ patches look good
13:02:19 <icarroll> Cale: I have that problem on my mac. Can't figure out how to fix it.
13:02:21 <rashakil> okay
13:03:38 <stepcut> hrm, I install libghc6-glut-dev and libghc6-opengl-dev, but I am getting linker errors because libxmu-dev, libsm-dev, libxi-dev are not installed :(
13:03:51 <sjanssen> @where haskell-src
13:03:52 <lambdabot> http://darcs.haskell.org/packages/haskell-src
13:04:04 <stepcut> oooo! purrty
13:04:33 <Cale> ah, I know what it might be
13:04:51 <sjanssen> @hackage haskell-src
13:04:52 <lambdabot> http://hackage.haskell.org/cgi-bin/hackage-scripts/package/haskell-src
13:05:04 <Cale> I'm using the binary 6.6 release, and not necessarily one which was designed for my system.
13:05:08 <stepcut> icarroll++
13:05:14 <icarroll> :)
13:05:21 <icarroll> @karma icarroll
13:05:21 <lambdabot> You have a karma of 1
13:05:34 * icarroll does a tiny, tiny dance.
13:05:53 <stepcut> i wonder what it would take to turn it into a xscreensaver
13:06:26 <wolverian> hopefully not one that takes 200% cpu
13:06:33 <icarroll> heh
13:08:32 <icarroll> It's my first foray into opengl, so I'm sure there are a million ways to improve it. I'm open to suggestions. :)
13:08:47 <ddarius> Wow. I read that paragraph forgivingly.  Reading it now, I don't even know what it's -trying- to say (whereas before what I thought it said made no sense).
13:09:10 <wolverian> some kind of rate limiter would probably help with the cpu hogness.
13:11:55 <dolio> Paragraph?
13:11:59 <QtPlatypus> @hoogle Char -> Int
13:12:00 <lambdabot> Char.digitToInt :: Char -> Int
13:12:01 <lambdabot> Char.ord :: Char -> Int
13:12:27 <LoganCapaldo> @hoogle Type -> Function
13:12:28 <lambdabot> No matches, try a more general search
13:12:42 <ddarius> dolio: http://www.haskell.org/pipermail/haskell/2007-March/019276.html
13:12:47 <lambdabot> Title: [Haskell] Articles on the value of strong typing
13:13:32 <dolio> Ah, right.
13:15:24 <sjanssen> @where HaXml
13:15:24 <lambdabot> http://haskell.org/HaXml
13:15:37 <dolio> Perhaps it makes more sense in context.
13:15:45 <dolio> Or, sense.
13:16:35 <ddarius> dolio: My reply implicitly asks for context.
13:19:15 <chessguy> hi haskellers
13:19:31 <procyon_> Hey chessguy!
13:19:40 <procyon_> I've been looking for yous.
13:19:42 <dolio> Page 189 is listed, in the table of contents as "Subtypes and Programming"
13:19:56 <chessguy> sorry, there's only one of me
13:20:00 <HairyDude> how can I tell what version of ghc my runghc binary is? runghc --version doesn't do it
13:20:10 <procyon_> What's your plan for your little GP lib?
13:20:34 <chessguy> plan? i'm supposed to have a plan?
13:20:38 <HairyDude> agh, wrong channel again
13:20:47 <HairyDude> oh, no it isn't
13:20:51 <procyon_> I would like to work on a couple patches, but I don't want to duplicate effort.
13:21:05 <chessguy> what did you have in mind?
13:22:27 <procyon_> First, your current implementation is monotype.  This is a special case of polymorphic.  I was thinking of adding an additional param to the funcs which signifies "type".  Your reference implementation would just tag all funcs as "int".
13:23:12 <chessguy> hmmm, that violates closure
13:23:20 <procyon_> This would also need to tweak the tree generation algorithms to pick the proper type of node.... again, functionally it would be the same as current if all functions were the same type.
13:23:33 <chessguy> wait, are you the one that emailed me?
13:24:10 <procyon_> it does not violate closure if you stick to things that can be transformed into the simply typed lambda caculus
13:24:20 <procyon_> no.  I didn't email you.. but I thought about it ;)
13:24:52 <chessguy> lol, ok
13:25:21 <chessguy> i'm a little suspicious, but if you write the patch, i'll take a look at it
13:26:28 <mbishop> <spam>http://mbishop.esoteriq.org/wikipedia.html</spam>
13:27:02 <procyon_> I also would like to add features to the evaluator. Explicitly for things that DO violate closure.  For instance, a counter that tracks how many applications have taken place that can bail if it exceeds a threshold... alternatively, it can just count applications and can be used as part of the fitness function to measure efficiency of algorithms.
13:28:13 <chessguy> what do you mean by 'applications'?
13:28:50 <dolio> ddarius: You can read the entire page via amazon's website. I don't think he's talking about performance.
13:29:04 <chessguy> mbishop, i think that belongs on -blah
13:29:13 <chessguy> i don't know why you would paste it here
13:29:13 <procyon_> chessguy: for types, think this: The tree needs to return an int.  We can have ints AND bools allowed in the tree, and an if then else function.  We simply need to ensure that ONLY ints can propegate out the top of the tree, not bools.  This is not too hard to do with a type checking tree generator and crossover operator.
13:29:23 <dolio> ddarius: I think he wants a type system like Qi (if I understand Qi correctly).
13:30:06 <Shimei> @where cabal
13:30:07 <lambdabot> http://www.haskell.org/cabal
13:30:38 <chessguy> procyon_, it's equally easy to have an "if function" that tests one argument to see if it's 0, and if so, return the value of the second argument, otherwise it returns the value of the third argument
13:30:42 <mbishop> chessguy: you're probably right, however I'm not in -blah, sorry :P
13:30:52 <chessguy> but as i said, i'll take a look at your patch. i'm very interested
13:30:58 <chessguy> mbishop, that's not our problem
13:31:04 <procyon_> chessguy: "applications" as in "evaluation of a single node, with the evaluation of sub nodes being seperate "applications"... in the trivial case, the number of applications is equal to the size of the tree, but if you allow recursion, this number can vary dramatically, even if you retain closure.
13:31:30 <chessguy> ah, ok
13:31:38 <mbishop> chessguy: go eat your cheese!
13:31:46 <chessguy> i think koza handles this by building such a limit into any node that could run into that problem
13:32:16 <chessguy> (are you familiar with Koza's seminal book?)
13:32:53 <procyon_> chessguy: yes.. it is easy to have if0, but that's a very simple case.  It is NOT easy to add purely functional leaf nodes without types.. like leaves that hold id, const, flip, ap, etc. which allow you to do higher order GP.
13:33:03 <chessguy> for types, are you talking about using Data.Typeable?
13:34:44 <procyon_> chessguy: Well, I was thinking about writing my own inferencer, based of the one in TAPL.  I'm not aware of a library inferencer, but I'd happily use one if it exists.  I'm thinking also of having a flag in the inferencer to allow or disallow infinite types.
13:35:11 <quicksilver> In general, aren't typeclasses preferable to Data.Typeable?
13:35:11 <chessguy> TAPL, the Pierce book?
13:35:19 <procyon_> chessguy: yes
13:35:22 <mbishop> @where tapl
13:35:22 <lambdabot> http://tinyurl.com/282m6x
13:35:38 <chessguy> nice, i want that book
13:35:49 <chessguy> mbishop, i created that where entry :)
13:35:57 <chessguy> i just wanted to make sure we were talking about the same thing
13:35:57 <mbishop> :P
13:36:17 <procyon_> quicksilver: We are talking about writing an interpreter, so typeclasses really don't solve our problem, since we are abstracted away from haskell, as a language.
13:36:54 <quicksilver> serves me right for jumping in :P
13:37:02 <procyon_> Another thing I want is a flag to the GP evaluator that can select normal order or applicative order evaluation.
13:37:04 <chessguy> procyon_, anyway, your ideas sound good. my next immediate goal is to bolt an option GUI front end to it, which shouldn't interfere with what you're doing
13:37:26 <chessguy> mmmm, is that lazy vs. eager?
13:37:29 <procyon_> chessguy: sounds good.  There shouldn't be much duplication at all then.
13:37:42 <procyon_> chessguy: yes.  I'm very interested in lazy GP
13:38:24 <chessguy> once i get that done, the next thing i want to work on is a DSL for specifying GP strategies
13:38:37 <procyon_> chessguy: another wish list item is to be able to read and show the trees in some kind of simple scheme-like syntax.
13:38:41 <chessguy> e.g., selection/reproduction/generation strategies
13:38:49 <chessguy> procyon_, that's easy
13:39:17 <chessguy> in fact i think i patched that already, in my local version
13:39:21 <procyon_> :)
13:39:26 <procyon_> same here
13:39:44 <chessguy> i'll check it when i get home and upload the most recent version
13:40:07 <chessguy> out of curiosity, do you have any particular applications you're interested in?
13:40:22 <HairyDude> I have a cgi script that works fine when I run it from the command line (./hellow.hs), but when I try to actually use it as a cgi script it gives errors about the CGI module not being in scope
13:40:37 <HairyDude> using runhugs
13:40:42 <HairyDude> erm, runghc even
13:41:45 <procyon_> chessguy: My applications are in Neural Networks... evolving unsupervised learning strategies for dynamically structured recurrent NN's with a similar-to-gasnet-but-not-quite model.
13:42:07 <Lemmih> HairyDude: Is the 'cgi' package installed locally?
13:42:29 <chessguy> procyon_, sounds interesting
13:42:29 <HairyDude> Lemmih: well it works from the command line, so yes
13:43:27 <HairyDude> or do you mean 'installed locally' as in 'installed in /usr/local' ?
13:43:34 <procyon_> I have some great ideas to eliminate the virtual spacial relationships in gasnets.  I think that the reason gasnets live on a plane is arbitrary.  I would like to abstract out the "space" component, as modeling virtual space is computationally expensive.
13:44:05 <Lemmih> HairyDude: Try runnng the script as www-data (or whatever your web-server runs under).
13:44:45 <HairyDude> cgi scripts run as the user on this machine
13:45:06 <procyon_> Additionally, I think structure changes should be a component of ANN learning... It's just that there are no known models to train a dynamically structured recurrent network.  I want to do GP searches to find some good training algorithms.
13:45:24 <HairyDude> i.e. I have ~pwb/public_html/foo.hs, it runs as pwb
13:45:36 <chessguy> procyon_, the other thing i've been thinking about is how to abstract it to not just work on trees
13:46:07 <procyon_> chessguy: yeah.  I like the idea of directed graphs.
13:46:47 <chessguy> well, if i can abstract out the data structure, it would be able to do, e.g., genetic algorithms (operating on lists)
13:47:27 <procyon_> yup.
13:47:43 <Lemmih> HairyDude: How about writing a small program that just prints out its username and ghc version?
13:47:50 <chessguy> of course, there would have to be some kind of constraints on what kind of data structures i can use
13:47:59 <chessguy> like a class Evolvable
13:48:36 <procyon_> That shouldn't be too hard, although your mutation and crossover algorithms would need to selected to be compatible with the underlying structure.  Some just don't make sense, whereas others make sense in any structure.
13:48:38 <HairyDude> how do I get the ghc version?
13:49:06 <Lemmih> HairyDude: See System.Info
13:49:21 <chessguy> right, i'd have to write those algorithms in terms of the functions in the class
13:49:25 <procyon_> chessguy: Oh.. also, I want island strategies.
13:49:58 <chessguy> i'm not familiar with that
13:50:13 <stepcut> HairyDude: have your script print out the value of getEnvironment too...
13:51:08 <procyon_> island strategies==have n seperate populations that evolve independantly.  Occassionally, migration of an individual is allowed between "islands".
13:51:41 <procyon_> island strategies generally are used to offset convergence.
13:52:04 <chessguy> so if your original population has p individuals, you would now have n populations with p/n members each?
13:52:22 <procyon_> chessguy: yes, and breeding is only allowed within a population.
13:52:33 <chessguy> interesting
13:52:50 <procyon_> and every x generations, migration of m individuals between islands happens.
13:53:25 <procyon_> chessguy: may favorite is heirarchial islands:
13:54:29 <procyon_> call Ft the fitness of the top individual.
13:54:54 <procyon_> order your individuals by fitness.
13:55:49 <procyon_> Create n islands populated by individuals lying within that island's "fitness range".
13:57:10 <procyon_> Island 1 has a "fitness range of 0 to Ft/n... Island n has individuals with fitness Ft/n * n-1 to Ft
13:57:25 <HairyDude> testing
13:57:38 <stepcut> hrm, xmonad has a way to make windows wider, but what about taller ?
13:57:41 <chessguy> hmm
13:57:54 <chessguy> i'm following, though i don't see where this is going
13:57:55 <HairyDude> hrm, network glitch
13:58:19 <kuribas> How do I enter an array into a ST Monad?  "runSTUArray $ newArray_ (0, 10)" doesn't work...
13:58:22 <procyon_> One of the primary strategies for populating island 1 is creating completely random individuals...  Random individuals are not created at the higher islands.
13:59:34 <procyon_> evern x generations, the islands thresholds for their ranges is recalculated (assuming a new "top" individual was found).  Any individuals that exceed the threshold for their island migrate to the appropriate island.
14:00:39 <chessguy> ohhhh, so each island has its own strategy for breeding a new island
14:01:09 <procyon_> What this does is allow new genetic material to always be introduced into the system.  The new material does not have to compete with the "best of breed" individuals, so it can evolve on it's own for a while, tuning it's fitness before "graduating" to the next island.
14:02:13 <chessguy> very cool
14:02:21 <procyon_> A big problem with GP is that a single "good" strategy ends up taking over the whole population.. aka convergence.  With this model, new strategies can be explored without being outcompeted by the existing best strategies./
14:02:34 <chessguy> right
14:03:10 <procyon_> Your top tier island ends up being a mix of very different individuals, all inter breeding, instead of all minute variations on a single theme.
14:03:37 <Lemmih> kuribas: Don't use ($).
14:04:07 <chessguy> whereas if you "break" a top individual, it's likely to go back to a lower tier to get fixed
14:05:05 <HairyDude> odd. now I get "Not in scope: `GHC.TopHandler.runIOFastExit'
14:05:16 <HairyDude> but I don't mention that
14:05:31 <HairyDude> again, works fine from the command line
14:05:46 <LoganCapaldo> :t GHC.TopHandler.runIOFastExit
14:05:49 <lambdabot> forall a. IO a -> IO a
14:05:55 <Lemmih> HairyDude: Maybe you should hpaste exactly what you're doing.
14:06:27 <procyon_> chessguy: normally you dont "demote" individuals, only promote.  Since you are using tournament selection, the top individual is always retained, and you have new and novel genetic material coming in that holds promise, so "fixing" broken designs is generally computational power that can be better utilized exploring new ones.
14:07:09 <Cale> kuribas: The type of ($) isn't sufficiently polymorphic to allow for parameters with higher-rank types.
14:07:26 <Lemmih> HairyDude: What does 'ghc --print-libdir' say?
14:07:41 <chessguy> well, on the xth generation it would be demoted
14:08:02 <procyon_> chessguy: another cool thing about all island models is that they are trivial to parallelize.... you can run n islands on n computers and only checkpoint at migration time since there is no interdependance.
14:08:16 <chessguy> that makes sense
14:08:58 <HairyDude> [pwb@silver hsblog]$ ghc-6.7.20070323 --print-libdir
14:08:58 <HairyDude> /home/life/pwb/lib/ghc-6.7.20070323
14:09:02 <HairyDude> which I expected
14:09:29 <HairyDude> (same version as runghc)
14:09:33 <Lemmih> HairyDude: And are you absolutely sure that the webserver is run by 'pwb'?
14:09:49 <kuribas> Cale, Lemmih: ok, I'll try with parens.
14:10:18 <HairyDude> the webserver is run as apache, but the cgi script is run as pwb
14:11:04 <HairyDude> the server uses suexec
14:11:42 <monochrom> I have a wild conjecture. The web server invokes a different installation of GHC.
14:12:06 <chessguy> procyon_, sounds like you've got some great ideas
14:12:11 <Lemmih> HairyDude: The problem you're describing is exactly what would happen if that's not the case.
14:12:23 <chessguy> procyon_, would you send me an email to discuss these things further?
14:12:27 <Cale> hmm
14:12:37 <HairyDude> running it on the command line takes the interpreter from the #! line. running it as a cgi script does to afaik
14:12:48 <HairyDude> s/to/too/
14:12:57 <HairyDude> Lemmih: hmm
14:13:01 <Cale> cale@zaphod:~$ objdump -T /usr/lib/libglut.so.3 | grep glutSetOption
14:13:01 <Cale> 00015900 g    DF .text  00000141  Base        glutSetOption
14:13:01 <Cale> cale@zaphod:~$ ./gl
14:13:01 <Cale> gl: user error (unknown GLUT call glutSetOption, check for freeglut)
14:13:01 <Cale> cale@zaphod:~$ ldd gl | grep glut
14:13:01 <Cale>         libglut.so.3 => /usr/lib/libglut.so.3 (0xb7f40000)
14:13:36 <quicksilver> I hypothesise that unknown GLUT call doesn't mean the symbol isn't the library
14:13:45 <Cale> seems that way
14:13:49 <quicksilver> it means that the underlying call fails
14:13:54 <Cale> hmm
14:13:58 <quicksilver> as if it's not supported by the underlying GL implementation
14:14:09 <quicksilver> otherwise it should have been a linker error
14:14:13 <Lemmih> HairyDude: Compiling the program should enable you to run the test.
14:14:19 <Cale> Yeah, you'd think so.
14:14:29 <Cale> Now, why might that call be unimplemented?
14:14:29 <monochrom> Yeah, glutSetOption is present, but all the code does is say "I'm not available".
14:15:33 <xs> what does "check for freeglut" mean? do you need to initialise something?
14:17:43 <HairyDude> Lemmih: it does indeed...
14:18:07 <Cale> I'm honestly not sure. I'm trying to run someone else's code. I'm going to go through and try to figure out exactly what in the Haskell code uses that call, since glutSetOption isn't used directly anywhere.
14:18:56 <Lemmih> HairyDude: I'm off to bed. Good luck finding the problem.
14:19:16 <HairyDude> Lemmih: hrm, okay, well thanks for the help
14:21:46 <HairyDude> just looked at the suexec logs, seems the script is running as me
14:22:21 <monochrom> Do you need "runghc -package cgi"?
14:23:34 <Cale> actionOnWindowClose $= MainLoopReturns
14:23:40 <Cale> that seems to be the culprit
14:24:17 <LordBrain> what's ($=) ?
14:24:44 <Cale> http://www.haskell.org/ghc/docs/latest/html/libraries/OpenGL/Graphics-Rendering-OpenGL-GL-StateVar.html
14:24:47 <lambdabot> http://tinyurl.com/24hd3h
14:24:59 <Cale> an abstract assignment operation over general state variables
14:28:28 <Cale> Hmm, actionOnWindowClose is marked as freeglut only. However, my libglut.so.3 is definitely coming from the freeglut3 package in Ubuntu.
14:28:37 <Cale> odd.
14:31:11 <Cale> Graphics.Rendering.OpenGL.GL.StateVar is unfortunate, btw. That stuff has nothing at all to do with OpenGL.
14:31:20 <procyon_> chessguy: yeah, I'll send an email describing a "wish list", and start hacking your existing code to implement strongly typed GP and send you a patch when it's ready.
14:33:21 <Cale> icarroll: you might like to know that I tracked down the glutSetOption problem a bit. It has something to do with actionOnWindowClose, which is marked as freeglut only in the library -- even though I have freeglut, it seems unwilling to provide glutSetOption which is apparently needed for that call.
14:34:07 <chessguy> procyon_, sounds great
14:34:33 <icarroll> Cale: thanks
14:36:40 <icarroll> Cale: When I comment out actionOnWindowClose it mostly works on my mac.
14:37:41 <icarroll> I guess the right solution is to ditch GLUT. :)
14:40:33 <HairyDude> monochrom: don't need it running from the command line, or compiling
14:41:17 <monochrom> I see.
14:49:45 <xerox> ?arr
14:49:46 <lambdabot> Avast!
14:56:41 <dolio> @quote qwe1234
14:56:42 <lambdabot> qwe1234 says: laziness is TEH SUCK, by the way. there's a reason we got rid of it after writing the first fortran compiler.
14:56:55 <Shimei> Hehe.
14:56:57 <sioraiocht> lol
14:57:17 <Shimei> Always fun to go through programming.reddit threads downmodding qwe into oblivion. ;)
14:59:34 <dolio> He was actually talking sense in some thread recently, I think.
14:59:37 <icarroll> @quote laziness
14:59:37 <lambdabot> qwe1234 says: so, to summarize: laziness per your definition is a form of syntactic sugar that saves one or two lines of code while making programs slower.  whoop de doo
15:02:17 <HairyDude> I'd call it semantic sugar rather than syntactic
15:02:29 <icarroll> @quote sugar
15:02:29 <lambdabot> dons says: you start with lisp, get to statically typed lisp (ML), add laziness, add whitespace to solve the parens stuff, add syntax sugar (for human programmability), and finally, add purity (i.e.
15:02:30 <lambdabot> true functional programming), and you've got haskell
15:04:21 <dolio> @quote qwe1234 perl
15:04:22 <lambdabot> qwe1234 says: a language with type inference isn't more expressive -- because type declarations are redundant, much like 'sigils' in perl.
15:06:00 <icarroll> @quote inference
15:06:00 <lambdabot> dons says: The alien rulers of the galaxy must surely use a statically typed language with type inference
15:08:50 <HairyDude> @quote static
15:08:51 <lambdabot> qwe1234 says: i don't know about you, but i only use c++ because it gives static compile-time guarantees that assembly could never give.
15:09:02 <quicksilver> whats the best way to [Char] -> [Word8] ?
15:09:56 <icarroll> perhaps map (fromIntegral . ord)
15:09:57 <HairyDude> aah, a veritable Pandora's box, that one :)
15:10:14 <dolio> :)
15:10:19 <dolio> @quote qwe1234 monad
15:10:19 <lambdabot> No quotes match. Where did you learn to type?
15:10:22 <dolio> @quote qwe1234 monads
15:10:23 <lambdabot> No quotes match. Your mind just hasn't been the same since the electro-shock, has it?
15:10:24 <quicksilver> icarroll: that truncates it to 8 bits although it might be good enough for now
15:10:39 <HairyDude> @quote monad
15:10:39 <lambdabot> dpiponi says: [<monochrom> Nevermind monads.  Use arrows.  Come join the Dart Side!] <dpiponi> Never mind arrows. Use comonads. Cojoin the other side.
15:10:58 <icarroll> quicksilver: Unicode is for pansies. :)
15:11:52 <kc5tja> /clear/clear
15:11:52 <ariks> wee  日本語
15:11:58 <Adamant> @quote Unicode
15:11:58 <lambdabot> No quotes match. It can only be attributed to human error.
15:12:02 <xerox> nihongo!
15:12:16 <icarroll> @quote perl
15:12:16 <lambdabot> cjeris says: i have a little perl script that aliases gcc -freduced-suckage to ghc
15:12:47 <ariks> xerox: we must be pansies :)
15:13:07 <Adamant> @quote types
15:13:07 <lambdabot> Pseudonym says: I think principal types are overrated
15:13:33 <Adamant> @quote enterprise
15:13:33 <lambdabot> slava says: Because top enterprise industry analysts recommend that managers need to focus on Agile methodologies, SOA, B2B and Yoneda's lemma in today's rich internet application-driven environment.
15:13:33 <lambdabot>  Don't get left behind by the AJAX craze by missing out on call center outsourcing and Yoneda's lemma!
15:13:46 <dolio> > (?x -> x) 5
15:13:47 <lambdabot>  Parse error
15:13:57 <HairyDude> is lambdabot case sensitive=
15:15:51 <icarroll> @QUOTE CASE
15:15:52 <lambdabot> Unknown command, try @list
15:15:58 <icarroll> looks like it :)
15:16:06 <HairyDude> @quote unicode
15:16:06 <lambdabot> No quotes match. Sorry about this, I know it's a bit silly.
15:16:26 <HairyDude> mmm... obscure 2000 references
15:17:15 <icarroll> @quote hal
15:17:15 <lambdabot> vincenz says: [on C++]  it's easy to pick up like being a mortician is easy to pick up. technically there's no challenge but you have to look at corpses every day
15:17:55 <chessguy> clearly vincenz has never seen CSI
15:18:17 <chessguy> where the morticians crack half the cases open
15:18:51 <dolio> Heh, they're not really morticians.
15:19:00 <chessguy> they're not?
15:19:07 <dolio> A mortician is the guy at the funeral home.
15:19:12 <dolio> Isn't he?
15:19:17 <chessguy> oh, right
15:19:19 <chessguy> my bad
15:19:29 <dolio> :)
15:19:49 <dolio> Luckily there probably aren't any phorensics people here.
15:20:15 <ariks> you're probably thinking coroner
15:21:10 <chessguy> ya
15:21:46 <chessguy> dolio: especially lucky for you since it's spelled 'forensics' :)
15:22:19 <sorear> hello.
15:22:27 <dolio> Yeah, my bad.
15:22:31 <sorear> how is Hugs' FD support?
15:22:38 <dolio> At least I didn't call them funeral directors! :)
15:23:08 <TomMD> hugs supports stuff still?  Why not just use GHC or develop YHC?
15:24:13 <ariks> hugs has trex.. at least it has some kidn of solution for the abysmal haskell record situation
15:25:23 <sorear> TomMD: because ghc's fd support is b0rken
15:25:36 <sjanssen> @yow!
15:25:37 <lambdabot> Hmmm ... a PINHEAD, during an EARTHQUAKE, encounters an ALL-MIDGET
15:25:37 <lambdabot> FIDDLE ORCHESTRA ... ha ... ha ...
15:25:54 <sorear> TomMD: check any local mailing list, read SPJ's "just be patient, FC will be ready 2 months from now"
15:26:21 <TomMD> I mustr be misunderstanding the "FD" and "FC" acronym.
15:26:22 <ariks> sorear: i'm slow. FD?
15:26:29 <sorear> functional dependencies
15:26:34 <ariks> ah
15:26:38 <sorear> class Foo a b | a -> b where ...
15:26:41 <ariks> gotcha
15:26:52 <sorear> ghc's had them for many years, but incompletely implemented
15:27:08 <TomMD> Ah - yes, I hate the fact that when using existential types I must use pattern matching when record names would be more useful, is that roled up in this?
15:27:30 <sorear> no
15:27:38 <sorear> that's just general ghc badness :)
15:27:45 <TomMD> Damn it!
15:27:59 <sorear> record names?
15:28:21 <TomMD> I meant, field name
15:32:04 <sorear> TomMD: I am designing a typechecker for the hv project.  I will probably port it to yhc later.
15:32:33 <sorear> @users
15:32:34 <lambdabot> Maximum users seen in #haskell: 337, currently: 315 (93.5%), active: 37 (11.7%)
15:32:36 <sorear> @quote
15:32:37 <lambdabot> VerityStob says: Lisp is still #1 for key algorithmic techniques such as recursion and condescension.
15:32:55 <TomMD> I'll have to look into YHC more.
15:33:17 <dolio> It is remarkably quick to compile.
15:33:28 <dolio> 4 minutes, here. Much better than the 90 sorear quotes for GHC.
15:34:03 <sorear> even dons takes a whole 6 minutes to compile GHC
15:34:09 <sjanssen> 4 minutes?
15:34:15 <sjanssen> oh, for Yhc
15:34:58 <sorear> @seen
15:36:50 <TomMD> Wow, not many people on right now.
15:37:05 <sorear> la la la!
15:37:44 <sorear> @uptime
15:37:44 <lambdabot> uptime: 3d 4h 40m 5s, longest uptime: 5d 3h 40m 45s
15:37:45 <sorear> @let
15:37:47 <lambdabot> Plugin `eval' failed with: IRCRaised Data.ByteString.last: empty ByteString
15:38:41 <xerox> Who wrote the carsim demo for gtk2hs? How cute.
15:39:04 * TomMD innocent
15:39:19 * sorear goes back to doccing derive
15:39:53 <TomMD> Too bad 'derive' isn't a type class, that way you could 'derving Derive'
15:40:38 <monochrom> haha
15:41:23 <kuribas> Is hGetChar slower than using bytestrings?
15:41:38 <sorear> usually, bad question
15:41:49 <sorear> I suspect it is
15:41:55 <xerox> counting user response time? :P
15:42:03 <sorear> but don't care about performance
15:42:11 <kuribas> For reading a pbm image file.
15:44:27 <kuribas> I have written code in ocaml which inverts the colors of a large bitmap in 6 seconds.  I hope I can write a haskell version which is as fast.
15:44:58 <kuribas> Or at least not ten times slower.
15:45:14 <sorear> bytestrings are your friend
15:45:18 <sorear> preferably lazy
15:45:29 <kuribas> why lazy?
15:45:46 <mbishop> ocaml's native compile produces some nice code
15:45:48 <sorear> because lazy list processing runs in constant space
15:45:52 <Saizan> mmh i evaluate a step of the game of life on 700x700 pbms in 1.4 sec
15:46:19 <kuribas> sorear: that would be nice :)
15:46:43 <kuribas> Saizan: in haskell?
15:46:49 <sorear> dense algorithms are bad...  My life algorithm can run INFINITE boards in finite time!
15:47:01 <sorear> And they have nonzero mean density!
15:47:07 <dons> morning.
15:47:14 <Saizan> yes, using Data.Binary for reading and writing
15:47:14 <sorear> hello.
15:47:40 <Cale> How are you measuring the mean density of an infinite board?
15:47:46 <Saizan> sorear: but i do it with a comonad!
15:47:54 <sorear> Cale: badly
15:48:01 <nominolo> i love it
15:48:06 <dons> kuribas: don't reach Char-at-a-time
15:48:19 <nominolo> 3 hours of debugging because of 4 missing characters
15:48:20 <sorear> Cale: it's currently limited to periodic patterns, which have a fairly obvious definition of density
15:48:26 <Cale> ah, okay
15:48:27 <dons> kuribas: would be better to write a binary parser, or use a lazy bytestring. if the images are small-ish, i'd suck them straight into a strict bytestring.
15:48:46 <kuribas> One image is 2488x3504
15:48:53 <Cale> that's not really an infinite board so much as it is a toroidal one then
15:48:54 <sorear> Cale: although there is no real reason the algorithm needs to be so limited...
15:49:17 <desp> ?seen bos
15:49:18 <lambdabot> I saw bos leaving #haskell 21h 8m 58s ago, and .
15:49:25 <desp> "and ."?
15:49:27 <dons> kirkeby: anyway, this is a job for bytestrings, not Char/getChar.
15:49:37 <dons> and .
15:50:02 <sorear> Cale: my algorithm at present can run a finite disturbance on an infinite periodic board, but in principle the background could be any computable function
15:50:08 <kuribas> dons: I'll see what it gives.
15:52:24 * kuribas is curious if it will match ocamls performance.
15:55:06 <sorear> any haddock experts here?
15:55:38 * HairyDude looks in the httpd error logs and sees:
15:55:40 <HairyDude> Glasgow Haskell Compiler, Version 6.4.2, for Haskell 98, compiled by GHC version 6.4.2
15:55:45 * HairyDude slaps apache
15:56:23 <sorear> http://members.cox.net/stefanor/derive-html/Data-Derive-Driver.html  http://www.cs.york.ac.uk/fp/darcs/derive/Data/Derive/Driver.hs  what am I doing wrong? the section header is in the wrong place :(
15:56:25 <lambdabot> http://tinyurl.com/ys9ppc
15:56:42 <HairyDude> monochrom: you were right, it's invoking a different ghc
15:58:01 <monochrom> hehe
15:58:48 <Saizan> uhm, what's the best way to keep 2 versions of ghc on the same machine? keeping one of them out of the current PATH?
15:59:01 <HairyDude> why the fsck it's doing that, I have no idea
15:59:05 <sorear> just install both!
15:59:05 <waern> @hpaste
15:59:06 <lambdabot> Haskell pastebin: http://hpaste.org/new
15:59:22 <sorear> it will use the most recent version if you say 'ghc'
15:59:46 <Saizan> oh
15:59:57 <sorear> waern: can you take a look at that .hs file and tell me why the section header is showing up in the main section rather than the summary?
16:00:24 <stepcut> sorear: which section header ?
16:00:41 * stepcut is confused about what is wrong
16:00:45 <sorear> These types are intended to be used to resolve overloading issues caused by the rest...
16:00:52 <HairyDude> Glasgow Haskell Compiler, Version 6.7.20070323, for Haskell 98, compiled by GHC version 6.7.20070323
16:00:55 <HairyDude> interesting
16:01:11 <monochrom> Weird as it sounds, I think "These types ..." appear at the right places.
16:01:28 <HairyDude> does it get compiled twice then? once using ghc 6.6, then with itself?
16:01:31 <sorear> hmm, maybe it belongs where it is... but I still don't get why haddock put it there
16:01:37 <sorear> HairyDude: yes, ghc bootstraps
16:01:39 <stepcut> sorear: Why do you have -- $arg, I have only seen -- *
16:01:50 <HairyDude> no wonder it takes so long :)
16:01:56 <sorear> http://haskell.org/haddock/haddock-html-0.8/ch03s05.html
16:01:57 <lambdabot> Title: 3.5. Named chunks of documentation
16:02:07 <stepcut> ah
16:02:15 <vincenz> chessguy: :D
16:02:33 <chessguy> ?
16:02:48 <monochrom> You specify $arg to appear just between derivable and A.  And so it does, between derivable and A.
16:02:54 <sorear> monochrom: how does haddock decide to take a doc comment from the export list (which I assume corresponds to the export summary on top), and put it on the bottom?
16:02:56 <vincenz> chessguy: my earlier quote
16:03:06 <sorear> monochrom: derivable and A appear twice.
16:03:19 <monochrom> I mean in the export list.
16:03:28 <sorear> monochrom: I thought I was asking for it to go in the first, it went to the second.
16:03:33 <chessguy> yes, you were quoted, congrats
16:03:42 <monochrom> Docs never go into the synopsis.
16:04:35 <sorear> ok then.  makes a little more sense.
16:05:18 <stepcut> s
16:05:55 <monochrom> You could use a real section heading. Add "{- * Types -}" before "-- $arg".
16:07:07 <sorear> ok.
16:07:14 <sorear> why the nested comment btw?
16:07:53 <monochrom> Oh, you could also use "-- * Types", but you need a blank line to separate it from "-- $arg".
16:08:10 <waern> sorear, are you sure it should show up in the summary?
16:08:18 <sorear> waern: no :)
16:08:31 <sorear> waern: I misunderstood exactly what haddock was doing
16:08:34 <monochrom> Nothing ever shows up in the synopsis.
16:09:02 <sorear> waern: btw, the haddock documentation could use the word 'synopsis'; I had no idea what to call it :(
16:09:09 * sorear rechecks the doc
16:09:41 <monochrom> Haddock itself is probably not fully formalized :)
16:09:50 <waern> I haven't even touched the haddock documentation :)
16:10:21 <waern> feel free to send in patches for it
16:10:23 <nominolo> :t curry
16:10:24 <sorear> I probably should note that I'm using haddock.ghc
16:10:26 <lambdabot> forall a b c. ((a, b) -> c) -> a -> b -> c
16:10:27 <sorear> waern++
16:10:42 <sorear> derive uses deriving(Data) quite a bit internally
16:11:18 <waern> sorear, ah
16:12:26 <waern> sorear,  just don't code up the template haskell Binary instance. A friend and I just sent in a project proposal for School to do that.
16:13:14 <sorear> ?
16:13:27 <waern> heh
16:13:59 <sorear> I already told ndm I'd be making a completely generic TH extractor for deriving any supported class (currently functor, binary, binarydefer, eq)
16:14:13 <waern> oh
16:14:52 <waern> how would that work?
16:14:54 <sorear> ah, well, will just try to do the drift-cloning then
16:15:07 <sorear> import Data.Derive.TH
16:15:18 <sorear> data Foo = Bar {- no deriving data -}
16:15:30 <sorear> $( derive "Functor" ''Foo )
16:16:08 <sorear> drift cloning would use the ghc apito extract data declarations
16:16:21 <waern> yes.. I thought you meant "generic" in the sense that it took the existing derive functions and makes them spit out TH
16:18:23 <chessguy> is it just me or does the gtk2hs tutorial talk a lot about a file called "memory.glade", but not actually provide it
16:18:28 <waern> sorear: drift cloning?
16:18:42 <sorear> waern: DrIFT cloning
16:18:45 <waern> yes
16:18:57 <waern> is cloning a DrIFT concept?
16:19:05 <waern> or are you cloning DrIFT in some sense? :)
16:19:09 <chessguy> dcoutts_: ping
16:19:14 <sorear> no, cloning is a software development concept
16:19:14 <waern> @where DrIFT
16:19:15 <sorear> yes
16:19:15 <lambdabot> http://repetae.net/john/computer/haskell/DrIFT/
16:19:47 <sorear> in drift-cloning-mode, derive acts as a preprocessor!
16:19:54 <sorear> that said, it would need to ...
16:20:03 <sorear> extract directive comments from the AST!
16:20:14 <sorear> last night I had the most evil thought
16:20:25 <waern> sorear, ah, now I see... you want to support DrIFT rules?
16:20:25 <sorear> encode the derivation directives as
16:20:36 <sorear> {-^ DERIVE Functor -}
16:20:48 <sorear> but abuseing the GHC haddock support is just...
16:20:50 <sorear> too evil.
16:20:58 <sorear> waern: no, just the DrIFT workflow
16:21:26 <waern> ah yeah, the  {-^ DERIVE -} syntax
16:21:40 <sorear> you agree it's evil?
16:22:00 <sorear> (drift uses {-! derive !-}, which I obviously can't parse)
16:22:28 <waern> wouldn't it be a bit complicated?
16:22:43 <waern> I mean, you would need to parse the project?
16:22:52 <sorear> no, parsing {-^ DERIVE -} would be quite easy
16:23:03 <sorear> I just run the file through the GHC API
16:23:13 <sorear> and look for specially formatted haddock comments
16:23:37 <sorear> but I don't want that, far too hacky
16:23:48 <waern> yes, and running the file through the GHC API without getting compilation errors means setting up all project flags etc?
16:23:50 <sorear> or are you talking about something else entirely?
16:24:26 <sorear> we already need the flags for deriving
16:24:33 <sorear> #define Foo Bar
16:24:47 <dons> ?users
16:24:47 <lambdabot> Maximum users seen in #haskell: 337, currently: 311 (92.3%), active: 41 (13.2%)
16:24:53 <sorear> data Bar = Foo {- ^DERIVE Functor -}
16:25:10 <dons> so who's played tetris today? http://myawesomeblag.blogspot.com/2007/03/opengl-tetris-in-haskell.html
16:25:13 <lambdabot> Title: My Awesome Blag: OpenGL Tetris in Haskell, http://tinyurl.com/283j4x
16:25:34 <sorear> not on planet :(
16:25:42 <sorear> hello ndm.
16:26:08 <waern> sorear, anyway.. did you have any special ideas for the deriving functions? we were just thinking of contributing the Binary istance
16:26:22 <ndm> hi sorear
16:26:34 <sorear> waern: I'm afraid we mean different things by "deriving functions"
16:26:45 <sorear> waern: derive can already handle binary
16:26:50 <ndm> sorear: thanks for the patches, all applied
16:27:05 <ndm> waern: Binary and DeferedBinary were the first two derivings in there :)
16:27:05 <waern> sorear, yes... I mean deriveTH
16:27:18 <waern> of course :)
16:27:19 <sorear> @where deriveTH
16:27:20 <lambdabot> I know nothing about deriveth.
16:27:21 <ndm> is deriveTH being baesdon the derive library?
16:27:28 <ndm> if not, why not!
16:27:37 <sorear> ndm: because forks are evil
16:27:50 * sorear is planning to implement TH directly in derive!
16:28:05 <waern> that's what I meant to do too
16:28:05 <largos> does anyone know if there is a Matrix library for haskell that can do singular value decomposition?
16:28:05 <dons> i'm going to implement -O11 in TH!
16:28:06 <ndm> sorear: is it not being written in a manner so that all types of derivings work from all things
16:28:21 <sorear> ndm: huh?
16:28:35 <sorear> ndm: of course you can't derive all classes for all types
16:28:43 <ndm> sorear: are you saying you guys are writing deriveTH, or are you writing patches to derive?
16:28:44 <stepcut> dons: in xmonad, is there a way to make a window taller? I can make them wider, but I don't see taller ...
16:28:47 <sorear> ndm: that would be unnecessarily restrictive
16:28:48 <ndm> dons: good luck ;)
16:28:56 <waern> ndm, patches to derive
16:29:01 <sorear> me too
16:29:08 <ndm> sorear: oh, thats fine - i realised that the Functor derivings don't work in all places
16:29:12 <sorear> but our efforts are not connected
16:29:17 <ndm> waern++ sorear++
16:29:22 <ndm> and a race to see who wins ;)
16:29:37 <LPhas> anyone managed to get xmonads work in macosx on apple-supplied X11?
16:29:42 <sorear> ndm: you're missing a _darcs/prefs/email in both catch and derive
16:29:47 <dons> stepcut: i don't think so! sjanssen ?
16:29:51 <dons> stepcut: i'd like that too.
16:29:59 <dons> (steptcut, and wouldn't be too hard to add)
16:30:11 <sorear> ndm: hah. I'm busy writing the haddocks :)
16:30:12 <dons> LPhas: yeah, sjanssen uses a mac, so it gets developed on that.
16:30:24 <ndm> sorear: good good :)
16:30:37 <LPhas> dons: maybe he uses darwinports' X11
16:30:46 <dons> oh, i suppose that's possible, yes.
16:30:46 <stepcut> dons: might be hard to do it in 0 lines though :-l
16:31:29 <ndm> sorear: i'll have to hook up a haddock documentation binding for all the york repos tomorrow, its on my todo list, so people can see you derive documentation
16:31:45 <stepcut> dons: the other problem I have is, kopete has no way to notify me that I have a new message :-/
16:32:13 <dons> right. we don't try to popup transients at all
16:32:19 <waern> sorear, If me and my project friend from the school project writes the TH Binary derive function, you could still write the others?
16:32:19 <dons> well, they pop up themselves.
16:32:25 <dons> stepcut: but its 400 loc, hack hack hack!
16:32:41 <sorear> waern: others?
16:32:49 <waern> sorear, Functor, Eq, etc?
16:33:00 <ndm> it could do with Read/Show/Ord etc
16:33:00 <sorear> waern: I'm making it orthogonal - you can use any deriver with any driver
16:33:05 <ndm> i got lazy after Eq :)
16:33:17 <stepcut> dons: normally, kopete would 'flash the taskbar', I think there is some desktop independent mechanims for that, so perhaps I can add support for that
16:33:19 <sorear> waern: so once you add TH support at all, it works for all!
16:33:44 <sorear> ndm: would it be good for derive to support everything drift does?
16:33:57 <ndm> sorear: yes
16:34:00 <waern> sorear, oh :)
16:34:00 <dmead> bonk
16:34:10 <waern> sorear, I suspected you had something more general going there
16:34:14 <ndm> sorear: and more - i really want it to be able to derive everything you could possibly want to
16:34:43 <waern> sorear, ok then you should probably take over
16:35:20 <waern> sorear, we'll could find some other project to do, it's not even accepted yet and it was such a small thing to do
16:35:21 <sorear> ndm: any thoughts on how this could be reasonable made lang independent?  I'm writing a frustratingly similar program for C, but I don't see a lot of actual common code
16:35:27 <chessguy> dcoutts: ping?
16:35:29 <ndm> i'm very interested to see what you come up with - beating drift would be massively handy
16:35:34 <sorear> waern: ok, I won't feel bad
16:35:36 <sorear> :)
16:35:37 <dcoutts> chessguy: pong
16:35:40 <sjanssen> dons: I'm on Linux nowadays, but I did have an early early build of xmonad running on OS X
16:35:44 <chessguy> hey!
16:35:50 <ndm> sorear: you mean DrIFT-a-like for C?
16:35:56 <sorear> ndm: yeah
16:36:03 <chessguy> dcoutts: i'm reading through "An Introduction to Gtk2Hs, a Haskell GUI Library", the one that constructs a memory game?
16:36:05 <dmead> does xmonad have a --replace option?
16:36:11 <chessguy> is memory.glade available somewhere?
16:36:13 <dcoutts> chessguy: oh yes
16:36:17 <ndm> sorear: i'm not sure i see much in common - C has very different mechanisms and very different type structures
16:36:23 <sorear> ndm: I started using C again after a year of haskell and just missed deriving(Read) sooo bad :)
16:36:32 <chessguy> i can't seem to find it
16:36:51 <sjanssen> dmead: what would --replace do?
16:36:54 <ndm> sorear: if you can think of a way to generalise it without making the Haskell less clear, go for it - but i can't immediately
16:37:09 <stepcut> sjanssen: replace an already running window manager
16:37:18 <sorear> sjanssen: it's specced in the ICCCM
16:37:37 <dons> stepcut: oh, right. we have some plans for that. didn't we add reexec support sjanssen ? or was I going to do that?
16:37:51 <dcoutts> chessguy: http://haskell.org/~shae/gtk2hs-tmr1.zip  (linked from haskell.org/gtk2hs/documentation/)
16:37:57 <dmead> sjanssen: its something that kwin and gnome-dectorator implement
16:38:08 <dmead> just replaces the currently running WM
16:38:10 <sjanssen> dons: jcreigh added some reexec support, but I think they're looking for something more elaborate
16:38:25 <dmead> oh
16:38:25 <dmead> right
16:38:25 <mbishop> You know what's a kind of neat feature, that ratpoison has is the ability to open a window (I think it uses Xnest) with a specified WM in it, so you can manage just certain apps in kwin or metacity or whatever, then close it when your done
16:38:27 <dmead> k
16:38:29 <dons> elaborations and decorations are for xmas trees ;-)
16:38:43 * dmead runs beryl in his weaker moments
16:39:13 <sorear> ndm: how do you feel about extension support? like deriving for GADTs? :)
16:39:22 <chessguy> dcoutts: i don't see the link there, but ok. thanks!
16:39:26 <sorear> ndm: (not high on my list)
16:39:37 <ndm> sorear: fine, as long as the generated code will run on Yhc/Hugs (provided the data types will of course)
16:39:43 <sjanssen> dmead: I've set up my .xinitrc so I get a WM choice/quit option every time my window manager exits
16:39:46 <dcoutts> chessguy: second link in the section http://haskell.org/gtk2hs/documentation/#examples
16:39:57 <ndm> sorear: in general you can go crazy with extensions in this project (thats the only project on which i will say that!)
16:39:59 <sjanssen> that's probably the simplest thing to do
16:40:00 <dcoutts> chessguy: just next to the link to the TMR pdf
16:40:09 <dmead> i know that can be rigged
16:40:15 <dmead> but the stanard is really just --replace
16:40:16 <chessguy> ohhhhh
16:40:23 <chessguy> @slap chessguy
16:40:24 * lambdabot smacks chessguy about with a large trout
16:40:29 <chessguy> thanks
16:40:40 <waern> dcoutts, could you take a quick look at this: http://hpaste.org/1155 ?
16:40:54 <sorear> ndm: so I can't go crazy with extension support in yhc? :)
16:41:14 <largos> is anyone familiar with GSL?
16:41:18 <waern> dcoutts, I started to look at binding Scintilla but it can't parse that header file
16:41:19 <ndm> sorear: support, yes, use no
16:41:19 <dmead> kwin --help
16:41:24 <dmead> --replace                 Replace already-running ICCCM2.0-compliant window manager
16:41:40 <ndm> sorear: of course, once Yhc can compile itself, any extension you add to Yhc can be used by Yhc instantly - unlike GHC which is restricted to an old version
16:41:54 <dcoutts> waern: what version of c2hs are you using? latest darcs? I landed about a bazillion patches to the c2hs C parser in the last month.
16:41:58 <sorear> ndm: why's that?
16:42:13 <ndm> sorear: GHC has a nightmare bootstrap, Yhc has a trivial one
16:42:15 <largos> (n/m, GSL does svd :)
16:42:19 <sorear> ndm: don't we want people to be able to bootstrap yhc with only an old version?
16:42:29 <waern> dcoutts, pretty late darcs (couple of days old), I can try to update it though
16:42:34 <ndm> sorear: you can bootstrap it with a C compiler only, no need for any Haskell compiler
16:42:48 <xs> largos, fwiw, i'm familiar with gslhaskell.
16:42:49 <ndm> sorear: we can ship a cross-platform bytecode compiler binary
16:43:04 <sorear> ndm: ah right that.
16:43:16 <dcoutts> waern: are you running it on that .h file directly? since it doesn't #include <gtk/gtk.h> so GtkContainer really isn't defined.
16:43:38 <waern> dcoutts, no, I've added Scintilla support to the build system
16:43:39 <sorear> ndm: about how much do we need before yhc can self-compile? just MPTC/FD?
16:44:01 <dcoutts> waern: to the build system of what?
16:44:08 <waern> dcoutts: gtk2hs
16:44:23 <sorear> ndm: actually, has anyone tried bootstraping it now that rossp has split off the nonportable parts of mtl?
16:44:26 <dcoutts> ah, so it's got a pkg-config file then?
16:44:26 <dcoutts> waern: what's the top level .h file you include
16:44:33 <largos> xs: cool, I may ping you with questions later.. for now I was just looking for something that would do SVD :)
16:44:39 <ndm> sorear: no language extensions, purely libraries
16:44:51 <ndm> sorear: and no one has tried for a while, it might already work...
16:45:05 <ndm> Data.Map, Data.Set, Control.Monad.State spring to mind
16:45:11 <dcoutts> waern: remember that gtk2hs uses a different c2hs than the mainline c2hs, and I've recently only updated the mainline one
16:45:33 <dcoutts> waern: so none of my recent patches will help you since
16:45:46 <ndm> perhaps a bit more of System.Directory
16:46:00 <largos> are doubles 8-bit in haskell?
16:46:05 <largos> er, s/bit/byte ;)
16:46:30 <waern> dcoutts, I'm only including that .h file. Oh, that won't work of course
16:47:03 <dons> people might be interested in some initial stream fusion Data.List benchmarks, http://www.cse.unsw.edu.au/~dons/tmp/results2.html
16:47:03 <lambdabot> Title: nobench: Haskell implementation shootout
16:47:23 <waern> dcoutts, since it said Syntax Error I didn't think it was a missing import problem
16:47:34 <chessguy> @pl do return False
16:47:34 <dons> still some wibbles to iron out in the big programs, but good speedups for many things.
16:47:34 <lambdabot> do return False
16:47:42 <chessguy> @type return False
16:47:44 <lambdabot> forall (m :: * -> *). (Monad m) => m Bool
16:47:48 <dcoutts> waern: it gives terrible error messages :-) everything is a syntax error :-)
16:47:48 <chessguy> @type do return False
16:47:51 <lambdabot> forall (t :: * -> *). (Monad t) => t Bool
16:47:59 <waern> dcoutts, okay then. I know how to fix this, thanks
16:48:28 <Cale> largos: They're standard IEEE double-precision floating point values.
16:48:32 <dcoutts> waern: what it should really do is if it gets en error, it should compile it with gcc and only if gcc doesn't complain then it should report an internal error or something
16:48:48 <dcoutts> waern: and otherwise return gcc's error message :-)
16:49:01 <Cale> largos: so, 64 bits
16:49:05 <waern> dcoutts, hehe
16:52:11 <sorear> largos: that's what GHC does.  in the report, use of IEEE double precison is merely "recommended".
16:52:19 <sorear> not that I know of any impls that don't
16:52:48 * ddarius_ makes Z80hc.
16:54:42 <sorear> Z80hc?
16:55:11 <sorear> someone yesterday was interested in any small-system haskell compiler
16:56:32 <ndm> good night everyone - hope to see derive patches in the morning ;)
16:56:49 <sorear> night.
16:57:12 * ddarius was joking, but maybe I will.  It's not hard to find or make Z80 emulators.
16:57:44 <sorear> ddarius: you'll probably run into ram limits VERY quickly..
16:59:13 <ddarius> Avoiding that will be the interesting part.  Unfortunately, I have a whole list of outstanding things to do, so Z80hc will probably not be added to it.
17:06:06 <dmead> sigh
17:06:11 <chessguy> dcoutts: is there somewhere that i can visually see a "catalog" of all the widgets in gtk2hs?
17:06:13 <dmead> emacs freezes way too frequently
17:06:48 <sorear> C-g
17:06:48 <dcoutts> chessguy: http://developer.gnome.org/doc/API/2.0/gtk/ch02.html
17:06:49 <lambdabot> Title: Widget Gallery
17:06:53 <Gwern> dmead: weird. what on earth are you doing with it?
17:07:00 <chessguy> nice. thanks
17:07:03 <dmead> C-c C-l
17:07:09 <Gwern> unless you're using Emacs 23, you really shouldn't be seeing freezes...
17:07:10 <dmead> in haskell-mode
17:07:16 <dmead> i've got 21 =/
17:07:20 <sorear> dmead: make sure you are at the end of the *haskell* buffer
17:07:26 <dmead> ahh
17:07:35 <sorear> dmead: if you're in the middle it will reliably freeze :(
17:07:38 <dmead> :(
17:07:47 <sorear> dmead: that said, C-g *always* unfreezed it
17:07:52 <dmead> oh yea?
17:07:53 <dmead> hmm
17:07:53 <dmead> k
17:07:54 <Gwern> oh, was that reload module in haskell-mode?
17:07:59 <dmead> load module
17:08:03 <dmead> err
17:08:05 * sorear is using Emacs 22
17:08:07 <dmead> rather
17:08:12 <dmead> send current buffer to ghci
17:08:16 * Gwern always just used it as :reload. fair enough then
17:08:51 <sorear> Gwern: 23 doesn't exist ... that was humor right?
17:08:54 <Gwern> I do remember a bug in haskell-mode in the one that debian currently packages though, but no freezing
17:09:03 <sorear> I'm using emacs from version control.
17:09:17 <Gwern> sorear: 23 exists, just not any sort of official release, as I understood it - it was a branch incorporating some funky thing or other
17:09:46 <Gwern> hmm. http://theblackdragon.wordpress.com/2006/04/27/installing-gnu-emacs-23-from-cvs/ says that the funky thing is something to do with Unicode
17:09:49 <lambdabot> Title: Installing GNU Emacs 23 from CVS  theBlackDragon&#8217;s Blog, http://tinyurl.com/294hw4
17:10:31 <dmead> i don't understand why they insist on being 15 years behind the times
17:10:36 <dmead> the emacs guys that is
17:10:39 <sorear> dmead: huh?
17:10:47 <sorear> dmead: 15 years how?
17:11:04 <sorear> dmead: what do they do bogusly?
17:11:07 <dmead> the gui toolkit?
17:11:10 <waern> night everyone
17:11:46 <sorear> emacs 22 uses gtk iff you use X
17:11:48 <Gwern> dmead: there's gtk
17:11:58 * Gwern textually curses sorear 
17:12:01 <sorear> but I don't, so no problem ;)
17:12:09 <dmead> hmm
17:12:28 <Gwern> anyways, even if you don't use aquamacs, or the versions using GTK, it's stilla text editor! what matters is the fonts
17:12:41 <dmead> like, real gtk? or the same primative widgets?
17:12:41 <sorear> fonts? what are those?
17:12:44 <sorear> :)
17:12:45 <ddarius> Of course, many would consider sorear's UI 40-50 years behind the times.
17:12:52 <byteshack> is \\ not in Prelude's scope?
17:13:01 <byteshack> for list differences?
17:13:02 <Gwern> dmead: there are fake gtks?
17:13:05 <sorear> if not, you would use List
17:13:09 <dmead> hehe
17:13:12 <ddarius> @index (\\)
17:13:12 <lambdabot> bzzt
17:13:19 <dmead> bzzt?
17:13:26 <dmead> is that from fifth element?
17:13:29 <TSC> @index \\
17:13:29 <lambdabot> bzzt
17:13:38 <sorear> bzzt. wrong. Try again.
17:14:09 <sorear> Gwern: yes.  cursed-gtk fex
17:14:25 <monochrom> > [1] // []
17:14:26 <lambdabot>  Couldn't match expected type `Array i e'
17:14:28 <dmead> hmm
17:14:32 <dmead> portage only has emacs21
17:14:34 <araujo> hello!
17:14:40 <ski> @index \\\\
17:14:40 <lambdabot> Data.IntMap, Data.IntSet, Data.List, Data.Map, Data.Set
17:14:42 <sorear> hello!
17:14:43 <ski> hmm
17:15:11 <maskd> dmead: try emacs-cvs
17:15:14 <sorear> dmead: considering that emacs 22 hasn't been released yet, that isn't too suprising
17:15:18 <monochrom> I see, it's \\ alright
17:15:23 <monochrom> > [1] \\ []
17:15:24 <lambdabot>  [1]
17:15:38 <sorear> dmead: I'm using 'emacs-snapshot-nox' from debian sid, which is recompiled weekly
17:15:51 <Gwern> sorear: what does a cursed GTK do? make your applications uglier? try to strangle you? (wait, that's a cursed necklace of strangulation...)
17:16:13 <HairyDude> amulet, if you're talking nethack :)
17:16:14 <dmead> ah
17:16:23 <sorear> Gwern: supposedly, it displays your gtk apps in curses
17:16:43 <Gwern> sorear: ...that's so bizaare. does it work well?
17:16:56 <sorear> Gwern: never tried it.
17:17:04 <HairyDude> is that like playing quake with aalib?
17:17:23 <dcoutts> wierd?
17:17:39 <sorear> Quake is for teenage lamer doods.  TETRIS FOREVER!!!
17:17:46 <Gwern> haskell tetris, even
17:17:50 <dmead> what the hell
17:17:53 <dmead> quake <3
17:17:54 <ski> http://zemljanka.sourceforge.net/cursed/
17:17:55 <lambdabot> Title: Cursed GTK
17:18:03 <ski> http://zemljanka.sourceforge.net/cursed/screenshots/xchat-2.png
17:18:22 <sorear> tetris >3
17:18:26 <Gwern> screenshots... o.0
17:18:29 <sorear> thus, by transitivity
17:18:33 <heatsink> heh, cool.
17:18:34 <sorear> tetris > quake
17:18:37 <merus> quake <3
17:18:55 <merus> su root
17:19:03 <merus> wow, wrong window ;_;
17:19:06 <byteshack> looks weird, but I guess it works: [0..8] Data.List.\\ [1,2,3]
17:19:16 <sorear> merus: why did you stop?
17:19:19 <dmead> yes
17:19:23 <dmead> keep going..
17:19:26 <merus> lol
17:19:28 <Gwern> sorear: for precisely that reason...
17:19:39 <merus> I totally need to turn focus follows mouse off
17:19:43 <merus> for exactly that reason
17:19:51 <dmead> thats silly
17:20:10 <dmead> what if your cat starts batting the mouse around
17:20:12 <dmead> or something
17:20:19 * sorear has ran rm -rf * in ~ thanks to focus follows mouse
17:20:26 <heatsink> ouch
17:20:26 <dmead> haha
17:20:27 <dmead> nice
17:20:27 <merus> ouch
17:20:40 * merus switches to click to raise :)
17:20:41 <Gwern> heh heh heh. that's why you use a tiling window manager :)
17:20:53 <dmead> kde for the win
17:20:56 * Gwern wonders whether FF has a GTK2 version
17:21:14 <byteshack> in wmii focus still follows mouse... bad bad
17:21:22 <monochrom> I think merus didn't stop; rather, it was just wrong order. The right order is, first "su root", then "quake <3".
17:21:25 <sorear> log quote of the day: 03.05.19:19:30:39 * ozone ickserv identify zxcmn7
17:21:30 <sjanssen> xmonad is focus follows mouse
17:21:30 <merus> hahaha
17:21:31 * heatsink likes being able to navigate window manager without using a mouse 
17:21:33 <dmead> sorear: emacs 22 pretty ok?
17:21:34 <sjanssen> but only until I fix it
17:21:35 <Gwern> ickserv?
17:21:42 <dons> the point is not to have a mouse :-)
17:21:45 <Gwern> dmead: emacs 22 is fine. they could release it now if they want
17:21:49 <dmead> k
17:21:50 <sorear>  /msg nickserv --> /me ickserv
17:22:37 <heatsink> Well, at least he had a decent password.
17:22:37 <dmead> can you write programs in elisp?
17:22:54 <sorear> M-x doctor
17:23:09 <dmead> hehe
17:23:12 <dmead> i know about that :P
17:23:17 <Gwern> dmead: elisp is turing complete, so you can write any programs
17:23:21 <dmead> ah
17:23:21 <heatsink> @doctor
17:23:21 <lambdabot> Unknown command, try @list
17:23:22 <Gwern> strangely enough
17:23:30 <sorear> M-x calc -- a complete CAS in elisp
17:24:07 <procyon_> dmead: you can run emacs in "script mode" also and use it as an interpreter to run elisp scripts without opening emacs the editor.
17:24:18 <dmead> ahh
17:24:46 <procyon_> dmead: not that you'd want to... elisp is the bastard child of the lisps.
17:28:01 * dmead is going to watch enterprise then write some hunit tests
17:28:07 <ddarius_> Lord have mercy.
17:28:11 <dmead> nerd powers... ACTIVATE
17:28:43 <monochrom> That's "Kyrie eleison", which I'm listening to.
17:29:17 <dolio> By Mr. Mister?
17:29:35 <monochrom> By Mozart.
17:29:47 <dolio> Ah. Probably the better choice.
17:30:41 <procyon_> Mozart copied Mr. Mister.
17:31:14 <monochrom> I also have one by Bach. It's very Bach.
17:31:15 <heatsink> It was the perfect crime, no one ever suspected.
17:31:20 <byteshack> why can't I say this? let f=0; [[1],[2]]!!f?? or (!!) [[1],[2]] f??
17:31:42 <heatsink> > let f = 0 in [[1],[2]]!!f
17:31:43 <lambdabot>  [1]
17:31:44 <dmead> anyone know why ~ isn't a valid type constructor>?
17:32:00 <monochrom> Because you also need ~ for irrefutable patterns.
17:32:00 <sjanssen> dmead: it's used in lazy pattern matches
17:32:13 <dmead> ahh
17:32:20 <sjanssen> > (\~(x, y) -> 0) undefined
17:32:21 <lambdabot>  Parse error
17:32:22 <monochrom> Oh, type constructor! I don't know then.
17:32:25 <ski> dmead : possibly is has something to do with infix type variables ..
17:32:39 <ddarius> Infix type variables?
17:33:00 <sorear> dmead: because infix type constructors are consyms, and the consym production in the report doesn't list ~
17:33:02 <ski> @type ((>>>) :: Arrow (~>) => (a ~> b) -> (b ~> c) -> (a ~> c))
17:33:04 <dmwit> ddarius: Infix type constructors must start with a colon.
17:33:05 <monochrom> class a ~> b where ...
17:33:05 <lambdabot> forall (~> :: * -> * -> *) a b c. (Arrow ~>) => ~> a b -> ~> b c -> ~> a c
17:33:30 <heatsink> cool
17:33:32 <ddarius> dmwit: Infix data constructors must.  Neither what you said nor that is "infix type variable".
17:33:36 <dolio> Heh, that's note quite right.
17:33:44 <desp> ?seen dons
17:33:44 <lambdabot> dons is in #haskell and #haskell-overflow. I last heard dons speak 12m 1s ago.
17:34:10 <dmwit> ddarius: Ah, okay, sorry.  I'm preaching to the choir again. =P
17:34:59 <ddarius> @seen ekidd
17:34:59 <lambdabot> I saw ekidd leaving #haskell 10h 59m 26s ago, and .
17:35:04 <ddarius> @seen emk
17:35:05 <lambdabot> I saw emk leaving #haskell 22d 20h 13m 39s ago, and .
17:36:00 <heatsink> I was going to write 'class Tuple3 tuple a b c | tuple -> a b c' but then I thought this might be better as indexed type synonyms on 'tuple'.  Would that work?  I haven't tried it because I don't have HEAD.
17:36:11 <heatsink> Basically, I
17:36:26 <sorear> heatsink: I have HEAT
17:36:32 <sorear> heatsink: 1 day old
17:36:51 <dons> desp?
17:37:03 <heatsink> old heat?
17:37:07 <heatsink> head?
17:37:09 <desp> dons: do you suppose you could take a brief look at my proposal in #haskell-soc?
17:38:05 <heatsink> I can get HEAD, I just wanted to sanity check my idea to save me the time of pulling and compiling it.
17:38:08 <sorear> heatsink: 1 day old head
17:38:10 <dons> bit busy atm. quick hints: emphasise any experience you have building haskell libraries or applications, and make sure its something the haskell community really needs, something you would use and need
17:38:19 <sorear> heatsink: say it already :)
17:38:23 <desp> right, thanks
17:38:34 <heatsink> Okay.  Can you give me head? ;)
17:38:47 <sorear> heatsink: no, my upload bw sucks
17:38:59 <TSC> !
17:39:08 <sorear> 600+ kb/s dl, 20 kb/s ul
17:39:14 <dolio> Does it do indexed type synonyms? I thought that was supposedly a ways off yet.
17:39:28 <heatsink> Oh, that's right.
17:39:38 <heatsink> Indexed newtypes would work for my purposes.
17:39:43 <sorear> it has indexed newtypes which are just as good
17:39:45 <sorear> :)
17:39:50 <dolio> Ah, okay.
17:40:03 <sorear> so anyway, what's your idea?
17:40:16 <sorear> your "Basically, I" hints I haven't heard it all.
17:42:36 <heatsink> I have code that passes three type vars around.  Pretty much the same type variables in the same order, between lots of different functions.  I think I can reduce the number of type variables to one by making them all indexed newtypes and passing one type variable around that represents a 'tuple' of the three variables.
17:43:13 <heatsink> So I have indexed types Fst3 tuple :: *, Snd3 tuple :: *, Trd3 tuple :: *
17:43:23 <heatsink> Plausible?
17:43:24 <sorear> you can't just use (,,)?
17:43:35 <sorear> why do you want less tvs?
17:45:16 <heatsink> The tyvars are parameters to a few data constructors.  They introduce visual clutter and extra typing.
17:45:58 <heatsink> I have types like Expr a b c -> Maybe (Expr a b c) -> m (Expr a b c, Expr a b c)
17:47:50 <heatsink> Now I'm adding a fourth, phantom tyvar because I need to use it to impose fundeps.  This may be a good time to make the switch.
17:49:30 <heatsink> In my experience, changing types is pretty easy in Haskell, but changing kinds is tedious.
17:51:15 <heatsink> Oh.  The "Tuple3" class above meant a tuple of types, not a tuple type.
17:52:34 <sorear> I meant a tuple type could be used as a tuple of types.
17:53:45 <heatsink> Oh.  Yeah, but you can't attach fundeps to a tuple.
17:55:59 <heatsink> Hmm... I could pass a dummy tuple as the first parameter.  It would be awkward, but it would work.
17:56:14 * heatsink tries it
18:09:11 <heatsink> Yea, I think I can work with that.
18:09:47 <heatsink> Thanks.
18:10:11 <twb> What does GHC's -fffi translate to in the Cabal Extensions: field?
18:11:22 <monochrom> ForeignFunctionInterface ?
18:11:43 <jcreigh> extensions:         ForeignFunctionInterface
18:11:49 <twb> Ah, thanks.
18:12:41 <twb> Is there a way to work out the cabal equivalent of arbitrary -f<extension> switches?
18:12:57 <dmead> oooof
18:13:03 <dmead> i emerge'd emacs22
18:13:07 <dmead> and the scroll bar is totally black
18:13:08 <dmead> =/
18:13:19 <twb> dmead: are you using X?  Are you using GTK?
18:13:49 <twb> dmead: if both, check ~/.gtkrc-2.0 and ~/.emacs.d/gtkrc for weirdness.
18:14:37 <twb> (Or you could just turn the scroll bar off, like me :-)
18:14:56 <dmead> hmm
18:14:57 <dmead> k
18:15:03 <dmead> :P
18:20:01 <twb> I'm curious: do any existing Haskell compilers target JVM and/or CLR?
18:20:19 <dmead> there is a haskell to java converter
18:20:23 <dmead> but it hardly works
18:20:33 <dmead> if you want FP on the jvm look at scala
18:20:49 <jcreigh> *converter* or *compiler*? (ie, does it try to output readable code?)
18:21:05 <dmead> it was on reddit yesterday
18:21:11 <dmead> it converts equivilant java
18:21:14 <dmead> *to
18:21:26 <twb> Hmm, I just confused the shit out of hoogle.
18:21:29 <dmead> but it's not meant to be readable i think
18:21:29 <sjanssen> twb: there is somebody working on a JVM backend to GHC
18:21:55 <dmead> is that a good idea?
18:22:02 <sjanssen> but who knows if that work will come to fruition and make it into the mainline
18:22:11 <twb> I go to <http://haskell.org/hoogle/?q=CString>, type "CInt" in the input field and press the submit button.
18:22:19 <twb> It takes me to http://haskell.org/hoogle/?q=CString?q=CInt
18:22:33 <sjanssen> dmead: sure, why not?  Consider it another architecture like x86 or PPC
18:23:01 <Cale> twb: doesn't do that for me
18:23:05 <twb> Strangely, it works in Gecko
18:23:19 <jcreigh> sjanssen: I noticed we got some more contributors for xmonad
18:23:26 <twb> I'm using emacs-w3m from CVS, backed by w3m version 0.5.1+cvs-1.968
18:23:36 <sjanssen> jcreigh: yep, we certainly have some momentum
18:23:39 <sjanssen> kinda nice
18:23:50 <dmead> sjanssen: in terms of runtime efficiency i mean
18:23:57 <heatsink> sjanssen: Are there issues with JVM's type verification requirements?
18:24:27 <twb> It also works correctly in pure w3m.
18:24:28 <sjanssen> dmead: it certainly won't be as fast as native code, but maybe the portability is valuable in some cases?
18:24:48 <sjanssen> heatsink: I know none of the technical aspects of the backend
18:25:01 <heatsink> k.
18:25:04 <jcreigh> "type verification requirements" my eye. NullPointerExpection
18:25:20 <heatsink> (:
18:25:23 <dmead> sjanssen: probably. but alot of the appear of haskell is that it isn't dirt slow
18:36:46 <tsp> is ruby similar to haskell? I need some sort of a transition language - these monads and gonads and such are confusing, even after reading a bunch of docs
18:37:11 <twb> http://twb.ath.cx/~twb/scratch/fusuree/tmp.log
18:37:11 <twb> What am I doing wrong?  (Code is in parent directory)
18:37:31 <twb> tsp: ruby is basically smalltalk with python silliness.
18:38:12 <tsp> python silliness? how so?
18:38:14 <ddarius_> tsp: Have you actually tried to just write code?
18:38:20 <twb> tsp: I don't remember the details.
18:38:36 <twb> Ruby is, semantically, very different to Haskell.
18:38:53 <tsp> I got as far as writing a haskell socket server, but it can only print test to a socket then die
18:39:48 <heatsink> Personally, I think IO-heavy code is a tough way to get started on haskell.
18:40:09 <tsp> I'm probably going over my head, but I want to write a mud, and can't think of anything else I awnt to write - text editors and the link
18:40:12 <tsp> s/link/like
18:40:13 <tsp> ed is getting a bit old
18:40:16 <twb> Unfortunately, some problem domains are inherently IO-heavy
18:40:42 <twb> tsp: you want to write a text editor?
18:40:47 <desp> ?seen bos
18:40:47 <lambdabot> I saw bos leaving #haskell 1d 27s ago, and .
18:41:02 <twb> tsp: http://www.finseth.com/craft/
18:41:05 <lambdabot> Title: The Craft of Text Editing
18:41:24 <tsp> hmm
18:41:50 <tsp> I read that before, but using a screen reader sort of gets rid of the need for filling up a screen of text when I can only hear one line/sentense at a time
18:42:24 <dmead> hmm?
18:42:27 <dmead> are you blind?
18:43:11 <tsp> yup
18:43:21 <twb> There is emacspeak, I think.
18:43:23 <tsp> another reason haskell is driving me nuts
18:43:25 <tsp> heh emacspeak
18:43:31 <tsp> I tried that, but it lags my synth
18:43:39 <dmead> really? what do you use to read this channel?
18:43:59 <kc5tja_> Dude, X.org sucks.  *sigh*
18:44:05 <twb> Do you have a braille display, or just hardware synth?
18:44:13 <kc5tja_> A whole lot less than XF86, but it still sucks.
18:44:16 <emu> ?pl \a b c -> a (a c) (b c)
18:44:16 <lambdabot> ap . join (.)
18:44:29 <dmead> man quit laggin his shit up :P
18:44:38 <tsp> twb: speech synth
18:44:42 <twb> Bummer.
18:44:44 <tsp> some software, some hardware - I have like 6 of them
18:44:55 <jcreigh> hmm, I thought darcs only asked to send a patch once.
18:45:07 <tsp> at least for me, python/ruby is easier to read and conceptualize, but I wanted to give haskell a shot
18:45:26 <tsp> I like the way I can do let function args = whatever, but the I/O is scarry
18:45:34 <tsp> monads, gonads, types, etc
18:45:50 <dmead> tsp: that'd be an interesting project.. a haskell-mode for emacs which speaks the code in english correctly
18:46:01 <twb> tsp: you can do that in Lisp, too.
18:46:09 <dibblego> tsp, be assured that once they are no longer "scary", you will trivialise them and thank yourself for investing the effort
18:46:48 <twb> Python's support for FP is pretty weak, to my great frustration.  Even trying to explain FP techniques to #python is difficult.
18:47:15 <twb> dibblego: I think we should tell newbies that they're not called "Monads", but "Candy-Floss"
18:47:27 <siti> hah
18:47:30 <tsp> take a normal haskell expression, put the punctuation into words - semi colon, comma, etc, and that's waht I listen to
18:47:43 <dmead> exactly
18:47:51 <dmead> like foo has the type a to a
18:47:54 <dibblego> twb, a simple function (>>=) with some fluffy bits on the edges might work
18:47:54 <emu> you have to program it to say bind instead of >>=
18:47:57 <dmead> instead of foo :: a -> a
18:48:04 <twb> tsp: Haskell's iexpr syntax is isomorphic with its punctuation-based notation.
18:48:06 <siti> tsp: can you hear the indentation?
18:48:11 <tsp> hear the indentation? nope
18:48:17 <siti> ok
18:48:39 <dmead> he'll probably have to have some sort of braces notation inserted for him
18:48:39 <dmwit> Ooo ouch.
18:49:03 <tsp> Here's my latest haskell code
18:49:07 <tsp> http://tspivey.freeshell.org/a.hs
18:49:28 <dmead> ah yes
18:49:38 <dmead> indentation is used like curly braces in other languages
18:49:43 <dmead> to indicate function bodies
18:49:49 <kpreid> anyone written a braces<->layout converter
18:49:49 <tsp> I found a way around that in haskell
18:49:50 <kpreid> ?
18:49:58 <dmead> this will probably be a problem
18:50:01 <sjanssen> kpreid: Language.Haskell can do it
18:50:02 <kpreid> so we can read tsp's code :-)
18:50:23 <tsp> kpreid: is there a problem with my code? Or is it just hard to read? I thought the braces would make it easy
18:50:44 <dmead> i'll try and run it
18:50:51 <sjanssen> tsp: it's tough without any indentation
18:51:01 <kpreid> tsp: well, it has no whitespace in the usual shapes, essentially. no indentation and no blank lines
18:51:24 <tsp> you can tell code by its indentation shape?
18:51:24 <byteshack> tsp: dude, my hat is off to you
18:51:30 <kpreid> tsp: yes
18:51:36 <dmwit> It's readable enough, I think.
18:51:41 * jcreigh echos byteshack's sentiments
18:51:46 <dmead> tsp: your code compiles for me
18:51:52 <dmwit> Labeling the end-braces helps a lot.
18:51:57 <tsp> it compiles, but good luck trying to find anyone that can read it
18:51:58 <thedatabase> :bs
18:52:03 <kpreid> tsp: if you can handle it, putting a blank line between each top-level definition would help
18:52:03 <dmead> but it's not easy to read
18:52:20 <thedatabase> @bs
18:52:20 <lambdabot> Plugin `bf' failed with: IRCRaised Data.ByteString.last: empty ByteString
18:52:23 <tsp> kpreid: heh, blank lines are used sparingly - even in my python code
18:52:31 <tsp> which someone was nice enough to write a brace parser for
18:52:37 <dmead> tsp: how do you deal with indentation usually? if at all.
18:52:45 <tsp> dmead: usually? if I have to, I guess
18:52:54 <kpreid> tsp: also, a tip for simplification: a do block with one expression can be replaced with that expression. so handle (a,b,c) = hPutStrLn ...
18:52:54 <ddarius_> tsp: Yes, your code does look (semantically) fine so far.  What are/were you having trouble with?
18:52:59 <thedatabase> ? bs
18:53:09 <dmwit> thedatabase: What are you looking for?
18:53:13 <thedatabase> put me out of my pain someone 0--
18:53:14 <tsp> ddarius_: I don't know how to expand it to have multiple threads
18:53:17 <thedatabase> looking for lambdabot
18:53:24 <dmwit> ?botsnack
18:53:24 <kpreid> tsp: the function forkIO
18:53:24 <lambdabot> :)
18:53:32 <dmwit> thedatabase: Seems to be here. =)
18:53:32 <thedatabase> thanks!!
18:53:37 <thedatabase> ? seen chessguy
18:53:37 <ddarius_> tsp: You would just use forkIO to start off some other computation.
18:53:42 <dmead> tsp: do are you listening to the whole channel ?
18:53:43 <tsp> confusing
18:53:48 <dmwit> thedatabase: No space between the ? and the command.
18:53:49 <tsp> yeah, I'm listening to it
18:53:53 <thedatabase> ?seen chessguy
18:53:53 <lambdabot> chessguy is in #haskell, #ghc, #haskell-overflow, #figs and #haskell-blah. I last heard chessguy speak 1h 46m 52s ago.
18:54:01 <thedatabase> thanks dmwit
18:54:10 <thedatabase> (never bin much good with bots)
18:54:20 <tsp> one thing I'm not sure of is if haskell is good for text editors, muds, etc
18:54:20 <dmead> interesting
18:54:26 <tsp> muds I can sort of see due to functions
18:54:37 <tsp> but text editors, mail clients, etc - all the tools I'll need to rewrite
18:54:37 <heatsink> Whatever happened to yi?
18:54:43 <TomMD> thedatabase: the real issue is that bots aren't really people persons... err.. programs.
18:54:47 <dons> heatsink: under active development.
18:54:48 <kpreid> tsp: text editor would be easier than mud, I think. because:
18:54:51 <dons> very active
18:54:57 <ddarius_> tsp: Haskell is at least as good as most of the mainstream languages, better than many.
18:55:02 <heatsink> Ah.  tsp: yi is a text editor project in haskell.
18:55:10 <araujo> hola dons
18:55:12 <kpreid> tsp: a mud has less obviously designable points-of-mutation. at least that was my experience when I tried to write one.
18:55:21 <kpreid> tsp: but I was a haskell beginner when I tried to write a mud in it
18:55:27 <tsp> kpreid: heh, I'm at the same point
18:55:53 <kpreid> tsp: but (and I'll say this even outside of #haskell) I *really* recommend learning haskell for the brain-stretching
18:56:14 <dons> i recommend learning haskell for writing programs.
18:56:17 <tsp> more like ear stretching - I have to translate alot more
18:56:56 <tsp> in python, I can hear for x in lst: print x
18:57:06 <tsp> and have a pretty good idea what it means without having to go character by character through the code
18:57:18 <kpreid> in Haskell, that's: forM_ lst print
18:57:20 <tsp> where as map print l in haskell is sort of weird
18:57:36 <kpreid> (forM_ is mapM_ with the arguments reversed)
18:57:41 <dons> ?src forM_
18:57:41 <lambdabot> forM_ = flip mapM_
18:57:45 <tsp> stupid gonads
18:57:52 <tsp> monads
18:57:53 <araujo> tsp, a map is one of the most natural things out there
18:57:57 <kpreid> (and it exists precisely because mapM_ print is a bit weird)
18:58:00 <dmead> tsp: perhaps you could adopt some standards for yourself that make the language easier to listen to?
18:58:06 <Cale> or just forM lst print, though in this case, that will result in a list of ()'s which you'll probably just throw away
18:58:10 <kpreid> or rather, not weird, but often the action is longer
18:58:18 <tsp> map is cool
18:58:31 <Cale> sequence (map print lst)
18:58:33 <Cale> would also work
18:58:38 <dmead> do we sound like robots? or is there like inflection
18:58:50 <Cale> mapping print over the list gives a list of actions, which you then sequence together
18:58:52 <tsp> http://silenceisdefeat.org/~tspivey/eloquence.flac
18:58:53 <tsp> audio file
18:59:02 <chessguy> thedatabase: what's up?
18:59:56 <thedatabase> hey chessguy --- saw your new wiki page.  Smart work!
19:00:04 <jcreigh> mapM f = sequence . map f
19:00:09 <dmwit> It's all garbled!
19:00:14 <dmwit> (Or maybe really fast?)
19:00:23 <thedatabase> Have you notice sigfpe & Eric Kidd from Random Hacks have recently been covering the probability monad?
19:00:55 <dmead> holy hell
19:01:00 <dmead> i tried to use aplay on the flac
19:01:03 <dmead> and got static
19:01:07 <araujo> dons, query?
19:01:13 <tsp> get the flac package
19:01:17 <tsp> that'll play it
19:01:19 <tsp> or winamp
19:01:19 <twb> mplayer plays it waaaay too fast
19:01:24 <dmead> yea it does
19:01:30 <dmwit> Yeah.
19:01:30 <dmead> maybe amarok will work
19:01:37 <tsp> is the audio playing too fast, or is it just the synth at its normal rate
19:01:50 <twb> It's playing too fast
19:01:54 <tsp> if the audio is too fast, it'll be all high pitched
19:02:04 <dmead> it doesn't seem to be
19:02:06 <dmead> it's just like
19:02:06 <tsp> if its the synth at its normal rate, it won't
19:02:06 <twb> Because it's 16khz instead of 56 or whatever
19:02:15 <tsp> twb: ah, sound card issue
19:02:17 <dmead> fast forwarding without pitch changing
19:02:19 <twb> Yep
19:02:19 <jameysharp> sjanssen: ping?
19:02:21 <thedatabase> chessguy:  here is the culmination of the Random Hacks discussion (there's a darcs repository there too)
19:02:23 <tsp> I think thats the normal synth
19:02:24 <thedatabase> http://www.randomhacks.net/articles/2007/03/03/smart-classification-with-haskell
19:02:28 <lambdabot> Title: Smart classification using Bayesian monads in Haskell, http://tinyurl.com/yosb9v
19:02:30 <sjanssen> jameysharp: hello!
19:02:35 <jameysharp> sjanssen: Hi!
19:02:47 <jameysharp> sjanssen: For god's sake, yes! Please finish XHSB! :-)
19:02:48 <chessguy> what about uit?
19:02:49 <tsp> I listen at a few hundred wpm easily
19:03:03 <dmwit> wow
19:03:27 <sjanssen> jameysharp: I'd be delighted to.  Funding would be even better :)
19:03:36 <chessguy> thedatabase: what about it?
19:03:36 <sjanssen> jameysharp: are you a mentor for SoC?
19:03:41 <jameysharp> sjanssen: Do you have proposal text public somewhere I can look at?
19:03:47 <jameysharp> sjanssen: I am, but not for Haskell.
19:04:13 <sjanssen> jameysharp: for X.org?  I've submitted an application there
19:04:30 <jameysharp> sjanssen: Oh, sweet. I should go look at it then. :-)
19:04:52 <ddarius> Yay safecracking.
19:04:56 <tsp> haskell is just losing me so far :) I get the basics like lists, tuples, etc, but IO is gonna kill me
19:05:26 <jameysharp> sjanssen: I swore to myself I wouldn't actually mentor anybody this year, and there turn out to be two projects I really want to mentor.
19:05:26 <dons> tsp, nah. its easy.
19:05:32 <dmead> tsp: i've done a tiny bit of io and its not so bad
19:05:33 <dmwit> I'm told that death by IO is particularly painless. =)
19:05:33 <dons> main  = print "hello" -- IO is easy
19:05:41 <sjanssen> jameysharp: I noticed a moment too late that I didn't quite follow X.org's submission template, so if you find something lacking let me know
19:05:45 <tsp> main = do print... I thought ti was
19:05:59 <jcreigh> tsp: do is only required if there are multiple actions
19:06:01 <kpreid> tsp: "do" is for when you want to put several actions in sequence
19:06:05 <dmead> do lets you string multiple io functions together
19:06:06 <dons> jameysharp: you interested in mentoring sjanssen on the x.org side?
19:06:20 <dmwit> In fact, you never need do...
19:06:21 * dmwit ducks
19:06:26 <jameysharp> dons: Yeah, I am.
19:06:27 <dons> jameysharp: since i'm happy to help on the haskell side of things.
19:06:30 <sjanssen> dons: jameysharp is the original author of XHSB
19:06:35 <dons> ah right!
19:06:40 <kpreid> tsp: "do" turns several actions into one action that you can do something else with, like, say, returning it as the value of "main"
19:06:43 <dmead> whats xhsb?
19:06:56 <dons> jameysharp: so are you mentoring for X.org?
19:07:01 <jameysharp> dons: Yes.
19:07:08 <jameysharp> I have sjanssen's proposal text up now.
19:07:23 <sjanssen> dmead: a (prototype of) X interface for Haskell based on XCB
19:07:24 <jcreigh> I think it's a Haskell binding to XCB. (Which is itself an alternative to xlib)
19:07:24 <thedatabase> chessguy: I was just double checking you'd noticed it.... really interesting posts!  I thought I might add my name to the "interested list" on your wiki page, and add a link or two as well if you'd no objections
19:07:52 <dmead> sjanssen: what are you doing for your soc thing?
19:07:59 <chessguy> oh, the AI page?
19:07:59 <jameysharp> dons: I'd love to co-mentor, anyway.
19:08:01 <chessguy> go for it
19:08:09 <jameysharp> Honestly, I'm rather flaky. ;-)
19:08:10 <kc5tja_> Does anyone know where I can find the X11 *raw protocol* spec?
19:08:12 <heatsink> tsp:  Internally, the compiler translates "do" into lambdas, the (>>) operator, and the >>= operator.  Sometimes we find it easier to just write with those -- part of the whole functional programming mentality.
19:08:14 <thedatabase> yes --- just saw it tonight
19:08:25 <kc5tja_> It's like since O'reilly stopped publishing the X11 books, there has been nothing at all to replace the lost information.
19:08:37 <jameysharp> kc5tja_: Sure. Got a checkout of any X.org git repos?
19:08:46 <thedatabase> I'll put myself up then; might also add a link to Marin Erwig's PFP package
19:08:58 <kc5tja_> jameysharp: Nope.
19:09:00 <chessguy> yes, that's a good'un
19:09:02 * kc5tja_ doesn't even have git.
19:09:49 <jameysharp> kc5tja_: Oh. You could get the full docs from git://git.freedesktop.org/git/xorg/doc/xorg-docs ...
19:09:56 <ddarius> tsp: What do you think of the Joy programming language with regards to ease of "reading"/writing?
19:10:31 <jameysharp> kc5tja_: I think there should be a tarball with the same stuff somewhere.
19:11:12 <reilly> not all of the X11 books are out of print
19:11:25 <thedatabase> it is indeed -- i think this should become a very interesting part of the haskell wiki you've kicked off!
19:11:25 <monochrom> Very short combinations like getLine >>= print are probably less pompous if written like that.
19:11:57 <tsp> ddarius: never heard of joy
19:12:08 <ddarius> @google Joy programming language
19:12:10 <lambdabot> http://en.wikipedia.org/wiki/Joy_(programming_language)
19:12:25 <procyon_> tsp: have you ever tried lisp?  I'm curious if that's more parsable to you.  If so, liskell might be a good option for you (haskell with lisp syntax)
19:12:27 <dons> if X.org is interested/able to take this on, i'm happy to provide support from Haskell.org's side.
19:12:42 <dons> jameysharp: and we can also try to get the project up on the Haskell.org side
19:12:47 <reilly> http://www.amazon.com/Protocol-Reference-Manual-Release-Definitive/dp/156592083X
19:12:51 <lambdabot> http://tinyurl.com/23hax4
19:12:53 <jameysharp> dons: Shall we both accept it and see which org gets more slots?
19:13:00 <dons> yeah. I think that's the best plan.
19:13:02 <kpreid> tsp: *if* you're interested in Joy's syntax but find it impractical, try Factor
19:13:10 <dons> and note that there are mentors from both sides able to assist.
19:13:19 <jameysharp> I'm assuming I can talk the other X.org admins into accepting it. :-)
19:13:26 <dons> yeah. same issue here :-)
19:13:48 <tsp> none of those can be used for anything through
19:13:50 <tsp> s/thr/th
19:13:52 <dons> having X.org also interested probably helps from  Haskell.org's point of view.
19:14:02 <kpreid> tsp: none of what?
19:14:07 <tsp> joy/factor/etc
19:14:11 <tsp> can't be used for real apps
19:14:13 <sjanssen> jameysharp: Bart Massey suggested that I submit the project to PSU as well
19:14:22 <kpreid> tsp: erm, have you looked at factor?
19:14:25 <tsp> nope
19:14:32 <jameysharp> sjanssen: I was just about to say that if you had submitted it to PSU we could accept it all three places and fight. :-)
19:14:39 <kpreid> tsp: then you're overgeneralizing (from what, I don't know)
19:14:45 <kc5tja_> jameysharp: Cool -- thanks.  I was thinking of researching the use of X11R1 (RFC1013) for my Kestrel project's GUI implementation, or rather, a small subset of it.
19:14:53 <kc5tja_> But if I go with a subset, I'd like it to be a proper subset.
19:14:53 <kpreid> tsp: factor is very much a practical language (not that I'm suggesting you switch to it)
19:14:54 <dons> I think its a good idea to submit to PSU as well.
19:15:12 <jameysharp> There's still time to submit? OK.
19:15:29 <sjanssen> yeah, the deadline is 9 AM PST
19:15:44 <jameysharp> Ah. I assumed they'd done another "5PM PST" thing.
19:16:02 <sjanssen> this is the second time they've changed it
19:16:04 <tsp> I'm just curious - a text editor could be implemented using a list of lines
19:16:08 <tsp> which ed does
19:16:18 <tsp> but I'm biast towards ed since that's waht I use every day :)
19:16:18 <procyon_> tsp: and liskell is haskell... it preprocesses down to GHC haskell, so if the perentheses help you parse the code mentally, it might be a very good match.
19:16:26 <jameysharp> sjanssen: I don't remember. I must have had at least some of the connection layer bound into Haskell. What else do you need to build?
19:17:03 <tsp> hmm, lisp... I tried that once
19:17:06 <tsp> never worked
19:17:07 <kpreid> tsp: an editor's structure, wouldn't be a Haskell "list" though, because that's a linked list, which isn't an efficient data structure for editing operations
19:17:18 <jameysharp> kc5tja_: Are you thinking of implementing a partial X server for your project?
19:17:19 <sjanssen> jameysharp: the repo looks buildable as-is.  Except for the XCBNaming vs. xcb_naming convention changes
19:17:29 <tsp> kpreid: I thought they were efficient? ed/vim uses them
19:17:33 <jameysharp> sjanssen: Oh, heh, I forgot I hadn't updated that.
19:17:34 <tsp> oh damn, thats a python list
19:17:39 <tsp> where I can do list[line]
19:18:02 <kpreid> tsp: well, python, AFAIK, uses resizable arrays
19:18:04 <jameysharp> sjanssen: We have a little script that does the naming convention update to C code. It might "just work" on the Haskell FFI bits...
19:18:11 <tsp> kpreid: yeah
19:18:37 <kc5tja_> jameysharp: Yeah, for the 65816 microprocessor.
19:18:49 <kpreid> resizable arrays lose if you're inserting anywhere but the end
19:18:51 <kpreid> because you have to copy the elements
19:19:02 <dcoutts> ropes!
19:19:02 <tsp> how about a dictionary?
19:19:11 <tsp> mapping line numbers to lines
19:19:16 <tsp> then an iterator
19:19:18 <jameysharp> kc5tja_: Got a URL somewhere about your project?
19:19:18 <kpreid> that's even worse
19:19:24 <bd_> hm, the SoC deadline was extended again...?
19:19:38 <kpreid> because if you insert a line you have to renumber all the lines
19:19:41 <kc5tja_> jameysharp: http://www.falvotech.com/content/kestrel
19:19:42 <tsp> damn
19:19:43 <lambdabot> Title: The Kestrel Project
19:19:43 <jameysharp> kc5tja_: And have you looked at kdrive?
19:19:52 <kc5tja_> jameysharp: never heard of it.
19:20:11 <kpreid> tsp: what you use for an editor is a structure somewhat like a mutable doubly-linked list
19:20:27 <kpreid> so you can traverse it in either direction and insert or delete items in the middle
19:20:43 <tsp> I might just write it in python - then when I get some good tools that I can extend, pick up haskell again
19:20:46 <kpreid> I may be missing a detail - I've never written an editor
19:20:46 <tsp> or ruby
19:21:00 <kc5tja_> jameysharp: I just installed git, and grabbing the git://... link, it tells me it's not a git repository.
19:21:02 <kpreid> ah, you want to actually write an editor for your use?
19:21:07 <tsp> yeah
19:21:11 <kpreid> er, yeah, you said that earlier
19:21:14 <tsp> ed is getting to be a piece of crap
19:21:23 <tsp> I can't just edit a .edrc and add a command or two
19:21:29 <sjanssen> jameysharp: there were only a couple FFI bindings anyway.  The code was mostly useful to glean ideas.  Like using unsafeInterleaveIO to get asynchronous for free
19:21:36 <kpreid> tsp: all of what I've said isn't significant *if* the text is small
19:21:50 <kpreid> tsp: because computers can do all that copying very fast these days
19:21:57 <jameysharp> sjanssen: Yeah, I was pretty pleased with that. ;-)
19:22:01 <tsp> ed lags horibly on a few meg files
19:22:03 <kpreid> pretty much anything sane will work for small texts
19:22:06 <tsp> 400mhz ultrasparc
19:22:23 <kpreid> ah, well, then you do need an efficient editor :)
19:22:27 <tsp> waiting 10 minutes while g/^\s*$/d completes is not my idea of fun, even in edbrowse
19:22:38 <jameysharp> kc5tja_: Oh, sorry, I mean git://anongit.freedesktop.org/git/...
19:22:49 <monochrom> 400mhz ultrasparc is not shabby at all :)
19:23:05 <tsp> all my other boxesa re in pieces
19:23:33 <tsp> cept for this windows box which is hosting a vmware gentoo linux
19:23:38 <tsp> and my talking terminal
19:23:45 <monochrom> because ultrasparc has good memory bandwidth, 400mhz is faster than one expects from intel-based 400mhz.
19:23:57 <tsp> monochrom: lol, this is an ultra5
19:24:02 <tsp> good memory, crap I/O
19:24:15 <dcoutts> my 500Mhz sparc with 1GB ram is a very nice desktop box
19:24:31 <tsp> dcoutts: only problem with sparcs is I can't hang 4 sata drives off them
19:24:43 <dcoutts> mm, only ide on mine
19:24:48 <tsp> I really want a sata file server with 2tb or so
19:24:51 <monochrom> Ah, I see.
19:24:58 <jameysharp> kc5tja_: Um, so the 65816 is a 16-bit microcontroller? kdrive probably needs a gcc target and an OS.
19:25:12 <tsp> I tried solaris, but had to kill it due to its version of ed
19:25:27 <jameysharp> kc5tja_: Actually you probably want Keith Packard's *other* project, "twin".
19:26:02 <dcoutts> tsp: I run gentoo on my sparc box, it's fine but takes a while to build ghc :-)
19:26:13 <tsp> python was faster than perl at reading a 52000 line file into an array, when I last checked
19:26:14 <mwc> dcoutts, no native codegen :(
19:26:24 <tsp> that was surprisig
19:26:26 <tsp> s/g$/ng
19:26:27 <dcoutts> that too
19:26:35 <dcoutts> mwc: it did exist, but has bitrotted
19:26:45 <dcoutts> if someone cared it could be fixed I expect
19:27:03 <mwc> GHC shoulda switched over to it a long time ago... it's faster and better performing than the C route
19:27:17 <mwc> dcoutts, that's exactly the sort of project I'd love to hack on this summer if I had a sparcstation
19:27:18 <dcoutts> tsp: haskell would be faster on that benchmark using ByteStrings
19:27:46 <dcoutts> mwc: aye, would be nice
19:28:08 <dcoutts> mwc: well, propose it and if you get it you can have an account on my sparc box
19:28:36 <tsp> what are ByteStrings?
19:28:44 <dons> ?docs Data.ByteString
19:28:44 <lambdabot> Data.ByteString not available
19:28:44 <tsp> maybe python's cstring would help
19:28:48 <mwc> tsp, fwiw, iirc, python is compiled to a vm. Perl's interpreter is basically the same as Ruby's in that it walks the syntax tree. PErl's just much more optimized
19:28:49 <dons> ?where fps
19:28:50 <lambdabot> http://www.cse.unsw.edu.au/~dons/fps.html
19:28:52 <dons> this guy, tsp ^^
19:28:56 <procyon_> maybe tsp should hack on Yi.  Adding the features he wants would be a great boon to the project, and it's probably a better use of time than starting a new editor from scratch.
19:29:02 <kc5tja_> jameysharp: You're losing me.  The 65816 isn't a microcontroller.  It's a real microprocessor.  But, it's used for embedded work mostly.  The 65265 is the microcontroller variant of that CPU.
19:29:17 <mwc> dcoutts, too bad I'm graduating in April :)
19:29:21 <mwc> no SoC for me
19:29:25 <tsp> dons: what about me? heh
19:29:37 <dons> or, my favourite bytestring example, http://shootout.alioth.debian.org/gp4/benchmark.php?test=sumcol&lang=all
19:29:39 <lambdabot> Title: sum-file benchmark | Gentoo : Intel&#174; Pentium&#174;&nbsp;4 Computer Language ..., http://tinyurl.com/o8pll
19:30:15 <jameysharp> kc5tja_: I don't know anything about this hardware. You're getting confused by my cluelessness. Looking up Keith Packard's twin work is still probably a good idea.
19:31:13 <mwc> dons, lol at the improvment compared to main = print . sum . map read . lines =<< getContents
19:32:10 <dons> hmm. reminds me to test that with stram fusion..
19:32:12 * dons does so
19:36:48 <chessguy> thedatabase: still here?
19:37:05 <thedatabase> yep --- I made the edits; look ok?
19:37:09 <chessguy> sure
19:37:26 <chessguy> by the way, we may see another article on game theory from sigfpe
19:37:41 <chessguy> he and i and one or two others got talking about it the other day
19:38:22 <chessguy> he's trying to abstract out the commonality of minimax and alphabeta
19:38:32 <chessguy> or at least he was
19:38:47 <thedatabase> right!  excellent stuff... although I do have a slight backlog of sigfpe articles I need to get my head around!
19:39:00 <kc5tja_> jameysharp: I just wanted to see the raw protocol implementation.  I just want the docs.  I'm not looking for existing C sources, because they're already too platform dependent (besides, I'll be coding in Forth)
19:39:16 <thedatabase> hmm... heard of minimax, but not alphabeta
19:39:41 <chessguy> oh, alphabeta is the main algorithm that drives most game-playing programs
19:39:44 <chessguy> e.g., chess engines
19:40:13 <chessguy> it's a shortcut to minimax
19:40:13 <tsp> kc5tja_: forth? is that stil used besides openfirmware and the bsd bootloader?
19:40:20 <thedatabase> oh... just wikipedia'd it.  Looks like I really ought to have heard of it.... I guess I should be lining up to read this article then!
19:41:32 <kc5tja_> tsp: Almost half of NASA's probe fleet runs on it?  Yeah, I'd say so.
19:41:40 <kc5tja_> FedEx uses it'
19:41:43 <tsp> kc5tja_: neat!
19:41:52 <tsp> I use dc occasionally
19:41:54 <kc5tja_> Those little package scanner thingies?  Those run on forth.
19:42:08 <jameysharp> kc5tja_: Well, alright. :-) twin is a tiny windowing system that Keith wrote to be able to run on wristwatches (the lack of wristwatches with sufficient display tech notwithstanding). But if you really want to use X, you should look at XCB.
19:42:32 <kc5tja_> jameysharp: Bingo -- that was my plan.
19:43:01 <kc5tja_> jameysharp: I'm currently comparing GEM, X11, an Intuition-like environment, etc.  I'll look at twin too, but I need to get a working Postscript viewer so I can read these doggone docs.  :(
19:43:07 <sorear> .
19:43:08 <sjanssen> jameysharp: any comments on my app before I submit it to PSU?
19:43:25 <kc5tja_> KGhostView is teh crap -- since installing it, it has not displayed even *one* Postscript page -- even erroneously.  All blank pages, any file, any time.
19:44:06 <jameysharp> sjanssen: It looks great. I should probably check whether there was other stuff we wanted to know, but I'm pretty satisfied.
19:44:11 <shapr> kc5tja_: gv doesn't work for you?
19:44:33 <jameysharp> sjanssen: http://summer.cs.pdx.edu/ has some good stuff about what we think makes a good proposal.
19:44:35 <lambdabot> Title: Google/PSU Summer of Code | Open Source Development, College Style
19:45:07 <kc5tja_> shapr: Can't get gv to install; it claims that an imake.templ file is missing.
19:46:26 <jameysharp> sjanssen: Oh, just one thing, I think...
19:46:40 <jameysharp> sjanssen: Please place only the abstract in the section labeled "abstract". :-)
19:46:59 <bd_> ?where Unixutils
19:46:59 <lambdabot> I know nothing about unixutils.
19:47:07 <jameysharp> sjanssen: We don't need the same text twice.
19:47:07 <bd_> hmm
19:47:22 <bd_> oh, freespire thing not in hackage
19:51:05 <sjanssen> jameysharp: okay.  updated and sent to PSU.  Thanks
19:52:09 <jameysharp> Is there any Haskell infrastructure that would let me say "This FFI operation would block. Try running some other thunk that's also currently needed."?
19:52:59 <jameysharp> sjanssen: I'm particularly pleased that you noted the interesting interactions with GC that XHSB introduces. Do you have a plan for that?
19:54:38 <sjanssen> jameysharp: GHC has some finalizer stuff, where you can attach an arbitrary action for GC time
19:55:45 <sjanssen> jameysharp: is there a way to tell xcb that to "forget" a response cookie?
19:56:07 <jameysharp> sjanssen: We've discussed such a thing, but no.
19:56:42 <sjanssen> it might be a bad thing to block insider a finalizer
19:56:54 <kc5tja_> jameysharp: I'm reading about Twin now.
19:57:12 <jameysharp> sjanssen: However, since responses always come in the order that the requests were issued, when an xcb_wait_for_reply returns you know you can call xcb_wait_for_reply on earlier cookies and it won't block.
19:58:40 <tsp> > foldl * [1..10]
19:58:41 <lambdabot>  Couldn't match expected type `(a -> b -> a) -> a -> [b] -> a'
19:58:55 <tsp> how the heck woudl you turn that into english?
19:59:18 <tsp> that error made absolutely on sense
19:59:21 <tsp> s/on/no
19:59:25 <dons> > foldl1 (*) [1..10]
19:59:26 <lambdabot>  3628800
19:59:39 <dons> tsp, firstly, you're missing the second part of the test.
19:59:47 <dons> secondly, you'd start by looking at the type of foldl :-)
19:59:49 <dons> :t foldl
19:59:51 <lambdabot> forall a b. (a -> b -> a) -> a -> [b] -> a
19:59:51 <gvdm_other> > factorial 10
19:59:52 <lambdabot>   Not in scope: `factorial'
19:59:57 <tsp> that made no sense
19:59:57 <dons> > product [1..10]
19:59:58 <lambdabot>  3628800
20:00:00 <gvdm_other> > fact 10
20:00:01 <lambdabot>   Not in scope: `fact'
20:00:07 <gvdm_other> > 10!
20:00:07 <lambdabot>  Parse error
20:00:11 <gvdm_other> :(
20:00:17 <dons> :t product
20:00:20 <lambdabot> forall a. (Num a) => [a] -> a
20:00:29 <dmwit> gvdm_other: If that was built in, what would people give new Haskellers as an exercise? ;-)
20:00:53 <heatsink> :t (+)
20:00:55 <lambdabot> forall a. (Num a) => a -> a -> a
20:01:13 <tsp> I don't get the haskel . syntax as well
20:01:26 <dons> ah well. you'll just have to learn something new :-)
20:01:33 <heatsink> tsp: The (+) operator works on many types, so it uses type variables.
20:01:53 <Cale> tsp: . syntax?
20:02:00 <Cale> (.) is composition of functions
20:02:02 <heatsink> The "forall a." declares that there is one type variable in the type of (+).
20:02:07 <Cale> oh, that dot
20:02:22 <monochrom> It's a punctuation mark.
20:02:26 <heatsink> So if you plug in "Int" for "a", you get (Num Int) => Int -> Int -> Int
20:02:27 <Cale> That's just a separator to indicate where the list of bound variables ends, yeah.
20:02:49 <dons> e.g. \x . x
20:02:58 <monochrom> Most things are punctuation marks.
20:03:00 <heatsink> You can do that?
20:03:05 <heatsink> > (\x . x) 3
20:03:06 <lambdabot>  Parse error
20:03:19 <tsp> can python even do a foldl?
20:03:22 <Cale> heatsink: no, but that's the traditional notation for lambda terms
20:03:23 <tsp> just curious
20:03:34 <kc5tja_> > (\x -> x) 3
20:03:34 <Cale> tsp: yes, I believe it's called reduce
20:03:35 <monochrom> python can do a foldl
20:03:35 <lambdabot>  3
20:03:39 <tsp> I realy like map/filter :)
20:03:56 <tsp> but not gonads and monads/the rest of it yet
20:04:01 <heatsink> tsp: Python inherited generator syntax from haskell.
20:04:29 <tsp> neat
20:04:31 <heatsink> python: [x + y for (x, y) in z if x > 3]
20:04:43 <heatsink> haskell: [x + y | (x, y) <- z, x > 3]
20:04:44 <siti> yuck
20:05:04 <tsp> the python is easier to read
20:05:10 <dons> why?
20:05:22 <dolio> The haskell looks more like math.
20:05:31 <tsp> dons: screen reader
20:06:22 <heatsink> same thing in haskell, but with monad syntax: do {(x, y) <- z; guard (x > 3); return (x + y)}
20:07:11 <tsp> ouch
20:07:31 <sjanssen> jameysharp: I've got a question about error handling.  In Xlib there's essentially one global error handler, yeah?
20:07:33 <chessguy> tsp: what screen-reader do you use?
20:07:35 <heatsink> I prefer the list syntax too
20:07:51 <Cale> >>> reduce (lambda x, y: "f(" + x + "," + str(y) + ")", [1,2,3,4,5], "z")
20:07:51 <Cale> 'f(f(f(f(f(z,1),2),3),4),5)'
20:08:21 <heatsink> Yeah, FP is ugly in python.
20:08:24 <sjanssen> jameysharp: but it seems in xcb when a request warrants an error it returns that error instead of the normal response structure.  Is that right?
20:08:33 <jameysharp> sjanssen: Yes, mostly.
20:08:39 <dons> sjanssen: so ErrorT ? :-)
20:08:53 <tsp> chessguy: I'm using jaws on windows atm
20:09:02 <chessguy> tsp: my condolences :)
20:09:07 <sjanssen> dons: I'm thinking imprecise injections inserted in the response data structures
20:09:14 <jameysharp> sjanssen: XCB gives you two choices: Dump the error into the event queue, or return the error when you ask for a particular response.
20:09:26 <jameysharp> sjanssen: You choose which you want when you issue the request.
20:09:32 <sjanssen> ah, very nice
20:09:33 <ddarius_> > foldl (\acc x -> "(f "++acc++" "++show x++")") "z" [1,2,3,4,5]
20:09:34 <lambdabot>  "(f (f (f (f (f z 1) 2) 3) 4) 5)"
20:09:36 <dons> sjanssen: though Either Error Response might be nice enough?
20:09:37 <heatsink> chessguy: Do you use a screen reader?
20:09:37 <Cale> > foldl (\x y -> concat ["(f ", x, " ", show y, ")"]) "z" [1,2,3,4,5]
20:09:39 <lambdabot>  "(f (f (f (f (f z 1) 2) 3) 4) 5)"
20:09:47 <dons> it would be good if it could match normal monadic error handling
20:09:55 <jameysharp> sjanssen: For requests that don't normally return a response, this gets particularly interesting.
20:09:59 <chessguy> heatsink: no, my fiance uses jaws though
20:10:16 <sjanssen> jameysharp: yes, I was wondering about this as well
20:10:29 <Cale> > foldr (\x y -> concat ["(f ", show x, " ", y, ")"]) "z" [1,2,3,4,5]
20:10:30 <lambdabot>  "(f 1 (f 2 (f 3 (f 4 (f 5 z)))))"
20:10:36 <sjanssen> do they always go to the even queue?
20:10:48 <jameysharp> sjanssen: If you don't let the error simply go into the event queue, then when you check whether an error occurred, XCB may have to force a round-trip to the server in order to ensure that any possible error was already received.
20:10:59 <chessguy> tsp: have you found anything open-source that you like for linux? i'd love to convert my fiance someday
20:11:16 <Cale> > scanl (\x y -> concat ["(f ", x, " ", show y, ")"]) "z" [1,2,3,4,5]
20:11:18 <lambdabot>  ["z","(f z 1)","(f (f z 1) 2)","(f (f (f z 1) 2) 3)","(f (f (f (f z 1) 2) 3)...
20:11:36 <Cale> > scanr (\x y -> concat ["(f ", show x, " ", y, ")"]) "z" [1,2,3,4,5]
20:11:37 <ddarius> > foldr (\x y -> "((:) "++x++" "++show y++")") "[]" [1,2,3,4,5]
20:11:37 <lambdabot>  ["(f 1 (f 2 (f 3 (f 4 (f 5 z)))))","(f 2 (f 3 (f 4 (f 5 z))))","(f 3 (f 4 (f...
20:11:38 <lambdabot>   add an instance declaration for (Num [Char])
20:11:38 <lambdabot>     In the expression: 5
20:12:00 <ddarius> > foldr (\x y -> "((:) "++show x++" "++y++")") "[]" [1,2,3,4,5]
20:12:01 <lambdabot>  "((:) 1 ((:) 2 ((:) 3 ((:) 4 ((:) 5 [])))))"
20:12:29 <Cale> > foldr (\x y -> show x++":"++y) "[]" [1,2,3,4,5]
20:12:31 <lambdabot>  "1:2:3:4:5:[]"
20:12:37 <tsp> ouch spam
20:12:41 <tsp> everyones spamming the bot
20:12:43 <tsp> lol
20:12:46 <tsp> chessguy: speakup for linux
20:12:52 <tsp> but its only command line atm
20:12:54 <jameysharp> sjanssen: By the way, we call all this error handling stuff "plan 7".
20:13:02 <chessguy> tsp: ah ok. that won't fly for her
20:13:19 <tsp> chessguy: if you want to crash her jaws and she's using eloquence, I have a few words that can do it
20:13:28 <chessguy> lol
20:13:28 <dons> so its a synchronous error handling system, using a sum type to return either errors or results? but with occasionally non-returning thingies?
20:13:29 <tsp> chessguy: if jaws reads them, it goes bang until you reload it
20:13:38 <chessguy> what's eloquence?
20:13:39 <tsp> chessguy: more specifically, if eloquence reads them
20:13:45 <tsp> chessguy: the default jaws synth
20:14:03 <chessguy> oh ok. i know she uses perfect paul, but i don't know what synthesizer
20:14:09 <tsp> ouch, dectalk
20:14:16 <tsp> unfortunately that won't crash
20:14:29 <chessguy> besides, it crashes enough for her as it is :)
20:14:33 <tsp> lol
20:14:45 <tsp> I'm estimating another day before this windows box dies
20:15:00 <chessguy> oh, can i /msg you a geeky screen-reader question?
20:15:04 <tsp> sure
20:15:22 <jameysharp> dons: Yeah, I'm not sure how to elegantly represent it. :-)
20:18:08 <jameysharp> dons: Actually I'm not sure you have quite the right reading. XCB gives you the option to treat errors as asynchronous events.
20:18:35 <dons> ah ok.
20:19:21 <Korollary> wild
20:20:21 <tsp> :t Gonad
20:20:23 <lambdabot> Not in scope: data constructor `Gonad'
20:20:26 <tsp> piece of crap
20:20:31 <tsp> :t Monad
20:20:33 <lambdabot> Not in scope: data constructor `Monad'
20:20:39 <ddarius> :k Monad
20:20:41 <dmead> oh what the christ
20:20:42 <lambdabot> Class `Monad' used as a type
20:20:50 <ddarius> point 'bot
20:21:02 <tsp> I'm assuming I can alias Gonad to Monad somehow to make then equivalent
20:21:07 <tsp> since gonad is easier to type, and means the same thing
20:21:09 <dmead> loading files in Emacs22 doesn't chase modules?
20:21:20 <dmead> lol
20:21:22 <ddarius> class Monad m => Gonad m
20:21:31 <tsp> neat
20:21:49 <monochrom> How is Gonad easier to type than Monad?
20:21:58 <tsp> well go is easier on a qwerty keyboard
20:22:09 <ddarius> About the same on Dvorak
20:22:12 <tsp> and I'm lazy
20:22:15 <Korollary> That must have been an oversight of the standard
20:22:22 <monochrom> Ok. It's only marginal.
20:22:32 <tsp> you can't code using dvorak
20:22:42 <tsp> all you can do is write english text
20:23:02 <tsp> all the coding statements woudl be in weird places
20:23:19 <ddarius> Apparently I'm proficient with both now, and code in both, and write in both...
20:23:28 <tsp> ddarius: neat
20:23:42 <chessguy> what in the world kind of machines still have dvorak keyboards?
20:23:49 <tsp> chessguy: loadkeys dvorak
20:23:54 <tsp> lol
20:23:58 <bos> ye gods, it's a scandal. there's no lambdabot in #haskell-soc
20:24:04 <dmead> ?seen sorear
20:24:04 <lambdabot> I saw sorear leaving #darcs, #haskell-overflow, #ghc and #haskell 38m 36s ago, and .
20:24:08 <bos> i feel like i'm missing my third leg.
20:24:08 <dons> ?join #haskell-soc
20:24:14 <tsp> what's the and that he keeps saying
20:24:19 <tsp> the lambdabot
20:24:19 <bos> yay!
20:24:26 * ddarius doesn't know.
20:25:10 <chessguy> ?seen tsp
20:25:10 <lambdabot> tsp is in #haskell. I last heard tsp speak 51s ago.
20:25:28 <chessguy> loadkeys dvorak didn't do anything for me
20:25:32 <tsp> in a console
20:25:43 <chessguy> that's what i did
20:25:45 <tsp> if your in X, its something else
20:26:05 <chessguy> Gnome
20:26:09 <tsp> switch to a vt
20:26:12 <tsp> then do the loadkeys
20:26:17 <tsp> it should work on console session
20:26:19 <tsp> s/$/s
20:26:46 <chessguy> i don't know how to get a vt, i don't mess around with that stuff
20:26:54 <tsp> alt-control-f1
20:26:59 <tsp> then to get back into x, alt-control-f7
20:27:29 <chessguy> oh yes
20:27:32 <tsp> heh
20:27:38 <chessguy> in the vt, it's switched
20:27:39 <dmead> anyone else on emacs 22?
20:27:40 <chessguy> byt not here
20:27:42 <chessguy> *but
20:28:03 <chessguy> maybe if i close and re-open the terminal
20:28:13 <chessguy> nope
20:29:20 <chessguy> wierd
20:31:35 <tsp> probably in gnome-control-center or whatever it is
20:33:19 <chessguy> hmm, wonder if there's a particular keyboard model i could pick that would have a dvorak layout
20:35:04 <tsp> keyboard prefs, add, find us, hit dvorak
20:36:34 <chessguy> oh nice
20:37:52 <chessguy> ok
20:38:01 <chessguy> ydco co ircbi yr yat. orm. i.yycbi go.e yr
20:38:20 <jcreigh> looks like it worked. :)
20:38:35 <siti> learn colemak :p
20:38:38 <chessguy> oops
20:38:47 <kc5tja_> jameysharp: Hate to bug you again, but the Postscript files in the Xorg docs directories are broken.  Oh well.  :(
20:38:57 <siti> it's easier to learn and retains hotkeys :)
20:39:02 <jameysharp> kc5tja_: I don't believe you. :-)
20:39:31 <Cale> Por ort grav
20:39:42 <chessguy> oh man
20:39:55 <kc5tja_> jameysharp: Error: /invalidfont in findfont
20:39:55 <kc5tja_> Operand stack: Times-Italic@0   --nostringval--   Times-Italic   Font   Times-Italic   923058   Times-Italic   --nostringval--   Times-Italic   NimbusRomNo9L-ReguItal
20:39:59 <kc5tja_> Execution stack:
20:40:01 <kc5tja_>  %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_psh   --nostringval--   --nostringval--   --nostringval--   false   1   %stopped_push   1   3   %oparray_pop   1   3   %oparray_pop   1   3   %oparray_pop   1   3   %oparray_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --no stringval--   3   4   %oparray_pop   4   4   %oparray_pop
20:40:09 <kc5tja_> And it goes on and on and on from there.
20:40:35 <jameysharp> kc5tja_: Which file are you looking at? I'll see if it's broken for me too.
20:40:47 <chessguy> yeah, if i'm going to do that, i'll have to print out a copy of the layout first :)
20:40:58 <chessguy> otherwise it takes me 10 minutes to say anything :)
20:41:06 <jcreigh> what, trial and error not good enough for you?
20:41:10 <jameysharp> kc5tja_: BTW, why are we discussing this here? Perhaps we should move to #xorg.
20:41:27 <kc5tja_> proto.PS (extracted from proto.PS.gz)
20:41:40 <kc5tja_> jameysharp: I tried /msg you but you never responded.
20:41:46 <siti> chessguy: check out colemak, http://www.colemak.com  I learnt it after someone talked about it here
20:41:51 <lambdabot> Title: Colemak keyboard layout: ergonomic, fast and easy to learn QWERTY/Dvorak alterna ...
20:41:52 <siti> it sucks for about a week
20:42:18 <jcreigh> wow. a keyboard layout *more* obscure than dvorak.
20:42:20 <siti> you feel like a cripple...
20:42:36 <siti> jcreigh: yes but at least all the hotkeys work :)
20:43:26 <gvdm_other> I use dvorak
20:43:42 <jcreigh> gvdm_other: what do you do for your editor?
20:43:43 <byteshack> dvorak has taken a while to sink in to my system
20:43:48 <gvdm_other> that is true, ^x ^c ^v suck for dvorak
20:43:53 <siti> yep
20:44:01 <byteshack> but I think it has been worth the pain
20:44:02 <siti> also typing "ls" is a real pain!
20:44:04 * kc5tja_ uses Qwerty.  Been trying to learn Dvorak, but I have 90% error rate, easily.
20:44:04 <gvdm_other> jcreigh: either emacs, gedit or eclipse
20:44:13 <byteshack> alias l=ls
20:44:16 <kc5tja_> After about 2 weeks of on/off use.
20:44:17 <siti> lol
20:44:23 <gvdm_other> ll=ls -l
20:44:28 <kc5tja_> I start off with good accuracy, but as time goes on, my error rate increases sharply with time.
20:44:28 <byteshack> that's 'bout the first thing I do on a new machine
20:44:30 <gvdm_other> is what i have
20:44:34 <siti> yep
20:44:48 * ddarius adjusted his vim keybindings to Dvorak.
20:45:06 <jameysharp> kc5tja_: I dunno why, but I never got your /msg. Anyway there's something wrong with your setup, I think: proto.PS.gz opens fine for me with kghostview, gv, and evince.
20:45:17 <byteshack> even dir is "better" than ls
20:45:19 <siti> kc5tja: to learn another keyboard layout you have to NEVER touch the old one, and just practice lots
20:45:27 <siti> you will be at 30WPM within a week if you do...
20:45:31 <ddarius> kc5tja_: You need to use essentially only it until you are back to a usable speed.
20:45:42 <byteshack> siti: I did that, and now I have a terrible time with QWERTY
20:45:45 <jcreigh> kc5tja_: are you identified to services? I don't think non-identified nicks are allowed to /msg
20:46:03 <siti> byteshack: that's the price you pay, you have to give up on qwerty...
20:46:06 <kc5tja_> ddarius: That will take 22 years.
20:46:09 <ddarius> byteshack: Yeah, that happened to me.  But then I had to use QWERTY again, now I do both.
20:46:27 <byteshack> I just stay away from QWERTY
20:46:31 <ddarius> kc5tja_: It should only take about a week or two.
20:46:34 <siti> ddarius: does it get confusing, I am about 20-25wpm qwerty now...
20:46:36 <ddarius> byteshack: I try to.
20:47:02 <kc5tja_> ddarius: I've been using Dvorak for about 2.5 weeks now?  It is not sticking.  Although my speed is increasing, it's not anywhere near my qwerty speed.
20:47:10 <ddarius> siti: Surprisingly no.  I mean, you will sometimes write in one layout for a bit before you realize you are at a keyboard with a different layout.
20:47:10 * kc5tja_ types close to 70wpm QWERTY.
20:47:15 <kc5tja_> I'm at about 5 with Dvorak.
20:47:33 <siti> ddarius: ok that's good there's hope for me to be decent at qwerty again ;)
20:47:52 <siti> I am about 60-70WPM after 3 weeks with colemak...
20:47:56 <ddarius> kc5tja_: I didn't say you needed to match QWERTY, just until you have something usable 30 wpm say.  At that point, you should be able to just use Dvorak well enough and you'll get better.
20:48:03 <siti> actually about 4 weeks...
20:48:13 <ddarius> Quickly.
20:48:25 <hpaste>  byteshack pasted "bad negamax" at http://hpaste.org/1156
20:48:35 <ddarius> It should not take more than a month to at least match your old speed.
20:49:01 <byteshack> can someone help me spot my error with this simple negamax
20:49:11 <siti> I think I have almost reached my old qwerty speed
20:49:17 <kc5tja_> ddarius: Well, like I said, after 2.5 weeks, I still have 90% error rate, and an average (correct) word rate of 5.
20:49:26 <ddarius> kc5tja_: If you can touch type, then look at a picture of the layout (or, if you are lucky, the keycaps) while you are typing.  You don't need to learn to touch-type at this point, you just need to let your fingers know.
20:49:27 <byteshack> some flash typing games helped me out quite a bit
20:49:38 <byteshack> at least to memorize the keyboard
20:49:59 <kc5tja_> ddarius: I know where the keys are.  There is no muscle memory.
20:50:25 <ddarius> I played "The Typing of the Dead" once (not for practice).  It is way way more fun that it has right to be.
20:51:07 <ddarius> kc5tja_: That's probably from not consistently using Dvorak.
20:51:24 <kc5tja_> ddarius: That's because I *can't* use Dvorak consistently.
20:51:31 <kc5tja_> I actually have to get work done at some point.
20:51:51 <byteshack> I drank the whole dvorak koolaid an even bough me a TypeMatrix keyboard... now I own 2!!! (work, home)
20:52:17 <ddarius> kc5tja_: Try to find a time when you can apply yourself to it uninterrupted.
20:52:49 <ddarius> But, yes, until it starts picking it up it's -painful- (not physically)
20:52:53 <siti> my colemak plugging does not seem to be working :(
20:52:54 <kc5tja_> ddarius: Well, like I said, my error rate increases towards infinity with increasing usage.
20:53:08 <kc5tja_> At some point, I have to switch back to qwerty just to even type in IRC.
20:53:20 * kc5tja_ tends to alternate Dvorak/qwerty every two hours or so.
20:53:22 <ddarius> kc5tja_: I was on IRC when I was switching.
20:55:49 <tsp> kc5tja_: dvorak estas malfacila :)
20:56:12 <kc5tja_> tsp: I find Dvorak to be substantially more comfortable for me, which is why I'm learning it.
20:56:51 <ddarius> That is primarily why I like Dvorak.  I type about the same speed more or less as QWERTY.
20:56:57 <tsp> it sort of is cool, but you can't type words like esperantisto  very fast in it
20:57:06 <tsp> anything but english, it suffers
20:57:21 <ddarius> But for English, it's really nice.
20:57:40 <byteshack> seems to do OK with spanish too
20:57:43 <twb> Probably because dvorak is optimized for English
20:57:54 <ddarius> I love it when I can type words by a subtly coordinate smashing of the keyboard.  Every letter in parallel.
20:59:05 <kc5tja_> tsp: Funny, I can type that just fine.
20:59:15 <kc5tja_> esperantisto
20:59:42 <kc5tja_> about 4 seconds at my current rate.
21:00:09 * kc5tja_ is in Dvorak now.  
21:00:25 <byteshack> no takers for the negamax?
21:00:33 <kc5tja_> That is why I am going so slow now.
21:00:36 <chessguy> byteshack: what about negamax?
21:00:59 <byteshack> see the hpaste that I put?  I seem to be unable to get it right
21:01:33 <tsp> another thing is cx, gx, hx, jx, sx and ux
21:01:41 <tsp> really difficult to type in qwerty :)
21:01:55 <ddarius> byteshack: Give negamax the type annotation you intend it to have and the error message will be clearer (and you'll probably see what the problem is).
21:02:53 <kc5tja_> What is funny is that I had substantially better accuracy with esperantisto than with the subsequent sentence.
21:05:38 <chessguy> byteshack: i just wrote a negamax the other day if you want to see it
21:05:54 <byteshack> chessguy: yes, please :)
21:06:04 <chessguy> i haven't tested it, but it typechecks
21:06:07 <chessguy> it uses Data.Tree
21:06:21 <byteshack> chessguy: there is the paste, if you missed it http://hpaste.org/1156
21:06:53 <hpaste>  chessguy annotated "bad negamax" with "my minimax (aka negamax)" at http://hpaste.org/1156#a1
21:07:01 <byteshack> I should have tried something easier to learn the lang :)
21:07:54 <byteshack> ah! darn, there in "negate"
21:08:23 <jameysharp> byteshack: isn't your problem the use of 'min' instead of 'minimum'?
21:08:33 <jameysharp> :t min
21:08:35 <lambdabot> forall a. (Ord a) => a -> a -> a
21:08:40 <chessguy> oh, and just for kicks:
21:09:00 <hpaste>  chessguy annotated "bad negamax" with "sigfpe's minimax" at http://hpaste.org/1156#a2
21:09:03 <byteshack> :t maximum
21:09:06 <lambdabot> forall a. (Ord a) => [a] -> a
21:09:13 <byteshack> that's the one
21:10:13 <byteshack> what's the $ in there for?
21:10:27 <jcreigh> byteshack: function application
21:10:31 <jcreigh> @src ($)
21:10:31 <lambdabot> f $ x = f x
21:10:41 <jcreigh> it's a trick to reduce the number of parens you need
21:10:44 <chessguy> that just saves you from having to write a pair of parentheses around the rest of the line
21:10:52 <jameysharp> byteshack: It's a drinking game: insert '$' into your working code and see if it still works.
21:11:01 <byteshack> haha
21:11:13 <monochrom> haha
21:11:21 <chessguy> assuming you have working code to begin with
21:11:37 <chessguy> ?remember jameysharp  It's a drinking game: insert '$' into your working code and see if it still works.
21:11:37 <lambdabot> Done.
21:11:40 <byteshack> chessguy: thanks for the code, got it to work :)
21:12:47 <procyon112> ?hoogle forM
21:12:48 <lambdabot> Text.Html.form :: Html -> Html
21:12:48 <lambdabot> Time.formatCalendarTime :: TimeLocale -> String -> CalendarTime -> String
21:12:48 <lambdabot> System.Time.formatTimeDiff :: TimeLocale -> String -> TimeDiff -> String
21:13:04 <chessguy> @type forM
21:13:07 <lambdabot>     Ambiguous occurrence `forM'
21:13:07 <lambdabot>     It could refer to either `forM', imported from Control.Monad.Writer
21:13:16 <chessguy> @type Control.Monad.forM
21:13:18 <lambdabot> forall a (m :: * -> *) b. (Monad m) => [a] -> (a -> m b) -> m [b]
21:13:25 * chessguy kicks the bot for being so dumb
21:14:31 <chessguy> procyon112: have you started hacking up those patches yet?
21:15:57 <tsp> > [1..100]
21:15:58 <lambdabot>  [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,...
21:16:01 <procyon112> I was actually just trying to compile.
21:16:07 <tsp> neat
21:16:15 <tsp> > [1...3]
21:16:16 <lambdabot>   Not in scope: `...'
21:16:25 <tsp> 1,3,5,7...
21:16:28 <tsp> is that even possible?
21:16:34 <chessguy> > [1,3..]
21:16:35 <lambdabot>  [1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53...
21:16:43 <tsp> ah
21:16:47 <chessguy> and that's odd, not even :)
21:16:55 <tsp> heh
21:16:58 <chessguy> :)
21:17:03 <jameysharp> > filter even [1,3..]
21:17:07 <lambdabot> Terminated
21:17:12 <tsp> > [100..-2..]
21:17:13 <lambdabot>   Not in scope: `..-'
21:17:20 <tsp> > [100..(-2)..]
21:17:20 <lambdabot>  Parse error
21:17:24 <chessguy> ?src enumFromTo
21:17:25 <lambdabot> Source not found. That's something I cannot allow to happen.
21:17:32 <jameysharp> > [100,-2..]
21:17:34 <lambdabot>  [100,-2,-104,-206,-308,-410,-512,-614,-716,-818,-920,-1022,-1124,-1226,-1328...
21:17:36 <chessguy> ?hoogle enumFrom
21:17:36 <lambdabot> Prelude.enumFrom :: Enum a => a -> [a]
21:17:36 <lambdabot> Prelude.enumFromThen :: Enum a => a -> a -> [a]
21:17:36 <lambdabot> Prelude.enumFromThenTo :: Enum a => a -> a -> a -> [a]
21:17:42 <jcreigh> > [100,98..]
21:17:44 <lambdabot>  [100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52...
21:17:51 <chessguy> @more
21:17:58 <chessguy> ?hoogle enumFrom
21:17:59 <lambdabot> Prelude.enumFrom :: Enum a => a -> [a]
21:17:59 <lambdabot> Prelude.enumFromThen :: Enum a => a -> a -> [a]
21:17:59 <lambdabot> Prelude.enumFromThenTo :: Enum a => a -> a -> a -> [a]
21:17:59 <chessguy> @more
21:18:03 <chessguy> ?hoogle+
21:18:03 <lambdabot> Prelude.enumFromTo :: Enum a => a -> a -> [a]
21:18:04 <lambdabot> Language.Haskell.Syntax.HsEnumFrom :: HsExp -> HsExp
21:18:04 <lambdabot> Language.Haskell.Syntax.HsEnumFromThen :: HsExp -> HsExp -> HsExp
21:18:04 <tsp> weird
21:18:11 <chessguy> ?src enumFromTo
21:18:12 <lambdabot> Source not found. My mind is going. I can feel it.
21:18:14 <chessguy> bah
21:18:24 <jcreigh> @go haskell report
21:18:27 <lambdabot> http://www.haskell.org/onlinereport/
21:18:27 <lambdabot> Title: The Haskell 98 Language Report
21:18:31 <jcreigh> chessguy: ^^ :)
21:18:43 <chessguy> bah
21:18:45 <procyon112> chessguy: bah..  ghc 6.4 doesn't include forM in Control.Monad.  I'm going to have to upgrade finally.
21:18:59 <jcreigh> procyon112: forM = flip mapM
21:19:05 <procyon112> ahh. ok
21:19:06 <chessguy> procyon112: i think forM is just flip mapM
21:19:10 <chessguy> err, yeah
21:19:14 <chessguy> what jcreigh said
21:19:29 <chessguy> ?src Control.Monad.forM
21:19:30 <lambdabot> Source not found. I've seen penguins that can type better than that.
21:19:45 <chessguy> i bet the penguins were using dvorak!
21:21:21 <procyon112> chessguy: since we are aiming for a more std library, should we continue to target GHC, or go pure Haskell?
21:21:45 <kc5tja_> chessguy: Br yd.f ,.p.b-y!!
21:21:45 <kc5tja_> S)
21:21:45 <kc5tja_> .pp
21:21:45 <kc5tja_> :)
21:21:47 <kc5tja_> (had to be done)
21:21:52 <chessguy> procyon112: did you need something ghc-specific?
21:22:31 <procyon112> Your current code is ghc specific
21:22:39 <chessguy> it is?
21:22:43 <chessguy> ohhhh, yes
21:22:47 <chessguy> fglasgow
21:23:03 <chessguy> if you can patch that, feel free
21:23:08 <procyon112> k
21:23:11 <jcreigh> kc5tja_: heh. jumbled qwerty-dvorak reminds of the "I [Broken Character Symbol] Unicode" t-shirt.
21:23:45 <tsp> I hate spanish
21:24:03 <kc5tja_> jcreigh: It took me about 2 seconds to get what your [expression] was referring to, but that was awesome.  I love nerdy joke T-shirts like that.
21:24:10 <tsp> I have this directory my friend sent me called poder blanco or something and its all this heavy metal stuff that screams about something
21:24:11 <jcreigh> http://www.cafepress.com/nucleartacos.26721820
21:24:21 <kc5tja_> tsp: Literally EVERY one of my coworkers is from Argentina.  :)
21:24:27 <chessguy> haha
21:24:34 <chessguy> poder blanco = white power
21:25:07 <tsp> lol
21:25:23 <tsp> white power is certainly a different way of viewing the world
21:25:40 <monochrom> or screaming at the world
21:25:43 <tsp> yeah
21:26:02 <tsp> if you listen to it, that's not too bad; if you start to believe it, that's a different story altogether
21:28:05 <chessguy> well, if you listen to enough of it for long enough, you will start to believe it
21:28:36 <tsp> damn
21:28:43 <tsp> I have some english stuff that's not too bad
21:29:00 <tsp> the words themselves aren't racist, I guess its just the ideas behind them
21:29:11 <tsp> there are some bands that scream it outright - those are weird
21:29:16 <chessguy> so anyway, how about haskell :)
21:29:48 <tsp> haskell is odd
21:29:52 <monochrom> lambdabot should get a plugin that plays mp3
21:29:57 <tsp> I like some of the concepts, map, filter, etc
21:30:08 <tsp> but I don't quite like total functional programming yet
21:30:20 <chessguy> procyon112: i was looking at gtk2hs for the front end today. i'm thinking of a set of tabs, one tab for each generation
21:30:23 <monochrom> you like partial functions?
21:30:27 <jameysharp> ooh, I want a language of only total functions.
21:30:54 <chessguy> i don't. it wouldn't be able to do anything
21:31:03 <procyon112> you want C?
21:31:11 <monochrom> I want A or A+.
21:31:13 <tsp> I like python
21:31:15 <tsp> and maybe ruby
21:31:24 <monochrom> But sometimes I give out C to my students.
21:31:26 <tsp> estas facilaj lingvoj
21:32:04 <tsp> haskell ne havas multajn uzantojn :)
21:32:26 <chessguy> what is that, swedish?
21:32:54 <byteshack> esperanto?
21:33:01 <monochrom> "haskell does not have multiple uzi"
21:33:01 <tsp> byteshack: cxu vi parolas Esperanton?
21:33:09 <tsp> multajn uzantojn - many users
21:33:19 <tsp> this channel is probably about it
21:33:24 <byteshack> enough to know what it looks like
21:33:30 <ddarius> tsp: No, it isn't.
21:33:43 <chessguy> the community is much bigger than #haskell
21:33:47 <byteshack> and to pick things like your question
21:34:18 <tsp> oh
21:34:19 <chessguy> anyway, bedtime here
21:34:25 <chessguy> ta
21:34:27 <byteshack> I started to learn it, but had no one to practice with
21:34:36 <monochrom> not-many-users is good.  all high quality things have much fewer users than mediocre things.  of course I am not implying the converse.
21:34:41 * Pseudonym konsideras krei #haskell-eo
21:34:49 * ddarius should crochet.
21:35:05 <tsp> ni bezonas kaneloj por linukso en esperanto
21:35:23 <Pseudonym> Kial ne?
21:36:04 <tsp> ?
21:36:09 <tsp> lol mia esperanto ne estas tre bona
21:36:18 <Pseudonym> #haskell-eo aux #haskell.eo?
21:36:30 <tsp> ni bezonas #debian-eo, #gentoo-eo, #archlinux-eo
21:37:11 <Pseudonym> Ekzistas #haskell.se k.t.p.
21:37:45 <tsp> ah
21:38:11 <tsp> mi iras al la hispana lingvo kaneloj kaj paroli Esperanton, mi amas konfuzi la hispanuloj
21:38:24 <monochrom> I am sure the "lol" part is not esperanto.
21:38:28 <byteshack> tsp: only the dumb ones :)
21:38:50 <tsp> monochrom: its not
21:38:54 <tsp> byteshack: heh, it works
21:39:09 <tsp> I had a conversation going on efnets #sweden
21:39:14 <tsp> for about 5minutes
21:39:26 <tsp> my swedish is limited to kuksugare
21:39:37 <Pseudonym> Which means...?
21:39:40 <tsp> and mitt fosterland är kanado
21:40:34 <tsp> kuksugare = cocksucker
21:40:54 <monochrom> not syntactic sugar?
21:40:56 <tsp> mitt fosterland är - my fatherland is
21:41:15 <tsp> monochrom: I figured it was a sugar-cake at first
21:41:21 <monochrom> and kanado is Canada.
21:41:22 <tsp> since kuko in esperanto is a cake
21:41:26 <Pseudonym> It doesn't roll off the tongue as well in Esperanto: penisosucxisto
21:41:39 <tsp> heh, kacosucxulo
21:41:42 <monochrom> that's a hell of a word
21:41:48 <Pseudonym> Though, of course, you'd use the accusitive if you were calling someone that.
21:41:53 <tsp> yeah
21:42:03 <tsp> mia amiko estas kacosucxulo / kacosucxanto
21:42:06 <tsp> +n
21:42:17 <Pseudonym> Not for estas.
21:42:36 <Pseudonym> For est/i, objects don't take the accusitive.
21:42:43 <Pseudonym> accusative
21:43:10 * Pseudonym just misspelled that twice, which proves that all language corrections must contain at least one grammatical or spelling mistake
21:43:14 <ddarius> Accusative: also know as the aquisitive in America.
21:43:26 <tsp> I thought it did
21:43:34 <Pseudonym> I don't think so.
21:43:36 <tsp> hmm
21:43:41 <tsp> either way, people will know what I mean
21:43:50 <tsp> if you want the best kacosucxulo, the spanish is better - chupaverga
21:44:02 <kc5tja_> monochrom: Since the last 'l' is "laugh*s*", the equivalent in Esperanto is loloj  ;)
21:44:06 <tsp> mi amigo chupa la verga
21:44:11 <tsp> or is it chupas
21:44:27 <Pseudonym> Oh, I think you're right.
21:44:33 <Pseudonym> I'm confusing it with Greek.
21:44:33 <byteshack> -s
21:44:56 <Pseudonym> Mi apologias.
21:45:08 <monochrom> That's going to be fun.  What is "laughs out loud" in esperanto?
21:45:15 <tsp> no idea
21:45:30 <Pseudonym> ridegas.
21:45:33 <tsp> mi ridas - I laugh
21:45:39 <kc5tja_> Just translate "I am laughing audibly".  I'm sure it'll lead in the right direction.
21:45:40 <Pseudonym> Right.
21:45:47 <Pseudonym> You add the -eg to make it bigger.
21:45:49 <monochrom> I have a feeling that in esperanto it expands to "lol = loloj ___ ___" and right there we have a recursion.
21:45:56 <tsp> mi ridegas lauxta
21:46:10 <tsp> lauxte
21:46:14 <tsp> heh
21:46:20 * Pseudonym is a bit rusty
21:46:23 <kc5tja_> MRL -- doesn't have the same impact as LOL.  :)
21:46:45 * kc5tja_ hasn't studied Esperanto in over 4 years; I'm as good as thoroughly ignorant of it.
21:46:45 <Pseudonym> But actually, "ridegas" on its own probably does the trick.
21:46:52 <kc5tja_> I only remember the most basic rules.
21:46:55 <monochrom> yeah, sounds more like a heavy-weight medical scanner
21:47:04 <Pseudonym> Or you could make an agglutinated word: lauxtaridegas.
21:47:12 <kc5tja_> -i = past tense, -a = present, -o future, -u = accusative.
21:47:33 <Pseudonym> Kinda.
21:47:55 <Pseudonym> -is, -as, -os and -us are the proper suffixes.
21:47:59 <Pseudonym> Since -i is infinitive.
21:48:10 <Pseudonym> -a = adjective, -o = noun etc
21:48:30 <tsp> some useful verbs
21:48:38 <tsp> sucxi = to suck fiki = to fuck
21:48:44 <tsp> that's about all the swearing I know
21:48:51 <Pseudonym> http://www.notam02.no/~hcholm/altlang/ht/Esperanto.html
21:48:53 <lambdabot> Title: The Alternative Esperanto Dictionary
21:48:57 <Pseudonym> Enjoy!
21:48:59 <tsp> merdo = shit, so you can turn that into merdi = to shit
21:49:07 <tsp> I have no idea how fek fits into all that though
21:49:40 <Pseudonym> fek/i == to shit
21:50:05 <Pseudonym> One thing about Esperanto, BTW, that's not often appreciated.
21:50:18 <Pseudonym> Each root has a natural part of speech.
21:50:25 <tsp> heh
21:50:29 <Pseudonym> sxovel/i, for example, is "to shovel".
21:50:42 <Pseudonym> sxovelo, the noun form, is NOT a shovel.
21:50:52 <Pseudonym> It's the noun of the verb, because the root is naturally a verb.
21:50:53 <gvdm_other> hah, if artificial languages are your thing then at least to it properly and learn lojban
21:50:56 <Pseudonym> So it's the act of shovelling.
21:51:06 <gvdm_other> the _real_ geeks logical language
21:51:08 <Pseudonym> So feko is the act of defecating.
21:51:24 <Pseudonym> If you want the end product, that's fekajxo.
21:51:33 <tsp> feko will work as well
21:51:46 <Pseudonym> As an interjection, but it doesn't refer to the substance.
21:51:48 <tsp> sxovelo is a shovel, but also a sxovelilo
21:51:49 <Pseudonym> It refers to the act.
21:52:01 <Pseudonym> Nope.  sxovelilo is a shovel.
21:52:05 <tsp> putinfilacxo
21:52:07 <Pseudonym> sxovelo is the act of shovelling.
21:52:12 <kc5tja_> So sxovelo refers to the *act* of shoveling instead of the shovel itself?
21:52:15 <Pseudonym> Right.
21:52:24 <Pseudonym> -il- means "tool"
21:52:35 <tsp> yeah, but komputilo isn't the act of computing
21:52:37 <Pseudonym> So sxovelilo is literally a tool for shovelling.
21:52:39 <tsp> oh duh
21:52:43 <tsp> missed the il
21:52:51 <kc5tja_> gvdm_other: My most recent attempts at learning another language is, in fact, Lojban.
21:52:56 <tsp> lojban is weird as fuck
21:53:10 <kc5tja_> I got up to Ch. 7 of the LFB book.  But I stopped there for lack of time.
21:53:15 <kc5tja_> tsp: no weirder than Lisp.
21:53:19 <Pseudonym> This thing about roots having a natural part of speech is, IMO, the dumbest part of Esperanto.
21:53:26 <Pseudonym> It's as bad as memorising genders of nouns.
21:53:32 <gvdm_other> go lojban!
21:53:55 * kc5tja_ would like to become a fluent reader/writer some day.  At the very least.  I strongly doubt I'd ever become a speaker.
21:54:02 <gvdm_other> no genders, no exceptions and a predicate syntax!
21:54:02 <tsp> kc5tja_: speaking it is hard
21:54:06 <tsp> espernato that is
21:54:31 <kc5tja_> tsp: I listened to an Esperanto shortwave radio program once, broadcast from somewhere in Europe.  And man, I just could *NOT* follow it.
21:54:41 <gvdm_other> lojban.org for those who don't know
21:54:43 <kc5tja_> I could not at *all* identify where one word ended and another began.
21:54:45 <tsp> heh I had the same problem
21:55:02 <kc5tja_> I'd occasionally hear '-ojn', but that's the only synchronization I'd get.
21:56:29 <Pseudonym> Oh, that and country names.
21:56:34 <Pseudonym> Country names are pretty dumb.
21:56:48 <Pseudonym> You just have to know them.
21:57:13 <Pseudonym> Though at least we went from -uj to -i.
21:57:31 <Pseudonym> -uj- is an affix that means "container.
21:57:43 <Pseudonym> pencilo == pencil, pencilujo == pencil case
21:57:51 <Pseudonym> anglo == Englishman, Anglujo == England
21:57:56 <Pseudonym> Makes perfect sense.
21:58:09 * kc5tja_ was thinking of a purely stack-based language one day.
21:58:14 <kc5tja_> So something like:
21:58:18 <kc5tja_> pencil = the writing tool
21:58:21 <Pseudonym> RPN?
21:58:30 <kc5tja_> pencil ujo = pencil that *is* the container
21:58:55 <Pseudonym> Now the cool part about that, is you could add "pop" as a word, so you could edit your sentences as you speak them.
21:59:01 <kc5tja_> pencil ujo il = pencil container (il ujo = tool that is a container)
21:59:24 <kc5tja_> ooops, I switched words -- should be pencil il ujo.
22:00:28 <sjanssen> quick poll: which Haskell libraries have home grown solutions for handling character encodings like UTF-8 or UTF-16
22:00:36 <sjanssen> I've got darcs and vty so far
22:03:29 <ddarius> kc5tja_: Nihon-go
22:04:01 <kc5tja_> ddarius: No thanks; although I am aware of some aspects of Japanese, I definitely won't even go so far as to try to speak it.  :)
22:04:08 <sjanssen> pugs too
22:04:54 <ddarius> Speaking it is straightforward for the most part.  Hearing it is much harder.  But I was referring to the aspects that feel fairly postfixy to an English speaker.
22:05:21 <kc5tja_> That's one of the things about Lojban that I did enjoy -- it uses modifier words for *everything*, and they're use is consistent.  Pu turns a concept into past-tense (this includes nouns and adjectives!), ba into future tense.  pupubabapuba is a valid construct in Lojban, for some really ****ed-up past-past-future-future-past-future-perfect tense.
22:05:49 <kc5tja_> ddarius: yeah; I love the way Japanese *sounds*.  It's a very pretty language.
22:05:52 <kc5tja_> (spoken)
22:08:36 <ddarius> It's not as pretty written as people tend to think of it (it is still better than English). Good languages that are pretty to look at come from India and the Middle East.
22:11:03 <revence> Hey, have you guys noticed that Monads could be a solution to stuff like (everything and) SQL injections?
22:11:11 <revence> Or am I alone in #haskell?
22:11:16 <revence> Friggin' time zones.
22:11:28 <ddarius> Elaborate.
22:11:29 <Korollary> @time revence
22:11:32 <lambdabot> Local time for revence is Tue Mar 27 08:05:05 2007
22:11:42 <ddarius> And probably yes.  Certainly, types can (and have) been used for that.
22:11:57 <ddarius> @time ddarius
22:11:58 <lambdabot> Local time for ddarius is Tue Mar 27 00:09:55
22:12:25 <kc5tja_> @time kc5tja
22:12:25 <Korollary> somebody's clock is off
22:12:26 <lambdabot> Local time for kc5tja is Mon Mar 26 22:12:02 2007
22:12:28 <siti> @time siti
22:12:40 <siti> lol
22:12:42 <Korollary> dont you people use ntp or something
22:12:50 <kc5tja_> lambdabot is off by two minutes.  This is inexcusable!  :D
22:12:52 <revence> Yeah, but I don't mean in Haskell. I mean in other languages. After all, monads are possible in all languages that allow for high-level.
22:12:52 <siti> do me ;)
22:13:19 <kc5tja_> siti: Try it again?  It shouldn't take that long.
22:13:33 <byteshack> @time siti
22:13:51 <byteshack> I don't think it likes you...
22:13:53 <siti> oh maybe my client sucks
22:14:00 <siti> :(
22:14:06 <kc5tja_> @time siti
22:14:27 <kc5tja_> Hmm...that's weird.
22:14:28 <ddarius> [00:09] * Received a CTCP TIME from lambdabot
22:14:28 <ddarius> [00:09] <lambdabot> Local time for ddarius is Tue Mar 27 00:09:55
22:14:29 <siti> it won't work
22:14:33 <siti> it's the client
22:14:40 <dons> depends on the client.
22:15:43 <Korollary> revence: sql injections are a kind of language embedding problem. Type checking API's could be a solution. I don't see why monads are relevant.
22:15:44 <kc5tja_> OK, I'm going to unearth my Lojban book because you got me all nostalgic about it again, and I'm going to read myself to sleep.  :)
22:16:03 <kc5tja_> Korollary: Domain specific language -- a la Linq.
22:16:14 <Korollary> kc5tja_: I am aware of linq
22:17:13 <ddarius> revence: http://blog.moertel.com/articles/2006/10/18/a-type-based-solution-to-the-strings-problem
22:17:16 <lambdabot> Title: A type-based solution to the "strings problem": a fitting end to XSS and SQL-inj ..., http://tinyurl.com/uv94m
22:18:46 <revence> Well, monads are relevant because there are no type-checking APIs in PHP, which allows you to pass funcs around. So, you can create a bind kind of thing, and use it. Problem is, there are no ways to enforce it in PHP (no constructors, et cetera). Yeah, there are better solutions, but monads can be one, no?
22:19:59 <ddarius> revence: You don't really need monads.  Just normal data abstraction.
22:20:04 <Korollary> Monads are not synonymous with types
22:20:46 <revence> Yeah. Aren't monads a form of abstraction? They are. Now, lemme read this link you gave me. It rocketh.
22:22:34 <ddarius> And doesn't use monads (except in so far as you need them for other things).
22:24:14 <Korollary> People added comments 50 days later to that post.
22:26:11 <revence> 121 days later.
22:26:40 <Korollary> I guess I had to scroll down a little bit more.
22:27:48 * ddarius pulls out a fat hook.
22:28:13 <Korollary> The way I understand it is that SQL injection is inserting a piece of text that is meant to be a derivation of a given grammar rule, but since the programmer doesn't enforce it, it may turn up deriving a different parse tree.
22:30:48 <revence> Yes. I, for one, just think the best way to implement security is to outlaw formats (read languages), that are invoked dynamically, *that can change the state of external data*. That way, when the holes happen (not if), you are still safe. Maybe I'm a silly idiot. Heh. I am.
22:30:51 <ddarius> God I need my electric.
22:31:54 <pejo> revence, does "SELECT * from users where user='whoever' and true" change the state of external data?
22:33:30 <Korollary> Well, just like sprintf versus snprintf, if you do it right, you will be ok. But, there will always be other ways of doing things wrong.
22:33:32 <QtPlatypus> No
22:33:37 <revence> No, but it is written in SQL, which is capable of changing. So, when this hole happens (PHP): pg_query("SELECT * FROM users WHERE username = '$_GET['user']'"); ...
22:34:27 <revence> Someone may inject this as the user param: "'; DELETE * FROM users; SELECT * FROM users WHERE username ='"
22:35:05 <revence> And that changes the state. So, the language (SQL) is capable of changing the state, and is therefore not a good thing, because holes will happen.
22:36:23 <pejo> revence, I'd say the widened search is bad as well, although it doesn't alter any data.
22:36:27 <dons> sjanssen: oh nice, this workspace-specific layout rocks.
22:36:51 <dons> sjanssen: now just need to work out how to divide horizontally.
22:39:36 <revence> Actually, it is why I said my ideal can't be implemented. At some point, we should be interpreting a format (language, that is) that can alter data outside itself. But if we never had to (and every instance of a string is going to be dealt with only in the language that received it first) we have no holes. As in, get_rows('users', $_GET['user']);
22:40:20 <revence> Nno holes.
22:41:02 <pejo> revence, did you read the POPL'06-paper on SQL injections?
22:41:17 <pejo> (Just woke up, so didn't see the start of the conversation).
22:41:48 <revence> pejo: The one by Tom Moertel? http://blog.moertel.com/articles/2006/10/18/a-type-based-solution-to-the-strings-problem
22:41:54 <revence> That one?
22:41:55 <lambdabot> Title: A type-based solution to the "strings problem": a fitting end to XSS and SQL-inj ..., http://tinyurl.com/uv94m
22:42:22 <revence> pejo: We may even share a time zone.
22:42:25 <revence> @time pejo
22:42:26 <lambdabot> Local time for pejo is Tue Mar 27 07:40:35 2007
22:42:36 <revence> Nope. One hour behind me.
22:44:55 <pejo> revence, Wasserman and Su, seems like a PLDI'07 paper is published by them on the subject as well.
22:45:33 <pejo> "Sound and Precise Analysis of Web Applications for Injection Vulnerabilities.".
22:46:29 <pejo> Have to run again though, sorry. This is an interesting subject however!
22:46:50 <revence> Lemme G^HHoogle for it. Sure. It was fun talking to you.
22:49:15 <dolio> Heh. "I used to be extremely interested in OCaml, even spending a considerable amount of time learning it. Then I found out that Microsoft had bought its way into the OCaml Consortium. Sure took care of my interest."
22:49:20 <dolio> Guess he won't be learning Haskell.
22:49:22 <ddarius> Hmm... the back looks like a purl stitch but the front doesn't look like a knit stitch...
22:50:05 <ddarius> People are stupid.
22:50:17 <revence> Hey, there is F#. An OCaml-compliant language (mostly) that runs on .NET.
22:50:30 <revence> @google F# programming language
22:50:32 <lambdabot> http://research.microsoft.com/fsharp/
22:50:32 <lambdabot> Title: Microsoft F#
22:50:43 <twb> It sounds like Fortran for CLR
22:50:49 <twb> The name, I mean.
22:51:02 <revence> http://en.wikipedia.org/wiki/F#_(programming_langauge)  -- I think.
22:51:11 <dolio> Probably Functional#?
22:51:16 <dolio> Or something like that.
22:52:09 <revence> Nope. It is an OCaml-like. I can't stand procedural anymore, so I go functional. It is good to have object-oriented ML for the CLR. Since bosses will always be evil.
22:52:34 <revence> F for functional, # for .NET.
22:53:02 <revence> Same labs where Simon Peyton-Jones works, so it must be good. They all smoke the same stuff.
22:54:48 <Korollary> It's nice to have one's interests shaped by ideology and emotion as opposed to technical merit.
22:55:18 <Korollary> (re: the ocaml quitter dolio mentioned)
22:56:17 <dolio> I wonder what languages he can use.
22:56:43 <dolio> I guess perl, python and ruby.
22:56:46 <dolio> And some lisps.
22:57:25 <twb> Korollary: aren't they the same thing?
22:57:43 <revence> I thought Korollary was taking me on. I was going to go like `But how did you know?' I love Haskell. Also, I am a Communist (Stalinist-Leninist-Maoist). Conform or get shot. Obey, obey, obey! These are the rules!
22:58:03 <tsp> revence: cxu vi amas Hitler?
22:58:11 <dons> > let pascal = [1,2,1] : map (\line -> zipWith (+) (line++[0]) (0:line)) pascal in pascal
22:58:13 <lambdabot>  [[1,2,1],[1,3,3,1],[1,4,6,4,1],[1,5,10,10,5,1],[1,6,15,20,15,6,1],[1,7,21,35...
22:58:33 <ddarius> more streams testing code?
22:58:37 <dons> :-)
22:58:43 <revence> Hitler? Sounds horrible, even in a non-English language. Nope.
22:58:57 <tsp> communism == nazism?
22:59:15 <revence> No! The Communists beat up the friggin' Nazis!
22:59:32 <tsp> they did?
22:59:40 <tsp> I thought communists were pro-hitler and all that
22:59:48 <Adamant> they were
22:59:50 <Adamant> for a while
22:59:51 <revence> We hate 'em. We are different. And legal. In most countries (Americans don't usually know that).
23:00:01 <tsp> ah
23:00:15 <dons> um. non-haskell talk best taken to #haskell-blah.
23:00:17 <tsp> I know some german - I can say Juden mord, but telling someone good morning isn't all that useful
23:00:19 <revence> Those were wrong Communists. I don't see Karl Marx supporting Hitler. :-D
23:00:30 <dons> unless you can rephase this in terms of a list comprehension.
23:00:34 <revence> Okay, dons. EOT.
23:00:34 <tsp> heh
23:01:00 <tsp> I"m in haskel-blah
23:02:01 <revence> getHistory >>= filter (/= "Hitler")
23:02:17 <revence> filterM, I mean.
23:02:18 <dolio> Type error.
23:02:25 <dolio> :)
23:02:41 <revence> get#haskell >>= mapM greet
23:02:56 <ddarius> You will certainly need a monad to encapsulate all the side-effects that that would have.
23:03:07 <revence> getHistory >>= mapM revisionist
23:03:23 <revence> Yeah, and considering that History always returns different.
23:03:43 <ddarius> getHistory >> repeatM revise
23:03:56 <revence> Depending on which side of the GMT you are.
23:04:22 <revence> ddarius: Yeah. repeatM. :-D
23:05:12 <revence> History repeats itself.
23:05:57 <ddarius> revence: The subtlety of it is the use of >> as opposed to >>=
23:06:05 <twb> http://twb.ath.cx/tmp/tmp.scm <-- what would this look like in Haskell?
23:06:44 <ddarius> twb: See bracket
23:06:51 <dolio> ?hoogle bracket
23:06:51 <lambdabot> IO.bracket :: IO a -> (a -> IO b) -> (a -> IO c) -> IO c
23:06:52 <lambdabot> IO.bracket_ :: IO a -> (a -> IO b) -> IO c -> IO c
23:06:52 <lambdabot> Control.Exception.bracket_ :: IO a -> IO b -> IO c -> IO c
23:07:01 <twb> OK, that's part of it.
23:08:02 <revence> Yeah. The fact that you just `then' it.
23:08:49 <revence> Okay, the boss is here. Gotta go. Blerry Java guy.
23:09:30 <revence> Not that he likes it - just the production time.
23:09:38 <revence> I should preach more.
23:11:39 <tsp> where do I find F# for .net?
23:11:41 <tsp> @google F3
23:11:43 <tsp> @google F#
23:11:45 <lambdabot> http://www.fota.co.uk/
23:11:46 <lambdabot> http://research.microsoft.com/projects/ilx/fsharp.aspx
23:11:46 <lambdabot> Title: This page has been replaced
23:11:50 <tsp> oh
23:13:13 <twb> http://twb.ath.cx/tmp/tmp.hs
23:16:40 <quicksilver> @where Data.Binary
23:16:41 <lambdabot> I know nothing about data.binary.
23:16:47 <quicksilver> @where binary
23:16:47 <lambdabot> http://darcs.haskell.org/binary
23:43:18 <twb> Hmm, there must be some way to create guaranteed-unique files/directories, because Darcs does it.
23:43:58 <bos> it rolls its own.
23:44:13 <twb> Grmph
23:44:23 <dolio> @hoogle temp
23:44:24 <lambdabot> Distribution.Extension.TemplateHaskell :: Extension
23:44:24 <lambdabot> System.Directory.getTemporaryDirectory :: IO FilePath
23:44:24 <lambdabot> System.IO.openBinaryTempFile :: FilePath -> String -> IO (FilePath, Handle)
23:44:56 <twb> dolio: none of those are relevant.
23:45:56 <dolio> Yeah, I suppose the temporary file is just random, not necessarily unique.
23:46:26 <twb> dolio: actually, my point was that openTempFile creates a handle as well, which I don't want.
23:46:40 <dolio> Ah, I see.
23:46:51 <twb> I'm actually mainly interested in creating guaranteed-unique DIRECTORIES
23:47:01 <twb> Since I will then be mounting filesystems on them.
23:48:45 <twb> What I had to do in scsh was create a temporary file, delete it, then create a directory in the same place.
23:49:59 <twb> Using openTempFile I'd have the extra file descriptor hanging around the whole time, even if I unlink the file from the filesystem.  Ugly, basically.
23:52:43 <dolio> Well, you could close it right away, I guess, but that's still ugly.
23:52:57 <bos> actually, to create a temporary file, you very much want the Handle.
23:53:04 <bos> creating a temporary directory is different.
23:53:36 <bos> if you create a temporary file and have a handle to it, you know that it's the file you created.
23:53:45 <bos> with a temporary directory, no such guarantee is possible.
23:56:30 <Korollary> "Librarians are hiding something." Lol
