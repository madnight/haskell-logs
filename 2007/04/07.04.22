00:01:37 <ivanm> LeCamarade: did you implement that function I was talking about?
00:01:42 <ivanm> ?localtime LeCamarade
00:02:14 <ivanm> @botsnack
00:02:15 <lambdabot> :)
00:02:21 <ivanm> OK, LB isn't down...
00:02:24 <ivanm> @localtime LeCamarade
00:02:29 <LeCamarade> ivanm: Yeah, I gave it a shot. I wasn't too sure what to aim for, but I tried. It was tough. Did you see the message I left you?
00:02:35 <ivanm> *nod*
00:02:39 <LeCamarade> @time ivanm
00:02:47 <ivanm> @uptime
00:02:47 <lambdabot> uptime: 4h 19m 45s, longest uptime: 9d 2h 23m 6s
00:02:58 <ivanm> hmmm..... maybe dons disabled localtime?
00:03:00 <ivanm> @help localtime
00:03:01 <sorear> LeCamarade is helping you too?
00:03:01 <lambdabot> time <user>. Print a user's local time. User's client must support ctcp pings.
00:03:05 <sorear> @localtime
00:03:07 <lambdabot> Local time for sorear is Sun Apr 22 00:01:42 2007
00:03:20 <LeCamarade> sorear: No, it was just a small challenge.
00:03:38 <ivanm> sorear: no, I just mentioned I function I managed to get working that I think Cale was helping me with, LeCamarade decided to try implementing it himself
00:03:45 <ivanm> @localtime
00:03:52 <sorear> ivanm, LeCamarade: ctcp works by sending /msg.  lambdabot is an unregistered user.  therefore you must have set unfiltered on
00:03:58 <ivanm> hmmm......
00:04:02 <ivanm> its worked before....
00:04:02 <sorear>  /mode ivanm +6
00:04:07 <sorear>  /umode +6
00:04:29 <sorear> ivanm: right.  dons knows the password.  i don't.  so I can't have lambdabot register.
00:04:38 <sorear> s/register/identify/
00:04:40 <ivanm> *nod*
00:04:56 <ivanm> LeCamarade: want me to hpaste the function?
00:05:12 <LeCamarade> ivanm: Yeah.
00:05:16 <ivanm> ?hpaste
00:05:17 <lambdabot> Haskell pastebin: http://hpaste.org/new
00:06:15 <LeCamarade> @tell Philippa After our discussion on types, I came to a pair of double-conclusions. I say: void * is the super-type of all C pointers, so all C pointer are one type, hence void * doesn't ... oh, we'll talk when we next bump into each other. Plus, System F is quite cryptic! :o(
00:06:16 <lambdabot> Consider it noted.
00:07:19 <merus> Are these systems with one-letter names related, or is it just a notation convention?
00:08:13 <hpaste>  ivanm pasted "weight generator" at http://hpaste.org/1515
00:09:15 <ivanm> LeCamarade: ^^
00:11:00 <LeCamarade> ivanm: Checking ...
00:11:04 <ivanm> the one thing I dn't like about that is tha generateWeights takes 4 variables... trying to reduce it to 3
00:13:00 <LeCamarade> ivanm: I was almost completely off-target. Like I said, I didn't even know what I had to do. :o( I spoilt the working code, but maybe I should hpaste what I have left...
00:13:21 * ivanm just managed to get rid of a variable!!! yay!!!
00:13:26 <ivanm> LeCamarade: go ahead!
00:14:13 <hpaste>  LeCamarade annotated "weight generator" with "My Own Crap. :o(" at http://hpaste.org/1515#a1
00:14:18 <LeCamarade> ivanm: ^^
00:15:01 <dfranke_> Ok, I've defined a new class PartOrd and declared 'instance (Ord a) => PartOrd a where ...'.  But that's only legal with -fglasgow-exts and -fallow-undecidable-instances.  Is there a Haskell98 alternative to this that doesn't require a custom prelude redefining Ord?
00:15:29 <ivanm> LeCamarade: it fails... non-exhaustive patterns in case or something :(
00:15:32 <LeCamarade> @tell Phillipa I think what you said really challenged my thinking of types, and I am starting to think types are all just an illusion. :o(
00:15:33 <lambdabot> Consider it noted.
00:15:50 <sjanssen> dfranke_: no way to do that in Haskell '98
00:16:26 <dfranke_> irritating.
00:16:55 <LeCamarade> ivanm: Yeah. That case in bringTo ... should have a _ case, where it cuts off the elements that are more than the number wanted, and then recurses.
00:17:05 <ivanm> *nod*
00:17:36 <sjanssen> dfranke_: overlapping instances are dangerous -- simply changing imports could change the meaning of your program
00:17:42 * LeCamarade is working from memory. The function nearly killed him. He is a bit starved, right now. He wants to go get himself a bite.
00:18:03 <ivanm> heh, go ahead
00:18:20 <dfranke_> sjanssen, I'm not overlapping them.
00:19:29 <sjanssen> dfranke_: but you (or a later client of your code) very well could
00:20:33 <dfranke_> sjanssen, I don't follow.  I haven't even set -fallow-overlapping-instances much less made use of them.
00:21:28 <sjanssen> dfranke_: ah, I see that now.  "instance (Ord a) => PartOrd a" is potentially overlapping, though
00:21:44 <sjanssen> maybe -fallow-undecidable-instances turns on overlapping instances too?
00:22:32 <dfranke_> sjanssen, no, it doesn't.  I accidentally tried to declare instance PartOrd IntSet, not realizing that it already defines Ord, and got an error.
00:22:33 <sjanssen> quick step to overlap: instance PartOrd Int
00:22:50 <sjanssen> ah, interesting
00:23:09 <int-e> As far as I understand the problem is that with another instance,  instance PartOrd a => Ord a where ... the type checker could get into a cycle. in more complicated but similar cases, termination of type checking becomes non-trivial to prove.
00:23:36 <dfranke_> int-e, right.  That's why I needed -fallow-undecidable-instances.
00:23:44 <int-e> undecidable-instances  just turn off the (safe, but too strong) checks that assure termination.
00:25:39 <LeCamarade> ivanm: The function is clearly wrong. And clueless about what it wants to do ... :o(
00:25:50 <ivanm> heh
00:25:56 <ivanm> do you get my code though?
00:26:54 <ivanm> s/get/[understand,comprehend,etc]
00:27:25 <hpaste>  LeCamarade pasted "wget(1)" at http://hpaste.org/1516
00:27:44 <LeCamarade> ivanm: Yeah.. Mostly. :oD
00:27:54 <LeCamarade> @users
00:27:54 <lambdabot> Maximum users seen in #haskell: 303, currently: 292 (96.4%), active: 27 (9.2%)
00:28:27 <fuzan> urgh. i'm stumped. i'm trying to read strings now from a serialized object, however, strings aren't supposed to have any sort of padding information in the protocol i'm using. hence, it reads incorrectly! i'm unsure how to modify get for a ByteString to get chars and stop on a null char. is this possible?
00:32:11 <sjanssen> sure, it's possible
00:33:25 <dons> re.
00:33:29 <dcoutts> @yarr!
00:33:29 <lambdabot> Har de har har!
00:33:31 <LeCamarade> fuzan: sjanssen seems to have a solution.
00:33:33 <dons> oh, sjanssen, i'm almost done with the website.
00:33:37 <dons> let me stick it in darcs and put it up.
00:33:49 * dcoutts is back from the 'blue' mountains, which are indeed blue.
00:34:01 <dons> dcoutts: how was it? didn't get rained out?
00:34:02 <ivanm> I don't recall them being blue...
00:34:16 <dcoutts> dons: nope, nice and sunny
00:34:25 <dcoutts> pured while I was on the train though ;-)
00:34:45 <ivanm> unless someone came along, painted them blue but then forgot to set up the "somebody else's problem" field ala hitchhikers guide to the galaxy :p
00:34:54 <fuzan> sjanssen: is modifying the get instance for a ByteString to span non-null ascii characters an ideal method? or am I wasting my time?
00:34:54 <sjanssen> dcoutts: fuzan wants to read C style strings ^^^ :)
00:35:04 <dcoutts> sjanssen: so I see :-)
00:35:20 <dcoutts> ivanm: well, the haze as you look out is quite blue, more so than most places
00:35:20 <sjanssen> fuzan: you don't want to (can't) modify the existing instance directly
00:35:29 <ivanm> dcoutts: haze as in smog?
00:35:31 <fuzan> sjanssen: I figured that much.
00:35:36 <ivanm> didn't realise sydanee was that bad... :p
00:35:37 <dcoutts> ivanm: hah, no
00:35:37 <sjanssen> fuzan: just write some function in the get monad that does what you need
00:35:56 <dcoutts> we should not be using the Binary class for tasks where you're trying to parse a binary format
00:36:08 <sjanssen> huh?
00:36:09 <dcoutts> that's not what it is for
00:36:13 <sjanssen> oh, Binary class
00:36:16 <sjanssen> I agree
00:36:22 <Cale> ivanm: what's divUp?
00:36:34 <fuzan> dcoutts: what should I be using than?
00:36:36 <dcoutts> we need to make this much clearer and provide combinators for parsing binary formats
00:36:47 <ivanm> Cale: well, 5 `div` 2 = 2, i.e. rounds down... I wanted to round up instead
00:36:50 <fuzan> dcoutts: well, it looks like there's that Builder
00:36:59 <fuzan> but i'm pretty sure the Builder uses the same get/put methods
00:37:00 <ivanm> so 5 `divUp` 2 = 3
00:37:04 <ivanm> did I forget to include that?
00:37:07 <ivanm> whoops...
00:37:26 <dcoutts> fuzan: the point is that the get/put do not impose any format on you, like Binary does.
00:37:30 <hpaste>  sjanssen pasted "get a sequence terminated by an element" at http://hpaste.org/1517
00:37:41 <sjanssen> fuzan: http://hpaste.org/1517
00:37:42 <hpaste>  ivanm annotated "weight generator" with "that's better..." at http://hpaste.org/1515#a2
00:37:46 <dcoutts> fuzan: the Get/Put modules and monads I mean.
00:37:48 <ivanm> Cale: ^^
00:38:04 <dcoutts> the Binary class is a layer on top for serialising Haskell values
00:38:13 <dcoutts> and uses it's own format
00:39:13 <Cale> Okay, there's only one difference between my code and yours then -- mine isn't allowing 0's.
00:39:25 <ivanm> in what way?
00:39:35 <sjanssen> dons: I like the logo
00:40:31 <fuzan> sjanssen: that's rather simple. I've been thinking that I have to peek ahead without consuming input, so I was hesitant to try this. on second thought, that works perfectly :)
00:41:08 <goban> http://secretgeek.net/lisp_truth.asp?dupe=with_honor
00:41:10 <lambdabot> Title: The Truth About Lisp
00:41:22 <Cale> ivanm: For example, weightGenerator 5 4 gives [1,1,1,1,0] as one of the results, whereas mine doesn't allow any parts which are 0, which should be reasonably fixable.
00:41:25 <fuzan> copy&paste in X makes me want to do very very bad things.
00:41:35 <ivanm> Cale: *nod*
00:41:38 <ivanm> goban: lol
00:41:46 <ivanm> now expand that to haskell!!!
00:42:11 <fuzan> anyone know if there's a Mx shortcut in emacs for the gtk-paste?
00:42:22 <hpaste>  Cale annotated "weight generator" with "partitions" at http://hpaste.org/1515#a3
00:44:59 <ivanm> Cale: interesting...
00:44:59 <Cale> If you want it to be exactly like yours, set partitions 0 k l = [replicate k 0]
00:44:59 <Cale> (but normally such things aren't allowed as partitions)
00:45:46 <Cale> oh, it also generates them in the reverse order
00:46:07 <sorear> oh wait.
00:46:16 <sorear> latin squares are ... square
00:46:21 * sorear simplifies his coee
00:46:42 <dons> sjanssen: ok, here's a mock up, http://www.cse.unsw.edu.au/~dons/code/xmonad-web/index.html
00:46:42 <lambdabot> Title: xmonad : a tiling window manager
00:47:30 * LeCamarade goes to check out the tiling window manager.
00:47:31 <dons> sjanssen: you can darcs get that from http://www.cse.unsw.edu.au/~dons/code/xmonad-web/
00:47:32 <lambdabot> Title: xmonad : a tiling window manager
00:47:54 <dons> i'd suggest, sjanssen, that we put the xmonad-web repo on xmonad.org, if we're able to darcs push onto that machine?
00:47:56 <Cale> sorear: Generating quasigroups? ;)
00:48:11 <dons> otherwise, we keep it in darcs, and use ftp or what have you, to sync onto xmonad.org
00:48:26 <sorear> I thought quasigroups were square too, just non-something-else
00:48:50 <dons> jcreigh: do you have your xinerama screen shot ( the recursive one... ?) handy?
00:48:52 <Cale> The multiplication table of a quasigroup is a Latin square.
00:48:59 <dons> sjanssen: also, do you have a preferred screen shot i can grab now?
00:49:06 * sorear is too tired to think, but erroneously feels competent to hack a specializing code generator.
00:49:13 <sorear> Cale: no, ivanm's project
00:49:20 <sjanssen> dons: I only have FTP access on xmonad.org
00:49:28 <sorear> enumerating a subclass of partial latin square
00:49:46 <Cale> hmm
00:49:57 <Cale> What is the project exactly?
00:50:00 <dons> sjanssen: ok. so then i think we can stick xmonad-web onto ~sjanssen, and you can use ftp to put the repo onto xmonad.org ?
00:50:12 <dons> what do you think of the web page?
00:50:15 <sjanssen> dons: http://cse.unl.edu/~sjanssen/xmonad-tiles.png
00:50:19 <sorear> Cale: http://users.tpg.com.au/kataryna/Report.pdf
00:51:36 <Cale> Partial Latin squares are permitted to have empty entries?
00:51:52 <ivanm> Cale: yup
00:52:09 <sjanssen> dons: looks good
00:52:09 <ivanm> latin squares are a subset of partial latin squares, with latin squares having no empties
00:53:10 <cpfr> hello
00:53:14 <ivanm> dons: my 2c worth, but in my brief usage of xmonad I found it hard to tell sometimes which tile was selected, especially when it contains a GTK app
00:53:21 <ivanm> don't know if thats configurable or not...
00:53:33 <dons> yes, i agree. in fact, the border width is hard coded currently (!)
00:54:14 <cpfr> hey how do i define types and type classes in ghci
00:54:26 <dons> sjanssen: ok. updated with that screenshot
00:54:32 <dons> now let me find jcreigh's nice 3 screen one
00:54:39 <ivanm> dons: *nod*... also, on a different note, is it possible to use xmonad within a DE such as KDE?
00:55:03 <ivanm> did jcreigh end up getting a recursive screenshot?
00:55:14 <sjanssen> ivanm: xmonad probably won't play nice with kicker
00:55:22 <ivanm> *nod*
00:55:46 <ivanm> because xmonad looks nice/cool... but I like having the plugins, etc on the panels with a summary of system info
00:55:50 <ivanm> as well as an actual menu!
00:56:36 <sjanssen> you could probably hack xmonad to play nice with those
00:56:52 <ivanm> heh, wouldn't know where to start
00:57:10 <ivanm> on that homepage mockup dons' has, whats that mosaic tiling plugin do?
00:57:34 <sorear> dons: isn't everything in xmonad hard coded?
00:57:56 <sjanssen> only two things to do:  convince xmonad to ignore the kicker window and modify the screen dimensions so windows don't overlap with the dock
00:57:58 <dons> there's a distinctoin between 'editable from Config.hs' and 'not editable from Config.hs'
00:58:01 <sjanssen> sorear: it's not even in Config.hs
01:00:14 <ivanm> on that homepage mockup dons' has, whats that mosaic tiling plugin do?
01:00:32 <sjanssen> ivanm: I haven't had the time to try it out yet
01:00:46 <cpfr> is there a way to define types and type classes in ghci
01:00:49 <ivanm> *nod*... but what is it meant to be? the link there is dead
01:00:56 <dons> it is?
01:01:17 <ivanm> yup
01:01:21 <sjanssen> ivanm: look for the post on the xmonad mailing list for some description
01:01:24 <dons> oh.
01:01:32 <ivanm> a "you don't have permission" error
01:01:37 <ivanm> sjanssen: OK
01:01:38 <sjanssen> I imagine David Roundy just has directory listing turned off
01:01:45 <dons> yes, i'll link to the ml post instead.
01:01:53 <ivanm> sjanssen: oh, yeah, didn't notice it was a darcs repo :s
01:02:02 <ivanm> thought it was a website detailing the extension
01:02:12 <ivanm> david roundy = author of darcs?
01:02:14 <fuzan> I honestly feel as if I write some of the shadiest haskell code whenever I run into a problem.
01:02:19 <sjanssen> ivanm: correct
01:02:29 <Cale> fuzan: oh?
01:02:49 <ivanm> how did he get his own lab named after him (or is that a joke), and how does he get to spend all his time working on haskell stuff when he's a physicist?
01:03:04 * sorear has a working specializing code generator for size-K latin square enumerators
01:03:05 <hpaste>  fuzan pasted "this makes me sad." at http://hpaste.org/1518
01:03:06 <int-e> ivanm: heh. (liftM2 map (:) subGenWeights) =<< weights  is giving me a headache. wouldn't  weights >>= \x -> liftM (x:) (subGenWeights x)  be easier to read?
01:03:35 <ivanm> int-e: quite possibly... I'm just so getting used to the right->left style ;-)
01:03:46 <sorear> fromIntegral (ord '\0') is just a long way of saying 0
01:03:47 <fuzan> sjanssen: i took your code and wrote a more specific instance. i'm under the impression that what i've written is a bit hackish. could this be simplified?
01:03:50 <Cale> fuzan: if x == 0
01:03:51 <ivanm> and originally I wanted to make it pointfree, but in the end I had to have the variables
01:04:10 <LeCamarade> The propaganda at xmonad.org can have more pro-Haskell effect than all the reddit rantings to-date. I swear. Just get this slashdotted, and have that line in there. That thing about the < 400 lines of code.
01:04:22 <ivanm> sorear: how good is it?
01:04:28 <sorear> Except, of course, that the assertion is false.
01:04:50 <sjanssen> s/400/500
01:04:50 <sorear> ivanm: all partial latin square of order 4 in 4.8 seconds, this time without bugs.
01:05:04 <ivanm> sorear: nice!!!
01:05:05 <dons> sjanssen: ok, with screenshots now, http://www.cse.unsw.edu.au/~dons/code/xmonad-web/index.html
01:05:06 <lambdabot> Title: xmonad : a tiling window manager
01:05:11 <sjanssen> The assertion was always < 500 lines of code.
01:05:37 <Cale> "Windows are managed using a automatic layout algorithms"
01:05:49 <dons> thanks
01:06:01 <sjanssen> We were always at war with Eurasia.
01:06:14 <ivanm> sorear: care to hpaste or mail it for my viewing pleasure?
01:06:22 <ivanm> oh, and how long does it take for order 5?
01:06:28 <fuzan> dons: you should load up the same screenshot you post in the screenshot :)
01:06:32 <dons> a couple of typos fixed.
01:06:45 <dons> fuzan, yeah. we've pondered the recursive-ness of it all
01:07:16 <ivanm> one thing that's making me wary of using xmonad is that I'm so used to fullscreen apps for many things... :s
01:07:27 <dons> that's what fullscreen mode is for
01:07:34 <sorear> ivanm: it's running order 5 now.
01:07:35 <ivanm> lol
01:07:39 <ivanm> k
01:07:47 <sorear> five minutes so far
01:07:53 <ivanm> sjanssen: how did you get firefox without menus, etc?
01:08:06 <ivanm> when I ran it I had fugly gtk menus, etc
01:08:07 <sjanssen> ivanm: an extension called vimperator
01:08:11 <sjanssen> @google vimperator
01:08:12 <lambdabot> http://vimperator.mozdev.net/
01:08:12 <lambdabot> Title: mozdev.org - vimperator: index
01:08:13 <ivanm> ahhh...
01:08:15 <dons> sjanssen: hey, should i tag and upload binaries to hackage.... ?
01:08:21 <sjanssen> highly recommended
01:08:34 * sorear has figured out how to write aptage, finally
01:08:38 <dons> sjanssen: also, any other things you think should be on the web page?
01:08:53 <ivanm> sorear: aptage?
01:09:02 <sorear> the apt-hackage gateway.
01:09:45 <ivanm> ahhh
01:09:59 <ivanm> sorear: whats the basis behind your enumerator?
01:10:15 <ivanm> and what's the specs of your box?
01:10:17 <sorear> ivanm: backtracking?
01:10:20 <LeCamarade> dons: (Sorry, but ...) Do you have RSS/Atom feeds for your blog? Can't see none.
01:10:25 <sorear> 2.004 ghz pentium 4
01:10:34 <dons> LeCamarade: yeah, check the link at the bottom that says 'RSS'
01:10:42 <ivanm> sorear: backtracking in what way? like what I have, monads, etc...
01:10:44 <fuzan> woah. vimperator is _sweet_
01:10:54 <ivanm> sorear: hmmm.... well, I've got a 1.6 GHz PM
01:11:01 <sorear> my algorithm runs in 35 bytes of L1, so i don't think memory speed matters :)
01:11:02 <LeCamarade> dons: Oh, yeah. Seen it.
01:11:03 <sjanssen> dons: tagged and pushed
01:11:25 <ivanm> the extra filtering on top of mine took about 5% of the run time, but overall my program took ~15 seconds for order 4
01:11:31 <ivanm> as stated in my paper ;-)
01:11:36 <sjanssen> dons: I wanted to delete the 0.1 related lines in the TODO.  An important symbolic gesture IMO :)
01:11:42 <dons> yes :-)
01:11:44 * ivanm looks for an emacs version of imperator
01:11:44 <sorear> wow, 15s for order 4.
01:11:52 <dons> sjanssen: you've tagged X11-extras?
01:11:57 <sorear> i'm suprised you got that close to naive c-speed
01:12:00 <sjanssen> I'll do that now
01:12:12 <ivanm> sorear: didn't you say it took yours 4.8 seconds?
01:12:16 <sorear> yes
01:12:38 <ivanm> so was that a "wow, that's fast" or "wow that's slow"? ;-)
01:12:52 <ivanm> "naive C speed"?
01:12:56 <sorear> 15s i'm calling fast.
01:13:00 <ivanm> *nod*
01:13:03 <sorear> > 17031570462 / 645
01:13:07 <lambdabot>  2.64055356e7
01:13:07 <ivanm> but not fast enough :(
01:13:18 <sjanssen> do I need to do anything special to make darcs --partial work?
01:13:26 <sorear> or rather, mine is still too slow.
01:13:36 <sorear> sjanssen: tag, then darcs optimize --checkpoint
01:13:40 <dons> yeah
01:13:41 <ivanm> with 4.8 seconds? thats less than half the speed of mine...
01:13:47 <ivanm> s/speed/time
01:13:57 <ivanm> as in more than twice as fast as mine
01:14:07 <sorear> well, i'm still not doing any canonization.
01:14:15 * sorear checks to see the diff that makes
01:14:28 <dons> sjanssen: do you have a web url you'd like me to link to in the authors section?
01:14:48 <sjanssen> dons: nah
01:15:09 <dons> do you want me to darcs dist and upload to hackage then?
01:15:18 <sjanssen> that'd be great
01:15:29 <dons> ping me when X11-extras is ready
01:15:36 <sjanssen> it's done
01:15:44 * dons grabs a cup of tea. back in 5 to finish the job.
01:15:58 <dons> can you darcs pull the xmonad-web repo, and see about getting it onto xmonad.org ?
01:16:05 <ivanm> sorear: I ended up spending about 2.5 weeks just on the enumeration part... and you did a quick thing with no canonization that outperforms mine!
01:16:06 <sjanssen> yep
01:16:14 <cpfr> > let data Day = Sun | Mon deriving (Eq, Ord); Sun>Mon
01:16:14 <lambdabot>  Parse error
01:16:17 * ivanm feels a mixture of jealousy, hurt and awe
01:16:22 <sorear> ivanm: so canonization *slows* yours down?
01:16:33 <ivanm> no... without it, its slower
01:16:39 <ivanm> as it produces too many spurious values
01:16:42 <ivanm> I think...
01:16:51 <ivanm> hmmm... that's an interesting concept...
01:17:07 <sorear> well, my code is c.  it's probably going to be pretty hard to extend to do what you want...
01:17:13 <ivanm> pretty sure the canoninization speeds it up by removing whole branches of the backtracking tree
01:17:20 <ivanm> sorear: ahhh... no wonder
01:17:23 <ivanm> *phew*
01:17:34 <ivanm> part of my thing was to prove haskell was a viable language for maths stuff
01:17:53 <sorear> well, i'm using haskell to generate C :)
01:17:53 <ivanm> since my supervisor hates scheme, and from that all functional languages
01:17:57 <ivanm> heh, nice
01:17:59 <ivanm> brb
01:19:26 * ivanm -> dinner
01:19:30 <ivanm> bbl
01:19:48 <cpfr> ivanm, has your supervisor seen gambc
01:20:09 <ivanm> don't believe so... not that much of a coder, AFAIK
01:20:14 <ivanm> but he did do dual CS/Maths
01:20:19 <ivanm> @google gambc
01:20:20 <lambdabot> http://packages.debian.org/unstable/devel/gambc
01:20:21 <lambdabot> Title: Debian -- gambc
01:20:27 <ivanm> @google gambc -debian
01:20:28 <lambdabot> http://aur.archlinux.org/packages/gambc/
01:20:29 <lambdabot> Title: Index of /packages/gambc
01:20:33 <ivanm> arrghhhh!!!!
01:20:56 <cpfr> http://www.iro.umontreal.ca/~gambit/
01:21:03 <cpfr> its a scheme that combines to C
01:21:52 <ivanm> ahhh....
01:22:02 <ivanm> AFAIK, he hates scheme mainly because he doesn't grok it :p
01:22:10 <ivanm> and its the new intro language for IT at my uni
01:22:12 <ivanm> anyway, dinner time
01:23:26 <cpfr> > let data type Day = Sun | Mon deriving (Eq, Ord); Sun>Mon
01:23:27 <lambdabot>  Parse error
01:23:31 <sjanssen> dons: new xmonad.org is live
01:23:46 <dons> cool. and its easy to sync too? all the images et al copied?
01:23:57 <dons> sweet. looks good.
01:24:08 <sjanssen> I did it manually this time
01:24:10 <dons> just doing hackage now, then update the urls on the web page.
01:24:10 <sorear> what the?
01:24:16 <sjanssen> I'll write a script next time
01:24:24 <sorear> hugs doesn't seem to have an instance of Bits for int.
01:24:31 <sjanssen> wha?
01:24:56 <sorear> er, no, that was a very hard to read ambiguity error.
01:24:58 <sjanssen> sorear: works for me
01:30:32 <sjanssen> dons: I forgot to bump the version in the .cabal
01:31:11 <sorear> we need automation!
01:31:24 <dons> sjanssen: for X11, yeah. that's ok.
01:31:31 <sjanssen> for both, actually
01:31:51 <dons> ok. feel free to tweak. (you'll have to anyway for hackage to work)
01:32:01 <dons> i just pushed a patch to the xmonad readme
01:32:08 <dons> X11-extras is up, http://hackage.haskell.org/cgi-bin/hackage-scripts/package/X11-extras-0.0
01:32:09 <lambdabot> http://tinyurl.com/2jqjph
01:32:36 <dons> sjanssen: you fixing xmonad.cabal?
01:32:36 <sjanssen> dons: I think I'll unpull the tag patch in both repos
01:32:40 <sjanssen> yeah, I am
01:32:52 <dons> don't touch X11-extrsa though. its on hackage now. so too late
01:32:55 <dons> 0.0 will have to do
01:33:18 <dons> well, we could bump the number only, but that's pointless)
01:35:39 * robreim is using xmonad but aching for some sort of panel with a clock and some way of distinguishing which window is focused.
01:35:49 <dcoutts> dons: sjanssen: web page looks nice
01:35:51 <sjanssen> dons: okay, pushed
01:36:11 <dcoutts> dons: sjanssen: the paragraph 'simple and flexible' repeats some stuff from the previous paragraph
01:36:12 <sjanssen> you'll need to unpull the last two patches or so
01:36:20 <dons> ok.
01:36:28 <dons> dcoutts: ok. i'll tweak it.
01:39:07 <dons> sjanssen: you undid my readme patch to point to hackage for X11-extras?
01:39:12 <dons> shall i repush that patch?
01:39:39 <sjanssen> dons: I didn't intentionally delete it
01:39:40 <ailndx> why have you made xmonad tiling?
01:39:43 <sjanssen> yeah, repush
01:39:59 <dons> ailndx: its always been tiling.
01:39:59 <sjanssen> ailndx: because I like it ;)
01:40:31 * ivanm <- dinner
01:40:37 <dons> sjanssen: argh, darcs failed:  There are conflicts in the following files:
01:40:37 <dons> ./README
01:40:46 <dons> can i get in there and clean up the repo?
01:40:51 <ivanm> sorear: so why do you have haskell generating C, rather than just haskell?
01:41:01 <ailndx> sjanssen: you could run windows 1.0 instead, looks similar
01:41:12 <ivanm> dons: why does xmonad need patching to make hackage happy?
01:41:12 <sorear> ivanm: right.
01:41:14 <dons> the undo must left an unreverted versoin of the patch i made
01:41:19 <dons> ivanm: nope.
01:41:30 <ivanm> sorear: I asked why, not do you ;-)
01:41:46 <dons> sjanssen: can i fix this? you're not touching the repo atm?
01:41:57 <ivanm> dons: <dons> ok. feel free to tweak. (you'll have to anyway for hackage to work)
01:42:14 <dons> ivanm: that was wrt. .cabal files with wrong version numbers
01:42:14 <ivanm> why do you need to teak it?
01:42:17 <sorear> ivanm: oh, because haskell inlining isn't good enough.  also we don't have the kind of Fun Specialization I want
01:42:25 <ivanm> ahhh, thought you meant dodgy installation or something
01:42:26 <dons> sjanssen: you there?
01:42:27 <sjanssen> dons: permissions should be fixed now
01:42:31 <ailndx> isnt it better to have the choice to overlap windows(saving space on the desktop)
01:42:32 <ivanm> sorear: *nod*
01:42:37 <dons> sjanssen: nope, the problem is:
01:42:38 <dons> dons@monk:/home/sjanssen/public_html/xmonad$ darcs whatsnew -s
01:42:38 <dons> M ./README -5 +3
01:42:45 <dons> let me revert that. and repush
01:42:58 <sorear> ivanm: i've hacked in a restiction that the first row and column must be in a partial normal form, that has order-4 back down to 50ms
01:43:07 <sjanssen> dons: okay, I won't touch anything
01:43:21 <dons> ok. reverted. pushing now.
01:43:45 <dmead> hey channel
01:43:55 <sorear> CPU Temp:  +64.0 C  (low  =   +10 C, high =   +60 C)   ALARM
01:43:58 <sorear> hey dmead
01:44:05 <dmead> wheres the good monad tutorial again?
01:44:16 <dmead> "the"
01:44:27 <sorear> my latin square generator is doing better than cpuburn! :)
01:46:09 <sorear> ailndx: it's too many choices
01:46:28 <sorear> ailndx: tiling wm's are very simple and quick to operate because they use little input
01:46:46 <dons> you tend to overlap by moving windows to other workspaces too
01:46:59 <dons> so at any given time only those windows you need are on the screen
01:47:17 <ailndx> sorear: yeah and resulting with restricted useability
01:47:26 <dons> sjanssen: i just have to repull. my repo got out of sync with the undoing around the tag
01:47:41 <dons> ailndx: that's right.
01:47:41 <sorear> it's a trade-off.  i like tiling better.  some don't.
01:48:04 <dons> certain restrictions are made to improve productivity (greatly) for a particular use case
01:48:24 <dons> and we can be quite uncompromising in that respect :-0
01:48:28 <sjanssen> a question: why do your windows contain information that you do not need to see?
01:48:42 <ailndx> dons: how would it do that? you can arrange the windows like that even with an overlapped environment
01:49:07 <dons> the point is to do it automatically, and quickly, without needing user input.
01:49:10 <merus> sjanssen: A window under my IRC client has an e-mail from my lawyer :/
01:49:24 <dons> ailndx: i guess you just have to use a tiling wm for a while to "get" it
01:49:30 <merus> oh, you said need, not want. lol
01:49:34 <dons> in particular, it helps if you use mostly console stuff
01:50:22 <ailndx> dons: ive just dont see the useage of it.. looks more like something from the 80's when they werent able to do anything else
01:50:37 <dons> you're missing the point :-)
01:50:43 <int-e> ailndx: kill all mice
01:50:43 <dons> its about optimising for productivity.
01:50:44 <sorear> ivanm: you said your canonicality conditions were imperfect - won't that ruin your counts, or are you only interested in the existential?
01:50:58 <ailndx> dons: productivity of what?
01:51:08 <xs> the Produce, Comrade.
01:51:08 <dons> in particular, user of console-based programs.
01:51:13 <sorear> duh, window shuffling! ;)
01:51:22 <dons> and yes, window shuffling of a particular kind.
01:51:29 <sjanssen> ailndx: overlapping makes you think about your windows
01:51:32 <ailndx> how would it to that, you can put the windows in a tiling manner even with overlapped windows if you want to
01:51:41 <sorear> > (5*1440) / 300
01:51:43 <sjanssen> in a nice tiling WM, you don't think about that
01:51:46 <lambdabot>  24.0
01:51:46 <dons> the point is to not do it manually.
01:52:41 <ailndx> dons: well i see your point, but it isnt like it take any significant time to arrange a few windows
01:52:57 <sjanssen> ailndx: you'd be surprised
01:53:01 <therp> switching to ion greatly improved my productivity. occasionally I get lost in the number of windows I'm now able to manage, but maybe a regexp search on window titles might help
01:53:07 <dons> no. it does. the system feels dramatically more responsive, and you don't need a mouse.
01:53:11 <therp> ah yes, ion=tiling wm
01:53:14 <ailndx> sjanssen: no i wouldnt
01:53:16 <dons> yes, like ion.
01:53:30 <dons> ailndx: ah well, if you're not prepared to consider the alternative, what's the point?
01:53:52 <ailndx> dons: point of what?
01:54:08 <therp> of arguing
01:54:36 <dons> tiling managers certainly aren't for everyone.
01:55:02 <ailndx> they must be for people who live in a console environment or something
01:55:10 <ailndx> who havent evolved more :)
01:55:13 <dons> well, textual/xterms.
01:55:20 <sjanssen> I use plenty of graphical applications
01:55:31 <sjanssen> hey, I use gaim for an IRC client!
01:56:00 <dons> sjanssen: having some trouble here,
01:56:01 <dons> darcs failed:  Error applying patch to recorded!
01:56:01 <dons> Running 'darcs repair' on the target repository may help.
01:56:09 <sjanssen> hmm
01:56:11 <dons> it seems to be fine though, the remote repo.
01:56:27 <araujo> hello
01:56:31 <dons> possibly its permissions?
01:56:35 <sjanssen> unpulling a tag patch might be a bit shady
01:56:45 <dons> yes.
01:57:11 <sjanssen> unpulling a tag that I've checkpointed is probably worse
01:57:13 <dons> sjanssen: can you darcs pull xmonad to xmonad-0, then move xmonad-0 into place?
01:57:15 <ivanm> sorear: I think I know how to fix the canonicalising criteria... but otherwise, I'd prefer to have duplicates than to miss some
01:57:19 <dons> oh definitely.
01:57:24 <ivanm> more interested if it exists
01:57:54 <dons> sjanssen: and move the broken xmonad/ dir out of the way
02:00:03 <sorear> ok, my order-5 has gone for 30 minutes now...
02:00:21 <sorear> 68C
02:01:03 <ivanm> so how ugly is your haskell code?
02:01:13 * ivanm is interested in how you get haskell to generate C
02:01:19 <sjanssen> dons: done
02:01:28 <dons> sjanssen: ok. trying again.
02:02:42 <dons> sjanssen: hmm.
02:02:55 <dons> let me try pulling again.
02:02:57 <Heffalump> ivanm: generate a syntax tree, then pretty-print that?
02:03:02 <dons> yes, that would be the problem
02:03:18 <sorear> heh. right now it's just fancy macro code, with pattern matching
02:03:25 <Heffalump> or (ick) stick together strings of text, like the code I'm working on at work does :-(
02:03:47 <sorear> http://members.cox.net/stefanor/Gencode.hs
02:03:53 <ivanm> Heffalump: I don't really know C...
02:03:53 <dcoutts> Heffalump: noooo!
02:04:11 <ivanm> Heffalump: and not sure how sorear is automatically generating it to solve a problem
02:05:01 <Heffalump> dcoutts: it's mainly due to its history. Originally it was some XSLT.
02:05:01 <dons> sjanssen: assuming my repo is going to work this time, can you resync the web page?
02:05:07 * sorear is very tired and ought to sleep... but it's been going for 30 minutes, surely it will finish soon! :)
02:05:13 <sjanssen> dons: yep
02:05:17 <dons> sjanssen: i fixed a couple of things, and its pointing to the (expected) xmonad url for downloading
02:05:36 <ivanm> sorear: thought it was smarter than that :(
02:05:36 <Heffalump> sorear: what's it doing?
02:05:40 <ivanm> sorear: hah! yeah right!
02:05:46 <ivanm> but boy is your code fugly!
02:05:49 <dcoutts> Heffalump: I've had things like that, retrofiting it with a proper ast took a while but the result is much nicer, not entirely sure it was worth the effort
02:05:52 <sorear> :)
02:05:57 <ivanm> Heffalump: he's generating partial latin squares
02:06:07 <dcoutts> Heffalump: I guess it depends oh annoying it is at the moment :-)
02:06:14 <ivanm> trying to beat my program by spending less than half an hour coding it :@
02:06:17 <ivanm> ;-)
02:06:19 <dcoutts> or if it's getting the way of features / maintainace
02:06:47 <sorear> well, i'm assuming the relation is linear:
02:06:56 <ivanm> nope... super-exponential!
02:06:56 <dcoutts> sorear: that's pretty ugly generation code there :-)
02:07:05 <ivanm> its an O(n^(n^2)) problem!
02:07:26 <sorear> > 15 / 0.05 -- seconds to solve order 4
02:07:30 <lambdabot>  300.0
02:07:36 <Heffalump> what are you going to do with these partial latin squares? And how do you define partial? Internally self-consistent or definitely a subset of a real square?
02:07:48 <sorear> > (5*1440) / 38 -- minutes to solve order 5
02:07:50 <lambdabot>  189.47368421052633
02:07:53 <ivanm> Heffalump: partial means it can have gaps...
02:08:04 <dons> sjanssen: ok. still broken. sigh.
02:08:10 <sorear> so, i've already spent more than 50% more than the expected amount of time ;)
02:08:14 <dons> what to do, what to do. hmm.
02:08:15 <ivanm> its partial as long as each value appears no more than once in each row/column
02:08:29 <sorear> i've also spent the last 20 minutes with my cpu temp alarm active
02:08:30 <sjanssen> dons: how does it fail?
02:08:36 <dons> darcs failed:  Error applying patch to recorded!
02:08:37 <dons> Running 'darcs repair' on the target repository may help.
02:08:41 <sorear> CPU Temp:  +68.0 C  (low  =   +10 C, high =   +60 C)   ALARM
02:08:46 <ivanm> sorear: as I said, its super-exponential... mine went from 15 seconds to 5 days!
02:08:56 <int-e> ivanm: so  [[-,1,2],[-,1,2],[3,-,-]] is a partial latin square?
02:08:59 <int-e> ivanm: err
02:09:00 <dons> i'm able to pull and push fine from my local repo though.
02:09:03 <Heffalump> ivanm: ok.
02:09:04 <ivanm> 300 s for order 4? I thought you said 4.8 s?
02:09:07 <int-e> ivanm: s/1,2/2,1/
02:09:15 <ivanm> int-e: yup
02:09:20 <Heffalump> ivanm: you could define it as "take a real latin square and remove some elements", that's all.
02:09:22 <ivanm> if you're switching just one of them
02:09:23 <sorear> ivanm: oh, no, lb is reporting rations
02:09:31 <int-e> ivanm: yes, that's what I meant
02:09:33 <sjanssen> dons: I just ran a darcs repair (it fixed one problem with wrong file lengths)
02:09:34 <ivanm> Heffalump: not quite... theres non-completeable partials as well
02:09:36 <sorear> Heffalump: not quite, you can have uncompletable pls
02:09:52 <Heffalump> ok.
02:09:55 <ivanm> e.g. [[1,2-],[2,1,-],[-,-,-]]
02:09:59 <dons> sjanssen: ok. trying again. otherwise we can get from my version of the repo
02:10:03 <ivanm> ^^ can't complete it!!!
02:10:10 <Heffalump> I'm not sure I ever saw that definition when I did some research on critical sets some time ago.
02:10:12 <ivanm> that's actually one of the ones I'm wanting to produce
02:10:27 <int-e> oh, actually. [[1,-],[-,2]] is the simplest example.
02:10:38 <dons> sjanssen: ok. now i get a 'conflicts' error
02:10:41 <dons> that's a bit better
02:10:45 <dons> There are conflicts in the following files:
02:10:45 <dons> ./README
02:10:45 <dons> efusing to apply patches leading to conflicts.
02:10:55 <ivanm> int-e: the simplest example is just [[-]] ;-)
02:11:01 <ivanm> or the null square: []
02:11:01 <dons> sjanssen: anything 'whatsnew' in that repo?
02:11:04 <ivanm> :D
02:11:04 <int-e> ivanm: no, that's completable
02:11:08 <sorear> ivanm: [[-]] can be completed
02:11:14 <ivanm> oh, you mean non-completeable?
02:11:20 <ivanm> I thought you meant simplest partial
02:11:29 <sjanssen> dons: yes, a couple things in the README
02:11:36 <sjanssen> shall I revert?
02:11:40 <dons> yes.
02:11:43 <dons> then 'darcs check'
02:11:44 <sorear> ah, well, I give up for tonight.
02:11:51 <ivanm> sorear: heh
02:11:54 <sorear> intr: 79160092211
02:11:54 <sorear> real    42m34.129s
02:12:04 <sorear> that's the total number generated
02:12:10 <ivanm> it did say 180 minutes...
02:12:35 <sorear> where?
02:12:46 <sorear> i thought it was 7000 minutes :)
02:13:09 <therp> is there some way to dump the content of a ghc .hi file?
02:13:11 <sjanssen> dons: the line count test is failing, could this be causing a problem?
02:13:37 <sorear> ghc --show-iface hi-file
02:13:39 <dons> ah yes quite possibly.
02:13:47 <therp> thank you sorear
02:14:06 <sorear> good night all, bye.
02:14:11 <dons> sjanssen: can we disable that? darcs setpref something something
02:14:24 <dmead> what is the unit for the IO monad
02:14:27 <dmead> and what is the join?
02:14:28 <dons> its failing to build, is it?
02:14:33 <dmead> (trying to learn monads)
02:14:45 <sorear> unit is return, join is join - they don't have names
02:14:46 <dons> yes, that's a bit annoying, that it tries to run the loc test on the remote end of an 'apply'
02:14:53 <sorear> @src IO return
02:14:53 <lambdabot> return x    = returnIO x
02:14:58 <sorear> @src returnIO
02:14:59 <lambdabot> Source not found. BOB says:  You seem to have forgotten your passwd, enter another!
02:15:09 <dmead> hmm
02:15:12 <sorear> returnIO x = IO (\s -> (# s, x #) )
02:15:38 <sjanssen> dons: I fixed it
02:16:09 <sorear> @typle \ (GHC.IOBase.IO x) -> GHC.IOBase.IO (\s -> case x s of (# s', GHC.IOBase.IO x' #) -> x' s' )
02:16:13 <lambdabot> forall t. IO (IO t) -> IO t
02:16:14 <sjanssen> d.h.o has GHC 6.4 which doesn't have the automatic executable naming like 6.6
02:16:19 <sorear> and that's join.
02:16:20 <dons> ah yes.
02:16:23 <dmead> can you say something about the unit and join of a single object?
02:16:24 <dons> trying again then.
02:17:02 <dons> sjanssen: no. still a nasty error.
02:17:16 <sjanssen> grr
02:17:19 <dons> sjanssen: i'd like you to try pulling from my repo. setting that up as xmonad-1
02:17:36 <dons> darcs get http://www.cse.unsw.edu.au/~dons/code/xmonad
02:17:37 <lambdabot> Title: Index of /~dons/code/xmonad
02:18:09 <dmead> > join [1..10]
02:18:10 <lambdabot>   add an instance declaration for (Num [a])
02:18:10 <lambdabot>     In the expression: 10
02:18:28 <dmead> > let x = join [1..10] in x
02:18:29 <lambdabot>   add an instance declaration for (Num [a])
02:18:30 <lambdabot>     In the expression: 1
02:18:32 <dmead> lkhlkjgahrf
02:18:35 <dons> so then remove the current xmonad/ dir and move the one you pull from my machine over to xmonad/
02:18:39 <int-e> dmead: what did you expect that to do?
02:18:45 <dmead> int-e: not sure
02:18:52 <dmead> evaluate to a different list?
02:19:04 <int-e> dmead: join (in the list monad) takes a list of lists
02:19:12 <int-e> dmead: and concatenates them.
02:19:25 <int-e> i.e. join = concat (for the list monad)
02:19:32 <dmead> ie joins all the lists
02:19:40 <dmead> hmm
02:19:57 <dmead> > let x = join 1 in x
02:19:58 <int-e> and numbers aren't lists - that what the error said.
02:19:58 <lambdabot>   add an instance declaration for (Show (m a))
02:20:04 <int-e> (in a roundabout way)
02:20:13 <dmead> ah
02:20:25 <dmead> > let x = join [[1],[2]] in x
02:20:27 <lambdabot>  [1,2]
02:21:47 <merus> ?src join
02:21:48 <lambdabot> join x =  x >>= id
02:21:48 <dmead> > unit 1
02:21:49 <lambdabot>   Not in scope: `unit'
02:21:58 <sjanssen> dons: done
02:22:03 <int-e> @where X11-extra
02:22:03 <lambdabot> I know nothing about x11-extra.
02:22:04 <int-e> @where X11-extras
02:22:04 <lambdabot> I know nothing about x11-extras.
02:22:13 <dmead> > return 1
02:22:14 <sjanssen> dons: wait, I need ot fix permissions
02:22:14 <lambdabot>   add an instance declaration for (Show (m t))
02:22:18 <dmead> :<
02:22:35 <dons> ok.
02:22:41 <sjanssen> dons: actually done
02:22:41 <dmead> why didn't lambdabot give [1]?
02:22:53 <merus> > return 1 :: [Int]
02:22:53 <dmead> > return 1
02:22:54 <lambdabot>   add an instance declaration for (Show (m t))
02:22:55 <lambdabot>  [1]
02:23:17 <dons> ok. we're back in sync. let's hope things stay that way.
02:23:25 <dons> i'll upload to hackage now.
02:23:37 <dmead> weird
02:24:41 <int-e> dmead: it didn't know which monad you want. (there is a defaulting mechanism for the Num class, otherwise even  > 1  would fail)
02:24:50 <sjanssen> dmead: 'return' works in any monad -- lambdabot needs you to pick one in order to print the result
02:25:07 <dons> ok. about to upload...
02:25:07 <dmead> ah
02:25:33 <dons> "Package xmonad-0.1 added to the database."
02:25:35 <dons> woot.
02:25:45 <dons> http://hackage.haskell.org/cgi-bin/hackage-scripts/package/xmonad-0.1
02:25:47 <lambdabot> http://tinyurl.com/24rsye
02:25:47 <dmead> yea i'm still waiting for the big surprise where this all relates to IO :)
02:26:03 <sjanssen> yay!
02:26:14 <dons> ok. now i'll double check xmonad.org
02:26:39 <dons> sjanssen: and feel free to download and build from hackage.
02:26:45 <dons> make sure that path works :-)
02:27:04 <int-e> dmead: monads allow you to sequence operations. IO is a monad, so you can sequence IO operations.
02:27:18 <int-e> dmead: except for return, the actual operations differ from monad to monad.
02:27:26 <dmead> ah
02:27:36 <dmead> but how does that protect function purity?
02:27:52 <int-e> dmead: and 'sequence' doesn't mean they're necessarily executed in sequence, it's more that you can write them down as a sequence.
02:28:05 <dmead> right right
02:28:43 <dmead> > id 1
02:28:44 <int-e> dmead: IO and ST (and STM I guess?) aren't very pure. the other monads generally are.
02:28:45 <lambdabot>  1
02:29:02 <dmead> oh
02:29:07 <dons> ah, there's a typo in the 'Downlaod' link
02:29:12 <int-e> dmead: IO does a good job of encapsulating its impurity though so that using the monad is possible with pure code.
02:30:38 <sjanssen> s/possible/impossible
02:31:33 <dons> sjanssen: can you resync xmonad.org ?
02:31:37 <dons> fixed two typos
02:32:05 <int-e> sjanssen: oh. I think we disagree on what 'using' means :)
02:32:34 <int-e> sjanssen: or maybe on the notion of purity. main is a pure function in that context.
02:32:34 <dons> time to draft an announce message .
02:33:29 <int-e> a pure function that returns an IO action, which then gets executed by the RTS, which is all hidden.
02:33:59 <dmead> RTS?
02:34:04 <int-e> run time system
02:35:52 <int-e> The RTS provides garbage collection, manages threads and also makes IO work. And probably does a few other things I forgot.
02:36:58 <dmead> ahh
02:36:59 <dmead> right
02:37:02 <dons> sjanssen: one last typo fixed to index.html
02:37:08 <dons> sjanssen: i'm just writing the announce now.
02:37:08 <dmead> you cant' actually do io in haskell right?
02:37:26 <int-e> not without a little help from outside. right.
02:37:30 <dmead> it's all request to the ghci runtime stuff
02:37:31 <dmead> ah
02:37:43 <dmead> ghci/ghci
02:37:45 <dmead> err
02:37:47 <dmead> *ghc
02:38:39 <dons> sjanssen: you still awake ? :-)
02:38:53 <sjanssen> dons: yep
02:38:59 <dons> here's the announce, http://www.cse.unsw.edu.au/~dons/tmp/announce.txt
02:39:06 <dons> wnat to send it out to haskell-cafe@ and xmonad@ ?
02:39:13 <dons> presuming the web site is done?
02:39:46 <ivanm> and HWN presumably?
02:39:58 <dons> it will be in hwn, of course.
02:40:21 <ivanm> did you write it in plain haskell or literate haskell?
02:40:25 <ivanm> just out of curiosity
02:40:32 <dons> plain haskell, with haddocks
02:40:37 <dmead> > fmap join [[1..5] , [6..10], [11..15] , [16...20]]
02:40:40 <lambdabot>   Not in scope: `...'
02:40:45 <dmead> > fmap join [[1..5] , [6..10], [11..15] , [16..20]]
02:40:46 <lambdabot>   add an instance declaration for (Num [a])
02:40:47 <lambdabot>     In the expression: 20
02:40:47 <lambdabot>     In ...
02:40:59 <dmead> uhh
02:41:26 <dmead> > fmap join [[1..5] , [6..10], [11..15] , [16..20]] :: [[Int]]
02:41:27 <lambdabot>   add an instance declaration for (Num [Int])
02:41:28 <lambdabot>     In the expression: 20
02:41:28 <lambdabot>     I...
02:41:33 <dmead> :<
02:41:49 <sjanssen> dons: any last minute changes before I send it?
02:42:01 <dons> i think we're good to go!
02:42:22 <dmead> > join [[1..5] , [6..10], [11..15] , [16..20]]
02:42:25 <lambdabot>  [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]
02:42:51 <dmead> > join [[[1..5]] , [[6..10]], [[11..15]] , [[16..20]]]
02:42:54 <lambdabot>  [[1,2,3,4,5],[6,7,8,9,10],[11,12,13,14,15],[16,17,18,19,20]]
02:42:59 <dmead> > fmap join [[[1..5]] , [[6..10]], [[11..15]] , [[16..20]]]
02:43:02 <lambdabot>  [[1,2,3,4,5],[6,7,8,9,10],[11,12,13,14,15],[16,17,18,19,20]]
02:43:18 <dons> i'm now running xmonad 0.1 straight from hackage
02:43:54 <dmead> > fmap join [[1..5] , [6..10], [11..15] , [16..20]]
02:43:56 <lambdabot>   add an instance declaration for (Num [a])
02:43:56 <lambdabot>     In the expression: 20
02:43:56 <lambdabot>     In ...
02:44:00 <dmead> i don't get it
02:44:08 <dmead> why doesn't it just concast everything =/
02:44:42 <dmead> > show (fmap join [[1..5] , [6..10], [11..15] , [16..20]])
02:44:43 <sjanssen> dons: the email is off
02:44:44 <lambdabot>   add an instance declaration for (Num [a])
02:44:44 <lambdabot>     In the expression: 20
02:44:44 <lambdabot>     In ...
02:44:46 <dcoutts> @type join
02:44:48 <int-e> @type fmap join
02:44:50 <lambdabot> forall (m :: * -> *) a. (Monad m) => m (m a) -> m a
02:44:53 <lambdabot> forall (m :: * -> *) a (f :: * -> *). (Monad m, Functor f) => f (m (m a)) -> f (m a)
02:44:56 <dons> woot!
02:44:57 <dons> "N   Spencer Janssen      [Haskell-cafe] ANNOUNCE: xmonad 0.1
02:44:58 <dons> "
02:44:58 <sjanssen> dons: thanks for the release work
02:45:01 <sjanssen> dons++
02:45:05 <dons> sjanssen++
02:45:08 <dons> xmonad++
02:45:12 <dcoutts> > join [[1..5] , [6..10], [11..15] , [16..20]]
02:45:14 <lambdabot>  [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]
02:45:18 <dons> now *that* is how you do an open source project.
02:45:20 <dcoutts> dons, sjanssen: good work :-)
02:45:40 <dons> yay
02:45:50 <int-e> > fmap join [[[1..2],[3..4]],[[6..7],[4..5]]]
02:45:52 <lambdabot>  [[1,2,3,4],[6,7,4,5]]
02:46:00 <dcoutts> could perhaps have sent it to the haskell list rather than haskell-cafe
02:46:13 <dcoutts> that's quite commong for release announcements
02:46:22 <dons> ah well, more people see things on -cafe these days ;)
02:46:35 <dons> sjanssen: but yeah, you could fwd it over to haskell@ too
02:46:37 <dons> can't hurt.
02:46:50 <dmead> > fmap join [[ [1..5], []] , [[6..9] ,[[10]], [[11..15], []] , [[16..18] , [20]]]
02:46:51 <lambdabot>  Parse error
02:47:03 <dcoutts> I thought -cafe was mostly a subset of the people subscribed to the main list
02:47:10 <dcoutts> the chatty subset
02:47:22 <dons> i know quite a few people who are only on -cafe
02:47:32 <dons> newbies, undergrads and the like
02:47:40 <dons> sjanssen: you sent to xmonad@ too?
02:47:41 <dmead> > fmap join [[ [1..5], []] , [[6..9] ,[10]], [[11..15], []] , [[16..18] , [20]]]
02:47:43 <lambdabot>  [[1,2,3,4,5],[6,7,8,9,10],[11,12,13,14,15],[16,17,18,20]]
02:47:46 <dmead> ahh
02:47:48 <int-e> dons: can you let sorear's lambdabot identify to nickserv?
02:47:56 <dmead> > join fmap join [[ [1..5], []] , [[6..9] ,[10]], [[11..15], []] , [[16..18] , [20]]]
02:47:57 <lambdabot>      Occurs check: cannot construct the infinite type: a = m a
02:47:57 <lambdabot>       Expected...
02:48:05 <dmead> > join (fmap join [[ [1..5], []] , [[6..9] ,[10]], [[11..15], []] , [[16..18] , [20]]])
02:48:07 <lambdabot>  [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,20]
02:48:07 <dons> int-e: urgh.
02:48:38 <dons> int-e: how's that?
02:48:50 <dons> cool. all messages arrived.
02:49:02 <dons> so who wants an instance 100 reddit karma points for submitting the release announcement :-)
02:49:10 <dons> ss/instance/instant/
02:49:11 <int-e> dons: @msg nickserv identify <passwd>  should do it.
02:49:31 <dons> int-e: how's that?
02:49:35 * ivanm isn't on reddit, so he's out
02:49:45 <dons> (i can't see the feedback from the server)
02:50:11 <sjanssen> dons: what will get us more reddit juice, the ML announce or xmonad.org?
02:50:28 <dons> i don't think we can submit xmonad.org, since it got linked to previously
02:50:30 <robreim> Hey great, xmonad highlights focused windows now :)
02:50:39 <dons> so perhaps, let me find the url..
02:50:54 <int-e> dons: hmm. still not identified. (see /whois lambdabot)
02:51:11 <dons> int-e: try that?
02:51:14 <robreim> How do I run xmonad's quickcheck tests?
02:51:23 <dons> http://article.gmane.org/gmane.comp.lang.haskell.general/15131
02:51:24 <lambdabot> Title: Gmane -- Mail To News And Back Again
02:51:27 <int-e> dons: ah. it's good now. :)
02:51:48 <dons> robreim: $ ghc --make tests/Properties.hs; tests/Properties
02:52:15 <int-e> dons: thanks
02:52:28 <dons> so if someone wants to submit that to reddit ^^ ( i'd prefer not to do it )
02:52:37 <robreim> Ah, there it goes. Thanks.
02:52:55 <dons> they all pass, i hope? :-)
02:53:12 <dons> hey, xmonad.org looks pretty cool
02:53:29 <sjanssen> http://programming.reddit.com/info/1jxvw/comments
02:53:29 <lambdabot> Title: xmonad 0.1: a tiling window manager (reddit.com)
02:53:48 <dons> sweet.
02:54:11 <ivanm> dons: trying to rebuild xmonad using the ebuild in the gentoo overlay, and it complains "Operations.hs:149:26: Not in scope: `wa_border_width'"
02:54:15 <ivanm> where is that function from?
02:54:30 <ivanm> forget it, sjanssen told me
02:54:58 <dons> ivanm: i'd imagine you've got an out of date X11-extras?
02:55:10 <ivanm> yeah, that's what sjanssen just said
03:08:13 <dons> yay. good work everyone. time for dinner.
03:08:13 <ivanm> heh
03:08:13 <ivanm> 8 PM is dinnertime?
03:08:13 <dons> sounds reasonable.
03:08:13 * ivanm normally has it around 6ish
03:08:13 <whaleofconfusion> can type inference be used to infer things about a computation other than types?
03:08:13 <whaleofconfusion> this is just a guess, but are there characteristics of computations that are sufficiently "type-like" to succumb to type inference?
03:08:13 <whaleofconfusion> without actually being types
03:08:13 <ivanm> well, I've heard one argument that if you have some polymorphic function a -> a, then you can almost guarantee that a is a Boolean (or can be used as a boolean)
03:08:13 <ivanm> see http://www.itee.uq.edu.au/~paul
03:08:13 <lambdabot> Title: Paul Bailes
03:08:13 <ivanm> especially his totally functional programming stuff
03:08:13 <ivanm> that reminds me...
03:08:13 <ivanm> Paul Bailes (site just above) is going to mentor me for a special topics in computer science course...
03:08:13 <whaleofconfusion> for instance is type inference used to perform other compiler optimizations?
03:08:13 <mariano> a newbie question
03:08:13 <ivanm> I'm wanting to do a real CS-y style haskell project to make up for my lack of CS education ;-)
03:08:13 <ivanm> any ideas?
03:08:13 <mariano> how i "cast" from Char to String
03:08:13 <ivanm> whaleofconfusion: doubt it...
03:08:13 <ivanm> show ?
03:08:13 <ivanm> > show 'a'
03:08:13 <lambdabot>  "'a'"
03:08:13 <sjanssen> @type \x -> [x]
03:08:13 <lambdabot> forall t. t -> [t]
03:08:13 <ivanm> maybe not...
03:08:13 <sjanssen> mariano: ^^^
03:08:13 <mariano> yes but it show the resulting string between ''
03:08:13 <LeCamarade> mariano: or 'a':[]
03:08:13 <LeCamarade> > 'a':[]
03:08:13 <sili> ivanm: write a lisp
03:08:13 <mariano> ok
03:08:13 <lambdabot>  "a"
03:08:13 <ivanm> sili: in Haskell?
03:08:13 <sili> yes
03:08:13 <ivanm> isn't that what scheme in 24 hours or whatever is about?
03:08:13 <ivanm> this is meant to last me a semester...
03:08:13 <LeCamarade> ivanm: Yeah. A language much like Haskell. Not a Lisp. Too simple.
03:08:13 <sili> what's wrong with simple?
03:08:13 * sili mutters stuff
03:08:13 <LeCamarade> ivanm: With type-inference and stuff. [Aside: I don't have a CS thingy, either.]
03:08:21 <ivanm> Paul Bailes has suggested I have a look at clean's typing system and see how that works into his totally functional programming proposal...
03:08:26 <LeCamarade> sili: Well ... he probably wants something more-intimidating. ;o)
03:08:29 <mariano> done, thanks
03:08:33 <ivanm> sili: I want to do something interesting...
03:08:34 <saizan_> ivanm: write a library for haskell!
03:08:44 <sili> ivanm: write haskell
03:08:44 <ivanm> saizan_: any ideas? what kind?
03:08:47 <ivanm> heh
03:08:54 <ivanm> don't want it _that_ hard!
03:09:04 <bwerf> gna i'm thinking an imperative scripting language interpreter in haskell
03:09:14 <saizan_> mmh, you can search on the SoC trac :)
03:09:41 <sili> ivanm: it can be an interpreted haskell
03:09:41 <sili> haskell scripty-fu
03:09:51 <LeCamarade> whaleofconfusion: I think type-inference is for types only ...
03:10:07 <ivanm> hmmmm.....
03:10:07 <ivanm> @where SoC
03:10:07 <lambdabot> http://hackage.haskell.org/trac/summer-of-code/
03:10:07 <LeCamarade> ivanm: Write a Haskell-based scripting language.
03:10:25 <ivanm> I want to do something theoretical rather than necessarily practical...
03:11:07 <LeCamarade> Hmm ... that's where I get dropped. I loathe the theoretical rather severely. Explains why I'd never get CS papers.
03:11:25 <pcmao> hi, i've got some problem with my monadic-parsing library: http://hpaste.org/1519
03:11:28 <LeCamarade> ivanm, okay ...
03:11:38 <LeCamarade> @google henry masali
03:11:40 <lambdabot> http://www.starmometer.com/2007/01/08/100-most-beautiful-filipina-of-2006/feed/
03:11:45 <pcmao> the second one is the old draft, and that one works...
03:12:00 <LeCamarade> @google self modifying code henry masali wikipedia
03:12:01 <lambdabot> No Result Found.
03:12:15 <LeCamarade> @google self modifying code wikipedia
03:12:16 <lambdabot> http://en.wikipedia.org/wiki/Self-modifying_code
03:12:16 <lambdabot> Title: Self-modifying code - Wikipedia, the free encyclopedia
03:12:48 <pcmao> but i refined it with some ideas from hutton and mejer (decomposed the parser-monad), and i dont't know, how to implement the maximal-munch-rule...
03:12:52 <LeCamarade> ivanm, there is a guy they talk of on that page ... you could improve GHC performance by getting the thunks to ...
03:13:08 <ivanm> no, don't want to touch the ghc code...
03:13:13 <ivanm> I'm not that good!!! :D
03:13:29 <whaleofconfusion> well LeCamarade, type inference is about invariant inference--inferring the type signature of a function is inferring an invariant through the computation the function performs
03:13:32 <bwerf> does anyone run gperf on ghc regularly ?
03:13:36 <pcmao> is there anybody who knows, how one could achieve this?
03:14:13 <whaleofconfusion> so what are the essential properties type signatures that allow type inference to be performed on them?  and what other invariants might have those properties?
03:15:53 <sili> ivanm: how well do you currently understand haskell?
03:16:29 <ivanm> sili: monads not too well...
03:16:36 <ivanm> but for the most part, yeah
03:16:46 <dcoutts> bwerf: I don't think so
03:17:04 <ivanm> http://users.tpg.com.au/~kataryna/Report.pdf <- the haskell program I'm working on is in there
03:17:24 <sili> ivanm: i starting writing a Scheme-like a while back and decided I wanted static typing. during this process monads made sense
03:17:46 <dcoutts> bwerf: but there is another ongoing project where they've integrated cpu counter stuff into the rts to see how they're doing with cache hits, jump and stalls etc
03:17:56 <sili> finally made more sense*
03:18:11 <ivanm> *nod*
03:18:27 <bwerf> dcoutts: seems a bit, well, overly focussed ?
03:18:43 <dcoutts> bwerf: what were you thinking of?
03:19:09 <dcoutts> bwerf: remember that Haskell code itsn't C so you can't trace backwards from gperf's output very easily
03:19:20 <dcoutts> you can't get line numbers etc
03:19:32 <bwerf> haven't yet met a program not containing a misplaced datastructure choise eating 50% of cputime
03:19:55 <dcoutts> bwerf: we do have ghc's own profiling tools, for profiling Haskell progs
03:20:18 <dcoutts> bwerf: I assumed you meant to use gperf to profilie the implementation, not for profiling Haskell code
03:20:25 <bwerf> yes
03:21:11 <dcoutts> the implementation as in the output of ghc, not the time taken by ghc to compile stuff
03:22:20 <dcoutts> so this wouldn't have much to do with bad data stuctures, and all to do with things like branch prediction, pipeline stalls, cache misses etc
03:23:48 <dcoutts> bwerf: you could use gperf or valgrind on the rts
03:25:48 <LeCamarade> Okay, in a _single sentence_, why doesn't the == and /= testing loop forever?
03:26:10 <LeCamarade> @src ==
03:26:10 <lambdabot> x == y = not (x /= y)
03:26:13 <LeCamarade> @src /=
03:26:13 <lambdabot> x /= y = not (x == y)
03:27:00 <dcoutts> LeCamarade: if you didn't define one of == or /= in your instance decl then it would loop
03:27:10 <ivanm> LeCamarade: because you provide one of them, and it overrides the default one
03:27:17 <dcoutts> but if you define at least one of them then you get the other for free
03:28:23 <LeCamarade> Still, the fact that one calls the other, whose result depends on going back to the first ... that is _|_, no?
03:28:54 <ivanm> unless you provide one
03:28:59 <ivanm> which is the whole point
03:29:02 <TSC> But only one calls the other, because you provide the other one
03:29:12 <ivanm> sometimes, it might be easier to define when they're _not_ equal
03:29:15 <jward> You need to define one for your type.  Most built in types have them predefined.
03:29:24 <LeCamarade> You mean, if the compiler defines the other for me, it will know when to stop? If I provide two, both /= and ==, it would be _|_, right?
03:29:53 <ivanm> e.g. a weird datatype which stores an int, where they're not equal if one of them equals 1
03:30:13 <ivanm> LeCamarade: no, if you provide both, then it'll use yours, not the inbuilt ones
03:30:29 * LeCamarade has reasons for not trying it out before he has these answers ...
03:30:45 <ivanm> but you shouldn't provide both, as then there might be a case where its undefined for your data type
03:31:00 <LeCamarade> ivanm: In which case ... oh! I get it! Bon. Thanks tout le monde. :oD
03:31:22 * ivanm doesn't speak french
03:31:43 <ivanm> but your welcome anyway!
03:32:06 <ivanm> "what are you doing in England?" "mind your own business!!" ... heh, monty python...
03:32:11 <LeCamarade> ivanm: Okay, lemme go get Chinese lessons so we can talk. :oD
03:32:21 * ivanm doesn't speak chinese either..
03:32:30 <ivanm> well, I did take some chinese lessons at school...
03:32:45 <ivanm> but all I remember now is "nihao" and some numbers :s
03:32:53 * LeCamarade wonders what Oceanians speak - because it is certainly not English. :oD
03:32:56 <mariano> another "python programer question" :D, is there something like dicts on haskell or i have to do it on some strange and recursive way :D
03:32:56 <ivanm> you could always learn english... :p
03:33:13 * ivanm doesn't use dicts in any language, so wouldn't know...
03:33:18 <saizan_> mariano: Data.Map
03:33:24 <mariano> thanks
03:36:03 <whaleofconfusion> ivanm: why don't you use dicts?
03:36:20 <ivanm> no reason too.....
03:36:25 <ivanm> I mainly do maths stuff
03:36:59 <ivanm> I have had to use some maps, but that's about it
03:37:12 <ivanm> before I used haskell, most of what I did was matrix based
03:37:26 <whaleofconfusion> maps and dicts are the same thing
03:37:28 <ivanm> might be doing some matrix operations next semester
03:37:42 <bwerf> not using maps, sounds alien to me as general purpose programmer
03:37:46 <ivanm> whaleofconfusion: AFAIK, dicts can be implemented using maps, but they aren'tthe same thing
03:38:02 <ivanm> bwerf: but I'm not a general purpose programmer! :D
03:38:08 <robreim> If I have some data with some quickcheck properties and I write a function which breaks an invarient tested by quickcheck, will quickcheck somehow automatically use the new function in testing and find the non-conformity?
03:39:26 <dons> no.
03:39:37 <dons> if you add new functions, in general, that means adding new properties too
03:40:16 <robreim> That's what I thought... but I've somehow broken some quickcheck properties for functions I haven't touched. Oh well, I'll keep looking. Thanks.
03:40:27 <jward> Anybody know if using ghc under 32 bit emulation will work on FreeBSD amd64?
03:40:48 <bwerf> well i'm off to install 64bit debian
03:40:51 <whaleofconfusion> maps aren't necessarily hash maps
03:41:15 <ivanm> @type ap
03:41:19 <lambdabot> forall (m :: * -> *) a b. (Monad m) => m (a -> b) -> m a -> m b
03:41:24 <ivanm> whaleofconfusion: I know... maps are just a data structure
03:41:35 <ivanm> and IIRC, dicts is a higher type of data structure
03:41:45 <ivanm> which can be defined using maps
03:41:48 <ivanm> @src ap
03:41:48 <lambdabot> ap = liftM2 id
03:41:54 <ivanm> @src liftM2
03:41:54 <lambdabot> liftM2 f m1 m2 = do { x1 <- m1; x2 <- m2; return (f x1 x2) }
03:42:04 <whaleofconfusion> what do you hold as the difference between dicts and maps
03:42:14 <whaleofconfusion> maps can be implemented in several ways, hash maps or trees
03:42:24 <ivanm> ummmm.... good question...
03:42:31 <ivanm> just never really considered them the same...
03:43:31 <ivanm> http://www.nist.gov/dads/HTML/dictionary.html
03:43:52 <ivanm> oh, apparently they are the same...
03:43:57 <ivanm> shmeh, don't use maps much either
03:44:09 <ivanm> just use them sometimes to collect values
03:44:11 <ivanm> but not much
03:44:57 <whaleofconfusion> you can use them for graphs
03:45:40 <ivanm> as in graph theory graphs?
03:45:49 <ivanm> or for plots graphs?
03:45:53 <whaleofconfusion> graph theory
03:46:00 <ivanm> haven't done any graph theory
03:46:05 <whaleofconfusion> map from node to adjacency list
03:46:19 <ivanm> apart from discussing graphs in algorithsm and data structures course
03:47:35 <ivanm> but yeah, I don't use dicts/maps much because I haven't had a reason to
03:48:07 <ivanm> whaleofconfusion: found a difference between dicts and graphs
03:48:28 <whaleofconfusion> what?
03:48:28 <ivanm> according to my algortithms and data structures textbook by goodrich and tamassia,
03:48:53 <ivanm> "but, whereas a map inssits that entries have unique keys, a dictionary allows for multiple entries to have the same key...
03:49:05 <sili> wtf?
03:49:09 <ivanm> ... much like and english dictionary, which allows for multiple definitions of the same word"
03:49:26 <whaleofconfusion> that depends on your source
03:49:30 <Saizan> mmh, you don't find much dictionaries implemented like that :)
03:49:32 <ivanm> hash maps appear to be more technically defined as dictionaries than maps then...
03:49:34 <ivanm> whaleofconfusion: true
03:49:38 <whaleofconfusion> python dictionaries can't have that
03:49:59 <ivanm> @google goodrich tamassia java data structures algorithms
03:50:00 <lambdabot> Plugin `search' failed with: IRCRaised getHostByName: does not exist (no such host entry)
03:50:27 <ivanm> ?
03:50:27 <ivanm> @google goodrich tamassia
03:50:27 <lambdabot> Plugin `search' failed with: IRCRaised getHostByName: does not exist (no such host entry)
03:50:27 <ivanm> @google google
03:50:27 <lambdabot> http://www.google.com/
03:50:27 <lambdabot> Title: Google
03:50:30 <ivanm> @google goodrich
03:50:36 <lambdabot> Plugin `search' failed with: IRCRaised Lib.URL.isTextHTML: getHeader failed
03:50:57 <ivanm> :(
03:56:30 <ulfdoz> When building package how can I specify ld-flags?
03:57:39 <ulfdoz> something like "runhaskell Setup.hs build --ldflags=-L/usr/X11R6/bin"
04:02:52 <Saizan> ulfdoz: in runhaskell Setup.hs configure --help there's a --ld-args= flag
04:07:56 <ulfdoz> The X11-package doesn't recognize.
04:27:23 <ivanm> stupid storm
04:40:36 <ilm> @tell sorear I just implemented a very crude shape-based enumerator, and the time taken for order 4 has dropped from 15s to 2s!!!
04:40:37 <lambdabot> Consider it noted.
04:42:35 <ilm> @tell sorear in case you couldn't tell, this is ivanm, I got kicked off due to a storm, and now there's a ghost of me hanging around
04:42:36 <lambdabot> Consider it noted.
04:43:24 <Saizan>  /msg nickserv ghost nick password
04:44:16 <ilm> thanks Saizan
04:44:45 <Saizan> np
04:44:53 <ivanm> Saizan++
04:46:03 <tibbe__> how can I evaluate a pure function f for performance when just calling f without using the result want do anything because of lazyness
04:46:33 <bringert> hackage.haskell.org doesn't seem to be doing very well atm
04:46:49 <bringert> tibbe__: force the result
04:46:52 <tibbe__> something like: do time <- startTime; foo = f $1 arg; end <- stopTime
04:47:08 <Saizan> tibbe_: you have to use seq
04:47:23 <bringert> do time <- startTime; foo = f $1 arg; end <- if foo == foo then stopTime else fail "I am the pope"
04:47:43 <tibbe__> :)
04:47:59 <bringert> John Hughes told me that you should always use that error message for this purpose
04:48:03 <tibbe__> why is the last == needed?
04:48:09 <tibbe__> heh
04:48:17 <bringert> whay do you mean last?
04:48:22 <bringert> what
04:48:27 <bringert> there is only one
04:48:36 <tibbe__> I mean don't you force the evaulation with $!
04:48:41 <Saizan> equality test usually force the result, that depend on your type
04:48:55 <bringert> == normally forces complete evaluation
04:49:07 <bringert> seq onlt evaluates to whnf
04:49:11 <bringert> only
04:49:13 <bringert> dammit
04:49:46 <bringert> tibbe: oh, you meant to write "foo = f $! arg"?
04:49:57 <bringert> $! forces the argument, not the result of the application
04:50:20 <bringert> tibbe: to force the result, you could use a bang pattern
04:50:29 <igli> thought i was in #bash for a minute ;)
04:50:30 <tibbe__> ok
04:50:34 <tibbe__> :D
04:50:35 <bringert> tibbe_: but that only gives you weak head normal form
04:51:25 <tibbe> what should I use to measure time?
04:52:42 <bringert> @type System.CPUTime.getCPUTime
04:52:46 <lambdabot> IO Integer
04:52:52 <bringert> if you want CPU time
04:52:53 <tibbe> ok
04:53:11 <tibbe> I want the most high resolution timer available
04:53:21 <bringert> which you normally do, unless you care about IO blocking time etc
04:53:45 <bringert> use cpuTimePrecision to check
04:53:49 <tibbe> ok
04:54:10 <bringert> grr, I rely on hackage
04:55:05 <bringert> Igloo: do you know who's responsible for the hackage.haskell.org machine?
04:56:02 <tibbe> doesn't work here either
04:56:22 <bringert> grr, and all the Galois guys don't work on weekends
04:57:00 <Heffalump> shocking behaviour :-)
04:58:27 <Igloo> bringert: It's monk, so Isaac/Paul(Galois's sysadmin)
04:58:41 <Igloo> bringert: What's the problem?
04:58:49 <bringert> it appears to be unreachable
04:58:59 <Igloo> Works for me
04:59:11 <bringert> hmm
04:59:26 <bringert> I have tried from home, and from my US-based web host
04:59:41 <bringert> oh
04:59:52 <bringert> now it works again
05:00:39 <bringert> interesting, you machine or something in between drops pings
05:00:47 <bringert> but now http works fine again
05:01:01 <Igloo> I think Galois filter it
05:02:18 <Igloo> It might be worth trying to get a traceroute if it disappears again, but I suspect it's outside of Galois's control
05:02:34 <bringert> what's wrong with my typing? s/you/the/
05:02:44 * bringert beats self
05:03:15 <bringert> hackage + cabal-install kicks ass!
05:03:26 <bringert> now it's a breeze to build Hope
05:03:37 <xerox> cool :)
05:03:40 <bringert> cabal-install build-dep hope.cabal
05:04:03 <bringert> I hacked cabal-install to be able to read deps from a local .cabal file
05:04:57 <bringert> now it installs the 14 or so packages that hope depends on automagically
05:05:22 <Igloo> Neat  :-)
05:06:20 <swiert> On a related topic, does anyone know if there's any kind of traffic logs available for haskell.org?
05:06:50 <swiert> I'd hope to release the next issue of TMR next week and was curious about how often it get's downloaded.
05:16:31 <koala_man> how do third party packages work in haskell? are they per interpreter or is there some kind of sharing?
05:17:51 <norpan> what do you mean per interpreter?
05:18:02 <Heffalump> they are just libraries like in other languages
05:19:15 <koala_man> if I install some package, can I use it from both hugs and ghc, or just from one of them
05:19:31 <norpan> you need to install it separately for each
05:19:39 <koala_man> ok
05:19:41 <norpan> ghc and ghci share libraries though
05:19:41 <dons> sjanssen: check out the nice comments on http://programming.reddit.com/info/1jxvw/comments :-)
05:19:42 <lambdabot> Title: xmonad 0.1: a tiling window manager (reddit.com)
05:20:46 <dons> bringert: i'm able to ssh into monk.
05:21:30 <bringert> dons: yeah, it works for me too now
05:21:43 <bringert> dons: it seems to be unreachable intermittently though
05:22:50 <dons> hmm. interesting
05:23:54 <ivanm> dons: got any ideas of projects I can do for a special topics in computer science course?
05:24:51 <dons> theoretical, or practical?
05:25:12 <capisce> do a raytracer :)
05:25:20 <dons> my initial suggestion would be to implement a compiler or interpreter for a small functional language
05:25:25 <ivanm> dons: theoretical
05:25:28 <dons> including the type inference.
05:25:45 <ivanm> the supervisor's site is here: http://www.itee.uq.edu.au/~paul
05:25:47 <lambdabot> Title: Paul Bailes
05:25:55 <ivanm> he's overall project is called "totally functional programming"
05:26:08 <dons> ah ok. cool.
05:26:14 <ivanm> his initial suggestion was to try and use clean's typing system and see how that could relate
05:26:44 <ivanm> part of what he's doing is things like "if you have a polymorphic function of type a -> a, then a can be treated as a boolean"
05:26:51 <ivanm> or it could be a -> a -> a... I forget
05:27:04 <dons> you could look at the topic list here, http://www.cse.unsw.edu.au/~cs4132/
05:27:05 <lambdabot> Title: COMP4132: Advanced Functional Programming
05:27:18 <dons> but yeah, some type system stuff would be fun.
05:28:13 <ivanm> *nod*
05:28:21 <ivanm> someone suggested I implement lisp or something
05:28:25 <drigz> does pl know about currying operators?
05:28:28 <ivanm> but that's probably been done to death
05:28:40 <drigz> ?pl \a b -> (==0) (mod a b)
05:28:41 <lambdabot> ((0 ==) .) . mod
05:28:46 <drigz> ?pl \a b -> (==) 0 (mod a b)
05:28:46 <lambdabot> ((0 ==) .) . mod
05:28:52 <drigz> ?pl \a b -> (==) (mod a b) 0
05:28:53 <lambdabot> flip flip 0 . ((==) .) . mod
05:29:05 <dons> ivanm: yeah, i'd do say, mini-ml though
05:29:20 <dons> lisp is a tutorial exercise, you'd really want something with a static type system to make it interesting
05:29:21 <drigz> i don't know why i keep trying to find deficiencies in @pl
05:29:23 <ivanm> mini-ml as in ocaml ml?
05:29:37 <dons> MiniML is a small subset of ML often used for teaching.
05:29:46 <ivanm> *nod*
05:29:58 <ivanm> don't particularly want to do a compiler or interpreter though...
05:30:05 <dons> here, we have students write an interpreter and type checker for it here, http://cgi.cse.unsw.edu.au/~cs3161/
05:30:06 <lambdabot> Title: Notices : COMP3161/9161 Concepts of Progamming Languages 2006/S1
05:30:32 <dons> right. if you're more into type systems, then say, doing type inference for some interesting type system you're studying might be fun
05:30:50 <ivanm> hmmmm.....
05:31:13 <ivanm> other people suggested either automatic code generation or optimization
05:31:20 <ivanm> not sure how much I could do with that...
05:31:39 <Heffalump> are you doubting your own abilities or the scope of such a project?
05:31:46 <ivanm> Heffalump: abilities
05:31:55 <dons> ah well, take risks!
05:32:02 <Heffalump> yeah, how else will you learn? :-)
05:32:08 <ivanm> maybe I could write a program to turn a whole program into one big pointfree function! :p
05:32:12 <ivanm> true...
05:32:30 <Heffalump> just make sure your project has some good stopping points that you could still reach if it goes badly
05:32:54 <ivanm> *nod*
05:32:54 <Heffalump> that's the key to picking a good student project - be ambitious, but make sure that you can still do _something_
05:32:59 <ivanm> yeah
05:33:01 <drigz> ivanm: so combining an inliner with pointless?
05:33:08 <ivanm> drigz: yeah ;-)
05:33:15 <ivanm> that was a joke though...
05:33:23 <drigz> it'd be cool though :)
05:33:28 <ivanm> yeah! :D
05:33:50 <ivanm> interesting to see how that would affect program size and efficiency...
05:34:14 <drigz> apparently you get serious efficiency gains by combining all the files
05:34:25 <drigz> well, can get
05:34:35 <ivanm> yeah, seen that program
05:34:47 <drigz> i think spj said that the main effect is more inlining
05:34:48 <ivanm> there's meant to be compilation issues though
05:34:57 <ivanm> hmmm.....
05:35:46 <ivanm> well, I haven't done much stuff on compilers or whatever
05:36:00 <ivanm> the most I've done is read through the ghc manual and play with compilation options
05:36:02 <ivanm> ;-)
05:38:03 <joelr1> good morning
05:38:12 <joelr1> afternoon probably
05:38:20 <ivanm> good evening joelr1
05:38:48 <joelr1> @pl foo x = if bar x then foo1 x else foo2 x
05:38:49 <lambdabot> foo = ap (liftM2 if' bar foo1) foo2
05:39:16 <drigz> @type if'
05:39:19 <lambdabot> Not in scope: `if''
05:40:55 <ivanm> if' a b c = if a then b else c
05:41:10 <drigz> > if'
05:41:11 <lambdabot>   Not in scope: `if''
05:41:23 <ivanm> its a @pl inbuilt function AFAIK
05:41:32 <drigz> kinda cheating...
05:42:35 <ivanm> *nod*
05:43:05 <bringert> hmm, the ghc source tarball doesn't include the network, which cabal-install requires
05:43:14 <bringert> network *package*
05:44:47 <joelr1> :t <<=
05:44:50 <lambdabot> parse error on input `<<='
05:44:53 <joelr1> :t =<<
05:44:56 <lambdabot> parse error on input `=<<'
05:44:56 <drigz> :t (<<=)
05:44:59 <lambdabot> Not in scope: `<<='
05:45:00 <joelr1> ah
05:45:04 <nornagon> :t (=<<)
05:45:05 <joelr1> :t (=<<)
05:45:08 <lambdabot> forall a (m :: * -> *) b. (Monad m) => (a -> m b) -> m a -> m b
05:45:09 <lambdabot> forall a (m :: * -> *) b. (Monad m) => (a -> m b) -> m a -> m b
05:45:19 <nornagon> @quote glorious
05:45:19 <lambdabot> No quotes match. I can't hear you -- I'm using the scrambler.
05:45:31 <nornagon> @quote duo
05:45:31 <lambdabot> No quotes match. And you call yourself a Rocket Scientist!
05:45:35 <nornagon> sigh
05:45:47 <LeCamarade> Okay. I am using a foldr to parse (this is intentional - it's how I want to do it). But I realise I am passing around a tuple (into and out of foldr), and it contains state info. Question is, isn't that a procedural way to think? Would you do it like that?
05:46:26 <LeCamarade> @quote bridge
05:46:26 <lambdabot> No quotes match. My pet ferret can type better than you!
05:46:41 <drigz> LeCamarade: if you want to justify it, apparently state-tuple methods work out quite fast
05:46:59 <Igloo> bringert: But you can get network the same way you get cabal-install
05:47:26 <Igloo> bringert: i.e. (in 6.8) either with a bindist including extra stuff, or via apt/yum/...
05:47:36 <LeCamarade> drigz: Yay! But ... is it good style in a functional language? Am I not thinking too procedurally?
05:48:05 <drigz> i think if you want to stick with foldr, it's a small price to pay
05:48:38 <drigz> i guess the functional way would not use foldr, but i'm not well versed in parsing
05:48:55 <LeCamarade> drigz: Merci beaucoup.
05:51:48 <bartw> great, multibooting nightmars
06:13:23 <tibbe> how do I show an escaped string?
06:13:33 <tibbe> I want \n etc to show up
06:13:34 <Heffalump> show str
06:13:37 <Heffalump> or show (show str)
06:13:44 <Heffalump> depending on whether the context is doing a show itself
06:13:46 <tibbe> it's a ByteString
06:14:04 <Heffalump> turn it into a normal string and then follow my suggestion :-)
06:14:57 <tibbe> :)
06:15:15 <dons> > show (show "\r") -- works for ByteStrings too
06:15:16 <lambdabot>  "\"\\\"\\\\r\\\"\""
06:15:20 <dons> hah
06:15:35 <dons> is that enough ESCAPING for you!
06:15:53 <qebab> > show ("\n")
06:15:55 <lambdabot>  "\"\\n\""
06:15:58 <qebab> :o
06:16:07 <Heffalump> > foldr (.) id (replicate 10 show) $ "\r" -- no!
06:16:07 <dons> > "\n"
06:16:10 <lambdabot>  "\"\\\"\\\\\\\"\\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"\\\\\\\\\\\\\...
06:16:10 <lambdabot>  "\n"
06:16:12 <dons> heh
06:16:48 <dons> btw, people who weren't around earlier today, xmonad is released! http://xmonad.org/
06:16:48 <lambdabot> Title: xmonad : a tiling window manager
06:17:07 <dons> yay for pushing haskell into new domains
06:17:14 <Heffalump> I've never quite understood the difference between a 0.1 release and just making development snapshots available
06:17:37 <koala_man> is it as awesome as ion?
06:17:44 <dons> yeah, its a snapshot, but with more polish
06:17:55 <dons> but its not quite a 1.0 "let's maintain this branch for a while"
06:18:13 <tompurnell> before I go asking my stupid question, is there a decent faq i should read first?
06:18:14 <dons> koala_man: oh, at least 13.2% more awesome than ion ;-)
06:18:21 <koala_man> oooh
06:18:21 <Igloo> 0.1 is just a numbered development snapshot, isn't it?
06:18:37 <dons> its not really a snapshot.
06:19:00 <dons> we did a proper freeze about 3 weeks ago, worked to empty the bug list, and so on. so its more a first public release, than a snapshot.
06:19:08 <matthew-_> cool, nice work. I might be tempted to rewrite ratpoison in haskell now...
06:19:12 <dons> i.e. its suitable for packaging
06:19:33 <Igloo> Well, I mean in general really. I get the impression xmonad is more finished than I'd expect a 0.1 to be
06:19:39 <dons> yeah.
06:19:44 <dons> it could have been a 1.0 (almost)
06:19:53 <Saizan> 0.9?
06:19:55 <dons> 0.1 would normally be an initial snapshot, i suppose.
06:20:11 <pejo> OpenSSL doesn't reach 1.0 because of lack of proper documentation. I'd say they have a point there.
06:20:12 <dons> should have gone for the tex approach
06:20:29 <dons> yeah, missing docs was what prevented me suggesting we go for 1.0
06:20:33 <tompurnell> Please tell me if I should be asking this elsewhere. im new to haskell. im working with a predefined tree structure that consists of two types of recursive nodes or a leaf. i would like to know how to identify the type of a given node, so i can see which of the two node types (or leaf) it is. i have no idea where to start
06:20:48 <dons> ah, ok.
06:20:53 <dons> what does your data declaratoin look like?
06:21:03 <dons> (and you'd use pattern matching to pick the left or right branch)
06:21:32 <dons> you don't "identify the type" btw, you just pattern match on the particular field you want to look at.
06:21:43 <dons> that is, given something like:
06:21:44 <dons> data Tree a = Node (Tree a) !a (Tree a)
06:21:45 <dons>             | Empty
06:21:49 <dons> (ignore the !)
06:21:59 <dons> you could write, e.g.
06:22:00 <dons> size :: Tree a -> Int
06:22:00 <dons> size Empty        = 0
06:22:01 <dons> size (Node l _ r) = 1 + size l + size r
06:22:23 <dons> (and yes, binary trees really should be this easy, don't you think? :-)
06:22:52 <Saizan> you have defined only one type which is (Tree a), Node and Empty are data constructors
06:22:56 <tompurnell> (btw, the paste link in the topic is broken for me)
06:23:08 <dons> hpaste.org ?
06:23:29 <tompurnell> xchat is seeing the ,logs as part of the link
06:23:47 <dons> ah yes, by "type of a given node" you meant "which constructor to look at" I think.
06:24:04 <dons> "type" has a very specific meaning in haskell.
06:24:33 <dons> Igloo: btw, are you a possible xmonad user?
06:24:56 <hpaste>  tompurnell pasted "stupid haskell problem" at http://hpaste.org/1520
06:24:58 <Igloo> Yeah, I just need to find a tuit
06:25:20 <dons> tute? minute? intuitive?
06:25:35 <tompurnell> a round one, Igloo?
06:25:41 <dons> tompurnell: did my tree definition make sense?
06:26:01 <dons> what's the difference between a PNode and DNode?
06:26:09 <Igloo> dons: As in "need to get a round tuit"
06:26:13 <dons> ah
06:26:16 <dons> heeh
06:26:38 <dons> yes, round tuits are useful
06:26:45 <dons> i should get some for hs-plugins
06:26:56 <tompurnell> dons: yeah, but i fail to see how to determine the type of the node (or the data contructor used to create it?)
06:27:05 <dons> you pattern match.
06:27:14 <dons> f (PNode  _ l r ) = ...
06:27:21 <dons> f ( DNode _ l r) = ...
06:27:30 <dons> f (Leaf x) = ...
06:27:52 <dons> which compiles to a switch case approximately
06:28:13 <dons> note that PNode, DNode and Leaf aren't types, they're tags (or constructors)
06:28:23 <dons> and you need to determine the tag of each node.
06:29:17 <hpaste>  (anonymous) annotated "stupid haskell problem" with "(no title)" at http://hpaste.org/1520#a1
06:29:43 <tompurnell> alright, so I try that, and I'm told that my inferred type is not general enough
06:30:05 <tompurnell> I was trying pattern matching before, but i'm obviously missing something somewhere
06:32:04 <tibbe> @hoogle unsafePerformIO
06:32:04 <lambdabot> Foreign.unsafePerformIO :: IO a -> a
06:33:33 <tompurnell> am i missing something so obvious that i should just crawl away and die?
06:34:48 <tompurnell> perhaps you'll all scrambling to be the first to post my problem to dailywtf.com
06:35:27 <Igloo> tompurnell: isRootAnd can't take any type as an argument, it only accepts (PDTree a b)s
06:35:41 <Igloo> tompurnell: i.e. isRootAnd :: PDTree a b -> Bool
06:35:52 <tompurnell> but PDTree isnt a type?
06:36:14 <Igloo> PDTree is a type constructor, PDTree a b is a type for any a and b
06:36:16 <tompurnell> oh wait. i think i've got you
06:36:48 <tompurnell> i have to supply the arguements to the type constructor, rather than just a reference to an object of that type?
06:37:37 <Igloo> I didn't follow that
06:37:40 <tompurnell> heh. thankyou very much Igloo and dons.
06:37:51 <tompurnell> sorry Igloo, I don't speak the correct haskell lingo yet
06:38:24 <tompurnell> I tried isRootAnd :: PDTree a -> Bool before, thinking that i was specifying that 'a' must be of type 'PDTree'
06:39:09 <hpaste>  tibbe pasted "unless in do statement doesn't take?" at http://hpaste.org/1521
06:39:34 <tibbe> could someone please have a look at my parser and tell me why it doesn't fail?
06:42:25 <xerox> tompurnell, a simpler example: data Box a = MkBox a. Here Box is a *type* constructor, it takes a type, say Int, and returns a type Box Int. MkBox is a *data* constructor, it takes say, a value 1 of type Int, and returns a value (MkBox 1) of type Box Int.
06:44:17 <xerox> Let's write an unbox function which takes a box and returns its content: f :: Box a -> a; f (MkBox x) = x.
06:44:45 <xerox> OK so far?
06:46:35 <tompurnell> xerox: yes, so far so good
06:47:37 <xerox> Haskell provides a type for boxes that might be empty, the maybe type. It is defined as follows:
06:47:41 <xerox> data Maybe a = Just a | Nothing
06:48:21 <xerox> Maybe is a type constructor which takes a type `a' and returns a type `Maybe a'.
06:48:34 <tompurnell> and 'Just'?
06:49:01 <xerox> Just is a data constructor that takes a value `x' of type `a' and returns a value `Just x' of type `Maybe a'.
06:49:25 <xerox> Nothing is another data constructor which takes no arguments and returns a value of type `Maybe a' for any given a inferred from the context.
06:50:03 <phoniq> it ain't c++, that's for sure
06:50:08 <phoniq> :)
06:50:13 <tompurnell> heh, no kidding
06:50:17 <xerox> A function isJust :: Maybe a -> Bool that checks whether its argument is a Nothing or a just, and returns a boolean would be written like this:
06:50:21 <xerox> isJust (Just _) = True
06:50:25 <xerox> isJust Nothing = False
06:50:39 <xerox> (The `_' stands for "I don't care about this value.)
06:51:01 <tompurnell> right.
06:51:14 <tompurnell> im somewhat bewildered as to the point of Just though
06:51:22 <roconnor> @hoogle IO String
06:51:23 <lambdabot> Prelude.getContents :: IO String
06:51:24 <lambdabot> Prelude.getLine :: IO String
06:51:24 <lambdabot> System.getProgName :: IO String
06:51:40 <xerox> tompurnell, a value of type Maybe a represent a computation that may return a result or may not.
06:52:05 <roconnor> @hoogle readFile
06:52:06 <lambdabot> Prelude.readFile :: FilePath -> IO String
06:52:06 <lambdabot> System.Win32.File.c_ReadFile :: HANDLE -> Ptr a -> DWORD -> Ptr DWORD -> LPOVERLAPPED -> IO Bool
06:52:06 <lambdabot> System.Win32.File.win32_ReadFile :: HANDLE -> Ptr a -> DWORD -> Maybe LPOVERLAPPED -> IO DWORD
06:53:59 <xerox> tompurnell, also, for example, since lists (of type [a]) are computed only as much as needed, a value of type [a] represent a non-deterministic computation. In the sense that you can return all the possible outcomes of such computation as a list, and have only the one(s) you pick as result being computed.
06:56:25 <tompurnell> could you give me an example using Just?
06:56:31 <xerox> The type  data Either a b = Right a | Left b  would let one return a more interesting result than "Nothing" when the computation fails. E.g. it could return (Right result) or (Left errorString).
06:56:44 <tompurnell> (I really appreciate this btw)
06:57:10 <bos> @seen dons
06:57:11 <lambdabot> dons is in #haskell. I last heard dons speak 28m 47s ago.
06:57:20 <xerox> > let safeHead (x:_) = Just x; safeHead [] = Nothing in (safeHead [1..], safeHead (tail [1]))
06:57:21 <lambdabot>  (Just 1,Nothing)
06:57:49 <xerox> Note that the standard `head' function returns an exception when applied to an empty list:
06:57:51 <xerox> > head []
06:57:53 <lambdabot>  Exception: Prelude.head: empty list
06:58:05 <xerox> s/returns/raises/
07:00:16 <xerox> Is the example clear?
07:00:57 <tompurnell> as milk
07:01:10 <phoniq> divide n d = if d == 0 then Nothing else Just $ n/d
07:01:38 <xerox> OK.
07:01:41 <tompurnell> but it is very late. i really appreciate your help, im sure to be back soon, but I think I should sleep before I try any more 'learning' for the day
07:02:36 <xerox> tompurnell, an advice: you can try to remove the type signature of your function, and load the module in GHCi. Then, ask for the inferred type with `:type isRootAnd'.
07:02:58 <tompurnell> phoniq: in your example, why bother with Just at all? Why not just n/d if n is not zero?
07:03:26 <phoniq> catch divide-by-zero
07:03:31 <xerox> Because n/d is undefined with d=0.
07:03:34 <phoniq> "Just" an example
07:04:04 <phoniq> boost::optional<T> has a similar function if you're familiar with that stuff
07:04:12 <xerox> (Note that you must specify both branches of an |if .. then .. else ..|.)
07:04:15 <drigz> phoniq: i thought it was defined as Infinity?
07:04:33 <tompurnell> i realise he's catching the divide by zero, i mean to ask, without the Just, would it not still work?
07:04:40 <tompurnell> or is this a type issue
07:04:44 <phoniq> drigz: i dunno, i was just looking for the simplest possible use of Just/Nothing
07:04:56 <xerox> tompurnell, that would not work because the function is returning values of two different types.
07:05:18 <drigz> i quite like tail [] = Nothing; tail (_:xs) = Just xs
07:05:55 <tompurnell> heh. i think that this will all make sense in the morning. i fully expect to wake up and say 'ohhhhh i get it'. at least, i hope so :)
07:06:01 <tompurnell> thankyou all, and goodnight
07:06:08 <xerox> Goodnight.
07:06:56 <matthew-_> I think someone should write a song about how lovely Haskell is.
07:09:41 <Pegazus> How lovely you are... You simple and easy thing... How great you are... Haskell, the programming language of my dreams...
07:09:47 <phoniq> egads
07:09:59 <nornagon> um
07:10:02 <nornagon> don't quit your day job
07:10:10 <Pegazus> you need to come with a great tune now matthew-_...
07:10:24 <matthew-_> mmm. For this, I must use Haskell...
07:10:32 <phoniq> OLLWAYS LOOK ON THE BROIGHT SOIDE OF TYPES
07:10:39 <lambdabot> Local time for ivanm is Mon Apr 23 00:12:42
07:10:39 <lambdabot> Local time for ivanm is Mon Apr 23 00:12:42
07:10:40 <nornagon> -.-
07:10:43 <phoniq> (whistle whistle whistle)
07:10:52 <matthew-_> shame that s, k and l are not musical notes...
07:10:52 <nornagon> uh
07:10:58 <nornagon> did lb just go mad?
07:11:26 <ivanm> nornagon: I think there were a few localtimes for me before which weren't given, and now lb suddenly decided to allow them :s
07:11:34 <ivanm> so maybe lb is no longer mad? :p
07:15:36 <xerox> @vixen are you mad?
07:15:37 <lambdabot> Plugin `vixen' failed with: IRCRaised too few bytes. Failed reading at byte position 690512259
07:19:41 <erider> good morning
07:23:13 <ohmega> !seen shapr
07:23:17 <ohmega> @seen shapr
07:23:18 <lambdabot> shapr is in #haskell-blah and #haskell. I don't know when shapr last spoke.
07:23:27 <ohmega> where is shapr?
07:24:08 <Lemmih> ohmega: He's in #haskell-blah and #haskell.
07:24:42 <ohmega> oups. /whois shpar ;)
07:31:44 <syntaxfree> grrrrrrr.
07:32:00 <syntaxfree> Steve Yegge just said probability theory is a branch of discrete math.
07:32:21 <syntaxfree> I mean, why the hell does that jerk think he knows *anything* about *anything*?
07:33:14 <profmakx> why do you give a damn?
07:33:17 <Maddas> syntaxfree: perhaps because people read what he writes :-)
07:34:01 <Maddas> syntaxfree: In the world of blogs, everybody can be an expert!
07:34:20 <syntaxfree> because probabiliy theory is my turf.
07:34:37 <syntaxfree> it's okay that he dismisses type theory or functional programming, but c'mon.
07:34:46 <syntaxfree> "Probability theory is just simple counting".
07:35:00 * Maddas was already annoyed by him long ago when he mused about programming languages.
07:35:55 <syntaxfree> I feel like starting a blog lynch mob or something.
07:36:07 <syntaxfree> getting 15 people to harshly attack him on all the things he claims to know and doesn't.
07:36:17 <syntaxfree> (not me, of course. I'm lazy)
07:39:02 * gimboland just installed xmonad
07:39:04 <gimboland> nice
07:39:57 <gimboland> snappy
07:40:32 * bringert has never heard of Steve Yegge
07:41:24 <roconnor> @type when
07:41:26 <lambdabot> forall (m :: * -> *). (Monad m) => Bool -> m () -> m ()
07:42:41 <roconnor> @type getArgs
07:42:43 <lambdabot> Not in scope: `getArgs'
07:42:49 <roconnor> @type args
07:42:50 <Maddas> syntaxfree: I somewhat doubt the efficacy of that, apart from getting him more publicity. You'd probably be dismissed one of those academics :-)
07:42:52 <lambdabot> Not in scope: `args'
07:42:56 <roconnor> @hoogle args
07:42:57 <lambdabot> Distribution.Simple.Args :: type Args
07:42:57 <lambdabot> System.getArgs :: IO [String]
07:42:57 <lambdabot> Data.Typeable.typeRepArgs :: TypeRep -> [TypeRep]
07:43:05 <matthew-_> roconnor: you want System.Environment.getArgs
07:43:10 <Maddas> (Which, for reasons I fail to understand, will only prove that he was right)
07:43:25 <matthew-_> b seems slightly broken lately...
07:47:50 <roconnor> @hoogle isInfixOf
07:47:51 <lambdabot> No matches found
07:47:59 <roconnor> :/
07:48:38 <roconnor> what's the quickest way of writing isInfixOf.
07:49:24 <xerox> isInfixOf ys xs = any (`isPrefixOf` xs) (tails xs)
07:49:41 <xerox> isInfixOf ys xs = any (ys `isPrefixOf`) (tails xs)
07:49:49 <xerox> :)
07:50:21 <roconnor> thanks
07:50:40 <xerox> You're welcome.
07:50:48 <bringert> @pl \ys xs -> any (ys `isPrefixOf`) (tails xs)
07:50:48 <lambdabot> (. tails) . any . isPrefixOf
07:51:03 <bringert> maybe not the quickest
07:51:21 <bringert> I guess the quickest is to ask #haskell to do it for you :-)
07:51:28 <xerox> hehe
07:52:41 <bringert> here's a more inefficient one, if you're into that sort of thing: (`elem` (concatMap inits (tails xs)))
07:53:15 <roconnor> bringert: that was the first that came to my mind
07:59:16 <int-e> > let sort xs = map fst $ head [xs' | xs' <- sequence [zip xs [1..] | _ <- xs], and $ zipWith (<) xs' (tail xs')] in sort [8,2,1,6,8,3] -- while we're doing inefficient stuff, here's a bad sorting algorithm.
08:02:06 <petekaz> @seen monochrom
08:02:06 <lambdabot> I saw monochrom leaving #haskell 8h 20m 54s ago, and .
08:02:31 <drigz> :type sequence
08:02:49 <int-e> Monad m => [m a] -> m [a]
08:03:31 <xerox> @botsnack
08:03:31 <lambdabot> :)
08:07:22 * mux ponders doing some FreeBSD advocacy on the -cafe@ thread "what's the best *nix os to use for haskell..;"
08:08:18 <fantasmaa> mux: have you tried running xmonad on freeBSD?
08:08:43 <mux> nope, I don't like tiling window managers
08:09:33 <roconnor> @hoggle Maybe a -> [a]
08:09:35 <lambdabot> Maybe.maybeToList :: Maybe a -> [a]
08:10:41 <roconnor> @type maybe
08:10:44 <lambdabot> forall b a. b -> (a -> b) -> Maybe a -> b
08:10:59 <mux> maybeToList = maybe [] (:[])
08:13:01 <matthew-_> mux: "what's the best *nix os to use for haskell?", clearly, the answer is NixOs !
08:13:19 <earthy> uhm, unfortunately, that's not true.
08:13:28 <mux> I think the best answer is obviously "the *nix os you're most comfortoable with"
08:13:30 <roconnor> House!
08:13:38 <mux> provided the said OS has haskell packages, of course
08:13:53 <earthy> NixOS does have haskell packages, but they're not really all that well maintained
08:14:31 <matthew-_> well, until NixOS gets a lot more people working on it, it'll can't approach the QA of the bigger distributions
08:14:42 <mux> the same goes with FreeBSD, I've been meaning to improve our ports for ages but never got around finding the time for it
08:14:56 <mux> we need some real cabal infrastructure packaged in a bsd.haskell.mk file
08:15:12 <earthy> actually, NixOS has a few huge QA advantages
08:15:37 <matthew-_> earthy: yes, I guess so, thinking about it.
08:16:32 <matthew-_> still, from what I can see, there are very few people working on it, which is a real shame. If I wasn't so busy right now....
08:17:12 <matthew-_> mmm, the .s file that ghc creates during compilation is up to 151MB here...
08:19:11 <bartw> hos: haskell os
08:20:03 <roconnor> @type writeFile
08:20:05 <lambdabot> FilePath -> String -> IO ()
08:25:36 <roconnor> @hoogle [a] -> (a -> m b) -> m [b]
08:25:37 <lambdabot> No matches, try a more general search
08:25:45 <roconnor> @hoogle [a] -> (a -> m ()) -> m ()
08:25:46 <lambdabot> No matches, try a more general search
08:25:55 <roconnor> is there some mapSequence function?
08:28:11 <bringert> I've lost hackage again
08:28:27 <bringert> it's reachable from the US, but not from here
08:28:35 <int-e> @type mapM
08:28:38 <lambdabot>     Ambiguous occurrence `mapM'
08:28:38 <lambdabot>     It could refer to either `mapM', imported from Control.Monad.Writer
08:28:45 <int-e> @type Control.Monad.mapM
08:28:47 <roconnor> @hoogle mapM
08:28:48 <lambdabot> forall a (m :: * -> *) b. (Monad m) => (a -> m b) -> [a] -> m [b]
08:28:48 <lambdabot> Prelude.mapM :: Monad m => (a -> m b) -> [a] -> m [b]
08:28:48 <lambdabot> Maybe.mapMaybe :: (a -> Maybe b) -> [a] -> [b]
08:28:48 <lambdabot> Prelude.mapM_ :: Monad m => (a -> m b) -> [a] -> m ()
08:28:59 <roconnor> bingo
08:29:05 <int-e> @type Control.Monad.forM
08:29:08 <lambdabot> forall a (m :: * -> *) b. (Monad m) => [a] -> (a -> m b) -> m [b]
08:29:11 <int-e> (relatively new)
08:29:21 <roconnor> ah
08:29:25 <roconnor> I see,
08:29:27 <roconnor> kinda nice
08:29:38 <roconnor> is there a forM_
08:29:44 <int-e> yep
08:29:47 <roconnor> :)
08:30:47 <bringert> Igloo: can you get to hackage.haskell.org from the UK now?
08:31:24 <Igloo> bringert: Yes
08:33:04 <Igloo> bringert: http://urchin.earth.li/~ian/hackage.txt (I assume the *s at the end are due to the same thing that filters ping)
08:33:45 <xs> bringert: i can't. (i'm in .uk.) tcptraceroute fails at fe5-0-0.cis025cor02.bea1.easy.easystreet.com.
08:33:50 <Heffalump> wow, 307 people
08:35:45 <hpaste>  bringert pasted "traceroute to hackage" at http://hpaste.org/1522
08:36:33 <bringert> 13 hops withing Sprint?
08:37:38 <bringert> any networking wizard who can tell me what's wrong?
08:38:16 <Igloo> OK, mine goes via alter.net
08:38:25 <bringert> it probably the first few hops, the ones that are *
08:38:47 <bringert> if I ping chalmers.se tehre are no *s
08:39:24 <allbery_b> it dies for me at fe0-0-0.cis024cor01.bea1.easy.easystreet.com
08:39:52 <bringert> ok, now it's working again
08:40:13 <bringert> making a new traceroute, maybe there is some interesting difference?
08:41:31 <hpaste>  bringert annotated "traceroute to hackage" with "from home when HTTP works" at http://hpaste.org/1522#a1
08:41:33 <sorear> hello.
08:41:34 <lambdabot> sorear: You have 2 new messages. '/msg lambdabot @messages' to read them.
08:41:39 <sorear> @messages
08:41:39 <lambdabot> ilm said 4h 1m 2s ago: I just implemented a very crude shape-based enumerator, and the time taken for order 4 has dropped from 15s to 2s!!!
08:41:39 <lambdabot> ilm said 3h 59m 3s ago: in case you couldn't tell, this is ivanm, I got kicked off due to a storm, and now there's a ghost of me hanging around
08:42:22 <bringert> in the working trace, the amsterdam server does not have the high latency it had in the bad trace
08:42:44 <bringert> but that's the only difference I can see
08:43:19 <Igloo> bringert: It looks to me like it is sprintlink <-> easystreet that is the problem
08:43:45 <Igloo> Oh, but that worked fine from the US while it wasn't workign from .se?
08:44:04 <bringert> Igloo: yeah, but it's a good point
08:44:51 <bringert> maybe it drops my packages there for some reason. to many hops, or a DoS from sweden or something?
08:45:23 <bringert> or maybe some router along the way mangles the packets so that easystreet drops them?
08:46:03 <bringert> it seems to go on for maybe 5 minutes each time
08:56:21 <bringert> is there any way to build just one of the executable targets with cabal?
08:58:06 <Igloo> Don't think so
09:00:33 <bringert> would there be any reason not to have that?
09:02:02 <jcreigh> @tell dons http://www.jcreigh.com/tmp/img_0121.jpg
09:02:03 <lambdabot> Consider it noted.
09:02:41 <Igloo> Don't think so
09:04:58 <bringert> Igloo: what about "runghc Setup.lhs build <executable>"? or should it be an option to something else?
09:05:14 <bringert> I guess it could be done with configurations as well
09:07:49 <shapr> yarr
09:09:17 <bringert> hi shapr
09:09:48 <bringert> shapr: I'm trying to do a little work on Hope again
09:10:01 <bringert> shapr: but I guess you have moved on to happs
09:25:08 <bos> is there a clean way to have fps and base installed at the same time?
09:25:48 <bos> when i try to use fps, the compiler complains because the ByteString types are defined in both fps and base
09:25:49 <Heffalump> I'm fairly sure I have them both installed, why do you think it's not clean?
09:25:59 <Heffalump> ah, I see.
09:26:02 <Heffalump> hide one package?
09:26:10 <Heffalump> though hiding base might be unfortunate
09:26:11 <bos> hiding base is a bit drastic.
09:26:27 <bos> and i actually want to try using the darcs head of fps.
09:26:34 <Heffalump> (the reason I don't have a problem is that I'm still using 6.4)
09:28:59 <bos> @seen dons
09:28:59 <lambdabot> dons is in #haskell. I last heard dons speak 3h 35s ago.
09:29:08 <sorear> @localtime dons
09:29:10 <lambdabot> Local time for dons is Mon Apr 23 02:27:49 2007
09:29:10 <bos> @seen dcoutts
09:29:11 <lambdabot> dcoutts is in #ghc, #gentoo-haskell, #haskell-overflow and #haskell. I last heard dcoutts speak 6h 1m 52s ago.
09:29:26 <sorear> dons and dcoutts are in the same timezone atm
09:29:37 <sorear> @uptime
09:29:38 <lambdabot> uptime: 13h 46m 34s, longest uptime: 9d 2h 23m 6s
09:29:39 <bos> well. with neither dons nor dcoutts around, i guess i don't need to worry about trying to use fps for now :-(
09:30:22 <sorear> @seen ndm
09:30:22 <lambdabot> I saw ndm leaving #haskell 6h 22m 51s ago, and .
09:31:13 <sorear> @tell ndm unsafeCoerce# may be ghc only, but in the HEAD of base you will find a portable (nhc98/ghc/hugs) Unsafe.Coerce.unsafeCoerce
09:31:14 <lambdabot> Consider it noted.
09:49:07 <dmead> >1 2
09:49:12 <dmead> > 1 2
09:49:15 <lambdabot>   add an instance declaration for (Num (t -> a))
09:49:15 <lambdabot>     In the expression: 1 2
09:49:15 <lambdabot>  ...
09:49:40 <dmead> > :t (1 2)
09:49:41 <lambdabot>  Parse error
09:49:45 <dmead> > :t 1 2
09:49:45 <lambdabot>  Parse error
09:49:51 <dmead> ?type  1 2
09:49:55 <lambdabot> forall t. (Num (Integer -> t)) => t
09:51:00 <bos> sorear: you wouldn't happen to know the magic incantation needed to get fps to coexist with base, would you?
09:53:26 <bringert> bos: I don't think there is an easy way to do that
09:53:49 <bringert> bos: you can hack your fps copy and change the module names :-)
09:54:11 <bos> eeeek! :-)
09:54:44 <bringert> bos: or you can replace / remove the Data/ByteString in base and rebuild it...
09:54:59 <bringert> this is why people want to split up base
09:55:00 <Heffalump> why isn't the Data.ByteString in base shipped in a fps package instead, OOI?
09:55:20 <bos> Heffalump: overenthusiasm. people acknowledge now that it was premature.
09:56:22 <Heffalump> I don't see why it should ever be, though. Stuff like Control.Monad.State is in mtl, for example.
09:56:35 <dmead> > :t MonadPlus
09:56:36 <lambdabot>  Parse error
09:56:44 <dmead> ?type MonadPlus
09:56:46 <lambdabot> Not in scope: data constructor `MonadPlus'
09:57:05 <Heffalump> it's a type class
09:57:09 <Heffalump> ?info MonadPlus
09:57:10 <lambdabot> MonadPlus
09:57:18 * Heffalump dunno how to do a :i
09:57:30 <xs> ?browse MonadPlus
09:57:30 <lambdabot> Unknown command, try @list
09:57:34 <bos> Heffalump: yeah, see what bringert said about splitting up base.
09:57:41 <Heffalump> oh, yeah
09:59:03 <bringert> I think the reason was that there are things in base that want to depend on bytestring, and splitting up base was too big a task at that time
09:59:21 <Heffalump> still, being able to define priority orders for packages would be nice
09:59:30 <Heffalump> augustss needed it for something recently too
09:59:48 <bringert> yeah, that's true
10:00:16 <bringert> Heffalump: but what if A in base depends on B, and you overlay B with B'?
10:00:26 <bringert> couldn't that cause breakage?
10:01:08 <Heffalump> I think what Lennart wanted it for was precisely to be able to confuse A like that :-)
10:01:19 <bos> yes, it can definitely cause breakage.
10:01:20 <Heffalump> but yeah, it is a tricky problem in general. Should A be left using B or B'.
10:01:26 <bringert> but that could break binary compatibility?
10:01:30 <Heffalump> you can imagine some people wanting either
10:01:36 <bos> due to ghc's aggressive inlining, yep.
10:01:48 <bos> cross-module inlining, at that.
10:03:16 <bos> @pl \x->length x > 0
10:03:16 <lambdabot> (> 0) . length
10:10:09 <dmead> > let test = do; let x = [10] ; return x
10:10:10 <lambdabot>  Parse error
10:10:14 <dmead> > let test = do; let x = [10] ; return x in test
10:10:15 <lambdabot>  Parse error
10:10:17 <dmead> :<
10:10:25 <dmead> > let test = do; let x = [10] ; return x ; in test
10:10:25 <lambdabot>  Parse error
10:10:34 <dmead> sigh
10:10:42 <dmead> > let test = do let x = [10] ; return x ; in test
10:10:43 <lambdabot>  Parse error
10:13:34 <Maddas> > let test = do let x = [10] in return x in test
10:13:35 <lambdabot>   add an instance declaration for (Show (t1 [t]))
10:14:55 <dmead> ah
10:17:59 <ddarius> petekaz: I replied on Haskell-Cafe, but if you haven't gotten it yet look at http://www.haskell.org/hawiki/StackOverflow
10:18:00 <lambdabot> Title: StackOverflow - The Haskell Wiki
10:22:02 <bos> @src splitWith
10:22:02 <lambdabot> Source not found. You speak an infinite deal of nothing
10:23:00 <SamB_XP> @hoogle split
10:23:01 <lambdabot> Random.split :: RandomGen a => a -> (a, a)
10:23:01 <lambdabot> Data.IntMap.split :: Key -> IntMap a -> (IntMap a, IntMap a)
10:23:01 <lambdabot> Data.IntSet.split :: Int -> IntSet -> (IntSet, IntSet)
10:26:24 <chessguy> ugh
10:26:50 <chessguy> this is the first time i've gotten online in over a day
10:28:43 <bos> @hoogle readFile
10:28:44 <lambdabot> Prelude.readFile :: FilePath -> IO String
10:28:44 <lambdabot> System.Win32.File.c_ReadFile :: HANDLE -> Ptr a -> DWORD -> Ptr DWORD -> LPOVERLAPPED -> IO Bool
10:28:44 <lambdabot> System.Win32.File.win32_ReadFile :: HANDLE -> Ptr a -> DWORD -> Maybe LPOVERLAPPED -> IO DWORD
10:29:10 <plediii> woohoo, I made a type that obeys the first and second monad laws, but not the third.
10:29:11 <tibbe> chessguy, don't overdose, take it slowly, a few pakets at the time until your mind is ready to handle the usual load ;)
10:29:40 <bos> @hoogle splitAt
10:29:41 <lambdabot> Prelude.splitAt :: Int -> [a] -> ([a], [a])
10:29:42 <lambdabot> Data.PackedString.splitAtPS :: Int -> PackedString -> (PackedString, PackedString)
10:29:42 <lambdabot> List.genericSplitAt :: Integral a => a -> [b] -> ([b], [b])
10:30:05 <chessguy> ahhhh, i can feel myself returning to normalcy already
10:30:18 <hpaste>  tibbe pasted "Why is the "unless" guard not evaluated?" at http://hpaste.org/1523
10:30:57 <tibbe> isn't the monad supposed to force an evaluation order and thus evaluate error "..." ?
10:31:28 <ddarius> tibbe: No.
10:31:38 <shoffsta> bringert: is it possible to create serial keys with Database.HaskellDB.DBSpec.DBSpecToDatabase ?
10:31:55 <shoffsta> I haven't been able to find anything about that in the docs
10:32:06 <bringert> shoffsta: no, unfortunately
10:32:20 <bringert> shoffsta: you'll have to do alter table afterwards
10:32:23 <ddarius> tibbe: Application is always going to be lazy.
10:32:25 <shoffsta> hmm, ok
10:32:28 <shoffsta> I guess that works
10:33:44 <tibbe> ddarius, I want a doWhatIMean construct
10:34:24 <tibbe> ddarius, will, unless (...) $! error "..." work?
10:35:13 <ddarius> I believe that would cause an error no matter what (in that branch of the case)
10:36:18 <tibbe> ddarius, yes, I don't have an error in the other branch in the real code
10:36:39 <tibbe> I guess I should have put a otherStuff under the unless guard
10:36:58 <ddarius> Anyways, whether error ".." >>= \_ -> return bar will throw an exception or not depends on the monad.
10:37:04 <tibbe> ddarius, I guess I could turn it into a branch
10:37:09 <tibbe> but the nesting gets ugly
10:37:50 <ddarius> > isAlphaNum '$'
10:37:54 <lambdabot>  False
10:38:09 <ddarius> > unless False $ error "bar"
10:38:11 <lambdabot>   add an instance declaration for (Show (m ()))
10:38:17 <ddarius> > unless False $ error "bar" :: [Int]
10:38:19 <lambdabot>  Couldn't match expected type `Int' against inferred type `()'
10:38:23 <ddarius> > unless False $ error "bar" :: [()]
10:38:25 <lambdabot>  Exception: bar
10:38:55 <ddarius> > unless False (error "bar") >> return () :: Maybe ()
10:38:58 <lambdabot>  Exception: bar
10:39:41 <Heffalump> surely almost any monad but the identity would throw the exception?
10:40:04 <chessguy> ?src fail
10:40:05 <lambdabot> fail s      = error s
10:40:05 <bringert> shoffsta: I would like to give haskelldb a serious rewrite, but I haven't found the time. help is welcome
10:40:23 <chessguy> so any monad that uses the default will
10:40:35 <ddarius> Almost all monads are strict in the first argument of (>>=)
10:40:48 <Heffalump> right
10:41:55 <tibbe> Heffalump, I run in the state monad
10:42:15 <tibbe> Heffalump, it dones't
10:42:16 <dmead> @where io monad
10:42:16 <lambdabot> I know nothing about io.
10:42:18 <tibbe> doesn't
10:42:21 <dmead> super
10:42:45 <Heffalump> it doesn't throw?
10:42:49 <Heffalump> oh, of course, lazy state
10:43:10 <Heffalump> return () won't throw but the next thing that tries to read the state will.
10:43:52 <ddarius> > unless False (error "bar") >> return () :: State Int ()
10:43:53 <lambdabot>   add an instance declaration for (Show (State Int ()))
10:44:23 <ddarius> > runState (unless False (error "bar") >> return ()) :: ((),Int)
10:44:24 <lambdabot>  Couldn't match expected type `((), Int)'
10:44:35 <ddarius> > runState (unless False (error "bar") >> return ()) 0 :: ((),Int)
10:44:37 <lambdabot>  Exception: bar
10:44:47 <tibbe> Heffalump, anyway, I replaced the "unless" with and if statement
10:45:44 <Heffalump> why would that behave any differently?
10:45:45 <sorear> hi.
10:47:58 <sorear> bos: IIRC it is: (echo *.cabal; find . -name '*.hs') | xargs perl -i.tmp -pe 's/Data.ByteString/AltData.ByteString/' ; mv src/Data src/AltData
10:50:19 <bos> sorear: ok, thanks. i was afraid that would be it :-)
10:54:31 <ddarius> Heffalump: There difference between returning error ".." and error ".." >> return baz
10:54:35 <sorear> it is such a shame - ghc has the necessary infrastructure to hide part of a package, but not the options, so you can't do it from cabal.
10:54:45 <sorear> @uptime
10:54:46 <lambdabot> uptime: 15h 11m 42s, longest uptime: 9d 2h 23m 6s
10:59:41 <sorear> @users
10:59:42 <lambdabot> Maximum users seen in #haskell: 312, currently: 310 (99.4%), active: 42 (13.5%)
11:01:46 <sorear> @t ?f ?x{runState=\x->(x,x)}
11:01:47 <lambdabot> Maybe you meant: tell temp time tiny-url todo todo-add todo-delete topic-cons topic-init topic-null topic-snoc topic-tail topic-tell type . ft v
11:01:51 <sorear> @type ?f ?x{runState=\x->(x,x)}
11:01:54 <lambdabot> parse error on input `=\'
11:01:58 <sorear> @type ?f ?x{runState= \x->(x,x)}
11:02:01 <lambdabot> forall t s. (?f::State s s -> t, ?x::State t_a2tQ t_a2tR) => t
11:02:25 <sorear> ok, record update binds tighter than application
11:02:47 <ddarius> That's the intuitive way in my opinion.
11:03:04 <sorear> Mine too.  just wanted to check.
11:03:04 <ddarius> { baz = bar } is not an independent operation.
11:05:03 <tibbe> I'm having trouble to extend takeWhile to a case when I need two tokens look-ahead, I want to takeWhile there aren't a $ followed by somthing that is not a $. i.e. where $$ serves as an escape
11:05:26 <dmwit> tibbe: zip xs (tail xs)
11:05:41 <dmwit> > let xs = "hi $$ there" in zip xs (tail xs)
11:05:43 <lambdabot>  [('h','i'),('i',' '),(' ','$'),('$','$'),('$',' '),(' ','t'),('t','h'),('h',...
11:06:48 <dmwit> tibbe: Or you could use pattern matching, maybe.  Depends how you're doing it.
11:06:55 <tibbe> does that work well with ByteStrings, it feels like I'll loose all efficiency gains
11:07:03 <dmwit> Oh, I don't know.
11:07:07 <tibbe> pattern matching would have been nice
11:07:12 <ddarius> tail is efficient
11:07:18 <tibbe> not supported for bytestrings yet though
11:07:39 <dmwit> It is in some versions of ghc. ;-)
11:08:58 <Heffalump> ddarius: but you could do that with unless ... $ return $ error "foo"
11:19:11 <bos> @hoogle (a -> Bool) -> [a] -> [[a]]
11:19:12 <lambdabot> No matches, try a more general search
11:20:14 <Heffalump> what do you want to do?
11:22:39 <dmwit> ?type group
11:23:35 <dmwit> *poke poke*
11:24:32 <xerox> group :: (Eq a) => [a] -> [[a]]
11:24:39 <sorear> @where hbc
11:24:41 <sorear> @botsnack
11:24:43 <sorear> grumble grumble.
11:24:56 <lambdabot> forall a. (Eq a) => [a] -> [[a]]
11:24:56 <lambdabot> I know nothing about hbc.
11:24:56 <lambdabot> :)
11:24:59 <sorear> lag - it's soo fu!
11:25:08 <dmwit> Anyway, bos: check out groupBy :: (a -> a -> Bool) -> [a] -> [[a]]
11:25:58 <bos> yeah, groupBy doesn't really do what I want. i need something like ByteString's splitWith. wrote my own.
11:35:17 <TomMD> @users
11:35:18 <lambdabot> Maximum users seen in #haskell: 313, currently: 313 (100.0%), active: 38 (12.1%)
11:35:25 <TomMD> alright
11:36:13 <tibbe> is there a "optimze chunk size" for lazy bytestring, using certain operations give LPS ["s","a","d"," ","a","s","d"," ","$$"," ","f","d","a","s","d","a","s"," ","$$"] which is as bad as a normal String!
11:36:51 <Heffalump> hose "$$" are better ;-)
11:37:18 <tibbe> :p
11:38:15 <bos> tibbe: no, there's no repack function.
11:38:46 <tibbe> I'll think I'll send an email to haskell-cafe, I'm probably doing it all wrong
11:39:16 <Heffalump> @where stats
11:39:16 <lambdabot> http://www.cse.unsw.edu.au/~dons/irc/
11:40:31 <bos> tibbe: what are you trying to do?
11:41:43 <tibbe> bos, write an efficient ByteString parser for a language that requires two tokens of look-ahead
11:42:15 <tibbe> so it needs a takeWhile with some look-ahead
11:42:15 <tibbe> which I have written but it's very inefficient
11:42:15 <bos> ah.
11:42:26 <tibbe> Data.Binary almost does what I need but it doesn't expose a rich enough interface
11:45:37 <SamB> if you use a lazy bytestring, it won't be much trouble to stick 'em together. also you could save the remaining input before you go ahead...
11:46:13 <SamB> also, why do you need to stick 'em back together? do you really need to relex?
11:48:07 <SamB> ... I'm pretty sure Alex wouldn't leave your bytestring looking like that ...
11:49:21 <ddarius> Ack, I'm getting to be one of the most active nicks.
11:49:37 <SamB> you lazy bum!
11:50:00 <ddarius> Why break the ByteString apart at all, just walk along it.
11:50:33 <SamB> tibbe: what are you doing? and why are you not using Alex?
11:50:57 <tibbe> SamB, I'm parsing a ByteString representing a template string into a list based template representation
11:51:32 <SamB> what do you need all that lookahead for?
11:51:41 <tibbe> newtype Template  = Template [Frag]; data Frag = Var ByteString | Lit ByteString
11:51:45 <magnus_> I'm looking for a matrix inverse routine in haskell (or preferrably a linear algebra package). Any recommendations?
11:51:48 <tibbe> to see if there is an escaped $
11:51:50 <tibbe> $$
11:52:21 <tibbe> I was going to use regexes until their clunkiness convinced me otherwise
11:52:23 <dmwit> Why not takeWhile (/= '$') and dropWhile (/= '$'), then do special processing?
11:52:36 <tibbe> well yes
11:52:44 <ddarius> Read everything until you hit a '$'. Make a Lit Frag. Peak at the next char.  If it's a $$ read everything unil to the next $. Make a Lit Frag. Else make a Var Frag. Repeat.
11:52:50 <tibbe> but that's more or less a takeWhile with lookahead
11:53:04 <dmwit> But much easier...
11:53:09 <tibbe> ddarius, yes but I don't want redundant Lit frags
11:53:13 <SamB> how do your non-$'s get all broken apart?
11:53:24 <tibbe> the alternative is to merge redundant frags
11:53:34 <SamB> merging redundant frags isn't hard...
11:53:42 <tibbe> the more Lit frags I guess the more my template representation is a String rather than a ByteString
11:53:47 <tibbe> not hard
11:54:03 <ddarius> tibbe: You shouldn't have too many mergeable Lit Frags.
11:54:05 <SamB> if you want better, use Alex, overkill though it be
11:54:09 <tibbe> I might actually do that now that I've tried the other solution
11:54:17 <SamB> except, wait...
11:54:29 <SamB> tibbe: how would that give you too many Lit frags?
11:54:29 <tibbe> ddarius, no you're right, hopefully not
11:54:49 <tibbe> SamB, a $$ would break into two lit Frags
11:54:51 <agocorona> Hi, Im looking for something that may explain how to transfom code form String-based to ByteString-based as fast as possible
11:54:57 <SamB> you'd need to get rid of one or the other of the dollar signs anyway...
11:55:02 <tibbe> yes
11:55:12 <tibbe> so takeWhile, look two chars ahead and decide what to do
11:55:43 <SamB> I guess so.
11:56:12 <tibbe> I was hoping to write a smart takeWhile that would work with lookahead but it didn't work out so I'll try that approach instead
11:56:47 <SamB> agocorona: you follow the type errors ;-)
11:56:53 <sorear> @src minimumBy
11:56:54 <lambdabot> Plugin `source' failed with: IRCRaised getRandItem: empty list
11:57:02 <sorear> @src minimumBy
11:57:03 <lambdabot> Plugin `source' failed with: IRCRaised getRandItem: empty list
11:57:28 <sorear> muahaha... sounds like it can't find the insult db?
11:57:34 <sorear> @src (.)
11:57:35 <lambdabot> (.) f g x = f (g x)
11:58:05 <agocorona> SamB: do you mean to change String to ByteString and wait for the compiler opinion??
11:58:18 <ddarius> @src (,)
11:58:18 <lambdabot> Plugin `source' failed with: IRCRaised getRandItem: empty list
11:58:42 <SamB> agocorona: pretty much
12:00:12 <agocorona> :)
12:16:43 <matthew-_> Announce: System.Installer release (http://hackage.haskell.org/cgi-bin/hackage-scripts/package/hinstaller)
12:16:44 <lambdabot> http://tinyurl.com/2yq5es
12:24:38 <petekaz> ddarius: reading it now.
12:42:57 <dolio> ?type liftA2
12:51:49 <araujo> hello
12:53:16 <sorear> hello!
12:57:06 <ddarius> bot?
12:57:09 <sorear> ddarius: would it be a bad idea to think of a system of ode's as a single ode on R^k ?
12:57:18 <sorear> ddarius: ndiswrapper sucks
12:58:07 <sorear> i've got two systems... one is up 24/7 but loses connection randomly, the other is always connected but shuts down at night.
12:58:38 <emu> is this some kind of brain teaser
12:58:59 <sorear> no, I'm just stating unfortunate facts :(
12:59:14 <ddarius> sorear: No, it would actually be better to do that if you could.
13:00:42 <sorear> ?type liftA2
13:00:49 <lb> forall a b c (f :: * -> *). (Applicative f) => (a -> b -> c) -> f a -> f b -> f c
13:14:44 <sorear> @spell lichtenstein
13:14:45 <lb> Lichtenstein Liechtenstein Liechtensteiner Lichtenstein's Liechtenstein's
13:15:01 <sorear> hmm.  that's a country.
13:15:12 <sorear> @spell levenstein
13:15:13 <lb> Livingston Livingstone phenacetin Livingston's Livingstone's
13:15:20 <sorear> @spell levenschtein
13:15:20 <lb> Livingston phenacetin Livingstone Livingston's
13:15:37 <sorear> phenacetin!?
13:15:48 <ddarius> sorear plan's his German vacation.
13:16:01 <xerox> Levenshtein's Distance?
13:16:16 <ddarius> @spell levensin
13:16:16 <lb> leavening leavens lensing licensing livening
13:32:00 <ndm> sjanssen, i take it you've seen the osnews article?
13:32:01 <lb> ndm: You have 1 new message. '/msg lb @messages' to read it.
13:32:16 <ndm> @messages
13:32:17 <lb> dmwit asked 6d 20h 41m 49s ago: Where are isSymbol and isPunctuation defined in Derive?
13:32:45 <dmwit> Errr... that one is plenty answered by now. =)
13:33:39 <ndm> yeah, lb occasionally does that...
13:34:50 <sorear> lb is running on my desk computer, lambdabot is running on my parent's dvr
13:35:00 <MarcWeber> @tell sjanssen You may ping me.
13:35:01 <lb> Consider it noted.
13:35:10 <sorear> lambdabot is not with us because of the notorious instability of ndiswrapper
13:35:24 <sorear> <sorear> @tell ndm unsafeCoerce# may be ghc only, but in the HEAD of base you
13:35:24 <sorear>          will find a portable (nhc98/ghc/hugs) Unsafe.Coerce.unsafeCoerce
13:35:56 <ndm> sorear, are you saying that in relation to the play patch i only pushed a few hours ago?
13:36:47 <sorear> yes.
13:36:58 <ndm> wow, am shocked :)
13:37:08 <ndm> i'm breaking Play occasionally at the moment, adding new features
13:37:17 <ndm> trying to beat SYB and Compos in terms of speed :)
13:37:42 <sorear> that sounds easy...  dynamic typing isn't exactly known for performance
13:38:03 <ndm> Compos is pure static typing, and no intermediate lists
13:38:09 <sorear> i'm only pulling play, not trying to use it
13:38:13 <ndm> plus PlayEx requires Typeable in some configurations
13:38:42 <sorear> wha?
13:39:01 <sorear> I thought play was supposed to scrap forall a. Typeable a => a's ;)
13:39:10 <ndm> it scraps for the forall's
13:39:14 <ndm> but Typeable is pure Haskell
13:39:19 <ndm> and it can be used
13:39:22 <sorear> is this new, or did I just not notice it when I read the paper a few months ago?
13:39:28 <ndm> its new
13:39:33 <ndm> the papers very much evolving
13:39:43 <ndm> previously if you wanted PlayEx, you required O(n^2) instances
13:39:49 <tibbe> isn't ./prog +RTS -p -sstderr supposed to give time profiling info?
13:40:05 <ndm> now you can do it in O(1) (depending on Data), or O(n) depending on Typeable
13:40:07 <sorear> Typeable is *almost* pure h98.  you need unsafeCoerce to implement cast though
13:40:26 <ndm> yeah, unsafeCoerce is very portable, so i consider that enough
13:40:31 <ndm> as PlayEx requires MPTC anyway
13:40:37 <tibbe> according to http://www.haskell.org/ghc/docs/latest/html/users_guide/prof-time-options.html
13:40:39 <lb> Title: 5.3. Time and allocation profiling, http://tinyurl.com/328g69
13:40:42 <sorear> tibbe: -p gives time prof. -sstderr addditionally gives gc stats
13:41:08 <sorear> tibbe: if you are complaining that -p is not accepted - remember profiling only works if your program was compiled for it
13:41:49 <sorear> I wonder if PlayEx could be done with O(n) using MPTC/FD, a la TTypeable
13:42:03 <tibbe> -prof then?
13:42:21 <sorear> -prof -auto-all for best results
13:42:43 <ndm> sorear, it definately could be, and probably would be faster as well - that was my reason for starting that whole conversation
13:42:48 <slava> psykotic: ping
13:42:53 <ndm> sorear, but it doesn't work on Hugs at all
13:43:15 <sorear> ndm: ttypeable doesn't?
13:43:34 <ndm> sorear, all type stuff stuff doesn't - its unreliable at best, segfaulting at worst
13:44:24 <tibbe> sigh, I need profiling version for mtl, dunno if my package manager even has that
13:45:23 <tibbe> sigh, I need profiling version for mtl, dunno if my package manager even has that
13:45:23 <tibbe> my network connection really blows today
13:45:32 <ndm> sorear, it may be possible to persuade it, but would require at least O(n) instances - however would be faster
13:47:01 <sorear> ttypeable needs O(n) anyway
13:47:22 <ndm> yeah, exactly
13:47:29 <ndm> and is less reliable than Typebale
13:47:30 <siti> http://www.osnews.com/story.php/17744/Xmonad-a-Tiling-Window-Manager-Written-in-Haskell
13:47:31 <lb> Title: 3f Xmonad: a Tiling Window Manager Written in Haskell - OSNews.com 193, http://tinyurl.com/2g4gu8
13:47:33 <siti> if you guys have not seen it
13:47:38 <siti> lb: lol
13:47:40 <ndm> hence i decided to pick Typeable
13:47:51 <sorear> siti: hahaha
13:48:00 <sorear> siti: all the dev work for xmonad was done here
13:48:02 <siti> oops, he's the new bot that was stupid :p
13:48:10 <siti> yes, that's why I pasted it :p
13:48:16 <sorear> i'm running lb
13:48:34 <siti> k
13:48:58 * vincenz got redditted :D
13:49:20 <siti> :)
13:50:21 <dmwit> No, I'm pretty sure that's not vincenz. ;-)
13:50:33 <vincenz> hmm?
13:50:59 <dmwit> I assume you're talking about the notvincenz.blogspot.com article...
13:51:07 <vincenz> yes
13:51:11 <andygill> hi fellow haskell hackers
13:51:11 <vincenz> ah yes :P
13:51:18 <vincenz> well I'm not vincenz, obviously, that's just my nickname
13:51:23 <ndm> hi andygill
13:53:25 <sorear> is that the same CAFE2007 one that hit pho?
13:53:43 <tibbe> how can I annotate a part of code to see only the cost centers related to it
13:53:43 <tibbe> i.e. I have an expensive function that sets up the test but I want to measure another one
13:53:43 <tibbe> but the expensive one swamps the profiler output
13:54:00 <sorear> ndm: what kind of refs exist for the state of the art in play?
13:54:12 <ndm> sorear, you mean current Play?
13:54:18 <ddarius> Pho? What?
13:54:19 <sorear> tibbe: don't use -auto-all, instead write {-# SCC #-} annotations by hand
13:54:23 * ddarius whats some pho.
13:54:25 <ndm> sorear, the paper I'm in the middle of writing :) - its still about half done
13:54:25 <sorear> planet.haskell.org
13:54:32 <sorear> ndm: yes.
13:54:33 <vincenz> sorear: not CAFE, DATE
13:54:45 <sorear> levenshtein 2!
13:54:58 <vincenz> Design Automation and Test - Europe
13:55:03 <vincenz> Biggest EDA conference besides DAC
13:55:18 <ndm> sorear, i'll let you know once the paper is in a state where it is accurate and has all teh good info in it
13:55:28 <sorear> ok.
13:55:43 <tibbe> sorear, ok
13:55:47 * sorear goes back to his specializing ode solver
13:56:41 * ndm goes back to working on his super performance optimiser
13:57:26 * ddarius goes back to reading about Abstract Stone Duality.
13:59:29 * chessguy_away goes back to forgetting what it was he was doing
14:04:46 <Cheery> I'd like to know, does there exist a wikitext parser written with Parsec?
14:06:51 <sorear> I don't know.
14:08:04 <tibbe> I don't get how to manually assign cost centers to top level functions
14:08:20 <tibbe> I write {-# SCC "funName" #-} on the line above
14:08:55 <tibbe> and get a parse error
14:09:06 <Igloo> You assign them te expressions, not functions
14:09:36 <tibbe> so after the = would work for a function then?
14:10:31 <sorear> you might find something usable in flippi
14:10:31 <sorear> @google flippi
14:10:41 <lb> http://www.e-ictsupport.org/flippi.htm
14:10:41 <lb> Title: Flippi
14:11:30 <sorear> http://www.flippac.org/projects/flippi/
14:11:39 <sorear> @where+ flippi http://www.flippac.org/projects/flippi/
14:11:39 <lb> Title: Flippi: a Wiki clone written in Haskell
14:11:39 <lb> Done.
14:11:47 <Igloo> tibbe: yup
14:12:40 <tibbe> nice, the function I want to be fast in my program takes 0 time :D
14:13:24 <chessguy> that's pretty fast
14:13:58 <sorear> i'd suggest calling it more
14:17:08 <sorear> is there really no debian package for ngspice!?
14:17:44 <Philippa> uh, I need to get a new version of Flippi up on my site, IIRC the latest's still got a horrific time complexity issue in the parser
14:17:52 <Philippa> (it's not too hard to fix, but did take a few new lines of code)
14:18:17 <Philippa> ...or maybe that's after I started making the parser extensible
14:18:19 <Philippa> take a look, anyway
14:18:30 <Igloo> Last time I looked at spices they tended to be non-free, so it wouldn't surprise me
14:18:37 <sorear> flippi is still maintained?  it's been erily quiet :)
14:19:11 <Philippa> it's not
14:19:28 <Philippa> I had a bunch of stuff I'd hacked up a few years back that was interesting but never got widely distributed
14:26:18 <Cheery> oh well, I think I'll manage this out myself, I believe
14:26:40 <Cheery> just need to find out the starting points for creating a syntax :)
14:27:20 <Cheery> ie. stop following the pre-created specs so mechanically and start swimming in Parsec
14:27:58 <ddarius> It usually pretty easy to start from a rough EBNF to generate Parsec code, and then grow organically (read messily) from there.
14:28:04 <Cheery> I think I just found those, my wiki syntax will be divided into different kinds of sections, separated by double newline
14:28:52 <Cheery> (it'll be strict syntax; must be written exactly how the syntax says)
14:29:03 <Cheery> going to sleep now
14:29:04 <Cheery> gn
14:29:07 <sorear> ddarius: ime parsec parsers are very hard to debug, about as bad as C programs ... the greediness and LL(1) causes all sorts of problems with parsing...
14:29:58 <ddarius> I've -never- had difficulty "debugging" Parsec parsers, in fact, I've never thought about what I was doing with them at any point as "debugging".
14:30:35 <Cheery> me neither, but I've used the parsec for just few days. thought still not getting enough :D
14:31:01 <ddarius> Perhaps I didn't deal with "complex" enough grammars or didn't really concern myself with dealing with large inputs in most cases.
14:31:15 <Cheery> after writing this hikiwiki -text syntax, I'd love to 'invent' yet another use for it, just because using it is so rewarding
14:31:35 <sorear> well, I also had a preconcieved notion of what the input should look like...
14:34:58 <Saizan> the LL(1) means that the parser are not so easy to combine, you need to pay attention to overlapping tokens ... especially annoying with sepBy et similar when the separator is more than one token
14:35:29 <ddarius> Saizan: That's why there is try.
14:35:52 <Cheery> what try does?
14:35:56 <Cheery> exactly?
14:36:18 <Saizan> try wasn't enough for me
14:36:42 <jcreigh> Cheery: well, normally if you have foo <|> bar, if foo matches any characters at all, parsec will fail without trying bar
14:36:58 <ddarius> It allows you to execute a complex parser (i.e. gives you infinite look-ahead) without committing to the choice.
14:37:13 <jcreigh> Cheery: but if you say try foo <|> bar, if foo fails even after matching characters, parsec will try bar before failing.
14:39:00 <ddarius> Saizan: Well, try is not going to give you complete compositionality.
14:39:38 <Cheery> I think there's one thing I'd need to do multiple times in my system and I'm not sure how to do it
14:39:58 <Cheery> I should basically look ahead two characters and check if they are "\n\n"
14:40:17 <Cheery> if they are, stop or fail
14:41:17 <Cheery> I have things like emphasis and paragraph which should both get hurled down by double newline
14:41:18 <ddarius> There are predefined combinators but it would reduce to twoNLs = try (char '\n' >> char '\n') then you could do (twoNLs >> stop) <|> doSomethingElse
14:42:05 <Cheery> cool, thanks
14:42:54 <Cheery> ddarius: Text.ParserCombinators.Parsec.stop exists?
14:43:59 <ddarius> Cheery: You can use fail (or mzero I believe) if you just want to fail, but I meant there are combinators that will let you define twoNLs quickly, string "\n\n" or somesuch.
14:44:20 <Cheery> ok.
14:46:54 <ddarius> string isn't appropriate, I don't think, because it eats whitespace.
14:48:42 <Cheery> but thanks anyway, I think I'll get it done now
14:48:50 <Cheery> thought sleep first, gn
14:50:41 <sorear> ddarius: nothing in parsec eats whitespace, except space(s), and maybe some of the suff in Token
14:51:44 <ddarius> sorear: I'm refering to the stuff in the Languages and/or Token.
14:51:51 <ddarius> @index string
14:51:52 <lb> Text.ParserCombinators.Parsec.Char, Text.ParserCombinators.Parsec, Text.ParserCombinators.ReadP, Distribution.Compat.ReadP
15:04:30 <andygill> Does anyone have experience with quickCheck layout in a way that the tests are in a unit test binary, and the master binary does not contain the tests? cpp? separate modules?
15:06:58 <TomMD> andygill: I take it you are trying to use quickcheck to test a final binary?  I thought I saw something like that on sequence.complete... I'll google for a minute.
15:10:41 <TomMD> Well, if I did see it, it seems to be gone now - sorry.
15:11:09 <andygill> I'm using QC for unit tests, with the hpc coverage tool.
15:12:11 <andygill> So, you don't want the tests inside the compiled system binary code, because it pollutes the coverage.
15:20:22 <bringert> andygill: look at what Data.ByteString or the binary package does
15:20:36 <bringert> andygill: they use a separate module
15:23:13 <vincenz> heya bringert
15:23:20 <andygill> thx bringert
15:24:24 <creature> Hello. I get a message "ERROR - Garbage collection fails to reclaim sufficient space" when trying to run my function. What's up with that?
15:24:31 <bringert> vincenz: hi.
15:24:33 <bringert> I'm off to bed
15:24:36 <bringert> good night
15:24:40 <vincenz> night
15:25:13 <creature> I suspect it may be my recursive definition of a fibonacci sequence.
15:25:46 <creature> http://pastie.caboo.se/55772
15:25:47 <lb> Title: #55772 - Pastie
15:28:01 <TomMD> creature: the fib= line is a fairly common textbook example of fibonacci.
15:28:18 <TomMD> That is, Haskell textbooks.
15:28:38 <creature> TomMD: Well, if I run euler02 1 then I still get the message.
15:29:06 <creature> So I thought that either I'm not doing the lazy evaluation properly, or something else is up.
15:29:17 <creature> I haven't done Haskell for a while but I thought it would be fun to attack this problem with it.
15:29:20 <TomMD> Oops, sorry, completely missed your first message.
15:30:05 <fantasma> can cabal build with other compilers beside ghc?
15:30:36 <sorear> yes!
15:30:38 <creature> I'm trying to run this in Hugs, if it makes a difference.
15:30:51 <mauke> euler02 is an infinite loop
15:30:55 <mauke> what did you expect?
15:31:11 <sorear> Usage: Setup.lhs configure [FLAGS] ....
15:31:11 <sorear>   -g       --ghc                           compile with GHC
15:31:11 <sorear>   -n       --nhc                           compile with NHC
15:31:11 <sorear>            --jhc                           compile with JHC
15:31:14 <sorear>            --hugs                          compile with hugs
15:31:17 <sorear>   -w PATH  --with-compiler=PATH            give the path to a particular compiler
15:31:49 <sorear> creature: btw, we have a channel pastebin
15:31:50 <creature> mauke: Why is it an infinite loop?
15:31:53 <astrolabe> Haskell isn't clever enough to know that it fib is increasing and deduce that it doesn't need to check that the later elements of fib are < total.
15:31:59 <sorear> creature: it really is in the topic!
15:32:02 <creature> mauke: Because it doesn't "know" that fib won't ever go down.
15:32:03 <creature> ?
15:32:05 <creature> Ah, yes.
15:32:06 <mauke> yes
15:32:10 <sorear> creature:
15:32:11 <jcreigh> :t takeWhile
15:32:12 <sorear> @paste
15:32:12 <lb> Haskell pastebin: http://hpaste.org/new
15:32:13 <mauke> use takeWhile instead
15:32:14 <lb> forall a. (a -> Bool) -> [a] -> [a]
15:32:30 <fantasma> sorear: I'm making a Makefile wrapper for a cabal package, should I include options for different compilers in the wrapper?
15:33:00 <sorear> fantasma: why would you use a makefile wrapper?
15:33:26 <creature> mauke: Could you give me an example of takeWhile, please?
15:33:38 <sorear> fantasma: in general, people assume that cabal is supposed to be invoked directly, so having it be only a part of the build procedure is a recipe for confusion.
15:33:42 <creature> "takewhile (x < total) fib" ?
15:33:55 <creature> fib < total, maybe.
15:33:58 <mauke> > let fib = 1 : 1 : zipWith (+) fib (tail fib) in sum (takeWhile (< 100) fib)
15:33:58 <fantasma> sorear: cabal is called from the make file
15:34:00 <lb>  232
15:34:27 <sorear> creature: for the future, use http://hpaste.org - it announces here, and is written in haskell
15:35:00 <sorear> fantasma: yes.  but people will try to use it directly ... also it will confuse aptage, since I can't figure out how to parse readmes
15:36:27 <fantasma> sorear: what do you mean "use it directly"? I'm talking about making a makefile wrapper for a package manager
15:36:36 <Saizan> you can calla makefile from cabal, right?
15:36:41 <fantasma> s/for/to be used by
15:36:53 <sorear> fantasma: using it directly means './Setup.lhs configure'
15:37:06 <sorear> fantasma: try that on lambdabot and you'll make a huge mess
15:37:21 <sorear> fantasma: because lambdabot's cabal is only intended to be used from the build scripts
15:37:47 <sorear> fantasma: so writing a non-trivial wrapper around cabal is something you should avoid if possible
15:38:09 <fantasma> why?, it would still be invoked directly
15:38:36 <sorear> fantasma: your makefile must do other needed things, otherwise it wouldn't exist.
15:39:26 <fantasma> sorear: well it check dependencies, and is compatible with package managers
15:39:46 * sorear thinks a good heuristic for the aptage project is to refuse to autobuild anything with a makefile
15:40:05 <fantasma> ``do-configure:
15:40:05 <fantasma> 	cd ${WRKSRC} && runhaskell Setup.lhs configure'' is what a line in the makefile would read
15:40:08 <sorear> fantasma: cabal checks dependencies fine by itself
15:40:42 <sorear> fantasma: and package managers (at least the debian one) use special scripts - debian/rules, not Makefile
15:40:49 <fantasma> does is download dependencies if they don't exist?
15:41:04 <fantasma> I'm making a freeBSD makefile
15:41:23 <sorear> fantasma: when I build packages I don't expect net access!  (neither does dons)
15:41:43 <sorear> fantasma: oh, so this is just for a fbsd package?
15:41:49 <fantasma> sorear: yeah
15:41:50 <sorear> fantasma: if so, go ahead
15:42:02 <fantasma> (I don't see any other way to do it)
15:42:03 <jcreigh> "aptage"?
15:42:15 <jcreigh> cabal -> apt gateway?
15:42:16 <sorear> jcreigh: one of my projects, in research phase.
15:42:26 <sorear> jcreigh: hackage -> apt
15:42:46 <jcreigh> oh, that would be sweet.
15:43:36 <fantasma> then my original question still stands =D -> should I allow options for different compilers or should I simply enforce ghc?
15:43:37 <Saizan> bypassing cabal-install?
15:44:11 <jcreigh> Saizan: I assume so, because otherwise what would be the point?
15:45:17 <sorear> well, cabal-install isn't installed by default.
15:45:24 <sorear> I assume there is a reason for this!
15:45:36 <fantasma> does anyone here even compile packages with something other than ghc?
15:46:19 <sorear> fantasma: no.  jhc needs more ram than I have, nhc has been dropped by debian, and hugs just plain doesn't compile packages.
15:46:43 <fantasma> all the better
15:46:45 <fantasma> thanks sorear
15:48:59 * jcreigh dislikes package managers other than the one bundled with the OS.
15:50:20 <fantasma> I agree. if you aren't using the bundled packaging system then it might be a good idea to reconsider OS's
15:50:33 <Saizan> i want a repo manager!
15:52:32 <fantasma> hmmm, just read about cabal-install
15:52:39 <fantasma> is it stable?
15:53:53 <Saizan> it works
15:55:02 <fantasma> is there any date for a release?
15:55:25 <ray> ugh, like cpan
15:56:37 <ray> fantasma: i think all the fbsd stuff just depends on ghc
15:57:37 <fantasma> ray: yeah it does, thankfully
15:57:48 <eumenides> hm if i write to a file in the CGI monad, it works the first time but successive times i get a resource busy (file is locked) error. should i be doing something special?
15:59:45 <fantasma> what is the cabal option to set library directories?
16:05:26 <sorear> ./Setup.lhs configure --help
16:08:20 <fantasma> sorear: do you happen to know what "--disable-library-vanilla" does, by that I mean, what is a vanilla library?
16:08:39 <sorear> nope.
16:09:48 <mauke> http://catb.org/~esr/jargon/html/V/vanilla.html
16:09:49 <lb> Title: vanilla
16:10:21 <sorear> @jargon vanilla
16:10:22 <lb> *** "vanilla" jargon "Jargon File (4.3.1, 29 Jun 2001)"
16:10:23 <lb> vanilla adj. [from the default flavor of ice cream in the U.S.]
16:10:23 <lb>    Ordinary {flavor}, standard. When used of food, very often does not mean
16:10:23 <lb>    that the food is flavored with vanilla extract! For example, `vanilla
16:10:23 <lb>    wonton soup' means ordinary wonton soup, as opposed to hot-and-sour
16:10:24 <lb> [9 @more lines]
16:12:10 <QtPlatypus> @jargon formosa
16:12:49 <lb> No match for "formosa".
16:13:57 <sorear> @flush
16:14:57 <dibblego> is there a library that will take two arguments of an arbitrary type and compute a difference description?
16:17:16 <sorear> lb: @quit
16:17:47 <sorear> lambdabot: @rc /etc/shadow
16:17:55 <lambdabot> Plugin `offlinerc' failed with: IRCRaised /etc/shadow: openFile: permission denied (Permission denied)
16:18:00 <sorear> ah good.
16:18:03 <jcreigh> lambdabot lives on sorear's connection now?
16:18:11 <sorear> need to double check I wasn't running lambdabot as root!
16:18:43 <sorear> jcreigh: for now.  the 24/7 box dons used seems to have taken permanent damage from the power outage
16:19:06 <dibblego> we have a permanently damaged box from a power outage over the weekend too
16:19:23 <sorear> ouch.
16:19:27 <sorear> you at unsw too?
16:19:34 <dibblego> no, 1000km north :)
16:19:51 <jcreigh> @hoogle [[a]] -> Array (Int, Int) a
16:19:52 <lambdabot> No matches, try a more general search
16:21:05 <dibblego> it was running wondows anyway, it deserved it
16:21:07 <sorear> so now lambdabot is running on my parent's dvr, which is up 24/7 but has its own problems.
16:21:07 <dibblego> *windows
16:21:17 <sorear> all hail ndiswrapper
16:21:37 <fantasmaa> @seen lambdabot
16:21:38 <lambdabot> Yes, I'm here. I'm in #jtiger, #perl6, #oasis, #darcs, #ghc, #gentoo-uy, #gentoo-haskell, #haskell.se, #haskell.no, #haskell.jp, #haskell.it, #haskell.hr, #haskell.fr, #haskell.fi, #haskell.es, #
16:21:38 <lambdabot> haskell.de, #haskell.hac07, #haskell-overflow, #haskell-blah and #haskell
16:22:03 <sorear> @flush
16:22:06 <sorear> @uptime
16:22:06 <lambdabot> uptime: 5m 18s, longest uptime: 9d 2h 23m 6s
16:22:35 <sorear> now, you won't have much to worry about re power outages.
16:22:48 <sorear> THIS lambdabot is in /etc/rc2.d and on a UPS.
16:23:08 <sorear> hence my making sure it wasn't root :)
16:23:25 <fantasmaa> you're running lambda bot on a tivo?
16:23:55 <sorear> not quite... it's a spare pc with mythtv
16:23:57 <sorear> but same category
16:24:08 <fantasmaa> heh
16:24:32 <sorear> and, physically, it is a set top box
16:26:10 <sorear> I should point out lambdabot is running nice 19
16:26:44 <sorear> fringe benefit - I get logs of all those channels
16:26:55 <sorear> dons doesn't make them public
16:27:41 <sorear> @botsncak
16:27:42 <lambdabot> :)
16:33:13 <jward> I'm very new to Haskell and am giving a go at writing my first non-tutorial program and I've run into a problem.  I've mused out why I'm broken but I don't know how to fix it.
16:33:51 <sorear> how big is it?
16:33:55 <jward> I'm trying to manipulate data in a list: add, remove, modify, etc.  The problem I'm having is that every time I do something it leaves a copy in memory.
16:34:05 <jward> Um... 118 lines at the moment
16:34:44 <sorear> if it's less than 5k and not valuable IP-wise, put it on hpaste and we'll have a look
16:34:58 <sorear> such "space leaks" are often non-local in nature :(
16:35:01 <sorear> @paste
16:35:01 <lambdabot> Haskell pastebin: http://hpaste.org/new
16:35:12 <hpaste>  jward pasted "memory leak" at http://hpaste.org/1525
16:35:58 <jward> I've never done any functional programing before trying to pick up Haskell.  Mostly I've been puttering with Python.
16:37:23 <sorear> I haven't actually found the problem yet, but:
16:37:37 <sorear>  initSystem n w =      System {          name = n,          worth = w     }
16:37:37 <sorear>  
16:37:47 <sorear> initSystem is exactly the same as System
16:38:00 <sorear> you can use record constructors as if they were non-record
16:38:50 <jward> Oh right right.
16:39:08 <sorear> but ... wow, this is pretty normal haskell compared to most first-time stuff I've seen
16:39:23 <dibblego> I was thinking that :)
16:40:02 <slava> hi dibblego
16:40:06 <dibblego> hello slava
16:40:15 <jward> I was forcing myself to try to copy the same style I saw in tutorials.
16:40:15 <ddarius> Except for the naming conventions, and the do_* functions just rub me the wrong way.
16:40:28 <jward> Yeah, those are because I'm lazy ^_^
16:41:03 <ddarius> Why do you do x <- return ...
16:41:14 <ddarius> You use let in several other places
16:41:34 <ddarius> Incidentally, you do not need to let bind each variable, you can multiple in a binding group.
16:41:54 <jward> ddarius: What should I use instead?
16:42:02 <sorear> jward: (still on style) I'd want to factor out a few of these patterns
16:42:20 <ddarius> x <- return bar <=> let x = bar for the most part
16:42:46 <sorear> prompt f str = putStr str >> hFlush stdout >> getLine >>= return . f
16:42:52 <sorear> then:
16:43:01 <sorear>      putStrLn "Enter the system worth: "
16:43:01 <sorear>      worth <- getLine
16:43:01 <sorear>      x <- return ((initSystem name (read worth)):s)
16:43:03 <ddarius> The do_* functions can probably be reduced to one liner via liftM* and appropriate helper functions.
16:43:06 <sorear> becomes:
16:43:41 <sorear>      worth <- prompt read "Enter the system worth: "
16:43:41 <sorear>      let x = initSystem name worth : s
16:44:25 <sorear> incidentally, I'd look at using StateT to remove the p and s parameters, and make menu self recursive
16:44:57 <sorear> eg.
16:45:01 <sorear>  do_fist p s 0 = menu p s
16:45:01 <sorear>  do_fist p s n = do
16:45:01 <sorear>      let p_sel = p !! 0
16:45:05 <sorear>      let new_p = p_sel{money = n}
16:45:08 <sorear>      let new_p_list = replacePlayer p p_sel new_p
16:45:11 <jward> The >> basically pushes flow control in the direction it points?
16:45:11 <sorear>      do_fist new_p_list s (n-1)
16:45:15 <sorear> -->
16:45:29 <sorear> >> is basically ;, but outside do.
16:47:10 <sorear> do_fist = forM_ [1..1000000] $ \n ->
16:47:10 <sorear>      modify (\ (s,p) -> (s, replacePlayer p (head p) (head p){ money = n } )
16:47:16 <sorear> with statet
16:48:04 <sorear> but, we still haven't fixed your problem.
16:48:23 <sorear> you have a memory leak - how could you tell?
16:48:44 <jward> I could be wrong?  I just watch the memory it uses grow and never drop when I run my fist thing.
16:49:00 <sorear> ah, I see.
16:49:30 <ddarius> The state is probably collecting as thunks, would be my first guess glancing at it.
16:49:41 <jward> thunks?
16:49:53 <sorear> yeah!j
16:50:31 <sorear> stefan@stefans:/tmp$ echo -e '6\n1' | runghc JWard.hs
16:50:31 <sorear> ...
16:50:31 <sorear> 1) Stack space overflow: current size 8388608 bytes.
16:50:31 <sorear> Use `+RTS -Ksize' to increase it.
16:50:34 <sorear> stefan@stefans:/tmp$
16:50:43 <ddarius> Yeah, it's a strictness issue in do_fist.
16:50:48 <sorear> you are definitely running into the thunking update problem.
16:51:03 <ddarius> Incidentally, foo !! 0 == head foo and you should usually avoid !!
16:51:24 <ddarius> Although, most of your uses in this code are reasonable.
16:51:37 <sorear> Also, lists are not indexable.   they are linked.  you might be better off with Data.Sequence
16:52:11 <ddarius> Python calls its vectors/arrays "lists".
16:52:24 <ddarius> Haskell lists are singly linked lists, not arrays.
16:52:39 <sorear> lazy, even.
16:53:31 <jward> So what are thunks/thunking?
16:53:38 <sorear> that said, when you have this little data using lists is excusable.
16:53:53 <sorear> jward: you are familiar with the notion of haskell being lazy?
16:53:58 <ddarius> A thunk is a delayed computation, i.e. part of the implementation of laziness.
16:54:15 <jward> Lazy?  Yup.
16:54:17 <sorear> expressions are not evaluated until they are needed.
16:54:32 <jward> So it's just building up a big pile of junk it's not going to evaluate?
16:54:33 <sorear> consider the tail recursive factorial
16:54:47 <sorear> jward: you know the tail recursive factorial?
16:54:52 <jward> Nope!
16:55:19 <sorear> factorial 1 a = a
16:55:19 <sorear> factorial n a = factorial (n-1) (a*n)
16:55:23 <jward> Only comp-sci course I ever took was an introduction to pascal.
16:55:42 <sorear> ok.  that's about the simplest program that will have issues with laziness.
16:55:53 <sorear> consider the evaluation of 'factorial 100 1'
16:55:58 <sorear> factorial 100 1 -->
16:56:05 <sorear> factorial 99 (100*1) -->
16:56:13 <sorear> factorial 98 (99*(100*1)) -->
16:56:20 <sorear> factorial 97 (98*(99*(100*1))) -->
16:56:22 <sorear> ....
16:56:37 <sorear> factorial 1 (1*(2*(3*(4*(5*...))))) -->
16:56:40 <dibblego> the issue being, it could execute in constant space if it weren't lazy
16:56:41 <dons> jcreigh: oh sorry!
16:56:42 <lambdabot> dons: You have 1 new message. '/msg lambdabot @messages' to read it.
16:56:55 <sorear> hi dons
16:57:30 <sorear> dons: the aforementioned flaky wifi card flaked today, lambdabot was restarted
16:57:35 <sorear> it's now in init.d :)
16:58:43 <jward> I'm not sure I understand why the 'a' is in that function, but I get what it's doing.
16:59:04 <ddarius> > let fac 1 x = x; fac n x = fac (n-1) $! x*n in fac 100 1
16:59:06 <lambdabot>  ghc-6.2.2: unrecognised flags: -fextended-default-rules
16:59:06 <lambdabot> Usage: For basic inf...
16:59:07 <sorear> dons: lambdabot is set up for the long term now.  it starts on boot, stops on shutdown, and has its own user with write privileges to State/* and log
16:59:27 <sorear> um, ouch?
16:59:44 <sorear> @type 2
16:59:47 <lambdabot> forall t. (Num t) => t
16:59:59 * sorear checks lambdabot's PATH
17:00:24 <ddarius> jward: The 'a' is an accumulating parameter.  It accumulates the running product.
17:01:45 <jward> Right right.
17:03:40 <jward> Still not clear on what a thunk is.  Gist is that they're artifacts of computations that haven't been completed yet?
17:03:56 <sorear> right.
17:04:15 <ddarius> > 1
17:04:16 <lambdabot>  ghc-6.2.2: unrecognised flags: -fextended-default-rules
17:04:16 <lambdabot> Usage: For basic inf...
17:04:33 <sorear> yow.  PATH is wrong, fixing...
17:04:38 <jward> And they can just sit around soaking up memory while they wait to be useful?
17:04:41 <dons> sjanssen: we made OSnews http://www.osnews.com/story.php/17744/Xmonad-a-Tiling-Window-Manager-Written-in-Haskell/
17:04:42 <lambdabot> Title: 3f Xmonad: a Tiling Window Manager Written in Haskell - OSNews.com 193, http://tinyurl.com/2fmhaa
17:05:18 <sorear> @flush
17:06:00 <sorear> > 2
17:06:08 <lambdabot>  2
17:06:31 <dmead> hey
17:06:37 <dmead> so i read a bunch of stuff on monads last night
17:06:47 <dmead> can anyone tell me why it's interesting?
17:06:58 <ddarius> > product [1..100]
17:07:04 <lambdabot>  9332621544394415268169923885626670049071596826438162146859296389521759999322...
17:07:04 <dibblego> you've just hit the next stage of learning about monads, the "is that it?" stage
17:07:07 <dmead> aside from protecting purity from side effects
17:07:10 <dmead> yes
17:07:11 <dmead> i have :)
17:07:40 <ddarius> dmead: They allow you to model any side-effect you want and keep it in a nice box.
17:07:54 <dmead> last night i was smokking a big fat stoggie with a statistician friend of mine
17:08:06 <dmead> and we got to rappin about group theory and i showed him some haskell stuff
17:08:13 <dmead> and it looks really similiar
17:08:21 <ddarius> So, Haskell doesn't have call/cc, but you can add it with monads.  Haskell doesn't have logic variables or backtracking, but you can add them with monads.  Haskell doesn't have backwards state, but you can add them with monads.
17:08:40 <dmead> ahh
17:09:03 <ddarius> Monads are highly related to algebra.  Also, the monad laws are similar to the laws for monoids, of which groups are special cases.
17:09:11 <dmead> hmm
17:09:13 <dmead> yea
17:09:23 <dmead> the catagory and morphism stuff is pretty interesting
17:09:35 <dmead> looks exactly like DFAs
17:09:42 <dmead> err
17:09:46 <dmead> ARE they DFAs?
17:10:07 <sorear> directed graphs form a category, yes
17:11:54 <dmead>  soo
17:12:10 <dmead> to form a monad for a type, you just have to define an instance of join and unit?
17:12:14 <dmead> and thats it?
17:12:37 <sorear> nah ... you also need to satisfy the MonadLaws!
17:12:47 <dmead> that too i mean
17:13:46 <ddarius> Also, the monad needs to be a functor and satisfy the functor laws.
17:14:40 <dmead> right
17:14:55 <dmead> and then when you have your monad type you can do all kinds of stuff rather easily?
17:17:36 <sorear> ddarius: do you know of any good web resources for NA?  most of the stuff I've seen on google and WP has been either "Here's an analysis of Euler, here's the RK4 equations, bye" or "Here's a cool trick, good look figuring out what's cool about it"
17:18:48 <Pseudonym> sorear: I think you'll need... a book.
17:19:26 <Pseudonym> BTW.
17:19:33 <ddarius> Give me a sec.
17:19:44 <Pseudonym> Go to Google book search, and search for "numerical recipes" in Numerical Recipes.
17:19:53 <Pseudonym> It's in the header of each page.
17:20:01 <Pseudonym> So every page matches.
17:20:22 <Pseudonym> Unfortunately, not quite every page is in the preview.
17:21:05 <Pseudonym> http://www.numerical-recipes.com/nronline_switcher.php
17:21:06 <Pseudonym> Ah.
17:21:06 <lambdabot> Title: Numerical Recipes Books On-Line
17:21:09 <Pseudonym> It's online.
17:21:12 <Pseudonym> So that's okay.
17:21:33 <Pseudonym> Disclaimer: The code in Numerical Recipes is crap.  But the discussion is excellent.
17:22:24 <sorear> ty, *looks*
17:23:03 <Pseudonym> Once you've read up some of NR, it's worth grabbing some code (say, from GAMS) and trying to understand why it does what it does.
17:23:44 <sorear> is there anything in xmonad like ion's Mod-L?
17:28:36 <ddarius> Let me check a book on Finite Difference Methods to see if it has numerical stability stuff in it...
17:28:51 <Pseudonym> Oh, hang on.
17:28:58 <Pseudonym> I've implemented a bunch of FD stuff.
17:29:09 * Pseudonym checks the channel logs
17:29:31 <sorear> Well, all I mostly need is base intuition.
17:29:56 <sorear> After you have that (at least with topology it was this way) everything in wp makes perfect sense.
17:30:03 <Pseudonym> Right.
17:30:32 <Pseudonym> Well there's not very much of that in NR, unfortunately.
17:30:45 <ddarius> http://citeseer.ist.psu.edu/108523.html This has quite a bit of analysis about the stability of finite difference methods for differential equations
17:30:45 <Pseudonym> I think there's one chapter on Poisson-like problems, and it's light on the detail.
17:30:45 <lambdabot> Title: Finite Difference Methods for Differential Equations (ResearchIndex)
17:31:11 <Pseudonym> So what's the problem that you're trying to solve?
17:31:35 <ddarius> There is some really pretty stuff for stability theory.
17:33:24 <psykotic> mmm, lyapunov functions.
17:33:33 <psykotic> my favorite breakfast food.
17:35:00 <psykotic> regarding NA stuff, i think NR is okay as a cookbook but its discussion is very superficial. if you want to really understand numerical methods for ODEs, say, you really need a book just for that.
17:35:22 <Pseudonym> I think it's a good book to give you the terminology and general ideas.
17:35:25 <psykotic> yeah.
17:35:29 <Pseudonym> It's good groundwork for another book.
17:35:57 <Pseudonym> And it's also enough groundwork to be able to read some NA papers.
17:36:03 <Pseudonym> Not enough to invent algorithms, though.
17:36:05 <psykotic> i don't know any other general purpose book that's as good, certainly.
17:36:06 <fantasmaa> has anyone on here installed xmonad on freebsd?
17:36:28 <Pseudonym> My havourite book is "Numerical Methods that Work".
17:36:35 <Pseudonym> The version I read was from 1970.
17:36:54 <psykotic> actually my favorite book on this is hamming's.
17:36:56 <Pseudonym> And inside the dust jacket, if you looked carefully, the word "Usually" was printed but not inked before the last word.
17:37:02 <psykotic> but it's not very modern in some respects.
17:37:08 <jcreigh> "Numerical methods tha work"? Catchy title.
17:37:19 <psykotic> (i think the title is numerical methods for scientists and engineers)
17:37:22 <dons> jcreigh: apologies for the name mix up :-}
17:37:30 <dons> a patch has been applied
17:37:36 <dons> that was just a braino, i think
17:37:45 <Pseudonym> The reason I liked that book (Acton) was that it was a really gentle introduction that was very hands-on.
17:37:51 <sorear> fantasmaa: dons is an openbsd user - close enough?
17:38:12 <dons> fantasmaa: is the problem building X11 (I guess?)
17:38:18 <fantasmaa> sorear: not sure, I'm having the same problem as yesterday with the linking the libraries crap
17:38:28 <fantasmaa> dons: yeah
17:38:32 <jcreigh> dons: heh, no problem. Maybe I should change my nick. :)
17:38:36 <psykotic> Pseudonym, the hamming book i mentioned is awesome, and should be cheap now (it's a dover reprint). he has a really brilliant expository angle on a lot of things, from the viewpoint of fourier analysis.
17:38:42 <fantasmaa> dons: X11 bindings that is
17:38:44 * Pseudonym nods
17:38:46 <dons> jcreigh: what do you think of the new web site?
17:38:47 <jcreigh> dons: BTW, did you put together the website. Looks sharp!
17:38:54 <Pseudonym> Acton, as I said, comes from 1970.
17:38:58 <dons> yeah, i think it looks really good
17:39:02 <Pseudonym> So it comes from a time when computer time was REALLY expensive.
17:39:03 <dons> want that logo on a tshirt...
17:39:17 <Pseudonym> People would pay real money to get the computer centre to invert a 13x13 matrix.
17:39:36 <dons> jcreigh: did you see the OSnews article?
17:39:56 <jcreigh> dons: yeah, ndm mentioned it in-channel. Pretty cool.
17:40:08 <sorear> i think it was fuzan
17:40:12 <ddarius> Mmm, Fourier analysis
17:40:19 <sorear> no, siti
17:40:22 <jcreigh> ah, well, when I heard it mentioned, ndm was doing the mentioning. :)
17:40:42 * ddarius has gained a whole lot of respect for the Z-transform.
17:40:50 <psykotic> hamming's other books are equally brilliant. some of the best pieces of mathematical exposition around, imo.
17:40:58 <psykotic> there's one on probability and statistics, and another on digital filters.
17:41:24 <ddarius> You're depressing me psykotic.
17:41:31 <jcreigh> Obscure languages seems to automatically get a lot of free press. I mean, nobody wants to hear about a WM written in C.
17:41:39 <psykotic> ddarius,  didn't mean to. why?
17:42:13 <ddarius> I'm probably not going to get any of those books ever and I love stuff on digital filters.
17:42:38 <psykotic> ddarius, the digital filters book is 10 bucks, there's no excuse to not get a copy if you're interested in the subject.
17:42:54 <psykotic> dover for the win!
17:42:58 <ddarius> Perhaps you are correct.
17:43:06 <fantasmaa> any cabal experts around?
17:43:09 <ddarius> Link or title?
17:43:23 <psykotic> ddarius, http://www.amazon.com/Digital-Filters-Richard-W-Hamming/dp/048665088X/ref=pd_sim_b_2/104-7510498-0811919
17:43:26 <lambdabot> http://tinyurl.com/2pnyur
17:43:33 <ddarius> Oh, that was simple enough.
17:46:43 <fantasmaa> " ./Setup.hs configure --runghc-args=-L/usr/X11R6/lib " when I run that I still get an error that it can't find the libs
17:47:47 <sorear> int b[10], *bb = b-1;  /* someone was talking about crap code in NR? ;) */
17:48:31 <ddarius> sorear: Looking up crap on analog filter design also brought up topics, but I don't think I could find any good books or even good papers.
17:49:00 <ddarius> Well, some passing ones.
17:49:28 <dmwit> ?type lookup
17:49:30 <lambdabot> forall a b. (Eq a) => a -> [(a, b)] -> Maybe b
17:50:23 <ddarius> Crap.  There's a period that I don't have a list of the papers I was reading and now I'm reminded of one that was in that period.
17:53:48 * ddarius thinks the search term he was using was "Approximation Theory" and is now also reminded of some papers on Modular forms.  Crap.
17:55:28 <dons> sjanssen, jcreigh http://gimbo.org.uk/blog/2007/04/22/xmonad-a-minimal-window-manager-in-haskell/
17:55:29 <lambdabot> Title: gimboland  xmonad - a minimal window manager in Haskell, http://tinyurl.com/2mkrv6
17:58:03 <sjanssen> dons: yes, there seems to be a lot of buzz
18:00:06 <dons> also, http://ephemient.livejournal.com/38438.html
18:00:06 <lambdabot> Title: ephemient: In the footsteps of wmii
18:00:09 <dolio> @check \l n -> take n l ++ drop (n+1) l == (l :: [Int])
18:00:11 <lambdabot>  Falsifiable, after 2 tests: [0], 0
18:00:15 <dons> and http://existentialtype.net/?p=113
18:00:17 <lambdabot> Title: xistential Type  Haskell window management has arrived
18:02:11 <jcreigh> I'm somewhat amused that Xinerama is so frequently mentioned as a feature of xmonad...makes me feel all warm and fuzzy.
18:02:37 <dibblego> anything that starts with 'x' is a feature of xmonad
18:03:11 <dibblego> ?docs Ix
18:03:12 <lambdabot> Ix not available
18:03:34 * gravity notes that xinerama is almost obsolete anyway
18:03:45 <dmwit> What is replacing it?
18:03:53 <gravity> randr 1.2
18:04:46 <dons> yeah, there's a small amount of traffic on the dwm list about this.
18:05:21 <sjanssen> I thought the randr changes are complementary to xinerama
18:05:36 <gravity> Nope, they encompass the functionality and more
18:06:42 <sjanssen> xmonad could easily support randr too (you can dynamically modify the screen data quite easily)
18:07:41 <gravity> Yeah, that'd be ideal. I'm not sure how wm's have to adapt. metacity and compiz seem to work without any changes.
18:07:54 <gravity> So it may free up some more lines of code in xmonad for you guys :-)
18:08:56 <dons> sjanssen: we made wikipedia, http://en.wikipedia.org/wiki/Tiling_window_manager
18:09:15 <gravity> I may end up packaging xmonad for Debian if no one else does.
18:09:34 <dons> go for it. i'd use one of the cabal->.deb programs to do that automatically
18:09:43 <gravity> Rock
18:19:18 <ddarius> One down, three to go.
18:19:47 <dons> sorear: so you're able to keep lambdabot running then?
18:20:02 <dons> is that sustainable for the medium term?
18:20:14 <dons> or do you need bandwidth/reliability of the connection?
18:23:07 <dons> hey andygill
18:24:20 <sorear> dons: I think it is sustainable medium term.  the connection drops out often, but it should have >80% uptime.  it starts from the init-scripts even while I sleep.
18:24:57 <dons> yeah, the drops aren't so great.
18:25:20 <dons> it might do for this week, till i sort out a new machine, or fix the current one.
18:25:31 <dons> we really want university-level uptime though.
18:25:35 <dons> and bandwidth
18:26:28 <sorear> why bandwidth?
18:26:40 <dons> actually, its just latency
18:26:47 <dons> the bot should be responsive.
18:26:49 <dylan> if someone has the time, I can give someone an account on a very fast physical private server thing.
18:27:12 <sorear> well, @type isn't a network issue, my ghci really is that slow :/
18:27:19 <dons> i'll be finishing up a unsw in a few months, so we'll need a long term solution
18:27:23 <sjanssen> @type id
18:27:25 <lambdabot> forall a. a -> a
18:27:27 <dons> so we can start thinking about that now.
18:28:00 <sorear> can we run lambdabot on one of the haskell.org machines? :)
18:28:00 <dylan> for reference, the machine is at slug.haverdev.org.
18:28:01 <dons> another option is the community server, which will get done eventually
18:28:16 <dons> dylan: ok. thanks for that offer. its good to have a nice backup.
18:28:36 <sjanssen> running lambdabot on the community server might be nice
18:28:38 <dylan> dons: no problem. it's not my server. I just am the only person that still remembers their password. XD
18:28:48 <dons> heh
18:28:57 <dylan> [I had sudo access]
18:29:01 <dylan> err, have.
18:29:03 <sjanssen> presumably several people could get accounts, to share the administration load
18:29:46 <dylan> once ikiwiki gets a darcs backend, it's going to be used to replace suncoastlug.org... it has more resources than it needs for that.
18:31:05 <dylan> I really wish I could remember the company that donated the rackspace and bandwidth.
18:32:44 <dylan_> 1.5 seconds lag to dons.
18:33:02 <dylan_> Actually I think the network latency here might be not as good as it used to be.
18:33:50 <dylan_> always 1 second, regardless of who I ping.
18:34:05 <ddarius> Two down, two to go.  But I know I can find one of the remaining easily enough and the last didn't have a particular paper associated with it.
18:34:07 <dylan_> dons: nevermind, this is probably unacceptable.
18:36:57 <dmwit> ?hoogle trace
18:36:57 <lambdabot> Debug.Trace.trace :: String -> a -> a
18:36:57 <lambdabot> Debug.Trace :: module
18:36:57 <lambdabot> Debug.Trace.putTraceMsg :: String -> IO ()
18:37:35 <dons> one interesting thing, wrt. xmonad, is how stable it is after 5 weeks. it just works. dwm was really very unstable for the first year or so.
18:37:51 <dons> i had to delay switching to dwm from ion till around v1.3
18:39:00 <TSC> dons: I can offer a backup server for lambdabot too, if necessary
18:41:39 <dmwit> ?index sort
18:41:39 <lambdabot> Data.List
18:44:52 <GregorR> I'm doing a haskell assignment. I've been given an "RE" data type (== regular expressions), and am implementing a function which takes an RE and a Char and returns a Maybe RE. I'm trying to make tests for it, but I can't compare a Maybe RE to another Maybe RE. As it turns out, I can't compare an RE to another RE. My attempts to implement == for RE's didn't go well, but I don't know if perhaps I just did it wrong... is there some tric
18:44:58 <GregorR> k to this I don't know?
18:45:07 <jcreigh> is randr another library to bind to, or can we do that with the existing X11 bindings?
18:45:42 <dons> sjanssen: btw, http://insitu.lri.fr/metisse/ was mentioned on one site as useufl research into window layout algos
18:45:45 <lambdabot> Title: Metisse
18:45:47 <gravity> It's another library
18:46:53 <sjanssen> GregorR: deriving Eq
18:47:23 <sjanssen> data RE = ... deriving Eq
18:48:28 <GregorR> Aha! Thank you!
18:48:46 <GregorR> Wonder why that wasn't in the datatype as assigned ... *sigh*
18:49:54 <dons> sjanssen: have you given any thoughts to what we do next wrt. xmonad?
18:50:14 <dons> a precise api, external statusbar, floating layer, ...
18:50:30 <Cale> GregorR: well, you could also implement (==) directly
18:50:35 <jcreigh> heh, "RandR 1.2 is the new black"
18:50:37 <dons> i'd like to also ponder more speculative features that wouldn't be possible in gunky existing C code bases.
18:50:46 <Cale> GregorR: deriving just writes the obvious boilerplate code for you
18:51:09 <dons> maybe there's some compelling thing we can implement that would just be infeasible in a C program, without a lot of work
18:51:29 <Cale> xerox: Trying to remain anonymous?
18:51:35 <jcreigh> I don't know how hard this would be, but it would be cool if transient windows were handled in a nicer way.
18:51:37 <dons> yes, and things like XCB and randr
18:51:48 <dons> jcreigh: so the dwm model would be to push thos into a floating layer
18:51:50 <GregorR> Cale: Well, the comparison is trivially simple, I imagine boilerplate would be sufficient. I tried to overload ==, but trying to do recursion in it made it complain of ambiguity between Main.== and Prelude.== >_>
18:51:55 <dons> that is, a layout mode that doesn't resize
18:52:09 <Cale> GregorR: what you want is to write an instance declaration
18:52:14 <jcreigh> dons: hmm. yeah, that would work nicely.
18:52:15 * gravity wants to get XCB going very badly
18:52:17 <Cale> instance (Eq RE) where
18:52:17 <dons> sjanssen: btw, can we get your PSU mentor on xmonad@ ?
18:52:32 <dons> sjanssen: i was thinking that xmonad@ would be a good place to discuss the SoC project
18:52:32 <Cale>    x == y = ...
18:52:36 <dons> and keep everyone in touch
18:52:41 <jcreigh> sjanssen, gravity: Okay, you X11 geeks. What's so great about XCB?
18:52:48 <Cale> (probably actually want to do pattern matching there)
18:52:51 <magnus_> with all this talk of xmonad I just have to try it
18:52:53 <gravity> jcreigh: It's a reimplementation of libX11
18:52:55 <dons> jcreigh: tiny, supports threading.
18:53:01 <gravity> dons nailed it
18:53:06 <dons> you want haskell threads right? :-)
18:53:10 <gravity> That and it's actively being developed and maintained
18:53:11 <GregorR> Cale: Ahh, that makes sense given the error output ... I didn't know about the whole "Eq" thing, so it made little sense to me. Gracias :)
18:53:28 <sjanssen> my favorite feature: machine generated bindings
18:53:30 <jcreigh> So fewer XGetScreenWidthInFurlongs() type functions?
18:53:51 <dons> yeah, hopefully a whole lot less gunky corner case logic in the protocol
18:53:52 <sjanssen> this is really important for a Haskell implementation, we can easily get 100% API coverage
18:53:53 <Cale> GregorR: Eq is a typeclass. If t is a type, then Eq t means that equality testing (==) and (/=) are defined for the type t.
18:54:20 <jcreigh> 100% API coverage would definitely be more fun than writing FFI for every new feature.
18:54:24 <Cale> GregorR: You'll also see it in signatures for functions:
18:54:27 <Cale> @type (==)
18:54:29 <lambdabot> forall a. (Eq a) => a -> a -> Bool
18:54:32 <Cale> @type nub
18:54:34 <lambdabot> forall a. (Eq a) => [a] -> [a]
18:55:06 <Cale> "If a is a type whose members can be tested for equality, then nub takes a list of a's and returns a list of a's."
18:55:16 <psykotic> i'm pretty sure libx11 is the worst api in wide use
18:55:40 <psykotic> at least in the unix world :)
18:55:41 <dons> layout is interesting. since tiling is a very well understood problem, we could probably have a few fun example tiling algos implemented, straight from the literature
18:55:49 <sjanssen> my favorite part of xlib is the error handling: it will terminate your program by default!
18:55:51 <dons> just as examples in a demo config file
18:56:05 <dons> sjanssen: hehe. In Soviet Russia X crashes you!
18:56:05 <Cale> psykotic: Could it really be worse than the MFC, or the original Win32 GDI?
18:56:11 <Cale> ah
18:56:17 <Cale> You qualified it :)
18:56:19 <psykotic> haha
18:56:38 <psykotic> even the old win32 apis are worse, although that's partly due to accumulation gunk
18:56:48 <sjanssen> dons: next thing to work is extensible layouts, I think
18:56:59 <dons> yeah
18:57:13 <jcreigh> extensible == user extensible?
18:57:15 <dons> so making sure its easy and simple to add new layouts in a config only
18:57:15 <Cale> The old Win32 apis seemed to have been designed to make things easy for people programming in assembly.
18:57:21 <psykotic> cale: gotta love having to define a struct and zero it out and so on every time you want to call a function
18:57:23 <sjanssen> jcreigh: right, in Config.hs
18:57:26 <jcreigh> ah.
18:57:36 <dons> sjanssen: and things like, say, adding your own implementation of 'cycle' (rather than promote)
18:57:51 <dons> that is, we can freeze the core of xmonad now (in terms of features)
18:57:55 <psykotic> cale: actually i think the basic win32 design principles are in many ways brilliant considering that they have to cope with backwards compat in C. :)
18:57:57 <dons> and ensure everything else goes into Configs
18:58:02 <psykotic> win32 api design principles even
18:58:17 <dons> sjanssen: i'd also like to address the pop-down status bar at some point
18:58:24 <Cale> psykotic: The Win32 GDI seems to have been designed to try to trick you into leaking GDI memory somewhere.
18:58:25 <dons> its a bit of a transition issue for new users
18:58:40 <dons> and i still miss not having my world clock easily accessible
18:59:11 <sjanssen> yeah, we need some sort of status bra
18:59:17 <sjanssen> s/bra/bar
18:59:33 <dons> a status bra would be an interesting feature
18:59:34 * sjanssen childishly laughs at his typo
18:59:42 <Cale> I vote that the status bar be called a status bra from now on.
18:59:48 <dibblego> ?type compare
18:59:50 <lambdabot> forall a. (Ord a) => a -> a -> Ordering
18:59:50 <psykotic> the contributor with the highest number of submits each week gets to wear the status bra?
18:59:51 <dons> hehe
18:59:57 <dons> hah!
19:00:05 <dibblego> /msg lambdabot is not working?
19:00:15 <dons> oh, maybe its not identified
19:00:18 <ddarius> dibblego: The current lambdabot is not identified.
19:00:25 <dibblego> ah ok
19:00:34 <dons> how's that?
19:00:37 <Cale> Reminds me of how Enlightenment used to have a concept of strip joints, which of course held strips.
19:01:07 <dons> hehe, that's the other wm developed at unsw. :}
19:01:56 <psykotic> i remember seeing enlightenment in like 96 or 97. back then that was some seriously fancy looking stuff.
19:02:06 <psykotic> transparent xterms! omg! :)
19:02:19 <dons> sjanssen: want to implement "tetris tiling" layout? :-)
19:02:57 <Cale> I ran Enlightenment DR15/DR16 for about 6 years.
19:03:19 <jcreigh> dons: that won't work. What if you get an infinite stream of Z or S tetrominoes? :)
19:03:25 <dons> hehe
19:03:36 <sjanssen> jcreigh: game over
19:03:52 <psykotic> cale: wasn't it extremely unstable and slow back then? that's what i seem to recall
19:04:03 <dons> sjanssen: i think 'floating' layout might be quite simple in fact.
19:04:08 <Cale> Nah, it was pretty solid if you were running a good theme.
19:04:19 <jcreigh> so each workspace would have a floating layer?
19:04:21 <dons> basically, it just takes the x y, w and h from the Window hint, and does nothing to it
19:04:32 <dons> rather than attempting to resize
19:04:36 <Cale> I even ran the CVS version of DR16 for a while with not too many problems.
19:04:59 <jcreigh> but we have to provide a titlebar so you can drag it around or resize it.
19:05:08 <dons> jcreigh: right. im' not sure whether the more obvious 'add floating as yet another tiling mode' , or have  a ubiquitous floating layer, (like wmii) is better
19:05:48 <sjanssen> jcreigh: a title bar isn't necessary (see dwm's float mode)
19:05:57 <hpaste>  dibblego pasted "Data.Ix" at http://hpaste.org/1526
19:06:04 <jcreigh> sjanssen: hmm, I'll take a look
19:06:21 <sjanssen> jcreigh: movement is done by holding mod and dragging
19:06:51 <dons> yes, that's another thing. we could do 'promote' via dragging too.
19:07:01 <dons> mod-drag, swaps windows around. might be cute.
19:07:02 <sjanssen> oh, that's a neat idea
19:07:05 <sorear> isn't enlightenment like, the group-theoretic inverse of xmonad?
19:07:08 <sjanssen> yeah, I like that
19:07:13 <dons> sorear: indeed. :-)
19:07:35 <jcreigh> how do I force a window to float in dwm?
19:07:43 <dons> mod-space iirc
19:07:50 <sjanssen> jcreigh: floating is one of the layout modes
19:08:05 <dons> whereas in wmii its a layer in front of all windows
19:08:08 <dons> which you can lift into
19:08:16 <dons> and in ion its a seperate workspace
19:08:27 <jcreigh> oh, I see. mod-space and *everything* floats.
19:08:57 <dons> right. its simpler than wmii's model
19:09:38 <dons> sjanssen: re. statusbar, i think the only way i can do this is to port dmenu (stripped down) to haskell
19:09:44 <dons> i really don't want to write it in C.
19:09:47 <jcreigh> hmm. dwm is like a single-screen xmonad. :)
19:09:53 <dons> hehe
19:10:04 <dons> and different layout algos
19:10:16 <Cale> sorear: lattice-theoretic complement? :)
19:10:16 <dons> i never liked the 'fullscreen' mode in dwm (i.e. floating + maximised)
19:10:42 <Cale> It's a maximalist window manager :)
19:10:47 <dons> does anyone else remember how buggy dwm/wmii used to be?
19:10:55 <jcreigh> we can't write the statusbar in xmonad?
19:11:02 <Cale> Though really, depending on the theme you run, it can be quite light too.
19:11:10 <dons> i remember a conversatoin with tuomo a few years ago, about it. and we both couldn't get over how easily wmii segfaulted.
19:11:11 <ddarius> Categorical dual.
19:11:27 <dons> funnily, at the time, Anselm was considering doing an honours thesis at unsw on a haskell window manager.
19:11:42 <dons> sjanssen: ^^ little known fact. funny in hindsight
19:11:53 <jcreigh> xmonad is not the first Haskell WM?
19:12:11 <dons> i've had an open project to do a haskell wm for about 4 years
19:12:27 <dons> (though ,yes, the wm in House would actually qualify as the first one)
19:12:31 <Cale> I want a traditional-style Haskell WM
19:13:10 <magnus_> Wooh, I'm now running xmonad :)
19:13:14 <dons> magnus_: yay!
19:13:18 <dons> that was easy, i hope?
19:13:21 <Cale> I'm not really into the whole tiling WM thing.
19:13:29 <ddarius> Is there a site online that you can easily use to graph 2D functions?
19:13:30 <dons> Cale: that means you're a bad person ;-)
19:13:30 <jcreigh> stone him!
19:13:41 <dons> ddarius: hmm. gnuplot?
19:13:50 <magnus_> dons: Not too bad, though I haven't installed it as my default manager yet
19:13:53 <dons> magnus_: so got the key bindings sorted?
19:14:08 <dons> sjanssen: we should have a man page, btw.
19:14:10 <magnus_> dons: Sort of, but some things don't work, eg: shift-alt-return does not open an xterm
19:14:22 <dons> hmm.
19:14:26 <sjanssen> dons: that's an interesting anecdote
19:14:28 <ddarius> dons: I don't want to download anything.
19:14:28 <dons> using the correct mod key?
19:14:37 <psykotic> i already have a wm called emacs
19:14:46 <psykotic> it can do tiling too :)
19:14:50 <magnus_> dons: also this irssi inside xterm isonly using 1/4 of the screen right now
19:14:59 <sjanssen> magnus_: is numlock on?
19:15:04 <dons> magnus_: try mod-space to rotate through tiling modes
19:15:06 <magnus_> dons: I don't know how to make it use all. (the rest of the screen is white)
19:15:08 <dons> sjanssen: ah yes, numlock. hmm
19:15:23 <magnus_> dons: mod-space doesn't help with this one. I only have one window open on this workspace
19:15:31 <sjanssen> numlock is a required fix for 0.2
19:15:35 * sjanssen writes that down
19:15:36 <fantasmaa> mod-h?
19:15:47 <ddarius> Okay, I found one.
19:16:13 <jcreigh> magnus_: switch to a different workspace, open up an xterm, and do "echo $COLUMNS"
19:16:45 <magnus_> jcreigh: 169
19:16:49 <jcreigh> hmm.
19:16:51 <dons> $ echo $COLUMNS
19:16:51 <dons> 102
19:16:51 <dons> $ resize
19:16:51 <dons> COLUMNS=102;
19:16:51 <dons> LINES=38;
19:17:08 <dons> yes, it is a little important to ensure that columns matches the screen
19:17:13 <nornagon> $ echo $COLUMNS
19:17:14 <nornagon> 279
19:17:16 <nornagon> ^- :>
19:17:21 <dons> small font ;-)
19:17:24 <jcreigh> I had a problem a couple days ago where eval `resize` in my .bashrc was triggering *before* xmonad resized the window.
19:17:33 <nornagon> what's amusing is that nethack doesn't cope with >255 columns
19:17:40 <dons> nornagon: hah
19:17:52 <magnus_> in this other window if I start irssi it uses the full screen
19:18:00 <nornagon> so i wrote an alias that checks for COLUMNS > 255 and starts nethack as COLUMNS=255 nethack
19:18:13 <sorear> ddarius: sure, paste your 2d function and I'll feed it into gnuplot and upload the png result :)
19:18:25 <dons> magnus_: so is it just the initial window that didn't go full screen?
19:18:31 <magnus_> dons: Probably
19:18:40 <jcreigh> I removed that line from my .bashrc and all was well. apparently urxvt is able to magically set those on resize.
19:18:46 <ddarius> sorear: That would be to long a response time, also it's a family of functions.
19:18:50 <dons> which would be fixed via a .Xresources setting,  I think.
19:18:55 <ddarius> But I'm done now.
19:19:02 <sorear> ddarius: actually if you can install gnuplot it is much nicer interactively, because you can rotate the grap
19:19:14 <ddarius> It's a 2D graph!
19:19:33 <sorear> ddarius: Oh.  I thought you said it was a 2d function
19:19:45 <sorear> ddarius: looking at now, understanding: http://web.comlab.ox.ac.uk/oucl/work/nick.trefethen/pdetext.html
19:19:45 <lambdabot> Title: Trefethen numerical ODE/PDE textbook
19:19:55 <magnus_> actually no keyboard combo that requires mod+shift works
19:20:12 <fantasmaa> try the other shift key
19:20:50 <ddarius> sorear: That looks handy.  I wish it came as one big PDF.
19:20:57 <magnus_> no combination of alts and shifts works
19:21:57 <ddarius> Maybe...
19:22:38 <magnus_> other than this, I think xmonad is very cool
19:23:32 <fantasmaa> magnus_: what OS are you using?
19:24:34 <magnus_> fantasmaa: debian on x86
19:24:40 <fantasmaa> damn
19:24:56 <jcreigh> debian? etch, sarge, testing, or unstable?
19:25:03 * jcreigh is on etch
19:25:03 <magnus_> unstable
19:25:26 <fantasmaa> etch = new stable?
19:25:42 <jcreigh> yeah, etch went stable, I believe.
19:25:46 <gravity> It idd
19:25:49 <gravity> did even
19:26:27 <jcreigh> output of my xmodmap: http://rafb.net/p/N1YD9V30.html
19:26:28 <lambdabot> Title: Nopaste - output of xmodmap
19:26:48 <fantasmaa> what would the difference between File.hi and File.p.hi be?
19:26:53 <jcreigh> magnus_: I don't know if this will help at all, but compare that with yours. Anything really different?
19:27:16 <magnus_> jcreigh: checking
19:28:19 <magnus_> jcreigh: they are the same. But this made me think of something: alt-shift switches between keyboard layouts for me
19:28:36 <jcreigh> ah. maybe that would do it.
19:28:53 <jcreigh> if you have entries for mod4, (windows key) you might try recompiling with that.
19:30:38 <magnus_> I'll see if I can map keyboard layout switch to something else
19:30:41 <sorear> fantasmaa: no clue.  File.p_hi is profiling though
19:30:54 <magnus_> what I have in my xorg.conf is:
19:31:05 <fantasmaa> sorear: ah yes that is what I meant, thank you
19:31:20 <magnus_> under the "Generic Keyboard" section: Option          "XkbOptions"    "grp:alt_shift_toggle"
19:31:43 <magnus_> and:  Option          "XkbLayout"     "us,se"
19:31:52 <magnus_> that may be useful if someone wants to reproduce it
19:32:32 <dons> sjanssen: did you put some notes into the todo for 0.2's targets?
19:32:42 <dons> ah yes.
19:34:53 <dons> sjanssen: good to see, the repo seems ok.
19:34:56 <dons> i just pushed some other notes.
19:36:13 <TSC> Is the right way to run the tests: "ghc --make -o prop tests/Properties.hs && ./prop" ?
19:36:16 <atp> hey folks.  i'm working my way through the 99 problems to teach myself haskell.  i'm on problem number 16, drop every nth element from a list.  i have an easy solution: my_dropn n xs = map snd (filter (\(i, v) -> i `mod` n /= 0) (zip [1..] xs))
19:36:18 <atp> this works fine
19:36:24 <atp> but i'd like to do an eta reduction
19:36:49 <atp> so i replaced it with my_dropn n = (zip [1..]) . (filter (\(i, v) -> i `mod` n /= 0)) . (map snd)
19:36:52 <atp> which i thought should work
19:37:10 <atp> but i got some wacky errors regarding type from ghci
19:37:12 <TSC> You've got the order backwards
19:37:29 <atp> i do ?
19:37:41 <dons> TSC: $ ghc --make tests/Properties -o tests/prop ; ./tests/prop
19:37:54 <TSC> Thanks dons
19:38:41 <atp> huh, i did have the order backwards
19:38:45 <TSC> atp:  my_dropn n = map snd . filter (\(i, v) -> i `mod` n /= 0) . zip [1..]
19:38:47 <atp> yah
19:38:51 <atp> i just did it and it worked
19:39:06 <atp> i guess i was just being dyslexic :)
19:39:16 <jcreigh> (f . g) x = (f (g x))
19:39:21 <atp> thanks TSC
19:39:31 <TSC> Maybe you want (flip (.)) (:
19:39:39 <atp> jcreigh: the worst part is, i used to be a mathematician :(
19:39:46 <atp> sigh
19:39:47 <atp> ok
19:40:37 <ddarius> @pl my_dropn n = map snd . filter (\(i,v) -> mod i n /= 0) . zip [1..]
19:40:38 <lambdabot> my_dropn = (map snd .) . (. zip [1..]) . filter . (`ap` snd) . (. fst) . (const .) . flip flip 0 . ((/=) .) . flip mod
19:40:43 <wolverian> http://notvincenz.blogspot.com/2007/04/observations-from-date-2007.html "Transactional memory, although very cool, doesn't scale" aw :(
19:40:44 <lambdabot> Title: lambda.oasis: Observations from DATE 2007, http://tinyurl.com/yw4e7z
19:41:12 <atp> what does @pl do?
19:41:28 <jcreigh> translate code to a points-free style.
19:41:49 <atp> oh i see, no n
19:41:53 <atp> it's rather less readable, though
19:41:59 <atp> but nonetheless interesting :)
19:42:34 <jcreigh> yes. Don't fall into the tarpit of thinking that named arguments are bad. :)
19:43:02 <slava> point-free style isn't very useful in haskell because it's backwards
19:43:10 <atp> yeah, i certainly wouldn't do that, but in this case there really was no need for xs, since the function really looked like f(g(h(x))) without any wacky manipulation
19:43:11 <dons> hehe
19:43:19 <dons> slava: you mean, composition points the wrong way?
19:43:34 <slava> yeah
19:43:42 <dons> yeah, that's true.
19:43:45 <atp> aha
19:43:50 <dons> f | g | h
19:43:50 <atp> so i wasn't smoking crack then
19:43:59 <dons> rather than x = h . f . g
19:44:00 <atp> what about $?
19:44:07 <slava> dons: yeah, so you have to read right to left
19:44:08 <atp> oh i guess that doesn't work
19:44:10 <dons> x y = h $ f $ g y
19:44:15 <dons> slava: right.
19:44:28 <dons> i guess i don't notice it at all now, but that's certainly an issue early on
19:44:41 <dons> slava: how's things, btw?
19:44:43 <slava> well, it's not like people write entire programs in point-free style here
19:44:47 <ddarius> slava: There's no trouble defining a diagrammatic order composition and using that.
19:44:50 <ddarius> In fact
19:44:51 <atp> all things considered haskell is a pretty intuitive language
19:44:53 <ddarius> @type (>>>)
19:44:57 <lambdabot> forall (a :: * -> * -> *) b c d. (Arrow a) => a b c -> a c d -> a b d
19:45:07 <dons> | would have been a good reverse compose operator
19:45:09 <slava> is (->) an instance of Arrow?
19:45:17 <ddarius> slava: Of course.
19:45:23 <sorear> slava: IME it's the order reversal that matters more than the order per se
19:45:32 <dons> yeah
19:45:40 <sorear> slava: like you read right to left in hebrew, or similar
19:45:44 <dons> instance Arrow (->) where
19:45:44 <dons>         arr f = f
19:45:44 <dons>         f >>> g = g . f
19:45:58 <dons> so that's convenient
19:46:09 <sorear> slava: when I write point-free haskell, i arrange for things to go completely r-to-l by abusing =<<
19:46:10 <dons> > toUpper >>> ord $ 'x'
19:46:12 <lambdabot>  88
19:46:30 <dons> I think maybe >>> is underappreciated!
19:46:44 <sioraiocht|sleep> dons: I don't know what the whole basis of the class is
19:46:48 <dons> also, its interesting that Thompson defines >.> for this in Craft of FP
19:47:12 <dons> sioraiocht|sleep: the basis of the Arrow class/
19:47:35 <sioraiocht|sleep> dons: yeah like, what the point of it is, I don't really know anything about it other than allusions to it that i've seen
19:47:58 <dons> monads given sequened control flow, arrows give graphs of control (with loops)
19:48:08 <dons> that's the original motivation, anyway.
19:48:19 <dons> so you can model, say, circuits, and circuit-like control flow, with arrows
19:48:20 <sioraiocht|sleep> dons: I don't get the difference..
19:48:56 <dons> arrows generalise monadic sequencing to more complex control flow patterns.
19:49:23 <sioraiocht|sleep> okies, I understand that, conceptually, I guess i'll have to read more about them, now
19:49:51 <dons> for some particular models, arrows are the only way to get the job done.
19:50:03 <ddarius> sioraiocht|sleep: Arrows allow you to attach information to the whole arrow a b c, where as a function b -> m c does not.
19:50:44 <sioraiocht|sleep> hrm...*slow learner* I'll spend some time wrapping my head around this
19:52:03 <Korollary> You are speaking in your sleep.
19:52:11 <Korollary> None of this is real.
19:52:20 * Korollary walks through walls.
19:52:59 * sorear floats up at i meters per second
19:55:42 <magnus_> Back, now xmonad is working better. I changed to left+right ctrl switches keyboard layout
19:56:07 <dons> oh?
19:56:15 <slava> x11 window managers are the new hello world :)
19:56:22 <magnus_> yeah, now the alt-shift-? commands work
19:56:22 <dons> slava: hehe yeah!
19:56:33 <dons> slava: i was thinking that myself.
19:56:42 <dons> slava: window mangers are practically tutorial exercises now
19:56:56 <slava> well, i have no idea how to write one
19:57:18 <dons> oh, they're pretty simple. write a data type to model the screen-of-window-stack data abstractly
19:57:21 * ddarius has no idea how to write one... in Windows.
19:57:27 <dons> then talk to X11 to find out what windows there are
19:57:34 <dons> and resize them/move them, based on some layout algo
19:57:40 <Korollary> There are alternate windows window managers actually
19:58:06 <dons> slava: you'd be able to grok the xmonad src  I think. its pretty clean and well commented.
19:58:15 <slava> i'll check it out
19:58:27 <dons> all on xmonad.org, fwiw.
19:58:39 <dons> all the real logic is in StackSet.hs
19:59:29 <ddarius> Korollary: I know.
19:59:46 <dcoutts> @yarr!
19:59:46 <lambdabot> Well me 'earties, let's see what crawled out of the bung hole...
19:59:50 <slava> what haskell applications do you guys use day to day, other than darcs?
19:59:56 <dcoutts> hia dons, coming in today?
20:00:00 <dons> i use xmonad and hmp3
20:00:02 <ddarius> @paste
20:00:02 <lambdabot> Haskell pastebin: http://hpaste.org/new
20:00:06 <ddarius> @botsnack
20:00:06 <lambdabot> :)
20:00:16 <dons> dcoutts: hmm, i was thinking about it, but its kinda cold and urg :}
20:00:18 <slava> i love darcs
20:00:19 * dcoutts only just got into the office
20:00:25 <slava> dons: hmp3?
20:00:28 <dcoutts> dons: it's stopped raining! :-)
20:00:39 <dons> slava: http://www.cse.unsw.edu.au/~dons/hmp3.html
20:00:40 <lambdabot> Title: hmp3 - curses/ncurses mp3 player
20:00:44 <ddarius> To clarify, hpaste and lambdabot are used constantly.
20:00:45 <dons> dcoutts: ok. i'll come in.
20:00:50 <dons> dcoutts: but i think that'll be after lunch
20:00:59 <dons> oh yes, hpaste and lambdabot.
20:01:05 <dcoutts> dons: I was woken up at 6am by the noise of torrential rain :-)
20:01:08 <dons> yeah!
20:01:16 <ddarius> I want torrential rain.
20:01:27 <dons> any other key apps people can think of?
20:01:32 <dons> oh, i use cpuperf to tune my cpu
20:01:38 <ddarius> Ignoring GHC... ...
20:01:56 <jcreigh> dmwit: hey, what's your opinion on how the statusbar should interact with xinerama?
20:02:03 <dons> darcs-graph is run pretty often, another haskell app
20:02:17 <dmead> hey channel
20:02:27 <dmead> in predicate logic
20:02:30 <dons> heya Gwern
20:02:31 <slava> dons: ncurses binding? you're a brave man
20:02:33 <dmead> double negation still holds
20:02:35 <dmead> right?
20:02:36 <dons> hehe.
20:02:39 <dmead> it's nothing special
20:02:40 <dmead> ?
20:02:41 <Gwern> "These tools are currently in use internally. We plan to make them publicly available as part of our Freespire 2.0 release, scheduled for early 2007." <-- did Linspire ever release their Haskell tools?
20:02:54 <dons> they're available, afaik.
20:02:54 <sorear> @seen stepcut
20:02:54 <lambdabot> stepcut is in #haskell. I don't know when stepcut last spoke.
20:02:57 <dons> but ping stepcut about it
20:03:01 <Korollary> dmead: yes iirc
20:03:08 <jcreigh> dmwit: I'm thinking one statusbar per screen so that you can, eg, display the window title/current layout scheme/whatever. Thoughts?
20:03:10 <dmead> Korollary, k
20:03:21 <sjanssen> jcreigh: that sounds best
20:03:21 * sorear spins the wheel of project ideas
20:03:38 <jcreigh> aptage! aptage! :)
20:03:40 <slava> dons: i see you're calling unsafePerformIO in a handful of places. is this considered "bad"?
20:03:51 <dons> not if the code is actually pure
20:04:02 <dons> since its the main way to tag a foreign function as being pure
20:04:15 * magnus_ builds hmp3
20:04:17 <dons> a nice example is the match regex function in regex.h
20:04:18 <sorear> main-er that just importint it without IO?
20:04:27 <ddarius> dmead: You can have classical and intuitionistic predicate logic.
20:04:30 <jcreigh> unsafePerformIO is like a spiderman suit. With great power comes great responsibility.
20:04:35 <dons> sorear: not sure that's good style though
20:04:51 <dons> but yes, you have to do the proof of purity manually
20:05:28 <dons> magnus_: that's actually hmp3 in one of the xmonad screen shots :-)
20:05:32 <dons> it plays well with tiling wms. hehe
20:06:02 <magnus_> oh cool :)
20:06:27 <magnus_> not really a haskell question, but how did you turn the default xterm background white?
20:06:37 <dons> .Xresources
20:06:47 <dons> XTerm*foreground: black
20:06:47 <dons> XTerm*background: white
20:06:47 <magnus_> ah
20:06:51 <Gwern> magnus_: or an option, I think, would also do the trick
20:07:00 <sorear> yeah -rv
20:07:05 <dons> also, XTerm*faceName: Verdana
20:07:06 * Gwern nods
20:07:28 <slava> have any of you guys seen http://my.opera.com/Vorlath/blog ?
20:07:30 <lambdabot> Title: Software Development - by Vorlath
20:07:38 <slava> he says some pretty outrageous stuff about FP
20:07:42 <dons> hehe
20:07:52 <slava> here's a quote: "No one so far has been able to disprove anything I have to say. I understand things these 'individuals in academia' do not. I could teach them things, but not the other way around."
20:08:01 <dons> hah
20:08:09 <dons> ah well, maybe that doesn't need a response.
20:08:14 * sorear only reads blogs after they have been OK'd by the PHO maint
20:08:22 <slava> "Also, these experts cannot do original research. "
20:08:23 <dibblego> I hope I never take on that kind of attitude
20:09:26 <Korollary> You should have said that earlier so that I could have skipped this.
20:09:29 <jcreigh> oh, "proof by dictionary". nice.
20:09:51 <dibblego> jcreigh, http://en.wikipedia.org/wiki/Appeal_to_authority
20:09:52 <lambdabot> Title: Appeal to authority - Wikipedia, the free encyclopedia
20:10:29 <jcreigh> bah, Wikipeida. They don't know what they're talking about. :)
20:10:32 <Korollary> When a turing machine computes fib 17 but no one is there to read the result, is the output tape written to?
20:11:08 * sorear thought turing machines always ran in vacuua
20:11:10 <plediii> no one ever reads the output tape :)
20:11:20 <dibblego> no, only a thunk exists that can provide a person with the view of a written tape
20:12:11 <Korollary> DFA's written by Bruce Schneier are more powerful than universal TMs
20:13:47 <dibblego> "If the von Neumann architecture goes, so does functional." -- WTF? Quite the opposite!
20:13:47 <slava> Chuck Norris can do TSP in constant time
20:13:47 <jcreigh> Bruce Schneier has written several influential books on cryptography.
20:13:55 <Gwern> "I predict that when multi cores and distributed computing becomes more commonplace, this will really hurt functional programming because of its monolithic style." <-- wow.
20:14:19 <dolio> Drawing pictures with boxes and arrows is the way of the future.
20:14:29 <jcreigh> Gwern: Oh, BTW, X11-extras currently doesn't require Xinerama to build. (I believe you were asking about that earlier?)
20:14:34 <Korollary> eXecutable UML!
20:14:36 <dibblego> it is a shame that the argument becomes worthless in the last section of each of his sentences
20:14:44 <dibblego> it's very difficult to optimise :)
20:14:47 <jcreigh> Gwern: and, by proxy, xmonad doesn't require Xinerama anymore either.
20:14:58 <sorear> In fifty years, I predict the human population will be 0.
20:15:27 <dibblego> sorear, want a bet? :)
20:15:50 <Gwern> jcreigh: yes, that's right. I am glad to hear that
20:16:05 <Gwern> now alls I really need is some sort of echo area in xmonad :)
20:17:26 <jcreigh> "echo area"?
20:17:28 <Gwern> dibblego: that's a good bet to make - the bet is only resolvable if you're right
20:17:39 <Gwern> gotta like observer biases :)
20:17:53 <Gwern> jcreigh: some sort of little area to display some text
20:18:11 <Gwern> kind of like dmenu but for viewing text and not putting it into it
20:18:19 <jcreigh> hmm. Well, I'm working a basic statusbar right now. There might be something in darcs in a couple days.
20:18:32 <jcreigh> (if dons and sjanssen like it)
20:18:45 * Gwern will look forward to it
20:20:04 <sjanssen> jcreigh: how are you implementing it?  as a separate process?
20:20:21 <jcreigh> sjanssen: well, I'm thinking in xmonad. (hence my doubts)
20:20:38 <dons> jcreigh: ah ok.
20:20:41 <dons> hmm.
20:20:43 <jcreigh> sjanssen: I just don't see the huge advantage to a separte process.
20:20:51 <dons> we want to do it as an external process though
20:20:57 <dons> so people can swap it out if they like
20:21:02 <dons> a bit like dmenu/gmrun now
20:21:06 <TomMD> How far would I have to go to help make error messages in GHC make more sense?  Send in common error cases that give bad messages?  Send in code?
20:21:17 <dons> so, dump the xmonad state to a file or named pipe
20:21:21 <dons> or even stdout
20:21:29 <dons> and then pipe that into the statubar
20:21:39 <jcreigh> well, I'm thinking something along the lines of statusBar :: X String in Config.hs
20:21:49 <dons> the problem is threading, iirc
20:22:02 <Korollary> TomMD: Probably more code
20:22:02 <dons> we either have to select/wait on stdin, or use haskell threads. none of which is very nice
20:22:06 <dons> and complicates quite a bit
20:22:14 <jcreigh> oh. Haskell threads aren't nice?
20:22:17 <jcreigh> bummer.
20:22:20 <dons> not with X11
20:22:43 <sjanssen> Haskell threads are okay, but we need to restrict all the X calls to one thread
20:22:48 <dons> i'd really try to just do a dmenu fork that reads text from stdin and displays them
20:23:05 <jcreigh> hmm. I see. I was thinking that eventually, we could do something clever to update, eg, a clock or whatever with a separate thread. But if threads don't work that complicates things.
20:23:09 <dons> then we take the xmonad state and pipe it as a string to dstatus :-)
20:23:27 <dons> jcreigh: yeah, we opndered this quite a bit early on.
20:23:37 <dons> dwm has to use select to fake threading, btw.
20:24:42 <jcreigh> if threading doesn't work, why is threading in the TODO?
20:24:55 <dons> old notes.
20:25:26 * jcreigh ponders
20:25:38 <Gwern> I sort of thought xmonad was partially meant to be a demonstration project: show off the power of types/HOP/darcs/quickcheck/haddock/threading in haskell
20:25:48 <Gwern> */small LOC
20:26:26 <sjanssen> Gwern: my goal for xmonad is to write a window manager I want to use
20:26:44 <sjanssen> but Haskell cheerleading is also a goal :)
20:26:50 <Gwern> heh. and dons?
20:27:02 <jcreigh> dons is trying to take over the world. :)
20:27:04 <Gwern> come to think of it, dons maintains yi, doesn't he?
20:27:26 <Gwern> trying to build a haskell stack, eh? "My dream is Haskell all the way down!"
20:27:32 <slava> dons: what's wrong with haskell threads?
20:27:37 <slava> i thought ghc had good concurrency these days
20:27:53 <Gwern> ("You're very clever young man, very clever. But it's lambdas all the way down!")
20:27:57 <sjanssen> slava: Haskell threads are fine, xlib + concurrency blows
20:28:30 <slava> oh, right
20:28:48 <slava> have you guys investigated xcb?
20:29:04 <sjanssen> slava: I'm writing xcb bindings as a SoC project
20:29:22 <slava> cool
20:29:36 <slava> it's a pity XCB doesn't support input methods or OpenGL yet
20:29:42 <slava> s/OpenGL/GLX/
20:30:09 <sjanssen> not a big problem for xmonad
20:30:26 <Gwern> what? no openGL? but I don't wanna give up my games! :(
20:30:45 <Gwern> you guys better stick with xlib. I need me Defcon
20:30:54 * gravity waits for a compositing wm written in haskell
20:31:03 <jcreigh> Gwern: other applications could still bind to xlib, AFAIK.
20:31:07 <slava> Gwern: you can run xlib clients even if your own is using xcb, obviously
20:31:22 <slava> just like applications don't magically vanish when I start McCLIM, which uses CLX
20:32:45 <fantasmaa> anyone know why cabal isn't passing the -L argument to ghc when I run the following: ``./Setup.hs configure --runghc-args=-L/usr/X11R6/lib''
20:32:46 <dons> my goal is to write better, more reliable apps, that do what I want :-)
20:33:01 <Gwern> slava: oh. I didn't know that.
20:33:08 <dons> and take over the world.
20:33:19 <slava> Gwern: the great thing about x11 is that only the protocol is specified, not the interface clients use to talk to the server
20:33:23 <jcreigh> what was the name of that external statusbar-ish app?
20:33:39 <fantasmaa> pypanel?
20:33:44 <Gwern> gee, dons, what are we going to do tonight?
20:33:45 <dons> dzen?
20:33:50 <jcreigh> yes, dzen
20:33:51 <dons> did we ever look at dzen properly?
20:34:01 <Gwern> slava: I guess so. doesn't seem to have stopped X from sucking in many ways though
20:34:12 <jcreigh> dons: I'll take a look now
20:34:35 <dons> seriously, re "take over the world", who wants our industry to be run by the php guys.
20:34:45 <fantasmaa> is the xmonad mailing list active?
20:34:51 <Gwern> fantasmaa: yes
20:34:51 <dons> very
20:34:56 <jcreigh> u cant code without varibles LOL
20:35:06 <sjanssen> @slap jcreigh
20:35:06 * lambdabot slaps jcreigh
20:35:10 <dons> hehe
20:35:16 <Gwern> (gah. yi requires ghc 6.6. darn gentoo)
20:35:16 <jcreigh> that was my PHP dev impression. :)
20:35:23 <fantasmaa> so it would be worthwhile putting my build error up there?
20:35:25 <jcreigh> (sadly, my day job is even worse)
20:35:42 <dons> fantasmaa: sure, or here on hpaste.
20:35:53 <dons> fantasmaa: any build error is a bug report, really.
20:36:09 <dons> dcoutts: i think i'll work from home today, btw.
20:36:10 <fantasmaa> dons: here's the hpaste: http://hpaste.org/1491
20:36:16 <dcoutts> dons: ok
20:36:34 <dcoutts> dons: are you doing any binary stuff today?
20:36:42 <dcoutts> that's what I'll be looking at mostly
20:36:51 <dons> fantasmaa: right. missing ld options and the like eh?
20:36:57 <Jessehk> I'm a newbie exploring Haskell. Is there any way that this: http://hpaste.org/1527 could be written "better"?
20:36:58 <dons> fantasmaa: i'll have a go on openbsd, and see what i need to do
20:37:11 <dons> dcoutts: yes, if you want to talk in #maya after lunch about what to do next, that's a good idea.
20:37:15 <dcoutts> ok
20:37:25 * dons gets some lunch
20:39:34 <fantasmaa> dons: well, if I do -L<path> on the offending command (Types_hsc_make.o) that works but the build script wont pass -L when I attempt to build the entire package (--runghc-args=-L/usr/X11R6/lib)
20:40:44 <Daveman> chessguy :)
20:40:51 <chessguy> yo!
20:41:52 <Korollary> Jessehk: That looks tight enough to me.
20:44:32 <hyrax42> I'd probably write print . sum . map read =<< getArgs
20:44:40 <hyrax42> *shrug*
20:44:40 <hyrax42> readIO doesn't seem necessary
20:45:26 <chessguy> @type print . sum . map read =<< getArgs
20:45:29 <lambdabot> Not in scope: `getArgs'
20:45:37 <chessguy> ?hoogle arg
20:45:38 <lambdabot> Test.QuickCheck.arguments :: Result -> [String]
20:45:38 <lambdabot> Distribution.GetOpt.ArgDescr :: data ArgDescr a
20:45:38 <lambdabot> Distribution.GetOpt.ArgOrder :: data ArgOrder a
20:45:42 <chessguy> ?hoogle args
20:45:42 <lambdabot> Distribution.Simple.Args :: type Args
20:45:42 <lambdabot> System.getArgs :: IO [String]
20:45:42 <lambdabot> Data.Typeable.typeRepArgs :: TypeRep -> [TypeRep]
20:46:02 * sorear is having a severe shortage of attention span today.
20:46:08 <chessguy> @type print . sum . map read =<< System.getArgs
20:46:11 <lambdabot> IO ()
20:47:07 <chessguy> @type sum . map read =<<
20:47:10 <lambdabot> parse error (possibly incorrect indentation)
20:47:30 <chessguy> @type \f sum . map read =<< f
20:47:31 <dmwit> ?type (sum . map read =<<)
20:47:32 <lambdabot> parse error on input `.'
20:47:34 <lambdabot> forall (m :: * -> *) b. (Num (m b), Read (m b), Monad m) => m [String] -> m b
20:47:53 <jcreigh> @src =<<
20:47:53 <lambdabot> f =<< x = x >>= f
20:48:00 <jcreigh> it's just >>= flipped.
20:48:05 <dmwit> It's like a palindrome, but better!
20:48:34 <jcreigh> hmm. this statusbar stuff was going to be a lot easier until dons told me why it won't work. :)
20:48:39 <chessguy> yeah, i just don't get why "@type sum . map read =<<" didn't work
20:48:55 <dmwit> chessguy: It has to be a section, because (=<<) is infix.
20:48:57 <chessguy> i guess it's considered a section
20:49:06 <chessguy> ok
20:51:05 <atp> jcreigh: because of the thread suckage?
20:51:17 <jcreigh> atp: basically, yes.
20:52:05 <jcreigh> We want xmonad to be able to show some of its state in the statusbar (workspaces info, window name, etc) but also allow the user to put arbitrary text in there, (battery life in laptop, current time, etc.)
20:52:47 <jcreigh> all while ensuring that only one Haskell thread makes X11 calls.
20:53:03 <jcreigh> so we probably will have to go the external statusbar route.
20:53:05 <jcreigh> *sigh*
20:53:14 <dons> i think that's cleaner anyway
20:53:29 <dons> just as dmenu is nicer as an external process
20:53:36 <dmwit> But it also means that there has to inter-process communication...
20:54:07 <dons> its one way though,so that's fine.
20:54:12 <dmwit> Ideally, it will be two-way communication, too, to allow the status bar to have some control over which workspaces are visible, etc.
20:54:17 <dons> xmonad | dstatus
20:54:18 <dmwit> heh
20:54:33 <dons> well, i'm not sure about that
20:54:47 <dmwit> At the very least, there needs to be a communication about how much space is needed for the status bar.
20:55:09 <Gwern> dons: hmm. so you'd have some sort of emitStatus which would print the output of a shell command to stdout, and dstatus would then display whatever it is fed through stdout?
20:55:12 <dons> possibly. though i envisage a popdown dstatus
20:55:25 <dmwit> =(
20:55:27 <jcreigh> popdown? Via a keypress?
20:55:35 <dmwit> The whole point is that it's visible all the time...
20:55:37 <dons> Gwern: it would just print the xmonad state to stdout (say)
20:55:39 <dmwit> (For me, anyway.)
20:56:05 <Gwern> ok, that makes me understand it better than the previous descriptions
20:56:30 <Gwern> dmenu for input to xmonad functions, dstatus for output from xmonad functions... seems to cover most uses
20:56:33 <jcreigh> I was thinking constantly-visible statusbar as well, since I mainly want to help keep track of which workspace is on which screen, which workspace has windows, etc.
20:56:53 <sjanssen> popdown v. always visible can surely be configurable
20:56:58 <dons> certainly
20:56:59 <dmwit> That and see the title of the active window.
20:57:10 <jcreigh> dmwit: that too
20:57:20 <Gwern> remember, I still want a run-or-raise command! :)
20:57:47 <sjanssen> Gwern: and I maintain that it can be done in Config.hs
20:57:52 <dons> note the differening opinions and requirements here practically require this to be a seperate process
20:57:58 <dons> so people can write their own... :-)
20:58:03 <dmwit> Yes!
20:58:12 <dons> esp. if its a 30 line haskell program, dstatus
20:58:13 <dmwit> But I still claim it requires two-way communication to work properly.
20:58:26 <dons> i take your point.
20:59:52 <jcreigh> well, people could write their own in Config.hs as well. (were it not for the threading issues, of course.)
21:00:49 <hyrax42> so are either of you using xmonad day-to-day?
21:01:03 <dmwit> I am.
21:01:18 <thetallguy> stepcut is
21:01:29 <dmwit> I think at least sjanssen, dons, and jcreigh are as well.
21:01:30 <jcreigh> I've been using xmonad day-to-day ever since I implemented Xinerama support.
21:01:46 <hyrax42> as primary wm
21:01:47 <hyrax42> cool
21:01:48 <jcreigh> yes.
21:02:14 <sjanssen> heh, maybe we just need to write Graphics.X11.Statusbar
21:02:55 <dmwit> Does anyone else find it slightly deceptive to claim <500 LOC, but using giant libraries that were also part of the authorship process?
21:03:17 <sjanssen> dmwit: I don't think X11-extras is cheating
21:03:39 <jcreigh> dmwit: X11-extras *should* have been there, darn it!
21:03:43 <dmwit> I guess having a complete API to C libraries that everybody would expect a WM to depend on is fair enough.
21:03:44 <sjanssen> X11-extras only exists because the existing X11 binding is incomplete/bad
21:04:05 <dmwit> Okay, I retract my question. =)
21:04:08 <stepcut> long live xhsb!
21:04:29 <thetallguy> Oh, there's stepcut.
21:04:31 <jcreigh> although the getScreenInfo wrapper we stuck in Graphics.X11.Xinerama is better than XineramaQueryScreens()
21:04:37 <thetallguy> What was ministepcut?
21:04:57 <stepcut> my nokia770
21:05:16 <thetallguy> Of course
21:05:20 <dons> dmwit: X11-extras is just a binding.
21:05:26 <dons> there's no logic outside of xmonad, afaik
21:05:43 <sjanssen> I think there are two things that might be considered cheating:
21:05:47 <sorear> stepcut: <Gwern> "These tools are currently in use internally. We plan to make them publicly available as part of our Freespire 2.0 release, scheduled for early 2007." <-- did Linspire ever release their Haskell tools?
21:05:52 <sjanssen> 1.  the error handler
21:05:58 <dons> ah yes.
21:06:04 <jcreigh> I *do* find it slightly deceptive to claim <500 LOC, and then be very choosy about which lines we count. :)
21:06:07 <dons> that should be a proper binding
21:06:16 <dons> jcreigh: code lines, not comment lines.
21:06:21 <sjanssen> 2.  getScreenInfo's behavior when xinerama isn't present
21:06:24 <dons> dwm cheats in that it does do comments at all ;-)
21:06:34 <thetallguy> sorear: they are publicly available, yes
21:06:50 <thetallguy> sorear, but they are not yet where we would like them to be
21:06:52 <jcreigh> ...but of course, getScreenInfo is the XineramaQueryScreens as it should have been.
21:07:00 <dons> including all comments, and were dwm to be actually commented it'd be about 700 lins to 4000
21:07:05 <stepcut> sorear: all of the tools and source are available on Freespire via apt-get. But, we have not yet provide public RCS or documentation
21:07:10 <jcreigh> so I think it's a Good Thing that it's in X11-extras.
21:07:25 <stepcut> sorear: once Freespire 2.0 is out, hopefully that will change
21:07:36 <thetallguy> sorear: but stepcut and i would like to focus on them after our release
21:07:50 <thetallguy> wonderful stereo
21:08:07 <sorear> stepcut, thetallguy: I am a disinterested person with a memory - address Gwern:
21:08:08 <stepcut> sorear: of course, I started a little already, by uploading haskell-debian to hackage
21:08:16 <stepcut> sorear: right ;)
21:08:28 <jcreigh> dons: for a popdown menu, the statusbar prog would have to be running all the time, just hidden at certain times, right? (because you want to stream status in...)
21:08:30 <thetallguy> sorear: gotcha
21:09:01 <thetallguy> Gwern: email cliff@linspire.com if you want any more info.
21:09:19 <jcreigh> "you" being not dons specifically, but anybody with, well, "status" to show in the statusbar.
21:09:43 <Gwern> thetallguy: no, I was just kind of curious, since I read a ppt presentation but there was never any source available AFAIK
21:10:12 <sjanssen> jcreigh: yes, the program always runs
21:10:24 <robreim> xmonad's line count is getting pretty close to 500 already. Is there no intention to add floating windows? Also, is the statusbar in the TODO likely with a 500 loc limit?
21:10:44 <sjanssen> jcreigh: so popup mode is just --popupkey SomeKeyCode
21:10:57 <jcreigh> robreim: well, the plan is to either get more serious about refactoring, or less serious about the LOC limit.
21:11:05 <sjanssen> robreim: 500 isn't written in stone
21:11:20 <sorear> robreim: we have always been at war with eurasia.
21:11:28 <jcreigh> lol
21:11:42 <Gwern> robreim: floating windows are completely at odd with the paradigm of tabbing
21:12:10 <sjanssen> I'm going to do a poll on the mailing list for floating mode v. floating layer
21:12:15 <robreim> ok. So I've got a patch which adds DWM style tagging to xmonad, but it puts it even closer to 500 loc.
21:12:22 <jcreigh> robreim: and we (well, I do anyway) want some sort of floating window support, if only to stop firefox confirm messages from being fullscreen.
21:12:39 <robreim> I'd be interested to see if my patch works fine with a xinerama setup.
21:12:44 <sorear> robreim: full tagging is incompatible with xineramaj
21:12:54 <magnus_> dons: I'm having trouble with hmp3. I get an error message in the bottom of the screen when I try to play something
21:13:33 <robreim> sorear, I've got tagging working such that a window should only ever attempt to appear on one screen at a time, preferring earlier screens over later ones.
21:13:50 <magnus_> dons: specifically: <file descriptor: 9>: hGetLine: end of file
21:13:57 <stepcut> this is still my biggest complaint about xmonad: http://www.n-heptane.com/nhlab/tmp/xmonad-annoyance.png
21:14:23 <sjanssen> stepcut: just that dialogs don't float?
21:15:10 <jcreigh> stepcut: yeah, that bugs me too.
21:15:15 <stepcut> sjanssen: something like that. I like how the search window *isn't* in front of the web page I am searching. But, the fact that the search window and message box take of 75% of the screen, and the browser takes up 25% is not so cool ;)
21:15:21 <robreim> So, should early screen bias sufficiently make tagging compatible with xinerama or is there more to it?
21:15:26 <thetallguy> Gwern: Yes, that ppt was at the start of the project.
21:16:10 <dons> magnus_: you're giving a valid path to either a .mp3 file, or to a directory containing .mp3s? and you've installed mpg321?
21:16:12 <jcreigh> robreim: Sounds like it should work. You want to email your patch to the xmonad mailing list so we can look it over?
21:16:30 <jcreigh> robreim: also, what do you use tagging for? (I don't use it, and don't really see the need)
21:16:39 <pchiusano> hi
21:16:45 <thetallguy> Gwern: we're collecting and cleaning up.  Hopefully we'll have it all published by summer's end.
21:17:01 <magnus_> dons: Yes to both
21:17:06 <sorear> hello pchiusano
21:17:24 <pchiusano> sorear, eternally present
21:17:41 <dons> magnus_: can you confirm that mpg321 is in your path, and that it will play the mp3 file?
21:17:46 <robreim> jcreigh, getting things like clocks on multiple windows, briefly glancing at other workspaces without switching workspaces, that sort of thing.
21:18:17 <jcreigh> robreim: get some extra monitors, you can have the best of both worlds. :)
21:18:21 <magnus_> dons: crap, my fault again :) alsa was broken by last debian update. Sorry to bother you about it
21:18:25 <dons> robreim: the preferred mechanism for moderately controversial extensions is to implement them in Config.hs. is that possible in this case?
21:18:29 <dons> magnus_: ah ok.
21:18:31 <robreim> jcreigh, tagging was cheaper :P
21:19:01 <robreim> dons, no. I considered that but it really needs to carry a bit of state around saying what windows are visible on what screens etc.
21:19:18 <jcreigh> robreim: really? You can get old video cards and monitors pretty cheap. (Last monitor I bought I got for $15 at the Salvation Army)
21:20:48 <jcreigh> robreim: what do you do with per-workspace layouts?
21:21:17 <pchiusano> I'd like to build a reap/sow pair ala mathematica, and I think it would involve monads, but I'm not sure
21:21:59 <pchiusano> reap <block> evaluates to the list of all values on which sow was called
21:22:03 <pchiusano> so:
21:22:19 <robreim> jcreigh, screens are set to a specific workspace and use that layout. Tagging other workspaces on just bungs the other workspaces in using that layout.
21:22:43 <jcreigh> robreim: oh, so you changed layouts to be per-screen?
21:22:56 <pchiusano> reap ( 2 + (sow 11) - (sow 12) ) would evaluate to [11, 12]
21:23:20 <pchiusano> basically sow tosses values up to the nearest enclosing reap, which are accumulated
21:23:21 <sorear> pchiusano:
21:23:28 <pchiusano> ya
21:23:31 <sorear> @docs Control.Monad.Writer
21:23:32 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/mtl/Control-Monad-Writer.html
21:23:33 <robreim> jcreigh, no, I haven't touched the layout stuff really. It currently maps layouts to workspaces as far as I can tell. I'm continuing in that manner.
21:23:46 <sorear> there's your monad!
21:23:53 <jcreigh> well, I'm confused then.
21:23:55 <robreim> jcreigh, but a workspace tagged onto another workspace will not try to bring its workspace with it.
21:24:10 <dcoutts> dons: sjanssen: you notice you got onto osnews.org with the xmonad story ?
21:24:22 <pchiusano> sorear
21:24:24 <pchiusano> thanks
21:24:40 <pchiusano> but is there someplace I can see examples of the use of that
21:24:41 <sjanssen> dcoutts: yep
21:24:52 <pchiusano> or can you just give me a quick exmple here? :-)
21:25:36 <jcreigh> robreim: so if I'm viewing workspace 1, and I want to view the windows in workspace 2 as well, which layout description does it use?
21:25:58 <robreim> jcreigh, If I switch to workspace 1, the screen will use workspace 1's layout. If I tag workspace 2 as visible, workspace 2 will be added to the screen with workspace 1's layout. Workspace 2 will continue to use workspace 1's layout even if workspace 1 is untagged. To use workspace 2's layout, you must switch to workspace 2.
21:26:12 <magnus_> dons: cool, now it works (and it's beautiful), except for seek forward/backwards which seems to either do nothing or stop audio until hmp3 is restarted
21:26:22 <dmwit> robreim: I find this counterintuitive.
21:26:40 <dmwit> Suppose I am looking at workspace 1, but toggle 2 and 3, which are Wide, Tall, and Full respectively.
21:26:45 <dmwit> Now I untoggle 1 -- what happens?
21:27:09 <jcreigh> dmwit: it sounds like the layout would still be Wide
21:27:19 <robreim> dmwit, Workspace 2 and 3 will both show Wide. How do you think it should work?
21:27:44 <dcoutts> sjanssen: and the osnews readers (who are generally know-nothings) are quite positive :-)
21:27:45 <dmwit> But now we are in a view that neither of the visible workspaces actually has.  Don't you find that disconcerting?
21:28:54 <dmwit> dunno, guess I don't have a better suggestion.
21:29:30 <sjanssen> dmwit: yes, that bothers me
21:29:32 <robreim> dmwit, not really, since I'm viewing everything on workspace 1. If I want to use a different layout, I go to a workspace using it and toggle the workspaces I want. Tags and workspaces are slightly different ideas represented in similar ways in this code.
21:30:24 <robreim> I'd love to hear suggestions on how it could be done better though.
21:31:00 <dmwit> robreim: Probably the best suggestion I've heard yet restricts the tagging functions to a specific subset.
21:31:28 <jcreigh> dmwit: that sounds interesting. how would that work?
21:31:48 <dmwit> Let me see if I can remember this correctly...
21:33:23 <dmwit> It was something along the lines of allowing windows to be on multiple workspaces, but only allowing one workspace to be visible.
21:33:44 <dmwit> I'm not sure how to deal with Xinerama, though...
21:34:50 <robreim> Yeah, my patch supports that too. So you can make a window present on multiple workspaces, and multiple workspaces present on a screen.
21:35:15 <robreim> I think that's how dwm does it? according to their description anyway...
21:35:29 <dmwit> robreim: Right, I'm just suggesting that if you don't allow multiple visible workspaces, then some of the "problems" disappear.
21:35:49 <magnus_> dons: cplay is not working well either on my computer so I guess it's something with my mpg321 version maybe
21:35:59 <jcreigh> but you can't really do that, because with Xinerama, there's *always* multiple workspaces visible.
21:36:01 <dmwit> Oh, I remember.
21:36:05 <dmwit> I have it backwards.
21:36:08 <dmwit> The subset is like this:
21:36:17 <dmwit> wait.
21:36:23 <dmwit> That one doesn't work either, never mind.
21:36:26 <dmwit> =(
21:36:37 <robreim> dmwit, possibly. But I suppose if the only functionality you want is what you describe, you can just use that functionality and ignore the multiple workspace functionality.
21:36:51 <dmwit> yep
21:37:19 * magnus_ is already at home in xmonad
21:37:31 <dmwit> Or have separate tags per screen. =P
21:37:59 <robreim> I get red borders around some of my focused windows and not around others. Is that xmonad doing that or the windows themselves?
21:38:02 <jcreigh> yeah, that's the other solution.
21:38:44 <dmwit> robreim: I also have that problem, notably things like Firefox, Thunderbird, Gvim, and Gnome X-chat don't have borders.
21:39:09 <jcreigh> Seems to be a per-application thing...I wonder if can force windows to have a border somehow...
21:39:57 <robreim> It'd be nice. My main problem with xmonad right now is getting confused about which window is in focus. I think that's a bigger usability problem than the non-floating windows right now.
21:40:24 <Gwern> robreim: doesn't it have a border or something to indicate focus?
21:41:18 <jcreigh> hmm. dwm appears to give them a border. I'll see if I can make xmonad do the same thing...
21:41:29 <robreim> Gwern, some do. that's what we're discussing.
21:41:54 * Gwern should follow the discussion ebtter than
21:45:41 <dons> jcreigh: yeah, just do whatever dwm does, wrt. borders
21:53:50 <Cheery> is there a function in parsec for breaking out a part from text, then parsing it separately?
21:55:18 <Cheery> hmm... thought, the thing is so simple in other hand I guess I use just split
21:56:47 <magnus_> cool, xmonad takes up almost no memory at all
21:58:34 <dcnstrct> which window manager would you guys compare xmonad to in terms of intended functionality ?
21:58:50 <arcatan> dwm, I guess
21:59:00 <LeCamarade> ?src (==)
21:59:00 <lambdabot> x == y = not (x /= y)
21:59:27 <jcreigh> *sigh*...to export a #define from a C header in hsc, do I need to do, eg, CWBorderWidth = #{const CWBorderWidth}?
22:00:02 <dons> dcnstrct: dwm, ion and wmii are the main ones.
22:00:12 * dcnstrct uses wmii and wonders how much hacking it would take to get xmonad to reach that level of functionality
22:00:25 <dons> not that much, i'd imagine.
22:00:27 <Gwern> would xmonad take up memory space equivalent to the size of the binary?
22:00:35 <dons> we implemented a years worth of dwm in 5 weeks, so how hard could it be? :-)
22:00:44 <dcnstrct> =^o
22:00:49 <jcreigh> dwm has been around for a year?
22:00:54 <dons> at least.
22:00:58 <Gwern> more than that, hasn't it?
22:01:02 <dons> it was very buggy till around 1.0 though
22:01:18 <dons> whereas i switched to xmonad after 2 days. hmm. interesting...
22:01:54 <jcreigh> dons: so WRT the FFI question...if there's a bunch of #define'd constants in C I want, do I have to do a bunch of lines like that?
22:02:31 <dons> dwm-0.1.tar.gz          14-Jul-2006 18:37    12k
22:02:41 <dons> so a bit less than a year.
22:02:51 <dons> jcreigh: hmm, check the hsc2hs guide.
22:04:43 <jcreigh> It just has a reference, it doesn't say anything about how trying to use hsc2hs sucks the lifeforce from your body or anything like that. I was wondering what preople typically do when they need to export C #defines
22:05:13 <jcreigh> hmm, maybe setWindowBorderWidth does what it's supposed to. I'll try that first.
22:06:50 * jcreigh doesn't really like hsc2hs...it seems to encourage boilerplate C binding code.
22:07:14 <jcreigh> haha, I win.
22:07:29 <dons> yeah, i think a patch to mention the soul destroying aspect of hsc2hs might be a good idea
22:07:34 <jcreigh> heh.
22:07:48 <dons> robreim: patch not attached :-)
22:08:01 <robreim> dons, Whoops! Thanks :)
22:08:09 <stepcut> dons: at least it doesn't increase the LOC :)
22:08:13 <dons> robreim: but, when it is attached, would you like us to mention it in the 'extensions' part of xmonad.org
22:08:18 <hpaste>  LeCamarade pasted "Put Eq Instance Hither, Lambdafolk." at http://hpaste.org/1528
22:08:19 <dons> stepcut: heh
22:08:23 <dons> best kind of patch :-)
22:08:38 <LeCamarade> Okay! I give up! How can I inherit Eq so that my new data type can use (==), if it (data type) has two constructors ... pasted it.
22:08:38 <dons> stepcut: you given 0.1 a whirl yet?
22:08:54 <dons> derive Eq ?
22:09:02 <LeCamarade> dons: Aye.
22:09:07 <robreim> dons, that'd be fine. Though I imagine it would be a lot of fun trying to keep it consistent with xmonad's ever changing base code.
22:09:11 <jcreigh> oh, Operatings doesn't import Config...well, 1px should be enough for everyone. :)
22:09:15 <jcreigh> *Operations
22:09:17 <LeCamarade> dons: Tried that. Didn't work.
22:09:17 <stepcut> stepcut: I don't think so, I believe I am using a darcs pull from Friday
22:09:28 <stepcut> s/stepcut/dons/ :)
22:09:33 <dons> robreim: hopefully things won't change much. we'll probably fix the internal api for 0.2
22:09:48 <dons> jcreigh: yeah, if you could think about how best to do this, that'd be cool
22:09:56 <dons> (configurable colour/size for the border)
22:10:05 <dons> w/o requiring mutually recursive imports
22:10:29 <jcreigh> I'm just going to send the 1px patch for now...but Config thing is a big issue that we need to tackle soon.
22:10:52 <dons> so you've made the 1px border more reliably drawn? not overridable?
22:11:13 <jcreigh> well, I just put "setWindowBorderWidth d w 1" in "manage", and it Works For Me(TM)
22:11:21 <dons> and yeah, send it to xmonad@ so we can all have a look
22:11:23 <jcreigh> I suppose clients could change their border later...
22:11:30 <dons> jcreigh: is that what dwm does?
22:11:45 * stepcut goes to bed
22:11:47 <dons> and how does it differ from the current system (did we not border-ise existing windows?)
22:12:24 <jcreigh> dons: naw, dwm does some stuff with configureWindow (thus my need for some masks defined in xlib)
22:12:24 <Pseudonym> Does X11 use Xlib or XCB?
22:12:30 <jcreigh> xlib right now
22:12:36 * Pseudonym nods
22:12:52 <jcreigh> sjanssen is working on XCB for Haskell.
22:12:58 <Pseudonym> Cool.
22:13:16 <Pseudonym> xcb isn't pretty at the moment, especially its build system.
22:13:37 * LeCamarade is starting to quiver at the lips ... the lambdafolk could save him with a couple of lines ... he's gonna cry ...
22:14:05 <robreim> I was thinking to myself yesterday that it'd be nice if xmonad had a status bar which could swallow menu bars like the mac menu bar. It think that sort of menu bar would work well with a tiling WM.
22:15:06 <jcreigh> gah, I just send a patch to haskell@xmonad.org
22:15:06 <fantasmaa> linking Graphics/X11/Types_hsc_make.o failed
22:15:06 * LeCamarade his paste is on a continual reload ... _mais rien se passe l ... il va pleurer ... :o(
22:15:09 <jcreigh> let's try that again...
22:15:44 <jcreigh> okay.
22:16:11 <mwc> what's wrong with this instance? instance Num c => Num (a -> b -> c) where ...
22:16:11 <sjanssen> should I change the default patch email to xmonad@haskell.org?
22:16:16 <sjanssen> or is that too much traffic?
22:16:21 <jcreigh> I sent the trivial 1px patch xmonad@...let me know if you don't get it. (due to gmail suckage, I won't see the mailing list copy)
22:16:53 <sjanssen> jcreigh: got it
22:16:56 <jcreigh> cool.
22:17:05 <sjanssen> ha, that is trivial
22:17:17 <sjanssen> no X11-extras changes?
22:17:27 <jcreigh> no
22:17:39 <jcreigh> believe or not, that function is wrapped in X11. :)
22:18:24 <jcreigh> dwm uses XConfigureWindow, which is in X11-extras. But the mask we'd need to give it (CWBorderWidth) isn't in X11-extras. Then I stumbled upon setWindowBorderWidth.
22:18:32 <fantasmaa> how can I use hsc2hs to build the X11 bindings?
22:18:49 <jcreigh> fantasmaa: IME cabal just does it automagically.
22:19:13 <fantasmaa> well cabal is failing to link my x11 libs
22:19:15 <mwc> I thought it may have been that once can use only a single type constructor, but a) a -> b -> c = (->) a ((->) b c)), and b) I got the same error for a similar uncurried form (a,b) -> c
22:19:38 * jcreigh wonders what the difference between XWindowSetBorderWidth() and doing the same thing with XConfigureWindow() is
22:19:47 <jcreigh> I suppose this is why XCB exists?
22:19:58 <LeCamarade> If I have: data TChar a = TChar a | EscTChar a, how can I make TChar inherit the Eq class, so that I can do simple comparisons with (==)? Can someone instance Eq with TChar?
22:20:12 <jcreigh> LeCamarade: deriving (Eq)
22:20:44 <fantasmaa> why wont haskell pass -L/usr/X11R6/lib when I do --runghc-args=-L/usr/X11R6/lib ?
22:21:06 <LeCamarade> jcreigh: It is more-complex. Because I want this to be false: (TChar 2) == (EscTChar 2) -- giveth false.
22:21:20 <jcreigh> LeCamarade: right.
22:21:32 <LeCamarade> jcreigh: And `deriving' will make it return true, no?
22:21:42 <Cheery> Is there some other parser modules than Parsec?
22:21:51 <jcreigh> LeCamarade: I'm 99% sure deriving Eq will give false in that case. they're different constructors.
22:22:16 <LeCamarade> jcreigh: Okay. Thanks a fat bunch, but how would I derive it by hand?
22:22:17 <sjanssen> jcreigh: that seems to fix any border issues I've seen
22:22:38 <fantasmaa> what versions of ghc have you all compiled xmonad with?
22:22:46 <sjanssen> 6.6
22:22:55 <sjanssen> I've gotten reports from 6.4.2 users too
22:23:25 <magnus_> 6.6 here too
22:23:35 <fantasmaa> do you know of any freebsd users who've built xmonad?
22:24:04 <jcreigh> fantasmaa: not offhand...are you having troubles?
22:24:05 <LeCamarade> jcreigh: Because the compiler seems to be against any attempts to derive it by hand. And I really want to see how it would be done.
22:24:36 <fantasmaa> jcreigh: yes, very much so: http://hpaste.org/1491
22:25:04 <monochrom> Cheery: http://www.haskell.org/haskellwiki/Libraries_and_tools/Compiler_tools#Lexers_and_parsers   I personally recommend PolyParse.
22:25:05 <lambdabot> Title: Libraries and tools/Compiler tools - HaskellWiki, http://tinyurl.com/2d7ohd
22:25:27 <sjanssen> fantasmaa: I've seen a similar error from a OS X user.  He solved the issue by copying .so's to another directory (you probably don't want to do that)
22:26:02 <adu> ! "hello"
22:26:12 <adu> oops
22:26:33 <fantasmaa> I just don't know which piece of software to blame...GHC, the linker, ...
22:26:55 <sjanssen> it's cabal, I think
22:27:48 <jcreigh> LeCamarade: instance Eq (TChar a) where compare a b = ...
22:28:14 <jcreigh> oh, wait, you might need to say "a" is in Eq there...
22:28:26 <monochrom> "compare"?
22:28:35 <jcreigh> err, right.
22:28:39 <dons> my link errors on openbsd for X11 were fixed by setting some combination of LDFLAGS and CPP thingies
22:28:39 <jcreigh> that would be for Ord
22:28:43 <fantasmaa> sjanssen: is there any way to "fix" cabal?
22:28:55 <fantasmaa> dons: where did you set them?
22:29:10 <dons> iirc, it was in ghc-options, possible in the environment.
22:29:16 <dons> look, i'll have a go at buliding X11 1.2 now.
22:29:35 <jcreigh> LeCamarade: don't listen to me. :)
22:30:07 <sorear> @flush
22:30:52 <dons> fantasmaa: so configure runs fine, yes?
22:30:53 <LeCamarade> jcreigh: I'm trying it.
22:30:58 <fantasmaa> dons: yeah
22:31:33 <jcreigh> LeCamarade: I think you'll want instance (Eq a) => TChar a where a == b = ...
22:31:50 <dons> and hsc2hs runs fine, and we start building?
22:32:12 <LeCamarade> jcreigh: Umm ... I have tried that too. I think. Been at it for really long. I hpasted it, though. ;o)
22:32:23 * LeCamarade goes off to try that again ...
22:32:40 <fantasmaa> dons: what do you mean? do you run hsc2hs in between configure and build?
22:33:00 <dons> hmm. X11 1.2 built out of the box for me this time.
22:35:09 <jcreigh> LeCamarade: hold a sec...
22:36:25 <hpaste>  jcreigh annotated "Put Eq Instance Hither, Lambdafolk." with "manual instance of Eq" at http://hpaste.org/1528#a1
22:36:27 <dons> oh nice. i noticed X11 doesn't come with ghc-options: -O2 ...
22:36:41 <dons> so i'd encourage xmonad devs to rebuild with that set..
22:36:59 <dons> fantasmaa: hmm, X11 1.2 seems to just build for me on openbsd
22:37:05 <fantasmaa> dons can you type the whole set
22:37:23 <jcreigh> LeCamarade: sorry for the misinformation earlier...you can almost always use "deriving", so I barely remember the syntax when I need it.
22:37:24 <dons> set of commands I used?
22:37:25 <fantasmaa> for ghc-options that is
22:37:34 <dons> ghc-optoins: -O2
22:37:54 <dons> i also have,
22:37:55 <dons> $ echo $CPPFLAGS
22:37:55 <dons> -I/usr/local/include
22:37:57 <dons> $ echo $LDFLAGS
22:37:57 <dons> -L/usr/local/lib
22:38:01 <dons> but that won't affect X11
22:38:10 <jcreigh> I thought X11 had autoconf magic.
22:38:11 <bos> dons: poked a bit more at my spellchecker.
22:38:26 <sjanssen> fantasmaa: this is probably a stupid question, but you do have libX11 installed, right?
22:38:28 <dons> fantasmaa: what's in your X11.buildinfo file?
22:38:29 <bos> i'm spending lots of time in loopU and splitWith
22:38:36 <fantasmaa> sjanssen: yes I do
22:38:37 <dons> bos, hehe. loopU eh?
22:38:48 <dons> bos, you're trying to write a fusible version?
22:38:49 <bos> yeppity.
22:39:05 <dons> hmm. we should really get the stream version for bytestring out.
22:39:06 <bos> not trying to write a fusible anything in particular, was just curious where my time was going.
22:39:27 <dons> ah, interesting.
22:39:33 <dons> maybe you want to disable fusion for map in this case.
22:39:44 <fantasmaa> buildable: True
22:39:44 <fantasmaa> cc-options :-I/usr/X11R6/include
22:39:44 <fantasmaa> ld-options: -L/usr/X11R6/lib
22:40:08 <bos> it's a bit hard to tell which rewrite rule is causing the fusion.,
22:40:21 <dons> bos, compile with -ddump-simpl-stats -O2 and see what rules fire
22:40:54 <dons> yes, its a bit annoying that's the old fps, which uses functional array fusion (slower) than the new stream fusion one
22:41:20 <bos> dons: i'm using darcs head of fps
22:41:27 <robreim> how do you move windows between workspaces in xmonad without the tagging features?
22:41:36 <robreim> sorry, ignore that question
22:41:37 <dons> right. not the unstable branch though, which does provide stream fusible bytestrings
22:41:43 <bos> it's actually about 5% slower than ghc 6.6's bytestring
22:41:44 <robreim> I forgot :)
22:41:49 <dons> bos, you want to play with that instead?
22:41:51 <bos> no, not the unstable branch.
22:41:57 <bos> sure!
22:41:58 <dons> oh, that's strange. its the same code as ghc 6.6, pretty much
22:42:04 <fantasmaa> I think my linker is borked
22:42:11 <jcreigh> LeCamarade: http://hpaste.org/1528#a1 in case you missed it...but there's no reason to define that manually. just use deriving Eq
22:42:15 <dons> bos, darcs get http://www.cse.unsw.edu.au/~dons/code/fps-unstable/
22:42:19 <ivanm> @seen sorear
22:42:27 <encryptio> i just can't remember this: left associative is 1+2+3 == (1+2)+3 ?
22:42:27 <dons> but note that its unstable :-) so just for experimental purposes
22:42:35 <fantasmaa> dons: what happens when you do ``ld -lX11''
22:42:48 <dons> fantasmaa: undefined refs
22:43:02 <dons> to libc
22:43:06 <bos> dons: thanks, got it
22:43:19 <LeCamarade> jcreigh: I just _must_ learn how to derive it manually. It feels weird not to be able to ... :o)
22:43:20 <bos> eek, --partial is copying all 921 patches.
22:43:32 <dons> we did a lot of work last july on it
22:43:45 <jcreigh> LeCamarade: oh, sure, learn how. just don't do that in actual code unless you really need to.
22:44:27 <jcreigh> LeCamarade: are you're not "deriving" an instance, you're "defining" an instance. Deriving an instance is what "deriving ..." does.
22:44:36 <jcreigh> s/are/and/
22:45:23 <bos> dons: the literal name of the rule (e.g. "FPS pack/packAddress") should show up in the stats output, right? in which case the compiler is fusing nothing in my code.
22:46:44 <dons> bos, there must be some map -> map fusible's firing though, i guess?
22:47:22 <bos> no. i have only one call to map in the entire program.
22:47:25 <dons> bos, also, one idea would be to use a local definition of a non-fusible bytestring map (rather than disabling fusion) to avoid map -> loopU
22:47:37 <jcreigh> g'night all.
22:47:55 <dons> bos, have a look at map' in the Data.ByteString source
22:48:04 <bos> sure, thanks.
22:48:05 <dons> ah yes, i see we don't bother rewriting to and from a non-fusible map.
22:48:05 <LeCamarade> jcreigh: Umm ... so I had my words wrong. Again, I suck at jargon. Hate it.
22:48:18 <dons> so you always get the loopU fusion currently
22:48:40 <dons> not ideal. need to update this code before 6.8 comes out
22:49:04 <bos> is loopU known to be a not-so-good thing, then?
22:49:09 <robreim> jcreigh, goodnight, and thanks for the focus border patch - just what I wanted :)
22:49:15 <LeCamarade> jcreigh: Wow. Exa'tly what I wanted. Just wasn't sure it wouldn't @slap -f /me. Merci beaucoup.
22:49:19 <dons> well, its maybe 2x slower than the specialised map', when it doesn't fuse
22:49:35 <dons> so normally we speculatively rewrite map -> loopU, and back again, if fusion doesn't take place.
22:49:45 <dons> surprisingly, we don't seem to be doing that in fps head.
22:52:47 <bos> @hoogle inlinePerformIO
22:53:00 <bos> bad timing :-)
22:53:10 <dons> heh
22:53:21 <dons> its in Data.ByteString.Base
22:53:52 <dons> jcreigh: yeah, border seems to be more reliable
23:04:28 <bos> dons: map' doesn't seem to make much difference (2.5%)
23:04:38 <dons> ok. good (phew)
23:04:53 <sjanssen> haha, from an OSNews comment about xmonad: " Lucky for him Microsoft dropped the "Monad" codename for their new shell already or he could have been ceased and desisted into another name. "
23:04:53 <dons> that explains why there's no special rule for map -> loopU and back
23:04:57 <dons> hehe
23:05:48 <bos> i'm recording each performance experiment in my darcs repo.
23:06:10 <bos> i have a lot of "try this ... rollback" sequences
23:06:14 <dmwit> Ummm... I don't think the border color specification does what it is supposed to.
23:06:42 <dons> dmwit: is that a bug report?
23:06:59 <dmwit> I tried changing the colors to 0xff0000 and 0x330000 for active/inactive window respectively, and they both came out black.
23:07:01 <dmwit> dons: I guess so.
23:07:12 <dmwit> dons: Although I'll work on it, and hopefully figure out what it is.
23:07:41 <dons> not sure that's related to the most recent patch though?
23:07:47 <dmwit> I'm sure it isn't.
23:07:56 <bos> quelle de bummer. the code is slow, and i know not why.
23:08:08 <dons> bos, reading the core yet?
23:08:19 <dons> -ddump-simpl | less is the performance hacker's friend
23:08:56 <bos> yeah, i'm reading the core, but i can't claim to understand it.
23:09:13 <dons> its a process of osmosis. eventually you'll dream in System F
23:09:43 <bos> by which time everyone else will be dreaming in system FC for years
23:09:48 <dons> hehe
23:11:39 <bos> the problem with grovelling through core output is that it really helps to have a ghc hacker sitting next to you, going "ah-HA! see that?"
23:11:57 <bos> until such time as you absorb enough context to be able to produce your own "ah-HA!"
23:12:32 <dmwit> ???
23:12:36 <dons> bos, yeah.
23:12:43 <dmwit> It now works as it ought to.
23:13:06 <dmwit> ...I guess I retract my bug report, but I have no idea why.
23:13:08 <bos> i lost my privileged access to ghc hackers a long time ago, before i knew enough to make best use of it :-(
23:13:11 <dons> dmwit: hmm, artifact of restarting? perhaps colours have to be initialised or something?
23:13:35 <dmwit> dons: I don't know!  I did all the same restarting steps this time as before.
23:13:44 <dons> X is weird.
23:13:45 <dmwit> Anyway, I'll wait till it goes wrong again to complain. =)
23:13:47 <dons> 'nuf said.
23:15:09 <dons> sjanssen: oh, interesting 'hill climbing' software dev article on reddit. i think xmonad is roughly a hill climbing process
23:15:23 <dons> start somewhere good, try to improve, back out obviously bad changes
23:15:42 <dons> and accept small backward steps in the hope of finding a new local maxima
23:19:02 <fantasmaa> dons: quick favor to ask: can you show me the output of your ld -V
23:20:36 <dons> $ ld -V
23:20:37 <dons> GNU ld version 2.15
23:20:37 <dons>   Supported emulations:
23:20:37 <dons>    elf_i386_obsd
23:21:56 <dons> fantasmaa: have you tried running the linking line by hand?
23:22:03 <dons> build with -v or -v4 (?)
23:22:12 <dons> and see what ghc command is being printed to do the linking
23:22:17 <dons> then run that by hand, and tweak till it works
23:22:26 <fantasmaa> I tried
23:22:40 <fantasmaa> and it works when i do -L/usr/...blah
23:23:00 <fantasmaa> when I build that file alone though
23:26:19 <Gwern> > let height w = 60*(w^(1/3))
23:26:27 <Gwern> > height 10
23:26:42 <fantasmaa> I'll try messing around with it later. Let me know if you encounter any FreeBSD users who've managed to install xmonad.
23:26:52 <fantasmaa> thanks for everything
23:26:58 <foxy-om> > let height w = 60*(w**(1/3))
23:27:02 <foxy-om> > height 10
23:27:06 <Gwern> **?
23:27:20 <fantasmaa> > let let height w = 60*(w**(1/3)) in height 10
23:27:35 <fantasmaa> > let height w = 60*(w**(1/3)) in height 10
23:27:41 <encryptio> > 1+1
23:27:58 <_roconnor> 2
23:28:18 <foxy-om> @botslap
23:28:33 <foxy-om> @seen lambdabot
23:28:39 <Gwern> gotta like hoogle... the only info on ** is its type signature
23:28:55 <Gwern> who needs regular documentation? :)
23:29:04 <dmwit> That's not Hoogle's fault...
23:30:58 <foxy-om> dons: ping, lambdabot seems reticent
23:31:30 <dmwit> foxy-om: sorear is in charge of it for now.
23:32:46 <dons> hmm. s/reticent/dead/
23:33:49 <dons> let's see...
23:42:12 <LeCamarade> Umm ... is there a way to compile Haskell for .NET? Not to use .NET interop assemblies. I mean compiling for .NET.
23:42:19 <LeCamarade> Java is well nigh there.
23:42:24 <LeCamarade> @google jaskell
23:42:37 <dons> LeCamarade: nope. not well supported anyway.
23:43:33 <LeCamarade> dons: Link?
23:43:56 <dons> google, basically just research projects have pondered it.
23:45:41 <dons> > 1+2
23:45:48 <lambdabot>  3
23:46:04 * LeCamarade thinks it could be a nice way to waste company time ...
23:46:22 <LeCamarade> dons: Scare me out of it: what would I need to do?
23:46:50 <Gwern> is there any better way to do this:
23:47:13 * Gwern curses copy and paste
23:47:38 <Gwern> regularNuke w = [(0.35 * energy w), (0.5 * energy w), (0.15 * energy w)]
23:47:42 <dons> LeCamarade: you'd have to implement a code generator for ghc, and a runtime in .NET
23:47:52 <dons> LeCamarade: talk to aja, he's doing this for his honours thesis :-)
23:48:23 <dons> ?users
23:48:23 <lambdabot> Maximum users seen in #haskell: 287, currently: 286 (99.7%), active: 7 (2.4%)
23:48:25 <LeCamarade> dons: The .NET runtime is already there. :o) I could ride on Mono. Oh! aja! Wow. Then I can wait for aja's work. Phew.
23:48:40 <dons> @tell sorear i think i can keep the bot over here for a while yet
23:48:41 <lambdabot> Consider it noted.
23:48:46 <dons> LeCamarade: a .NET runtime for haskell.
23:49:08 <dons> much easier to do interop
23:49:17 <dons> than to actually run entirely in .NET
23:50:56 <LeCamarade> dons: So, we won't be compiling for .NET, but rather using an alternatice CLR?
23:53:40 <dons> no, its more a mapping from a haskell runtime to CLR
23:54:11 <LeCamarade> dons: Oh. Okay ... you said he/she is called aja?
23:54:20 <LeCamarade> @seen aja
23:54:20 <dons> he is aja, and is here sometimes.
23:54:20 <lambdabot> I haven't seen aja.
23:54:34 <dons> ?google aja unsw
23:54:35 <lambdabot> http://www.cota.org.au/aja/ajamedia04.htm
23:54:35 <lambdabot> Title: AJA media releases 2004
23:54:38 <dons> nope.
23:55:00 * LeCamarade is worried - the Oceanians have really colonised Haskell!
23:55:33 <LeCamarade> Next thing we know, the official pronunciation will be `Haskyle'.
23:55:43 <LeCamarade> As per spec.
23:56:25 <dmwit> I heard somebody in a video say it as "haskl" the other day.
23:56:43 <dmwit> That pronunciation potentially avoids confusion with "pascal" -- a very nice property, in my opinion.
23:57:20 <Gwern> radiationNuke w = [(0.35 * (energy (0.5 * w))), (0.5 * (energy (0.5 * w))), (0.15 * (energy (10.0 * w)))] <-- now that's just painful to look at
23:58:50 <hyrax42> how is it meant to be pronounced?
23:58:58 <dmwit> O reel Worlde, howe thine dependans on Numbres doth damage the Eye!
23:59:44 <Gwern> dmwit: eye agree
23:59:59 <Gwern> the mind reels - a drunken irish jig
