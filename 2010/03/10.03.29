00:25:13 <lpsmith> is there a nice convenient way of having ghc print all the inferred type signatures of top-level definitions in a file?
00:26:06 <FliPPeh_> Erm
00:26:15 <FliPPeh_> Try :browse <yourmodule>
00:26:18 <FliPPeh_> in GHCI
00:26:39 <FliPPeh_> That's the only way I know of
00:28:54 <FliPPeh_> lpsmith: did you mean something like printing out the types while compiling?
00:29:08 <FliPPeh_> Or do you just want to figure the types out?
00:31:59 <lpsmith> I want a nice way to get all the types on the screen so I can copy and paste them into the relevant file :)
00:32:06 <lpsmith> FliPPeh_, ^
00:32:24 <FliPPeh_> lpsmith: Just load your module/file into GHCI and enter ":browse yourmodule"
00:32:44 <FliPPeh_> Will print out all type signatures!
00:32:48 <lpsmith> thanks
00:33:20 <Phyx-> _all_ or only toplevel functions?
00:33:44 <FliPPeh_> If toplevel is everything but where/let defined, then yes
00:33:49 <FliPPeh_> Also type constructors
00:33:58 <FliPPeh_> records
00:34:23 <lpsmith> hmm
00:34:51 <lpsmith> lots of fully qualified names in the output
00:35:30 <FliPPeh_> Unless you import them qualified, GHC will always infer the full type "path"
00:44:15 <lpsmith> yeah,  it's ok,  I'm not exactly familiar with the codebase and libraries anyway, so it's not all bad
00:52:48 <Phyx-> this might sound silly, but is there such a thing as a literate cabal file?
00:53:03 <FliPPeh_> :/
00:53:09 <FliPPeh_> I doubt it
00:53:18 <lpsmith> cabal init (for recent versions of cabal) is half-literate
00:53:45 <Phyx-> cabal init?
00:53:49 <lpsmith> run "cabal init" and have a peek at the .cabal file it generates for your project
00:53:56 <Phyx-> ok
00:53:59 <Phyx-> thanks
00:54:06 <lpsmith> do it in an empty directory though
00:55:45 <FliPPeh_> But that's not exactly literate
00:55:49 <FliPPeh_> Just some comments
00:57:15 <Phyx-> wonder if I make a feature request if they'd consider it :P
01:01:14 <FliPPeh_> Worth a try, but is there a concrete use for that? :/
01:01:38 <FliPPeh_> Documenting a program source is a nice feature, but the package installation file? :)
01:02:04 <FliPPeh_> That's like shipping a manual how to open the box it was shipped with!
01:04:45 * ski . o O ( "        --help  Displays this help." )
01:05:05 <FliPPeh_> I always love the obligatory help on the help :)
01:05:09 <FliPPeh_> It's like man man
01:11:24 <Phyx-> FliPPeh_: what I would like to use it for, is so that the same cabal file could be used for a haskell project file, but also another build system like MSBUILD, I could just have two files, but I would much rather have 1 file and some fields which cabal would ignore
01:12:02 <FliPPeh_> So not exactly a literate thing, but a double-meaning?
01:12:17 <FliPPeh_> If it walks like a duck and quacks like a duck, it is indeed a duck!
01:14:53 <ski> .. a polyglot build file ?
01:15:47 <FliPPeh_> You'd have to have both build systems ignore the invalid instructions from the other system :/
01:16:08 <FliPPeh_> Sounds like more work than it'd be worth
01:16:58 <Phyx-> FliPPeh_: true... I didn't think about the reserse..
01:16:59 <Phyx-> hmm
01:17:37 <Phyx-> FliPPeh_: but the alternative is maintaining 2 files, and also checking for consistency on load
01:18:11 <Phyx-> alternatively, just use the cabal file as primary, and generate the other based on it when needed
01:18:13 <FliPPeh_> The foolish alternative would be putting both files inside a tarball or something, but I think the whole source tree will be in a tarball anyways
01:18:29 <FliPPeh_> The SMART alternative would be, automatically generating the build files
01:18:50 <Phyx-> yeah
01:18:51 <FliPPeh_> Like have one central file that you change, and then have the 2 real files generated from that file
01:18:55 <FliPPeh_> How does that sound?
01:19:12 <FliPPeh_> A simple bash script would do that job :)
01:19:46 <Phyx-> lol, yeah, I think i'll do that, i would have parsed the cabal file anyway, should be trivial at that point
01:21:43 <Phyx-> bleh, multiline comments are evil :P
01:23:02 <FliPPeh_> I always stumble over those when I want to read in configuration stuff
01:23:12 <FliPPeh_> Because the line-by-line approach seems so easy.
01:24:34 <FliPPeh_> :/
01:24:56 <FliPPeh> What's happening here?
01:25:09 <FliPPeh> Freenode going nuts.
01:25:19 <writer> under DoS attack..
01:25:32 <Phyx-> FliPPeh: yeah
01:25:34 <FliPPeh> Suckers should take Quakenet down
01:25:38 <FliPPeh> Not Freenode
01:25:48 <Phyx-> FliPPeh: I'm also doing coloring line-by-line
01:26:00 <Phyx-> so multi-line comments need special attention to work :(
01:26:26 <FliPPeh> Phyx-: I developed the habit to use parsec for such stuff
01:26:29 <FliPPeh> Parsec + Lexer
01:26:36 <FliPPeh> It handles the nasty stuff for me
01:27:06 <Phyx-> FliPPeh: i'm using the ghc lexers, so that's no problem
01:27:19 <Phyx-> the problem is, since i'm getting the lines to colorize one by one
01:27:23 <Phyx-> if i get
01:27:32 <Phyx-> hello world, this is a comment
01:27:38 <Phyx-> with {- and -} on another line
01:27:45 <Phyx-> it won't know that
01:28:11 <FliPPeh> This is where Parsec jumps in :)
01:28:21 <FliPPeh> It does not read line by line
01:30:34 <Phyx-> FliPPeh: this isn't a lexer problem
01:32:43 <FliPPeh> parse value "" "[true,false,/*comment\n\n */true]"
01:32:44 <FliPPeh> Right (JList [JBool True,JBool False,JBool True])
01:32:47 <FliPPeh> Looks like it is :)
01:33:07 <Phyx-> It has nothing to do with the parser at all
01:33:28 <Phyx-> I'm saying, the IDE provides me with spans of text to color, which could be a substring in a comment
01:33:45 <FliPPeh> So you're getting no full context?
01:34:11 <Phyx-> I can ask the full context, but I certainly don't want to lex the full file on every change
01:34:31 <Phyx-> i'm currently just gonna keep track of multiline comments
01:35:01 <FliPPeh> Too bad it's no compilation process where you could just remove those comments
01:35:47 <Phyx-> lol
01:36:41 <Phyx-> and tabs... tabs are also evil..
01:38:11 <Twey> Phyx-: Can't you ask for more context without asking for everything?
01:39:00 <FliPPeh> Yuck, I shouldn't have stayed up for 24 hours
01:39:35 <FliPPeh> It's always dangerous when I don't have to spend my mornings in class.
01:39:50 <Phyx-> Twey: yeah, I can ask for anything, I know the current line number, and i can ask for any line
01:40:41 <FliPPeh> Phyx-: How about looking around the current line until you find a matching comment start or end?
01:40:47 <FliPPeh> But it sounds stupid..
01:40:51 <Twey> Because that could be the whole file
01:42:00 <fasta> Phyx-, what are you trying to do?
01:42:34 <fasta> (And since when does "the IDE" mean anything? )
01:42:38 <Phyx-> fasta: correctly colorize multiline comments using the ghc lexer. But i'm getting the lines to colorize one by one, though I could ask for more if needed
01:42:43 <Twey> Can't you store a list of comment start- and end-positions, and colour all lines between as comments, then handle the lines themselves normally?  That way you just have to update the list when a new line is inserted/deleted, which is a straightforward arithmetical procedure which doesn't require reading the file at all
01:43:07 <Phyx-> Twey: that's what I was implementing
01:44:16 <fasta> Phyx-, and the ghc lexer provides no continuation interface?
01:44:45 <fasta> Phyx-, so, you have to reimplement from scratch, I suppose, possibly reusing the actual grammar?
01:45:36 <Phyx-> fasta: not via the api afaik. no, what I did was, I made a function that groups token types returned by the lexer to color classes. this works fine for most things
01:45:52 <Phyx-> it's just the multiline comments that give a problem
01:46:43 <fasta> Phyx-, and why exactly do you want to do this? Are you trying to add something to Leksah?
01:46:57 <quicksilver> Gunter Schmidt, what a fool.
01:47:08 <Phyx-> fasta: no, i'm not using Leksah at all
01:47:11 <fasta> quicksilver, you mean the "gay thread"?
01:47:21 <quicksilver> fasta: well, yes, and the female one.
01:47:26 <Phyx-> fasta: I'm implementing this for visual studio
01:47:29 <quicksilver> mind you, deleting emails is not hard.
01:47:44 <quicksilver> just a waste of a few minutes wondering what these long threads are cluttering up the cafe.
01:47:45 <fasta> quicksilver, ah, that one too, yes.
01:48:10 <fasta> quicksilver, 90% of cafe is a waste.
01:48:53 <fasta> quicksilver, or maybe he is just trolling.
01:49:58 <fasta> Anyway, a good reason to ban sending messages to cafe for a month or so.
01:50:14 <quicksilver> fasta: Maybe. I find the questions on haskell interesting. Certainly I find more than 90% of the messages I read there to have been worth reading.
01:52:55 <Twey> Gay and female threads?  Wha'?
01:53:38 <fasta> Twey, so far only Gay xor female. You could open the man and woman thread.
01:53:51 <Twey> Interesting.
01:54:04 <Phyx-> GHC interprets tabs as 8 spaces? or 4?
01:54:10 * Twey uses ‘_ <-’ for the first time, and feels dirty.
01:54:13 <Twey> Phyx-: Eight, IIRC
01:54:20 <Phyx-> hmm, thanks
01:54:30 <fasta> Twey, why would you want to do that?
01:54:57 <Twey> fasta: GHC .12 warns on discarded do-action results.
01:55:10 <Twey> Apparently it's now good style to use ‘_ <-’ to explicitly ignore them.
01:55:44 <fasta> Well, either change the compiler flags or do not feel dirty ;)
01:56:29 <Twey> OPTION_GHC pragmas make me feel dirty, too :þ
02:09:32 <kamatsu> hide it in your cabal file?
02:10:11 <dancor> having never heard about it before, i guess i'm fine with _ <-
02:11:03 <dancor> you could do (o $) where o = (>> return ())   :)
02:11:43 <kamatsu> i would call "o" blindly
02:11:45 <kamatsu> as in..
02:11:53 <kamatsu> blindly doSomething
02:11:58 <dancor> nice
02:12:13 <dancor> keepTheChange
02:12:17 <kamatsu> heh
02:18:16 <ski> what !?, discarding unforced `()' from a `do'-command emits no warning ?
02:18:42 <Twey> Yeah, unless it's ()
02:18:59 <dancor> i think it was a joke
02:19:06 <dancor> but you can never tell with these ppl
02:19:10 <Twey> kamatsu, dancor: It's currently called ‘void’
02:19:25 <Twey> :t void
02:19:27 <lambdabot> Not in scope: `void'
02:19:30 <dancor> :t ()
02:19:31 <lambdabot> ()
02:19:33 <ski> (btw, in OCaml, there's  ignore : 'a -> unit  )
02:19:34 <Twey> Oh, well, it's there somewhere
02:19:45 <Twey> void :: IO a -> IO ()
02:19:49 <dancor> oh
02:20:05 * ski arghs at the use of "void" for that purpose ..
02:20:07 <dancor> Foreign.Marshal.Error.void
02:20:10 <Twey> That's the one
02:21:08 <dancor> why is it there anyway
02:21:10 <Twey> C
02:22:09 <kamatsu> @hoogle void
02:22:10 <lambdabot> Foreign.Marshal.Error void :: IO a -> IO ()
02:22:28 <dancor> but why?  it looks like they just happened to use it in throwIf_ and exposed it in the module as an afterthought
02:22:32 <kamatsu> i'd rather define it myself than import random functions from Foreign.*
02:23:19 <dancor> right seems like Control.Monad is a better place if it's recommended for this
02:23:22 <kamatsu> sort of like i feel icky importing Control.Applicative just for the <$> fmap synonym
02:23:32 <dancor> or maybe somewhere IO specific..
02:23:49 <dancor> kamatsu: i feel less icky about that one
02:23:59 <ski> @type fmap (const ())
02:24:00 <lambdabot> forall a (f :: * -> *). (Functor f) => f a -> f ()
02:24:10 <kamatsu> there you go
02:24:12 <dancor> :t (const () <$>)
02:24:13 <lambdabot> forall a (f :: * -> *). (Functor f) => f a -> f ()
02:24:34 <kamatsu> const () <$> blah is more strange than:
02:24:36 <kamatsu> _ <- blah
02:24:37 <kamatsu> imo
02:24:41 <dancor> obv
02:25:09 <dancor> so it's do-only?
02:25:11 <dancor> the warning
02:25:52 <dancor> no warn on this? (getLine >> putStrLn "lol")
02:26:12 <kamatsu> cos then you could just go: "theAbyss = return ()"
02:26:14 <kamatsu> then
02:26:18 <kamatsu> getLine >> theAbyss
02:27:36 * ski thinks that if `foo' not monadically yielding `()' in `do foo; bar' is considered strange, then we should desugar `foo' to `() <- foo', there
02:28:12 * Twey approves
02:28:13 <Twey> kamatsu: Hehe
02:28:44 <Twey> kamatsu: I just use `fmap` rather than do that…
02:29:05 <kamatsu> Twey: whoa, you used a unicode elipsis
02:29:13 <kamatsu> …
02:29:15 <Twey> I use them often
02:29:26 <dancor> supersemantic
02:29:41 <kamatsu> getting used to picking out unicode characters from their ascii approximations
02:29:45 <Twey> Heh
02:29:47 <kamatsu> Agda has burned me a few times
02:29:57 <kamatsu> ∷ versus ::
02:30:04 <Twey> Monospace fonts make that one rather easy
02:30:11 <Twey> If ugly
02:30:20 <kamatsu> still, sometimes i don't pay enough attention
02:30:21 <dancor> they make … easy too
02:30:32 <Twey> dancor: I was actually talking about that, originally :þ
02:30:52 <dancor> there must be unicode smileys
02:31:08 <kamatsu> Twey: how do you type those unicoderies efficiently?
02:31:33 <Twey> dancor: There are ☺ ☻ ☹
02:31:35 <kamatsu> dancor: there are ☺
02:31:58 <dibblego> CTRL SHIFT u<unicode-value>ENTER
02:31:59 <Twey> kamatsu: I use Compose for those ones, since I don't type them much and they're easy to do
02:32:03 <dibblego> (in GNOME)
02:32:06 <kamatsu> also snowman:
02:32:09 <kamatsu> ☃
02:32:12 <Twey> dibblego: I think there was a qualifying ‘efficiently’ in there ;)
02:32:16 <ski> (.. real smileys (i.e. a ligature of ":)",":-)",&c.) or just the ugly things-in-a-circle abominiation ?)
02:32:29 <pippijn> Twey: how do you compose into a filled smiley?
02:32:30 <Twey> ski: Haha
02:32:43 <dibblego> Twey, what is Compose?
02:33:00 <Twey> dibblego: http://en.wikipedia.org/wiki/Compose_key
02:34:12 <kamatsu> ☞ pointy goodness
02:34:20 <dancor> eh throwing "heh" at the end still seems more interoperable
02:34:55 <kamatsu> ☸ wheel of dharma is in unicode?
02:35:43 <kamatsu> ⚔  fencing..
02:36:07 <kamatsu> ☭  communism..
02:36:10 <XniX23> i have a weird question for you guys
02:36:14 <dancor> this really opens things up for the text action/adventure game genre
02:36:23 <kamatsu> ☠  pirates
02:36:47 <XniX23> do you think that learning haskell will improve my "thinking abilities" for other languages (lets say python or java) ?
02:36:54 <kamatsu> XniX23: yes!
02:37:13 <FauxFaux> I do, too.
02:37:19 <kamatsu> dancor: a text adventure about communist buddhists armed with rapiers against pirate snowmen?
02:37:20 <XniX23> ty guys
02:37:25 <dancor> i would play it
02:37:33 <fasta> XniX23, you can achieve the same by reading Thinking Forth.
02:37:37 <dancor> rather will after i write it immediately
02:37:55 <fasta> XniX23, Haskell will also learn you about static type-systems, but the ideas are exactly the same.
02:38:22 <dancor> is that a joke?  forth is completely insane
02:38:29 <Twey> What?  FORTH is not insane
02:38:33 <fasta> XniX23, reading Thinking Forth takes a few days at most. Learning Haskell takes significantly longer.
02:38:50 <Twey> I'm not sure that it builds the same skillset as learning Haskell, though
02:38:57 <z1y> is Thinking Forth a book?
02:39:00 <Twey> Yes
02:39:32 <pookleblinky> Notice though all the blog posts claiming that knowing Haskell actually causes one to be utterly depressed if they are unable to use it.
02:39:48 <Twey> Occupational hazard, sadly
02:39:59 <pookleblinky> "I learned haskell and now my C# is incoherent and I am contemplating suicide."
02:39:59 <kamatsu> http://vividpicture.com/aleks/atari/forth.jpg <-- my favorite forth book
02:40:00 <FauxFaux> Unable to use it due to it being too hard, or..?
02:40:13 <Twey> No, unable to use it due to job requirements.
02:40:25 <pookleblinky> FauxFaux, no, because you notice all the failings in other languages.
02:40:27 <kamatsu> FauxFaux: Unable to use it because it makes all other languages feel shoddy
02:40:41 <pookleblinky> If you know haskell, but you're working in php, you will get depressed.
02:40:51 <dancor> not true
02:40:59 <fasta> kamatsu, except that other languages still have there place, since Haskell compilers are still not that great.
02:41:00 <kamatsu> I don't think you need to learn haskell to appreciate php's failings
02:41:04 <fasta> their*
02:41:11 <fasta> PHP obviously not.
02:41:11 <kamatsu> fasta: this is true
02:41:19 <Twey> This is why I want to get out of computer science.  The standard pattern goes: 1) learn something crappy; 2) improve to something awesome; 3) get a Real Job and be forced to use the crappy stuff because the business world hasn't caught up to the past decade of development in computer science
02:41:24 <dancor> i was more depressed with php before i learned haskell enough to transform the php with haskell
02:41:30 <pookleblinky> kamatsu, I don't think you do, but knowing malbolge does make php make sense.
02:41:36 <Twey> dancor: Heheh.
02:41:42 <dancor> i think there is a selection bias since bloggers are whiners ;)
02:41:46 <fasta> Twey, that is so true.
02:41:56 <FauxFaux> I learn Haskell and now all my Java looks like http://pastie.org/893205
02:42:10 <fasta> Twey, however, sometimes you can also do something awesome at your job.
02:42:15 <Twey> FauxFaux: Yow.  ☺
02:42:15 <kamatsu> me too
02:42:27 <Twey> fasta: Sometimes.
02:42:30 <dibblego> FauxFaux, http://functionaljava.org/
02:42:32 <XniX23> so reading thinking forth and learning haskell is the optimal solution :)
02:42:49 <Twey> XniX23: Sure.  Never going to snub you for learning both.  ☺
02:42:51 <pookleblinky> You can hope for a job that does what Google does: it gets its smartest people to write the inhouse tools.
02:42:53 <mreh> can you do a zip in list monad?
02:42:58 <pookleblinky> In which they have carte blanche.
02:42:59 <Twey> XniX23: If you've got that much time on your hands, also check out SICP
02:43:07 <dibblego> mreh, see instance Applicative ZipList
02:43:15 <fasta> XniX23, I read Thinking Forth after learning Haskell and I still thought Thinking Forth was a more book to read than any of the Haskell books I had read before.
02:43:25 <kamatsu> After learning haskell, forth seemed less important to me
02:43:29 <fasta> more useful*
02:43:39 <pookleblinky> iirc there's some shops that let their smart guys write code auditing tools in haskell, for use on php.
02:43:40 <kamatsu> i can see how that sort of stuff would be a good mind-expansion if I had not already known haskell
02:43:41 <XniX23> i forgot to say ty for mentioning the book fasta :P ty
02:43:44 <mreh> @src ZipList
02:43:44 <lambdabot> Source not found. Maybe you made a typo?
02:43:46 <kamatsu> but it basically seems like pointfree in the opposite order
02:43:50 <danderson> pookleblinky: not quite carte blanche. For one the tools have to be maintainable by a large enough pool of people, which (sadly) rules out the likes of haskell most of the time
02:44:01 <fasta> For team development Forth is probably a bad idea. Haskell is a lot better there.
02:44:03 <mreh> dibblego: Is that a class?
02:44:12 <dancor> fasta: can you say more about why it's useful?
02:44:14 <danderson> (not that nobody is capable of learning haskell, most just have other stuff to do :)
02:44:14 <dibblego> mreh, it's a wrapper of []
02:44:15 <fasta> (unless you heavily modify Forth)
02:44:29 <kamatsu> the silly thing was, when I was at google
02:44:30 <Twey> I see FORTH as replacing C, not Haskell.
02:44:39 <kamatsu> at least 70% of the developers were familiar with Haskell
02:44:43 <kamatsu> some very much so
02:44:53 <danderson> but yeah, as far as how the tools work, it's pretty much "do what needs to be done" all around
02:44:55 <kamatsu> they all agreed that the project we were working on would be great in Haskell
02:45:00 <kamatsu> and then they did it in Java anyway
02:45:34 <kamatsu> even to the point where people were writing prototypes in haskell and then rewriting them in java for production
02:45:36 <danderson> there are other considerations (I'm at google right now), but haskell is working its way in, slowly.
02:45:44 <dibblego> > getZipList (liftA2 (+) (ZipList [1,2,3]) (ZipList [10..])) -- mreh
02:45:45 <lambdabot>   [11,13,15]
02:45:51 <kamatsu> danderson: what are you working on?
02:45:55 <danderson> the build system now has build rules for haskell, so in theory (and in practice sometimes) haskell code can be run in production
02:45:59 <kamatsu> danderson: if you can say, i'm no longer at google
02:46:05 <fasta> Performance would be a good reason not to use Haskell at Google.
02:46:10 <XniX23> FauxFaux i got scared reading your java code lol
02:46:10 <kamatsu> danderson: i saw that blaze got that there
02:46:23 <dancor> fasta: i agree, i have so much trouble optimizing haskell
02:46:24 <kamatsu> fasta: Java isn't that much faster than Haskell.
02:46:54 <danderson> kamatsu: currently working in search infrastructure, on processing sitemaps
02:46:59 <fasta> If every percent saves a few million dollars per year, then the choice for something close to the metal becomes obvious. I am not saying assembly language, but something which has _no_ indirections.
02:47:04 <kamatsu> danderson: which office?
02:47:21 <XniX23> haskell looks sort of similar to prolog to me, or did i get a wrong impression
02:47:23 <danderson> and moving to the open source group some time in the next few months, to mess with the project hosting platform
02:47:26 <kamatsu> fasta: java is not close to the metal.
02:47:29 <danderson> kamatsu: Zurich
02:47:35 <kamatsu> XniX23: similar paradigms, but also radically different
02:47:37 <fasta> kamatsu, where did I say that?
02:47:49 <fasta> kamatsu, I doubt their core infrastructure is Java.
02:47:50 <kamatsu> fasta: Google chose Java over Haskell, not C over haskell.
02:48:02 <kamatsu> fasta: depends on what you mean by core infrastructure
02:48:11 <danderson> fasta: partially true. Youtube is mostly written in Python. There are other front- and back-end services running in Python.
02:48:30 <danderson> not everything needs to be as fast as hand-optimized bare C++ can be
02:48:34 <kamatsu> Also there is a large amount of java around the place.
02:48:42 <danderson> and not everything can be hand-optimized as well as a good haskell compiler can do it
02:48:50 <pookleblinky> Do not forget that Norvig is a great and wise lisp weenie.
02:48:51 <fasta> I was thinking of C++ for infrastructure, yes.
02:48:52 <dancor> but youtube was python before google bought it?
02:49:09 <luqui> danderson, i would be willing to debate that
02:49:10 <pookleblinky> Where there's lisp, haskell will eventually sneak in and mate with the codebase.
02:49:13 <kamatsu> dancor: I saw python in more places than youtube.
02:49:20 <fasta> The automatic translation feature is truly great.
02:49:24 <kamatsu> dancor: remember, Google have Guido
02:49:26 <danderson> dancor: yes, but there are other pieces of Google infrastructure that are 100% google-grown, and are all python
02:49:27 <dancor> rgiht
02:49:44 <danderson> although youtube is the main driver for the unladen swallow VM (python on LLVM)
02:49:54 <fasta> Python only works when people document their code.
02:49:54 <kamatsu> right
02:50:01 <XniX23> danderson are you the guy who used to hang on go-nuts?
02:50:01 <luqui> danderson, unless you were to deny the present existence of a good haskell compiler by those standards.  which I might. :-)
02:51:02 <danderson> luqui: okay, stipulated. But for most stuff that isn't in the direct code path of a search or an ads query, being 2x slower than hand-optimized C++ is a net win if it takes 10x less pain to develop
02:51:07 <dancor> in the TH paper it seems like their most prominent goal is to enable custom optimizations
02:51:29 <danderson> now that I do a fair amount of haskell on the side, when I program in C++ I feel like I'm talking to a four year old
02:51:32 <dancor> which is funny bc i've only seen ppl doing their least prominent goal with it (reduce verbosity)
02:51:32 <kamatsu> Google's stance seems to be that it's okay to do lots of application-specific business logic in high level languages, but all of the storage mechanisms and so on that are used by everything should definitely be C++
02:51:53 <luqui> dancor, yeah.  and according to spolsky the 10x comes from being garbage collected at all.  so imagine what good abstractions can do :-P
02:52:11 <dancor> wrong dan
02:52:16 <luqui> oops
02:52:34 <kamatsu> i think the art of being a good programmer is working out when to completely disregard joel spolsky
02:52:42 <luqui> at least i have xchat configured so that it doens't wake up some sleeping dan anymore...
02:52:43 <kamatsu> and when to pay attention to what he has to say
02:52:58 <dancor> spolsky's a hack ;)
02:53:00 <pookleblinky> Laziness, impatience, hubris, and a functioning bullshit detector.
02:53:04 <dancor> not a hacker
02:53:13 <luqui> :-P
02:53:18 <pookleblinky> One word: Wasabi.
02:53:19 <kamatsu> pookleblinky: all qualities needed for good programmers
02:53:26 <kamatsu> pookleblinky: including wasabi
02:53:34 <danderson> kamatsu: what are you doing these days btw? How long since you left google?
02:53:40 <danderson> (just wondering if we might have crossed paths)
02:53:40 <luqui> wasabi makes me sad
02:53:50 <kamatsu> danderson: I was in the sydney office on Wave, so probably not.
02:54:02 <pookleblinky> luqui, just hearing its description is painful.
02:54:08 <kamatsu> danderson: I left because it was an internship.
02:54:10 <kamatsu> ;)
02:54:19 <danderson> ah, yeah, probably not. Lucky sod though, Sydney is a shiny office.
02:54:27 <kamatsu> Shiny... indeed.
02:54:53 <kamatsu> if you disregard the sewage smell, power outages, and broken air conditioning
02:54:58 <kamatsu> and perpetual shortages of sparkling water
02:54:58 <danderson> oh
02:55:19 <luqui> (despite wasabi, fogbugz is quite a nice piece of software :-)
02:55:19 <kamatsu> oh, you might be referring to the old office
02:55:21 <danderson> I guess the myth outdoes reality then
02:55:25 <pookleblinky> At least you didn't mention the abundance of drunken marsupials.
02:55:29 <kamatsu> which by all accounts was far better than the new office
02:55:42 <danderson> also, welcome to the intern club :)
02:55:45 <kamatsu> the new office was constructed in order to get a 6-star environmental rating
02:55:52 * danderson was a multiple time intern before getting hired fulltime
02:56:05 <kamatsu> it only got 5 stars cos of too many washed dishes
02:56:25 <kamatsu> the sewage treatment kept breaking and stinking out the whole area
02:56:33 <danderson> lovely
02:56:42 <kamatsu> including the nearby Fairfax Media (newspaper company) building
02:56:53 <danderson> Zurich is also an highly green building, but it by and large works
02:56:55 <kamatsu> which wrote an article in their newspaper, "Google Sydney Stinks!"
02:57:05 <danderson> the only painful part is the passive heating/cooling system
02:57:05 <kamatsu> >_>
02:57:18 <kamatsu> i think we have that too
02:57:22 <kamatsu> when we had our regular power outages
02:57:24 <danderson> in the summer it isn't powerful enough to cool a few parts of the building
02:57:27 <kamatsu> yeah
02:57:29 <kamatsu> same with us
02:57:35 <danderson> but it's being solved. Our facilities manager rocks.
02:57:51 <danderson> kamatsu: no power outages here, then again I wouldn't expect Switzerland to put up with power outages.
02:57:57 <danderson> (and we also have an onsite generator)
02:58:01 <kamatsu> right, we don't
02:58:05 <kamatsu> i think that's the issue
02:58:07 <pookleblinky> "You feel hot? [thunk over your head]" and you wake up locked into the server room
02:58:40 <kamatsu> oh, also, there are serious design greivances we have with the building itself
02:59:02 <kamatsu> to get from one half of a level to the other, you have to go out into the main hallway, which means beeping your rfid tag, and having to press tiny little buttons next to the door
02:59:31 <arcatan> ugh. i spend last summer next to a server closet with broken cooling
02:59:45 <kamatsu> arcatan: oh no! how did the servers survive?
02:59:50 <danderson> kamatsu: seems like a pity. How long ago was this?
02:59:56 <kamatsu> danderson: this year
02:59:57 <pookleblinky> kamatsu, interiour rfid tracking? What level of granularity do they need?
03:00:05 <kamatsu> pookleblinky: we share the building with Accenture
03:00:46 <kamatsu> so to stop people trying to get into our part of the office, we have rfid tags
03:01:08 <kamatsu> but the main hallway is shared space with accenture, so we have to have rfid tags just to go from engineering to sales.
03:01:10 <pookleblinky> Those Accenture folks. They can be sneaky.
03:01:27 <kamatsu> or, more commonly, from the empty engineering kitchen to the still-full sales kitchen
03:01:54 <arcatan> not good for communication
03:02:10 <kamatsu> I spent 3 months working there, and I still didn't figure out what it was accenture actually DO
03:02:24 <kamatsu> i was always suspicious of those people
03:02:46 <kamatsu> although it was summer here, so they were all very uncomfortable in their suits while googlers all wore comfortable clothing
03:02:52 <danderson> kamatsu: we used to have that in Zurich. All stairwells have badge readers on all doors, so it was a pain getting around
03:03:01 <kamatsu> yeah
03:03:20 <pookleblinky> kamatsu, I think Accenture specializes in getting glossy images.
03:03:30 <danderson> but now, those doors are unlocked during the day, only the outer perimeter stays locked
03:04:42 <pookleblinky> danderson, consider: somewhere, a security guy is satisfied that he'll be prepared when Jason Bourne shows up.
03:05:42 <kamatsu> danderson: at least we were a smaller office, so you recognized most people's faces, hence rfid beeping was usually only required if you were the first going in, and people didn't stop you and ask for your badge
03:06:42 <kamatsu> unless you look suspiciously like those accenture people
03:06:44 <danderson> yeah, Sydney is about the same size as Zurich these days, right? (~400)
03:06:49 <kamatsu> hm
03:06:56 <kamatsu> i'd say so
03:07:01 <kamatsu> maybe a little smaller
03:07:09 <kamatsu> yeah, smaller, but not a great deal smaller
03:07:11 <danderson> yeah
03:07:21 <pookleblinky> rfid cloning isn't hard, though. Look at Paget, etc.
03:07:33 <kamatsu> pookleblinky: i know, google hasn't caught onto that yet, it seems
03:07:52 <kamatsu> Apple have, my apple working friend now has to swipe a card.
03:08:11 <danderson> without going into details, yes, we have :)
03:08:18 <kamatsu> ah, good to know
03:09:08 <kamatsu> anyway, probably going back next year
03:09:32 <danderson> woot.
03:09:44 <kamatsu> there's a few other prominent haskellers at google
03:09:48 <kamatsu> the guy that  did JHC i think?
03:10:25 <danderson> yup
03:10:47 <danderson> and tibbe (working on GHC's new IO manager, works in Zurich too)
03:10:58 <kamatsu> ah, cool
03:11:10 <kamatsu> sadly, i was the most active haskeller in the sydney office.
03:11:28 <kamatsu> although there were alot of people that knew alot about this sort of stuff
03:11:47 <dancor> i know a few ppl who prefer ocaml
03:11:54 <kamatsu> i don't understand such people
03:11:59 <kamatsu> i have tried, and disliked, ocaml
03:12:09 <dancor> but respect some-and-not-all of the things haskell brings to the table
03:12:28 <dancor> a lot of ppl find laziness to be a chore i think
03:12:37 <kamatsu> i think laziness is often useful
03:12:37 <danderson> at least you can have a spirited debate about it
03:12:39 <kamatsu> yeah
03:12:43 <Twey> I find strictness to be a chore, personally
03:12:58 <Twey> And all those hacks to work around it, like generators and iterators
03:13:03 <danderson> I have friends at other companies who are labelled loose cannons because they want to bring build systems into the picture to replace a bunch of shell scripts
03:13:10 <Twey> Haha
03:13:13 <kamatsu> haha
03:13:14 <danderson> I'm so very glad I don't work there.
03:13:50 <kamatsu> anyway, i think you could make a better strict language than ocaml
03:13:57 <kamatsu> for starters, some better syntax.
03:14:19 <kamatsu> also, haskell-style overloading, typeclasses
03:14:33 <kamatsu> separation of effects through type system in some way or other
03:14:55 <arcatan> hmm, wasn't there a strict version of Haskell?
03:15:02 <danderson> true, but ocaml's biggest problem is lack of diversity
03:15:13 <kamatsu> diversity?
03:15:24 <danderson> despite a couple of companies using it big time, it's still inria's baby, and inria is not terribly good at handling a community
03:15:25 <pookleblinky> Have you seen PLEAC's ocaml section?
03:15:32 <pookleblinky> It's actually complete.
03:15:57 <pookleblinky> Haskell's is only 30% done, iirc
03:16:07 <pookleblinky> http://pleac.sourceforge.net/pleac_ocaml/index.html
03:16:17 <danderson> that may just indicate that haskellers are busy solving actual problems ;)
03:16:43 <kamatsu> why do we also have haskell-on-steroids?
03:16:45 <Twey> What's the difference between haskell and haskell-on-steroids?
03:16:48 <kamatsu> is that the same except optimized to hell?
03:16:49 <Twey> Heh, snap
03:17:33 <Twey> It seems that haskell is beginner-haskell, and haskell-on-steroids is Haskell For Men
03:17:37 <dancor> i think they're more busy painting sheds in irc
03:17:44 <Twey> It has arrows and stuff in it
03:17:55 <kamatsu> Haha
03:17:59 <kamatsu> or you could frame it as
03:18:08 <pookleblinky> Haskell on Steroids is pure executable category theory.
03:18:14 <kamatsu> yep
03:18:33 <pookleblinky> It's fast because it exists in the timelessness of platonic hyperspace.
03:18:55 <danderson> oh, so "haskell" is "my first haskell program", and "haskell on steroids" is "oooh, now I get it."
03:18:56 <Twey> Haha
03:19:23 <danderson> that reminds me that I need to figure out what hyperfunctions are (seen on h.o/arrows)
03:19:42 <danderson> I have no idea why I'd want them, but it sound so cool that it must be useful.
03:19:50 <kamatsu> my sources of category theory knowledge are entirely made up of dan piponi's blog posts
03:20:26 <danderson> kamatsu: which blog is this? I could use some category theory.
03:20:41 <kamatsu> danderson: a neighborhood of infinity.
03:20:47 <pookleblinky> http://blog.sigfpe.com/
03:20:48 <danderson> ah
03:21:19 <danderson> whoa, lots of meat
03:21:20 <danderson> thanks.
03:21:28 <kamatsu> oh, and also some random googling for bits i didn't quite get
03:23:14 <pookleblinky> kamatsu, I've started a little project to help me understand Everything. I'm rewriting Misner et al's Gravitation and the Feynman Lectures on Physics, into haskell.
03:23:56 <kamatsu> ah, that would be cool, except my talents for the maths of physics are woeful.
03:24:06 <pookleblinky> I'm convinced that mathematics is a bad programming language. Difficult to debug, not instantly executable, hard to modularize, etc.
03:24:23 <ski> danderson : wasn't it something like `data Hyper a b = MkH (a -> b) (Hyper (a,a) (b,b))' ?
03:24:37 <kamatsu> pookleblinky: didn't the curry howard isomorphism imply that?
03:24:45 <cads> danderson, have you run across the monad reader issue 13 with byorgey's Typeclassopedia and the other article on Calculating Monads With Category Theory?
03:24:57 <pookleblinky> So my goal is to show that it's easier to learn an equation expressed as a program, as well as manipulate it.
03:25:17 <kamatsu> pookleblinky: perhaps a maths-like DSL is useful there
03:25:38 <pookleblinky> kamatsu, CH doesn't say "hey, you can understand it better this way" though.
03:25:44 <kamatsu> pookleblinky: true
03:25:51 <danderson> cads: the typeclassopedia is single-handedly responsible for making me understand the relation between Functor, Applicative and Monad. It was a huge moment of enlightenment for me, and I can now actually use these without thinking too hard.
03:25:52 <ski> pookleblinky : programs are proofs. types are theorems.
03:26:20 <danderson> but I was looking for a dive into other stuff like comonad, arrow etc.
03:26:29 <kamatsu> right, that's the point i'm at as well
03:26:55 <danderson> h.o/arrows is a good introduction to Arrow applied to (->), but I'm having trouble extending the concept beyond that.
03:27:14 <kamatsu> comonads are easy enough, i get arrows if i think of them as functions, and i can see sort of how a generalization of them is possible, but haven't figured out their usefulness
03:27:44 <cads> danderson, I like to find advanced papers and follow the citations back a few nodes to papers that I can undertstand :)
03:27:49 <pookleblinky> kamatsu, if this project actually gains momentum, I hope to produce something like Literate Mathematics.
03:27:58 <danderson> (not that it isn't already hugely useful just with (->), (second . arr $ reverse . sort) is a nice expression of a non-trivial operation that I had yesterday)
03:28:01 <kamatsu> pookleblinky: good luck with that
03:28:33 <kamatsu> hmm
03:28:34 <kamatsu> @type arr
03:28:35 <lambdabot> forall b c (a :: * -> * -> *). (Arrow a) => (b -> c) -> a b c
03:28:58 <kamatsu> so, changes a function into a different arrow.
03:29:25 <danderson> kamatsu: arr lifts a pure function into an arrow, second transforms an arrow into an arrow operating on the second element of a tuple
03:29:58 <danderson> (second . arr $ reverse . sort) == (\(x,y) -> (x, reverse . sort $ y))
03:30:02 <langtree> @src arr
03:30:02 <lambdabot> Source not found. My mind is going. I can feel it.
03:30:14 <kamatsu_> arg
03:30:16 <kamatsu_> something went wrong
03:30:20 <kamatsu_> let me try that again
03:30:21 <kamatsu_> @type second
03:30:22 <lambdabot> forall (a :: * -> * -> *) b c d. (Arrow a) => a b c -> a (d, b) (d, c)
03:30:23 <kamatsu> @type second
03:30:23 <kamatsu> ahem, lambdabot?
03:30:24 <lambdabot> forall (a :: * -> * -> *) b c d. (Arrow a) => a b c -> a (d, b) (d, c)
03:30:29 <kamatsu_> boom
03:30:33 <danderson> kamatsu_: as I was explaining...
03:30:36 <danderson> kamatsu: arr lifts a pure function into an arrow, second transforms an arrow into an arrow operating on the second element of a tuple
03:30:43 <danderson> (second . arr $ reverse . sort) == (\(x,y) -> (x, reverse . sort $ y))
03:31:10 <kamatsu_> hmm
03:31:30 <danderson> arguably in this case it's not actually worth it to use arrows, but I find the arrow version looks better in code
03:31:35 <kamatsu_> isn't a pure function already an arrow?
03:31:36 <ski> @type second (reverse . sort)
03:31:37 <lambdabot> forall a d. (Ord a) => (d, [a]) -> (d, [a])
03:31:55 <ski> (kamatsu_, yes)
03:31:57 <danderson> oh hey, look at that. I didn't even need arr.
03:32:04 <kamatsu_> thought so
03:32:07 <danderson> so, um
03:32:11 <danderson> what's the point of arr?
03:32:17 <kamatsu_> to go to *other* arrows
03:32:27 <kamatsu_> i assume
03:32:28 <ski> going from `a -> b' into `Kleisli m a b', e.g.
03:32:45 <ski> (or `Hyper a b', as per above)
03:33:00 <danderson> ah, okay.
03:33:15 <danderson> Well, woot, that further simplifies things :)
03:33:40 <kamatsu_> in fact, it barely feels like you're using arrows at all
03:33:44 <danderson> I should actually have seen that, since I used &&& on pure functions at hlint's suggestion, without having to lift stuff
03:33:50 <kamatsu_> right
03:34:53 <kamatsu> ah
03:34:55 <danderson> so, yeah, anyway. Kleisi, there's another one I'd like to know about. I'm not sure what to make of it right now.
03:34:55 <kamatsu> back to normal
03:35:10 <kamatsu> a kleisli arrow is a function from a -> m b
03:35:15 <danderson> and applications of Arrow to unusual stuff would also be fun
03:35:40 <dibblego> (Monad m) => (Kleisli m) is the Arrow
03:35:42 <kamatsu> jaspervdj did so for some dependency resolution in his site generator
03:36:12 <ski> @type runKleisli . foldr (>>>) (arr id) . map Kleisli  -- e.g.
03:36:13 <lambdabot> forall a (m :: * -> *). (Monad m) => [a -> m a] -> a -> m a
03:36:24 <danderson> kamatsu: right, that's as much as I know. But I don't grok the fullness.
03:36:40 <kamatsu> you and me both
03:36:59 <kamatsu> when i first learnt haskell it took me a while to grok monads, got kind of annoyed at haskell
03:37:13 <kamatsu> but now i know if i relax i'll eventually figure it all out
03:41:36 <kamatsu> omg, i can never use python again
03:41:42 <kamatsu> not that I ever really used python
03:41:44 <kamatsu> http://math.andrej.com/2009/04/09/pythons-lambda-is-broken/
03:42:11 <dibblego> I resent using python. I sometimes wonder if I am better of using Java
03:42:57 <kamatsu> I would prefer Java to Python, tbh
03:43:21 <kamatsu> the only dynamic-typed language I can stand is ruby
03:43:25 <kamatsu> and even then, only for small things
03:44:25 <kamatsu> probably cos i resent writing tests to check that my functions produce correctly typed data when it should be possible to determine this statically.
03:44:55 <kamatsu> this is why I also very much like Agda
03:46:00 <danderson> I used to like python, but now that I've done something non-trivial in haskell, I find the type system straightjacket liberating
03:46:28 <kamatsu> i realized the problem with the rope python et al give you is that it makes you question your assumptions less
03:46:29 <danderson> the "if it compiles it very probably does what you wanted" feeling is fantastic.
03:47:05 <kamatsu> right, but also thinking and designing based around types is great way to write code that feels right, without even compiling
03:47:26 <kamatsu> I've also taken to writing literate haskell
03:47:59 <kamatsu> writing literate code is almost as good as talking over what you're going to do with someone before you do it, making sure that all your assumptions have been questioned
03:48:20 <dibblego> what is so special about literate haskell in this context
03:48:20 <dibblego> ?
03:48:29 <kamatsu> just in terms of producing reliable software
03:48:40 <kamatsu> people euphemistically call programmer errors bugs
03:48:43 <danderson> not yet sure about lhs, but I can see the attraction, yes.
03:48:45 <dibblego> why does it give you more reliable software than non-literate haskell?
03:48:52 <kamatsu> but you reduce bugs not by finding them, but by not writing them in the first place.
03:49:10 <kamatsu> when you write literate code, you have to question your perhaps questionable assumptions.
03:49:12 <danderson> dibblego: I think it's a proactive application of rubber duck debugging, in a sense.
03:49:16 <kamatsu> yeah
03:49:33 <langtree> What is rubber duck debugging ?
03:49:36 <dibblego> by literate code, you mean .lhs file extensions right?
03:49:44 <kamatsu> dibblego: i mean writing a paper along with your code
03:49:55 <dibblego> oh right
03:50:01 <kamatsu> langtree: you talk to a rubber duck, trying to explain your problem.
03:50:06 <langtree> Ahh
03:50:09 <langtree> Thanks
03:50:16 <kamatsu> langtree: often by explaining the problem, you realise the solution
03:50:38 <cads> regarding the straight jacket analogy.. I think people that can't stand types just aren't prepared/smart enough to learn an exressive enough type theory for what they want, and conversely what they even want to achieve falls short of the scope of what one can do with an advanced theory
03:50:51 <danderson> I can't find the site that has the best explanation of rubber duck debugging, but it really does work.
03:50:59 <kamatsu> talking to yourself doesn't work, because then you just rehash the assumptions you've already made
03:51:13 <danderson> The key point is that eventually, you'll tell the rubber duck what your code is doing, and realize that it doesn't do what you just said
03:51:14 <kamatsu> you have to talk to something else that is so *stupid* that it doesn't know *anything* about your project.
03:51:15 <langtree> I've used something similar in the past and it works quite nicely :)
03:51:41 <danderson> at which point you've found the problem
03:52:00 <kamatsu> at google, i sometimes did that
03:52:06 <kamatsu> although instead of a rubber duck i used my coworkers
03:52:17 <kamatsu> whenever i realised the solution before they did, it was rather embarassing
03:52:18 <danderson> cads: I think that a lot of people hate types because they've never programmed in a language with good type inference
03:52:37 <danderson> my main gripe with types until I got into ocaml/haskell was that it's just so damn verbose
03:52:47 <quicksilver> I think it was called teddy bear debugging?
03:52:57 <quicksilver> anyhow, #haskell makes a great teddy bear and/or rubber duck.
03:52:59 <danderson> I just wanted to get on with telling the computer what to do, not cater to the stupidity of hte compiler
03:53:03 <kamatsu> yeah, but then going back to explicit types in Agda, Scala or even Java doesn't feel so bad
03:53:28 <cads> Navigating through a type hierarchy that you don't know can feel extremely claustrophobic.
03:53:34 <danderson> but haskell can infer so much from so little, you don't notice the safety net until you trip and fall against it.
03:53:59 <kamatsu> in haskell, i got into the habit of writing out type sigs anyway
03:54:22 <theorbtwo> kamatsu: But only of top-level items, right, not your temporaries?
03:54:36 <kamatsu> theorbtwo: yes, unless those temporaries are actually kind of complicated
03:55:03 <danderson> I only write out the types of temporaries when I get a type error I don't understand
03:55:14 <kamatsu> i think the main verbosity of Java doesn't come from the types as much as it comes from the fact that it has no abstraction beyond very clunky classes and methods.
03:55:37 <danderson> and I usually don't understand it because the compiler inferred itself into a corner that makes no sense. By constraining it around the error, I can make it spit more sensible diagnostics.
03:55:42 <dibblego> there is a contention between abstraction and types in Java
03:55:57 <theorbtwo> There's a lovely article called 'doing things in the world of nouns'.
03:55:58 <sepp2k> I think the main verbosity of java comes from the fact that java's designers like verbosity.
03:56:24 <cads> are you supposed to code java by hand?
03:56:26 <theorbtwo> http://steve-yegge.blogspot.com/2006/03/execution-in-kingdom-of-nouns.html
03:56:27 <kamatsu> the most iritating thing in Java i found when using it, is that if i want to do something to every element in an iterable of some description
03:56:31 <kamatsu> there is no map analogue
03:56:42 <kamatsu> you have to manually traverse or loop through
03:56:56 <kamatsu> if you add such features, it ends up inefficient and clunky
03:57:18 <danderson> kamatsu: there's very little in the way of higher order functions in general, and it dumbs down all programming
03:57:31 <kamatsu> right
03:57:33 <cads> I think there are container libraries now
03:57:37 <danderson> if you're having trouble seeing the algorithm through the syntax, the language is doing something wrong
03:57:47 <kamatsu> and i think that tat's the problem which causes the majority of the verbosity
03:57:53 <danderson> (or the programmer is, but assume a competent programmer)
03:57:58 <kamatsu> i.e: map (+1) [1,2,3,4,5] is alot shorter than:
03:58:06 <kamatsu> int[] blah = {1,2,3,4,5};
03:58:14 <kamatsu> for (int a : blah) {
03:58:19 <kamatsu> oh wait
03:58:21 <kamatsu> blah
03:58:23 <kamatsu> can't even do that
03:58:26 <dibblego> list(1, 2, 3, 4, 5).map(intAdditionMonoid.f(1))
03:58:36 <cads> some refreshing java style tips that kind of shows they're trying http://codemonkeyism.com/generation-java-programming-style/
03:59:01 <cads> it's still... unpalatable..
03:59:25 <dibblego> http://functionaljava.org/examples/#List.map
03:59:35 <danderson> "Use many, many objects with many interfaces"
03:59:55 <danderson> unfortunately, many java programmers take this to mean "abstract the shit out of everything you do"
04:00:06 <danderson> and in the end, there are more interfaces and injections than actual algorithm
04:00:21 <kamatsu> this happens even at Google to a limited extent
04:00:33 <fasta> danderson, and the actual algorithms are in principle the only things doing work.
04:01:02 <danderson> kamatsu: a few years back someone actually did a regex search for the most egregious java-ism in the codebase
04:01:03 <cads> i dunno.. it's just.. programmers.. are kinda dumb.. or else they'd be engineers and mathematicians and scientists..
04:01:10 <kamatsu> danderson: oh?
04:01:16 <cads> I think a lot of them do just fine with java
04:01:23 <danderson> it came out as something like AbstractFactoryFactoryImplDecoratorFactory
04:01:25 <cads> they can get work done.
04:01:32 <fasta> cads, what do you call a scientist that programs?
04:01:40 <cads> a scientist
04:01:47 <kamatsu> danderson: excellent, at least Wave's abstractions were well intentioned
04:01:57 <Twey> -5 for use of ‘splitted’
04:01:59 <fasta> cads, odd distinction.
04:02:02 <danderson> kamatsu: the thing is, the author of that piece of code was on the thread
04:02:15 <kamatsu> once we separated getters and setters into a Readable and Writeable interface in order to statically enforce whether or not a mutable object would be written to by various parts of the code base.
04:02:19 <danderson> and he basically said "Yeah, I'm ashamed, but I swear it made complete sense at the time!"
04:02:51 <kamatsu> isn't that sort of stuff meant to be filtered out  by code review?
04:03:04 <fasta> kamatsu, the same thing happens in Haskell (see Reader monad).
04:03:08 <kamatsu> that means at least one person agreed that that was a good idea >_>
04:03:23 <cads> fasta, is he trained as a scientist, or is the main scope of his training implementing designs.. if the scope involves designing software systems then by all means he's an engineer, but I'd be tempted to argue that many programers do limited software engineering
04:03:29 <kamatsu> fasta: that is true
04:03:33 <danderson> yeah. And it probably did make sense at the time. It's very possible for a whole team to paint itself into a corner.
04:04:27 <danderson> kamatsu: the reader/writer stuff sounds like object capability programming, which is quite neat.
04:04:34 <Twey> I like most of the ideas, but Schmidt's reasoning is odd
04:04:40 <kamatsu> danderson: except it  turned out  that we never really used that
04:04:46 <Twey> « Loops are procedural code, while Predicates are, encapsulated, reusable, understandable objects. Nothing to do with functional programming, plain OO – it’s only ursurped by functional programming, therefor I refer to it as FP. »
04:04:51 * hackagebot gt-tools 0.1.3 - Console and GUI interface for Google Translate service  http://hackage.haskell.org/package/gt-tools-0.1.3 (MikhailPobolovets)
04:04:55 <kamatsu> danderson: and it became quickly obvious that the abstractionwasn't  useful there
04:05:06 <Twey> (as is his English)
04:05:09 <kamatsu> danderson: but it was too  late to  remove
04:05:11 <danderson> kamatsu: that would be a problem then, yeah
04:05:18 <cads> fasta, ie. you can be a programmer by taking a straightforward certification course, but an engineer will usually have  a degree earned over 4 years of study.
04:05:55 <quicksilver> most of the programmers here have neither certification courses nor degrees.
04:06:05 <kamatsu> where is here?
04:06:09 <fasta> quicksilver, where do these numbers come from?
04:06:10 <quicksilver> where I work.
04:06:17 <theorbtwo> That's a very external sort of distinction.
04:06:20 <kamatsu> i must be living in a complete ivory tower
04:06:21 <quicksilver> sorry, imprecise word.
04:06:39 <fasta> quicksilver, in this company all of them have either an engineering degree or a university degree or both.
04:06:49 <theorbtwo> You are saying that what seperates a programmer and an engeneer is somebody else saying that they are?
04:06:49 <kamatsu> i have never worked professionally with programmers that don't have degrees, yet i hear that people such as that exist
04:06:51 <quicksilver> different strokes etc :)
04:07:03 <theorbtwo> It's just an appeal to authority.
04:07:07 <fasta> quicksilver, admittedly, one of them has no CS background ;)
04:07:15 <quicksilver> probably I exagerrate a little. About half have degrees.
04:07:22 <kamatsu> i know one guy that has a pure maths degree
04:08:04 <cads> quicksilver, what kind of work do the programmers do?
04:08:13 <fasta> Anything worth anything is made by someone with a CS degree or has read enough to be of the same quality. I have never met someone without a CS degree doing that however.
04:08:39 <fasta> I don't believe in the self-taught myth unless they have a physics or math degree.
04:09:13 <cads> I'd say a math degree
04:09:31 <cads> would get you pretty far to being able to do neat cs stuff
04:10:04 <cads> but maybe not at a real world scale
04:10:27 <sepp2k> fasta: What's the difference between "has read enough to be of the same quality" and self-taught?
04:10:36 <fasta> sepp2k, nothing.
04:11:04 <sepp2k> Oh, right. I didn't read carefully enough.
04:11:44 <kamatsu> cads: I know one guy with a math degree who works as a software engineer at google
04:12:28 <kamatsu> then again, he has several math degrees, and while his official title is software engineer, he seems to be more a research scientist
04:12:36 <systemfault> Anyone familiar with ghc RULES?
04:12:43 <kamatsu> nop
04:12:45 <Alpounet> systemfault, yeah a bit
04:12:49 <Alpounet> what's your issue ?
04:13:16 <cads> kamatsu, it would be interesting to know what branches he specialized in
04:13:35 <systemfault> Alpounet: Just trying.. Let's say I have (a `div` 2) in my code and would like a rule to replace that with (a `shiftR` 1)
04:14:08 <cads> if it's something like graph theory it wouldn't surprise me that he'd be able to apply it towards his job, rather well at that
04:15:03 <Alpounet> systemfault, hmm, "forall a. div a 2 = shiftR a 1" doesn't work ?
04:15:37 <kamatsu> cads: not sure
04:16:46 <systemfault> Alpounet:  Could not deduce (Bits a) from the context (Integral a, Num a)
04:16:59 <systemfault> Alpounet: I also got that one from my test
04:17:10 <cads> Lots of applied maths reliy heavily on computers so those mathematicians are usually good programemrs, probably much better than average.. I still wonder if they think in terms of the engineering that goes into huge systems, or if their value lies more in being able to solve very hard problems in teams where other people might be thinking of 'big picture' issues.
04:18:02 <cads> Of course like fasta says, if they've got math/physics degrees, they can probably pick up the sofware engineering know-how pretty quickly if they apply themselves
04:20:36 <Alpounet> systemfault, maybe you gotta introduce a conversion in the middle
04:27:28 <lpsmith> I've known a few mathematicians who were terrible programmers.
04:28:19 <lpsmith> I mean, there is a lot of overlap,  and at it's best knowledge of one topic can greatly assist with the other... but...
04:28:26 <lpsmith> it's not a given either
04:31:27 <lpsmith> One of the worst was the head of a math department;  really got on my case for asking to test out of Discrete Math because the course had an SML component.   Later I saw some of the SML he written that he used in the course.
04:31:29 <lpsmith> Wow.
04:31:32 <lpsmith> It was terrible.
04:43:59 <kamatsu> i've known a few mathematicians who weren't good mathematicians either
04:44:20 <kamatsu> i mean, there's alot of overlap, and it's best knowledge of mathematics can greatly assist with being a good mathematician.. but..
04:44:23 <kamatsu> it's not a given either
04:44:53 <kamatsu> i think good mathematicians may well be inclined to be good software engineers
04:48:49 <mreh> I keep making mutually recursive switches in Yampa, although this doesn't really fit in with a modular design when you start mutually importing modules
05:21:14 * hackagebot IrrHaskell 0.1 - Haskell binding to the Irrlicht game engine.  http://hackage.haskell.org/package/IrrHaskell-0.1 (MaciejBaranski)
05:46:00 <kamatsu> irrhaskell? interestering
05:49:40 <Jaak> hah, well this is annoying. minView is Set a -> Maybe (a, Set a) in ghc but Set a -> m (Set a, a) in hugs
05:51:38 <quicksilver> Jaak: that's a library function, it's not compiler related.
05:51:46 <quicksilver> Your hugs evidently has older libraries.
05:52:10 <kamatsu> http://functionaljava.org/ <-- what we were referring to earlier
05:52:16 <Jaak> well this shall be fun then
05:52:19 <quicksilver> still, it shouldn't be a big problem since the GHC one is a more specific version of the same
05:52:26 <quicksilver> just assume the Maybe type (a better type IMO)
05:52:36 <quicksilver> oh, left-right switched too?
05:52:42 <Jaak> yeah, that's the bummer
05:52:52 <quicksilver> doh :(
05:54:57 <aavogt> @messages
05:54:57 <lambdabot> ski said 6h 20m 29s ago: tuple types and `Either' are good (but i'd like "positional variants"), and lightweight record and variants ("polymorphic variants") are also good
05:54:57 <lambdabot> ski said 6h 19m 38s ago: i was however specifically thinking about temporary recursive types (e.g. possibly to be locally introduced with a `data' or `newtype' inside a `let' or `where')
05:56:27 <aavogt> dancor: right, you don't get the actual value, so  $(varE 'x) isn't the value of x, it's the variable x (with which you can do stuff)
05:57:12 <aavogt> but yeah, having a Name means you can't decide what to do with your splice based on the value the name refers to
06:02:57 <aavogt> the value may not exist yet:     main = do x <- getContents; print $(let dynRead y = [| read $(dyn y) |] in dynRead "x" + dynRead "x")
06:19:56 <ManateeLazyCat> @seen dcoutts
06:19:56 <lambdabot> Unknown command, try @list
06:20:08 <ManateeLazyCat> @prefix seen dcoutts
06:20:08 <lambdabot> Unknown command, try @list
06:20:08 <zygoloid> preflex: seen dcoutts
06:20:08 <preflex>  dcoutts was last seen on #ghc 1 hour, 54 minutes and 2 seconds ago, saying: :-)
06:22:08 <ManateeLazyCat> dcoutts: I'm try to add `Printing` modules in gtk2hs, but i found some functions need headers files under directory `/usr/include/gtk-unix-print-2.0`, so where the right place to add this path? Current, c2hs don't scan directory `/usr/include/gtk-unx-print-2.0`. Thanks!
06:23:02 <ManateeLazyCat> dcoutts: BTW, i almost finish all modules, just `gdk` `pango` `printing` haven't update.
06:24:33 <ManateeLazyCat> preflex:
06:33:29 <pokoko222> anyone here does ai? what kind of probability you need for AI, is basic college enough?
06:36:06 <koala_man> sure would have been for my AI degree
06:36:50 <Alpounet> pokoko222, mostly, yes
06:37:04 <fasta> pokoko222, that depends on the kind of AI.
06:37:16 <pokoko222> fasta well, to get me going reading ai literature
06:37:23 <ManateeLazyCat> Alpounet: Hi.
06:37:46 <Alpounet> hey ManateeLazyCat
06:37:47 * hackagebot Haskelloids 0.1.0 - A reproduction of the Atari 1979 classic "Asteroids"  http://hackage.haskell.org/package/Haskelloids-0.1.0 (MatthewHayden)
06:37:55 <mreh> w00t
06:37:58 <pokoko222> Alpounet does it get advanced and complicated or ? i mean in college we got one semester only on probability
06:38:00 <fasta> pokoko222, pre-Phd stuff doesn't require anything fancy.
06:38:11 <ManateeLazyCat> Alpounet: I recommand you switch to gtk2hs.
06:38:29 <quicksilver> mreh: your website is down :)
06:38:30 <Alpounet> pokoko222, well, if you DO understand Bayes' rule, you already can do fun stuffs in AI :)
06:38:31 <ManateeLazyCat> Alpounet: gtk2hs have support Gtk+ 2.18.3 fully
06:38:31 <pokoko222> fasta hmm, well said yeah
06:38:41 <mreh> quicksilver: that's a bug
06:38:48 <pokoko222> Alpounet hehe yeah i thought so ;)
06:38:50 <ManateeLazyCat> Alpounet: I have finish 99%, just some function need adjust. :)
06:38:52 <mreh> fixed when I get a new server
06:38:58 <quicksilver> mreh: expensive fix.
06:39:07 <Alpounet> ManateeLazyCat, heh nice :) I don't have any GUI thing to write in Haskell currently but I'll think about it.
06:39:14 <quicksilver> anywhere I can see a screenshot of haskelloids in the mean time?
06:39:28 <mreh> quicksilver: can I put one on haskell.org?
06:39:35 <quicksilver> you can upload one to the wiki
06:39:43 <quicksilver> make a wiki page for haskelloids and attach it
06:39:47 <mreh> I didn't think about that... I can't change the website
06:40:29 <ManateeLazyCat> Alpounet: I need rest after finish update APIs, too tired.....
06:40:38 <Alpounet> heh
06:40:39 <Alpounet> nice job !
06:40:59 <ketil> ghc 6.10 doesn't like pragma Language RankNTypes - what is the corresponding ghc option?  (Using Extensions: RankNTypes in .cabal worked, but I need to build a static binary)
06:41:51 <ManateeLazyCat> Alpounet: Current ApiGen just generate right API for most code, but some situation still need write by hand, i think i will perfect ApiGen first if i have spare time, then it will save much time.
06:42:12 <maltem> ketil, it *should* like that, and the option is -XRankNTypes (-X for extension), and you can build static binaries with cabal
06:42:13 <ketil> Oh, never mind.  -XRank2Types works.
06:42:28 <ketil> maltem, thanks.
06:42:38 <maltem> oh ok
06:42:46 <Alpounet> ManateeLazyCat, that's already great. That means any upstream GTK+ update will be easy to handle in gtk2hs
06:42:52 <ManateeLazyCat> Alpounet: For update gtk2hs API, i even write an elisp extension for transform C document to Haddock style automatically.
06:43:06 * ManateeLazyCat pasted "gtk2hs.el" at http://paste2.org/get/743910
06:43:14 <ManateeLazyCat> Alpounet: Above is emacs extension for transform C document.
06:43:25 <dcoutts_> ManateeLazyCat: how does that differ from the version I wrote for the apigen tool?
06:43:53 <mreh> quicksilver: I've really messed this up, I didn't realise I cant change the website and description once its uploaded... can I ask Ross Paterson nicely?
06:44:18 <ManateeLazyCat> dcoutts_: Example, some argument need return even in function, it's a input argument.
06:44:38 <ManateeLazyCat> dcoutts_: And current ApiGen don't handl *.Func
06:44:42 <sioraiocht> dcoutts_: is there an explanation/illustration anywhere of the concatMap problem with Stream fusion?
06:45:06 <dcoutts_> sioraiocht: hmm, I don't think so, not a good one. It's messy.
06:45:17 <sioraiocht> dcoutts_: Ralf and Simon were asking me about this
06:45:19 * ManateeLazyCat pasted "Func coce" at http://paste2.org/get/743913
06:45:22 <ManateeLazyCat> dcoutts_: Example for above
06:45:22 <dcoutts_> sioraiocht: you can easily make a messy example yourself if you like :-)
06:45:29 <sioraiocht> I've written down the function
06:45:35 <ManateeLazyCat> dcoutts_: I need write `mkLinkButtonUriFunc` by hand.
06:45:36 <sioraiocht> it "fuses"
06:45:45 <sioraiocht> but the issue is with how it is optimised, isn't it?
06:45:48 <dcoutts_> sioraiocht: right, getting it to fuse is easy
06:45:56 <edwardk_> heya sioraiocht
06:46:00 <sioraiocht> dcoutts_: Ralf and SPJ were asking me about this
06:46:02 <ManateeLazyCat> dcoutts_: ApiGen just generate `{-GtkLinkButtonUriFunc*-} in code.
06:46:06 <sioraiocht> and I insisted you could write it down np
06:46:08 <XniX23> FauxFaux, the java code from before... does that run on standard java compiler?
06:46:10 <sioraiocht> and that wasn't the problem
06:46:14 <sioraiocht> nd they were skeptical
06:46:16 <HugoDaniel> arch linux just broke my ghc :(
06:46:26 <dcoutts_> sioraiocht: -> #haskell-overflow?
06:47:27 <maltem> HugoDaniel, that gmp update, right? Real fun
06:48:15 <HugoDaniel> maltem: yes :(
06:48:18 <maltem> First thing it did for me was to break xmonad
06:48:20 <HugoDaniel> no fun at all
06:48:56 <HugoDaniel> now im wishing to revert arch to freebsd
06:49:35 * ManateeLazyCat pasted "ApiGen code" at http://paste2.org/get/743915
06:49:36 <ManateeLazyCat> dcoutts_: Looks above, different between ApiGen code and I write.
06:49:57 <HugoDaniel> ive tried diff things, im now going to try to build ghc from src
06:50:08 <ManateeLazyCat> dcoutts_: If ApiGen generate above code automatically, it will save much time.
06:51:00 <ManateeLazyCat> Alpounet: I will try to udpate all gtk2hs API when Gtk+ 3 released.
06:51:12 <Alpounet> ok
06:52:07 <ManateeLazyCat> Alpounet: Looks, i haven't chance to switch QtHaskell. :)
06:52:57 <ibid> hum
06:53:00 <EvanR-work> @src print
06:53:00 <lambdabot> print x = putStrLn (show x)
06:53:32 <ManateeLazyCat> dcoutts_: I have another question: How to add header path to c2hs ? Current, c2hs in gtk2hs don't scan `/usr/include/gtk-unx-print-2.0` directory.
06:53:37 <ibid> why is it that i get No instance for (MonadTrace (StateT Int IO)) when i have both instance MonadTrace m => MonadTrace (StateT s m) where and instance MonadTrace IO where
06:53:41 <ibid> what am i missing?
06:54:32 <HugoDaniel> sudo ln -s /usr/lib/libgmp.so libgmp.so.3
06:54:34 <HugoDaniel> oh
06:54:36 <HugoDaniel> this solved it
06:54:54 <dcoutts_> ManateeLazyCat: see how the other packages do it, it's something like -I
06:56:32 <ManateeLazyCat> dcoutts_: I found many patchs in file `gtk2hs/tools/c2hs/Makefile`, but can't work when i add `/usr/include/gtk-unix-print-2.0` in it.
06:56:59 <dcoutts_> ManateeLazyCat: it'll be via the pkg-config stuff
06:57:19 <pokoko222> do you guys remember what you learnt probability in college or you tend to forget some things after a while? i mean, most stuff dont seem intuitive there...
06:59:21 <XniX23> whois FauxFaux
06:59:24 <XniX23> ups
06:59:27 <XniX23> :D
07:00:56 <ManateeLazyCat> dcoutts_: Can you tell me which file need change? I try many times, but failed, sorry.
07:01:32 <ketil> Does big endian (as in Data.IntMap uses a big-endian patricia tree) mean that the top nodes are separated by the most significant bits?
07:01:59 <maltem> HugoDaniel, oh, I didn't have that particular problem, I just had to re-install the things that I got from hackage. Or do you have a custom ghc? - In re reverting, I did consider for a moment to have a look at how debian testing is doing these days :p
07:02:02 * ketil scratches head.
07:02:42 <dcoutts_> ManateeLazyCat: is gtk-unix-print a package on it's own? does it have a pkg-config package?
07:04:11 <mreh> how can I link in my hackageDB entry to a new website now I've uploaded the sdist
07:04:45 <dcoutts_> ManateeLazyCat: ok, seems so. So where you see other packages listing their pkg-config package, eg "gtk+-2.0" for gtk, in your package you specify the pkg-config package name of gtk+-unix-print-2.0
07:04:58 <mreh> http://www.haskell.org/haskellwiki/Haskelloids
07:05:17 <dcoutts_> mreh: sorry, we've not implemented yet changing the meta-data after uploads.
07:06:02 <ManateeLazyCat> dcoutts_: For http://library.gnome.org/devel/gtk/stable/Printing.html module, some headers file under `/usr/include/gtk-2.0/gtk` and some header files under `/usr/include/gtk-unix-print-2.0/gtk`.
07:06:33 <dcoutts_> ManateeLazyCat: no, the point is all these packages use pkg-config, you do not manually specify any include dirs or linker flags.
07:06:53 <dcoutts_> ManateeLazyCat: see eg pkg-config --cflags gtk+-unix-print-2.0
07:07:03 <mreh> dcoutts_, okay, thanks
07:07:09 <dcoutts_> ManateeLazyCat: the gtk2hs build system uses pkg-config to discover the correct flags
07:07:39 <dcoutts_> ManateeLazyCat: look in the configure.ac and Makefile.am for how the other components specify the pkg-config bits
07:08:10 <fax> benmachine http://en.wikipedia.org/wiki/1_%2B_1_%2B_1_%2B_1_%2B_%C2%B7_%C2%B7_%C2%B7
07:08:23 <ManateeLazyCat> dcoutts_: I see. Thanks a lot! BTW, i will finish all module tomorrow.
07:09:31 <ManateeLazyCat> dcoutts_: Can you fix *.Func problem like http://paste2.org/get/743915 , if can, ApiGen will save much time.
07:10:17 <dcoutts_> ManateeLazyCat: no, but perhaps you can improve the apiGen tool yourself. It's just Haskell code.
07:10:50 <jmcarthur> all this opengl stuff on proggit is making me want to take a hiatus from my impossible task of writing a shader dsl and just make a low level abstraction over OpenGLRaw that only exposes the "modern" parts of opengl, and in a clean way
07:11:13 <fax> open gl stuff on proggit
07:11:14 <fax> ?
07:11:15 <ManateeLazyCat> dcoutts_: I will, wrote those code is painful.
07:11:17 <fax> what are they saying there
07:11:29 <benmachine> fax: yeah I was reading about that yesterday
07:11:37 <jmcarthur> fax: there's been a series of blog posts submitted teaching modern opengl for beginners
07:11:38 <benmachine> fax: it all seems a bit silly to me still :P
07:11:40 <dcoutts_> ManateeLazyCat: or ask someone else on the gtk2hs list. The fact that you know exactly what the translation should be is a good start.
07:11:49 <jmcarthur> fax: modern as in favoring VBOs and shaders over immediate mode
07:12:09 <fax> this is not new jmcarthur
07:12:22 <jmcarthur> fax: the tutorial is still being written...
07:12:38 <fax> this methodology
07:12:43 <jmcarthur> fax: no certainly not
07:12:45 <fax> I don't know what tutorial you mean but it's old stuff
07:12:49 <ManateeLazyCat> dcoutts_: I haven't see source code of ApiGen, but i think Scan *.Func is simple.
07:12:58 <edwardk> dcoutts_: hrmm, is there any way to specify that you want to include an entire directory in the data-files of a cabal installed app?
07:13:09 <jmcarthur> fax: but there are no beginner level tutorials for it that i know of (beginner meaning to opengl experience at all)
07:13:17 <jmcarthur> *no opengl experience
07:13:18 <edwardk> dcoutts_: i have a entire directory structure worth of po files for instance associated with my app.
07:13:20 <fax> anyway it seems orthogonal to shader language
07:13:40 <dcoutts_> edwardk: the globbing makes it easy to include files with a given extension
07:13:45 <edwardk> dcoutts_: and need to be able to preserve the fact that it was in a nested directory
07:13:48 <jmcarthur> fax: using shaders is considered faster nowadays since you only implement what you need
07:14:04 <edwardk> dcoutts_: so if i said data-files: po/* it would include the dir and the files in it?
07:14:05 <jmcarthur> instead of using the whole complex opengl functionality
07:14:37 <dcoutts_> edwardk: no, there's a restriction on the globbing, it cannot match all files, only ones with a given extension. Do po files not use blah.po ?
07:14:53 <edwardk> dcoutts_: ok, po/*.po ?
07:14:57 <dcoutts_> edwardk: yes
07:15:08 <edwardk> will that include the po directory in the datafile path?
07:15:13 <dcoutts_> edwardk: I think so
07:15:18 <edwardk> awesome
07:15:33 <dcoutts_> edwardk: if you wanted to change the root, you'd use data-dir: po/
07:15:47 <ManateeLazyCat> dcoutts_: It's a good idea that make gtk2hs base on cabal? How to track depend? If i change upstream package, maybe break downstream packages.
07:16:03 <edwardk> dcoutts_: the problem is i have a lot more data-files than just po files and don't want them intermixed in the installed data dir, hence my query
07:16:21 <edwardk> dcoutts_: i have lib files in the language itself, macros, po files, etc.
07:16:25 <dcoutts_> ManateeLazyCat: I don't understand the question, could you try rephrasing or explaining?
07:16:38 <dcoutts_> edwardk: right, I'm fairly sure dir structure is preserved
07:16:49 <edwardk> dcoutts_: you just made my day =)
07:17:19 <dcoutts_> :-)
07:18:51 <ManateeLazyCat> dcoutts_: Example, Split gtk2hs to two cabal package: `gtk` and `webkit`, if i change something in `gtk`, then break package `webkit`, but i don't know `webkit` break until i test `webkit` again. Or cabal server will test those automatically?
07:19:47 <fax> > negate . sum . map (\x -> exp (-x) * log x) $ [1..1000]
07:19:49 <lambdabot>   -0.1920928055192424
07:20:09 <fax> > negate . sum . map (\x -> (exp (-x) * log x)/100) . map (1/100) $ [1..10000]
07:20:10 <lambdabot>   No instance for (GHC.Real.Fractional (a1 -> a))
07:20:10 <lambdabot>    arising from a use of `G...
07:20:24 <fax> I don't understand
07:20:41 <fax> what's wrong with that
07:20:54 <fax> > negate . sum . map (\x -> (exp (-x) * log x)/100) . map (1/100) . map fromIntegral $ [1..10000]
07:20:56 <lambdabot>   No instance for (GHC.Real.Fractional (a1 -> a))
07:20:56 <lambdabot>    arising from a use of `G...
07:21:04 <dcoutts_> ManateeLazyCat: sure that's always a potential problem. You have to build one against the other to be sure. That's fairly easy to do though.
07:21:12 <jmcarthur> fax: map (1/100)
07:21:17 <fax> oops
07:21:28 <dcoutts_> ManateeLazyCat: currently the hackage server does not do much in the way of automatic testing, and it's a bit late then anyway.
07:21:48 <fax> > negate . map (\x -> (log (log (1/x)))/1000) . map (/1000) $ [0..1000]
07:21:50 <lambdabot>   No instance for (GHC.Num.Num [a])
07:21:50 <lambdabot>    arising from a use of `GHC.Num.negate'...
07:22:01 <fax> > negate . sum . map (\x -> (log (log (1/x)))/1000) . map (/1000) $ [0..1000]
07:22:02 <lambdabot>   NaN
07:22:06 <fax> uugh
07:22:30 <jmcarthur> > negate . sum . map (\x -> (log (log (1/x)))/1000) . map (/1000) $ [1..1000]
07:22:32 <lambdabot>   Infinity
07:22:39 <benmachine> you could fuse your maps, btw
07:22:44 <benmachine> map f . map g = map (f . g)
07:23:02 <ManateeLazyCat> dcoutts_: For current gtk2hs darcs repository, i can find those problem easily, because all packages will test again when i change basic package.
07:23:03 <fax> > negate . sum . map (\x -> (log (log (1/x)))/100000) . map (/100000) $ [1..99999]
07:23:03 <jmcarthur> sometimes it's just easier to use more than one map
07:23:05 <lambdabot>   0.5771618612833885
07:23:12 <fax> @oies 0.577
07:23:13 <lambdabot>  a(n) = the sum of the distinct primes dividing n.
07:23:13 <lambdabot>  [0,2,3,2,5,5,7,2,3,7,11,5,13,9,8,2,17,5,19,7,10,13,23,5,5,15,3,9,29,10,31,2,...
07:23:36 <fax> benmachine what would be the point in that
07:23:38 <fax> ?
07:23:42 <benmachine> fax: brevity
07:23:51 <dcoutts_> ManateeLazyCat: I would recommend to you and Axel that you keep most of the packages in a single darcs repository. There is very little advantage to splitting them and several disadvantages.
07:23:53 <benmachine> convenienve
07:23:56 <benmachine> *c
07:24:20 <benmachine> might make further modifications obvious
07:24:25 <fax> okay
07:24:27 <jmcarthur> > negate . sum . map (\x -> (log (log (x*100000)))/100000) $ [1..99999]
07:24:28 <lambdabot>   -3.091084969165756
07:24:39 * jmcarthur did something wrong
07:24:47 <benmachine> I think you want 100000/x
07:24:52 <jmcarthur> ah
07:25:02 <jmcarthur> > negate . sum . map (\x -> (log (log (100000/x)))/100000) $ [1..99999]
07:25:03 <lambdabot>   0.5771618612833886
07:25:12 <fax> how can do this in haskell:
07:25:23 <fax> integral 1 to infinity of 1/floor x - 1/x ?
07:25:54 <ManateeLazyCat> dcoutts_: I don't like split repository, hard to debugging, speical when add new API.
07:26:00 <benmachine> what do you mean by in haskell?
07:26:04 * hackagebot pandoc 1.5.1.1 - Conversion between markup formats  http://hackage.haskell.org/package/pandoc-1.5.1.1 (JohnMacFarlane)
07:26:15 <Botje> fax: oh, isn't that one of the project euler problems?
07:26:18 <benmachine> sounds like the effort required to code that would be almost the same as just working it out >_>
07:26:37 <dcoutts_> ManateeLazyCat: I was going to email Axel and suggest it's not a good idea. Better to have single repo for the core gtk2hs packages, one cabal package per subdir
07:26:38 <benmachine> well
07:26:45 <fax> > sum . map ((1/fromIntegral(floor x)-1/x)/1000) . map (/1000) $ [1..1000*1000]
07:26:46 <lambdabot>   Couldn't match expected type `a1 -> a'
07:26:46 <lambdabot>         against inferred type `Simpl...
07:26:54 <fax> > sum . map (\x->(1/fromIntegral(floor x)-1/x)/1000) . map (/1000) $ [1..1000*1000]
07:26:57 <lambdabot>   * Exception: stack overflow
07:27:04 <benmachine> I reckon you can't do that in haskell directly, but you can make it into a simpler form which would then be easy to calculate in haskell
07:27:06 <fax> why is it overflowing :|
07:27:14 <benmachine> try foldl' (+) 0
07:27:16 <fax> > sum . map (\x->(1/fromIntegral(floor x)-1/x)/1000) . map (/1000) $ [1..1000*10]
07:27:17 <lambdabot>   Infinity
07:27:19 <benmachine> instead of sum
07:27:22 <Botje> fax: because sum uses foldl instead of foldl'
07:27:25 <fax> this shouldn't be infinity
07:27:36 <fax> hm
07:27:43 <benmachine> infinity just means, more then about 10^200 or something
07:27:43 <fax> I see what is wrong
07:27:46 <benmachine> *than
07:27:48 <fax> > sum . map (\x->(1/fromIntegral(floor x)-1/x)/1000) . map (/1000) $ [1000..1000*10]
07:27:50 <lambdabot>   0.5259330784742123
07:27:55 <jmcarthur> > 10^200
07:27:56 <lambdabot>   100000000000000000000000000000000000000000000000000000000000000000000000000...
07:28:00 <jmcarthur> > 10^300
07:28:01 <lambdabot>   100000000000000000000000000000000000000000000000000000000000000000000000000...
07:28:02 <fax> can you do this up to more than 10?
07:28:03 <benmachine> > 10e200 :: Float
07:28:04 <lambdabot>   Infinity
07:28:05 <jmcarthur> oops, Integer
07:28:07 <benmachine> > 10e200 :: Double
07:28:08 <lambdabot>   1.0e201
07:28:15 <benmachine> > 1e400 :: Double
07:28:16 <lambdabot>   Infinity
07:28:56 <fax> > foldl' . map (\x->(1/fromIntegral(floor x)-1/x)/1000) . map (/1000) $ [1000..1000*500]
07:28:57 <lambdabot>   Couldn't match expected type `a -> b -> a'
07:28:57 <lambdabot>         against inferred type `[...
07:29:29 <benmachine> foldl' (+) 0
07:29:39 <fax> can you define a function in haskell:  integral :: (Double,Double) -> (Double -> Double) -> Double
07:29:41 <benmachine> > foldl' (+) 0 [1..100000]
07:29:42 <lambdabot>   5000050000
07:30:39 <quicksilver> fax: for a general answer you need to read about numerical analysis for integration.
07:30:48 <quicksilver> in fact, even for good specific answers.
07:31:07 <quicksilver> nothing to do with haskell at all; it's not particularly better or worse than any other language for implementing numerical methods.
07:31:21 <fax> @let integral (a,b) f = sum . map (/1000) . map f . map (/1000) $ [ceil a * 1000 .. floor b * 1000]
07:31:22 <lambdabot>  <local>:1:62: Not in scope: `ceil'
07:31:30 <ManateeLazyCat> dcoutts_: Thanks for your help! Night. :)
07:32:20 <fax> it woulb be cool if you could define like
07:32:26 <benmachine> sum . map (/1000) = (/1000) . sum
07:32:31 <fax> lim n to infinity (\n -> ...)
07:32:38 <Counter-Strike> > hello
07:32:39 <lambdabot>   Not in scope: `hello'
07:32:48 <fax> and it could do it to any precision
07:32:53 <Counter-Strike> :( he doenst like me
07:32:57 <EvanR-work> hrm, confused about the semantics of let inside of a do expression. it makes bindings visible for the rest of the do expression? the entire thing?
07:32:58 <benmachine> *she
07:33:12 <Counter-Strike> oh i'm sorry
07:33:22 <jmcarthur> @vixen Say hi to Counter-Strike
07:33:22 <lambdabot> hiya
07:33:24 <benmachine> EvanR-work: do { let x = y; z; } is equivalent to let x = y in do z
07:33:30 <xerox> EvanR-work: do { let BINDINGS; ... }  ->  let BINDINGS in do { ... }
07:33:42 <benmachine> EvanR-work: see also: @undo
07:33:46 <quicksilver> EvanR-work: the rest of that do block, yes.
07:34:17 <EvanR-work> but not before
07:34:24 <EvanR-work> so i cant put them at the end of the do block
07:34:51 <jmcarthur> right
07:35:06 <EvanR-work> benmachine: ok, so i can use that rule to decompose a big do into many small do and let
07:35:22 <benmachine> basically yeah
07:35:40 <benmachine> the rules for turning do into normal expressions are quite simple
07:36:29 <EvanR-work> why do i have to put a $ in between forever and a do expression
07:36:51 <fax> you just do
07:36:52 <EvanR-work> because the desugared version will have precedence problems
07:37:09 <EvanR-work> got it
07:37:12 <zygoloid> EvanR-work: because 'do' is like that.
07:37:54 <zygoloid> it's not just 'do' either. lambdas also have this sort of behaviour:
07:37:56 <zygoloid> > ($1) \x -> x
07:37:57 <lambdabot>   <no location info>: parse error on input `\'
07:37:58 <zygoloid> > ($1) $ \x -> x
07:37:59 <lambdabot>   1
07:38:21 <EvanR-work> whats ($1)
07:38:23 <ski> (not because of any interaction between desugaring and precedence; precedence is handled before any possibly desugaring)
07:38:34 <EvanR-work> oh
07:38:40 <ski>   ($ 1) f = f 1
07:38:59 <EvanR-work> when does the mind blowing stop
07:39:04 <EvanR-work> how many years of this
07:39:11 <fax> hope never!
07:39:15 <ski> > map ($ 2) [(3 +),(3 *),(3 ^)]
07:39:16 <lambdabot>   [5,6,9]
07:41:36 <benmachine> it's odd that syntax seems okay after an operator but can't be just applied
07:41:43 <Itkovian> any pointers to how to apply an older darcs patch to a repo that has moved past the version the patch was made against, ie. has new patches already? apply tells me it will not perform the patch.
07:42:50 <zygoloid> EvanR-work: if i were to guess, i'd guess that the haskell designers didn't want "awop bop a loobop awop bam do tutti fruitti all rooty" to compile :)
07:43:07 <EvanR-work> lol
07:43:15 <zygoloid> (or at least, they didn't want it to be anything other than a call to 10-argument function 'awop')
07:43:27 <EvanR-work> its annoying
07:43:32 <benmachine> it is a little
07:43:43 <quicksilver> it is annoying, yes, although the alternative might be worse in practice
07:43:44 <zygoloid> yes, i dislike it significantly
07:43:48 <EvanR-work> i have a function and an expression, and i cant put the function in front of the expression to designate application
07:43:57 <EvanR-work> f e
07:43:58 <aavogt> so  (>> return ()) applied to a monadic value that might already contain a () isn't a no-op, right?
07:44:08 <zygoloid> would be marginally nicer to be able to write: "when (x < 42) do ..."
07:44:58 <aavogt> so this law doesn't apply since you can have undefined :: (), but m >>= return  ==  m
07:44:59 <zygoloid> > (return undefined >> return ()) undefined
07:45:01 <lambdabot>   ()
07:45:04 <zygoloid> > (return undefined) undefined
07:45:05 <lambdabot>   * Exception: Prelude.undefined
07:45:22 <aavogt> > return undefined
07:45:23 <lambdabot>   No instance for (GHC.Show.Show (m a))
07:45:23 <lambdabot>    arising from a use of `M8878594539...
07:45:56 <EvanR-work> what were you thinking, using M88785945....
07:45:59 <EvanR-work> jeez
07:46:59 <zygoloid> hmm. is it possible to prove that (>> return (undefined :: Mu Identity)) = id even?
07:48:06 <fax> zygoloid, how can you return undefined and expect it to hold?
07:48:07 <ski> aavogt : yes
07:48:17 <fax> zygoloid, oh are you using an inductive Mu (i.e. no infinite terms)
07:48:17 <zygoloid> fax: (>>= return . f) == liftM f == fmap f, f = id, so fmap f = id
07:48:31 <zygoloid> [so yes, you can prove it ;)]
07:48:40 <fax> well I don't understand your proof
07:49:05 <fax> you've written undefined in the statement
07:49:22 <mercury^> > ($ ($)) $ ($ succ) $ 1
07:49:23 <lambdabot>   Ambiguous type variable `a' in the constraint:
07:49:23 <lambdabot>    `GHC.Enum.Enum a'
07:49:24 <lambdabot>      ar...
07:49:30 <mercury^> aww :(
07:49:51 <zygoloid> (>> return undefined) == (>>= return (const undefined)) == liftM (const undefined). if const undefined == id for the relevant types, then liftM (const undefined) == id
07:50:33 <mercury^> > ($ ($)) ($ succ) 1
07:50:34 <ski> > const undefined == id
07:50:34 <lambdabot>   2
07:50:35 <lambdabot>   No instance for (GHC.Classes.Eq (b -> b))
07:50:35 <lambdabot>    arising from a use of `GHC.Cla...
07:51:04 <sm> mreh: your Haskelloids release is incomplete
07:51:26 <mreh> sm: this much is made clear on the wiki
07:51:37 <sm> eh ?
07:51:52 <mreh> sm: yes, it is incomplete
07:51:59 <sm> no, I mean really incomplete. :)
07:52:06 <sm> lacking important files
07:52:12 <mreh> sm: what's wrong with it?
07:52:22 <sm> Could not find module `Haskelloids.Object.Asteroid'
07:52:44 * ski tries to refuse making a joke about unsoundness
07:53:44 <mreh> sm: cabal is broken, I didn't check the sdist
07:54:13 <int-e> mreh: you have to list the used modules as other-modules, or sdist won't include them in the distribution
07:54:58 <mreh> int-e: all of them?!
07:55:12 <mreh> I included the source directory
07:55:25 <mreh> and the main module
07:55:37 <benmachine> every module must be exposed or other, iirc
07:55:39 <int-e> yes, all of them.
07:55:49 <aavogt> ski, zygoloid: yeah, termination for code using open recursion is a little subtle due to things like that
07:56:31 * ski wonders where the open recurions comes in
07:56:53 <mreh> benmachine: how do you mean "exposed"? as "other-modules"
07:56:59 <aavogt> when they look like   a -> m b
07:57:05 <benmachine> mreh: ignore me
07:57:27 <fax> > let primes = seive ; sieve (p:xs) = p : sieve [x | x <- xs, x `mod` p /= 0]
07:57:28 <lambdabot>   not an expression: `let primes = seive ; sieve (p:xs) = p : sieve [x | x <-...
07:57:29 <fax> :/
07:57:36 <mreh> this makes for an amusing first release of haskelloids
07:57:45 <mreh> and I announced it without testing it
07:58:45 <aavogt> page 6 of here: http://ropas.snu.ac.kr/%7Ebruno/papers/EffectiveAdvice.pdf  has a       (f :: m ()) >> return ()
08:00:35 <sm> mreh: it's very common :)
08:00:44 <sm> but press on!
08:00:51 <mreh> sm: what do I do to include all the files?
08:01:08 <sm> look at other packages' cabal files for an example
08:02:08 <sm> you probably want to list them under "other-modules:" in your "executable" section
08:02:49 <sm> eg http://gist.github.com/347926
08:04:17 <mreh> how can I dry run the thing once I've got an sdist
08:04:41 <edwardk> sm: thanks for the cmdargs recommendation the other day, that worked out disturbingly well
08:04:50 <sm> edwardk: yay!
08:05:10 <edwardk> 3-4 modules of code just vanished ;)
08:05:33 <sm> mreh: search for "cabaltest:" in http://joyful.com/repos/hledger/Makefile , that should give some ideas
08:05:43 <sm> I test the bejesus out of it
08:05:59 <sm> as we say back home
08:07:53 <fasta> People testing software? People testing Haskell software?
08:07:54 <sm> mreh: oh, and you should try just cabal install from source dir to your local system
08:07:59 * fasta sees water burning
08:08:17 * mreh never tested his software
08:08:22 <mreh> evidently
08:08:52 <mreh> sm: what am I looking at here?
08:09:50 <sm> just try a "cabal install", and if that works do "cabal check", then cabal sdist and cabal upload
08:10:01 <maltem> mreh, blame hackage for publishing your package before trying to build it
08:10:17 <mreh> maltem: I thought hackage would have tried to build it
08:10:30 <sm> indeed, that would be good
08:10:32 <dcoutts_> sm, mreh: more useful is to cabal sdist, and the build that tarball
08:10:54 <dcoutts_> that checks you've not missed anything out of the tarball
08:11:00 <maltem> mreh, it will do it when it feels to have time for that (and then link to the docs, if successful)
08:11:17 <sm> dcoutts: I see.. which cabal install wouldn't notice. Good tip
08:11:29 <mreh> dcoutts_ unzip the tarball and then cabal install?
08:11:37 <mreh> can cabal install a tarball?
08:11:53 <dcoutts_> mreh: currently you need to unpack it manually
08:12:12 * dcoutts_ is planning to add a feature "cabal install foo-1.0.tar.gz"
08:13:41 <maltem> dcoutts, once we're at it, I'd love to have "cabal install foo/foo.cabal", and to be able to call the cabal file just "cabal"
08:14:08 <dcoutts_> maltem: I'm also planning on the former, but not the latter
08:14:31 <dcoutts_> maltem: why would you want a package file with no name?
08:14:55 <lpsmith>  well,  and dcoutts's suggestion gets to the general rule that you should test the final published object,   not test and then publish something else
08:15:25 <lpsmith> in this case, the final published object is a tarball,  not your source directory :)
08:15:27 <maltem> dcoutts_, because it makes tab-completion for the cabal file easier if there are other files around that are named after the package :p
08:16:03 * Phyx- wonders why his cabal test stopped working
08:16:42 <maltem> But it wouldn't be that important even to me
08:17:28 <sioraiocht> there is an unsafeNew for arrays, isn't there?
08:18:37 <dcoutts_> maltem: it's a matter of a specification, not merely a quick convenience in one tool
08:19:15 <dcoutts_> maltem: the spec defines how to find the package description, lots of tools depend on that
08:20:15 <maltem> ok
08:20:28 <maltem> sioraiocht, newArray_, maybe?
08:20:39 <sioraiocht> maltem: I think there is a..more unsafe version
08:20:39 <edwardk> sioraiocht: create a mutable array in ST, then fill it in and and freeze it when you're done
08:20:51 <sioraiocht> edwardk: yeah, I am
08:21:00 <sioraiocht> I think there is a faster array creation than newArray_, am trying to remember
08:21:39 <sioraiocht> aha
08:21:41 <sioraiocht> unsafeNewArray_
08:22:02 <aavogt> maltem: `cabal install' without any arguments will build the package (if there's only one .cabal file around)
08:22:20 <sioraiocht> not sure what newArray_ does that is safer, though
08:22:47 <maltem> sioraiocht, newArray_ = unsafeNewArray_ (for IOUArrays, at least)
08:22:58 <sioraiocht> maltem: what about for STUArray?
08:23:18 <dcoutts_> sioraiocht: I think the unsafe version is unsafe for pure arrays because it does not initialise and thus the results are not pure. You must guarantee to initialise every element to preserve purity.
08:23:31 <sioraiocht> dcoutts_: aha
08:23:32 <fax> Cale?
08:23:44 <sioraiocht> cheers, guys (or girls, as the case may be)
08:24:03 <fax> guys covers both :P
08:24:50 <edwardk> unsafeNewArray_ elements could contain anything, newArray_ contains at least a guaranteed undefined value, no?
08:25:10 <Cale> fax: yes?
08:25:32 <fax> Cale did you ever see the dirichlet arithmetic progression thing using zeta functino?
08:25:36 <fax> function*
08:25:43 <edwardk> as in the latter will die with an exception or return a known value and the former could yield anything including uninitialized memory, etc.
08:25:53 <Cale> fax: which thing?
08:27:22 <Cale> "For any two coprime integers a and m, there are infinitely many primes congruent to a modulo m." ?
08:27:41 <fax> Cale, well there is this kai(1)/1^s + kai(2)/2^s + ..., with kai(n) multiplicative & 0 for any n coprime to k
08:27:51 <Cale> (I'm not sure what it has to do with the zeta function)
08:28:03 <Cale> oh...
08:28:10 <fax> Cale, so that sum <=> pi thing turns it into a product where only finitely many things disappear! and that proves the theorem :)
08:28:48 <dcoutts_> sioraiocht, edwardk: so the safe versions do more work in the ST unboxed cases, but not for the boxed case (because initialisation must always be done there for GC correctness)
08:29:00 <fax> Cale I read that from "How Euler discovered the zeta function
08:29:11 <sioraiocht> dcoutts_: Aha, thanks
08:29:30 <sioraiocht> dcoutts_: so even in the pure functions, newArray_ does initialisation, you just don't control what the initialised version is?
08:29:32 <edwardk> dcoutts_: ah you're right
08:30:27 <dcoutts_> sioraiocht: newArray_ is an operation for the MArray class, not immutable arrays.
08:30:36 <sioraiocht> dcoutts_: aha
08:30:57 <dcoutts_> sioraiocht: as edwardk says, newArray_ for boxed arrays initialises with _|_
08:31:02 <sioraiocht> aha
08:31:27 <dcoutts_> for unboxed it's some suitable constant
08:31:51 <fax> Cale you don't like it ? :)
08:32:39 <Cale> fax: I can imagine that Dirichlet series are used to prove that. I don't know a whole lot of number theory.
08:33:07 <mreh> http://hpaste.org/fastcgi/hpaste.fcgi/view?id=24499#a24499 -- Wut? Parse error on the bottom
08:34:35 <zakwilson> I'm having a bit of newbie confusion - at the GHCI prompt this works: read "fromList [(\"foo\", 3), (\"bar\", 5)]" :: Map.Map String Int
08:34:42 <zakwilson> but this fails: foo <- read "fromList [(\"foo\", 3), (\"bar\", 5)]" :: Map.Map String Int
08:35:34 <ski> zakwilson : the latter also in GHCi ?
08:35:46 <sepp2k1> zakwilson: read doesn't return an IO
08:35:47 <zakwilson> yes
08:35:48 <ski> or in a `do'-block ?
08:36:00 <ski> try s/foo <-/let foo =/
08:36:00 <int-e> zakwilson: you can use  let foo = read ...   or  foo <- return $ read ...
08:36:08 <c_wraith> :t readIO
08:36:09 <lambdabot> forall a. (Read a) => String -> IO a
08:36:37 <zakwilson> Ahh, I get it now.
08:36:54 <zakwilson> Thanks, guys.
08:37:59 * zakwilson makes a note to re-read RWH's section on do-notation.
08:38:47 <c_wraith> LYAH's section on IO is also helpful.
08:39:13 <c_wraith> It ignores the broader uses of do, but it does give a good explanation of how to do IO in haskell
08:39:53 <mreh> I say start with the specific then generalise
08:40:00 <mreh> IO is the perfect place to start
08:40:26 <mreh> has anyone looked at my cabal file? I'm completely stuck, reading the documentation too
08:41:24 <zakwilson> I... mostly understand how to do IO. The type error I was getting doesn't make sense though; it was inferring the type IO Int. I think I would have understood if it had said IO Map.Map String Int.
08:41:39 <dcoutts_> mreh: link?
08:41:42 <mreh> http://hpaste.org/fastcgi/hpaste.fcgi/view?id=24499#a24499
08:41:58 <c_wraith> I don't see the problem, but dcoutts_ understands cabal a bit better than me. :)
08:42:41 <dcoutts_> mreh: ah, you're using cabal init, nice :-)
08:43:12 <mreh> dcoutts_: of course, I read the documentation, doesn't everbody?
08:43:25 <jmcarthur> i like cabal init. i just wish it didn't insert so many comments
08:43:30 <gwern> mreh: maybe the && lines bear removal
08:43:39 <dcoutts_> mreh: "hmatrix     >= 0.7.*" is invalid syntax.
08:43:46 <gwern> ah
08:43:49 <jmcarthur> oh there's a flag for that
08:43:52 <jmcarthur> nevermind :)
08:43:53 <gwern> mreh: also, don't use haskell98!
08:43:57 <mreh> !!!
08:44:01 <dcoutts_> jmcarthur: is there? oh nice :-)
08:44:35 <gwern> mreh: unless you're actually 'import Monad' or List, haskell98 is bad
08:44:40 <gwern> don't lie in your deps
08:44:42 <dcoutts_> jmcarthur: thank byorgey, he did the whole thing
08:45:14 <mreh> gwern: you caught me, red handed
08:46:07 <mreh> if cabal did line specific parse errors, it would be nice :) :) :)
08:46:14 <mreh> poor poor cabal
08:46:25 <dcoutts_> mreh: would be nice if there were any decent parsing library in the core packages
08:46:33 <dcoutts_> mreh: cabal cannot depend on parsec etc
08:47:00 <mreh> why not make it a core library?
08:47:27 <dcoutts_> mreh: it's not moving in the direction of stability
08:47:36 <gwern> parsec 2 v 3 etc
08:47:45 <mreh> humm
08:47:45 <dcoutts_> and in going from v2 to v3 it's picking up new unstable deps
08:47:55 <dcoutts_> like mtl which use non-standard language features
08:48:02 <dcoutts_> and it's also non-core
08:48:20 <fasta> It would be better if we had a shotgun to cleanup Hackage (like deleting the ppm reader package for example).
08:49:10 <fasta> Or anything which doesn't compile and have it sortable by dependent licenses.
08:49:48 <fasta> Someone looking at Hackage might get the impression that Haskell has >1000 useful libraries.
08:50:38 <gwern> fasta: anything that doesn't compile == all ffi bindings
08:50:41 <fasta> But in fact it more often is the case there are 5 half-broken packages each one reinventing the wheel wrongly. About 1 in 30 packages probably gets something right, though.
08:50:53 <ski> zakwilson : at the right of a `<-' there must be a monadic action, e.g. of type `IO ...' or `Maybe ...' or `[...]'
08:50:54 <fasta> gwern, there are solutions for that too.
08:51:13 <fasta> gwern, it is just that nobody wants Haskell to be popular.
08:51:13 <pastorn> Lemmih: how do i use the SDL bindings?
08:51:14 <jmcarthur> honestly, our criteria for calling a library "good" is more strict than libraries of other languages
08:51:18 <maltem> fasta, well, welcome to the world of software
08:51:33 <dcoutts_> fasta: yep, build and download metrics and filtering/ranking should help there
08:51:37 <fasta> maltem, why is that?
08:51:51 <jmcarthur> yeah i've been wanting stats and ratings on hackage for a while now
08:51:57 <ski> zakwilson : since you were typing `foo <- ...' directly in GHCi, the `...' was fixed to being an `IO'-action .. however, the action `...' expression you used didn't have a type like `IO ...', hence the error
08:52:01 <fasta> Rankings are in some sense useless too.
08:52:05 <maltem> fasta, in reply to " But in fact it more often is the case there are 5 half-broken packages each one reinventing the wheel wrongly."
08:52:09 <fasta> We just want formal proof that something works.
08:52:20 <fasta> By we, I might mean, "me".
08:52:37 <gwern> is a formal machine-checkable proof really so much to ask?!
08:52:38 <fasta> No more heuristics, just a cold machine saying something works or not.
08:52:46 <fasta> Data.Sequence has it.
08:53:01 <fasta> That surely shows more could do it.
08:53:15 <fasta> I would like to see that in a real-time formal language, though.
08:53:23 <fasta> But that might be a bit too much to ask for.
08:53:27 <dcoutts_> fasta: it's more complicated than "works or not", but yes the point of gathering the data and applying statistics would be to try and give simple answers most of the time.
08:54:17 <fasta> dcoutts_, yes, in terms of going from simple but bang for buck it is probably better to do statistics first.
08:54:45 <fasta> But statistics do not tell in general what we want to know; it's just an approximation.
08:55:05 <fax> formal proof of what??
08:55:19 <fasta> And I guess, that some things cannot be expressed by formal proof like "pretty interface".
08:55:32 <dankna> I think having broken packages is part of being "comprehensive"
08:55:45 <dankna> I would support a filter that shows only packages that peer review has whitelisted
08:55:48 <dankna> but not outright removal
08:56:03 <dankna> CPAN, CTAN, etc don't mind having broken code
08:56:10 <fasta> But for most stuff all we want to know is "implements standard XYZ".
08:56:37 <fax> fasta
08:56:54 <fax> if you want to use formally correct libraries in a modular way you must also prove your own programs to be correct
08:57:16 <fax> most 'programmers' just wanna listen to jazz and type random letters until 'compile' works
08:57:17 <fasta> fax, I have done so on a small scale. It is not much harder than writing the program.
08:57:33 <zakwilson> ski: I understand. <- translates in to an expression where the code on the right is used as the left argument to >>=
08:57:37 <dcoutts_> dankna: that's the approach I want to take. Not to remove anything but to tag and filter.
08:57:38 <fax> this is the reason we don't have formal proofs in computing
08:57:48 <ski> zakwilson : yes
08:57:51 <dankna> (it's not true that Hackage can't build things with FFI bindings, as gwern suggested.  My direct-sqlite built fine.  However it probably only built because the server happened to have the underlying library, because it's such an important library.)
08:58:02 <dankna> dcoutts: then I approve and would be willing to help :)
08:58:17 <dcoutts_> dankna: great, grab the new hackage-server code and get hacking :-)
08:58:28 <dankna> hehe okay, sure.  is it in hackage?
08:58:41 <dcoutts_> dankna: http://code.haskell.org/hackage-server/
08:58:57 <dankna> okiedoke
08:59:12 <dcoutts_> dankna: in particular we need help with the build client and how to process all the build reports we get back.
08:59:27 <dankna> hmm
08:59:51 <dcoutts_> to turn the 100's of build reports per package version into the simple answers that we all want "will it work for me?"
09:00:08 <dankna> yeah, that's right, I remember configuring cabal to say "sure, send off build reports" but I don't see any feature on the site using those reports
09:00:34 <dcoutts_> dankna: right, the current live hackage server does not support it
09:00:45 <dankna> how are the build reports tagged as to platform?
09:01:15 <dcoutts_> dankna: they report the OS and Arch
09:01:44 <dcoutts_> dankna: you can see them in your local ~/.cabal/build.log
09:02:09 <dankna> hmm yes, I see
09:02:25 <dcoutts_> or is it logs/build.log, I don't recall
09:02:30 <dankna> the latter, but I found it
09:03:14 <dankna> hm
09:03:21 <dcoutts_> so imagine you had 50-1000 of those per package version, how do we summarise that down to useful info
09:03:29 <dankna> well, what about a cross-table
09:03:38 <dankna> columns are OS, rows are architecture
09:03:41 <dcoutts_> it's potentially complex, it might not work with some ghc versions, or might always break on windows, or some combination
09:04:13 <dankna> in each cell you have number slash number, successes out of total attempts
09:04:22 <dcoutts_> I think we can do better
09:04:32 <dankna> fair
09:04:42 <dcoutts_> what do users want to know?
09:04:43 <dankna> well, and then perhaps you can drill down and get details for just the combination you're interested in
09:04:55 <dcoutts_> "it works with ghc-6.10+, except on windows"
09:05:08 <dankna> true.
09:05:13 <dcoutts_> I think most of the time we could produce simple summaries
09:05:21 <dankna> okay, so each cell has multiple rows, one for each ghc version.
09:05:55 <dankna> another thing to keep in mind is what maintainers want to know, as opposed to end users
09:06:05 <maltem> dcoutts_, also: it might have worked for someone after fiddling around some time ---> 5 times "build failed", 1 time "success"; what's the conclusion?
09:06:12 <dankna> mostly I just want to know "hey that's awesome, somebody actually tried to use my package.  and it worked for them!"
09:06:21 <dcoutts_> dankna: sure, there has to be more info available for maintainers, but users want something really quick
09:06:39 <dankna> absolutely, and I think we should prioritize users for a start
09:06:44 <dcoutts_> maltem: quite, it has to be a statistical thing
09:07:01 <dankna> it's a shame that there's no hash of the source files in this repository
09:07:11 <dankna> then you could tell maintainers "it worked, but only with custom modifications"
09:07:29 <dankna> md5 of each file in the package would do it
09:07:48 <dankna> I think that's an idea to put on a back burner for now
09:07:57 <dankna> while we work on getting some reporting done /at all/
09:08:05 <dcoutts_> dankna: we only record builds from tarballs, not locally unpacked packages
09:08:11 <dankna> oh!  good.
09:08:52 <dankna> collecting from locally unpacked stuff might be useful too, but we definitely would want to tag it as locally unpacked and not include it in the summary
09:09:16 <dcoutts_> dankna: ah, actually the reports are in ~/.cabal/packages/$repo/build-reports.log
09:09:37 <dcoutts_> dankna: already split up so we know which server to report results to
09:09:46 <dcoutts_> important for privacy
09:10:32 <dankna> hmm, right
09:10:48 <dankna> wait, now I'm confused.  what's the difference between these two files?
09:10:52 <dankna> oh
09:11:03 <dankna> the one in packages/$repo/ is just the ones that apply to that repo
09:11:07 <dankna> the one in logs/ is all of them?
09:11:19 <dcoutts_> dankna: one is local build reports for your own use (eg local tools) and the other is for remote reporting
09:11:39 <dankna> I see that they happen to be identical for me
09:11:45 <dcoutts_> the privacy concerns for the two are different
09:11:54 <dankna> makes sense to separate them for privacy reasons, yes
09:11:58 <dcoutts_> we can add info to the local one that we cannot add for anonymous reporting
09:12:14 <dankna> though you don't actually do so, yet :)
09:12:18 <dcoutts_> right
09:12:30 <dcoutts_> I hope at some point we'll have the server ready
09:12:35 * dankna nods
09:12:42 <dcoutts_> and then in some later cabal-install release we can ask people to opt-in
09:12:54 * dankna nods
09:12:54 <dcoutts_> and send in their 1000's of old reports
09:13:06 <dankna> so it hasn't been recording these server-side yet
09:13:12 <dcoutts_> nope
09:13:19 <dankna> is the infrastructure to receive them done, or no?
09:13:29 <dcoutts_> sort-of, take a look at the server code
09:13:32 <dankna> okay
09:13:40 <dankna> yeah, I have it downloaded
09:13:56 * hackagebot Haskelloids 0.1.1 - A reproduction of the Atari 1979 classic "Asteroids"  http://hackage.haskell.org/package/Haskelloids-0.1.1 (MatthewHayden)
09:14:31 <dankna> I see that this is on top of happstack.
09:15:04 <dankna> heh yeah, the rss package uses old-time.  the cgi package does too :(
09:15:38 <dcoutts_> dankna: yep, sigh
09:15:56 <dankna> how do I configure this to run locally?  bearing in mind that I already have something on port 80 :)
09:16:26 <amanda8> http://www.mdhjakten.se/dela/?id=dti2d6s
09:16:27 <amanda8> hi ya
09:16:59 <dankna> hm, I'm seeing a configure failure.  uri requires parsec >= 3, happstack require parsec < 3.
09:17:10 <dcoutts_> dankna: it defaults to 8080 and has a --port flag
09:17:14 <dankna> ah, great.
09:17:28 <dcoutts_> dankna: use an constraint on the uri version
09:18:17 <maltem> mreh: Success! ... of installation. But running it is problematic here
09:18:52 <mreh> maltem: why?
09:19:28 <dankna> okay, configures now.
09:19:52 <dankna> I set it to uri == 0.1.1, which is the most recent version that will work.
09:20:08 <maltem> mreh: It seems to me that the event loop doesn't go on when there's no input, or something. I have to move the mouse, or hold a key pressed, for the animation to go on
09:20:23 <mreh> maltem: HGL is broken
09:20:30 <emes> i'm trying to install haskell-platform 2009.2.0.2 on ubuntu 9.10 and I get "The mtl-1.1.0.2/Setup script does not exist or cannot be run"
09:20:37 <emes> but I have mtl installed
09:21:14 <mreh> maltem: I've seen that happen before, but only when there's no specific refresh period on the game window
09:21:20 <dcoutts_> mreh, maltem: HGL has been broken for years. It's more or less unusable.
09:21:27 <mreh> it should refresh 60 times a second
09:21:45 <mreh> It works on my system...
09:21:50 <dcoutts_> mreh, maltem: which is why there are two new SOE implementations, because the original HGL one is completely borked.
09:22:12 <EvanR-work> gah
09:22:29 <maltem> Great news :( Interesting it would work on some systems, but not on others
09:22:40 <mreh> :(
09:22:42 <EvanR-work> whats the list function which does one thing if its [], and something else otherwise
09:22:55 <zygoloid> foldr?
09:23:10 <EvanR-work> more general something else
09:23:25 <zygoloid> how do you mean, more general?
09:23:25 <mreh> foldr is general
09:23:43 <EvanR-work> the something else is (\theWholeList -> anything)
09:23:47 <zygoloid> @type foldr . const
09:23:49 <lambdabot> forall a b. (b -> b) -> b -> [a] -> b
09:24:07 <EvanR-work> im thinking of a function similar to maybe
09:24:25 <zygoloid> @type foldr . const . const
09:24:26 <lambdabot> forall a a1. a1 -> a1 -> [a] -> a1
09:24:51 <zygoloid> EvanR-work: it sounds like you want... foldr?
09:25:29 <EvanR-work> heres my specific case
09:25:30 <mreh> aka reduce
09:26:01 <EvanR-work> f [] = []; f ls = map fromSql (head (transpose rows))
09:26:27 <zygoloid> EvanR-work: so 'f ls' doesn't use ls?
09:26:33 <EvanR-work> s/rows/ls/
09:26:48 <EvanR-work> transliterating code here
09:26:56 <maltem> @type \z f -> maybe z f . listToMaybe
09:26:57 <lambdabot> forall b a. b -> (a -> b) -> [a] -> b
09:27:00 <EvanR-work> thats it
09:27:02 <EvanR-work> listToMaybe
09:27:08 <EvanR-work> couldnt remember
09:27:13 <mreh> has anyone had success with Haskelloids?
09:27:13 <dankna> dcoutts: had to make a one-line change to SMTPClient to get it to install.  *shrug* probably not going to submit the patch to its author, that's a lot of work :/
09:27:23 <MisterN> @src listToMaybe
09:27:23 <lambdabot> listToMaybe []        =  Nothing
09:27:23 <lambdabot> listToMaybe (a:_)     =  Just a
09:27:41 <maltem> EvanR-work, not *much* shorter than pattern-matching :)
09:27:44 <EvanR-work> yeah, not exactly what i want ;)
09:28:02 <emes> how does numerical performance in haskell compare to C/fortran?
09:28:02 <EvanR-work> yeah so ill just use a case or a pattern match
09:28:22 <dankna> emes: the Great Computer Language Shootout can give you a quantitative answer to that
09:28:32 <dankna> (name fuzzily misremembered)
09:29:22 <zygoloid> EvanR-work: f ls = fromMaybe [] (fmap (map fromSql) (listToMaybe (transpose ls)))
09:29:26 * zakwilson_ is still trying to get used to the idea that IO is hard and complex machine learning algorithms are easy.
09:29:34 <Ke> dankna: not really unless there are tests like sum  10^12 numbers with 10^12
09:29:37 <maltem> dankna, do they have a typical numerical program there (that is, dumb floating-point operations on huge arrays)?
09:30:07 <dankna> I believe they do have both those sorts of things, Ke, maltem.
09:30:11 <EvanR-work> maltem: most of those programs are like that
09:30:21 <EvanR-work> physics simulations, etc
09:30:39 <maltem> Ah, that n-body thing
09:30:41 <EvanR-work> integer tests are like compression, number theory, graph theory
09:31:11 <maltem> That's already too sophisticated to count as typical numerical
09:31:14 <maltem> ;)
09:31:34 <EvanR-work> if you dont want sophisticated, go ahead and do your own test ;)
09:31:40 <dankna> well, anyway, it's the only statistically-rigorous quantitative answers to the question that anybody has bothered to do
09:31:41 <EvanR-work> foldl' for the win
09:31:52 <dankna> so he'll have to be content with it or do his own :)
09:32:00 <Ke> I think the way we should go is to run haskell on cpu to generate opencl or such
09:32:11 <dankna> now that would be interesting
09:32:18 <Ke> with some nice wrappers
09:32:43 <emes> doesn't seem that bad, only a few times slower than fortran
09:33:01 <EvanR-work> i know i can pattern match sort of on parts of do that look like (a,b) <- ioWithReturnValue, but can i have more than one pattern?
09:34:33 <maltem> EvanR-work, do x <- foo; case x of ...
09:34:49 <EvanR-work> got it
09:34:58 <maltem> (or even, foo >>= f where f ...)
09:40:08 <EnglishGent> hi all :)
09:40:17 <fax> hi
09:40:21 <EnglishGent> hi fax  :)
09:40:44 <EnglishGent> a question (this is confusing me) - why do existential types use the keyword 'forall' in defining them?
09:41:09 <fax> EnglishGent - do you know agda
09:41:10 <EnglishGent> e.g. data AShape = forall a. Shape a => AShape a
09:41:18 <ddarius> EnglishGent: To avoid taking another identifier and because it actually makes sense logically.
09:41:23 <EnglishGent> um - tiny bits thereof
09:41:34 <EnglishGent> yes - I know you can express both quantifiers in terms of the other
09:41:41 <maltem> EnglishGent, forall is the universal quantifier, but it quantifies a in the type of the data contructor AShape
09:41:44 <EnglishGent> and I do (I think!) understand existential types
09:41:52 <EnglishGent> but it just seems a confusing choice of syntax
09:41:53 <zygoloid> EnglishGent: what type does that give the 'AShape' value constructor?
09:41:54 <fax> EnglishGent, consider -- data Exists (T : *) (P : T -> *) where witness : forall (t : T) -> P t -> Exists T P
09:42:04 <maltem> EnglishGent, that is, you get AShape :: forall a. a -> AShape
09:42:06 <opqdonut> EnglishGent: think of the type of the constructor AShape
09:42:09 <Cale> EnglishGent: The reason it makes sense logically is that the forall occurs *outside* the constructor.
09:42:21 <EnglishGent> thanks all :)
09:42:55 <Cale> EnglishGent: So, for all types a such that there is an instance Shape a, there will be a constructor AShape
09:43:06 <zygoloid> EnglishGent: it's like saying 'AShape' has constructors of the form 'AShape a' for all types 'a' which satisfy 'Shape a'
09:43:11 <Cale> yeah
09:45:49 <clanehin> I wonder if anyone has researched a way to get efficient random access into an infinite list.
09:45:55 <jmcarthur> from the bitc front page: "As a litmus test, it is possible to write a MPEG decoder or SHA-1 hash algorithm in BitC that is fully safe, but performs competatively with the C implementation. Today, that can't be done in SML, O'Caml, or Haskell."
09:46:00 <jmcarthur> somebody please prove that wrong :)
09:46:13 <EnglishGent> well - presumably you can consider an infinite list as a function Nat -> *
09:46:25 <fax> jmcarthur I assume they mean formal correctness proof
09:46:35 <fax> EnglishGent: that would be finite lists
09:46:40 <EnglishGent> so as long as you can generate elements using some closed formula - it should be efficent :)
09:46:47 <Cale> jmcarthur: prove what wrong?
09:46:50 <fax> EnglishGent: Nat -> A for infinite streams of A's
09:47:23 <EnglishGent> why would that be finite lists fax? Nats can be of any size
09:47:26 <fax> or maybe you mean something else by * than what I was doing
09:47:31 <fax> yes but every single nat is finite
09:47:32 <EnglishGent> I mean 'some type'
09:47:37 <fax> oh okay
09:47:39 <jmcarthur> Cale: the performance. i was assuming, perhaps incorrectly, that the "fully safe" aspect of the claim was along the same lines as the type safety achievable with haskell
09:47:46 <fax> before, when I used * it was like a kind in haskell
09:47:58 <fax> (which is not correct agda but it's better than calling types sets.. imo)
09:48:01 <Cale> jmcarthur: (note that I just reset my internet connection and missed the original context)
09:48:10 <jmcarthur> Cale:
09:48:12 <jmcarthur> doh!
09:48:16 <jmcarthur> Cale: the performance. i was assuming, perhaps incorrectly, that the "fully safe" aspect of the claim was along the same lines as the type safety achievable with haskell
09:48:16 <EnglishGent> there's an awful lot of terminological confusion fax :|
09:48:19 <jmcarthur> i suck
09:48:22 <jmcarthur> sorry
09:48:26 <EnglishGent> I spend a lot of time trying to wade through it myself :|
09:48:29 <jmcarthur> from the bitc front page: "As a litmus test, it is possible to write a MPEG decoder or SHA-1 hash algorithm in BitC that is fully safe, but performs competatively with the C implementation. Today, that can't be done in SML, O'Caml, or Haskell."
09:48:34 <jmcarthur> Cale: ^^
09:49:12 <danderson> ooh, a challenge!
09:49:19 <dankna> why does happstack-data use packedstring, which has been deprecated in favor of bytestring? :(
09:50:09 <jmcarthur> dankna: i don't see packedstring in its dependencies here: http://hackage.haskell.org/package/happstack-data
09:50:42 <fax> jmcarthur it is clear exactly what is meant by safe?
09:50:55 <dankna> jmcarthur, hmm, you're right.  so why is cabal trying to build against it?  hmm....
09:51:01 <fax> also have they actually done it o_O or just claim that it's "possible"
09:51:07 <jmcarthur> fax: not really. i'm not very familiar with bitc, and i was making a perhaps bad assumption
09:51:22 <fax> jmcarthur bitc is pretty dumb btw
09:51:25 <jmcarthur> fax: it sounds like they have actually done it
09:51:48 <dcoutts_> dankna: it's more likely to be an indirect dependency
09:52:01 <jmcarthur> fax: what's dumb about it?
09:52:02 <clanehin> http://hpaste.org/fastcgi/hpaste.fcgi/view?id=24500#a24500
09:52:02 <dankna> dcoutts_: yeah, hmm.  I'm trying to trace down what's depending on it now.
09:52:07 <clanehin> There's got to be a better way.
09:53:34 <dankna> dcoutts: ah!  it was because I was trying to build against syb-with-class-0.6 instead of 0.6.1
09:55:21 <dankna> of course, that just puts me back to an earlier problem, which is a link error on syb-with-class-0.6.1:Data.Generics.SYB.WithClass.Instances.dataType...
09:58:28 <Cale> jmcarthur: You probably could, though for things like that, a metaprogramming approach is more likely to work well.
09:58:50 <Cale> jmcarthur: It's possible to do realtime applications in Haskell using Atom, for instance.
10:01:39 <fax> Could you defined data types in haskell using /?
10:01:56 <fax> like data [x] = 1/(1 - x)
10:02:00 <zygoloid> fax: you mean using / as a constructor?
10:02:08 <zygoloid> oh, i see :)
10:03:01 <zygoloid> fax: what would the value constructors be called?
10:03:05 <fax> I don't know
10:03:09 <maltem> fax, what's that? A modulo type? :)
10:03:12 <fax> I am not even sure that it's possible
10:03:44 <fax> maltem no it's just division -- the idea is that  [X] = Either 1 (X,[X]) = 1 + X * [X] so then [X] = 1/(1-X)
10:04:02 <fax> a list is a geometric series
10:05:25 <zygoloid> [X] = 1 / (1 - X) => (1 - X) [X] = 1 => [X] = 1 + X [X].
10:05:29 <maltem> so 1/(1-x) = the type of the power series of 1/(1-X) ?
10:05:39 <zygoloid> maltem: yeah, pretty much
10:05:54 <maltem> sounds like potential fun
10:07:31 <edwardk> fax: it only works in limited scenarios. in theory what you want is an ordinary generating function. 1/(1-x) has such. an exponential generating function yields more exotic species.
10:07:47 <fax> edwardk what about making a programming language with species
10:08:05 <edwardk> fax: well, you can build species in haskell.
10:08:09 <fax> you could use quotients to identify permutations
10:08:12 <edwardk> fax: take for instance a Bag.
10:08:14 <fax> really??
10:08:18 <dankna> dcoutts_: I'm stumped by this linker error.  It's the same error as described at http://osdir.com/ml/haskell-cafe@haskell.org/2010-01/msg00591.html but the workaround at http://groups.google.com/group/happs/msg/1e7761d421b0e5eb?pli=1 doesn't work for me.
10:08:21 <fax> Bag = e^x ?
10:08:28 <Alpounet> there's byorgey's combinatorial species library
10:08:36 * Cale hates the term "generating function", since many of the important ones don't converge anywhere except 0 when treated as functions.
10:08:36 <dankna> dcoutts_: I think I've spent enough time on this for today :( I will return to it tomorrow though!
10:08:59 <Cale> They're formal power series, so call them "generating series" :)
10:09:13 <dcoutts_> dankna: ok, great
10:09:21 <edwardk> you can make a bag you can put stuff in, but which you can't necessarily get items out in order, by defining a bag functor, and unordered insert but only giving a take :: Bag a -> IO (a, Bag a) -- which does random selection
10:09:38 <edwardk> Cale: i knew you were going to pipe up about that =)
10:09:45 <ddarius> @google site:lambda-the-ultimate.org species
10:09:46 <lambdabot> http://lambda-the-ultimate.org/node/2785
10:09:46 <lambdabot> Title: Species: making analytic functors practical for functional programming | Lambda  ...
10:10:25 <edwardk> fax: you can similarly define a given k-bag, for which take returns a k-1 bag, etc.
10:10:38 <edwardk> er take :: Bag a -> IO (Maybe (a, Bag a))
10:10:48 <Cale> I probably care too much about notation. ;)
10:11:19 * ddarius tends to operate "formally" anyway.
10:11:21 <edwardk> fax: and a cycle such that break :: Cycle a -> IO [a] -- which selects a random point
10:11:23 * ddarius has a syntactic bent.
10:11:31 <Cale> I've been watching the MIT 6.002 lectures on electronic circuits, and the prof just picks the worst choices of notation ever.
10:11:41 <maltem> Cale: There's no such thing like caring too much about notation in either CS or maths, imo
10:12:02 <Cale> Like having v_O and v_o, V_O and V_o all at the same time.
10:12:08 <fax> edwardk that's a pretty cool way to look at it
10:12:08 <Cale> and they mean different things
10:12:10 <edwardk> fax: you can't allow the user to pick the PRNG seed though or you start to break properties
10:12:17 <fax> yeah
10:13:18 <edwardk> fax: i had a small library of them lying around somewhere, but never saw a practical purpose to them. then byorgey came out with his much sexier species lib
10:13:52 <fax> it's only from byorgey that I know of species
10:14:18 <EvanR-work> cabal install on arch...
10:14:22 <EvanR-work> fails to build stuff half the time
10:15:53 <edwardk> fax: there are also virtual species, which i'm not sure if byorgey's lib supports, which give notions for subtraction and division.
10:16:12 <fax> cool
10:16:59 <edwardk> fax: but you can only realize the actual species concretely as an object when it is non-virtual. i.e. you can define a notion of subtraction, which is basically ruling out certain options in another species. but on its own, that negative structure can't be realized.
10:17:52 <Kruppe> where does cabal-install actually put files that it installs?
10:19:17 <applicative> Kruppe, in ~/.cabal
10:19:33 <FliPPeh> Oh god, I hate the EU. Just weeks after german stepped back from the internet zensorship, they want to force in on the whole EU.
10:19:41 <Kruppe> applicative: thanks!
10:19:41 <FliPPeh> s/german/germany
10:20:47 <applicative> Kruppe, that's the standard case, you can change it if you like.    So you should put ~/.cabal/bin in your $PATH in bashrc or profile or whatever
10:21:36 <Kruppe> applicative: Actually I'm getting rid of the packages I installed using cabal manually and writing ebuilds for the ones that don't have them
10:22:41 <applicative> Kruppe, why are you getting rid of them
10:22:56 <Kruppe> applicative: So that I can use portage/emerge instead.
10:23:18 <EvanR-work> SMTPClient doesnt build ... :(
10:23:35 <Kruppe> applicative: cabal-install is fine and good but not much of a package manager.
10:23:36 <dankna> EvanR-work, oddly enough I dealt with that just half an hour ago
10:23:50 <EvanR-work> looking at the code
10:23:52 <dankna> EvanR-work, you need to add a line to the module imports in two places, let me figure out where for you
10:23:58 <EvanR-work> ok
10:24:22 <dcoutts_> EvanR-work: check out the cabal -> ebuild converter program that the gentoo team use
10:24:27 <applicative> I see, I would'nt have any wisdom about that.  I cabal install everything haskelly, I agree there can be trouble, but the package manages tend to be out of date
10:24:52 <Kruppe> applicative: which is why I'm writing my own ebuild where I need them :)
10:24:58 <applicative> Kruppe, i was going to say, "I think dcoutts is around"
10:24:59 <Kruppe> applicative: ebuilds*
10:25:07 <dankna> Network/SMTP/Client.hs and Network/SMTP/ClientSession.hs both need GenericMessage(..) added to the list of symbols imported from Text.ParserCombinators.Parsec.Rfc2822.
10:25:19 <EvanR-work> awesome let me tr
10:25:20 <Kruppe> dcoutts_: thanks for the tip!
10:25:21 <EvanR-work> y
10:26:53 <EvanR-work> dankna: thanks for that, works
10:26:59 <EvanR-work> now, who is in charge of that package?
10:27:47 <dankna> EvanR - no idea, but I'm sure hackage lists it.  If you want to send the bug report and patch that would be great; I don't really want to take the time if I can avoid it.
10:28:07 <chrisdone> http://haskell.org/sitewiki/images/1/13/Haskell-homepage-idea.png
10:28:18 <EvanR-work> yahhh
10:28:45 <FliPPeh> Looks nice.
10:28:47 <FliPPeh> :)
10:29:15 <EvanR-work> dankna: was having a hard time understanding the error message
10:29:25 * jmcarthur wonders where the big ass download button went ;)
10:29:28 <EvanR-work> and how those files used / defined Message
10:29:44 <dankna> EvanR: yeah...
10:29:48 <chrisdone> jmcarthur: haha
10:30:04 <applicative> Kruppe, I was also going to say, check out what `ghc-pkg list` says about the packages youre getting rid of.  various illusions are possible.
10:31:51 <EvanR-work> dankna: like, what does let Message fields _ = ... do anyway?
10:32:02 <EvanR-work> didnt know you could defined functions(?) with capital letters?
10:32:33 <dankna> EvanR: oh, no, that's a pattern-match.  what it does is define "fields" to be the first argument of the data constructor Message.
10:32:36 <FliPPeh> Functions with capitals?
10:33:32 <dankna> EvanR: so armed with that knowledge I went looking for where Message was supposed to be defined and found that in recent versions of the library that provides the parsing (I forget the name already), it has been changed to a type synonym with GenericMessage being the real type.
10:34:09 <dankna> hence the Message constructor was no longer imported by importing the Message type and all its constructors (since it no longer has any constructors, since it's a synonym)
10:34:38 <dons> jmelesky: ?
10:34:45 <dons> ah
10:35:17 <dons> chrisdone: yeah, no big arse download button. i notice ubuntu/skype/chrome etc do have such a button...
10:37:36 <FliPPeh> :t thediv
10:37:37 <lambdabot> Not in scope: `thediv'
10:37:37 <jmcarthur> kind of cool to have Try Haskell on the front page as suggested, but it would be pretty bad looking if/when that breaks
10:37:47 <FliPPeh> Lambdabot should include Text.Xhtml!
10:37:52 <jmelesky> dons: sorry?
10:38:09 <FliPPeh> By the way, is there an XML library that behaves like Xhtml does?
10:38:17 <FliPPeh> I love that "tag << contents" scheme
10:38:43 <dons> jmelesky: ERR_TAB_COMPLETE
10:38:54 <jmelesky> gotcha
10:39:41 <chrisdone> dons: so does ruby and python's sites. I'm crap at making buttons :p
10:40:21 <chrisdone> dons: actually python doesn't (but it should, ha)
10:40:53 <chrisdone> FliPPeh: blazehtml is an interesting one, uses do notation to write html, looks real nice http://www.google.com/url?sa=t&source=web&ct=res&cd=1&ved=0CAgQFjAA&url=http%3A%2F%2Fgithub.com%2Fjaspervdj%2FBlazeHtml&ei=CeawS-veN4vw0gTsksWIDg&usg=AFQjCNFsy8iCpSIYc8LMnb7j_mOiFWTLUQ&sig2=rlb2NFtc2SCIPub7eFxzHw
10:41:04 <chrisdone> FliPPeh: http://github.com/jaspervdj/BlazeHtml
10:41:55 <chrisdone> dons: I wonder if I can colourize your button so it fits with the theme
10:42:26 <chrisdone> oh hell yeah!
10:42:29 <FliPPeh> Oh, I like how they did attributes in blazehtml
10:42:31 <FliPPeh> As tuples
10:43:00 <FliPPeh> Xhtml suffers of not having most standard attributes, so I'd have to resort to "let div id' = thediv ! [htmlAttr "id" << id']" for that
10:43:14 <chrisdone> dons: that okay? http://chrisdone.com/tmp/haskell-download-btn.png
10:43:25 <FliPPeh> That one's nice
10:43:34 <jmcarthur> me likey
10:43:35 <chrisdone> FliPPeh: yeah I like it
10:43:51 <FliPPeh> Is there a redesign going on?
10:43:58 <FliPPeh> Lots of movement lately
10:44:26 <nlogax> chrisdone: isn't that abusing tabs a little bit? how about a bar, with the search stuff in it as well? :)
10:44:42 <chrisdone> FliPPeh: I whipped a concept up last night, people seem to like it so I'm working on a mediawiki theme now
10:44:51 <FliPPeh> :)
10:44:56 <FliPPeh> Make it pretty!
10:44:59 <sm> chrisdone: to me it looks like a background element. Maybe it would pop out better with hard edges instead of the soft all-around drop shadow ?
10:45:02 <arcatan> what's that src-user directory in BlazeHtml's repository?
10:45:39 <sm> if it turned to a beautiful red shade when you mouse over, that would also please me :)
10:47:19 <gwern> I met a fellow at I-CON yesterday. he told me that while all the kids liked to use bittorrent, he stuck with usenet because it was easier
10:47:23 <gwern> I was flabbergasted
10:48:06 <zygoloid> gwern: usenet downloads don't take time to get up to speed
10:48:37 <dons> chrisdone: nice
10:48:43 <chrisdone> sm: http://chrisdone.com/tmp/haskell-site-with-download-btn.png
10:48:43 <chrisdone> sm: I think that pops out at you!!
10:48:58 <dons> or on the right side
10:49:09 <chrisdone> yeah I was debating. one sec I'll do another on the right hand for comparison
10:49:18 <jmcarthur> chrisdone: i think that needs some white space around it
10:49:27 <gwern> ooh. so web 2.0y
10:49:37 <gwern> look at those rounded boxes and soothing pastels
10:49:50 * jmcarthur doesn't see pastels
10:49:56 <zygoloid> damn. i have to upgrade my version of web again? i was happy with web 1.7
10:50:11 <burp> doesn't look like web2.0 to me :>, juice nice
10:51:15 <chrisdone> ehh something like this http://chrisdone.com/tmp/haskell-site-with-download-btn-right-hand-side.png
10:51:38 <chrisdone> maybe arrange the event text so it wraps around so the subheading can fit next to its super heading nicely
10:52:10 <gwern> chrisdone: on the right leaves less whitespace, but it's also kind of random.
10:52:17 <zygoloid> chrisdone: it looks like it's supposed to be part of the 'Events' section there.
10:52:25 <chrisdone> yeah, hm
10:52:43 <chrisdone> maybe a little blurb about downloading the haskell platform should be at the top right? or an actual download heading?
10:52:58 <zygoloid> yeah, that might work
10:53:08 <chrisdone> someone throw me a blurb! :p
10:53:47 <chrisdone> maybe I could steal text from the haskell platform site...
10:57:33 <zygoloid> chrisdone: maybe it could go here: http://metafoo.co.uk/haskell.org-homepage.png
10:57:40 <Saizan> can we change "Download Haskell" to something that sounds less like lolcats, btw?:)
10:58:02 <zygoloid> Saizan: how about "can haz lamdaz"? ;-)
10:58:03 <chrisdone> zygoloid: I thought about that but it looks kind of crazy
10:58:20 <chrisdone> zygoloid: or maybe it's just me. do you guys tihnk that looks good?
10:58:35 <Saizan> zygoloid: _less_
10:58:40 <zygoloid> chrisdone: well, i think it's hard to miss :)
10:58:43 <Saizan> ;)
10:58:47 <zygoloid> Saizan: so it's not /too/ bad right now then? :)
10:59:29 <Alpounet> preflex: seen Saizan
10:59:29 <preflex>  Saizan was last seen on #haskell 46 seconds ago, saying: ;)
10:59:33 <Alpounet> oh
10:59:43 <Igloo> chrisdone: I'd put it as effectively a second paragraph under the "Welcome to Haskell.org" title
11:00:02 <Saizan> Alpounet: right here!
11:00:04 <chrisdone> Igloo: hmm, good idea, let me try that
11:00:17 <chrisdone> here's the SVG, btw: http://chrisdone.com/tmp/haskell.svg
11:00:26 <Alpounet> Saizan, did you make any change to vector-static ? or planning to ?
11:00:29 <jmcarthur> i know we've had this conversation before, but couldn't it just say "Download" instead of "Download Haskell"?
11:01:05 <Igloo> chrisdone: I also wonder what it would look like in a different colour, and I'd move "Try Haskell" up too
11:01:21 <dons> color might be nice
11:01:22 <Igloo> chrisdone: I think those two things are what I would want someone new to the language to see first
11:01:33 <jmcarthur> Saizan: oh, btw, in case you didn't know yet... as you know copumpkin abandoned vector-static. i have done the same now, so if you want to pick it up it's all yours
11:01:34 <dons> Igloo: the try and the download buttons?
11:01:38 <Igloo> The way to download it, and the way to try it without downloading it
11:01:41 <dons> yeah
11:02:17 <zygoloid> is the idea that try-haskell would be embedded on the front page? 'cause i really like that :)
11:02:28 <Saizan> Alpounet: well i did at the time i forked, and i have a half idea of porting the ring solver from Agda to haskell's typeclasses, if it doesn't turn out to be too crazy
11:02:30 <jmcarthur> i like it, but it scares me because it seems like it could be problematic
11:02:52 <Igloo> Maybe the "Try" background could be more colourful too. Just so htose two things stand out from all the stuff in the standard colour scheme
11:03:41 <jmcarthur> the Try section could also do with some minimal examples to try, or perhaps come with a prefilled expression that all you have to do is click on and hit enter to evaluate
11:03:54 <Saizan> jmcarthur: poor vector-static, nobody wants him
11:04:33 <Alpounet> Saizan, ok
11:04:37 <Alpounet> I'll watch your github
11:04:47 <Alpounet> (nothing perverse here)
11:05:14 * Saizan wonders what's the right way to merge jmcarthur's changes in
11:05:25 <chrisdone> Igloo: I agree definitely (re download and try buttons)
11:05:31 <Saizan> can you do that from the web ui?
11:05:32 <jmcarthur> Saizan: you have more changes since i forked?
11:05:37 <chrisdone> zygoloid: yeah it can be embedded
11:05:37 <jmcarthur> oh you mean over github
11:06:00 <Saizan> jmcarthur: no, i think it'll be a fast-forward
11:06:23 <jmcarthur> Saizan: i'd just pull locally and push to your github project, but maybe it would be easier to just delete your project and fork from mine
11:06:42 <chrisdone> jmcarthur: indeed, a pre-entered expr that starts a mini tutorial could be good. some "open full thing" link could take you to tryhaskell.org and continue or somesuch
11:06:52 <pastorn> if i have a function that's globally defined as  f :: IO MyStructure
11:07:10 <zygoloid> chrisdone: you interested in a couple of tryhaskell bug reports?
11:07:20 <pastorn> and f = readFile "somePath" >>= return . parseToMyStruct
11:07:34 <pastorn> if i use f twice, will it parse twice?
11:07:41 <Botje> yes
11:07:49 <jmcarthur> pastorn: if you execute f twice it will parse twice
11:07:50 <opqdonut> yeah
11:07:54 <pastorn> awww
11:07:58 <jmcarthur> but there is a distinction between executing and evaluating
11:08:00 <pastorn> damn IO monad
11:08:01 <chrisdone> zygoloid: what do you think? :P hmm -- could you post them as issues on the github repo perhaps?
11:08:05 <opqdonut> the IO action f is constructed only once :)
11:08:14 <pastorn> opqdonut: hehe
11:08:22 <pastorn> yeah, that'll be the expensive part :p
11:08:29 <jmcarthur> pastorn: btw:  f = parseToMyStruct <$> readFile "somePath"
11:08:59 <jmcarthur> pastorn: (<$>) = fmap, and is defined in Control.Applicative
11:09:06 <pastorn> yes, i know
11:09:10 <pastorn> don't like it :p
11:09:20 <pastorn> what's wrong with monads?
11:09:23 <chrisdone> does this look any good? (ignore the fact the button became a bit blurry, inkscape is odd -- just squint) http://chrisdone.com/tmp/haskell-with-button-under-intro.png
11:09:23 <jmcarthur> okay, then just use liftM or fmap, i don't care :P
11:10:00 <pastorn> jmcarthur: i just don't see the point...
11:10:08 <jmcarthur> pastorn: nothing is wrong with monads. it's just that sometimes there are simpler ways to express things
11:10:21 <dons> chrisdone: cool. now we can stop bike-shedding and implement it? :)
11:10:24 <jmcarthur> pastorn: why bother with >>= return .?
11:10:32 <pastorn> @type (<$>)
11:10:33 <lambdabot> forall a b (f :: * -> *). (Functor f) => (a -> b) -> f a -> f b
11:10:59 <chrisdone> dons: haha yeah I cut the bike-shedding short on the mailing list. heeeere we gooo!
11:11:22 <pastorn> @type (<*>)
11:11:23 <lambdabot> forall (f :: * -> *) a b. (Applicative f) => f (a -> b) -> f a -> f b
11:11:28 <pastorn> that's the one...
11:11:55 <jmcarthur> what about it?
11:12:36 <EvanR-work> how do i read N characters from a handle
11:12:56 <dons> chrisdone: did you find out from Ashley what is needed to implement this?
11:13:01 <pastorn> EvanR-work: hGetChar?
11:13:06 <EvanR-work> mmkay
11:13:30 <jmcarthur> replicateM n hGetChar
11:13:35 <EvanR-work> thanks
11:13:39 <jmcarthur> err
11:13:45 <pastorn> oh, that's what it was called :)
11:13:47 <jmcarthur> replicateM n (hGetChar h)
11:14:58 <pastorn> > [id, (+10), (*10), id] [1..5]
11:14:59 <lambdabot>   Couldn't match expected type `t1 -> t' against inferred type `[a]'
11:15:06 <pastorn> > [id, (+10), (*10), id] <*> [1..5]
11:15:07 <lambdabot>   [1,2,3,4,5,11,12,13,14,15,10,20,30,40,50,1,2,3,4,5]
11:15:27 <pastorn> > [id, (+10), (*10), id] <* [1..5]
11:15:28 <lambdabot>   [{-3->-3;-2->-2;-1->-1;0->0;1->1;2->2;3->3},{-3->-3;-2->-2;-1->-1;0->0;1->1...
11:15:39 <pastorn> > [id, (+10), (*10), id] *> [1..5]
11:15:40 <lambdabot>   [1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5]
11:15:46 <pastorn> what was that?
11:15:53 <jmcarthur> what was what?
11:15:56 <pastorn> > (\x -> x+1)
11:15:57 <lambdabot>   {-3->-2;-2->-1;-1->0;0->1;1->2;2->3;3->4}
11:16:04 <jmcarthur> oh, yeah, lb shows functions that way
11:16:12 <pastorn> oh my god?
11:16:13 <idnar> it's the Show instance from SmallCheck
11:16:17 <pastorn> > maybe
11:16:18 <lambdabot>   {()->{{()->()}->{Nothing->();Just ()->()}}}
11:17:03 <opqdonut> heeh, defaulting
11:18:14 <EvanR-work> how about hGetLine but with a maximum
11:19:13 <pastorn> EvanR-work: a maximum?
11:19:26 <EvanR-work> maximum characters
11:19:34 <pastorn> EvanR-work: huh?
11:19:49 <pastorn> give an examlpe string (in your handle) and the result...
11:20:07 <EvanR-work> "abcdef\n", 3, "abc"
11:20:32 <pastorn> doesn't replicateM get that for you already?
11:20:57 <EvanR-work> "abcdef\n", 16, "abcdef\n"
11:21:26 <gloob1> hi guys..i have problem witd data structure..i have data NetData = NetData { hdl_read :: Handle, hdl_write :: Handle, channel :: Chan, isMaster :: IO Bool, threadId :: IO ThreadId }
11:21:26 <gloob1> but ghc says `Chan' is not applied to enough type arguments, Expected kind `?', but `Chan' has kind `* -> *'
11:21:31 <gloob1> can you please help me?
11:21:52 <FliPPeh> Make it "Chan String"
11:21:52 <jmcarthur> gloob1: what kind of data goes on the Chan?
11:21:54 <FliPPeh> Or something.
11:21:58 <FliPPeh> Chan Int
11:22:15 <gloob1> FliPPeh: oh okay
11:22:22 <gloob1> it is string actually
11:22:26 <gloob1> thanks
11:22:45 <FliPPeh> :)
11:22:56 <arcatan> EvanR-work: hGetLine >>= return . take 16
11:23:39 <dons> gloob1: it's a Chan of something
11:23:47 <EvanR-work> arcatan: but then it will not return until a new line is reached
11:25:05 <zachk> is there a better way of generating the idMatrix then this?
11:25:07 <zachk>  > let rot list n = let l = length list in take l $ drop (l-n) $ (concat.repeat) list in let idMatrix n = map (rot (take n $ (1:) $ repeat 0)) [0..(n-1)] in idMatrix 3
11:25:41 <fax> zachk what identity matrix
11:25:52 <zachk> idmatrix n
11:25:58 <fax> identity = \x y -> if x == y then 1 else o
11:26:38 <zachk> but then i need to loop through a list of lists that isnt constructed and reassign values in the list
11:26:45 <fax> ?
11:27:11 <fax> > [ if x == y then 1 else 0 | x <- [1..3], y <- [1..3] ]
11:27:12 <lambdabot>   [1,0,0,0,1,0,0,0,1]
11:27:58 <zachk> you would need to break that up more,
11:28:09 <zachk> and im not very comfortable or familar with list comprehensions
11:28:11 <zachk>  > let rot list n = let l = length list in take l $ drop (l-n) $ (concat.repeat) list in let idMatrix n = map (rot (take n $ (1:) $ repeat 0)) [0..(n-1)] in idMatrix 3
11:28:22 <zachk> why is lambdabot not answering me anymore
11:28:23 <zachk> :(
11:29:17 <zachk> ahh leading space before the >
11:29:20 <zachk> > let rot list n = let l = length list in take l $ drop (l-n) $ (concat.repeat) list in let idMatrix n = map (rot (take n $ (1:) $ repeat 0)) [0..(n-1)] in idMatrix 3
11:29:21 <lambdabot>   [[1,0,0],[0,1,0],[0,0,1]]
11:29:28 <zachk> there we go
11:30:50 <Botje> zachk: map (take n) . take n . tails $ cycle (1: replicate (n-1) [0])
11:30:56 <fax> zachk understand this:
11:30:58 <fax> identity = \x y -> if x == y then 1 else o
11:31:10 <Botje> wait
11:31:13 <Botje> bleu :(
11:31:39 <roconnor> > let idMatrix n = map (map (\(i,j) -> (i==j)) [[(i,j)|i<-[1..n]]|j<-[1..n]] in idMatrix 3
11:31:40 <lambdabot>   <no location info>: parse error on input `in'
11:31:42 <fax> > [ [ if x == y then 1 else 0 | x <- [1..3] ] y <- [1..3] ]
11:31:43 <lambdabot>   <no location info>: parse error on input `<-'
11:31:52 <fax> > [ [ if x == y then 1 else 0 | x <- [1..3] ] | y <- [1..3] ]
11:31:53 <lambdabot>   [[1,0,0],[0,1,0],[0,0,1]]
11:32:25 <pastorn> about IO initialization...
11:32:41 <pastorn> can i create global variables with newIORef?
11:32:47 <roconnor> > let idMatrix n = map (map (\(i,j) -> (i==j))) [[(i,j)|i<-[1..n]]|j<-[1..n]] in idMatrix 3
11:32:48 <lambdabot>   [[True,False,False],[False,True,False],[False,False,True]]
11:32:51 <pastorn> or do i need to place that under unsafePerformIO?
11:33:01 <roconnor> > let idMatrix n = map (map (\(i,j) -> if i==j then 1 else 0)) [[(i,j)|i<-[1..n]]|j<-[1..n]] in idMatrix 3
11:33:02 <lambdabot>   [[1,0,0],[0,1,0],[0,0,1]]
11:33:08 <fax> @let x n m = [[(i,j)|i<-[1..n]]|j<-[1..m]]
11:33:10 <lambdabot>  Defined.
11:33:14 <pastorn> myGlobalVar = unsafePerformIO (newIORef "goin global!")
11:33:20 <pastorn> ^^ would this work?
11:33:23 <fax> then you can do n`x`n
11:33:24 <fax> ;D
11:33:40 <fax> oop it should really be x m n =
11:35:26 <zachk> yea i grasp that much
11:36:20 <zachk> i believe id matrices have to be square
11:36:54 <zachk> I*A=A*I
11:36:57 * hackagebot chp 2.1.0.1 - An implementation of concurrency ideas from Communicating Sequential Processes  http://hackage.haskell.org/package/chp-2.1.0.1 (NeilBrown)
11:37:00 <fax> yes to typeheck AI = A = IA that's true
11:37:16 <zachk> im not typechecking my matrix sizes
11:37:23 <maltem> Oops, is code.* down?
11:37:25 <zachk> just using list of lists
11:37:31 <fax> analogy
11:39:01 <gloob1> how can i import data structure frome one module to another?..import StructName doesn't work..
11:39:27 <maltem> gloob1, import TheModule
11:39:28 <c_wraith> import ModuleName ( StructName(..) )
11:39:29 <gloob1> import ModuleName (StructName) doesn't work either
11:39:30 <Jaak> import Module (StructName)
11:39:43 <c_wraith> The (..) tells it to import all the constructors, as well as the type
11:41:24 <gloob1> still nothing..in module i have
11:41:24 <gloob1> module DataStructs(
11:41:24 <gloob1>     NetData (hdl_read, hdl_write, channel, isMaster, threadId)
11:41:24 <gloob1> )where
11:41:45 <gloob1> and then import DataStructs (NetData (hdl_read, hdl_write, channel, isMaster, threadId))
11:41:46 <c_wraith> Why are those in parens?
11:41:56 <c_wraith> None of those are constructors for the data type
11:42:00 <gloob1> shouldn't they?
11:42:06 <c_wraith> No, they're just top-level functions
11:43:12 <gloob1> ou..and how can i fix it please?
11:43:29 <maltem> gloob1, module DataStructs where
11:43:43 <zygoloid> s/,/),/; s/))/)/
11:44:16 * zygoloid fails
11:45:03 <EvanR-work> so im implementing a hGetLineWithMax, and im having a hard time writing the imperative code necessary ;)
11:45:13 <EvanR-work> using hGetChar
11:45:21 <gloob1> maltem: but i need to specify name of the struct to be reachable from other modules right?
11:45:39 <c_wraith> No.  If you don't provide an export list, everything is exported
11:45:52 <EvanR-work> c_wraith: are data constructors exported?
11:45:53 <arcatan> :r
11:46:03 <gloob1> c_wraith: nice..i didn't know
11:46:07 <c_wraith> EvanR-work: yes, they are
11:46:11 <EvanR-work> really...
11:46:25 <c_wraith> EvanR-work: if you want to not export something, that's when you need an explicit export list
11:46:44 <EvanR-work> i had a problem exporting data constructors, but id rather export everything, let me check again
11:48:11 <zygoloid> can you write "module Foo hiding ... where ..."?
11:48:14 * zygoloid checks report
11:49:25 <maltem> And for that matter, a general plea: Always export everything, specifically data constructors, unless you have a pretty good reason not to
11:49:25 <zygoloid> nope
11:53:54 <c_wraith> maltem, how do you feel about using .Internal modules for that?  Present the interface that validates all the preconditions in a module, then export everything in a .Internal module?
11:54:35 <EvanR-work> much better
11:54:38 <EvanR-work> no export list
11:57:47 <JuanDaugherty> the new HP almost works till you get to cabal install cabal-install
11:58:17 <maltem> c_wraith, I feel totally fine about .Internal modules. If there are real (important) preconditions, I'm even fine with not exporting things
11:58:21 <dcoutts_> JuanDaugherty: try cabal install 'cabal-install >= 0.8'
11:58:35 <dcoutts_> JuanDaugherty: in any case the HP comes with cabal-install
11:58:37 <JuanDaugherty> with the string quotes?
11:59:11 <dcoutts_> JuanDaugherty: yep, otherwise the shell interprets the '>'
11:59:33 <stevenmarky> Hello. Any ideas on how to get output from a system command?
12:00:03 <JuanDaugherty> same error (about ghc-pkg) I'm using 6.12.1, guess need a later huh?
12:00:29 <JuanDaugherty> "cabal: failed to parse output of 'ghc-pkg dump'"
12:00:50 <dcoutts_> JuanDaugherty: you've installed an older version of cabal-install
12:01:03 <dcoutts_> JuanDaugherty: you've downgraded from the one included in the new HP release
12:01:13 <dcoutts_> to a version that does not work with ghc-6.12
12:01:34 <JuanDaugherty> i just followed the instructions at the end of the third step
12:01:49 <dcoutts_> which instructions?
12:02:01 <c_wraith> probably the part that says "run cabal update"
12:02:10 <JuanDaugherty> yes
12:02:41 <dcoutts_> JuanDaugherty: well perhaps you've got an old version somewhere in your $PATH that is masking the one you installed via the HP
12:02:50 <JuanDaugherty> no doubt
12:02:57 <c_wraith> yeah, this very much sounds like a path problem
12:03:22 <dcoutts_> JuanDaugherty: you'll notice cabal --version reports 0.6.2, where as the one that comes with the new HP beta is 0.8.0
12:03:43 <JuanDaugherty> sorry didn't see that it was a bets
12:03:51 <JuanDaugherty> *beta
12:04:14 <dcoutts_> yeah, the download page does not make that obvious at the moment
12:04:17 <c_wraith> dcoutts_: any plans to get rid of the deprecation warnings when building HP?  I was kind of surprised how many times it was complaining about base3 being used.
12:04:18 * dcoutts_ pokes dons
12:04:43 <JuanDaugherty> http://hackage.haskell.org/platform/linux.html in fact creates the opposite impression
12:04:55 <dcoutts_> c_wraith: those packages need new releases from their maintainers
12:05:12 <c_wraith> No hopes of waking their maintainers?
12:05:33 <dcoutts_> c_wraith: it's just alex, happy and mtl right?
12:06:13 <c_wraith> That sounds right.  I wasn't watching it all the time, but did notice alex and happy standing out
12:07:01 * dcoutts_ looks for volunteers to eliminate the perl dependency in alex and happy
12:07:21 <dcoutts_> anyone here want a simple janitorial task? :-)
12:07:34 <dcoutts_> you'll make the windows users happier! :-)
12:07:35 <EvanR-work> how to do an IO command until some condition is true...
12:07:48 <c_wraith> anything involving perl sounds like the terrifying janatorial kind of task.
12:08:11 <dcoutts_> c_wraith: it's actually easy, the use of perl is trivial, could and should be replaced by a few lines of Haskell
12:08:22 <c_wraith> EvanR-work: either write untilM, or do the recursion manually
12:08:27 <dcoutts_> it's just a little string substitution
12:08:43 <EvanR-work> c_wraith: ah
12:09:14 <EvanR-work> where is that
12:09:33 <c_wraith> everyone ends up writing it for themselves, since it's not in a standard library
12:09:37 <c_wraith> It's just a couple lines
12:09:52 <EvanR-work> is it like sequence unfold or something ;)
12:10:36 <pastorn> geon: hello
12:12:23 <geon> Så. Är du där Alexander?
12:13:09 <c_wraith> The interesting part is that there are several possible signatures:  "Monad m => (a -> Bool) -> m a -> m a" and "Monad m => (a -> m Bool) -> m a -> m a" are both sane signatures for a function named untilM
12:13:14 <wavewave_> can I use Mersenne random librariy with multiple thread ?
12:16:51 <c_wraith> wavewave_: which one?  There's a mersenne lib that uses a C backend and is not threadsafe.  There's one that uses pure haskell and therefore is pretty much automatically thread safe.
12:18:23 <philo> is this the right way to define a multuparameter lambda: \x->\y-x+y ?
12:18:31 <philo> is this the right way to define a multuparameter lambda: \x->\y->x+y ?
12:18:41 <mauke> it's one of the right ways
12:18:52 <wavewave_> c_wraith: mersenne-random library is not threadsafe, you mean?
12:18:54 <c_wraith> > (\x y -> x + y) 5 6
12:18:55 <lambdabot>   11
12:19:33 <wavewave_> c_wraith: mersenne-random-pure64 is thread safe?
12:19:54 <c_wraith> wavewave_: that one is, but you also have to maintain state manually.
12:20:05 <philo> ok thanks
12:20:51 <wavewave_> c_wraith: It seems that pure64 library is slower according to hackage webpage.
12:21:00 <c_wraith> wavewave_: yes, it is.
12:21:43 <wavewave_> c_wraith: how about mwc-random?
12:22:12 <wavewave_> c_wraith: random library by O'Sullivan.
12:22:17 <c_wraith> that's bos's?  It's supposed to be pretty fast, and is threadsafe.  It uses a different interface, though
12:22:31 <wavewave_> c_wraith: okay.
12:22:35 <EvanR-work> multiply with carry is teh boss awesome
12:22:45 <wavewave_> c_wraith: in fact, I tried the library once.
12:23:15 <philo> (\x -> x)
12:23:17 <applicative> dcoutts, in Happy it's just the perl is just the regex substitution in Setup.lhs?
12:23:18 <wavewave_> c_wraith: mwc-random is faster than mersenne in my 64bit desktop.
12:23:25 <philo> (\x -> x) 5
12:23:33 <dcoutts_> applicative: as I recall, yes.
12:23:40 <wavewave_> c_wraith: but it is 10 times slower than mersenne in my 32bit laptop.
12:24:01 <wavewave_> c_wraith: I used the same optimization option. Do you know why?
12:24:57 <c_wraith> wavewave_: nope.  Probably just properties of the algorithms being used.  Some algorithms perform way better with different base architectures, especially those involving fixed-size numeric calculations, like prng algorithms
12:25:11 <applicative> -- hack to turn cpp-style '# 27 "GenericTemplate.hs"' into   -- '{-# LINE 27 "GenericTemplate.hs" #-}'
12:25:29 <wavewave_> c_wraith: I see, thanks for the answer!
12:26:18 <wavewave_> I need to make a common interface for mwc-random and mersenne.
12:26:45 <wavewave_> for switching different random number algorithm.
12:26:53 <dcoutts_> applicative: ah, cpp to Haskell line pragmas.
12:27:18 <c_wraith> Well, RandomGen and Random are the typeclasses the standard proposed for abstracting out random number algorithms
12:27:27 <c_wraith> But it turns out they aren't very good abstractions
12:27:36 <JuanDaugherty> yes, updating cabal cleared the problem.
12:27:45 <dcoutts_> JuanDaugherty: great
12:28:22 <wavewave_> hmm I like mersenne library very much. I really want to use it in parallel setup
12:28:30 <XniX23> who was it again who talked about thinking forth today?
12:29:22 <wavewave_> Previously I read mwc-random has memory problem.
12:29:29 <dcoutts_> c_wraith: I think the problem is more on the side of evil mutatative PRNGs than with the Random class
12:30:08 <EvanR-work> now that i never get runtime errors anymore, ive turned to the compiler errors. they are mostly bugs in precedence caused by missing parentheses... ;)
12:30:22 <EvanR-work> wonder if the compiler could get better messages about those
12:30:28 <Entroacceptor> "    ==> All cabalized and yaourt-installed packages need to be reinstalled now.
12:30:35 * Entroacceptor sobs
12:38:00 <dons> wavewave_: use the mersenne-random-pure64 -- it will easily work in a parallel setting.
12:38:05 <jmcarthur> dcoutts_: there's also split, which is not a well-explored branch of PRNG research afaik
12:38:22 <jmcarthur> :t split
12:38:24 <lambdabot> forall g. (RandomGen g) => g -> (g, g)
12:38:37 <dcoutts_> jmcarthur: sure, one of the improvements would be to split the class into two, with splitable as a extension class.
12:38:53 <wavewave_> dons: how is the performance? is it the same as mersenne-random?
12:39:01 <dons> yes, within 10% or so
12:39:08 <dons> so very fast.
12:39:21 <wavewave_> dons: that sounds great!
12:39:21 <dons> you should tell bos about your 'memory problem' though.
12:39:24 <dons> he'll want to know
12:39:27 <dons> re. mwc-random
12:40:02 <wavewave_> dons: I do not know the detail. I just read some comment somewhere.
12:40:32 <wavewave_> dons: maybe it does not exist.
12:40:34 <dons> oh. you should probably test in practice.
12:40:44 <dons> rumours =/= science.
12:40:57 <wavewave_> dons: definitely ;-)
12:42:12 <wavewave_> dons: anyway I hope mwc-random has the same interface as others so that I can test different PRNGs.
12:42:20 <EvanR-work> well that untilM turned out to solve my problem
12:42:26 <dons> they have a fairly similar interface
12:42:31 <EvanR-work> why is it not in Control.Monad ;)
12:42:52 <c_wraith> dons: mwc-random's interface for Variate involves ST.  It's not that similar. :)
12:48:21 <dcoutts_> PRNGs in ST can be converted into pure non-splitable versions that would fit the RandomGen interface (except split obviously)
12:48:46 <maltem> No news on code.haskell.org?
12:48:47 <c_wraith> well, sure, you can always replace mutation with copying
12:48:55 <dcoutts_> c_wraith: no, no copying
12:49:29 <dcoutts_> c_wraith: you can use runST to get a lazy infinite list of values
12:49:44 <c_wraith> oh, I see.
12:49:46 <dcoutts_> which gives you a non-splittable RandomGen
12:49:49 <c_wraith> yeah
12:49:51 <chrisdone> dons: sorry, yes. I installed his wikimedia version, I'm writing a Wikimedia template now. after reading and dabbling, we can have a lot of control over how the wiki displays its content, so the index can be a wiki page
12:49:57 <dons> great!
12:51:28 <dcoutts_> chrisdone: good work btw, I saw your earlier example. If you want my 2p, I think the current events stuff has more prominence than it deserves while the categories of links sits at the bottom of the page.
12:51:50 <wavewave_> dons: any plan for support of split random generator for mersenne-pure64?
12:52:12 <c_wraith> personally, I think split shouldn't be used. >_>
12:52:13 <dcoutts_> chrisdone: my impression is that it's those links off to other resources that are most important, people don't really check for current events or latest packages on the haskell home page that much.
12:52:13 <dons> i don't think it is known whether split is sound for mersenne twisters
12:52:38 <dcoutts_> chrisdone: though obviously I know it's nice to have something to make it look like things are happening, that it's not a dead site or community.
12:53:09 <dcoutts_> dons: we should make a Haskell' proposal for the Random library
12:53:23 <dons> it's part of the libraries report, isn't it?
12:53:40 <dcoutts_> which itself is part of the H98 report
12:54:04 <dcoutts_> the libraries report isn't separate, since H 1.3 or thereabouts
12:54:06 <wavewave_> dons: i see, thanks much for the answers
12:56:58 <luite> dons: is it known for StdGen?
12:57:21 <dons> System.Random, yes.
12:57:45 <dons> the only one that it is known for, according to the documentation :)
12:57:52 <luite> ah interesting
12:58:18 <dcoutts_> it's handy primarily for lazy branching algorithms
12:58:24 <dons> there are some papers at the bottom of the docs for System.Random
12:58:27 <chrisdone> dcoutts_: thanks! indeed, I'm not too sure where to put everything. I'm just going to build it and then maybe when we can get a proper feel of it we can shuffle things about
12:58:31 <dons> but they're 20 y.o now. so there may be new results
12:58:40 <dons> not sure splittable RNGs are an active research area though
12:59:19 <jmcarthur> you can always implement split by taking every even generated number for the left and every odd one for the right, but of course you end up with insane blowup that way. just saying it should at least result in independent streams
12:59:37 <jmcarthur> err, by even and odd i mean indices, not values
13:00:02 <jmcarthur> it's a really horrible idea though
13:01:03 <c_wraith> yeah, I've thought about that implementation.
13:01:08 <c_wraith> It has issues
13:01:08 <dcoutts_> chrisdone: my main suggestion is to dedicate much much less realestate to the hackage uploads, news and events. Their main point is to indicate that stuff is happening, people can click through to see more of that stuff.
13:02:07 <pokoko222> you math ninjas in the mood for proofs questions?
13:02:09 <dcoutts_> chrisdone: especially the hackage uploads, it's almost useless in practise except as an indication that there were ~10 package uploads in the last 24 hours, which is a nice thing to make us look good.
13:02:45 <dons> dcoutts_: a good way of ensuring fresh content in otherwise empty space too
13:02:50 <dons> always something new on the page to click on
13:03:04 <dons> again though, we'd need analytics to find out what people *actually* click on
13:03:13 <dcoutts_> dons: the fact that it was previously empty was the problem :-) we've got no end of content
13:03:47 <dcoutts_> dons: yes, like I said, it's nice to have to show something is happening, but it's not exactly useful, it doesn't need that much space
13:04:02 <stevenmarky> you don't want to know what I actually click on, etc.
13:04:50 <dons> yup
13:04:52 <dons> just a little box
13:05:37 <Igloo> dcoutts_: ISTR people don't look at most of the space, though. Most people will scan across the top and then down the left IIRC
13:06:04 <dcoutts_> dons: eg it could be reduced to "X packages uploaded in the last 2 days" and give the names of the most recent 3-4 with a link to the hackage recent page
13:06:27 <chrisdone> dcoutts_: true, I don't personally look at the home page for the latest package uploads... do you think the event picture needs to be smaller? I was thinking it could be randomized, so that each page load it would show something fresh. I'm not sure what else could be put on the homepage. maybe the Community links should be at the top right?
13:06:32 <dons> e.g. like the Arch Linux home: http://www.archlinux.org/
13:06:45 <dons> see the box on the side? we try to do similar, but with content that illustrates the diversity of use
13:07:10 <Igloo> dons: I don't think we should give a 500 error page  :-)
13:07:11 <dons> we can certainly do that in less space than currently
13:07:19 <dons> Igloo: ?
13:07:32 <dcoutts_> dons: right exactly, though we could go smaller still
13:07:34 <Igloo> Ah, it works now
13:07:39 <chrisdone> hmm. I like their site map on the right
13:07:43 <Igloo> I got "Premature end of script headers: archweb.fcgi" the first time
13:07:47 <chrisdone> okay, so shrink the hackage feed
13:07:51 <dons> Igloo: huh. odd
13:08:06 <dons> chrisdone: well, you can ignore suggestions too. it is your project :)
13:08:56 <stevenmarky> one word: 400 pixel tall font hackage feed marquee
13:09:28 <Igloo> In what sense is that one word?  :-þ
13:09:37 <chrisdone> haha. but they're good suggestions!
13:10:09 <dons> þ eh?
13:11:05 <chrisdone> well I can build the header and footer, heading/paragraph/list styles, no one's disputing those. bbl
13:11:36 * Igloo thinks it looks a lot better overall, BTW
13:12:18 <mreh> has anyone tried to run haskelloids yet? I have zero successful reports so far
13:13:06 * jmcarthur installs
13:13:11 <ColonelJ> I like asteroids
13:13:39 <mreh> it's a massive install I realise, I used hmatrix just to do all the affine transformations
13:13:53 <mreh> a bit overkill
13:13:54 <jmcarthur> :o
13:14:03 <quicksilver> don't worry, that's affine
13:14:06 <fax> > 31*77
13:14:07 <lambdabot>   2387
13:14:13 <mreh> I think I heard a cough in the audience
13:14:14 <dons> quicksilver: in an italian accent?
13:14:25 <mreh> Borat :)
13:14:30 <quicksilver> dons: after the fashion of groucho marx, ideally
13:16:16 <EvanR-work> dankna: and apparently it does not export data constructor for Message, either. looks like i should import Parsec.... rfc2822 myself
13:18:01 <jmcarthur> mreh: it runs for me, but with a sporadic frame rate
13:18:25 <mreh> jmcarthur: using HGL was the worst design choice ever
13:18:30 <jmcarthur> mreh: and whatever gui toolkit you're using hangs when i hold the space bar down
13:18:53 <mreh> it should be a fixed 60fps, it slows down slightly when things get a bit intense
13:18:59 <mreh> jmcarthur, HGL
13:19:04 <jmcarthur> mreh: well, it could also just be that i'm running intel graphics, but i would think it would handle asteroids just fine
13:19:26 <jmcarthur> oh i didn't know HGL was also the gui kit
13:19:34 <mreh> yup
13:20:03 * jmcarthur is thinking about making a new library on top of OpenGLRaw, maybe starting tonight
13:20:22 <jmcarthur> it won't do windowing though unless i feel adventuraous
13:20:27 <jmcarthur> *adventurous
13:20:50 <ColonelJ> cabal install cabal-install
13:20:57 <mreh> jmcarthur: OpenGL is too frightening
13:21:01 <jmcarthur> basically i just want to expose everything that's not deprecated or just a bad idea
13:21:38 <jmcarthur> and i'll make some handy types and stuff without really trying too hard to abstract away how it all works
13:21:43 <edwtjo_> jmcarthur: do it! :)
13:24:46 <maltem> quicksilver, reminds me of the lecturer having trouble with the projector (!), asking for someone "technik-affin" (tech-savvy). It was going to be a geometry summary
13:25:08 <aavogt> affinity
13:25:59 <EvanR-work> why is inet_addr a function with type String -> IO HostAddress
13:26:13 <EvanR-work> i mean, why IO
13:26:31 <MisterN> EvanR-work: it's not idempotent, is it?
13:26:48 <EvanR-work> eh? i thought it converted Word32 to dotted quad and back
13:26:53 <dsouza> EvanR-work: it probably resolves the name using the available dns, doesn't it?
13:27:05 <EvanR-work> it does name resolution?
13:27:12 <EvanR-work> thats getHostByName
13:27:14 <jmcarthur> s/idempotent/referentially transparent/
13:27:37 <jmcarthur> @hoogle inet_addr
13:27:37 <lambdabot> Network.Socket inet_addr :: String -> IO HostAddress
13:28:11 <mle-lucca> http://osdir.com/ml/lang.haskell.general/2005-05/msg00027.html
13:28:33 <EvanR-work> it converts a string like "192.168.0.1" into 2837942084 or something
13:28:40 <mle-lucca> read that thread
13:29:10 <jmcarthur> wow that's ugly
13:29:15 <mle-lucca> yeop
13:29:27 <mle-lucca> if you need just the pure function functionality, write it in haskell!
13:29:54 <EvanR-work> gah
13:30:08 <dsouza> heh
13:30:14 <mle-lucca> or use the newer interface that understands ipv6 too
13:30:23 <EvanR-work> which ones that
13:31:01 <EvanR-work> "it can fail" is a crap reason for being IO
13:31:05 <EvanR-work> > head []
13:31:06 <lambdabot>   * Exception: Prelude.head: empty list
13:31:15 <mle-lucca> inet_pton, inet_ntop
13:31:26 <EvanR-work> which package is that in
13:31:42 <mle-lucca> EvanR-work: could make it return Maybe HostAddress...
13:31:56 <mle-lucca> or the like
13:32:20 <EvanR-work> really i just need to hardcode this ip address to test this damn smtp thing that wants a SockAddr
13:33:05 <mle-lucca> rare to convert pton/ntop these days anyway.  Usually you want getaddrinfo or similar
13:33:11 <mle-lucca> (Which does resolution)
13:33:18 <EvanR-work> right
13:33:27 <EvanR-work> i suppose i should do resolution
13:33:39 <ulfdoz> relying on the resolver may break at least tests.
13:34:14 <ulfdoz> I usually don't do this, unless I really want to test the resolution, but then the environment must match pre-conditions.
13:34:57 <ColonelJ> Configuring hmatrix-0.8.3.1...
13:34:57 <ColonelJ> setup.exe: sh: runGenProcess: does not exist (No such file or directory)
13:37:37 <EvanR-work> speaking of ugly. sendSMTP :: Maybe (IORef [Maybe SmtpReply]) -> ... -> IO ()
13:37:48 <EvanR-work> where the option IORef stores results of the operation
13:37:52 <EvanR-work> and the whole thing is IO ()
13:37:55 <EvanR-work> O_o
13:38:24 <dantheman_> Hey all, I'm having a small problem with the ffi, in particular with the use of alloca vs new/malloc, and I was wondering if anyone could help?
13:38:39 <jmcarthur> dantheman_: just ask
13:38:56 <dantheman_> I have two versions of the same function, one that uses alloca, and one that uses new + free (see here http://www.hpaste.org/fastcgi/hpaste.fcgi/view?id=24507#a24508)
13:39:17 <EvanR-work> bindings to c++, that sounds horrendous
13:39:31 <dantheman_> To me, they look like they should both work, but the alloca one keeps giving me a seg fault/access violation
13:40:12 <pastorn> folds destroys lists, map works on lists, what do i use to create lists?
13:40:20 <mauke> @hoogle new
13:40:20 <lambdabot> Data.HashTable new :: (key -> key -> Bool) -> (key -> Int32) -> IO (HashTable key val)
13:40:20 <lambdabot> Foreign.Marshal.Utils new :: Storable a => a -> IO (Ptr a)
13:40:20 <lambdabot> Data.Graph.Inductive.NodeMap new :: Ord a => NodeMap a
13:40:32 <ulfdoz> pastorn: (:)
13:40:37 <pastorn> ulfdoz: hehe
13:40:38 <EvanR-work> pastorn: unfold ;)
13:40:41 <EvanR-work> unfoldr
13:40:44 <dantheman_> Does alloca not just call the same free function internally when the fn it takes as an argument falls out of scope?
13:40:47 <pastorn> @type unfoldr
13:40:48 <lambdabot> forall b a. (b -> Maybe (a, b)) -> b -> [a]
13:40:52 <mauke> dantheman_: looks like you're pointing to some uninitialized values
13:41:06 <jmcarthur> @src alloca
13:41:07 <lambdabot> Source not found. You speak an infinite deal of nothing
13:41:07 <pastorn> EvanR-work: cool :)
13:41:43 <jetxee> Hi! I noticed that multiline literals stop working if I enable {-# LANGUAGE CPP #-} (lexical error). Any idea? http://hpaste.org/fastcgi/hpaste.fcgi/view?id=24509#a24509
13:41:46 <dantheman_> ah.. but how do I actually initialize them?
13:42:04 <jmcarthur> dantheman_: note that in your first version you are using new, not malloc
13:42:11 <mauke> dantheman_: poke
13:42:16 <mauke> dantheman_: or just use 'with' in the first place
13:45:02 <herrmann> Hi, is it possible to have a multidimensional Data.Vector.Unboxed.Vector without resorting to manual indexing ?
13:45:08 <dantheman_> Ok, mauke, but what exactly should I poke? The ptr using the value I intend it to point to (e.g. poke apiCaPtr apiCa)
13:45:15 <XniX23> how long will it take me to learn haskell aprox. (i already know java)
13:45:21 <mauke> dantheman_: you should use 'with'
13:45:24 <herrmann> Since Vector a is not an instance of Unbox
13:45:33 <mauke> XniX23: 10 years
13:45:46 <dantheman_> ok mauke, but conceptually, would that be right?
13:46:01 <XniX23> mauke: seriously? :S
13:46:16 <mauke> oh man
13:46:28 <jmcarthur> XniX23: define "learn"
13:46:45 <dantheman_> i.e. if I were to use poke
13:46:50 <XniX23> jmcarthur: practicing an hour a day :)
13:46:53 <jmcarthur> XniX23: you can learn haskell proper in a couple days, but that doesn't mean you will be skilled with it. most of using haskell is learning how to use libraries
13:48:18 <[swift]> XniX23: it took me about a month to feel comfortable writing real (non-toy) programs, and that was learning the language in my spare time. you could probably go a lot faster if you put more time into it.
13:48:32 <XniX23> jmcarthur:  actually meant how fast i can learn to "think in haskell" since i believe its different than java thinking :)
13:48:50 <roconnor> jmcarthur: there is also something about relearning how to write algorithms in the presence of laziness.  What was inefficent is how efficent.
13:49:04 <roconnor> and vice versa
13:49:11 <XniX23> [swift]: heh ty for that info :)
13:49:47 <jmcarthur> XniX23: ah, that's the hard part. with an hour per day i'd say things will begin to click around two weeks, you will feel proficient enough to write larger programs after a few months, but you will never learn completely ;)
13:50:31 <FliPPeh> How do I use the high level networking with ByteString?
13:50:45 <FliPPeh> There's Network.Socket.ByteString, but it's low level
13:50:50 <jmcarthur> XniX23: but really, you can get good pretty quickly with some effort and humility
13:51:59 <FliPPeh> Heh, oh stupid me
13:52:09 <FliPPeh> The high level networking already makes use of handles
13:52:09 <XniX23> jmcarthur its ok, as long as i get results quite fast :)
13:52:39 <jmcarthur> XniX23: as long as "results" is not defined as "writing code that works like Java"
13:53:00 <jmcarthur> that seems to be most peoples' stumbling blocks when they want to learn very quickly
13:53:13 <XniX23> jmcarthur: i was recommended to read thinking in forth, but as english is not my native language, i find it hard to follow along :\ im very slow at learning the way the book is written
13:53:26 <jmcarthur> @lyah
13:53:27 <lambdabot> Unknown command, try @list
13:53:33 <jmcarthur> @where lyah
13:53:33 <lambdabot> http://www.learnyouahaskell.com/
13:53:37 <jmcarthur> XniX23: ^^
13:53:52 <jmcarthur> or...
13:53:54 <jmcarthur> @where rwh
13:53:54 <lambdabot> http://www.realworldhaskell.org/blog/ http://book.realworldhaskell.org/read/
13:54:04 <XniX23> i have this second one :)
13:54:26 <jmcarthur> XniX23: for an existing programmer, the latter is probably faster pace
13:54:38 <FliPPeh> Learn you a Haskell is awesome
13:54:45 <EvanR-work> meh
13:54:54 <FliPPeh> Realworldhaskell was too fast moving for me
13:54:56 <MisterN> "Learn U a Haskell for great Good" <- oO
13:55:00 <jmcarthur> it sure is. i usually recommend lyah for absolute beginners and rwh for people coming from other languages
13:55:08 <Zao> MisterN: "You"
13:55:19 <MisterN> Zao: it's U on the screen
13:55:19 <FliPPeh> I hate "U"
13:55:21 <jmcarthur> but i make sure to mention both because people just learn differently
13:55:22 <FliPPeh> :(
13:55:28 <MisterN> left to the elephant
13:56:58 <XniX23> jmcarthur so does rwh contain code "that doesnt work like java"?
13:57:06 <Zao> MisterN: Well, elephants suck.
13:57:14 <jmcarthur> XniX23: sure :)
13:57:30 <MisterN> Zao: no they don't
13:57:47 <Zao> MisterN: Yes they do. They suck water up their trunks.
13:58:32 <XniX23> hahah
13:59:02 <FliPPeh> If I use a particular function only once, like a placeholder for some error message that's only used once, it is probably best kept inside a where/let clause, right?
13:59:43 <dantheman_> mauke, thanks for that, it's working now :)
14:00:05 <applicative> XniX23,have you tried doing any haskellyet?
14:01:03 <XniX23> applicative: im on 25 page in rwh, so not really much :)
14:01:23 <applicative> i see,but you have hugs or the ghc
14:01:57 <XniX23> for now i use ghc ghci
14:02:07 <applicative> cool.
14:02:15 <XniX23> ty for asking
14:02:19 <MisterN> do the rwh authors hang around in here?
14:02:22 <thetallguy> anyone know who manages code.haskell.org thses days?
14:02:37 <Twey> I have a strange feeling it's dons
14:02:42 <applicative> MisterN, bos and dons are frequently found, I know that
14:03:24 <applicative> XniX23, but what are you thinking so far?
14:03:32 <jmcarthur> FliPPeh: i typically follow that practice
14:04:10 <XniX23> applicative: what do you mean what am i thinking?
14:04:20 <EvanR-work> @src listToMaybe
14:04:20 <lambdabot> listToMaybe []        =  Nothing
14:04:20 <lambdabot> listToMaybe (a:_)     =  Just a
14:04:45 <applicative> I mean about Haskell, its learnability etc.  I was just  looking for more info so people could give you sound advice.
14:06:21 <Twey> I thought XniX23 had already made a start
14:06:23 <MisterN> haha the japanese need their rwh translated
14:06:43 <XniX23> well i think its like prolog and i believe that by learning a language like that (that is, being good at it) you can solve problems faster/better. if thats what you meant. I cant tell if i'll be able to pick it up fast but ill sure give it a try ^^
14:07:20 <MisterN> XniX23: different from prolog, haskell is good as a general-purpose programming language
14:07:31 <c_wraith> XniX23: I'd say one thing that helps learning significantly is just hanging out here, watching conversations.  Sometimes you won't be able to follow them, sometimes you will, but you'll definitely learn from the experience
14:08:43 <XniX23> MisterN: woops, i got a "prolog" feeling when i saw the implementation of quicksort in haskell
14:08:46 <applicative> XniX23: yes, just ask "stupid" questions as you please  -- I do it all the time.
14:09:35 <MisterN> applicative: but your nickname makes people think you're the best haskell programmer ever ;)
14:09:41 <XniX23> c_wraith: ill be here, you'll notice that and then leave the channel :D joke
14:09:42 <applicative> XniX23:  of course "It Isn't Really Quicksort" -- but Turner's sort is incredibly beautiful
14:10:40 <XniX23> applicative: i have a feeling my question (for now) cant be anything but stupid :)
14:11:25 <djahandarie> applicative, Turner wrote that?
14:11:28 <applicative> anyway, my only advice was, maybe something like 'Learn You a Haskell' might be best, or the first several chapters,
14:11:59 <XniX23> applicative: by that you mean better than rwh?
14:12:06 <djahandarie> I don't remember it from his paper from 84 or whatever
14:12:09 <applicative> Then you'll be ready for RWH.  Since you're already a knowledgable programmer, you won't have any difficulty with RWH then
14:12:24 <mauke> how is it not really quicksort?
14:12:34 <c_wraith> One thing to note about RWH is that it's awfully linear for the first several chapters.
14:12:41 <djahandarie> mauke, it isn't quick!!
14:12:47 <mauke> ...
14:12:49 <applicative> mauke, Im repeating conventional wisdom.  For one thing it isn't 'in place'
14:12:49 <c_wraith> don't skip a chapter of RWH because you're not interested in the topic...
14:12:58 <mauke> applicative: is that part of the definition?
14:13:00 <MisterN> c_wraith: and then later it introduces some concepts without really explaining them
14:13:02 <c_wraith> If you do, you'll be awfully confused by later chapters
14:13:47 <XniX23> for now im confused only with one thing
14:14:24 <applicative> RWH is amazing, XniX23, I just worry that even experienced programmers could do with a few days of finger exercises in the ghci just to get accustomed to simple features.
14:14:44 <XniX23> i dont understand why -> "a" == ['a'] return True, while "ab" == ['ab'] or even ["ab"] return syntax error
14:14:56 <fax> xniX23 but "ab" = ['a','b']
14:14:57 <XniX23> returns*
14:15:12 <applicative> 'ab' doesnt' exist
14:15:18 <c_wraith> single quotes indicate single characters.
14:15:20 <applicative> "ab" does
14:15:37 <c_wraith> so 'ab' is a syntax error, since it has two characters.
14:15:41 <Twey> > '\SOH'
14:15:42 <lambdabot>   '\SOH'
14:15:51 <applicative> 'a' is the lower case Char, a.
14:15:55 <mauke> XniX23: ["ab"] is not a syntax error
14:15:58 <c_wraith> single *unicode* characters. :)
14:15:59 <mauke> and 'a' works like in java
14:16:03 <XniX23> oh i see now :D
14:16:17 <applicative> @type ["ab"]
14:16:17 <lambdabot> [[Char]]
14:16:20 <applicative> @type "ab"
14:16:21 <lambdabot> [Char]
14:16:21 <Twey> c_wraith: That is a single Unicode character :þ
14:16:29 <applicative> @type 'a'
14:16:30 <lambdabot> Char
14:16:51 <XniX23> @type "a"
14:16:52 <lambdabot> [Char]
14:17:06 <Twey> ['\SO', 'H']
14:17:09 <applicative> "a" is a String with just one letter
14:17:09 <Twey> > ['\SO', 'H']
14:17:10 <lambdabot>   "\SO\&H"
14:17:18 <c_wraith> Twey: that was my point.  it's a valid character because it's in the valid range for characters (unicode)
14:17:24 <Twey> c_wraith: *nod*
14:17:25 <XniX23> @type ['a']
14:17:26 <lambdabot> [Char]
14:17:29 <FauxFaux> > ''
14:17:30 <lambdabot>   <no location info>:
14:17:30 <lambdabot>      lexical error in string/character literal at chara...
14:17:32 <applicative> I.e. it is the list of characters, that just has 'a' in it.
14:17:36 <Veinor> > ['a'] == "a"
14:17:37 <lambdabot>   True
14:17:42 <XniX23> oh got it ^^
14:17:47 <mreh> did someone say there was a mmorpg done in elerea?
14:17:47 <herrmann> Unboxed multidimensional vectors anyone ?
14:17:54 <mauke> > ['a']
14:17:55 <lambdabot>   "a"
14:18:01 <applicative> "abc" is suger for 'a':"bc"
14:18:18 <applicative> "bc" is sugar for 'b':"c"
14:18:30 <mreh> "c" == 'c':[]
14:18:30 <XniX23> i sure learn fast here
14:18:32 <Veinor> is it actually sugar?
14:18:37 <mauke> "abc" is sugar for ['a','b','c'], and [x,y,z] is sugar for x : y : z : []
14:18:40 <Veinor> or are they just equivalent
14:18:44 <applicative> "c" is sugar for ['c']
14:18:55 <kmc> it's actually sugar, in that it goes away in Core
14:18:56 <kmc> iirc
14:18:59 <applicative> ['c'] is sugar for 'c':{}
14:18:59 <Veinor> ah
14:19:01 <mreh> I would say sugar
14:19:08 <applicative> sorry wrong brackers
14:19:13 <Veinor> was going to say
14:19:25 <XniX23> if i may add, this chan seems one of the kindest around
14:19:30 <applicative> > "c" == 'c':[]
14:19:31 <lambdabot>   True
14:19:51 <c_wraith> XniX23: this channel is even kind and helpful to known trolls.  mostly.  :)
14:20:08 <applicative> c_wraith: there are trolls?
14:20:55 <applicative> @type chr
14:20:56 <lambdabot> Int -> Char
14:20:59 <XniX23> 'c':"ab" == ['c'] ++ ["ab"]
14:21:30 <kmc> @protontorpedo
14:21:30 <lambdabot> how abut vs APL
14:21:32 <kmc> @protontorpedo
14:21:32 <lambdabot> how can haskell automate ftp?
14:21:45 <applicative> > 'c':"ab" == ['c'] ++ ["ab"]  -- wont work
14:21:46 <lambdabot>   Couldn't match expected type `GHC.Types.Char'
14:21:46 <lambdabot>         against inferred type...
14:21:58 <applicative> > 'c':"ab" == ['c'] ++ "ab" -- wont work
14:21:59 <lambdabot>   True
14:22:25 <applicative> > 'c':"ab" == ['c'] ++ ['a','b']
14:22:26 <lambdabot>   True
14:22:45 <XniX23> 'c':"ab" == [['c']] ++ ["ab"]
14:23:16 <applicative> > 'c':"ab" == [['c']] ++ ["ab"] -- left side wrong
14:23:17 <lambdabot>   Couldn't match expected type `GHC.Types.Char'
14:23:17 <lambdabot>         against inferred type...
14:23:36 <applicative> >  [['c']] ++ ["ab"]
14:23:38 <lambdabot>   ["c","ab"]
14:23:55 <applicative> it's a list of strings, but
14:23:57 <applicative> > > 'c':"ab"
14:23:58 <lambdabot>   <no location info>: parse error on input `>'
14:24:02 <XniX23> oh dummy me, ty applicative ^^
14:24:03 <applicative> > 'c':"ab"
14:24:04 <lambdabot>   "cab"
14:24:08 <applicative> is a string
14:24:21 <XniX23> yeah, before i got 2 elements
14:24:39 <applicative> > length ('c':"ab")
14:24:40 <lambdabot>   3
14:24:53 <applicative> > length ( [['c']] ++ ["ab"] )
14:24:54 <lambdabot>   2
14:25:15 <FliPPeh> I want to build up a nice string for display, and just concatting the parts with "++" looks ugly. Is there another way except for Text.Printf?
14:25:38 <applicative> >  'c':"ab" == concat ([['c']] ++ ["ab"] )  --here's what you were thinking
14:25:39 <lambdabot>   True
14:26:10 <gwern> FliPPeh: there's always unwords/unlines [foo, bar, baz]
14:26:12 <gwern> or whatever
14:26:19 <FliPPeh> mhh
14:27:08 <applicative> XniX23, you can open a separate chat with lambdabot, by the way.  Then come back to these experts when it seems you've hit something insane....
14:27:28 <applicative> XniX23,  I mean, if you like.
14:28:07 <XniX23> i feel like the biggest newb doing that
14:28:30 <XniX23> btw is there a way to do the same with numbers?
14:28:38 <applicative> XniX23, no one is worried about it.
14:29:30 <applicative> with numbers you don't get the "hahaha" sugar for ['h','a','h','a','h','a']
14:29:49 <applicative> you just get [1,2,3,4]
14:29:57 <XniX23> too bad
14:30:27 <Veinor> you'd use [1..4]
14:30:29 <applicative> and the same points apply 1 is an Int , [1] is a [Int] , ie a list of them, like [1,2,3]
14:30:34 <XniX23> you know why i decided to learn haskell, coz people on spoj (sphere online judge) use it quite frequently
14:30:49 <bos> dolio: ping
14:30:49 <lambdabot> bos: You have 1 new message. '/msg lambdabot @messages' to read it.
14:31:43 <applicative> > fmap ord [1..20]
14:31:44 <lambdabot>   No instance for (GHC.Num.Num GHC.Types.Char)
14:31:45 <lambdabot>    arising from the literal `1...
14:31:50 <applicative> > fmap chr [1..20]
14:31:51 <lambdabot>   "\SOH\STX\ETX\EOT\ENQ\ACK\a\b\t\n\v\f\r\SO\SI\DLE\DC1\DC2\DC3\DC4"
14:32:06 <applicative> > fmap chr [100..120]
14:32:07 <lambdabot>   "defghijklmnopqrstuvwx"
14:32:18 <jmcarthur> > map (read . pure) $ "1234" :: [Int]
14:32:19 <lambdabot>   [1,2,3,4]
14:32:35 <jmcarthur> @hoogle digit
14:32:35 <lambdabot> Text.Parsec.Char digit :: Stream s m Char => ParsecT s u m Char
14:32:36 <lambdabot> Text.ParserCombinators.Parsec.Char digit :: Stream s m Char => ParsecT s u m Char
14:32:36 <lambdabot> Data.Char digitToInt :: Char -> Int
14:32:56 <jmcarthur> > map digitToInt "1234"
14:32:56 <applicative> > ord 100
14:32:57 <lambdabot>   [1,2,3,4]
14:32:57 <lambdabot>   No instance for (GHC.Num.Num GHC.Types.Char)
14:32:57 <lambdabot>    arising from the literal `1...
14:32:58 <Veinor> what's the pure for?
14:33:00 <mreh> @tell dons Didn't anyone ever patch frag? I'm working on one now for myself, do you want it when I'm done?
14:33:00 <lambdabot> Consider it noted.
14:33:12 <jmcarthur> Veinor: think of it as "singleton"
14:33:13 <XniX23> ok this is getting too hardcore, id better stick to the book for now, ty all again
14:33:17 <jmcarthur> Veinor: (:[])
14:33:29 <Veinor> ah, the monkey function
14:33:36 <applicative> he is forcing a list interpretation of applicative
14:33:37 <mreh> @tell dons scratch that, I'm not sure how to make a patch unless you can do a diff
14:33:37 <lambdabot> Consider it noted.
14:33:38 <benmachine> mreh: I think it's been done, I've certainly tried before
14:33:42 <jmcarthur> the *robot* monkey function
14:33:45 <applicative> so  pure x = [x]
14:33:46 <mreh> benmachine: ooh, tell me how
14:33:57 <benmachine> mreh: I tried and failed, but I wasn't the only one to try :P
14:34:02 <benmachine> er
14:34:10 <benmachine> are we talking about fixing frag or making patches
14:34:12 <benmachine> I've made patches
14:34:18 <mreh> benmachine, fixing frag I assumed
14:34:18 <benmachine> are you working from darcs?
14:34:24 <benmachine> oh
14:34:25 <Veinor> > map (read . return) $ "1234" :: [Int]
14:34:26 <lambdabot>   [1,2,3,4]
14:34:39 <mreh> benmachine, nope, with the source-code
14:34:50 <benmachine> well, the basic problem is that GLfloat and Float used to be the same type but aren't anymore
14:34:59 <benmachine> and the same for Double and GLdouble
14:35:03 <mreh> that's a huge pain in the ass
14:35:06 <benmachine> and possibly some other minor things
14:35:08 <benmachine> yeah
14:35:16 <jmcarthur> yeah i looked at fixing it but decided i didn't care enough
14:35:21 <mreh> lulz
14:35:24 <applicative> XniX23, be good.  check out LYAH too, as a supplement at the beginning
14:35:25 <mreh> I wanted to check it out
14:35:28 <benmachine> I tried to fix large parts of it by just changing Float/Double to the GL versions
14:35:38 <MisterN> > (map . read . return) $ "1234" :: [Int]
14:35:39 <lambdabot>   Couldn't match expected type `GHC.Types.Char'
14:35:39 <lambdabot>         against inferred type...
14:35:44 <ddarius> Just compile it and add realToFrac everywhere it complains.
14:35:52 <mreh> ddarius: that's my thinking
14:35:54 <benmachine> yeah you can just realToFrac all over the place
14:35:59 <benmachine> is that rulesed?
14:36:40 <ddarius> benmachine: Probably not.
14:37:12 <ddarius> Easy to add a RULE if there isn't one.
14:37:37 <benmachine> mm
14:38:00 <benmachine> mreh: if you want what I did I can send you a patch I guess, but I don't guarantee it's any good
14:38:02 <mreh> hasn't *anyone* had success with haskelloids?
14:38:05 <ddarius> May not be necessary for other reasons anyway.
14:38:15 <mreh> benmachine: don't bend over backwards
14:38:18 <Zao> mreh: I'd test it, but my machine doesn't even have GHC :)
14:39:22 <mreh> Zao: thanks all the same
14:39:27 <benmachine> http://www.srcf.ucam.org/~bm380/frag.patch this is where I gave up
14:39:39 <benmachine> I would advise using the darcs version
14:39:46 <benmachine> apart from anything else, it makes it easy to revert if you screw up
14:40:18 * hackagebot mwc-random 0.5.0.0 - Fast, high quality pseudo random number generation  http://hackage.haskell.org/package/mwc-random-0.5.0.0 (BryanOSullivan)
14:40:19 <benmachine> http://code.haskell.org/frag I believe
14:40:20 * hackagebot statistics 0.5.0.0 - A library of statistical types, data, and functions  http://hackage.haskell.org/package/statistics-0.5.0.0 (BryanOSullivan)
14:40:25 <mreh> benmachine: cool
14:42:05 <FunctorSalad> stupid question.. why does ghc build an .hi and a .o file if you're compiling a single executable?
14:42:25 <mreh> they're like intermediate files in the building state
14:42:27 <FunctorSalad> (can you bundle it into just one file?)
14:42:37 <FunctorSalad> so you can delete them afterwards?
14:42:39 <ColonelJ> mreh: I couldn't install hmatrix
14:42:42 <mreh> FunctorSalad, yes
14:42:44 <ColonelJ> "setup.exe: sh: runGenProcess: does not exist (No such file or directory)"
14:42:45 <FunctorSalad> mreh: thanks :)
14:43:13 <mreh> ColonelJ, you need some math package... I can't remember the name
14:43:26 <mreh> it's a Clib, check the hackage page for hmatrix
14:43:49 <Axman6> gsl?
14:44:00 <mreh> yes
14:44:10 <mreh> GNU Scientific Library I believe
14:44:21 <mreh> it's been packaged on the major distros
14:44:55 <ColonelJ> how do I install it?@
14:45:03 <benmachine> FunctorSalad: it can be handy if you want to rebuild it have changed only some files
14:45:06 <benmachine> *having
14:45:21 <mreh> ColonelJ, what O/S (+ distro) are you running?
14:45:24 <benmachine> FunctorSalad: then you only need to compile the files you've changed, then link the .o after
14:45:35 <ColonelJ> I'm sorry I'm on Windows currently
14:45:57 <mreh> ColonelJ, I'm sure a windows version exists... let me google it
14:46:10 <FunctorSalad> benmachine: with "single executable" I actually meant an exec. consisting of just one file, sorry
14:46:10 <ColonelJ> you'd be surprised, there isn't even a GCC for windows
14:46:29 <ddarius> There are several.
14:46:30 <pikhq> ColonelJ: Sure there is.
14:46:39 <ColonelJ> orly where?
14:46:50 <ColonelJ> mingw doesn't count
14:46:50 <ddarius> @google mingw
14:46:51 <lambdabot> http://www.mingw.org/
14:46:51 <lambdabot> Title: MinGW | Minimalist GNU for Windows
14:46:55 <pikhq> Cygwin, Interix, Mingw <-- pick one.
14:46:58 <FunctorSalad> (importing only from packages)
14:47:05 <ColonelJ> they're all posix emulations right
14:47:12 <pikhq> Mingw isn't.
14:47:24 <ColonelJ> mingw isn't no
14:47:28 <FunctorSalad> so should I do "ghc --make qnd.hs -outdir /tmp -o ./qnd" ?
14:47:31 <pikhq> Mingw is a *port* of *just enough* to make configure scripts and makefiles work.
14:47:42 <FunctorSalad> *-outputdir
14:47:52 <pikhq> Also: if you don't mind writing DOS programs, DJGPP works. :P
14:47:54 <ColonelJ> mingw is a hack to use the microsoft c++ runtime iirc
14:47:56 <FunctorSalad> (assuming I want the executable in the current dir)
14:48:29 <pikhq> ColonelJ: Yes, but that... Is the Windows libc.
14:48:38 <ColonelJ> yeah
14:49:02 <pikhq> So... Why doesn't that suffice?
14:49:03 <ColonelJ> anyway the main point is it's not supported directly by GCC
14:49:10 <ColonelJ> I mean GNU
14:49:35 <pikhq> Oh, you mean GCC mainline from the GNU project.
14:49:53 <bos> so is template-haskell still hosed under ghc 6.10.4?
14:50:31 <FunctorSalad> (the use case is using haskell for shell scripting and putting the .hs right in /usr/local/bin rather than bothering with a project dir... the .hi and .o files would clutter everything up)
14:51:09 <mreh> FunctorSalad, I thought there was a haskell shell scripting variant
14:51:32 <FunctorSalad> (then I'd use a Makefile that simply compiles all the .hs to an executable in the same dir)
14:52:16 <FunctorSalad> (independent scripts)
14:52:25 <FunctorSalad> mreh: the HSH package? yes
14:52:27 <chrisdone> k before I go on does this look messed up on anyone's non-obscure browser? http://82.33.137.16/haskell-website/
14:52:34 <mreh> ColonelJ, any luck, there are GSL windows ports out there, I've just seen one
14:52:55 <ColonelJ> mreh: I'm multitasking, link me if you've found it yourself
14:53:43 <mreh> ColonelJ, http://gnuwin32.sourceforge.net/packages/gsl.htm
14:53:49 <ColonelJ> same one I just found
14:54:31 <FunctorSalad> chrisdone: bottom part of the text gets clipped if you zoom in FF
14:54:32 <ColonelJ> I'll run the installer and see what happens
14:55:02 <siracusa> chrisdone: Is IE 6 non-obscure for you?
14:55:04 <FunctorSalad> (maybe have it grow upwards)
14:55:07 <bos> dcoutts: ping
14:56:12 <chrisdone> FunctorSalad: how many times?
14:56:33 <chrisdone> siracusa: ie6 is non-obscure for me. I don't have it on my machine. might install multiple ie. *sigh*
14:57:35 <Zao> mreh: hmatrix does not install on Windows HP 2009.x.x.x
14:57:39 <FunctorSalad> chrisdone: from about 160%
14:57:43 <siracusa> chrisdone: The black buttons are not visible and the Home button has a width of about 1000px.
14:57:45 <Zao> mreh: As it for some retarded reason needs sh (probably configure).
14:57:53 <chrisdone> siracusa: hahaha
14:58:00 <chrisdone> good old ie6 never disappoints
14:58:30 <ColonelJ> Zao: yeah I think that's the problem I'm having maybe
14:58:45 <Zao> mreh: I hope that it requires sh internally later too, as the `configure' script is just a runhaskell configure.hs
14:58:53 <mreh> wasn't there a MMORPG done in elerea recently?
14:59:02 <chrisdone> oh well back to the drawing board thanks for testing guys
14:59:13 <mreh> Zao: sh? cshell?
14:59:34 <FliPPeh> Zsh!
14:59:35 <Zao> mreh: The usual /bin/sh.
14:59:41 <FunctorSalad> chrisdone: isn't there a css property to fix the bottom of the text to the upper edge of the main window?
14:59:42 <Zao> mreh: Which is not available on a Windows machine.
14:59:48 <sundaymorning> chrisdone: can't select the tabs (I click on them, but they remain gray) and I see no text besides the tabs, if it's supposed to be like that, then it works on my browser
14:59:51 <mreh> Zao: come over to the darkside
15:00:00 <Zao> mreh: I don't care about the darkside.
15:00:01 <FunctorSalad> chrisdone: rather than fixing the upper edge of the text at fixed dist to the main window
15:00:24 <Zao> mreh: I care about giving you a datapoint, saying that the package is completely unusable on a Windows platform, unless you bundle binary packages.
15:00:27 <Philonous> Zao: Not even with msys?
15:00:36 <Zao> Philonous: It would most probably work under msys.
15:00:40 <Zao> Philonous: No user has msys.
15:00:40 <FliPPeh> Quick, a fast way to only continue in an IO monad whether two Maybe values are both "Just"?
15:01:03 <uorygl> @type \x y -> isJust x && isJust y
15:01:04 <lambdabot> forall a a1. Maybe a -> Maybe a1 -> Bool
15:01:06 <FliPPeh> case [maybe1,maybe2] of [Just _, Just _] -> ...; _ -> Exit?
15:01:07 <Zao> I had to discriminate a lot of packages for my projects, as they for some reason depend on configure et. al.
15:01:12 <cao> Zao: we have cookies
15:01:15 <mreh> Zao: would a precompiled win32 executable be a good idea?
15:01:23 <Zao> cao: I have plenty of darksides lying around on my disks.
15:01:31 <Zao> mreh: Quite possibly.
15:01:31 <uorygl> FliPPeh: hmm, that also works, except you should use () instead of [].
15:01:36 <Zao> Bamse would probably float your boat.
15:01:40 <FliPPeh> Just though about it
15:01:46 <mreh> I haven't done cross compilation in years
15:01:46 <FliPPeh> Thanks uorygl :)
15:01:54 <sundaymorning> chrisdone: this is how it looks here: http://rafalec.iaaeee.org/screen.png
15:02:03 <ColonelJ> can hmatrix be installed manually?
15:02:15 <[swift]> so, last time i tried it ghci on acid didn't work for me with the current ghc. is there any hope of it being updated soon? it seems really useful!
15:02:27 <mreh> ColonelJ, yes, but you still require the GSL C library
15:02:27 <Zao> mreh: Reading the INSTALL for hmatrix, it seems to require a lot of manual steps.
15:02:37 <ColonelJ> mreh: well I just installed that
15:02:51 <Zao> Including among other things, installing GSL and LAPACK into your GHC directory.
15:02:57 <chrisdone> FunctorSalad: I'll just use sliding doors so the tabs expand vertically as well as horizontally
15:03:07 <Zao> And manual editing of the .cabal.
15:03:13 <Zao> Who on earth authored this library...
15:03:18 <ColonelJ> lol
15:03:29 <ColonelJ> yeah, I don't have time for that
15:03:31 <sundaymorning> my browser is firefox 3, hopefully not obscure.
15:03:31 <chrisdone> sundaymorning: that's perfect. it's just the tabs, they don't go anywhere. amusingly, something as simple as tabs usually messes up on different browsers
15:03:33 <mreh> we do not speak his name
15:04:02 <MisterN> sundaymorning: uh what's that? use IE6 like all normal people!
15:04:13 <sundaymorning> hehe
15:04:39 <chrisdone> cabal: cthulhu aylu'ak b'afsl akr l'ar
15:04:53 <byorgey> fax, edwardk: my library doesn't yet support virtual species but it's on the to-do list.
15:05:04 <Mortomes> Zao: Yes, it's a pain.
15:05:44 <chrisdone> eh, nice. I got something called IETester which pretends to be ie6/7/8
15:05:57 <mreh> are there any linuxen out there who want to run haskelloids?
15:06:20 <byorgey> fax, edwardk: making a programming language which natively allows declaring species as data types is something I'm keen on.  there's a paper by McBride et al. on programming with quotient types which is quite germane, but I haven't actually read it carefully yet.
15:06:27 <chrisdone> mreh: I want to but I'm scared
15:06:32 <benmachine> mreh: what does it involve
15:07:29 <chrisdone> sundaymorning: a schemer, eh. can't resist the hygenic macros?
15:07:40 <benmachine> hmm
15:07:49 <benmachine> I haven't got any haskell-cafe stuff in
15:07:54 <benmachine> like, two weeks
15:08:28 <benmachine> ohh
15:08:29 <fax> byorgey - is that stuff with containers?
15:08:30 <benmachine> damn it
15:08:36 <byorgey> fax: yeah
15:08:53 <byorgey> species = containers, pretty much
15:10:34 <FunctorSalad> chrisdone: on your page it is only with heavy zoom, but generally unscalable UIs are a bit of a pet peeve for me tbh ;)
15:11:07 <FunctorSalad> many text boxes overflow or clip for me even at 100%... maybe systemwide dpi setting or something
15:11:10 <chrisdone> FunctorSalad: yeah, it's pure laziness
15:14:08 <fax> In note G of Ada Lovelace's notes on the analytical engine from 1842, Lovelace describes an algorithm  for generating Bernoulli numbers with Babbage's machine.[3]  As a result, the Bernoulli numbers have the distinction of being the subject of the first computer program.
15:14:12 <fax> trivia
15:14:33 <byorgey> fax: hah, awesome =)
15:16:49 <FunctorSalad> at least it's not fib....
15:17:10 <bos> do we have gtk2hs for ghc 6.12 yet?
15:17:46 <Philonous> The darcs version is suposed to run under 6.12, but there is no release, yet
15:17:53 <bos> ah
15:18:26 * chrisdone can't wait for the cabalized version
15:18:33 <FliPPeh> > let safeRead = fmap fst . listToMaybe . reads in safeMap "5"
15:18:34 <lambdabot>   Not in scope: `safeMap'
15:18:39 <FliPPeh> > let safeRead = fmap fst . listToMaybe . reads in safeRead "5"
15:18:40 <lambdabot>   Nothing
15:18:45 <FliPPeh> > let safeRead = fmap fst . listToMaybe . reads in safeRead "5" :: Maybe Int
15:18:46 <lambdabot>   Just 5
15:18:51 <FliPPeh> Should be in prelude
15:18:57 <FliPPeh> > let safeRead = fmap fst . listToMaybe . reads in safeRead "INVALID" :: Maybe Int
15:18:58 <lambdabot>   Nothing
15:19:03 <FunctorSalad> bos: there's a note on the gtk2hs frontpage about a patch, but apparently it's referring to darcs only
15:19:08 <FunctorSalad> (or I couldn't find it)
15:19:47 <FunctorSalad> and I'm still gettin linking failures when trying to use gtk2hs... let's try explicitly disabling split-objs...
15:19:54 <bos> wow, Data.Vector doesn't define concat
15:20:01 <FunctorSalad> (they say the Makefiles can't handle split-objs, or something)
15:20:50 <Veinor> cabal: Couldn't read cabal file "./hellage/0.1.1/hellage.cabal"
15:20:56 <Veinor> Why do I keep getting this every time I do a cabal list?
15:21:26 <benmachine> > let maybeRead = foldr (\(x, _) _ -> Just x) Nothing . reads in maybeRead "lol" :: Maybe Int
15:21:27 <lambdabot>   Nothing
15:21:33 <benmachine> > let maybeRead = foldr (\(x, _) _ -> Just x) Nothing . reads in maybeRead "17lol" :: Maybe Int
15:21:34 <lambdabot>   Just 17
15:21:51 <benmachine> > let maybeRead = foldr (\(x, s) _ -> x <$ guard (all isSpace s)) Nothing . reads in maybeRead "17lol" :: Maybe Int
15:21:52 <FunctorSalad> Veinor: hmm maybe you added some local repo in your .cabal/config?
15:21:52 <lambdabot>   Nothing
15:21:56 <FunctorSalad> Veinor: random guess...
15:22:14 <fax> > foldr (\i y -> sqrt(1+i*y)) 0 [1..10]
15:22:15 <lambdabot>   1.9951325144490577
15:22:19 <fax> > foldr (\i y -> sqrt(1+i*y)) 0 [1..1000]
15:22:20 <lambdabot>   2.0
15:22:33 <FliPPeh> @def safeRead = fmap fst . listToMaybe . reads
15:22:34 <lambdabot> Maybe you meant: bf do let
15:22:34 <Veinor> nnnnope
15:22:37 <Axman6> > foldr (\i y -> sqrt(1+i*y)) 0 [1..1000] :: CReal
15:22:39 <FliPPeh> @let safeRead = fmap fst . listToMaybe . reads
15:22:40 <lambdabot>  Defined.
15:22:41 <lambdabot>   mueval-core: Time limit exceeded
15:22:45 <Axman6> > foldr (\i y -> sqrt(1+i*y)) 0 [1..500] :: CReal
15:22:48 <FliPPeh> > safeRead "Hello" :: Maybe String
15:22:49 <lambdabot>   mueval-core: Time limit exceeded
15:22:49 <Veinor> no local repos
15:22:49 * benmachine prefers his safeRead :P
15:22:50 <lambdabot>   Nothing
15:22:55 <Axman6> > foldr (\i y -> sqrt(1+i*y)) 0 [1..100] :: CReal
15:22:57 <FliPPeh> > safeRead "\"Hello\"" :: Maybe String
15:22:58 <lambdabot>   Just "Hello"
15:22:59 <lambdabot>   mueval-core: Time limit exceeded
15:23:05 <Axman6> > foldr (\i y -> sqrt(1+i*y)) 0 [1..10] :: CReal
15:23:09 <lambdabot>   mueval-core: Time limit exceeded
15:23:13 <benmachine> > safeRead "\"Hello\", trailing nonsense" :: Maybe String
15:23:14 <FliPPeh> :t safeRead
15:23:14 <lambdabot>   Just "Hello"
15:23:15 <lambdabot> forall a. (Read a) => String -> Maybe a
15:23:15 <Axman6> > foldr (\i y -> sqrt(1+i*y)) 0 [1..2] :: CReal
15:23:16 <lambdabot>   1.4142135623730950488016887242096980785697
15:23:23 <Axman6> -_-
15:23:40 <FliPPeh> I like "reads"
15:23:54 <FliPPeh> I think it the best string->X converter I've ever seen in any language so far
15:25:09 <Mathnerd314> is there a better version of this "polymorphic regex library": http://www.dcs.gla.ac.uk/~meurig/regexp/
15:27:07 <lpsmith> Mathnerd314, better in what way?  It's not too difficult to roll your own regex library...
15:28:12 <Mathnerd314> well, that one seems to be 12 years old
15:29:19 <kmc> lambda expressions are 74 years old
15:30:07 <Mathnerd314> yeah... the main problem I'm having is getting it to work
15:30:15 <Honeyman> Hello. Can anybody hint me how to build a proper .so of a Haskell code, that has all of the dependencies linked correctly? (Using Debian/AMD64 and GHC 6.12)
15:30:33 <Honeyman> I skimmed over a number of related blog posts, but still there are some issues in doing that in Debia
15:30:54 <Honeyman> For example, I am trying to make a Test.so of the following Test.hs: http://dpaste.com/177498/
15:31:07 <fax> @let factorial n = product [1..n]
15:31:08 <lambdabot>  Defined.
15:31:10 <fax> > 1/(2*sqrt(2)/9801*sum(map(\k->(factorial (4*k)*(1103+26390*k))/((factorial k^4*396^(4*k)))[0..30]))
15:31:11 <lambdabot>   <no location info>: parse error (possibly incorrect indentation)
15:31:33 <byorgey> goodness, what is that?
15:32:05 <Honeyman> And if I use something like "ghc --make -dynamic -shared -fPIC -o Test.so Test.hs", it indeed makes an .so, but that cannot be loaded, due to "undefined symbol: stg_newByteArrayzh"
15:32:17 <Honeyman> It seems to me this is related to the following bug - http://hackage.haskell.org/trac/ghc/ticket/3807 - but how to resolve it at the moment?
15:33:39 <fax> > 1/(2*sqrt(2)/9801*sum(map(\k->(factorial (4*k)*(1103+26390*k))/(factorial k**4*396**(4*k)))[0..30]))
15:33:40 <lambdabot>   3.141592653589793
15:34:49 <fax> > exp(pi*sqrt(58))-396^4-4
15:34:50 <lambdabot>   -108.00003433227539
15:42:57 <Veinor> is upgrading from base-4.1.0.0 to base-4.2.0.0 doable?
15:43:21 <c_wraith> no, you can't upgrade base at all
15:43:23 <Veinor> blah
15:43:24 <c_wraith> it comes with ghc
15:43:38 <Veinor> I hate base dependencies >:(
15:44:29 <Veinor> especially because cabal isn't smart enough to just install the newest version with the right base libraries
15:46:33 <ezyang> That would be fiddling with GHC
15:46:43 <ezyang> I don't think you actually want Cabal managing your GHC installation ^^
15:46:49 <Veinor> true
15:47:15 <Veinor> but if foo-1.1 depends on base-4.2 and foo-1.0 doesn't, I want cabal to get foo-1.0 if I have base-4.0
15:47:43 <c_wraith> yeah, cabal's solver could use some work, specifically relating to packages it can't upgrade.
15:47:55 <ezyang> However, I'm pretty sure you can manually tell it which package to install.
15:47:58 <Veinor> yeah.
15:48:12 <Veinor> what the heck, hxt-8.3.2 failed to intsall
15:48:14 <ivanm> c_wraith: for that, I think it would be nice if ghc-pkg "knew" which libraries were boot libraries...
15:48:15 <Veinor> *install
15:48:43 <ivanm> Veinor: :o
15:48:48 <ivanm> why are you using such an old version?
15:48:58 <Veinor> because the ubuntu repos have base-4.1
15:49:10 <Veinor> and 8.4 and 8.5 both require base-4.2
15:49:22 <Veinor> maybe I should just ignore the repos :o
15:49:51 <sundaymorning> chrisdone: what are you using to make haskell's site?
15:50:12 <ivanm> Veinor: just checked: latest release just needs base-4
15:50:17 <ivanm> so you can use it with 6.10
15:50:40 <chrisdone> sundaymorning: gimp and emacs. why?
15:50:52 <Veinor> hm
15:51:07 <sundaymorning> you're not using any framework?
15:51:09 <sundaymorning> just plain html?
15:51:15 <chrisdone> like what?
15:51:24 <sundaymorning> I don't know, rails
15:51:27 <Veinor> that requires tagsoup-0.8
15:51:34 * Twey chuckles.
15:51:35 <Veinor> which isn't building
15:51:42 <chrisdone> ohh. sorry. it's going to run on the existing wiki, I'm just writing a skin
15:52:11 <sundaymorning> oh I see
15:52:16 <Veinor> TagSoup/Sample.hs:14:40: Not in scope: `getResponseBody'
15:52:16 <Veinor> TagSoup/Sample.hs:14:72: Not in scope: `getRequest'
15:52:32 <chrisdone> sundaymorning: it's all in php and sin
15:53:13 <ivanm> Veinor: :o
15:53:15 <sundaymorning> I was curious if it was done using some haskell server or something
15:53:25 <Veinor> yeah.
15:53:30 <ivanm> Veinor: hackage says tagsoup 0.8 builds on 6.10...
15:53:39 <chrisdone> it would be cool to port to gitit or somesuch but that's a big jobbie
15:53:44 <Veinor> I know!
15:53:45 <chrisdone> (and questionable)
15:54:02 <ivanm> chrisdone: I don't think gitit is up to mediawiki's standards (or whatever haskell.org is using)
15:54:26 <ivanm> Veinor: you sure you don't have inconsistent packages or something?
15:54:44 <chrisdone> ivanm: sure
15:54:53 <fax> watch out haskell: http://reperiendi.wordpress.com/2007/11/03/category-theory-for-the-java-programmer/
15:54:56 <Veinor> oh hey, I have tagsoup 0.6 for some reason
15:55:24 <Veinor> ghc-pkg unregister tagsoup will 'uninstall' it, right?
15:55:29 <ivanm> yup
15:55:34 <benmachine> uh
15:55:34 <Veinor> oh wait, I need it for lambdabot
15:55:34 <ivanm> Veinor: just try upgrading tagsoup
15:55:36 * Veinor flails
15:55:38 <benmachine> depends
15:55:43 <ivanm> Veinor: methinks you can have both versions
15:55:43 <benmachine> no it doesn't depend
15:55:44 <benmachine> but
15:55:46 <chrisdone> fax: oh god i can see forever
15:55:50 <benmachine> unregister just makes ghc forget about it
15:55:51 <ivanm> cabal install tagsoup-0.8
15:56:05 <ivanm> Veinor: then again, lambdabot is an executable, and ghc does static linking...
15:56:14 <chrisdone> actually that's not too ugly
15:56:14 <benmachine> it doesn't delete any files or anything
15:56:15 <ivanm> benmachine: hence the quotes
15:56:19 <Veinor> ok, unregistering 0.6 didn't fix it
15:56:58 <Veinor> I'm going to try building on a different machine
15:57:16 <Veinor> ok, building on a different machine didn't do that
15:57:45 <Veinor> I am therefore tempted to blame the version of ghc in the ubuntu repos
15:57:59 <ivanm> Veinor: try to build tagsoup-0.8 explicitly first
15:57:59 <Veinor> ... in fact, I think I'm going to nuke that and actually build from source
15:58:00 * hackagebot statistics 0.5.1.0 - A library of statistical types, data, and functions  http://hackage.haskell.org/package/statistics-0.5.1.0 (BryanOSullivan)
15:58:03 <ivanm> then build hxt
15:58:10 <ivanm> bos: what's new/different?
15:58:13 <Veinor> yeah, I'm explicitly building 0.8
15:58:22 <Veinor> TagSoup.Sample always fails to build
15:58:30 <bos> ivanm: based on vector instead of uvector
15:59:00 * hackagebot criterion 0.5.0.0 - Robust, reliable performance measurement and analysis  http://hackage.haskell.org/package/criterion-0.5.0.0 (BryanOSullivan)
16:00:17 <ivanm> bos: aha
16:00:47 <ivanm> what's primitive used for?
16:01:08 <bos> parameterising over a monad that allows mutation
16:01:13 <Veinor> aha!
16:01:16 <Veinor> network.http is at fault here
16:01:41 <Veinor> had to upgrade it
16:01:51 <ivanm> Veinor: so ndm's deps were wrong?
16:02:05 <Veinor> looks like
16:02:25 <ivanm> *tsk, tsk*
16:02:33 <Veinor> or... somethign.
16:02:40 <Veinor> all I know is I have it working now
16:02:58 <Veinor> going to go install hxt, then grab something to eat
16:03:00 <Veinor> brb
16:03:31 <fax> can you do adjoint functors in haskell?
16:03:56 <ddarius> About as well as you can do functors or monads.
16:04:06 <fax> okay
16:04:19 <FunctorSalad> good consise answer
16:04:39 <fax> how can I implement functor salad?
16:04:44 <ivanm> ddarius: no, fax was asking if _you_ could
16:04:48 <FunctorSalad> (you'd have to think how to do different categories than hask in the first place)
16:08:33 <ddarius> ivanm: Oh, well then the answer is yes and I did here: http://www.haskell.org/sitewiki/images/8/85/TMR-Issue13.pdf
16:09:15 <ivanm> heh, fair enough
16:09:18 * ivanm tips his hat to ddarius
16:10:00 <ddarius> By the way, I hate those goddamn AJAX page preview retardedness things.
16:10:31 <gloob1> is it possible to convert GLFloat to String?
16:11:04 <kmc> does it have a Show instance?
16:11:15 <ddarius> kmc: It must since it's an instance of Num.
16:11:20 <kmc> there you go
16:11:30 <kmc> :t show
16:11:31 <lambdabot> forall a. (Show a) => a -> String
16:12:05 <Veinor> why does the HTTP module have such a... large version number?
16:12:20 <chrisdone> is it by bjorn bringert?
16:12:22 <ColonelJ> I wasn't expecting to see a story about writing a Mars Rover controller in TeX
16:12:26 <Veinor> nope
16:12:55 <Veinor> ColonelJ: Is that a (story about...) in TeX or a story about ((writing... ) in TeX)?
16:13:07 <chrisdone> Bjorn Bringert Copyright (c) 2004
16:13:21 <chrisdone> Veinor: I blame Bjorn. all his libraries start with 3000.*
16:13:21 <ColonelJ> writing
16:13:48 <ivanm> Veinor: some stupid person started using dates probably
16:14:02 <Veinor> wait
16:14:04 <ivanm> Veinor: and so to switch to sensible versions, it had to start with someting larger than 200x
16:14:14 <ivanm> that's the situation I had with graphviz, anyway
16:14:20 <Veinor> ivanm: haha
16:14:26 <byorgey> yes, I think that's why
16:14:34 <Veinor> the debian version number is 40000006
16:15:01 <benmachine> mreh: I played haskelloids a bit
16:15:07 <benmachine> it was kind of neat
16:15:14 <mreh> benmachine, great
16:15:55 <benmachine> I think xmonad had different ideas about how big to make the window though
16:16:14 <benmachine> so I ended up playing in the top left corner of a large black window on its own workspace
16:16:19 <benmachine> but yeah, fun
16:16:31 <ivanm> Veinor: :o
16:16:35 <ivanm> silly debian....
16:17:17 <ivanm> benmachine: for apps that specify an exact size, xmonda will by default float them and make them that size
16:17:19 <chrisdone> heh. one of our clients asked that customer ids started at 4000 and went up, to fit with his Sage system. ~_~
16:18:03 <ivanm> as in the pythonic maths environment?
16:18:31 <chrisdone> accounting software
16:18:54 <ivanm> ahh
16:20:05 <benmachine> ivanm: yeah, I've seen that before, but I guess haskelloids doesn't demand one
16:20:22 <ivanm> oh, you mean it tiles it? :o
16:20:34 <benmachine> yeah
16:21:43 <sundaymorning> I didn't get that announcement. The guy announces the project and, when you get to its home page, the first thing you see is "I'm pretty bored with this project" :P
16:21:57 <chrisdone> Checking foreign libraries... FAIL
16:21:58 <chrisdone>  *** Sorry, I can't link GSL.
16:22:07 <chrisdone> c_c
16:23:12 * chrisdone tries again
16:24:13 <trainpic> anyone here I can talk to about GSoC?
16:24:15 <FliPPeh> Can GHC tell me whether some module is imported, but actually isn't needed?
16:24:21 <FliPPeh> GSoC?
16:24:24 <trainpic> there doesn't seem to be anyone in #haskell-soc
16:24:29 <trainpic> Google Summer of Code
16:24:30 <chrisdone> FliPPeh: yeah, use -Wall
16:24:37 <FliPPeh> Oh
16:24:41 <FliPPeh> chrisdone: Thanks :)
16:24:50 <chrisdone> FliPPeh: there is a specific flag for it, which -Wall uses, but I can't remember it
16:24:53 <FliPPeh> Warning: The import of `System.IO' is redundant
16:24:54 <FliPPeh> :i
16:24:55 <FliPPeh> :o
16:25:04 <chrisdone> clever girl
16:25:28 <Lemmih> -fwarn-unused-imports
16:25:40 <Veinor> [58 of 91] Compiling Text.XML.HXT.Arrow.XmlArrow ( src/Text/XML/HXT/Arrow/XmlArrow.hs, dist/build/Text/XML/HXT/Arrow/XmlArrow.o )
16:25:49 <chrisdone> mreh: what's going on. I install a bunch of dependancies and now I get
16:25:50 <chrisdone>     chris@chrisamilo:~$ cabal install haskelloid
16:25:50 <chrisdone> cabal: There is no package named haskelloid
16:25:55 <Veinor> hxt-8.5.2 failed during the building phase. The exception was:
16:25:56 <Veinor> exit: ExitFailure 9
16:25:58 <Veinor> fffffffff
16:26:00 <ivanm> sundaymorning: which project is this?
16:26:07 <ivanm> chrisdone: is that hamatrix?
16:26:17 <mreh> haskelloids
16:26:18 <Zao> chrisdone: haskelloids, I believe.
16:26:38 <chrisdone> oh, woops. hit backspace by accident. I'll go to bed
16:26:39 <ivanm> trainpic: mailing list might be better... >_>
16:26:41 <Zao> Is hmatrix really awesome, or can you pick a less weird library? :)
16:26:46 <ivanm> chrisdone: heh
16:26:53 <ivanm> Zao: for what?
16:26:56 <trainpic> ivanm: thanks
16:27:05 <Zao> Assorted linear algebra mathemagics.
16:27:09 <ivanm> there's no other library that I know of that provides similar matrix-level operations
16:27:14 <Zao> It's a game, not a mega-matrix-mangler :)
16:27:20 <Zao> vector-space or whatever it's named?
16:27:23 <ivanm> I take it back: there's blas bindings
16:27:31 <chrisdone> yaaay it built
16:27:35 <ivanm> however, IMHO hmatrix really should split the gsl stuff out
16:28:12 <Zao> Oh barf. It's GPL too.
16:28:19 * Zao torches his desktop.
16:28:24 <ivanm> huh?
16:28:32 <chrisdone> is it supposed to only move when I move my mouse or press keys?
16:28:34 <Zao> hmatrix is GPL licensed.
16:29:07 <FunctorSalad> are ghc-compiled executables safe to SUID? (excluding what your program itself does, obviously ;) I mean the +RTS stuff)
16:29:17 <FunctorSalad> set-uid root, that is
16:29:18 <Twey> Should be
16:29:23 <Zao> FunctorSalad: There's recent commits to disable the +RTS flags.
16:29:39 <Zao> Controlled by a build flag, of course.
16:29:57 <Twey> Hm, I guess it could eat memory
16:30:09 <chrisdone> "FINAL SCORE 0"
16:30:11 <chrisdone> good night
16:30:34 <FunctorSalad> seems like you could overwrite files with, for example:   -t[<file>] One-line GC statistics (if <file> omitted, uses stderr)
16:30:49 <Zao> Indeed.
16:30:59 <FunctorSalad> (but you don't get to choose the contents, at least)
16:31:01 <ivanm> Zao: I take it you want to use it for a non-GPL application?
16:33:09 <Zao> ivanm: That would be one use case, yes.
16:33:28 <Zao> ivanm: I quite dislike the taint it puts on anything it touches.
16:33:34 <ivanm> *sigh*
16:33:36 <Veinor> hm
16:33:36 <Veinor> okay
16:33:43 <Veinor> what's the difference between base-4.1 and base-4.2?
16:33:50 * ivanm backs away to avoid another licensing argument
16:33:55 <ivanm> Veinor: 4.2 comes with 6.12
16:33:58 <Veinor> ahh
16:34:01 <ivanm> 4.1 comes with 6.10.4 IIRC
16:34:08 <ivanm> and just 4 comes with 6.10.{1,2,3}
16:34:14 <ivanm> the .1 is for haskeline support IIRC
16:34:30 <FunctorSalad> (btw, isn't it slightly paranoid that only root can look up the current cpu frequency from /sys/... ? ;))
16:34:44 <Zao> FunctorSalad: http://hackage.haskell.org/trac/ghc/ticket/3910
16:34:55 <ivanm> FunctorSalad: I can do it from /proc using ACPI...
16:34:56 <Zao> That's the bug I was looking for. trac search is horrible.
16:34:56 <FunctorSalad> Zao: thanks
16:35:25 <Zao> If I interpret commit mails right, it ought to be in 6.12.2.
16:35:43 <FunctorSalad> ivanm: /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq here, and it's 400
16:35:51 <FunctorSalad> (the permissions)
16:36:55 <ivanm> maybe use cpufreq-tools or something?
16:37:01 <ddarius> sudo echo '1000000000000' > /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
16:37:16 <FunctorSalad> ddarius: I was talking about lookup
16:37:23 <mreh> chrisdone: I'm glad it was at least good for some lulz
16:37:23 <FunctorSalad> 444
16:38:16 <FunctorSalad> (and I doubt that would do anything unless you're using the userspace governor, anyway)
16:39:32 <Veinor> blah. I think I'm going to nuke this haskell installation and start over
16:39:44 <Veinor> what's the easiest way to do so?
16:41:35 <ivanm> Veinor: local install?
16:41:45 <ivanm> rm -rf ~/.ghc methinks
16:41:55 <ivanm> that will remove the local ghc-pkg list
16:42:01 <Veinor> it's not a local install
16:42:12 <ivanm> *sigh* gunther just doesn't seem to get subtle hints...
16:43:00 <systemfault> How would I fold an array of bools?
16:43:51 <systemfault> A kind of.. count if... x == True
16:44:06 <Zao> @type and
16:44:07 <lambdabot> [Bool] -> Bool
16:44:33 <Zao> @type length . filter id
16:44:34 <lambdabot> [Bool] -> Int
16:44:40 <FunctorSalad> (OT: turns out you can just chmod files in /sys :))
16:44:47 <Zao> > length . filter id $ [True, False, True, True]
16:44:48 <lambdabot>   3
16:45:06 <Zao> I don't quite get what you're asking for.
16:45:21 <ivanm> Zao: an array or a list?
16:45:28 <ivanm> there a list folds and IIRC there are also array folds
16:45:42 <ivanm> if there aren't any array folds, then just the list representation of the array and use a list fold
16:45:52 <ivanm> I meant systemfault, not Zao
16:46:14 <systemfault> ivanm: Eventuall a Data.Vector
16:46:17 <systemfault> *Eventually
16:46:18 <Spockz> what is the currently advised method of mapping a function over a list in parallel? With the computation  being stricht? We are now using parListChunk but it seems the cpu usage is not as it should be..
16:46:33 <ivanm> systemfault: why "eventually"? if you want to use vector, use vector _now_
16:46:45 <ivanm> Spockz: parMap ?
16:46:46 <systemfault> Ok :)
16:46:54 <ivanm> @hoogle parmap
16:46:55 <lambdabot> Control.Parallel.Strategies parMap :: Strategy b -> (a -> b) -> [a] -> [b]
16:46:58 <systemfault> Then ivanm, it's for vector
16:47:36 <ivanm> systemfault: http://hackage.haskell.org/packages/archive/vector/0.5/doc/html/Data-Vector.html#10
16:47:44 <ivanm> not that hard to find it...
16:47:47 <zakwilson_> Shouldn't (abs . (-)) be the same as (\a b -> abs (a - b))? The former has the correct type signature, but fails at runtime with "No instance for (Num (a -> a))"
16:47:49 <Kruppe> I'm having trouble building http://hackage.haskell.org/package/DBus-0.4 by hand. It complains that it can't find dbus/dbus.h, and looks like its not using DBus.buildinfo in its gcc command.
16:47:58 <Kruppe> Can anyone else try and see if they get a similar error?
16:48:04 <Veinor> @unpl abs . (-)
16:48:05 <lambdabot> (\ c -> abs ((-) c))
16:49:09 <systemfault> ivanm: I just don't understand how it's supposed to help me...
16:49:14 <zakwilson_> Ahh. I think I see.
16:49:24 <ivanm> systemfault: I just don't understand what you're asking...
16:49:26 <ivanm> ;-)
16:49:33 <ivanm> systemfault: you wanted a fold on Vectors
16:49:43 <FliPPeh> "foldl (>>=) (return defaultOptions) [(\opt -> return opt { optServer = Just "Test" }), (\opt -> return opt { optPort = Just 6667 })]" <- I use this to update a record of default options with options supplied by GetOpt (the list the I hardcoded here). While merging them with (>>=) works fine in monads, how would I do this WITHOUT monads? With normal, unmonadic functions?
16:49:45 <ivanm> I linked you to the documentation for the folds on vectors
16:49:48 <systemfault> ivanm: [True, True, True, False, True] = 4
16:49:58 <systemfault> ivanm: That's what I want.
16:50:00 <ivanm> that's not a vecotr
16:50:03 <ivanm> *vector
16:50:10 <ivanm> so you want length . filter id
16:50:17 <ivanm> which isn't really a fold
16:50:18 <systemfault> ivanm: That's all I wanted
16:50:48 <Veinor> ... ahaha, I figured out why HXT was failing to build
16:50:49 <ivanm> then why did you specify a fold?
16:50:53 <ivanm> Veinor: why?
16:50:59 <Veinor> my VM only has 512MB of memory and no swap!
16:51:05 <Alpounet> uh
16:51:14 <ivanm> Veinor: :/
16:51:23 <Veinor> I was running into the OOM killer
16:51:39 <ddarius> ivanm: You could write it as a fold and you can derive it with a foldr/foldr fusion.
16:51:52 <Veinor> so now I gotta add swap
16:51:57 <FliPPeh> Found it out.
16:51:58 <ivanm> ddarius: right, you can... but why bother when there are pre-defined functions that do it?
16:52:00 <FliPPeh> :/
16:52:00 <Spockz> ivanm: http://gist.github.com/348570 << I'm on 6.10.4 and that is the result. With parMap it isn't parallel...
16:52:11 <misk20> in "import qualified Data.Map" what does this qualified means ??
16:52:28 <ivanm> Spockz: *shrug* I have never done any parallel stuff in haskell
16:52:30 <FliPPeh> misk20: You can use that to avoid name collisions
16:52:37 <ddarius> > sum (map fromEnum [True, True, True, False, True])
16:52:38 <lambdabot>   4
16:52:40 <ivanm> misk20: it means that you have to specify Data.Map.foo rather than jsut foo
16:52:44 <FliPPeh> misk20: "import qualified Data.Map as M" -> M.Map, M.concat
16:52:47 <Alpounet> misk20, that you have to put "Data.Map." before any function/type name coming from that module
16:52:50 <ivanm> to avoid name collisions like FliPPeh said
16:52:54 <eyl> anyone perhaps know why i can't install a package on hackage from source? i'm trying to install http://hackage.haskell.org/package/DBus, it sets up DBus.buildinfo fine with the correct includes and libraries however when it starts to compile it is doesn't use those options and says the header file cannot be found
16:53:01 <Spockz> ivanm: too bad
16:53:08 <ivanm> eyl: do you have the C DBus libraries installed?
16:53:13 <tensorpudding> "import qualified Foo as Bar" means that anytime in the code, you specify Foo.buux and Bar.buux instead
16:53:32 <tensorpudding> err, other way around, Bar.buux instead of Foo.buux
16:53:35 <ivanm> *tsk, tsk* DBus doesn't say it needs the C libraries
16:53:49 <ivanm> or is it just accessing the dbus applications directly or something?
16:54:01 <eyl> yes
16:54:09 <FliPPeh> I have a list of functions, is there a function like "chain argument [f1,f2,f3]" which would become something like "f1 . f2 . f3 $ argument"?
16:54:17 <eyl> i have the dbus libraries installed, i can see the header files
16:54:20 <tensorpudding> A lot of libraries, like the Data.ByteString ones, will have namespace collisions with other libraries and usually should be imported qualified.
16:54:26 <Zao> fold (.) or something?
16:54:33 <FliPPeh> Nah, that failed
16:54:36 <tensorpudding> FliPPeh: foldl1 (.) maybe?
16:54:41 <FliPPeh> Failed :/
16:54:46 <FliPPeh> Wait
16:54:47 <FliPPeh> foldl1?
16:54:48 <Zao> fmap?
16:54:48 <ddarius> > foldr ($)
16:54:49 <tensorpudding> Wait, right.
16:54:49 <lambdabot>   ()->
16:54:49 <lambdabot>    {[]->();[{()->()}]->();[{()->()},{()->()}]->();[{()->()},{()->()},{...
16:54:54 <eyl> usr/bin/gcc -c -D__GLASGOW_HASKELL__=608 -I/usr/lib64/ghc-6.8.2/lib/bytestring-0.9.0.1/include -I/usr/lib64/ghc-6.8.2/lib/base-3.0.1.0/include -I/usr/lib64/ghc-6.8.2/include dist/build/DBus_hsc_make.c -o dist/build/DBus_hsc_make.o but they're not in here, which they're supposed to be if i run runhaskell Setup.hs build
16:54:55 <eyl> right?
16:55:08 <FliPPeh> Nah, not foldl
16:55:09 <Zao> @type foldl1 fmap
16:55:10 <lambdabot> forall a. [a -> a] -> a -> a
16:55:13 <tensorpudding> That wouldn't be well-typed unless the functions were of type A -> A
16:55:25 <eyl> it's missing -I/usr/include/dbus-1.0 -I/usr/lib64/dbus-1.0/include -ldbus-1
16:55:36 <ddarius> > let chain = foldr ($) in chain [] [('a':), ('b':), ('c':)]
16:55:37 <lambdabot>   "abc"
16:55:41 <ivanm> eyl: so you have the libraries in non-standard locations?
16:55:44 <tensorpudding> > foldl1 (.) [id,id,id] $ 5
16:55:45 <lambdabot>   5
16:55:50 <eyl> which is in DBus.buildinfo
16:56:02 <ddarius> Alternatively, foldr id
16:56:03 <eyl> i have them in gentoo locations
16:56:04 <ddarius> :t foldr id
16:56:05 <lambdabot> forall b. b -> [b -> b] -> b
16:56:06 <ivanm> eyl: maybe post the entire build error up somewhere
16:56:36 <tensorpudding> @type foldlr (.) id
16:56:37 <lambdabot> Not in scope: `foldlr'
16:56:42 <tensorpudding> @type foldr (.) id
16:56:44 <lambdabot> forall b. [b -> b] -> b -> b
16:56:45 <eyl> http://pastebin.com/Bdwrw0NK
16:57:07 <FliPPeh> tensorpudding: That works!
16:57:08 <FliPPeh> Thanks :)
16:57:36 <ddarius> FliPPeh: foldr ($) is more concise and more direct and has the arguments in the right order.
16:57:38 <FliPPeh> That's nice for having default record entries and just merge differences
16:57:47 <eyl> http://pastebin.com/jh3yStF1 sorry, there's more info
16:57:48 <benmachine> :t foldr ($)
16:57:49 <lambdabot> forall b. b -> [b -> b] -> b
16:57:57 <ivanm> eyl: hmmm... that looks like a local header file that wasn't put into the tarball
16:58:04 <benmachine> ddarius: disagree :P
16:58:23 <ivanm> yet it somehow managed to build on the hackage machines...
16:58:26 <ivanm> *shrug*
16:58:30 <benmachine> the [b -> b] -> b -> b is nice because it makes a list of functions into a function
16:58:46 <ddarius> benmachine: "right order" here means the order FliPPeh asked for
16:59:05 <benmachine> oh
16:59:08 <FliPPeh> Actually, in this case the order does not matter :)
16:59:09 <benmachine> well, fine
16:59:11 <tensorpudding> > foldlr (.) id [mod 5, (+6)] $ 5
16:59:12 <lambdabot>   Not in scope: `foldlr'
16:59:16 <tensorpudding> > foldr (.) id [mod 5, (+6)] $ 5
16:59:17 <benmachine> :t appEndo . foldMap Endo
16:59:18 <lambdabot>   5
16:59:18 <lambdabot> Not in scope: `foldMap'
16:59:21 <benmachine> what :/
16:59:27 <benmachine> :t appEndo . Data.Foldable.foldMap Endo
16:59:28 <lambdabot> forall a (t :: * -> *). (Data.Foldable.Foldable t) => t (a -> a) -> a -> a
16:59:35 <eyl> ivanm: http://pastebin.com/0i74brsa it's trying to get dbus.h
16:59:38 <benmachine> generalised :P
16:59:40 <tensorpudding> > foldr (.) id [`mod` 5, (+6)] $ 5
16:59:40 <eyl> and its not in the include
16:59:41 <lambdabot>   A section must be enclosed in parentheses thus: (`mod` 5)
16:59:42 <FliPPeh> > foldr (.) 1 [(*3),(*6),(/20)]
16:59:43 <lambdabot>   No instance for (GHC.Num.Num (f b))
16:59:43 <lambdabot>    arising from the literal `1' at <int...
16:59:45 <ivanm> eyl: no idea sorry :s
16:59:49 <eyl> :(
16:59:54 <FliPPeh> > foldr (.) 1 [(*3),(*6),(div 20)]
16:59:55 <lambdabot>   No instance for (GHC.Num.Num (f b))
16:59:55 <lambdabot>    arising from the literal `1' at <int...
16:59:56 <tensorpudding> > foldr (.) id [(`mod` 5), (+6)] $ 5
16:59:57 <FliPPeh> Aw.
16:59:57 <lambdabot>   1
17:00:02 <ivanm> eyl: I'm thinking that it's looking for the .h file in the wrong place... >_>
17:00:07 <tensorpudding> > foldl (.) id [(`mod` 5), (+6)] $ 5
17:00:09 <lambdabot>   1
17:00:11 <eyl> its not looking for the h file at all
17:00:11 <tensorpudding> hmm
17:00:13 <eyl> thats the problem
17:00:14 <benmachine> > foldr (.) (*3) [(*6), div 20] $ 372
17:00:15 <lambdabot>   0
17:00:24 <benmachine> > foldr (.) (*3) [(*6), div 20] $ 1
17:00:25 <lambdabot>   36
17:00:27 <eyl> the DBus.buildinfo shows the right options to gcc
17:00:30 <eyl> but it doesnt use them
17:00:39 <tensorpudding> Yeah, that's not going in the right order
17:00:55 <benmachine> > foldr (.) id [(*6), div 20, (*3)] $ 1
17:00:56 <lambdabot>   36
17:01:03 <benmachine> same thing
17:01:37 <tensorpudding> > foldl1 (.) [(`mod` 5), (+6)] $ 5
17:01:39 <lambdabot>   1
17:11:15 <lispy> How come I can define this in ghci? f2 = \x -> show x    It should violate the monomorphism restriction (and it does if I place it in a file)
17:12:11 <ivanm> defaulting
17:12:27 <ivanm> I guess that it defaults to Integer -> String
17:12:50 <olsner> do a :type f2 or something to see what type it got?
17:12:52 <Alpounet> () -> String here
17:13:08 <ivanm> OK, it defaulted to (), not Integer
17:13:09 <ivanm> *shrug*
17:13:15 <ivanm> it still defaulted to _something_
17:13:26 <Alpounet> lispy, ':show languages' gives -XMonomorphismRestriction here.
17:14:56 <Veinor> how likely is 'cabal upgrade' to actually break things?
17:15:05 <Alpounet> highly
17:15:18 <lispy> Alpounet: right, which is the difference than -XNoMonomorphismRestriction, right?
17:15:31 <lispy> Alpounet: so with -XMonomorphismRestriction I should expect ghci to fail?
17:15:38 <idnar> lispy: in ghci, you're in a do block more or less
17:15:40 <lispy> But, I thikn ivanm has a point
17:15:54 <idnar> that's different to a top-level definition (I guess?)
17:15:54 <benmachine> lispy: ghci has stronger defaulting rules than normal Haskell, I think
17:16:09 <Alpounet> benmachine, right
17:16:12 <idnar> ah
17:16:22 <ivanm> Veinor: it wants to upgrade boot libraries, which is _bad_
17:16:29 <ivanm> idnar: nto qutie...
17:16:37 <Alpounet> lispy, you may have to face MR in some cases
17:16:51 <Alpounet> I do not have any in mind though, honestly
17:17:00 <Alpounet> not much of a MR expert.
17:17:12 * ivanm wishes there was a way to force ghci to default to Int rather than Integer
17:17:30 <idnar> Int??
17:17:50 <Veinor> doesn't upgrading base just fail?
17:17:50 <ivanm> yes, Int
17:17:57 <idnar> that sounds like it would get really confusing
17:18:01 <ivanm> Veinor: it might want to ugprade containers, etc. as well
17:18:05 <ivanm> idnar: why?
17:18:07 <byorgey> ivanm: I think there's a way to do that.
17:18:14 <ivanm> I use Int more than I use Integer
17:18:17 <ivanm> byorgey: how?
17:18:25 <idnar> because Int usually gives you incorrect results
17:18:27 <byorgey> I forget, let me look
17:18:29 <benmachine> ivanm: you can solve this problem by using Integer more than you use Int :P
17:18:40 <jmcarthur> i know there is a way in source files. i'm not sure about ghci
17:18:41 <Veinor> I should write a script to upgrade packages that aren't core
17:18:48 <ivanm> @slap benmachine
17:18:48 * lambdabot moulds benmachine into a delicous cookie, and places it in her oven
17:18:54 <jmcarthur> yum
17:18:56 <ivanm> idnar: depends on what you're donig
17:18:57 <ivanm> *doing
17:19:01 * benmachine is delicious
17:20:18 <byorgey> hmm, I thought I remembered there was some sort of pragma to change the defaulting behavior
17:20:22 <byorgey> maybe I am imagining things
17:20:36 <FliPPeh> yum yum
17:20:48 <byorgey> oh, yeah, maybe that only works for compiled things, not ghci.
17:20:52 <FliPPeh> The more I learn about haskell, the more I am using the, the more I feel stupid
17:21:01 <FliPPeh> s/the/it
17:21:04 <ivanm> byorgey: :(
17:21:27 <byorgey> FliPPeh: feeling stupid usually means you are getting smarter =)
17:21:37 <FliPPeh> byorgey: Maybe. Maaaaybe
17:21:47 <FliPPeh> But my codes never look as elegant as other's
17:21:52 <ivanm> idnar: my main problem with Integer: when testing graphviz, I have to keep specifying an explicit type signature because ghci keeps defaulting the integral values to Integer (which isn't defined) rather than Int (which is)
17:22:05 <FliPPeh> Whenever I submit a code for review here, you guys take 60% of it's lines and make it awesome!
17:22:14 <FliPPeh> s/it's/its
17:22:21 <FliPPeh> Man, my english blows today
17:23:27 <thetallguy> bad wordjob
17:23:52 <thetallguy> sorry, I should keep my mind shut.
17:24:31 <aavogt> ivanm: add  default int somewhere?
17:24:35 <aavogt> *default Int
17:24:40 <FliPPeh> :x
17:24:43 <ivanm> tried that
17:24:45 <ivanm> doesn't work
17:25:01 <aavogt> then you're adding it to the wrong places?
17:26:51 <ivanm> "default Int" in ghci throws an error
17:26:58 <ivanm> putting it in a source file doesn't affect ghci
17:28:08 <FliPPeh> Gah
17:30:02 <dagnachew> hi aLL
17:30:07 <dagnachew> warning: cannot resolve "haskell-binary=0.5.0.2-2", a dependency of "haskell-hashed-storage"
17:30:08 <dagnachew> :: the following package(s) cannot be upgraded due to unresolvable dependencies:
17:30:10 <dagnachew>       haskell-hashed-storage
17:31:35 <ivanm> dagnachew: what does "ghc-pkg list binary" say?
17:31:41 <ivanm> and how about "ghc-pkg check" ?
17:33:37 <dagnachew> ivnam I don't have ghc-pkg in archlinux
17:34:05 <ivanm> if you dont' have ghc-pkg, then you don't have ghc
17:34:10 <ivanm> since ghc-pkg comes with ghc
17:34:13 <ivanm> ergo, you have a problem
17:34:50 <[swift]> wow, i am so pleased that ghc's parser properly handles nested block comments
17:35:10 <[swift]> c++ has annoyed me in that regard for so many years
17:36:45 <kmc> lol
17:37:04 <kmc> [swift], it's not just ghc's parser, it's in the language standard
17:37:45 <[swift]> kmc: that's fantastic.
17:40:30 <aavogt> > 1 {- {- -}
17:40:31 <lambdabot>   <no location info>: unterminated `{-'
17:40:41 <pikhq> [swift]: We, unlike C++, are designing around compilers with more than a few kilobits to work with. ;)
17:41:17 <pikhq> (well. C++ is designed by compilers with anywhere from a few kilobits of RAM to a halting oracle, depending on the feature in question)
17:41:17 <SubStack> hooray I can emulate glsl on the cpu for my haskell apps now
17:41:45 <Draconx|Laptop> pikhq, if C++ was designed around compilers using only a few kilobits of memory, it would not have templates.
17:42:02 <pikhq> Draconx|Laptop: The comment syntax was designed around that.
17:42:15 <Draconx|Laptop> right, but the comment syntax predates C++ by a long shot.
17:42:20 <pikhq> The template semantics are designed around the existence of a halting oracle.
17:42:59 <pikhq> (compiling C++ is equivalent to solving the halting problem. Thus, C++ has never been implemented.)
17:43:05 <ivanm> SubStack: what's glsl?
17:43:16 <ivanm> @remember pikhq compiling C++ is equivalent to solving the halting problem. Thus, C++ has never been implemented.
17:43:17 <lambdabot> It is forever etched in my memory.
17:43:22 <kmc> that's dumb
17:43:38 <kmc> does the spec mandate that the compiler tell you if your template metaprogram diverges?
17:43:41 <kmc> i'm sure it allows the compiler to diverge
17:44:21 <Draconx|Laptop> ivanm, openGL Shading Language
17:44:21 <FliPPeh> Say I have a C library that's installed systemwide (/usr/lib/), how'd I use the FFI on that?
17:44:45 <kmc> FliPPeh, isn't that the case that RWH covers?
17:45:23 <FliPPeh> kmc: I don't know, but I'll see!
17:45:24 <FliPPeh> Thansk
17:45:27 <FliPPeh> Thanks!
17:45:30 <kmc> the RWH chapter on FFI is great
17:45:47 <pikhq> kmc: I seem to recall there's ways of making the parsing depend upon whether or not your template metaprogram diverges.
17:45:54 <[swift]> haha, this just got me on a wild goose chase to figure out where /* */ comments came from. C had them, obviously, but B seems to have used //. perhaps dennis ritchie is to blame
17:46:17 <[swift]> i take it back actually; B had them but not BCPL
17:46:33 <ivanm> preflex: seen dibblego
17:46:33 <preflex>  dibblego was last seen on #haskell 13 hours, 47 minutes and 8 seconds ago, saying: http://functionaljava.org/examples/#List.map
17:46:36 <dibblego> oy
17:46:40 <ivanm> hey
17:46:43 <dibblego> hello
17:46:47 <ivanm> do you have access to today's Australian?
17:47:04 <dibblego> I'm in the Virgin lounge of Sydney airport so probably
17:47:17 <ivanm> there's an article on page 7 you might find interesting
17:47:19 <dibblego> lemme go for a walk
17:47:23 <ivanm> it has parallels to your medical history
17:47:55 <dibblego> ha I'm in Sydney to see a surgeon
17:48:21 <dibblego> "Fallen mother left on floor for days"?
17:48:28 <ivanm> no, not that one
17:48:38 <ivanm> "Bali victim's mum winds damages"
17:48:55 <dibblego> ah I see it
17:49:11 <ColonelJ> On the topic of multi-line comments what do you think of these ones: http://pastebin.com/xcc8BB3C
17:49:13 <ivanm> (the Bali bombing connection is spurious at best)
17:49:13 <dibblego> well I'm not a quadraplegic yet
17:49:31 <ivanm> well, no
17:50:02 <benmachine> oh man
17:50:11 <dibblego> I'm seeing a spinal surgeon this afternoon
17:50:13 <benmachine> I've missed a lot in the two weeks of my haskell-cafe subscription being broken, clearly
17:50:29 * benmachine is still lolling at "As the Reverend Spooner would have put it, your shining wit is entirely underappreciated."
17:51:05 <ivanm> dibblego: so you still have the change to become a quadraplegic if this surgeon is as good as the rest of the ones you've had? :p
17:51:24 <Veinor> what is the use case for getStdGen vs newStdGen
17:51:26 <Veinor> ?
17:51:31 <dibblego> because I have a spinal problem and it has taken me two years to figure that out (though I told a surgeon in August 2008 who ignored me)
17:51:34 <ivanm> @hoogle getStdGen
17:51:35 <lambdabot> System.Random getStdGen :: IO StdGen
17:51:44 <ivanm> Veinor: getStdGen gets the system one IIRC
17:51:45 <benmachine> Veinor: one of them returns the same thing every time, the other, doesn't
17:52:01 <benmachine> I think newStdGen just splits getStdGen
17:52:07 <ivanm> you use it with setStdGen or something like that rather than continually getting a new one (which could be expensive)
17:52:13 <gloob1> hi guys..do you know if it is possible to convert GLfloat to String?
17:52:16 <ivanm> benmachine: yeah, something like that
17:52:19 <benmachine> gloob1: show
17:52:23 <ivanm> gloob1: didn't you ask this before?
17:52:25 <ColonelJ> [swift] maybe they come from ALGOL???
17:52:29 <Veinor> playing around says that getStdGen shows the same thing each time, newStdGen.... doesn't
17:52:57 <gloob1> benmachine: show seems not to be working for me
17:52:59 <ColonelJ> no wait that's 'comment' ;
17:53:06 <[swift]> ColonelJ: thought of that but they use 'comment'
17:53:10 <kmc> gloob1, yes, using "show"
17:53:14 <ivanm> Veinor: right; newStdGen is something like: do g <- getStdGen; let (g',g'') = split g; setStdGen g''; return g'
17:53:16 <kmc> gloob1, what happens when you try?
17:53:19 <[swift]> ColonelJ: typical verbose 60's design =)
17:53:21 <Veinor> sounds right
17:53:39 <kmc> gloob1, it works for me here
17:53:46 <pastorn> What's "Lenient evaluation"?=;
17:54:02 * pastorn can't hit ENTER correctly for shit...
17:54:10 <ColonelJ> [swift]: I'm writing a programming language, I'm using ?> and <? to delimit comments
17:54:37 <dibblego> ColonelJ, allow them to embed!
17:54:42 <theorbtwo> That's an odd choice of syntax.
17:54:43 <gloob1> kmc: Couldn't match expected type `[a]' against inferred type `GLfloat'
17:54:53 <ColonelJ> the syntax is very different in general
17:54:54 <kmc> Prelude Graphics.Rendering.OpenGL> show (3 :: GLfloat)
17:54:54 <kmc> "3.0"
17:55:09 <ColonelJ> dibblego: what do you mean by embed?
17:55:10 <pastorn> gloob1: you need to litter your code with (x :: GLfloat)
17:55:12 <benmachine> gloob1: what *exactly* are you trying to do?
17:55:21 <benmachine> pastorn: I don't think that's the problem here
17:55:30 <pastorn> oh, [a]
17:55:32 <pastorn> sorry
17:55:33 <dibblego> ColonelJ, <? boo <? bar ?> baz ?>
17:55:33 <theorbtwo> ColonelJ: <? comment <? comment ?> comment ?> not comment
17:55:44 <benmachine> dibblego: do you mean nest? I remember someone pointing out that that doesn't work well with string literals
17:55:50 <ColonelJ> you're using them backwarsd lol
17:56:00 <theorbtwo> ColonelJ: Whoops.
17:56:04 <Veinor> why would you make ?> be the comment starter?
17:56:04 <pastorn> gloob1:
17:56:06 <pastorn> @paste
17:56:06 <lambdabot> Haskell pastebin: http://moonpatio.com/fastcgi/hpaste.fcgi/
17:56:10 <Veinor> that's.... bizarre
17:56:11 <ColonelJ> ?> comment ?> comment <? comment <?
17:56:11 <dibblego> benmachine, I do, and I don't see how string literals become a difficulty
17:56:11 <lambdabot> Maybe you meant: . ? @ v
17:56:25 <ColonelJ> Veinor: it's inline with the rest of teh syntax
17:56:25 <ddarius> Veinor: So you can have ?><?
17:56:28 <pastorn> ColonelJ: why not just // for one-line comments and /// for multiline?
17:56:52 <gloob1> benmachine: i am trying to send coordinates over network
17:56:53 <Veinor> <?_?> <----- this guy has no clue what's going on
17:56:56 <pastorn> ddarius: that looks like an evil ninja
17:57:01 <ColonelJ> pastorn: because that's really stupid and confusing?
17:57:13 <pastorn> ColonelJ: not with syntax highlighting
17:57:17 <ColonelJ> pastorn: rofl
17:57:19 <gloob1> benmachine: and i need them to become string to use hPutStrLn
17:57:37 <pastorn> Veinor: nice :)
17:57:38 <theorbtwo> The confusing bit, I suppose, is when you have a >? or ?< inside a string literal, that you then put inside a comment.
17:57:52 <pastorn> gloob1: paste what you have
17:57:57 <pastorn> @hpaste
17:57:57 <lambdabot> Haskell pastebin: http://moonpatio.com/fastcgi/hpaste.fcgi/
17:58:03 <aavogt> > 1 {- "{-" -}
17:58:04 <lambdabot>   <no location info>: unterminated `{-'
17:58:23 <benmachine> dibblego: because <? "foo bar ?> baz" you might want this to still be a comment
17:58:36 <benmachine> or, not
17:58:51 <dibblego> benmachine, why not just make a decision one way or another?
17:58:53 <theorbtwo> The downside of ?> comments would seem to be that they are confusing with PHP and XML, which use <? ... ?> nesting thingies the other way around.
17:59:14 <benmachine> dibblego: you can, but both have drawbacks
17:59:28 <ColonelJ> I don't like <? Hello?>
17:59:35 <ColonelJ> looks like everything in the comment is a question
17:59:43 <ColonelJ> ?>Hello<?
17:59:43 <lambdabot> Unknown command, try @list
18:00:00 <kmc> i like -- for one-line comments
18:00:01 <dino-> I have some code that's renaming/moving files by using createLink and then (optionally) removeLink. And I just watched it once leave me with a 0-length at the new path..
18:00:02 <kmc> like an em dash
18:00:05 <kmc> not crazy about {- -}
18:00:07 <benmachine> basically it's a question of do you parse comment delimiters inside strings, and strings inside comment delimiters
18:00:10 <pastorn> ColonelJ: why are you using that's so hard to type as comments?
18:00:13 <dino-> Which is freaking me out now about possible laziness issues with this.
18:00:19 <pastorn> seems rather stupid, to me
18:00:31 <ColonelJ> pastorn: if you have trouble typing symbols this language is REALLY not for you
18:00:45 <kmc> dino-, i'd use strace to see the actual system calls
18:00:49 <ColonelJ> also, it's really easy to type that on my keyboard
18:00:51 <pastorn> ColonelJ: APL sequel?
18:01:23 <dino-> kmc: But any vague feeling of sequencing and completion between IO actions in a do block, those are all in my head, aren't they.
18:01:31 <kmc> dino-, ?
18:01:41 <pastorn> http://www.hooleon.com/miva/merchant.mvc?Screen=PROD&Product_Code=OV-0132&Store_Code=KBH&Category_Code=OV-DE
18:01:43 <ColonelJ> pastorn: no I just use a lot of symbols in the language to denote things
18:01:50 <kmc> dino-, the whole point of the IO monad is to order actions in time
18:02:04 <dino-> Ok, completion then
18:02:04 <kmc> that's why we *don't* use evaluation to drive execution
18:02:12 <kmc> completion would depend on the library you're using
18:02:22 <gloob1> pastorn: http://moonpatio.com/fastcgi/hpaste.fcgi/view?id=9065#a9065
18:02:26 <kmc> obviously libraries are free to provide asynchronous actions
18:02:29 <dino-> It made me wonder if the createLink didn't quite finish up when remove blew away the other hard link.
18:02:36 <gloob1> pastorn: hope you decode the idea
18:02:39 <benmachine> that would be surprising
18:02:42 <kmc> dino-, what library are they from?
18:03:00 <kmc> System.Posix.Files?
18:03:19 <benmachine> quite a lot of IO is strictly sequential, there are only a few (but rather common) exceptions where the actual I/O may happen at odd times
18:03:28 <kmc> dino-, those createLink and removeLink are very thin wrappers on posix link() and unlink()
18:03:48 <pastorn> gloob1: and the error?
18:04:26 <gloob1> pastorn: Couldn't match expected type `[a]' against inferred type `GLfloat'
18:04:37 <dino-> kmc: System.Posix
18:04:42 <ivanm> gloob1: because [a] /= GLfloat for any a ?
18:04:47 <kmc> dino-, if they aren't matching the POSIX semantics then it's a bug in this library or in GHC's runtime system
18:04:49 <kmc> not in your code
18:04:59 <gloob1> pastorn: error is at line 9
18:04:59 <kmc> again, strace will tell you what syscalls are actually going out
18:05:08 <kmc> but i think your problem is somewhere else
18:05:15 <pastorn> gloob1: are you sure
18:05:19 <pastorn> gloob1: check your paste :p
18:05:28 <kmc> dino-, you're not making these calls in different threads, are you?
18:05:36 <dino-> kmc: no
18:06:29 <pastorn> gloob1: you could try to comment out all of sendData and put it as undefined and then try to write a type signature
18:06:34 <pastorn> that might clear things up
18:06:44 <benmachine> what does get do
18:07:05 <pastorn> benmachine: class HasGetter g where get :: g a -> IO a
18:07:18 <pastorn> benmachine: superior IO h4xx0ringz
18:07:26 <benmachine> ah right
18:07:33 * benmachine vaguely remembers that
18:07:34 <pastorn> gogo global variables!
18:07:53 <dino-> Thank you for discussing
18:08:03 <pastorn> @type hPutStrLn
18:08:03 <ivanm> @slap pastorn
18:08:04 <lambdabot> Not in scope: `hPutStrLn'
18:08:04 * lambdabot puts on her slapping gloves, and slaps pastorn
18:08:13 <ivanm> @hoogle hPutStrLn
18:08:13 <lambdabot> Data.ByteString hPutStrLn :: Handle -> ByteString -> IO ()
18:08:14 <lambdabot> System.IO hPutStrLn :: Handle -> String -> IO ()
18:08:14 <lambdabot> Data.ByteString.Char8 hPutStrLn :: Handle -> ByteString -> IO ()
18:08:32 <pastorn> ivanm: but wai?!
18:08:55 <ivanm> I presume you meant mutable global variables...
18:09:15 <pastorn> ivanm: yes, they're AWESOME
18:09:20 <ivanm> @slap pastorn
18:09:20 * lambdabot jabs pastorn with a C pointer
18:09:33 <pastorn> goinGLOBAL = unsafePreformIO (newIORef "ivanm can suck donkey ballz")
18:09:49 <gloob1> pastorn:   :: (Show t) => Handle -> (t, t1) -> (t2, t3) -> IO ()
18:10:08 <ivanm> that's not the type of hPutStrLn ...
18:10:27 <kmc> {-# NOINLINE goinGLOBAL #-}
18:10:49 <pastorn> gloob1: no, try to write a signature that is what you expect it to be
18:10:56 <pastorn> t ==> GLFloat etc...
18:11:03 <pastorn> kmc: did that jus fuck me up?
18:11:21 <kmc> what
18:11:23 <pastorn> or did it prevent me from getting phuxx0red?
18:11:27 <pastorn> the NOINLINE
18:11:32 <kmc> you need NOINLINE for that hack to work right
18:11:38 <pastorn> oh, cool
18:12:00 <pastorn> is goinGLOBAL so short that it'll get inlined otherwise?
18:12:36 <kmc> probably
18:12:42 <pastorn> cool
18:12:50 <kmc> not sure the probability, but it's certainly necessary to forbid it
18:13:03 <pastorn> @slap ivanm
18:13:03 * lambdabot would never hurt ivanm!
18:13:08 <pastorn> WTF?!?!?!?!?
18:13:12 * pastorn cries
18:13:15 <kmc> this is what happens when you use uPIO, you have to start knowing and caring about lots of implementation details
18:13:18 <ivanm> @botsnack
18:13:18 <lambdabot> :)
18:13:43 <pastorn> kmc: yeah... i was thinking about this earlier
18:14:11 <pastorn> because you don't want to have your compiler re-initialize your variable out of the blue
18:14:38 <kmc> not reinitialize
18:14:50 <kmc> it'd create a new variable at each use
18:15:02 <pastorn> yeah
18:15:22 <pastorn> well, that't set the value to whatever the original definition said
18:15:49 <pastorn> "ivanm can suck donkey ballz" might be a very good value, but i don't want him to do it ALL THE TIME
18:16:23 <kmc> heh
18:17:06 <pastorn> gloob1: getting anywhere?
18:17:30 <pastorn> sendData :: Handle -> (GLfloat,GLfloat) -> (GLfloat,GLfloat) -> IO ()
18:17:34 <pastorn> does that work?
18:17:53 <kmc> i learned recently that jhc has an extension to do things like global iorefs the Right Way
18:18:06 <pastorn> kmc: heh, awesome
18:18:07 <kmc> http://repetae.net/computer/jhc/manual2.html#top-level-actions
18:18:09 <pastorn> gimme linky
18:18:11 <kmc> wish we could get this in GHC
18:18:24 <pastorn> what, that's awesome :)
18:18:28 <pastorn> and nasty as hell
18:18:44 <kmc> it's far better than using uPIO
18:18:58 <kmc> it's a pretty common feature that languages let you run some code on module init
18:20:04 <pastorn> kmc: JHC is the super-speed compiler, right?
18:20:11 <kmc> speed of what?
18:20:13 <kmc> it's mostly a toy
18:20:16 <pastorn> oh
18:20:26 <BMeph> pastorn: "Show me a donkey made out of concrete..." ;)
18:20:28 <kmc> it's whole-program and produces very small binaries, which usually leak memory like crazy
18:20:28 <pastorn> i know that there's one haskell compiler that focuses on speed
18:20:39 <kmc> so you're supposed to link them with boehm gc
18:20:42 <kmc> which is just... so wrong
18:20:59 <kmc> it has some interesting whole-program approach to typeclass resolution
18:21:20 <pastorn> kmc: as for getting haskell running on other machines than x86.... what is a good approach?
18:21:26 <BMeph> pastorn: "...and I'll show you an ass that won't quit!";
18:21:28 <pastorn> yhc bytecode interpretor?
18:21:32 <kmc> or hugs
18:21:41 <kmc> or ghc (it supports a few architectures besides x86)
18:21:46 <pastorn> BMeph: i don't get it :(
18:21:46 <kmc> or ghc's new llvm backend
18:21:53 <kmc> i would go with the latter but it's still really new
18:22:06 <kmc> you might have to patch llvm to support the ghc calling convention on your preferred architecture
18:22:19 <kmc> i know there are guys doing Haskell on iPhone using an unregisterized ghc for ARM
18:22:39 <pastorn> kmc: preferred architecture == bare metal :D
18:23:37 <pastorn> kmc: "jhc is a haskell compiler which aims to produce the most efficient programs possible via whole program analysis and other optimizations."
18:24:41 <theorbtwo> "unregistered"?
18:25:05 <kmc> variously "unregistered" or "unregisterized"
18:25:15 <ivanm> it's a GHC-ism IIRC
18:25:26 <kmc> you can build a GHC that outputs portable C code which does not require Evil Mangling
18:25:30 <Mathnerd314> pastorn: does jhc prove that its output is the most efficient?
18:25:31 <kmc> and is quite a bit slower
18:25:49 <theorbtwo> kmc: Aha.
18:26:17 <pastorn> kmc: seem awesome
18:26:20 <pastorn> Mathnerd314: no clue
18:26:40 <Mathnerd314> probably not, then :-(
18:28:48 <pastorn> kmc: maybe i'll just use lisp or FORTH for all my bare metal adventures :)
18:28:54 <kmc> heh
18:31:16 <pastorn> AWESAOME name: http://armpit.sourceforge.net/
18:32:04 <FliPPeh_> Man, I just killed GCC using the FFI
18:32:08 <FliPPeh_> Internal compiler error
18:32:19 <pastorn> FliPPeh_: GJ
18:32:38 <pastorn> FliPPeh_: it was a state machine. had it coming
18:32:52 <kmc> we're all state machines :O
18:33:57 <FliPPeh_> It always wants to include stubs-32.h
18:34:01 <FliPPeh_> But I need stubs-64.h
18:34:05 <FliPPeh_> BAD
18:34:13 <Mathnerd314> ah, proof by Wikipedia: http://en.wikipedia.org/wiki/Program_optimization says full program optimization is np-complete and/or undecidable
18:34:31 <gloob1> pastorn: solved by passing show posX at top level function..thanks for help
18:35:04 <pastorn> didn't having that type signature there help?
18:35:23 <pastorn> it should've helped you find what you did wrong, at least...
18:35:28 <orlandu63> is there anywhere i can find the source code to Data.List.delete?
18:35:36 <pastorn> @src delete
18:35:37 <lambdabot> delete = deleteBy (==)
18:35:41 <pastorn> @src deleteBy
18:35:41 <lambdabot> deleteBy eq x []        = []
18:35:41 <lambdabot> deleteBy eq x (y:ys)    = if x `eq` y then ys else y : deleteBy eq x ys
18:35:47 <pastorn> orlandu63: enjoy
18:35:57 <orlandu63> pastorn: thank you ;)
18:36:13 <pastorn> orlandu63: as a matter of fact i learnt most of the haskell i know by having a private session with lambdabot and just using @src
18:38:53 <kmc> orlandu63, pastorn lambdabot's @src is not always the truth
18:39:11 <kmc> orlandu63, it is essential to bookmark this page: http://www.haskell.org/ghc/docs/6.10-latest/html/libraries/
18:39:14 <kmc> it has source links for most stuff
18:39:17 <aavogt> @src rutabagga
18:39:17 <lambdabot> Source not found. There are some things that I just don't know.
18:39:48 <FliPPeh_> Hm
18:39:53 <ivanm> aavogt: a farm
18:39:54 <orlandu63> kmc: thank you as well
18:40:10 <FliPPeh_> Any real good FFI introduction that tells me in detail how to handle C functions that want structs?
18:40:10 <pastorn> check out the source after #else /* hack away */
18:40:12 <pastorn> http://haskell.org/ghc/docs/latest/html/libraries/base-4.2.0.0/src/GHC-List.html#splitAt
18:40:37 <kmc> FliPPeh_, RWH doesn't do it?
18:40:39 <ivanm> FliPPeh_: the actual FFI extension to the report? *shrug*
18:40:40 <FliPPeh_> Nope
18:40:43 <FliPPeh_> Not struct
18:40:45 <ivanm> kmc: not struts I don't think
18:40:49 <kmc> FliPPeh_, it wants a struct by value or by pointer?
18:40:50 <ivanm> *structs
18:40:56 <FliPPeh_> Erm
18:41:00 <aavogt> you know Storable?
18:41:05 <FliPPeh_> I have no idea right now, elet me check the manpage
18:41:06 <Mathnerd314> kmc: why does lambdabot @src lie?
18:41:14 <kmc> Mathnerd314, for didactic purposes
18:41:20 <kmc> it's just a text file database
18:41:23 <kmc> totally independent from anything else
18:41:31 <aavogt> @src flip
18:41:31 <lambdabot> flip f x y = f y x
18:41:46 <FliPPeh_> Pointers
18:41:53 <Mathnerd314> @src return
18:41:53 <lambdabot> Source not found. Maybe if you used more than just two fingers...
18:42:02 <kmc> FliPPeh_, it's very rare to pass or return a C struct by value
18:42:04 <kmc> yeah okay
18:42:10 <c_wraith> @src [] return
18:42:10 <lambdabot> return x    = [x]
18:42:11 <ivanm> Mathnerd314: it's the definitions in the report IIRC; so it's not complete and not fully accurate with what ghc actually uses
18:42:16 <kmc> so, you can try to replicate the memory layout of that struct with Storable
18:42:19 <FliPPeh_> Basically, I give it a pointer, and it will fill out that pointer's fields
18:42:21 <ivanm> @src Identity return
18:42:21 <kmc> and poke stuff into it
18:42:21 <lambdabot> return a = Identity a
18:42:35 <c_wraith> @src IO return
18:42:35 <lambdabot> return x    = returnIO x
18:42:37 <kmc> but that's a little brittle -- it depends on you knowing how your platform's C compiler will translate that struct, with alignment/padding etc
18:42:49 <FliPPeh_> Hmm
18:42:59 <aavogt> doesn't hsc2hs automate that?
18:42:59 <kmc> FliPPeh_, read the hsc2hs documentation
18:43:10 <kmc> it will generate getter / setter functions for you
18:44:00 <pastorn> FliPPeh_: http://haskell.org/ghc/docs/latest/html/libraries/base-4.2.0.0/Foreign-Storable.html
18:44:03 <pastorn> that might help
18:44:43 <FliPPeh_> I'll see which one helps me the most :)
18:44:54 <kmc> you should know Storable too
18:45:01 * FliPPeh_ is attempting to write an haskell interface to the Arch Linux package management
18:45:12 <orlandu63> @src foldl
18:45:13 <lambdabot> foldl f z []     = z
18:45:13 <lambdabot> foldl f z (x:xs) = foldl f (f z x) xs
18:45:16 <kmc> but it's a bad idea to use it alone to guess the in-memory layout of a struct
18:45:30 <pastorn> orlandu63: as a said, /query
18:45:42 <FliPPeh_> Mhh, no manpage on hsc2hs
18:45:49 <kmc> http://www.haskell.org/ghc/docs/latest/html/users_guide/hsc2hs.html
18:45:53 <pastorn> because i'm guessing you'll be doing lots of lambdabot source querying :)
18:46:06 <orlandu63> pastorn: i am unfamiliar with that irc command
18:46:10 <FliPPeh_> :)
18:46:16 <aavogt> FliPPeh_: more than what dons has already done?
18:46:16 <kmc> say: /msg lambdabot @src foldl
18:46:29 <orlandu63> oh
18:46:39 <aavogt> it isn't clear to me if there's any FFI in there
18:46:40 <FliPPeh_> aavogt: I had a peek at dons' library, but it does not seem to actually read system installed packages
18:46:46 <FliPPeh_> More like an AUR interface
18:46:49 <FliPPeh_> No FFI
18:46:50 <orlandu63> this is going to be fun :)
18:46:55 <pastorn> orlandu63: /query opens a private chat with you and another user, instead of having to wait until someone replies to your /msg it gives you the chat window straight away
18:47:03 <ivanm> FliPPeh_: what are you wanting to do?
18:47:07 <kmc> pastorn, isn't that client-dependent?
18:47:09 <aavogt> right, so to make a binding to libalpm
18:47:09 <orlandu63> pastorn: i see
18:47:18 <FliPPeh_> ivanm: Haskell interface to ALPM, Arch Linux Package Manager
18:47:33 <pastorn> kmc: nah, not really....
18:47:34 <FliPPeh_> As an FFI introduction for myself
18:47:39 <ivanm> I thought the package manager was pacman...
18:47:41 <orlandu63> what's this about: foldl1 _ []     = undefined
18:47:49 <pastorn> kmc: i have yet to see any useable client that doesn't support it
18:47:56 <kmc> orlandu63, foldl1 only works on a list of at least one element
18:48:00 <FliPPeh_> ivanm: Pacman is the frontend, alpm is the library it uses
18:48:03 <kmc> so it will give an error if you give it []
18:48:09 <kmc> probably the actual library has a more helpful error message
18:48:10 <FliPPeh_> ivanm: It has been split at some time
18:48:34 <ivanm> FliPPeh_: aha
18:48:36 <orlandu63> kmc: ah yes, yes it  does
18:48:54 <FliPPeh_> My screen is getting too small
18:48:55 <ivanm> > foldl1 (+) []
18:48:56 <lambdabot>   * Exception: Prelude.foldl1: empty list
18:49:06 <ivanm> kmc: ^^ slightly more useful ;-)
18:49:09 <FliPPeh_> Having Family Guy, IRC, VIM, GHCI and Firefox open at once is a pain
18:49:20 <kmc> family guy?
18:49:21 <kmc> really?
18:49:35 <FliPPeh_> Sure!
18:50:01 <ivanm> FliPPeh_: IRC is a program? :p
18:50:11 <FliPPeh_> In my world it is
18:50:15 <FliPPeh_> As is Family Guy
18:50:24 <kmc> family guy is a program
18:50:26 <kmc> a television program
18:50:36 <kmc> for idiots and stoners
18:50:37 <pastorn> FliPPeh_: get two!
18:50:56 <FliPPeh_> pastorn: Two screens?
18:51:06 <pastorn> FliPPeh_: i use 2 1600x1200 SUN CRTs
18:51:10 <pastorn> it's FRIGGIN AWESOME
18:51:13 <FliPPeh_> I actually have a spare monitor here, but it's 15 inches, while this one is 22 inches
18:51:19 <FliPPeh_> Would look akward.
18:51:24 <pastorn> FliPPeh_: easy then!
18:51:40 <pastorn> irc + family guy on the small one
18:51:44 <pastorn> work on the big :)
18:51:58 <FliPPeh_> I think I'll do that tomorrow
18:52:04 <FliPPeh_> More like, later this day, it's 3:50 AM.
18:52:32 <pastorn> FliPPeh_: "it's never too late" :D
18:52:44 <FliPPeh_> I'd need a DVI-VGA adapter too
18:52:53 <pastorn> those are cheap
18:53:06 <FliPPeh_> But not that available at THREE FIFTY AM!
18:53:11 <kmc> port adapters are
18:53:11 <FliPPeh_> But hey, I have some here :D
18:53:15 <kmc> signal adapters are not ;P
18:53:31 <FliPPeh_> But I'm scared of making it work with X :(
18:54:14 <pastorn> FliPPeh_: other than Foreign.Storable there's Foreign.Utils
18:54:18 <pastorn> which i think might help
18:54:22 <pastorn> sorry
18:54:25 <pastorn> Foreign.Marshal.Utils
18:54:31 * Mathnerd314 realizes what he wants: automatic ADT constructor inference
18:56:22 <kmc> Mathnerd314, sounds dubious
18:56:59 <pastorn> Mathnerd314: template haskell
18:57:21 <FliPPeh_> Why does including header files always fail here?
18:57:37 <FliPPeh_> It always wants to include /gnu/stubs-32.h
18:57:41 <FliPPeh_> Which I don't have
18:58:00 <Mathnerd314> well, I'd need "empty" type constructors, e.g. Maybe a = a | Nothing
18:58:47 <kmc> yeah, that will break everything
18:59:15 <pastorn> Mathnerd314: what do you want to generate it from?
18:59:22 <aavogt> this already exists with undefined having any type?
18:59:25 <kmc> Mathnerd314, http://qconlondon.com/london-2009/presentation/Null+References:+The+Billion+Dollar+Mistake
19:00:15 <Mathnerd314> I expect the types of everything to stay the same
19:01:07 <Mathnerd314> so you can still tell whether something is nullable by seeing if it has Maybe in the type
19:01:46 <pastorn> Mathnerd314: sounds like you want a typeclass
19:01:51 <pastorn> or rather; there is one
19:01:53 <pastorn> Monoid
19:02:19 <pastorn> class Monoid a where
19:02:20 <pastorn>   mempty :: a
19:02:22 <pastorn>   mappend :: a -> a -> a
19:02:29 <pastorn> mempty is your 'Null' thingy
19:03:38 <Mathnerd314> no, this is all about syntax
19:04:02 <pastorn> what are you even talking about... make a paste with examples and expected results
19:04:25 <kmc> syntax needs to give the compiler the necessary information to do what it needs to do
19:04:37 <kmc> otherwise, i have a proposal to replace all syntax with the word "foo" which stands for any correct program
19:04:51 <FliPPeh_> pastorn: Thanks for giving me ideas, now I'm sitting under the table, wiring my old monitor
19:04:57 <FliPPeh_> SOMETHING'S GONNA BREAK
19:05:11 <pastorn> FliPPeh_: hehe
19:05:11 <kmc> don't die
19:05:17 <FliPPeh_> I never die
19:05:18 <pastorn> FliPPeh_: yeah... don't
19:05:21 <pastorn> i'll be liable
19:05:21 <FliPPeh_> I'm awesome
19:06:06 <kmc> "i promise you i will never die"
19:10:11 <Cale> http://www.youtube.com/watch?v=QFdDPzcZwbs&feature=related -- this symposium on memristors and memristive devices is really interesting.
19:10:53 <FliPPeh_> Hm
19:10:57 <FliPPeh_> Now to configuring it...
19:11:13 <pastorn> FliPPeh_: windows?
19:11:22 <FliPPeh_> pastorn: Linux :)
19:11:26 <FliPPeh_> I've got it working halfway
19:11:26 <pastorn> oh, cool
19:11:34 <pastorn> what gfx card?
19:11:39 <FliPPeh_> It's standing physically left to the main monitor, but registers as the right one
19:11:47 <FliPPeh_> nVidia GeForce 9800 GTX
19:11:51 <pastorn> FliPPeh_: swap the cables :)
19:11:58 <pastorn> oh, you've got nvidia
19:12:00 <pastorn> that's cheating
19:12:04 <FliPPeh_> Hax I call
19:12:18 <pastorn> their tools are a bit too awesome to be true
19:12:38 <FliPPeh_> nvidia-settings DOES help a great deal
19:13:58 <FliPPeh_> Ah, I'll just move that screen to the right
19:14:18 <Mathnerd314> pastorn: http://hpaste.org/fastcgi/hpaste.fcgi/view?id=24511#a24511
19:15:41 <FliPPeh_> Kind of awesome actually
19:16:04 <FliPPeh_> Had to unplug my lamp, but it was worth it
19:16:43 <pastorn> Mathnerd314: how is that valid haskell?
19:16:52 <pastorn> Mathnerd314: you *need* a constructor
19:16:57 <pastorn> no way around it
19:17:19 <Mathnerd314> I'm proposing to create nameless type-inferred constructors
19:18:04 <Cale> It's really cute, you can wire up a bunch of memristors in a structure that looks reminiscent of core memory, with perpendicular arrays of indexing lines, and aside from being a memory, they can also do negation and implication by driving the lines appropriately, which are computationally complete.
19:18:11 <pastorn> FliPPeh_: i'm great, i know :D
19:18:50 <Cale> I really like the idea of a computer which is fundamentally based on implicational logic :)
19:18:58 <BMeph> Mathnerd314: Have you considered that your proposed syntax makes the inference engine useless? :|
19:19:12 <ivanm> Mathnerd314: I think that's a stupid idea
19:19:28 <ivanm> since there's no way for type checking to infer which nameless type-inferred constructor you want...
19:19:46 <bremner> use sekrit unicode spaces
19:19:52 <ivanm> heh
19:20:19 <tensorpudding> If you had Either Int Int, how would you determine which of the definitions of either referred to which Int?
19:20:53 <Nereid_> pattern match on Left and Right
19:21:16 <Cale> It's also really cool to imagine a computer which uses the very same devices for both memory and computation.
19:21:26 <tensorpudding> Nereid_: thanks, but I was referring to Mathnerd314's proposed constructorless datatypes
19:21:29 <Nereid_> oh
19:21:30 <Nereid_> sorry
19:21:39 <Nereid_> :-)
19:21:51 <MisterN> Cale: you mean like all computers?
19:21:55 <Cale> So you can take an arbitrary line of memory and just decide that it's going to be used as a processor for a while.
19:22:10 <Mathnerd314> tensorpudding: ummm... give up with an error of "ambiguous inferred function"?
19:22:13 <MisterN> oh you mean as an actual processor, not just for holding code
19:22:14 <Cale> MisterN: I mean quite unlike most computers we have today.
19:22:32 <MisterN> Cale: why do you think that would be a reasonable design?
19:22:33 <Nereid_> Cale: quantum computer?
19:22:40 <Cale> Memristive computer
19:23:08 <kmc> Mathnerd314, in general, the proposals to make more things implicit have one big flaw: they let more errors get past the typechecker
19:23:10 <Cale> I've been watching this http://www.youtube.com/watch?v=QFdDPzcZwbs&feature=related symposium on memristors and memristive systems.
19:23:11 <edwardk> @hpaste
19:23:11 <lambdabot> Haskell pastebin: http://moonpatio.com/fastcgi/hpaste.fcgi/
19:23:38 <kmc> this is already a problem with typeclasses and heavily overloaded operators
19:23:39 <ivanm> kmc: agreed: I quite like Haskell's usual emphasis of explicit over implicit
19:23:53 <ivanm> state what you mean rather than some wishy-washy guess work
19:24:04 <kmc> yes
19:24:26 <edwardk> http://moonpatio.com/fastcgi/hpaste.fcgi/view?id=9069#a9069 =)
19:24:32 <kmc> "do what i mean" languages like Perl add more rules to second-guess the programmer, and then the programmer has to second-guess the language
19:24:39 <kmc> but i do like that types are inferred
19:24:45 <edwardk> locale support seems to work
19:24:45 <Cale> and that's essentially what the third talk in the series proposes -- they've discovered that memristors wired up into a grid can do computation, on top of being memory
19:25:08 <kmc> i guess what i want is that a wrong expression which is close to a correct one should not usually typecheck
19:25:14 <tensorpudding> kmc: wouldn't that be third-guessing at that point?
19:25:18 <kmc> tensorpudding, at least ;P
19:25:30 <Mathnerd314> well, my example fails in current GHC with "cannot construct the infinite type a = Maybe a"
19:25:37 <Mathnerd314> so the info is there
19:26:00 <DrSyzygy> Btw. Does anyone sit on a 16-core server we could test some parallell haskell on?
19:26:01 <ivanm> the "info"?
19:26:15 <edwardk> now i just need a locale available other than lolcat ;)
19:26:20 <ivanm> DrSyzygy: maybe ask TacticalGrace if he has access to such machines...
19:26:25 <Mathnerd314> ivanm: the fact that one needs to use an implicit constructor
19:26:38 <ivanm> edwardk: there's an actual lolcat locale? :o
19:26:59 <edwardk> ivanm: i defined it using en@lolcat
19:27:00 <Cale> It's also rather nice that the state of the system is encoded with the memristance, and so is non-volatile -- you only need to drive it with power to read and write the state of the system.
19:27:03 <kmc> Mathnerd314, if x = 3 :: Int, does (show x) produce "3" or "Just 3"?
19:27:04 <ivanm> Mathnerd314: no, that error doesn't mean that
19:27:12 <edwardk> ivanm: machine generated translation though, so your mileage may vary ;)
19:27:22 <ivanm> edwardk: *groan*
19:27:32 <ivanm> edwardk: compare en to en_GB or something?
19:27:40 <ivanm> or else non-english languages
19:27:42 <kmc> Mathnerd314, every time we compose two functions (f . g) we need to decide if an implicit Just goes between them, if it would be compatible with the type of f
19:28:16 <edwardk> well, i have the baked in translation for en_US, en@lolcat is done via .po file, you can load others into the data dir the same way
19:28:16 <tensorpudding> @hoogle (Read b) => a -> Maybe b
19:28:17 <lambdabot> Prelude Just :: a -> Maybe a
19:28:17 <lambdabot> Data.Maybe Just :: a -> Maybe a
19:28:17 <lambdabot> Unsafe.Coerce unsafeCoerce :: a -> b
19:28:33 <Mathnerd314> the formula is "try to do it normally, then insert constructors"
19:28:52 <ivanm> Mathnerd314: yup, that still sounds like a bad idea
19:28:53 <kmc> Mathnerd314, sounds ad-hoc
19:28:54 <Tim__> can anyone give me a hand figuring out how to write a prime number finder in haskell? im new to the language, and i have some experience in java
19:28:56 <ivanm> and more work for the compiler
19:28:56 <edwardk> if you really wanted you could try to distinguish en_US@lolcat and en_GB@lolcat, but all cats sound the same to me
19:29:04 <c_wraith> > primes
19:29:05 <lambdabot>   Not in scope: `primes'
19:29:06 <kmc> Mathnerd314, what if there are two different places a ctor could be inserted? how do you choose?
19:29:07 <tensorpudding> @hoogle (Read a) => String -> Maybe a
19:29:08 <lambdabot> Network.CGI.Protocol maybeRead :: Read a => String -> Maybe a
19:29:08 <lambdabot> Network.CGI readCookie :: (Read a, MonadCGI m) => String -> m (Maybe a)
19:29:08 <lambdabot> Network.CGI readInput :: (Read a, MonadCGI m) => String -> m (Maybe a)
19:29:10 <ivanm> Tim__: how would you do it in Java?
19:29:20 <ivanm> and is there any specific reason why you can't use an already defined one?
19:29:21 <kmc> ivanm, write 3 pages of boilerplate
19:29:24 <Tim__> i would use some for loops
19:29:27 <kmc> i'm guessing it's an exercise
19:29:27 <tensorpudding> Hmm, maybeRead, but it's in some CGI library, annoying
19:29:32 <ivanm> kmc: heh
19:29:35 <Mathnerd314> kmc: I don't think it matters for monads...
19:29:35 <kmc> the idiomatic way to write primes in Haskell is not very much like in Java
19:29:40 <kmc> Mathnerd314, what?
19:29:46 <ivanm> kmc: ssshhh!!! I'm waitning for Tim__ to admit that it's homework! :p
19:29:50 <ivanm> Tim__: not the specifics, the algorithm
19:30:11 <edwardk> ivanm: if i get bored i may add an en@pirate ;)
19:30:31 <ivanm> *groan*
19:30:34 <Cale> Tim__: Well, which algotithm would you like to use? My favourite way to get a list of all primes is by mutual recursion: define a list of primes starting with 2, and whose tail is the odd numbers that satisfy an isPrime function, and then use the list of primes you've defined to define the isPrime function by checking divisibility with primes less than the square root of the number
19:30:35 <ivanm> edwardk: what is this for?
19:30:38 <kmc> Tim__, it's your business whether you're doing homework or not. ;P http://www.haskell.org/haskellwiki/Prime_numbers
19:30:39 <edwardk> but i figured it was a viable way to test the translation framework
19:30:43 <Tim__> quite honestly, i'm not sure. ive always struggled with this algorithm. and no, it is not homework. it is purely out of personal interest. if it was homework i would be asking java questions somewhere else
19:31:00 <tensorpudding> You can look for primes in the dirt, but I suggest sieving it
19:31:00 <ivanm> Tim__: hang on, you're asking Java questions here? >_>
19:31:01 <Mathnerd314> kmc: I'm probably misunderstanding how one would get an ambiguous ctor
19:31:11 <Tim__> no, im asking haskell questions
19:31:20 <Cale> Tim__: So... let's see how we'd write that in Haskell: the list of primes is easy:  primes = 2 : filter isPrime [3,5..]
19:31:20 <edwardk> ivanm: my pet compiler. i had localized diagnostics, but not localized help, so i figured out how to load the help via gettext appropriately, but wanted to make sure it worked
19:31:23 <kmc> Mathnerd314, why did monads come up?
19:31:26 <roconnor> Tim__: http://r6.ca/blog/20081116T213644Z.html
19:31:32 <tensorpudding> Do you know any primality tests, Tim__?
19:31:38 <edwardk> ivanm: so i needed a translation i could generate easily...
19:31:52 <Mathnerd314> kmc: because haskell seems obsessed with monads...
19:31:52 <ivanm> heh
19:31:54 <Tim__> nope.  prime numbers have been the bane of me since i started coding
19:32:00 <ivanm> Mathnerd314: we're not
19:32:04 <kmc> Mathnerd314, ?
19:32:12 <Mathnerd314> never mind.
19:32:12 <kmc> Mathnerd314, what does that have to do with the current problem?
19:32:22 <kmc> Mathnerd314, also, it's the people who don't know haskell who are obsessed with monads
19:32:22 <Cale> Tim__: and then what should  isPrime n  be? Well, we'll take primes p from the list of primes while p*p <= n
19:32:26 <Mathnerd314> I don't think it does have anything to do.
19:32:30 <ivanm> Mathnerd314: learn to use Haskell, don't go around trying to twist it into some weird language that you think is better before you even know how to use it properly
19:32:34 <Cale> Tim__: and then check that none of those divide n
19:32:34 <kmc> Mathnerd314, then why did you mention it? i am still totally confused
19:32:46 <Mathnerd314> ummm... I'm more confused?
19:32:48 <Cale> That is, for each p, we should have n `mod` p /= 0
19:32:49 <edwardk> ivanm: the main problem remaining is that the flags for help, version, verbose and 'quiet' don't localize ;)
19:32:55 <Tim__> yup
19:33:01 <kmc> whatever
19:33:07 <Cale> okay
19:33:11 <Cale> so...
19:33:16 <Tim__> so would i just recursively increase n?
19:33:25 <kmc> Mathnerd314, s'pose you have a function (like show) that's overloaded to work on both (Maybe Int) and (Either Char Int)
19:33:27 <kmc> and i pass it just an Int
19:33:33 <kmc> does it get an implicit Just or an implicit Right?
19:33:34 <Cale> isPrime n = all (\p -> n `mod` p /= 0) (takeWhile (\p -> p*p <= n) primes)
19:33:57 <Mathnerd314> kmc: isn't it also overloaded to work on Int?
19:34:01 <kmc> Mathnerd314, say it isn't
19:34:02 <Tim__> ah okay.
19:34:08 <Tim__> thanks a lot Cale
19:34:12 <Cale> and although this seems quite circular: defining primes in terms of isPrime, and isPrime in terms of primes, that actually works
19:34:25 <ivanm> laziness++ !
19:34:26 <Cale> Because we give it 2 as a prime to start off with
19:34:39 <Cale> and it can discover more as it needs from there
19:34:42 <ivanm> > let fibs = 1 : 1 : zipWith fibs (tail fibs) in fibs
19:34:43 <lambdabot>   Couldn't match expected type `[a]'
19:34:43 <lambdabot>         against inferred type `a -> b ->...
19:34:52 <ivanm> > let fibs = 1 : 1 : zipWith (+) fibs (tail fibs) in fibs
19:34:53 <lambdabot>   [1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,1...
19:34:54 <ivanm> that helps...
19:35:08 <ivanm> Tim__: ^^ like how fibs is recursively defined on itself
19:35:15 <Cale> This isn't a *great* way to get the list of primes / isPrime, but it's reasonably fast given its simplicity
19:35:25 <kmc> > fix ((0:) . scanl (+) 1)
19:35:26 <lambdabot>   [0,1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946...
19:35:41 <Tim__> yeah i've done the fobonacci sequence
19:35:54 <Tim__> fibonacci*
19:35:59 <Cale> > let primes = 2 : filter isPrime [3,5..]; isPrime n = all (\p -> n `mod` p /= 0) . takeWhile (\p -> p*p <= n) $ primes in primes
19:36:00 <lambdabot>   [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101...
19:37:04 <Tim__> okay, thanks a lot for you help. i'll be back if i need anything else
19:37:22 <kmc> :)
19:37:51 <tensorpudding> There is a really short one-liner for a pseudo-SoE
19:38:35 <BMeph> tensorpudding: And by "pseudo-SoE," do you "really" mean a naive sieve? ;)
19:38:43 <tensorpudding> > let sieve (p : xs) = p : sieve [x | x <- xs, x ‘mod‘ p > 0] in sieve [1..]
19:38:44 <lambdabot>   <no location info>: lexical error at character '\8216'
19:38:50 <tensorpudding> Damn copy-paste
19:38:58 <tensorpudding> > let sieve (p : xs) = p : sieve [x | x <- xs, x `mod` p > 0] in sieve [1..]
19:39:02 <lambdabot>   mueval-core: Time limit exceeded
19:39:11 <tensorpudding> > let sieve (p : xs) = p : sieve [x | x <- xs, x `mod` p > 0] in sieve [2..]
19:39:12 <lambdabot>   [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101...
19:39:17 <tensorpudding> there
19:39:17 <BMeph> Start from 2 <cough>
19:39:27 <kmc> yes i like that one a lot
19:39:43 <tensorpudding> It's horribly inefficient though.
19:39:57 <BMeph> I still prefer the gcd one, just 'cause it wraps up so tidily. :)
19:40:06 <kmc> which?
19:40:29 <Mathnerd314> kmc: isn't the same problem already there with other type class functions?
19:42:37 <FliPPeh_> Hm
19:42:39 <kmc> Mathnerd314, yeah, i said so earlier
19:42:42 <FliPPeh_> Just need to adjust conky
19:42:43 <FliPPeh_> :)
19:43:01 <kmc> Mathnerd314, i'm not convinced it'd be valuable to add another form of overloading in this way
19:43:13 <BMeph> kmc: "nubBy (((>1).).gcd) [2..]"
19:43:13 <kmc> if you want to make Int and Maybe Int fungible in your own library, you can already do it with typeclasses
19:43:16 <kmc> :O
19:43:16 <BMeph> > nubBy (((>1).).gcd) [2..]
19:43:18 <lambdabot>   [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101...
19:43:25 <kmc> that's fantastic
19:43:35 <FliPPeh_> Hm
19:43:42 <FliPPeh_> How'd I set different backgrounds for different monitors?
19:53:36 <Lemonator> how do I get cabal in debian?
19:54:19 <ivanm> Cabal or cabal-install?
19:54:22 <ivanm> Cabal comes with GHC...
19:54:42 <Lemonator> if it does, I don't see it.
19:54:56 <ivanm> Lemonator: "ghc-pkg list Cabal"
19:55:04 <ivanm> for cabal-install, see http://packages.debian.org/sid/cabal-install
19:55:05 <Nereid_> but if you want the program called "cabal" you need the cabal-install package
19:55:27 <ivanm> Lemonator: http://ivanmiljenovic.wordpress.com/2010/03/15/repeat-after-me-cabal-is-not-a-package-manager/
19:55:32 <ivanm> see the first sub-section
19:57:33 <tensorpudding> That name looks familiar... :P
20:03:04 <ivanm> tensorpudding: well, yes; I in part wrote that blog post to have to avoid explaining things over and over again (which I believe I state in the first paragraph...)
20:04:35 <tensorpudding> I know, I was being silly, because it's obvious that that is you from the name
20:05:07 <ivanm> the `m' in my nick might _not_ be short for Miljenovic... >_>
20:09:24 * benmachine marks about 100 haskell-cafe threads read :x
20:09:42 <ivanm> let me guess: all of Gunther's ones? :p
20:09:45 <uorygl> Bah, cabal errors: http://pastebin.com/m3qPqmTx
20:10:08 <benmachine> no they were fun
20:10:19 <benmachine> (at his expense)
20:10:34 <ezyang> uorygl: Ooh, those look like very unfun errors.
20:10:41 <ivanm> agreed :s
20:11:30 <uorygl> These errors are also quite vague.
20:11:37 <uorygl> "exit: ExitFailure 1" is not very helpful.
20:11:56 * dankna looks at haskell-cafe now
20:12:03 * uorygl upgrades cabal.
20:12:16 <dankna> hoo boy...
20:12:21 <uorygl> Oh, come on.  Upgrading cabal gives an error.
20:12:25 <uorygl> It's a simpler error!
20:13:38 <uorygl> http://pastebin.com/JX7yfV64
20:13:38 <ivanm> why, what version of cabal did you have?
20:13:38 <Jonno_FTW> is there a release date on the new Haskell Platform for windows?
20:13:38 <ivanm> Jonno_FTW: there's a second beta out
20:13:38 <ivanm> it will be released when the bugs are fixed!
20:13:38 <Jonno_FTW> i think i'll wait
20:13:38 <uorygl> ivanm: 0.6.2.
20:13:42 <Jonno_FTW> i still coulnd't get Yi to work
20:13:59 <Jonno_FTW> even on debian when it said it was installed
20:14:02 <ivanm> uorygl: wow, that's a prehistoric version...
20:14:07 <SamB_XP> Jonno_FTW: did you used to go by a different name ?
20:14:09 <ivanm> seeing as how we've got 1.8 out now...
20:14:11 <nolrai_FG> Okay I want a one-to-one fuction from strings to strings consiting only of charaters from [a-zA-Z0-9] It does not have to be easy to reverse. or quick.
20:14:15 <nolrai_FG> Ideas?
20:14:23 <ivanm> nolrai_FG: huh?
20:14:25 <uorygl> ivanm: let me be more precise.
20:14:31 <Jonno_FTW> SamB_XP, i am also Heartless
20:14:32 <uorygl> cabal-install version 0.6.2
20:14:32 <uorygl> using version 1.6.0.3 of the Cabal library
20:14:36 <ivanm> :D
20:14:42 <tensorpudding> 1.6.0.3 sounds old.
20:14:42 <ivanm> cabal /= cabal-install
20:14:47 <uorygl> Indeed.
20:14:57 <ivanm> tensorpudding: 6.10.4 IIRC
20:15:02 <uorygl> Should I also "cabal install cabal" while I'm at it?  :P
20:15:10 <SamB_XP> ivanm: the cabal(1)/Distribution.Cabal distinction is a bit unfortunate :-(
20:15:28 <ivanm> what's the (1) there for?
20:15:34 <SamB_XP> manpage
20:15:42 <SamB_XP> or at least, manpage section
20:15:43 <ivanm> there's a manpage for cabal-install? :o
20:15:50 <SamB_XP> that's not the point!
20:15:52 <ivanm> SamB_XP: and yes, I agree!
20:16:01 <SamB_XP> if there is, it's in that section, is my point
20:16:14 <tensorpudding> Cabal 1.8.0.2 is in GHC 6.12, is why I thought so.
20:16:18 <SamB_XP> I was referring to "that thing that ordinary users call from the commandline by the name 'cabal'"
20:16:19 <uorygl> I wonder if I should just reinstall over my current installation.
20:16:25 <ivanm> Cabal-2 might be split into Cabal-lib, Cabal-core, Cabal (which is currently called cabal-install), etc.
20:16:29 <ivanm> which would avoid this problem
20:16:49 <ivanm> tensorpudding: yes, but depending on where people get their packages from... *shrug*
20:17:22 <uorygl> If Cabal is installed, can I install Cabal anyway?
20:17:28 <ivanm> yes
20:17:34 <ivanm> as long as you don't uninstall the old one
20:17:51 <tensorpudding> 6.12 is not worth it.
20:17:52 <ivanm> bad things happen when you take away one of the libraries that come with GHC
20:17:56 <SamB_XP> yeah, GHC apparantly dislikes that
20:17:59 <ivanm> tensorpudding: in what sense?
20:18:01 <uorygl> That "sudo port install haskell-platform" thing is looking tempting.
20:18:17 <tensorpudding> Some packages don't work yet.
20:18:26 * uorygl shuns it.
20:18:34 * benmachine uses 6.12
20:18:38 <tensorpudding> Lovely piles of warnings when compiling.
20:18:38 <ivanm> tensorpudding: there is no real reason nowadays not to use 6.12 unless you need gtk2hs support and dont' want to build the HEAD version
20:18:45 <ivanm> true
20:18:49 <benmachine> the warnings are a bit stupid
20:19:00 <tensorpudding> Admittedly, the warnings are there for good reason.
20:19:04 <ivanm> I _hate_ the "_ <-" warning
20:19:09 <benmachine> everyone does
20:19:16 <ivanm> I don't see a reason for it
20:19:19 <benmachine> tensorpudding: except for the do-binds one
20:19:27 <SamB_XP> warning you against or suggesting you do ?
20:19:29 <benmachine> ivanm: yeah, it seems pretty inane
20:19:34 <tensorpudding> I saw the do-binds one but I'm not sure what it was really complaining about.
20:19:39 <benmachine> SamB_XP: warning against ignoring return values
20:19:42 <kmc> i like the warning that the result value is unused
20:19:44 <ivanm> since to fix it you either have to disable the warning or else write two versions of your functions: one that does the normal thing and another that returns ()
20:19:46 <kmc> that's a standard C warning too
20:19:48 <benmachine> suggesting you do _ <- to ignore them
20:19:49 <idnar> SamB_XP: suggesting you do
20:19:51 <ivanm> since doing _ <- everywhere is fugly
20:19:54 <benmachine> kmc: yeah it's crap there too
20:19:57 <kmc> or fooo >> return ()
20:20:17 <kmc> or perhaps : ignore = (>> return ())
20:20:20 <kmc> ignore $ foo
20:20:27 <FliPPeh_> Whooo
20:20:29 <ivanm> kmc: there's actually a function that does this already IIRC
20:20:29 <benmachine> kmc: I was compiling some parsec code recently that whined because I ignored the result of char 'c'
20:20:36 <ivanm> @hoogle (Monad m) => m a -> m ()
20:20:36 <tensorpudding> Why do you need to do the (>> return ())?
20:20:37 <lambdabot> Control.Monad replicateM_ :: Monad m => Int -> m a -> m ()
20:20:37 <lambdabot> Control.Monad forever :: Monad m => m a -> m b
20:20:37 <lambdabot> Prelude sequence_ :: Monad m => [m a] -> m ()
20:20:38 <FliPPeh_> It's really strange
20:20:41 <kmc> benmachine, :(
20:20:43 <ivanm> tensorpudding: to stop the warning
20:20:46 <uorygl> Wait, so now doing "do blah", if blah returns something other than (), gives a warning?
20:20:49 <FliPPeh_> I've set up that second monitor, and my desk has more space than before
20:20:50 <kmc> that case is a bit silly
20:20:51 <tensorpudding> Which warning is that?
20:20:51 <pastorn> why does it warn me when i have "case .... _ -> whatever" for "overlapping instances"
20:20:52 <kmc> uorygl, yes
20:21:02 <uorygl> That is weird.
20:21:11 <benmachine> pastorn: because you already handle every case befor eyou get to _?
20:21:14 <ivanm> pastorn: because you do?
20:21:17 <tensorpudding> I thought the warning was that you were binding something in a <- and not using it.
20:21:18 <pastorn> yeah
20:21:28 <pastorn> but when developing new stuff it's annoying
20:21:35 <ivanm> tensorpudding: nope
20:21:41 <tensorpudding> Adding (>> return ()) makes the end type m () doesn't it?
20:21:53 <kmc> :t getChar >> return ()
20:21:54 <lambdabot> IO ()
20:21:54 <benmachine> tensorpudding: it should warn for that too
20:21:55 <SamB_XP> it would be kinda nice if it would realize "oh, wait, this last case is *supposed* to overlap -- it's a wildcard case!"
20:21:57 <ivanm> I _think_ it's for imperative programmers not to think that that value is being used even when you don't explicitly use it or something
20:22:07 <kmc> but IO *is* imperative programming ;)
20:22:09 <benmachine> SamB_XP: yeah but if you have two wildcard cases that's probably a bug
20:22:18 <SamB_XP> benmachine: that's true
20:22:20 <tensorpudding> It's not a good idea to bind things you aren't going to use.
20:22:38 <benmachine> tensorpudding: right, so you don't
20:22:39 <Cale> Hmm, it would have looked nicer on the Haskell Platform page if the designer had removed the existing shadow intended for a white background from the Windows logo before adding their own...
20:23:01 <tensorpudding> I'd appreciate a warning that said "hey, this 'foo <- bar' is never used, replace it with something else"
20:23:21 <lhames> ivanm: Sorry to drop out on you the other day. Dodgy graphics memory makes for a poor computing experience. I've signed up to AusHack - look forward to catching up with you there.
20:23:22 <lambdabot> lhames: You have 1 new message. '/msg lambdabot @messages' to read it.
20:23:25 <ivanm> tensorpudding: that maybe
20:23:32 <ivanm> lhames: \o/
20:23:36 <benmachine> tensorpudding: pretty sure you are warned about unused bindings
20:23:41 <kmc> tensorpudding, warning about unused 'foo' would be a different thing
20:23:43 <ivanm> lhames: where are you from again?
20:23:50 <tensorpudding> They do already warn you about them, I know.
20:23:58 <dankna> Cale: I agree, but...
20:23:59 <tensorpudding> Though I don't remember seeing it inside a do block.
20:24:02 <SamB_XP> benmachine: what, by the same overworked flag as all the OTHER unused variable warnings?
20:24:04 <lhames> ivanm: Sydney. Just down the road from UNSW.
20:24:09 <kmc> after sugar it's an unused lambda argument
20:24:11 <benmachine> SamB_XP: eeer, pass
20:24:12 <mjrosenb> hey, any recommendations for rendering a pdf?
20:24:17 <kmc> rendering to what?
20:24:17 <ivanm> right, so the commute for you is easy :p
20:24:21 <ivanm> mjrosenb: from what?
20:24:31 <ivanm> there's hpdf or something on hackage, but it's a  manipulation library IIRC
20:24:36 <lhames> ivanm: Yep. Should be a non-issue.
20:24:51 <lhames> Getting my Haskell up to scratch in time, on the other hand...
20:24:52 <benmachine> SamB_XP: the thing that recommends _ <- has a flag all to itself I think
20:25:02 <mjrosenb> ivanm: i would like to just generate it by drawing lines + text
20:25:17 <SamB_XP> mjrosenb: perhaps Cairo?
20:25:21 <mjrosenb> ivanm:  i am currently spitting out latex, then messing with that
20:25:27 <ivanm> mjrosenb: do you want to create a pdf file, or given a pdf file actually render it?
20:25:33 <SamB_XP> ivanm: create
20:25:35 <tensorpudding> You could write bindings to popplar or something.
20:25:37 <mjrosenb> SamB_XP: i tried to get hscairo to work, but she was an unwilling beast.
20:25:37 <ivanm> aha
20:25:37 <SamB_XP> it seems
20:25:50 <ivanm> use pandoc, spit out latex, turn that into pdf?
20:25:55 <tensorpudding> poppler*
20:26:02 <SamB_XP> ivanm: pandoc is not good for graphics, is it ?
20:26:17 <ivanm> oh, he wants to create pdf images
20:26:24 <mjrosenb> ivanm: i am spitting out latex currently, but i would like to do things that it is difficult to do.
20:26:31 * BMeph so wanted that " rendering to what?" question to be answered with "Tallow!" ;)
20:26:41 <SamB_XP> BMeph: hehehehe
20:26:44 <tensorpudding> Hmm, poppler is a Futurama reference, I never knew that.
20:26:46 <ivanm> BMeph: heh
20:27:05 <mjrosenb> tensorpudding: nor did i until i read the wikipedia article 5 minutes ago.
20:27:30 <tensorpudding> I thought it was a reference to the tree.
20:27:50 <SamB_XP> tensorpudding: as did I
20:27:57 <mjrosenb> yeah, for cutting down on the cutting down of trees or something similar
20:28:02 <SamB_XP> I expect most people still believe that
20:28:16 <tensorpudding> Except they are spelled differently.
20:28:36 <mjrosenb> tensorpudding: has that ever stopped a software engineer ever?
20:28:43 <SamB_XP> perhaps they assume that's for googleability ?
20:28:59 <tensorpudding> Where did the hacker trend of name puns come from?
20:29:18 <SamB_XP> shakespear
20:30:00 <mjrosenb> unix.
20:30:09 <tensorpudding> I was thinking so.
20:30:19 <mjrosenb> it is probably older
20:30:22 <tensorpudding> Since the Unics/Multics pun is the earliest one I can think of.
20:30:25 <SamB_XP> or maybe it's just that we are all horrible jokesters
20:30:27 <mjrosenb> but that is pretty damn old.
20:30:40 <SamB_XP> and always have been
20:38:09 <uorygl> So, where do I find GHC's module docs?
20:38:13 <uorygl> @docs Agda
20:38:13 <lambdabot> Agda not available
20:38:36 <uorygl> Presumably I also have a local copy.
20:39:00 <SamB_XP> uorygl: did you build the docs for agda, then ?
20:39:01 <ivanm> Agda doesn't come with GHC...
20:39:09 <uorygl> Indeed, but I installed Agda.
20:39:09 <ivanm> is Agda a library or an executable?
20:39:14 <uorygl> It's a library.
20:39:28 <kmc> also an executable
20:39:28 <uorygl> I didn't build their docs, unless cabal install does that automatically.
20:39:45 <SamB_XP> uorygl: not unless bidden to do so
20:39:51 <uorygl> Once I do build their docs, where do I find them?
20:39:54 <uorygl> And how do I build them?
20:40:23 <ivanm> uorygl: go to ~/.cabal/config and enable building docs
20:40:27 <ivanm> and then rebuild agda
20:40:48 <ivanm> the docs will be in ~/.cabal/share/doc/<packagename>-<packageversion>/html/index.htm
20:40:51 <ivanm> something like that anyway
20:41:16 <uorygl> Where do I enable that?
20:41:33 <ivanm> in ~/.cabal/config ...
20:41:54 <Tim__> hey all, im back with another question regarding primes... how would i go about finding prime factors?
20:42:10 <uorygl> Oh, there it is.
20:42:13 <ivanm> get the factors, filter out those that aren't prime
20:42:37 <Nereid> or get the primes, and filter out those that aren't factors
20:42:41 <uorygl> Uncomment the "documentation:" line and change it to True?
20:42:53 <ivanm> yes
20:43:07 <Tim__> so i could use the list of primes from before and use it to filter the factors of the number?
20:43:17 <ivanm> Tim__: in this case, having a list-based isPrime function is detrimental to performance ;-)
20:43:18 <kmc> sure
20:43:19 <Nereid> yes
20:43:30 <ivanm> you'd be better off having an independent isPrime function
20:43:39 <ivanm> (which would just check factors of a value)
20:43:41 <Tim__> hm?
20:43:44 <Tim__> ah
20:43:46 <Tim__> okay
20:43:56 <kmc> factors n = filter (\p -> (n `mod` p) == 0) primes
20:44:11 <ivanm> kmc: *cough* infnite list *cough*
20:44:11 <kmc> factors n = filter ((==0) . (n `mod`)) primes
20:44:17 <kmc> oh right
20:44:20 <kmc> yeah there's that
20:44:28 <ivanm> do a takeWhile first?
20:44:50 <ivanm> primeFactors n = filter ((==0) . (n `mod`)) $ takeWhile (< n) primes
20:44:53 <benmachine> kmc: also, if you're given 8 do you want [2] or [2,2,2]?
20:44:54 <uorygl> Just use unsafePerformIO to spawn a new thread that sleeps for 60 seconds and then tells the filter to stop.
20:44:54 <twink> factors n = filter (\p -> n `mod` p == 0) $ takeWhile (<= n) primes
20:44:57 <ivanm> that might work
20:45:08 <kmc> uorygl, haha
20:45:10 <ivanm> kmc: factors are normally unique
20:45:13 <benmachine> uorygl: that is decidedly perverse
20:45:15 <ivanm> i.e. just [2]
20:45:21 <ivanm> @slap uorygl
20:45:21 * lambdabot jabs uorygl with a C pointer
20:45:28 <benmachine> uorygl: go wash your compiler out with soap
20:45:33 <twink> I think it also helps to reduce via division.
20:45:36 <ivanm> s/kmc/benmachine/
20:45:45 <ivanm> twink: doing the square root trick?
20:45:48 <benmachine> ivanm: prime factors, though
20:45:54 <uorygl> Aiee!
20:46:02 <ivanm> benmachine: hmmm.... true
20:46:14 <benmachine> ivanm: the factors of 8 are [1,2,4,8] but the prime factors are [2,2,2] in my book
20:46:26 <twink> ivanm: There's that, but I was thinking of recursing on the quotient when a factor is found.
20:46:26 <ivanm> yeah, I didn't think about that; agreed
20:46:33 <ivanm> twink: yeah
20:46:41 <ivanm> in which case, using a list approach is bad
20:46:50 <benmachine> I have a five-liner for this
20:46:57 <benmachine> well
20:47:01 <benmachine> you still use a list of primes
20:47:19 <benmachine> (five-liner does not include prime generation... also this is kind of ugly I wrote it a while ago)
20:47:28 * uorygl ponders how easy it is to prove the fundamental theorem of arithmetic.
20:47:41 <ddarius> Very.
20:47:42 <Nereid> uorygl: it's a pretty straightforward induction
20:47:46 <Tim__> it'll be 10000000000x more elegant than anything i can write. just started haskell today
20:48:12 <uorygl> The term "fundamental theorem" is so cute.  "I have discovered... the FUNDAMENTAL THEOREM OF CALCULUS!"  But anyway.
20:48:26 <uorygl> Really?  It's that easy?  I was thinking it was a bit harder.
20:49:01 <DrSyzygy> uorygl: That's the unique prime factorization one, right?
20:49:05 <benmachine> it was in my first term of university maths
20:49:09 <Nereid> yes DrSyzygy
20:49:49 <uorygl> I skipped my first term of university maths, so I wouldn't know.  :P
20:49:50 <ddarius> uorygl: One does not discover "fundamental theorems"
20:49:52 <Nereid> existence: if n is prime, you're done; else you have a pair of factors that are smaller than n and you're done by induction
20:50:12 <Nereid> uniqueness is "similar"
20:51:04 <benmachine> "similar"
20:51:12 <uorygl> I'm pondering.  It seems that all primes are coprime to each other, and if something's a factor of something, and that latter something can be factored, and the factors are coprime, then that former something is a factor of one of the factors.
20:51:33 <uorygl> And I guess if something is coprime to this, and it's coprime to that, then it's coprime to the product of this and that.
20:51:40 <uorygl> Is that how it goes?
20:51:45 <Nereid> what's this and that
20:51:55 <SamB_XP> Nereid: dr suess reference
20:52:07 <benmachine> is it?
20:52:12 <uorygl> They're my other "something"s.
20:52:16 <kmc> (gcd n a = 1) /\ (gcd n b = 1) -> (gcd n (a*b) = 1) ?
20:52:23 <Gracenotes> common english referent reference
20:52:24 * SamB_XP kids ;-P
20:52:25 <benmachine> I just thought it was foo/bar but less geeky :P
20:52:39 <uorygl> I should have spoken in Lojban instead.
20:52:43 <SamB_XP> it COULDA been, though
20:52:56 <uorygl> "I guess if da is coprime to de, and da is coprime to di, then da is coprime to the product of de and di."
20:53:38 * benmachine decides to turn his five-liner into an eight-liner for no clear reason
20:53:42 <uorygl> "All primes are coprime to each other, and if da's a factor of de, and de can be factored into di, and di are coprime, then da is a factor of one of di."
20:53:54 <Nereid> ok, well uniqueness is a bit different I suppose, but if n = p_1 * ... * p_r = q_1 * ... * q_s are two prime factorizations, then p_1 divides some q_i and is thus equal to q_i, so you get two decomposiitons of n / p_1 = n / q_i which are unique and thus equal
20:53:59 <Nereid> by induction
20:54:13 <benmachine> ah, taht sounds familiar
20:54:43 <uorygl> Yeah, that sounds pretty similar to what I was thinking.
20:54:45 <Nereid> yeah
20:55:00 <uorygl> Why, precisely, must p_1 divide some q_i?
20:55:05 <Nereid> because p_1 is prime
20:55:13 <Nereid> if p is prime and p|ab, then p|a or p|b
20:55:18 <uorygl> ("Precisely": the way that you ask a question without implying that you don't already know the answer.)
20:55:31 <benmachine> heh
20:55:47 * Nereid stores this information for future use
20:55:58 <uorygl> "What, precisely, is your name?"
20:56:15 <uorygl> Nereid: well, that sounds true, but I'm not sure how to prove it.
20:56:23 <Nereid> uorygl: mmm
20:56:31 <benmachine> prove it using the FTA :P
20:56:56 <Nereid> well suppose p doesn't divide a, then gcd(p, a) = 1, so px + ay = 1 for some x, y
20:56:56 <ezyang> I kind of want to port criterion to other languages, but I don't know if A) how complicated it is and B) whether or not I know enough statistics to not bungle it all up.
20:57:01 <Nereid> multiply both sides by b
20:57:23 <Nereid> x, y integers
20:58:34 <Nereid> so bpx + bay = b, and p divides bpx and bay and thus divides b
20:59:03 <Nereid> I suppose the next question is why does gcd(p, a) = 1
20:59:54 <benmachine> because p doesn't have any divisors other than itself and 1
21:00:06 <benmachine> by definition
21:00:11 <Nereid> right
21:01:12 <Nereid> so if d>1 divides both p and a, then d = p so p divides a
21:02:14 <ddarius> The first approach to answer such questions is to go back to definitions (as Nereid did)
21:05:27 <Nereid> (more generally in ring theory, one says p is irreducible if it doesn't have a proper factorization, and p is prime if p|ab implies p|a or p|b, and the two are not equivalent in general)
21:06:32 <Nereid> (well, in each case p can't be a unit either)
21:06:35 <mjrosenb> <3 #haskell
21:06:49 <mjrosenb> "why doesn't this program typecheck?"
21:07:05 <mjrosenb> 5 hours of category theory later, op left 4 hours ago
21:07:08 <Jonno_FTW> "check the error messages"
21:07:09 <ivanm> heh
21:07:13 <Nereid> heh
21:07:31 <uorygl> Oi, the docs don't seem to exist.
21:07:47 <uorygl> In .cabal/share/doc/Agda-2.2.6, there is nothing called html.
21:07:48 <ivanm> @remember mjrosenb <3 #haskell; "why doesn't this program typecheck?" ;  5 hours of category theory later, op left 4 hours ago
21:07:49 <lambdabot> Done.
21:08:06 <ivanm> uorygl: what is there?
21:08:16 <ivanm> uorygl: you rebuild agda?
21:08:19 <ivanm> *rebuilt
21:08:22 <uorygl> I did rebuild Agda.
21:08:29 <uorygl> I mean, I cabal install --reinstall'd it.
21:08:38 <uorygl> There is only a file called LICENSE there.
21:08:50 <ivanm> check the documentation section of ~/.cabal/config again
21:09:22 <uorygl> "   documentation: True"
21:09:41 <ivanm> check elsewhere
21:09:57 * uorygl checks Facebook.
21:10:01 <uorygl> I have a notification.
21:10:05 <SamB_XP> lol
21:10:16 <uorygl> Should I uncomment these docdir lines?
21:10:19 <SamB_XP> did the Agda docs try to friend you ?
21:10:21 <ivanm> you do have haddock, dont' you?
21:10:57 <uorygl> Ah, all I needed to do was accept the friend request.
21:11:01 <uorygl> I don't know if I have Haddock.
21:11:27 <ivanm> which haddock
21:11:28 <ivanm> ;-)
21:11:40 <uorygl> /usr/bin/haddock
21:11:44 <SamB_XP> ivanm: why -- are you afraid he has 0.x ?
21:11:46 <ivanm> so yes, you have haddock
21:11:57 <uorygl> syntax error near unexpected token `;'
21:11:58 <uorygl> :P
21:12:01 <ivanm> SamB_XP: hmmm?
21:12:48 <SamB_XP> ivanm: the "doesn't link to GHC" version?
21:13:15 <ivanm> oh, way back then...
21:13:20 <dankna> nopaste your entire ~/.cabal/config
21:13:29 <ivanm> SamB_XP: I was trying to make my point across slightly more subtly ;-)
21:14:07 <SamB_XP> well, you asked which haddock, see!
21:14:15 <SamB_XP> and that's the only other haddock I know ;-P
21:14:33 <SamB_XP> except for the fish and the tintin character, of course
21:14:48 <uorygl> There's a Tintin character named Haddock?
21:15:07 <SamB_XP> captain haddock, yes
21:15:12 <uorygl> Huh.
21:15:30 <ivanm> SamB_XP: oh, now I get you
21:15:33 <SamB_XP> perhaps he's named differently in <insert your language here>
21:15:39 <ivanm> I thought you were referring to something I said earlier...
21:15:49 <ivanm> SamB_XP: I meant for uorygl to run the command "which haddock"
21:15:55 <uorygl> I would know about these things had I read more than... however much I read.
21:16:19 <uorygl> I think King Ottokar's Sceptre was the only one I read.
21:17:01 <SamB_XP> well, afaik he's in ALL of them, and PROBABLY referred to by name in all of them too ;-)
21:17:19 <ivanm> SamB_XP: he's not int he originals...
21:17:23 <ivanm> *in the
21:17:30 <uorygl> Oh?  What's he in?
21:17:34 <SamB_XP> ivanm: the what now ?
21:18:29 <SamB_XP> you mean they draw him in when translating ???
21:18:49 <ivanm> e.g. the one where he went to the soviet union
21:18:53 <ivanm> and Tintin in the Congo
21:19:01 <uorygl> Ah, he was introduced in the book after the book I read.
21:19:04 <ivanm> where he actually _is_ a reporter!
21:19:55 <ivanm> e.g. http://en.wikipedia.org/wiki/Tintin_in_the_Land_of_the_Soviets
21:20:07 <SamB_XP> huh
21:25:20 <pastorn> i'm doing a multi dimensional array thingy
21:25:30 <pastorn> :: Array (Int,Int) a
21:25:52 <ivanm> why not use Vector?
21:25:59 <pastorn> should the first Int be the "width" or the "height"?
21:26:23 <Nereid> standard notation for matrices puts the first one as number of rows, second as number of columns
21:26:29 <elliottt> pastorn, not sure it matters, as long as you're consistent :)
21:26:50 <Nereid> in other words, height
21:26:53 <pastorn> Nereid: thank you; elliottt: won't listen to you; ivanm: don't need any more imorts plz
21:27:24 <pastorn> this is for a nuubcake 3D programming tutorial :)
21:27:46 <ivanm> pastorn: you mean libraries? since it won't change the number of imports you need... >_>
21:27:54 <Gracenotes> so long as you don't end up getting the program working perfectly, but only because it's doubly inconsistent
21:28:01 <Gracenotes> that is a royal mess to clean up
21:28:06 <ivanm> also, elliottt is correct, though Nereid did state the correct standard usage of notation
21:28:28 <ivanm> IIRC, that's because of how C stores arrays, so that way each row is using contiguous memory
21:28:35 <ivanm> not sure how well that applies in Haskell however
21:28:45 <ivanm> Gracenotes: "doubly inconsistent"?
21:28:53 <SamB_XP> ivanm: I thoguht we wer talking MATH conventions
21:29:05 <SamB_XP> ivanm: you make the same mistake twice such that it cancels out
21:29:05 <ivanm> anyway, you might want to define row/col "getter/setter" functions to make sure you dont' get confused
21:29:12 <ivanm> oh, right
21:29:25 <ivanm> SamB_XP: ummm, yeah, you're right wrt conventions
21:29:54 <Gracenotes> (row, column) = (y, x)
21:30:04 <pastorn> #haskell; ask simple stuff -- get way too much response
21:30:12 <SamB_XP> oh, btw
21:30:19 <SamB_XP> toxic-waste green is in today
21:30:54 <SamB_XP> just FYBSPI
21:31:27 <ivanm> "FYBSPI"?
21:31:33 <SamB_XP> (that's "for-your-bikeshed-painting-information")
21:31:40 <ivanm> aha
21:31:49 <elliottt> pastorn, is nuubcake a library, or a forum?
21:32:13 <elliottt> (i'm interested to see what approaches people are taking wrt graphics programming in haskell)
21:32:25 <pastorn> elliottt: nuubcake == noobcake == n00b
21:32:30 <Nereid> :-)
21:32:31 <elliottt> hehe, ok :)
21:32:39 <elliottt> where are you going to post it?
21:32:56 <pastorn> dunno... maybe here searching on reddit makes me that                                                                                                 │ kw317_
21:33:01 <pastorn> whoops
21:33:11 <pastorn> http://www.riemers.net
21:33:24 <pastorn> i'm translating his tutorials to haskell + openGL
21:33:35 <pastorn> so i asked him how much i could steal without feeling bad
21:33:47 <pastorn> and he said that he could host it for me :)
21:33:58 <elliottt> oh cool
21:34:07 <pastorn> elliottt: have you seen his page before?
21:34:18 <elliottt> no, i'm going to bookmark it though.  it looks really useful :)
21:34:19 <pastorn> his XNA tutorials are pretty awesome :)
21:34:40 <pastorn> and XNA is like cheating (worse than using the Maybe monad)
21:34:45 <pastorn> it has EVERYTHING!
21:34:49 <elliottt> hehe
21:35:04 <pastorn> "oh no, i'm stuck in gimbal lock! i can't rotate properly!"
21:35:10 <SamB_XP> except support for *nix and OS X?
21:35:16 <Nereid> SamB_XP: mono
21:35:27 <pastorn> "don't worry, just use this predefined Quaternion class that we have already written and tested"
21:35:31 <SamB_XP> what, mono has DirectX ?
21:35:41 <pastorn> SamB_XP: testing my code on *nix
21:35:42 <elliottt> i work in linux, so i'll be interested to see your translations when they're done
21:36:05 <pastorn> elliottt: all i'm taking is his data and stuff;
21:36:08 <Nereid> SamB_XP: the mono implementation uses opengl
21:36:14 <pastorn> it's in big part for my own learning
21:36:24 <elliottt> cool
21:36:27 <pastorn> so that when i get stuff running, it should look like his stuff :)
21:36:29 <elliottt> sounds like a good project :)
21:36:50 <pastorn> so i was stuck a long time on the projection matrix stuff until i realized i swapped the order
21:37:02 <pastorn> (column major/row major matrix multiplication order)
21:37:10 <elliottt> oh, ha
21:37:15 <elliottt> i can imagine that being frustrating :)
21:37:32 <pastorn> so if you have three matrices, T, S and R
21:38:20 <pastorn> in dx it's S(); R(); T(); but in haskell+gl it's T >> R >> S
21:38:26 <pastorn> which is like function composition
21:38:30 <pastorn> but with bind
21:38:50 <pastorn> (since GL is a state machine and you push shuff etc)
21:38:58 <pastorn> *stuff*
21:39:05 <Nereid> S << R << T
21:39:15 <Nereid> hang on
21:39:16 <Nereid> what
21:39:18 <pastorn> Nereid: why didn't i think of that?
21:39:18 <tensorpudding> (>>) doesn't represent composition though
21:39:42 <elliottt> just sequencing.
21:39:48 <Nereid> if you're doing S first, you're doing S first either way
21:39:54 <Nereid> so you're going to want S >> R >> T if anything
21:39:58 <pastorn> tensorpudding: no, but what happends is that each of T S and R multiplies it's matrix with the "current" matrix in the GL matrix state machine
21:40:12 <tensorpudding> with GL, it's different because you're doing state stuff behind the scenes
21:40:29 <pastorn> and since it's not the same standard as DX for rows/cols, this is done in the non-intuitive order
21:40:49 <kmc> oh no gimbal lock
21:40:49 <Nereid> the order of composition shouldn't depend on whether you use rows or columns though
21:40:55 <kmc> matrices are function-like in dx?
21:41:01 <Nereid> if you define composition right
21:41:27 <pastorn> Nereid: yes, but the standard in GLU is the unintuitive way :)
21:41:31 <tensorpudding> T,S,R represent 3-D rotation matrices?
21:41:33 <pastorn> (the "math" way)
21:41:42 <ddarius> pastorn: Does XNA have multivectors?
21:41:44 <pastorn> T = translate, S = scale, R = rotate
21:41:49 <kmc> probably 4D homogeneous
21:41:52 <tensorpudding> Ah.
21:41:54 <Nereid> ah, so they're specific things
21:42:03 <pastorn> ddarius: you have multi dimensional arrays; mdArr[,]
21:42:14 <pastorn> which are like haskells Array (Int,Int)
21:42:30 <ddarius> pastorn: People don't call multi dimensional arrays multivectors.
21:42:43 <tensorpudding> Multivectors are something different entirely.
21:42:46 <pastorn> ddarius: then i don't know what you're talking about :p
21:43:14 <Nereid> pastorn: look up exterior algebra
21:43:20 <pastorn> ddarius: they have predefined classes for Vector[1..4]
21:43:29 <ddarius> Screw exterior algebra.  Look up geometric algebra.
21:43:33 <Nereid> or that
21:43:47 <tensorpudding> It's all tensors
21:44:18 <ddarius> tensorpudding: Arguably by that logic we could say it's all linear transformations.
21:44:56 <pastorn> ugh...
21:44:58 <pastorn> not now
21:44:58 <tensorpudding> What's wrong with exterior algebra?
21:45:07 <ddarius> The problem with tensors and matrices is that they are unstructured.
21:45:09 <pastorn> busy getting my height map working
21:45:32 <pastorn> i MIGHT make a chapter further on about how to make your own matrices + how to load them into the GL matrix system
21:45:40 <ddarius> tensorpudding: There's no reason to learn it when you could learn geometric algebra instead which is more expressive and more coherent and more useful.
21:46:12 <erikc> pastorn: please make the tutorials with gl2.0
21:46:23 <tensorpudding> Differential forms are separate from geometric algebra aren't they?
21:46:40 <tensorpudding> (not that they are in exterior algebras either)
21:47:14 <pastorn> erikc: doing so
21:47:35 <pastorn> erikc: i tried to learn GL with haskell, but all the tutorials i could find sucked ballz
21:47:50 <Nereid> ddarius: the geometric product just being a certain product on the exterior algebra, as far as I can tell
21:47:53 <pastorn> erikc: i might try to =
21:48:19 <pastorn> * erikc i'm gonna port these chapters too: http://www.riemers.net/eng/Tutorials/XNA/Csharp/series3.php
21:49:12 <ddarius> tensorpudding: Let K be a k-vector field, a differential form w = d^kx . K, the exterior derivative dw = d^(k+1)x . (∇ ∧ K)
21:50:09 <tensorpudding> You can come about differential forms without touching on geometric algebra at all though.
21:50:18 <ddarius> tensorpudding: Indeed you can.
21:50:53 <Nereid> again, just different products on the same graded vector space
21:51:00 <tensorpudding> and the tensor product formalism is more generic isn't it?
21:51:03 <pastorn> ugh... i really don't want to write a loader for the .x 3D model format :/
21:51:38 <ddarius> tensorpudding: The point was to demonstrate that you readily get differential forms/exterior derivative in a simple and natural way with geometric algebra (but you also get many other things too all coherently modeled).
21:52:06 <tensorpudding> Why is the geometric product more "obvious" than the wedge product?
21:52:46 <ddarius> tensorpudding: I didn't say it was more obvious, I said it was more expressive,coherent, and useful.
21:53:02 <Nereid> but the wedge product is homogeneous.
21:53:02 <ddarius> The geometric product gives you the wedge product... and the inner product... and, well, itself.
21:53:11 <erikc> pastorn: just a heads up that gl2.0 code and later should use uniform variables for the transform matrix instead of the fixed function matrix stack
21:53:38 <pastorn> erikc: well, that'll be covered when i get to shaders
21:53:44 <erikc> cool
21:53:46 <tensorpudding> Is it natural to think of the inner product as coming from the geometric product?
21:53:50 <pastorn> erikc: as i said, this is part of my learning process :)
21:53:52 <ddarius> I can readily do exterior algebra in geometric algebra, but not the other way around.
21:54:05 <tensorpudding> It's too ingrained to me to think of the inner product as not being its own thing.
21:54:23 <erikc> pastorn: yea, there's a tutorial in the process of being written here http://duriansoftware.com/joe/An-intro-to-modern-OpenGL.-Chapter-1:-The-Graphics-Pipeline.html
21:54:25 <ddarius> tensorpudding: That's fine.  Simply define uv = u.v + u∧v
21:54:34 <pastorn> erikc: en the mean time; download the GLUT package from hackage, it contains an example (in the folder examples/OrangeBook/) where shaders are used;
21:54:41 <ddarius> tensorpudding: That's fine.  The point is the framework, not the axioms.
21:54:46 <erikc> pastorn: which focuses on teaching opengl without the fixed function pipeline
21:55:06 <pastorn> erikc: yeah, i've seen that
21:55:50 <erikc> i know opengl and dx pretty well already, just want to avoid more gl tutorials with fixed function stuff, there are too many already :)
21:55:55 <ddarius> tensorpudding: The issue with traditional vector algebra or exterior algebra is that they are "incomplete" parts of a greater framework.  The issue (in my opinion) with tensor analysis is that it's very unstructured; it's like working at assembly level.
21:56:04 <pastorn> erikc: as it is now i'm cheating when doing my vertex array + index array
21:56:29 <tensorpudding> The tensor space definition is very unstructured, but very flexible.
21:56:36 <ddarius> tensorpudding: I agree.
21:56:51 <pastorn> i use the real haskell Array type... you need to use the Foreign.Array things to get it working with GL
21:57:06 <ddarius> It is ungainly to represent arbitrary tensors in GA, but it's extremely rare to want to do so (but possible when you do).
21:57:36 <ddarius> The things actually used in physics, e.g. Lorentz rotations, have compact and natural representations.
21:58:46 <tensorpudding> Lorentz transformation are naturally handled by tensors, but Minkowski space is a good bit different than E^3
21:59:04 <tensorpudding> or E^4
22:00:27 <tensorpudding> Physics does use Clifford algebras though.
22:00:47 <ddarius> tensorpudding: What's a generic tensor equation for representing a rotation (in any dimension >= 2) in a given plane by a given angle?
22:01:18 <ddarius> tensorpudding: Yes, but in many uses where Clifford algebras are called "Clifford algebras" they are used in insane ways usually involving complex coefficients.
22:01:19 <tensorpudding> I wouldn't know.
22:02:35 <ddarius> tensorpudding: Okay, well, in GA its exp(θ/2 B) where B is a unit bivector specifying the plane of rotation and theta is the rotation angle (and of course we could compact this into just a non-unit bivector representing both these things together.)
22:03:03 <ddarius> That equation works for any dimension (>= 2) in mixed signatures or not.
22:04:25 <ddarius> To rotate any multivector, M, given R = exp(θ/2 B), simply do rotatedM = RMrev(R)
22:05:01 <ddarius> Where rev is the reversion of multivector (a simple, basic operation) and juxtaposition is the geometric product.
22:06:35 <tensorpudding> That is pretty elegant, I suppose.
22:07:40 <tomberek> does anyone know Martin Erwig?
22:08:07 <tensorpudding> the exp(θ/2) reminds me of the infinitesimal generators for rotations
22:09:17 <ddarius> tensorpudding: They're related.  Lie algebras/groups are nicely represented in GA.
22:09:25 <ddarius> tensorpudding: It should also remind you of quaternions.
22:09:36 <tensorpudding> I used to know how to produce a rotation matrix for a vector given the normal axis and the angle but it past me
22:09:39 <ddarius> Quaternions are just the even sub-algebra of the 3D geometric algebra.
22:09:39 <pastorn> hmmm... porting SetUpVertices() here is tricky: http://www.riemers.net/eng/Tutorials/XNA/Csharp/Series1/Terrain_basics.php
22:10:08 <pastorn> damn loops
22:10:13 <pastorn> @type assocs
22:10:14 <lambdabot> forall i e. (Ix i) => Array i e -> [(i, e)]
22:10:27 <pastorn> i was thining of using that + map
22:10:28 <tensorpudding> They figured out all of geometric algebra in the 19th century didn't they?
22:10:37 <ddarius> tensorpudding: In GA, the rotor, R, that corresponds to the "rotation matrix" is exp(θ/2 nI) where I is the pseudoscalar and n is the normal vector.
22:10:45 <pastorn> anyone have any ideas for porting that C# array function?
22:10:49 <tensorpudding> I mean, with what Grassman and Clifford did.
22:11:16 <ddarius> tensorpudding: The basic algebraic structure, yes.  David Hestenes has -greatly- extended it by developing a calculus with it and by applying it to a variety of mathematical and physical problems.
22:11:38 <tensorpudding> It's kinda disappointing that they don't teach this instead of the traditional vector calculus of R^3
22:11:39 <ddarius> Hestenes pretty much has all of physics from Newton to Dirac and Einstein encoded nicely in GC.
22:11:43 <kmc> pastorn, well, how literal do you want to get? you could mapM_ and store to an IOArray
22:11:50 <ddarius> tensorpudding: I agree heartily.
22:12:15 <tensorpudding> How do you represent curved spacetimes using GA?
22:12:16 <Nereid> I think a lot of undergraduate students would have a hard time picturing a bivector, so I disagree
22:12:17 <pastorn> kmc: i already have the 'heightData' array stored as an Array (Int,Int) GLfloat
22:12:35 <pastorn> (sorry, forgot to mention that)
22:12:55 <tensorpudding> I don't know if I think that cross products are that much more intuitive than bivectors.
22:13:25 <Nereid> perhaps the product itself isn't, but in the end you get a vector, which is nothing new
22:14:12 <ddarius> tensorpudding: Cross products are horribly unintuitive and have horrible properties.  The only "good" thing about the cross product is it keeps you from having to introduce bivectors, but this uses a "fluke" that in 3D the dual of a bivector is a vector.
22:15:26 <pastorn> kmc: maybe this: do { (x,y) <- [(0,0) .. (3,2)]; return $ Vertor3 x 0 (-y) }
22:15:34 <ddarius> tensorpudding: There are two ways: One is to do the exact same thing as normal and just cast it in the language of geometric algebra.  A newer method is to represent the curved space as a function on a flat space, this approach leads to something more fundamental and intuitive, in some sense, than the metric tensor (in particular it leads to something that is the "square root" of the metric tensor.)
22:15:57 <kmc> pastorn, or a list comprehnsion
22:16:22 <pastorn> kmc: i dislike those :p
22:16:27 <pastorn> but you're right...
22:16:31 <ddarius> The problem with cross products is that they don't transform "naturally."  Thus there's a hidden distinction between vectors that do and do not come about via a cross product (axial vectors and tangent vectors.)
22:16:33 <kmc> *shrug*
22:16:36 <kmc> i do too
22:16:36 <pastorn> i shouldn't do too advanced stuff
22:17:03 <ddarius> Bivectors, however, do transform naturally and clearly mark that distinction.  Axial vectors are really bivectors in disguise.
22:17:19 <pastorn> my tutorial should only require basic haskell knowledge + IO monad experience
22:17:30 <kmc> @pl \(x,y) -> Vector3 x 0 (-y)
22:17:30 <lambdabot> uncurry ((. negate) . flip Vector3 0)
22:17:36 <kmc> there, just map that ;)
22:17:38 <Nereid> lol
22:17:50 <pastorn> kmc: the idea being that you should be able to complete this tutorial after a beginners course in haskell
22:17:53 <tensorpudding> Students could also learn rigorous analysis instead of calculus, and group/ring/field theory instead of high school algebra...
22:18:06 <ddarius> tensorpudding: http://modelingnts.la.asu.edu/pdf/GTG.w.GC.FP.pdf This paper covers the second approach to curved spacetimes and general relativity.
22:18:31 <ddarius> There's nothing particularly wrong with high school algebra.
22:18:33 <Nereid> broken link
22:18:39 <Nereid> oops
22:18:55 <tensorpudding> There isn't anything wrong with vector calculus either.
22:20:27 <ddarius> tensorpudding: There is something wrong with the cross product, which distinctly makes there be something wrong with vector calculus even if most of it is nice enough.
22:21:21 <ddarius> One nice thing about geometric calculus is that it collapses (and generalizes) all the various "fundamental theorems of calculus", e.g. the typical 1D one, Stokes theorem, Green's theorem, etc.
22:21:23 <tensorpudding> If you understand that the vector that you obtain from the cross product isn't a real vector, you can still do a lot.
22:21:56 <ddarius> tensorpudding: Yes, but the result starts to be like working in a dynamically typed language (only without the benefits of working in a dynamically typed language.)
22:22:45 <tensorpudding> I learned about the "generalized Stoke theorem" through differential forms
22:22:58 <ddarius> tensorpudding: Yes, the GC version generalizes that version too.
22:23:17 <tensorpudding> How can you generalize it further?
22:23:31 <ddarius> tensorpudding: By extending to arbitrary multivectors for one.
22:23:37 <Nereid> it's not how obvious to me how one would integrate nonhomogeneous multivectors (forms)
22:24:37 <Nereid> you can integrate an n-form on an n-manifold, but how do you generalize that?
22:25:53 <tensorpudding> Is there any coherent textbook teaching GC as a replacement for VC?
22:26:09 <ivanm> garbage collection is replacing version control?
22:26:17 <Nereid> :D
22:26:50 <EvanR> im liking that idea
22:27:48 <tensorpudding> I suddenly had a vision for distributed garbage collection
22:27:50 <ddarius> tensorpudding: There are textbooks for doing basic mechanics using GA/GC instead of VC meant as introductions to mechanics [These tend to go much farther than typical intros to mechanics.].  There are textbooks that cover a significant amount of "advanced" physics using the language of geometric calculus.
22:28:50 <pastorn> kmc: did you die?
22:29:36 <ddarius> http://geocalc.clas.asu.edu/html/NFCM.html (Intro Mechanics) http://www.cup.cam.ac.uk/catalogue/catalogue.asp?isbn=9780521715959 (Advanced Physics) http://www.geometricalgebra.net/ (CS audience)
22:31:08 <pastorn> ddarius: "An Object Oriented Approach to Geometry"?
22:31:12 <pastorn> wtf?
22:31:36 <kmc> pastorn, i don't think so
22:31:45 <tensorpudding> Hmm.
22:31:53 <ddarius> pastorn: There's a disclaimer on the use of the term "object-oriented"  It doesn't mean OOP.
22:32:05 <pastorn> kmc: pm
22:32:11 <kmc> pastorn, i ignore pm, sorry
22:32:16 <pastorn> awww
22:32:27 <pastorn> could you perhaps stop doing that?
22:38:43 <DrSyzygy> Is there a good reason why I can't find any functions of type signatures [a] -> [:a:] and [:a:] -> [a]?
22:38:48 <DrSyzygy> (conversion functions)
22:39:20 <pastorn> DrSyzygy: what's a (:a:)?
22:39:41 <DrSyzygy> pastorn: [: :] is the type of parallel arrays from Data Parallel Haskell.
22:40:48 <ivanm> DrSyzygy: don't you need bounds or something as well?
22:41:11 <DrSyzygy> ivanm: Sure. I'm happy to impose bounds requirements.
22:41:23 <DrSyzygy> All my [] are going to be de facto finite anyway.
22:41:33 <ivanm> I meant min/max index values
22:41:38 <DrSyzygy> So I'll rephrase: is there a good stock way to do it?
22:41:44 * ivanm points out that he has never even looked at the dph docs, let alone used dph
22:41:55 <DrSyzygy> I've written functions myself for doing it, but they look kinda horrendous.
22:42:10 <DrSyzygy> toListP l = DPH.mapP (l!!) ([: 0 .. length l - 1 :])
22:42:12 <DrSyzygy> and
22:42:21 <DrSyzygy> fromListP l = map ((DPH.!:) l) [0 .. DPH.lengthP l - 1]
22:43:32 <ivanm> I can't even find dph docs...
22:43:45 <pastorn> DrSyzygy: this seems rather poorly documented :( http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-PArr.html
22:44:06 <DrSyzygy> It is pretty poorly documented, yeah.
22:44:52 <ivanm> @tell Axman6 another possible AusHack project: document DPH! :p
22:44:53 <lambdabot> Consider it noted.
22:45:27 <DrSyzygy> ivanm: I'd love all y'all for that.
22:45:29 <pastorn> DrSyzygy: mapP
22:45:44 <DrSyzygy> pastorn: What about it?
22:45:54 <pastorn> toP :: [a] -> [:a:]
22:45:56 <pastorn> fromP :: [:a:] -> [a]
22:45:58 <pastorn> hehe
22:46:01 <DrSyzygy> Ahhhh.
22:47:19 <pastorn> DrSyzygy: i was thinking list2Array + enumFromToP 0 (length list) + mapP (! array)
22:47:45 <pastorn> then destruct would be just foldP (:) []
22:48:00 <pastorn> (or something)
22:48:14 <pastorn> but this data paralell stuff seems kinda cool.... what does it do?
22:48:17 <DrSyzygy> pastorn: Thanks for dragging the docs forme. :-)
22:48:27 <DrSyzygy> pastorn: It parallelizes code. More or less implicitly.
22:48:45 <pastorn> DrSyzygy: i found it while looking at the docs, i also found those functions when searching hayoo
22:48:54 <DrSyzygy> Point.
22:49:32 <pastorn> DrSyzygy: so how does it work? does it distribute one element computation per core or something?
22:49:37 <pastorn> or chunks?
22:49:58 <ivanm> so to use dph, you don't have to import anything? just use the right compile-time flag?
22:50:05 <DrSyzygy> pastorn: It launches lots and lots of threads. And then distributes those over the cores, using Haskell Cleverness to figure out data dependencies.
22:50:10 <ivanm> or do you have to import GHC.PArr, etc.?
22:50:51 <DrSyzygy> You do have to import GHC.PArr, preferably use the Data.Array.Parallel.Prelude prelude, use the -fdph-par flag, and set the -XPArr and possibly -XParallelListComp flags.
22:51:02 <ddarius> pastorn: It flattens nested usages of arrays into one big flat array and then (usually) chunks and distributes that flat array.
22:51:22 <pastorn> DrSyzygy: how do you mean? it starts one thread per core and then distributes loads through channels or some such hack?
22:52:07 <DrSyzygy> pastorn: I actually don't know the details particularly well. ddarius: you wanna field this one?
22:52:44 <pastorn> ddarius: what do you mean by "nested usages"?
22:53:01 <ddarius> pastorn: Arrays of arrays (of arrays ...)
22:53:10 <pastorn> how often du you have that?
22:53:28 <pastorn> Array (Int,Int) :D
22:53:36 * pastorn lives in a flat world
22:54:44 * ivanm lives on a planet
22:55:28 * DrSyzygy lives on his own
22:55:51 * ivanm does too
22:56:09 <DrSyzygy> Aha! So now you're changing your story, eh!?
22:57:03 <ivanm> I live on a planet yet I live on my own
22:57:12 <ivanm> as in no-one else lives in the apartment with me
22:57:21 <ivanm> it's not my fault the english language is so stupid
22:57:38 <ivanm> (I mean, "I live on my own" doesn't even make sense... you live on your own _what_?)
22:57:40 <lament> i live on my own planet
22:57:54 <ivanm> ...
22:58:09 <ivanm> lament: so how do you have the net connected to your other planet?
22:58:21 <lament> ivanm: what do you mean by 'other'?
22:58:25 <ivanm> since you'd need a superluminal connection...
22:58:32 <ivanm> s/other//
22:58:43 <lament> why would i need superluminal connection?
22:59:01 <lament> even assuming that my planet wasn't Earth, which it is, normal connection would still be fine if my planet was very, very close to Earth
22:59:13 <lament> e.g. hanging 10 meters above
22:59:22 <Gracenotes> I live on an asteroid, coding for school and drawing sheep
22:59:36 <Gracenotes> too much school coding, not enough Haskell :/
23:00:01 <ddarius> pastorn: Flat data parallelism is to apply the same (scalar) operation to every element of an array.  It's long been solved how to parallelize such situations efficiently and well.  Nested data parallelism is when you want to apply the same operation to every element of an array, but you -also- want to parallelize each of those operations.  This problem is not so trivial because how to balance the load is no longer as clear.
23:00:06 <ivanm> lament: I think someone would have noticed it by now if that were the case...
23:00:12 <ddarius> s/scalar/sequential
23:00:39 <kmc> isn't the Haskell approach to load balancing just to create a huge number of sparks or threads and let the RTS sort it out?
23:00:48 <kmc> why is nested DPH trickier than that?
23:01:47 <[swift]> argh. is anyone aware of a published algorithm to construct LL(k) parsing tables for k > 1?
23:01:50 <ddarius> kmc: Data Parallel Haskell is doing data parallelism not arbitrary/unstructured parallelism.  It can get much nicer operation characteristics that way.
23:02:03 <kmc> such as?
23:02:19 <pastorn> ddarius: isn't it just distributing chunks of the array to different threads along with the function to run on that chunk and wait for a result?
23:02:35 <ddarius> pastorn: For the flat case, yes.
23:03:08 <pastorn> ddarius: do you have any non-trivial examlpes?
23:03:34 <kmc> ddarius, does the standard GHC RTS scheduler also schedule data-parallel computation, or is it bypassed entirely?
23:03:35 <ddarius> pastorn: Check out the DPH wiki page and/or the referenced papers: http://www.haskell.org/haskellwiki/GHC/Data_Parallel_Haskell
23:03:45 <DrSyzygy> pastorn: Consider an abritrary-arity tree: Tree a = Leaf a | Node a [Tree a]
23:03:52 <ddarius> kmc: I'm pretty sure it's bypassed entirely.
23:03:55 <DrSyzygy> pastorn: And suppose you want to do something in parallel on all of that tree.
23:04:14 <DrSyzygy> pastorn: You'd not know how large chunks to get until after you've traversed the whole think, and grabbing the chunks is non-trivial.
23:04:41 <ddarius> kmc: In the flat case, a mapP (1+) array, would lead to NUM_CPU threads being spawned each doing an efficient sequential mapP (1+) on its chunk.
23:04:46 <pastorn> DrSyzygy: so you want a typeclass FunctorP?
23:05:08 <pastorn> or maybe FoldableP?
23:05:30 <DrSyzygy> pastorn: I originally just wanted to find toP and fromP to make our computational algebra program parallel.
23:05:49 <ddarius> kmc: This is rather different than a par-based parArrayMap (1+) array which would lead to tons of sparks and computation arbitrarily interleaved between elements and arbitrarily distributed.
23:05:51 <kmc> ddarius, ah, i can see how that might be more efficient than (parMap rnf) or so
23:05:56 <kmc> yeah
23:06:15 <kmc> but the par-based approach will automatically load-balance
23:07:47 <ddarius> kmc: With the current implementation, yes.  The issue is more one of distributing data and computation (or rather avoiding distributing computation).
23:15:37 <pastorn> ddarius: is there a minimum size for your lists in order to benefit of DPH when doning simple stuff
23:15:59 <pastorn> say data Matrix44 a = Mx44 [:[:a:]:]
23:16:09 <pastorn> and i want to do matrix multiplication
23:16:55 <pastorn> would Data Paralell haskell give a performance gain for such an examlpe?
23:18:36 <pastorn> or would the overhead of distribution be too large here?
23:19:36 <pastorn> ==> sleep
23:19:39 <pastorn> good night
