00:00:03 <kadoban> scutigera: Oh you're welcome above, btw, forgot to respond :)
00:00:09 <bollu> I like that though. Tells me there's so much to learn ^_^
00:00:11 <scutigera> bollu: agreed
00:00:43 <kadoban> scutigera: Yeah I think I learned some stuff there too, but … not enough, heh. It took me a long time to learn haskell and LYAH was one of the things I (tried) to use.
00:00:59 <scutigera> it's obvious that a cofree comonad applicative functor in a semimonoidal ring bounded by tertiary gobstoppers is the OBVIOUS solution
00:01:07 <muller> why does cabal install fail with "build log does not exist error"? 
00:01:29 <bollu> a "cofree comonad" actually exists IIRC :)
00:01:45 <bollu> http://blog.sigfpe.com/2014/05/cofree-meets-free.html
00:01:46 <bollu> yupp
00:01:51 <scutigera> bollu: yeah- but i still don't know what either of those means
00:01:55 <kadoban> bollu: You should definitely do the nicta course when you get a chance, IMO. It helped me understand a lot of the typeclasses and common uses for them way more concretely.
00:02:03 <bollu> kadoban: link?
00:02:10 <scutigera> humorously i even have a book on category theory- which i actually find quite tractable
00:02:14 <bollu> scutigera: I know what "free" is and what "comonad" is
00:02:23 <bollu> at least, I think I know what free is :P
00:02:24 <kadoban> bollu: https://github.com/NICTA/course
00:02:54 <Axman6> muller: have you tried running cabal clean and building again? I've seen that happen when multiple cabal commands are running at the same time (which some editors/IDEs like sublime text do)
00:02:54 <bollu> kadoban: comonad is the structure you get by reversing the arrows in monad, right? and "free" => "bare minimal structure"
00:03:17 <bollu> kadoban: thanks!
00:03:18 <muller> Axman6, No. Will try.
00:03:28 <johnw> bollu: free = no meaning imposed but the laws
00:03:30 <kadoban> Haha, I don't really know CT at all, except what I've overheard here. I kinda know what comonad is practically, but I've never used it.
00:03:42 <bollu> johnw: isn't that always the case?
00:03:52 <bollu> johnw: Like, what extra rules does Maybe have?
00:03:53 <johnw> Sum has a meaning as a monoid, it adds numbers
00:03:55 <bollu> except the laws?
00:04:09 <johnw> Maybe reduces to Nohting if ever Nothing appears
00:04:31 <bollu> johnw: oh, that's considered "extra"?
00:04:34 <johnw> so, a free object defers all meaning
00:04:38 <bollu> so, well, if you want _nothing_ else to happen
00:04:40 <johnw> like a list, holding all the objects you intend to mappend
00:04:46 <bollu> then you don't reduce at all?
00:04:50 <johnw> exactly
00:04:51 <johnw> zero reduction
00:04:52 <bollu> Like, you never "collapse" anything?
00:04:55 <johnw> because reduction isn't part of the laws
00:05:12 <johnw> "free of interpretation"
00:05:14 <bollu> hmm. Question - that sounds suspiciously like parsing or something. Where you simply "build"
00:05:14 <Axman6> anyone had a look at https://int-index.github.io/ether/ ? Curious about people's thoughts
00:05:17 <johnw> is how I think of the adjective
00:05:19 <bollu> and then interpreting is "reduction"
00:05:20 <johnw> yep
00:05:29 <johnw> the Free monad is a syntax tree builder, for example
00:05:30 <bollu> wait, that's a thing?
00:05:47 <bollu> johnw: links? :D
00:05:51 <bollu> This sounds cool
00:05:54 <johnw> links to what part?
00:06:04 <bollu> free monad?
00:06:11 <johnw> I wrote this: http://newartisans.com/2012/08/meta-programming-with-the-free-monad/
00:06:15 <johnw> if you google, you'll find many others
00:06:22 * Axman6 should probably understand all the fuss about free monads some time too
00:06:25 <bollu> thanks
00:06:31 <johnw> I use free monads pretty regularly thees days
00:06:40 <bollu> also, this is unrelated
00:06:47 <johnw> the code I'm working on right now uses one
00:06:51 <bollu> but why do people claim haskell is THE language
00:06:56 <bollu> for interpreters?
00:07:09 <bollu> I tried writing a Tokenizer and I got annoyed as hell because of the immutability
00:07:09 <johnw> Haskell makes separation between evaluation and execution a very natural thing
00:07:20 <johnw> it's part of how we think 
00:07:25 <bollu> johnw: yeah, but, *getting* to the point of execution was painful
00:07:36 <bollu> I couldn't even write a tokenizer properly. I gave up
00:07:40 <johnw> they didn't say it was THE language for not getting frustrated :)
00:07:56 <bollu> I wanted to use Parsec or something but that looked to much like "magic *hand wave*"
00:08:00 <bollu> johnw:  :)
00:08:58 <bollu> data Free f r = Free (f (Free f r)) | Pure r
00:09:04 <bollu> what is f and what is r, conceptually?
00:09:06 <scutigera> bollu: wrestling with attoparsec right now
00:09:09 <johnw> r is the result value
00:09:16 <scutigera> the parser is not the headache
00:09:21 <johnw> also ,it is any intermediate value bound within the monad
00:09:24 <scutigera> it's wiring it into IO that's causing me the grief
00:09:37 <johnw> i.e., do x <- foo ; blah x
00:09:52 <johnw> the "x" there has a type r for the foo action; blah may have a differentr
00:09:56 <johnw> the composition has r
00:10:03 <bollu> hmm.
00:10:05 <johnw> the f is the functoral structure that defines your "grammar"
00:10:05 <bollu> and f?
00:10:11 <bollu> meaning?
00:10:49 <johnw> take this for example: data Expr e = Add e e | Sub e e
00:11:00 <johnw> then type MyExpr a = Free Expr a
00:11:01 <bollu> johnw: no.. terminals?
00:11:07 <johnw> the free monad provides the terminal
00:11:15 <johnw> now I can say: Add (Pure 10) (Pure 20)
00:11:15 <muller> Axman6, It did not work. Same error.
00:11:29 <bollu> so, what is "A" ?
00:11:34 <bollu> a*
00:11:35 <johnw> or Add (Free (Sub (Pure 10) (Free (Add (Pure 20) (Pure 30))))) (Pure 30)
00:11:42 <johnw> a in this case is Int
00:11:51 <johnw> it can be anything, since this grammar doesn't care
00:11:55 <johnw> it's purely symbolic
00:12:12 <bollu> hmm
00:12:37 <johnw> to "evaluate", you use "iter", which case an F-algebra (a function f a -> a), and computes down to a result, imposing the interpretation
00:12:39 <Axman6> muller: are you using sandboxes?
00:12:46 <muller> yes
00:13:00 <bollu> johnw: lost me there, but that's probably because I have to use it to understand it
00:13:05 <bollu> I'll take a closer look at it
00:13:15 <johnw> yeah, make a simple expression grammar like I just did
00:13:22 <bollu> and a Free monad is a monad?
00:13:22 <johnw> and try out some sample evaluations with "iter"
00:13:27 <Axman6> then, if I were you, I would probably at this point opt for running cabal sandbox delete; cabal sandbox init; cabal build. I haven't found a better solution yet :(
00:13:29 <bollu> so it has a functor, applicative and Monad instance?
00:13:29 <johnw> the free monad is always a monad, even if 'f' is not
00:13:40 <johnw> 'f' must simply be a functor 
00:13:47 <bollu> why?
00:13:59 <Axman6> magic
00:14:12 <scutigera> @hoogle (<|>)
00:14:13 <lambdabot> Control.Applicative (<|>) :: Alternative f => f a -> f a -> f a
00:14:13 <lambdabot> Text.Parsec.Prim (<|>) :: (ParsecT s u m a) -> (ParsecT s u m a) -> (ParsecT s u m a)
00:14:13 <lambdabot> Text.ParserCombinators.Parsec.Prim (<|>) :: (ParsecT s u m a) -> (ParsecT s u m a) -> (ParsecT s u m a)
00:14:24 <johnw> so, think about what the free monad IS
00:14:26 <bollu> Roll :: f (Free f a) -> Free f a <- so that lets you next "as many Free's" 
00:14:27 <Geekingfrog> bollu, There are some exercise in the typeclassopedia about the free monad
00:14:34 <johnw> the free monoid defers mappend, right?
00:14:35 <bollu> Geekingfrog: I'll go check it out
00:14:41 <bollu> johnw: yeah
00:14:42 <johnw> so the free monoid defers join
00:14:52 <johnw> meaning you end up with a value which is morally equivalent to
00:14:57 <johnw> f (f (f (f (f .... f a))))
00:15:10 <johnw> when you evaluate, you supply the join that crushes that down to f a
00:15:14 <bollu> johnw: what's "join" ?
00:15:22 <johnw> in order to crush, f must be a functor
00:15:22 <Axman6> :t join
00:15:24 <lambdabot> Monad m => m (m a) -> m a
00:15:27 <bollu> ah
00:15:35 <bollu> oh, okay. *that* join :)
00:15:38 <johnw> the free *monad* defers join
00:15:46 <bollu> riight. I was confused about that
00:15:46 <Axman6> (I assume it's that join)
00:15:48 <johnw> the constructors should really be called Free and Join
00:15:54 <johnw> I mean, Pure and Join
00:16:00 <johnw> since that's what they are capturing
00:16:35 <bollu> that's smart - to encode the way it combines at the type level
00:16:46 <bollu> like, the _types_ enforce it to.. stack up
00:16:54 <bollu> as far as I can see
00:17:06 <johnw> if you can't join, that's what happens
00:17:16 <johnw> with repeated fmap of functions of type a -> f b
00:17:32 <muller> Axman6, yes
00:17:33 <johnw> so Free f a allows this stacking to occur freely
00:17:48 <Axman6> muller: any luck?
00:18:33 <bollu> johnw: still vaguely makes sense
00:18:43 <johnw> that's really all that they are
00:18:56 <johnw> it's a great tool for building DSL out of do notation
00:21:26 <johnw> since the free monad only knows that f is a functor, it really does build up that structure, since fmap is the only tool it has
00:21:36 <johnw> it it were a functor, it wouldn't be able to do anything
00:21:49 <johnw> (my previous reason about needing it to be a functor to "crush" was incorrect)
00:25:01 <muller> Axman6, I copied the .cabal file to a new directory, created  a sandbox there and ran cabal install. But didn't work
00:25:34 <Axman6> o.O
00:25:37 <Axman6> I have no idea then
00:26:29 <Axman6> muller: what do you mean by didn't work?
00:27:05 <johnw> good night, bollu
00:27:15 <bollu> night :) Thanks for the help johnw
00:27:16 <muller> Axman6, same error. 
00:29:04 <Axman6> and there's no other error?
00:33:36 <muller> Axman6, http://lpaste.net/134475
00:33:43 <bollu> > \a -> b' where b' = (a + 1)
00:33:44 <lambdabot>  <hint>:1:10: parse error on input ‘where’
00:34:36 <bollu> hm, okay. I don't know why it's giving a parse error but. But my question was, if I have a \x -> ... where <where-clause>, why is "x" not availaible in the where? 
00:34:39 <bollu> in the where clause
00:35:47 <bollu> is the question malformed? >_<
00:36:12 <kadoban> I don't think lambdas can have where clauses?
00:36:45 <bollu> http://stackoverflow.com/questions/8985017/haskell-where-clause-referencing-bound-variables-in-lambda
00:36:48 <bollu> yeah, looks like it
00:37:04 <bollu> :(
00:37:16 <bollu> I like where. It focuses on what you're doing first. let is messy
00:37:29 <bollu> it's like "look, I'm creating all of this machinery" when all you care about is what its doing
00:38:07 <Axman6> where clauses are part of declaration syntax, mot expression syntax
00:38:10 <kadoban> If it's complicated enough to need that much care in ordering the parts for ease of understanding, I suspect it usually shouldn't be a lambda, maybe?
00:38:30 <bollu> kadoban: I'm trying to create a State
00:38:36 <Axman6> so you can have foo x y = ... where bar = baz, not the where is attached to the declaration of foo, not the expression ..
00:38:40 <bollu> so, I'm using a state $ \x -> ...
00:38:47 <bollu> how do I rewrite that?
00:38:53 <bollu> separate out the \x into a separate function?
00:38:57 <MrWoohoo> what is the pastebot link?
00:39:02 <MrWoohoo> nm
00:39:04 <Axman6> you can use let for what you're after: \x -> let b' = a+1 in b'+b'
00:39:37 <bollu> Axman6: I don't like let ;) But, I guess that's the only choice I have
00:39:41 <kadoban> bollu: I would probably try to do it in do notation, at a guess?
00:39:48 <bollu> kadoban: how?
00:39:55 <srhb> bollu: You can also name the function and use where...
00:39:58 <kadoban> bollu: I dunno, what is it supposed to do?
00:40:35 <tejing> bollu: you could also pass it into the lambda as an argument (and apply the lambda to it immediately)
00:40:39 <bollu> srhb: yeah, good point
00:41:25 <bollu> http://lpaste.net/8639038038267133952
00:41:26 <tejing> bollu: nm that doesn't get scoping, which is what you wanted
00:41:41 <bollu> tejing, srhb, kadoban: http://lpaste.net/8639038038267133952 <- code snippet
00:41:44 <MrWoohoo> can anyone tell me what this means and how to fix it? http://lpaste.net/134477
00:41:46 <bollu> how would I use do notation on that?
00:41:52 <MrWoohoo> cabal install issues
00:42:55 <bollu> I'm trying to memoize the recurrence relation Tn = (Tn-1)^2 + Tn-2
00:43:01 <Axman6> MrWoohoo: means it can't find a consistent set of library versions. if you're using a sandbox, you may need to delete it, and initialise it again
00:43:09 <bollu> So, well, how would I use do notation on that?
00:43:37 <dmwit> bollu: Any reason you can't use the standard Fibonacci trick?
00:43:45 <bollu> which is?
00:43:47 <Axman6> that was my first thought too
00:43:48 <MrWoohoo> not using a sandbox that I know of
00:44:00 <bollu> I'm unaware of the standard trick
00:44:12 <dmwit> ts = 1 : 1 : zipWith (\t2 t1 -> (t1-1)^2 + t2) ts (tail ts)
00:44:14 <tejing> bollu: fibs = 1 : 1 : zipWith (+) fibs (tail fibs)
00:44:37 <bollu> :t tail
00:44:38 <lambdabot> [a] -> [a]
00:44:44 <bollu> > tail [1, 2, 3]
00:44:46 <lambdabot>  [2,3]
00:44:56 <bollu> that is mind beding
00:45:02 <bollu> bending*
00:45:11 <tejing> bollu: lazy evaluation ftw :-)
00:45:39 <Axman6> > let rec n = go n 0 1 where go 0 a _ = a; go n a b = go (n-1) b (b^2+a) in rec 4
00:45:40 <johnw> @tell edwardk even better: first = lift . first . project
00:45:40 <lambdabot> Consider it noted.
00:45:40 <lambdabot>  5
00:45:41 <johnw> @tell edwardk https://github.com/jwiegley/notes/blob/master/HyperSimple.hs#L33
00:45:41 <lambdabot> Consider it noted.
00:45:49 <Axman6> > let rec n = go n 0 1 where go 0 a _ = a; go n a b = go (n-1) b (b^2+a) in rec 10
00:45:50 <lambdabot>  7100862082718357559748563880517486086728702367
00:46:03 <Axman6> > let rec n = go n 0 1 where go 0 a _ = a; go n a b = go (n-1) b (b^2+a) in map rec [1..10]
00:46:05 <lambdabot>  [1,1,2,5,27,734,538783,290287121823,84266613096281243382112,7100862082718357...
00:46:34 <bollu> Axman6: care to explain what that's doing?
00:46:40 <bollu> I'm completely mind boggled and confised
00:46:43 <bollu> confused*
00:46:57 <MrWoohoo> Axman6 how would I tell if there was a sandbox and how would I delete it?
00:47:21 <Axman6> MrWoohoo: there will be a sandbox if you created one
00:47:44 <MrWoohoo> in ~/.cabal/?
00:48:31 <Axman6> ok, you can turn fib n = fib (n-1) + fib (n-1) into a linear function by observing that if you start at the base case (a=0, b=1), then the recurrence becomes an=bn-1, bn=an-1+bn-1
00:48:34 <Axman6> MrWoohoo: no
00:49:01 <Axman6> MrWoohoo: what are you actually doing? we don't have enough info to tell why it's breaking
00:50:17 <bollu> hm
00:50:33 <mauke> oh, hello: http://lpaste.net/134356
00:51:01 <srhb> bollu:/urlse
00:51:07 <srhb> Sorry
00:51:37 <MrWoohoo> I am trying to compile the second example program on this page https://www.fpcomplete.com/school/starting-with-haskell/libraries-and-frameworks/text-manipulation/tagsoup
00:51:45 <Axman6> bollu: showing how to make an infinite list of fibonacci numbers is a pretty common demo of laziness in haskell, usually written as fibs = 0:1:zipWith (+) fibs (tail fibs)
00:52:42 <kadoban> bollu: For reference, that's kind of a direct translation into do notation: http://lpaste.net/8639038038267133952 just in case it help
00:52:59 <MrWoohoo> I've limped along to the point where I say :load boo.hs 
00:53:00 <MrWoohoo> boo.hs:5:8:
00:53:02 <MrWoohoo>     Could not find module ‘Text.HTML.DOM’
00:53:40 <MrWoohoo> so I tried "cabal install dom" and my life has turned awful from there
00:54:19 <srhb> MrWoohoo: Just build it in a sandbox, that should help already. :)
00:54:32 <MrWoohoo> history |grep 'cabal install'|wc ==> 20
00:54:53 <Axman6> yeah avoid installing things in your home directory if you can, use sandboxes instead
00:54:55 <kadoban> Hmm, I kinda mucked that up, but oh well. The put line isn't quite right.
00:55:07 <MrWoohoo> how do I do this in a sandbox. is there a quick command to get me started?
00:55:15 <srhb> MrWoohoo: cabal sandbox init
00:55:20 <MrWoohoo> ah
00:55:36 <bollu1> if I have a f :: State s a, can I "repeat" f n times? 
00:55:42 <srhb> MrWoohoo: So generally, make a directory for your new project, then cabal sandbox init, then build only from that directory,
00:55:43 <bollu1> to give me the final state and value?
00:55:55 <srhb> :t replicateM
00:55:56 <lambdabot> Monad m => Int -> m a -> m [a]
00:55:59 <Axman6> bollu1: replicateM
00:57:47 <MrWoohoo> cabal has me chasing down missing packages manually. is there some way to just have it get everything it needs? 
00:58:06 <Arahael> MrWoohoo: A well-configured cabal file, and cabal sandboxes.
00:58:09 <srhb> MrWoohoo: Can you paste the error?
00:58:21 <srhb> MrWoohoo: cabal install should get everything needed from Hackage.
00:59:13 <MrWoohoo> one minute
01:00:58 <lpaste> MrWoohoo pasted “I don't like cabal so far” at http://lpaste.net/134478
01:01:18 * Arahael +1
01:01:29 <MrWoohoo> this is after doing the sandbox init
01:02:43 <mauke> looks like dom doesn't declare its dependencies properly
01:03:31 <srhb> It's also ancient.
01:03:38 <Haskellfant> the webbits stuff seems to be deprecated https://hackage.haskell.org/package/WebBits
01:03:54 <MrWoohoo> I've spend an hour so far manually looking up packages from compile errors and installing them
01:04:26 <srhb> MrWoohoo: You're probably going to have to do some rewrites to both DOM and WebBits if you want this to work
01:04:36 <srhb> MrWoohoo: Neither are in buildable states on a modern Haskell system.
01:05:03 <MrWoohoo> does that mean this tutorial is broken now? https://www.fpcomplete.com/school/starting-with-haskell/libraries-and-frameworks/text-manipulation/tagsoup
01:05:21 <felixn> lol, cabal is awful, but it's too hard to fix
01:05:39 <MrWoohoo> so you can't work with the DOM on modern haskell libraries?
01:05:47 <Haskellfant> that has nothing to do with cabal
01:05:47 <kadoban> cabal isn't perfect … but that's not a cabal problem.
01:05:47 <srhb> MrWoohoo: Where are those packages mentioned in the link?
01:05:53 <srhb> MrWoohoo: Sure you can, just not with that package.
01:06:05 <Arahael> I actually think that cabal is amazing, - but it seems to have a harder task compared with other ecosystems.
01:06:18 <felixn> kadoban: cabal has a huge problem with how it handles sub dependencies, sandboxes is first step though
01:06:22 <MrWoohoo> I was just clicking on whatever had the most "standard" sounding name on hoogle
01:06:27 <Haskellfant> that link seems to mention html-conduit which works fine afaik
01:06:31 <srhb> MrWoohoo: Ah, that would explain. :)
01:06:46 <mauke> MrWoohoo: ...
01:07:44 <kadoban> felixn: I'm aware … just not relevant to the current build issue.
01:08:20 <felixn> ah, yea sorry I haven't read the discussion, but I feel "cabal hell" pretty often ;_;
01:08:58 <lpaste> MrWoohoo pasted “What damage have I done? LOL” at http://lpaste.net/134479
01:09:15 <srhb> MrWoohoo: o_O
01:09:27 <kadoban> Most people seem to … except I've noticed that 1/2 the time cabal gets blamed for stuff that's not really at all its fault.
01:09:31 <srhb> MrWoohoo: Well, if you only did that in a sandbox you're fine. If not, you're probably going to have to fry ~/.cabal
01:09:34 <MrWoohoo> my attempts to manually fix depends
01:09:57 <MrWoohoo> ah. hmm
01:10:02 <felixn> kadoban: from what I understand, it needs to support sub dependencies, so packages aren't clobbering over the same package
01:10:05 <Haskellfant> srhb: no it's ~/.ghc not ~/.cabal
01:10:33 <srhb> Haskellfant: I guess it's both really.
01:10:47 <dzack> I'm not sure of the terminology to user here..
01:10:52 <mauke> felixn: like sandboxes?
01:11:00 <Haskellfant> srhb: well if you changed your config sure, otherwise I don't think deleting ~/.cabal will give you anything
01:11:07 <bergmark> srhb: i've never had to rm ~/.cabal
01:11:14 <MrWoohoo> should I delete both dirs. I would really, REALLY like to do that at this point. *grumble*
01:11:16 * srhb nods
01:11:18 <dzack> But if I have a function that returns, say a Bool, that I usually evaluate with "value <- doFunction"
01:11:22 <felixn> mauke: not really, that's that's like virtualenv for Python which doesn't solve the problem.  the only package manager I've seen that does this very well is NPM
01:11:33 <srhb> MrWoohoo: Sure, go ahead, unless you want to save your cabal config
01:11:41 <dzack> is there any way to call "doFunction" in a pure function, evluate it, and extract the result?
01:11:49 <MrWoohoo> zero interest
01:12:04 <srhb> dzack: Well, you're not asking what you think you're asking
01:12:07 <mauke> dzack: if doFunction returns a Bool, then <- is invalid
01:12:18 <felixn> with NPM, you can easily have 20 versions of underscore installed, and everything works great
01:12:24 <srhb> dzack: If you have a value foo :: Monad m => m a -- there is no way in general to "extract" an a from that.
01:12:32 <srhb> dzack: Which is the question you meant to ask.
01:12:54 <felixn> with Python's pip or cabal, you would only have 1 version of a package, even if it breaks other dependencies
01:13:25 <merijn> felixn: That's because npm doesn't really do any package management, it just blindly believes dependency bounds are right and copies the source in your directory and if there's a compat problem you'll notice at runtime (unless it silently goes wrong...)
01:13:49 <sivteck> cabal is a build tool
01:13:56 <Arahael> imho, pip tends to deal with more stable packages.
01:14:02 <Arahael> hackage is... All over the place.
01:14:07 <srhb> sivteck: cabal-install is a bit more than that.
01:14:11 <merijn> Actually ghc can handle multiple versions of the same package already, but cabal hasn't been expanded to deal with that as it has complex UI issues
01:14:11 <dzack> srhb: yeah, still coming to grips with monads. in reality, it's wrapped up as an acid-state component, where every query uses do/return syntax
01:14:54 <felixn> merijn: hmmm, that doesn't make sense, the developer of the package has the ability to chose what version they want
01:15:00 <merijn> Arahael: Also, there's much more package use/reuse on hackage than on, say, python so the dependency issues are harder
01:15:05 <Arahael> kadoban: I would suggest that maybe cabal is too low-level with it's errors.
01:15:08 <srhb> dzack: Indeed, that's what one usually does.
01:15:10 <Arahael> merijn: That, as well, yes.
01:15:20 <Arahael> I've noticed that python's pip seems to get confused rather easily.
01:15:22 <merijn> felixn: Right, and the dependency bounds I see most devs specify are usually wrong, even in haskell
01:15:38 <merijn> Arahael: cabal gets so much shit, but it's actually pretty amazing how well it works
01:15:45 <Arahael> merijn: Speaking of dep bounds...  Is there a right way to do those?
01:15:56 <srhb> Arahael: Being smart and testing a lot. :-)
01:16:05 <felixn> merijn: well that's two different issues though, the library maintainer writing bad code, vs the package manager switching their dependency on them, thus making the package bad (not their intentions)
01:16:13 <dzack> srhb: in that case, my thought was that I could return a Query SomeDataStructure Bool, and somewhere down the line use the bool in some case logic
01:16:19 <Arahael> srhb: Other than that! :)
01:16:27 <srhb> Arahael: Afraid not.
01:16:27 <bergmark> Arahael: https://wiki.haskell.org/Package_versioning_policy
01:16:44 <Arahael> srhb: I was hoping that there was sem-ver or something applicable.
01:16:52 <dzack> i.e., if it's a Map, check for membership
01:17:28 <srhb> dzack: Generally you'll be doing things like do { storedBool <- query ...; doThingsWith storedBool; ... }
01:18:01 <merijn> Arahael: PVP is more precise than sem-ver
01:18:15 <merijn> Arahael: Although there's no guarantee of every package following PVP
01:18:17 <srhb> dzack: But I think your question is too vague to answer. Give us some example code instead :)
01:18:48 <Arahael> merijn: I'll check it out. I see that the top hit is haskell.
01:19:44 <merijn> Arahael: Bergmark just linked it ;)
01:23:12 <MrWoohoo> this sums up my experience with cabal tonight. Error msg: "Use --reinstall if you want to reinstall anyway." Then, when you USE the option it says, "Oh, it's DANGEROUS! Doing it anyway..."
01:23:32 <MrWoohoo> Can they tell me it's dangerous BEFORE telling me to do it?
01:23:35 -fractionuser(~fraction@host81-151-34-9.range81-151.btcentralplus.com)- Join others in our free webhosting program. To apply visit https://www.criosphinx.net for hosting support visit http://www.criosphinx.net.community
01:23:44 <MrWoohoo> argh
01:23:48 <felixn> wtf is that bs
01:24:00 <MrWoohoo> ban the bot
01:24:08 <felixn> well it's gone :)
01:24:42 <kadoban> MrWoohoo: IIRC it does tell you. Are you sure you just didn't miss it the first time?
01:26:28 <mauke> MrWoohoo: what did it say before the "anyway"?
01:31:20 <merijn> MrWoohoo: It DOES say it's dangerous before you do it
01:31:26 <Arahael> MrWoohoo: If it's dangerious, do it in a sandbox. ;)
01:32:34 <merijn> Wait, did that warning change?
01:35:37 <jle`> i didn't even know that there was a .community TLD
01:35:54 <felixn> jle`: and .gg!  get em while their hot
01:36:01 <felixn> they're *
01:36:03 <kadoban> There's about a billion gTLDs now
01:36:21 <kadoban> You no longer have any chance of guessing which are real and fake anymore.
01:36:29 <felixn> lol
01:36:54 <jle`> why ;_;
01:37:02 <felixn> .ninja, real or fake?
01:37:25 <kadoban> real, but so hidden you'll never find it
01:37:42 <jle`> acccording to wikipedia its target is for "general expertise".
01:37:49 <jle`> .moe is for "japanese otaku culture"
01:37:53 <jle`> i guess it's about time otakus got their break
01:38:58 <jle`> .ooo is a thing too
01:42:34 <ReinH> jle`: o/
01:42:41 <jle`>  \o
01:42:44 <jle`> are you at bayhac?
01:42:47 <jle`> is anyone at bayhac?
01:42:53 <ReinH> jle`: no :( :( :( :( :( :(
01:43:07 <jle`> ):
01:43:17 <jle`> ): ): ): ): ):
01:43:21 <ReinH> jle`: did you see my t hing about L-systems?
01:43:24 <ReinH> *thing
01:43:30 <jle`> gotta close your parentheses man
01:43:36 <jle`> no i didn't
01:43:38 <jle`> link?
01:43:45 <ReinH> jle`: you know what L-systems are?
01:43:48 <jle`> i have been out of the haskell loop the past couple of weeks
01:44:06 <jle`> lindenmayer systems?
01:44:12 <jle`> did i spell the name right
01:44:18 <ReinH> Yep.
01:44:27 <ReinH> Anyway, they have a very nice denotation.
01:44:31 <saulzar_> How about com.microsoft.www
01:44:37 <ReinH> Surprisingly simple.
01:44:48 <jle`> would be interested in seeing this :)
01:44:52 <ReinH> jle`: http://hackage.haskell.org/package/lindenmayer-0.1.0.1/docs/src/Lindenmayer-D0L.html
01:45:23 <ReinH> They are the fixed point of a coalgebra
01:45:34 <jle`> cute :3
01:45:40 <ReinH> :)
01:45:52 <ReinH> Note that the data structure just packages up the arguments to (>>=)
01:45:55 <ReinH> ;)
01:46:03 <jle`> mhm
01:46:11 <ReinH> and generate is really coiter for Cofree Identity
01:46:13 <jle`> this looks like
01:46:20 <jle`> coreader
01:46:27 <ReinH> Cofree Identity ;)
01:46:45 <jle`> ah yea
01:46:58 <ReinH> anyway I'm writing up a little functional pearl :)
01:47:00 <jle`> so that's neat
01:47:04 <jle`> can this generalize to other things?
01:47:14 <ReinH> That's what I'm trying to figure out
01:47:26 <ReinH> But quite probably yes
01:48:23 <jle`> cofree identity
01:48:27 <jle`> moore machines
01:48:32 <jle`> ?
01:48:34 <ocramz> hi all 
01:48:53 <ReinH> Cofree Identity is just an infinite stream
01:49:29 <ocramz> what's the modern-day (ghc 7.8.3) equivalent of ioe_handle in GHC.IOBase? (used in http://okmij.org/ftp/Computation/resource-aware-prog/SafeHandlesFM.hs )
01:49:42 <ReinH> it's isomorphic to data Stream a = a :< Stream a
01:49:46 <jle`> yeah
01:50:34 <ReinH> jle`: and yes, you can use this to generate real fractals: https://dl.dropboxusercontent.com/u/632742/turtle.svg
01:50:44 <ReinH> via https://github.com/reinh/hs-lindenmayer/blob/master/examples/Turtle.hs
01:51:43 <jle`> nice :)
01:51:56 <ReinH> jle`: :)
01:53:41 <jle`> is there any advantage you get than just `iterate rls "FX"`
01:53:44 <jle`> *over just
01:53:51 <jle`> in terms of denotation
01:53:56 <jle`> er
01:54:01 <jle`> iterate (>>= rls) "FX"
01:54:20 <ReinH> It's the same thing.
01:54:26 <ReinH> But it's nice to have them packaged up
01:54:42 <jle`> yeah
01:54:44 <jle`> hm
01:54:56 <ReinH> you could, e.g., conceivably write a Get or FromJSON instance, whatever.
01:55:10 <ReinH> or some other parser
01:55:27 <ReinH> which would make it easy to read from a file
01:55:43 <jle`> ah yeah, i see
01:55:44 <jle`> :3
01:55:55 <jle`> it's an interesting encoding
01:56:21 <ReinH> It's the essence of an L-system :)
01:56:32 <jle`> the shape of the thing looks like something similar to something i've been playing with
01:56:48 <jle`> but it's not mature enough for me to actually make a concrete link
01:56:57 <ReinH> hmm
01:56:59 <ReinH> what's that?
01:57:24 <jle`> but yeah, i can see how it's a nice denotation of an l system
01:57:45 <ReinH> (final coalgebras are in general somewhat "fractally", as Eugenia Cheng mentioned when I showed it to her ;)
01:57:53 <ReinH> There's been a very small amount of related stuff published
01:58:17 <jle`> does eugenia come out to conferences? :o
01:58:25 <ReinH> Most closely, Leinster's "A general theory of self-similarity" http://arxiv.org/pdf/1010.4474v2.pdf
01:58:30 <ReinH> Math conferences, probably.
01:58:40 <jle`> did you show it to her in person?
01:58:41 <ReinH> She's on a book tour now. I actually missed her Portland visit and was sad.
01:58:45 <ReinH> No, twitter.
01:58:48 <jle`> ah i see
01:59:17 <jle`> a lot of the category theorists at my uni specialize in studying coalgebras, i wonder if i could dig out any insight
02:00:00 <ReinH> you should do that :)
02:01:37 <jle`> anyways the thing i was talking about is not my idea originally, but it's a monadic Store, instead of Store s (s -> a), a Store (m s) (s -> m a) or Store s (s -> m a).  in this restricted sense then your step is just `extend`
02:01:42 <jle`> on the former one
02:02:45 <jle`> it might get you some sort of unification with other abstractions but i'm not sure what it would add to the denotative aspect
02:02:58 <jle`> um not extend
02:03:13 <jle`> er, duplicate?
02:03:19 <jle`> wait ><
02:03:21 <jle`> it made sense in my head
02:03:33 <ReinH> Ah, yes, that is interesting
02:03:50 <jle`> it fell apart as i tried to think about it
02:04:12 <ReinH> This is exactly the comonadic part of the monad/comonad pair I have implicitly built
02:04:25 <ReinH> it's a Kleisli Store ;)
02:04:37 <jle`> yeah heh, that's what they call it
02:04:45 <jle`> ah so it's not exactly what you have, but it's some dual
02:04:56 <ReinH> For all your Kleisli Arrow related needs
02:05:07 <jle`> because you get in the end a stream of [m s]'s
02:05:22 <jle`> er, hm
02:05:34 <ReinH> Oh, but you can wham a Free Identity on there!
02:05:50 <ReinH> Oh, never mind, no need
02:05:52 <jle`> such dual
02:05:58 <ReinH> but the [m a] is what I want
02:06:23 <ReinH> or Stream (m a) really, but whatever
02:06:35 <jle`> actually this is actually fundamentally different in ways i didn't see, i think heh
02:06:44 <ReinH> how so?
02:08:14 <jle`> well, the link i initially saw is actually different than i thought.  so if you see one then that means you see it more clearly than i do :)
02:08:22 <jle`> this might be a sign that i should get to bed :)
02:08:44 <ReinH> Now I want to know what coalgebra costate comonad coalgebras are.
02:08:58 <jle`> but thanks for getting me thinking :)
02:09:03 <ReinH> :)
02:09:05 <ReinH> ditto
02:26:08 <kuribas> It's a shame haskell numeric libraries are so fragmented.  There is dsp, hmatrix, matrix, etc... but they all use a different representation.
02:26:38 <kuribas> It's would be nice to have a single package that does ALL, like numpy in python.
02:28:32 <kuribas> Based on a single representation, for example REPA.
02:28:33 <lpaste> MrWoohoo pasted “cabal hell” at http://lpaste.net/134480
02:29:03 <MrWoohoo> is there a simple way to figure out what I need to have cabal install?
02:30:20 <MrWoohoo> the world sleeps :(
02:30:23 <Haskellfant> kuribas: there is also the numerical package :)
02:30:32 <kuribas> MrWoohoo: cabal install xml-conduit I guess?
02:31:07 <MrWoohoo> yeah, but that is just the START of an endless trail of broken dependancies I've been chasing all night to no avail
02:31:39 <Haskellfant> well this needs http-conduit, html-conduit, xml-conduit and text as far as i can see
02:31:48 <MrWoohoo> but let me try once more. I've been frustrated. probably made a mistake
02:32:02 <ReinH> MrWoohoo: it would help if you included the errors you get when you try to install
02:32:04 <Haskellfant> just hoogle the modules to find the packages that contain them
02:32:06 <MrWoohoo> I can put those in one line?
02:32:25 <Haskellfant> yep
02:32:55 <Haskellfant> you probably even should do that because then the dependencies are resolved together
02:33:11 <ReinH> You should put your dependencies in a cabal file and let cabal install figure out an install plan
02:33:13 * MrWoohoo crosses fingers and goes afk for a few minutes
02:33:18 <ReinH> installing a bunch of things separately is not guaranteed to work
02:33:34 <kuribas> Haskellfant: where?
02:33:49 <kuribas> Haskellfant: it's not on hackage...
02:33:56 <Haskellfant> kuribas: https://github.com/wellposed/numerical it's still pre alpha or whatever
02:33:58 <ReinH> (it's also not guaranteed that cabal will find a plan for all your dependencies, but at least then you'll get an error)
02:34:02 <MrWoohoo> I will explore how to create my first cabal file when I return. thanks!
02:34:18 <ReinH> MrWoohoo: cabal init and answer a few questions
02:34:19 <Haskellfant> I have not actually tried it so I can't comment on how usable it is
02:35:17 <MrWoohoo> I *think* I've done a cabal init.. the cabal install is proceeding happily... I did it already then, right?
02:35:35 <Haskellfant> you need to put your dependencies in the .cabal file
02:38:07 <MrWoohoo> Hmmm
02:38:08 <MrWoohoo> boo.hs:3:8:
02:38:10 <MrWoohoo>     Could not find module ‘Network.HTTP.Conduit’
02:38:27 <MrWoohoo> okay. I'll make a cabal file when I get back
02:46:00 <MrWoohoo> I name the file ".cabal" in the sandbox dir, right?
02:46:30 <MrWoohoo> I'm looking at this page https://howistart.org/posts/haskell/1
02:54:23 <ReinH> MrWoohoo: use cabal init to generate the cabal file
02:54:38 <ReinH> @hoogle Network.HTTP.Conduit
02:54:38 <lambdabot> package conduit
02:54:38 <lambdabot> package conduit-audio
02:54:38 <lambdabot> package conduit-audio-lame
02:54:53 <MrWoohoo> thanks! trying...
02:54:55 <ReinH> Hoogle will often tell you what package you need
02:55:03 <merijn> That's wrong
02:55:09 <merijn> It's in, obviously, http-conduit
02:55:17 <ReinH> Also this version of hoogle is more complete https://www.fpcomplete.com/hoogle
02:55:22 <MrWoohoo> package name? default haskell?
02:55:36 <merijn> MrWoohoo: Whatever name you want and haskell2010
02:55:52 <ReinH> fpcomplete's hoogle gets the package for Network.HTTP.Conduit right
02:56:09 <ReinH> haskell.org's does not
02:56:12 <ReinH> fwiw
02:57:24 <MrWoohoo> cabal init successful! Um, now what?
02:57:49 <ReinH> cabal install
02:58:29 <ReinH> It will almost certainly fail, and then you can use the error messages to add to the build-depends section
02:58:42 <ReinH> rather, to help determine what to add to the build-depends section
03:02:44 <MrWoohoo> can't find source for Main
03:02:46 <MrWoohoo> in .
03:02:48 <MrWoohoo> ???
03:03:05 <merijn> Did you specify the right name for you executable?
03:03:19 <merijn> It prompts you, but if you pick the default it assumes your program is named Main.hs
03:03:54 <MrWoohoo> ah... I can edit the cabal file directly, right?
03:07:53 <merijn> MrWoohoo: Yeah
03:08:06 <merijn> MrWoohoo: cabal init is just an easy way to autogenerate a bunch of stuff for you
03:08:08 <MrWoohoo> it's working... um, better
03:08:18 <MrWoohoo> gotcha
03:08:55 <MrWoohoo> mind if I paste a 8-10 line error to the channel?
03:09:43 <lpaste> MrWoohoo pasted “latest problem” at http://lpaste.net/134482
03:10:59 <Haskellfant> why are you installing DOM again?
03:11:24 <Haskellfant> that package is ancient and won't work on a fairly modern setup
03:11:59 <merijn> MrWoohoo: It's complaining you have incompatible dependencies
03:12:16 <merijn> MrWoohoo: i.e., DOM insists on "WebBits==0.15"
03:12:43 <merijn> But your parsec/network-uri packages aren't compatible with the versions WebBits wants
03:13:08 <merijn> DOM was last updated in 2009, so...
03:13:21 <MrWoohoo> LOL Knowledge, yet it means nothing to me.... kidding, it is a help
03:13:44 <MrWoohoo> is there a more up-to-date DOM replacement?
03:14:29 <MrWoohoo> I keep reading about has haskell and backwards compatibility but this has been pretty painful
03:15:07 <Haskellfant> we told you an hour or so ago that you should use html-conduit which is what the tutorial you linked to uses
03:16:50 <Haskellfant> (sorry if I'm sounding harsh)
03:23:25 <breadmonster> Hey everyone.
03:23:52 <breadmonster> Is there a way to extend Haskell's module system to something a la OCaml/SML?
03:24:37 <breadmonster> ghc extensions and so on?
03:25:09 <Haskellfant> Can I refer to the build directory inside of a cabal file instead of hardcoding it to dist? c2hs generates a c file that I need to put into c-sources, but hardcoding the path to dist breaks if the builddir is not dist but e.g. stack-dist
03:25:57 <MrWoohoo> no, not being harsh. I apologize... I've been thrashing around. I'll try that instead of the DOM package, right?
03:26:01 <merijn> Haskellfant: You can query the builddir in the custom config hook?
03:26:21 <breadmonster> merijn: Are you fluent with OCaml?
03:26:39 <Haskellfant> merijn: I guess I have some reading to do on custom config hooks, thanks :)
03:27:03 <merijn> breadmonster: Nope
03:33:24 <MrWoohoo> the cabal package name for Text.XML.Cursor is going to be xml-cursor? 
03:33:45 * hackagebot yesod-persistent 1.4.0.3 - Some helpers for using Persistent from Yesod.  http://hackage.haskell.org/package/yesod-persistent-1.4.0.3 (MichaelSnoyman)
03:33:48 * hackagebot yesod-auth 1.4.5.1 - Authentication for Yesod.  http://hackage.haskell.org/package/yesod-auth-1.4.5.1 (MichaelSnoyman)
03:35:03 <pantsman-> MrWoohoo, that module is in xml-conduit
03:35:13 <MrWoohoo> thanks
03:35:41 <MrWoohoo> how could I have discovered that without bothering you? For future reference
03:36:19 <ReinH> MrWoohoo: you can use hoogle, as I mentioned earlier
03:36:26 <ReinH> https://www.fpcomplete.com/hoogle
03:36:38 <ReinH> search for the module name and it will usually tell you the package
03:37:10 <pantsman-> I often use Google instead, Hoogle actually gives the wrong answer first.
03:37:15 <MrWoohoo> my fails using it look similar to this https://www.haskell.org/hoogle/?hoogle=xml.cursor
03:37:29 <pantsman-> the first hoogle result is from Text.XmlHtml.Cursor, which doesn't even match the package
03:37:56 <pantsman-> from xmlhtml, I mean
03:38:02 <ReinH> MrWoohoo: well, that's not the module name
03:38:03 <MrWoohoo> OMG OMG OMG... I think I fixed it! Sorta
03:38:22 <MrWoohoo> well, you guys fixed it
03:38:57 <MrWoohoo> right, but how do you go from the type name to the package? I don't see anything consistant
03:39:39 <ReinH> When I said "search fo the module name", I did not mean "search for something which is vaguely similar to, but not, the module name" :p
03:39:50 <mauke> MrWoohoo: what type?
03:40:37 <pantsman-> MrWoohoo: if you already have the package installed, you can run ghc-pkg find-module
03:40:43 <ReinH> the line under the result, in thise case "module Text.XML.Cursor", lists the package
03:40:55 <ReinH> *this
03:41:14 <pantsman-> e.g. ghc-pkg find-module Text.Xml.Cursor
03:41:16 <MrWoohoo> Text.XML.Cursor how was what I had.. https://www.haskell.org/hoogle/?hoogle=Text.XML.Cursor 
03:41:35 <ReinH> it lists the package and then the module name: 
03:41:36 <ReinH> xml-conduit Text.XML.Cursor
03:41:37 <MrWoohoo> how was I supposed to discover the right conduit package for it?
03:41:52 <ReinH> ... by searching for the module name
03:42:13 <ReinH> The link I gave you was https://www.fpcomplete.com/hoogle
03:42:25 <mauke> ReinH: that only works by accident
03:42:30 <ReinH> mauke: ?
03:42:35 <ReinH> what only works by accident?
03:42:47 <mauke> hoogle doesn't know about module names, apparently
03:42:53 <ReinH> https://www.fpcomplete.com/hoogle does
03:42:55 <MrWoohoo> THANK YOU PLANTSMAN! 
03:43:13 <ReinH> which is why I have been repeatedly linking to it rather than https://www.haskell.org/hoogle
03:43:13 <mauke> ah, down there
03:43:24 <mauke> ReinH: not with "exact lookup"
03:43:36 <breadmonster> mauke ReinH: do either of you contribute to ghc?
03:43:44 <ReinH> Then... dont check exact lookup? :p
03:43:46 * hackagebot persistent-template 2.1.3.4 - Type-safe, non-relational, multi-backend persistence.  http://hackage.haskell.org/package/persistent-template-2.1.3.4 (MichaelSnoyman)
03:43:48 * hackagebot mono-traversable 0.9.2 - Type classes for mapping, folding, and traversing monomorphic containers  http://hackage.haskell.org/package/mono-traversable-0.9.2 (MichaelSnoyman)
03:44:03 <MrWoohoo> I love you plantsman, you have my eternal gratitude... and I'm not being sarcastic
03:44:10 <mauke> ReinH: then it still finds type Cursor first
03:44:14 <MrWoohoo> pantsman
03:44:18 <mauke> pantsman-
03:44:24 <pantsman-> MrWoohoo, you're welcome :P
03:44:33 <ReinH> mauke: yeah, but then you can just ctrl-f for the module name, which you probably already have in your clipboard anyway
03:44:51 <pantsman-> I have even written a program to make it a little easier to find the haddock docs this way: https://github.com/bmjames/trawl
03:44:51 <mauke> this interface sucks
03:44:52 <ReinH> since in this case you've copied it from a ghc error message
03:44:55 <ReinH> mauke: yep
03:45:36 <ReinH> pantsman-: nice
03:45:39 <MrWoohoo> Ooooooo, that's a DIFFERENT search engine than google proper... 
03:45:44 <MrWoohoo> hoogle
03:46:27 <pantsman-> it is quite bare-bones, e.g. to work in cabal sandboxes, you need to run it inside of cabal exec
03:46:56 <pantsman-> I should probably note that in the readme...
03:48:33 <MrWoohoo> ReinH: The prominent "google" on the fp page made me think it was simply a form for the regular google search. sorry for goofing
03:48:46 * hackagebot conduit-combinators 1.0.1 - Commonly used conduit functions, for both chunked and unchunked data  http://hackage.haskell.org/package/conduit-combinators-1.0.1 (MichaelSnoyman)
03:49:23 <MrWoohoo>  /s/google/hoogle/
03:52:42 <quazimodo> hullo
03:54:34 <Athas> Does anyone here know of any work on loop distribution/fission in a functional setting, i.e, where the algorithm operates on map/reduce-nests?
03:55:32 <pacak> Suppose I have a list: [('1', "abc"), (2, "ade"), (3, "df")] and I want to get something similar to [("12", 'a'), ("1", 'b'), ("1", 'c'), ("23", 'd'), ("2", 'e'), ("3", 'f')]. Obvious solution is something like composition of zip, groupBy, sorbBy, but it's kind of ugly. Any better ideas?
03:57:04 <peterson> Athas: you could have a chat to amosrrr on #haskell.au ... I believe his research topic is around optimising list fusion etc. I'm sure he could point you in the right direction.
03:58:14 <ReinH> pacak: I don't see the pattern.
03:58:33 <ReinH> (also your given list is invalid)
03:58:47 * hackagebot basic-prelude 0.5.0 - An enhanced core prelude; a common foundation for alternate preludes.  http://hackage.haskell.org/package/basic-prelude-0.5.0 (MichaelSnoyman)
03:59:34 <MrWoohoo> hmmm, ghci doesn't know about foo.s's foo.cabal file? so I get load errors?
03:59:46 <Athas> peterson: thanks, I will write him.
03:59:48 <pacak> ReinH: get list of tuples from the first list - (1, a), (1, b), (1, c), (2, a), (2, e)  and so on, then group them by second argument
03:59:53 <MrWoohoo> foo.hs
03:59:59 <peterson> Athas you're welcome
04:00:28 <pacak> 2 and 3 are also chars in the first list, right.
04:00:52 <breadmonster> how do you implement zip using the List monad?
04:03:15 <merijn> MrWoohoo: Use "cabal repl" to start ghci inside your sandbox
04:06:25 <MrWoohoo> thanks
04:08:33 <MrWoohoo> I said "cabal install foo" when I meant to say "cabal install boo
04:09:02 <MrWoohoo> I interrupted it and now it says "cabal install boo
04:09:04 <MrWoohoo> cabal: There is no package named 'boo'.
04:09:06 <MrWoohoo> You may need to run 'cabal update' to get the latest list of available
04:09:08 <MrWoohoo> packages.
04:12:11 <MrWoohoo> Ah, "cabal install" is what I need, no package name
04:12:13 <ReinH> well, there isn't a package named boo http://hackage.haskell.org/package/boo
04:12:27 <MrWoohoo> right. it's late. figured it out
04:13:10 <ReinH> breadmonster: you can't
04:13:53 <breadmonster> ReinH: Interesting, I thought the List monad could take care of any list operations.
04:14:07 <breadmonster> How are list comprehensions equivalent to the list monad though then?
04:14:30 <Haskellfant> how do you implement zip using list comprehensions?
04:14:42 <breadmonster> `zip xs ys = [(x,y) | x <- xs, y <- ys]` right?
04:14:48 <ReinH> no
04:14:56 <ReinH> try it
04:14:57 <Haskellfant> that's the cartesian product
04:15:15 <Haskellfant> > [(x,y) | x <- [1..3], y <- [1..3]]
04:15:17 <lambdabot>  [(1,1),(1,2),(1,3),(2,1),(2,2),(2,3),(3,1),(3,2),(3,3)]
04:17:57 <ronh-> that is liftA2 (,)
04:28:59 <maerwald> @type flip . flip maybe
04:29:00 <lambdabot> (a -> c) -> Maybe a -> c -> c
04:29:08 <maerwald> interesting idiom
04:29:25 <maerwald> was a bit confusing to see for the first time
04:31:12 <mauke> > [ () | _ <- [()] | _ <- [()] ]
04:31:14 <lambdabot>  [()]
04:31:31 <mauke> > [ (x,y) | x <- [1,2,3] | y <- "ab" ]
04:31:33 <lambdabot>  [(1,'a'),(2,'b')]
04:33:12 <ReinH> oh right, parallel list comp
04:33:48 * hackagebot yesod-bin 1.4.10 - The yesod helper executable.  http://hackage.haskell.org/package/yesod-bin-1.4.10 (MichaelSnoyman)
04:38:30 <maerwald> @type (flip .) . flip $ maybe
04:38:31 <lambdabot> (a -> c) -> Maybe a -> c -> c
04:38:49 <kostis> hello guys!
04:39:14 <maerwald> does it even give any advantages to use obfuscated function composition with flip instead of just doing it pointful? compiler optimizations?
04:40:59 <maerwald> as in: "\f -> (flip .) . flip $ f" vs "\f a b c -> f b c a"
04:53:46 <ReinH> maerwald: no, making things harder to understand does not offer any advantages, all else being equal
04:54:58 <maerwald> ReinH: but why is pointfree code so popular these days (to my experience), even in cases where it does not offer *any* advantage
04:55:20 <ReinH> I don't agree that it is popular in cases where it doesn't offer any advantage
04:55:32 <maerwald> maybe I'm looking at the wrong code then :o
04:55:54 <ReinH> and anyway, popularity does not imply correctness
04:56:14 <ReinH> although they can be somewhat correlated
04:56:43 <maerwald> I vote for removing the @pl feature :P
04:56:56 <ReinH> pointfree style is popular because it makes it easier to reason about function composition
04:57:05 <ReinH> and function composition is an important thing to be able to reason about
04:57:11 <maerwald> sometimes I feel people really use @pl to "refactor" their code
04:57:34 <maerwald> I'd say if you cannot figure out the pointfree version yourself, don't do it?
04:58:11 <ReinH> that seems like a reasonable approximation
05:00:15 <realloc1> hi.. may I ask some questions about haskell tools here?
05:00:30 <maerwald> realloc1: no
05:00:33 <maerwald> jk ;)
05:04:07 <realloc1> 'kay^^  I'm currently trying to learn haskell and therefore it would be cool to also have a compiler or at least an interpreter while beeing "on the go". Unfortunately, there seems to be no "ready to use" solution for android (ghc for android terminal for example). Did someone of you ever try to compile ghc for android or do you know better ways?
05:05:06 <maerwald> realloc1: I personally didn't but here are some links e.g. for crosscompiling that might help https://wiki.haskell.org/Android
05:05:26 <maerwald> but I have no idea if they are up2date
05:06:19 <realloc1> ty
05:06:25 <maerwald> https://github.com/neurocyte/ghc-android and this looks also relevant
05:30:47 <ocramz> anyone with some inline-c experience ?
05:31:00 <ocramz> 'expecting type name, got identifier'
05:31:33 <ocramz> though I declared it in the types table, as in inline-c-nag
05:38:59 -fractionuser(~fraction@host81-151-34-9.range81-151.btcentralplus.com)- Get free basic website hosting + Downloads to free premium HTML 5 Responsive templates start now at http://www.criosphinx.net/community
05:57:39 * saulzar_ grumbles about having to import so many different kinds of Text/ByteString
06:23:52 * hackagebot leksah-server 0.15.0.2 - Metadata collection for leksah  http://hackage.haskell.org/package/leksah-server-0.15.0.2 (HamishMackenzie)
06:25:19 <cinimod> I am looking at the haddock sources
06:25:35 <cinimod> At one point it seems that Binary instances were generated by DrIFT
06:25:55 <cinimod> What is the recommended way to generate Binary instances in these enlightened times?
06:27:53 <saulzar_> cinimod, By deriving Generic   ( DeriveGeneric language extension)
06:28:26 <saulzar_> cinimod, e.g.    data Foo = Foo deriving Generic,  then you can just write instance Binary Foo and you're done
06:36:13 <augur> breadmonster: hey, if you wanna chat some more, lemme know :0
06:36:15 <augur> :)
06:37:08 <hodapp> Hmm... comonads are starting to sound like something I've been using, just without acknowledging them as such.
06:40:21 <webchat099> comonads like al co-things have few use cases
06:41:08 <hodapp> I'm not particularly concerned with how they fare in a popularity contest.
06:42:54 <webchat099> less use cases -> harder to understand
06:43:42 <webchat099> because understand by means of examples
06:44:45 <nschoe> anybody has experience with the websockets library? I'd like to know how to handle the connection being closed by the client (a browser). Currently I've got a bunch of 'ConnectionClosed' showing on the console. I'd like to know how I can "catch" these disconnections are act correctly on them.
06:44:50 <hodapp> Quantity of examples frequently makes something harder, not easier, to understand.
06:45:49 <cinimod> saulzar_ I get a warning
06:45:57 <cinimod> src/Haddock/InterfaceFile.hs:471:10: Warning: No explicit implementation for ‘get’
06:45:57 <cinimod>  
06:46:58 <saulzar_> cinimod, Well you are using the default implementation ...
06:47:21 <saulzar_> cinimod, Not sure there's anything wrong with that?!
06:47:36 <saulzar_> nschoe, I have, let me see what I do..
06:47:58 <cinimod> saulzar_ but then why no warning for put_?
06:48:11 <saulzar_> cinimod, I don't know :)
06:48:59 <nschoe> thx
06:49:36 <saulzar_> nschoe, I just enclose everything in a finally block from Control.Exception, I believe it throws an exception when the user quits
06:50:25 <saulzar_> flip finally myDisconnectHandler $  do ....  
06:50:41 <nschoe> saulzar_, okay. I was tempted to do that. But my question then is: "what is 'everything'?". I mean at what point do you call finally? Is is right after you called acceptRequest ?
06:51:38 <saulzar_> nschoe, I do it after the point which they've logged in  (at the point which I actually care if they disconnect)
06:52:25 <saulzar_> Otherwise, if they fail to login then I don't care if they come and go
06:52:30 <nschoe> saulzar_, Okay. And so the call to 'finally' prevents the annoying 'ConnectionClosed' beign dumped to the console, right?
06:54:07 <saulzar_> nschoe, I think you actually have to catch the exception for that, finally re-throws it after the cleanup code (I believe)
06:55:15 <nschoe> ok
06:55:17 <nschoe> Thx.
06:55:26 <nschoe> I'll experiment from here.
06:56:00 <saulzar_> nschoe, My code for this is not particularly refined  :)
07:03:54 * hackagebot stack 0.0.2 - The Haskell Tool Stack  http://hackage.haskell.org/package/stack-0.0.2 (MichaelSnoyman)
07:08:54 * hackagebot thumbnail-plus 1.0.5 - Generate thumbnails easily and safely.  http://hackage.haskell.org/package/thumbnail-plus-1.0.5 (FelipeLessa)
07:10:37 <hsk4> I notice that where Foo imports the Bar module, "ghc -c Foo.hs Bar.hs" will not work. Only the other way, "ghc -c Bar.hs Foo.hs", works.
07:10:38 <hsk4> Is it possible to have GHC automatically calculate the correct order?
07:10:53 <hsk4> I'm just compiling modules by the way. No main yet. Hence the -c.
07:13:55 <jume> @pl  \n -> filter (mod n i == 0) map (id)
07:13:55 <lambdabot> flip (flip filter map . (0 ==) . flip mod i) id
07:14:17 <ion> hsk4: Use cabal.
07:35:23 <bl0ndie> Hello fellow Haskellers!
07:35:31 <shiona> hello
07:35:42 <icebbyice> hi, so what do you guys do?
07:35:47 <icebbyice> with haskell..
07:36:20 <bl0ndie> icebbyice: a lot of different stuff.
07:36:30 <mauke> annoy and/or help people on irc
07:37:24 <icebbyice> bl0ndie: like?
07:38:02 <bl0ndie> well. the reason i have decided to pop onto irc is to ask about writing custom API bindings
07:38:36 <bl0ndie> I am trying to write a GitHub Client in Elm and after much digging found out that.......
07:39:43 <bl0ndie> ........the only bindings available for github (at least that I was able to find...) consist of just two API functions.
07:40:06 <bl0ndie> That's right... TWO (2) API functions.
07:40:10 <bl0ndie> haha
07:41:13 <icebbyice> i didn't understanding anything, lol. bye
07:41:47 <bl0ndie> Well everyone... sorry for the moment of spam.
07:42:17 <bl0ndie> is anyone able to point me in the right direction though?
07:43:19 <bl0ndie> i really want to write my own bindings for this project. i think it would help me learn a lot more about haskell. also, i enjoy challenges that make me think.
07:43:57 <mauke> what's elm?
07:44:29 <bl0ndie> so elm is kind of like haskell in the sense that it does conform to the FP paradigm
07:44:39 <bl0ndie> also, the syntax is very similar.
07:45:24 <bl0ndie> i should also mention that the compiler/REPL/debugging suite for Elm is written in Haskell
07:45:37 <bl0ndie> http://elm-lang.org
07:46:01 <bl0ndie> mauke: check that link. it's the homepage for Elm
07:47:26 <bl0ndie> Elm is basically a FRP language that has a graphical front end
08:06:53 <hodapp> coroutine name (CoroutineBody fromYield) = Coroutine { .. }
08:07:14 <hodapp> ...I see notation like this with a 'where' after
08:07:28 <hodapp> does this take in certain names to construct the record? I've never seen that notation before
08:08:07 <mauke> record wildcards
08:08:24 <hodapp> thanks, I'll go look those up
08:08:48 <hodapp> oh, it's a GHC extension?
08:10:18 <rofer> If there a way to have a catch-all case without generating overlapping pattern matches?
08:10:26 <ion> Huh, i didn’t know you can use RecordWildcards on the right hand side of =
08:10:51 <ion> TIL
08:11:03 <hodapp> ion: oh, how else might one use them?
08:11:23 <rofer> I have something like: case x of 1 -> 1; 2 -> 2; _ -> 3
08:13:08 <ion> hodapp: foo Bar{..} = _ is equivalent to foo Bar{barA=barA, barB=barB} = _ (but without shadowing warnings); foo _ = Bar{..} is equivalent to foo _ = Bar{barA=barA, barB=barB} given data Bar = Bar { barA :: A, barB :: B }
08:14:07 <hodapp> ion: good to know.
08:15:41 <ion> @let data Foo = Foo { fooA :: Char, fooB :: Integer } deriving Show
08:15:43 <lambdabot>  Defined.
08:16:35 <ion> > let setA :: Char -> Foo -> Foo; setA a Foo{fooA=_, ..} = Foo{fooA_a, ..} in setA 'y' (Foo 'x' 42)
08:16:36 <lambdabot>      Illegal `..' in record pattern
08:16:37 <lambdabot>      Use RecordWildCards to permit this    Illegal use of punning for field ‘...
08:16:37 <lambdabot>      Use NamedFieldPuns to permit this    Illegal `..' in record construction
08:17:52 <ion> Typoed fooA=a as fooA_a, but lambdabot doesn’t have the extension anyway.
08:23:58 * hackagebot debian-build 0.7.1.1 - Debian package build sequence tools  http://hackage.haskell.org/package/debian-build-0.7.1.1 (KeiHibino)
08:24:41 <scutigera> http://lpaste.net/134491
08:25:04 <scutigera> could some kind soul, who is familiar with attoparsec/parsec/etc.., take a look at that program.
08:25:55 <scutigera> it seems to be returning the first thing it encounters and then stops.  my guess is that i need additional plumbing between Text.IO and the parser
08:26:39 <ion> You’re not parsing the '\n' following the line. Try sepBy1 (char '\n') or whatsitsname instead of many1, or add <* char '\n' to the line parsers.
08:27:02 <slack1256> on Graphics.UI.Gtk.Entry.EntryBuffer.entryBufferInsertedText how do I get the behaviour of getLine?
08:27:06 <ion> (the two suggestions behave differently depending on whether the file has a terminating \n)
08:27:12 <slack1256> Ie just process the signal on RET
08:27:48 <saulzar_> Deriving generic instances for a simple data type, doesn't decode itself... http://lpaste.net/134492, anyone seen this?    :(     
08:28:06 <scutigera> ion: so that causes the parser to fail after the first line, is that right ?
08:28:25 <saulzar_> Sorry, deriving aeson instances using generic
08:28:45 <ion> scutigera: It causes the parser to finish in front of the \n on the first line.
08:29:13 <ion> scutigera: If you used parse (many1 aLine2 <* eof), that would cause it to fail because it expected eof but got \n
08:29:39 <ion> Or whatever eof was called in attoparsec
08:30:33 <scutigera> do char '!' <* takeWhile1 (/= '\n') <* char '\n'
08:30:45 <scutigera> did that. but i still see same behavior
08:31:04 <ion> Weird. This works but fails if you add -XRecordWildCards: ghc -ignore-dot-ghci -e 'data Foo = Bar { baz :: Integer } deriving Show' -e 'Bar { baz = 42 }'
08:31:07 <ion> I have GHC 7.10.1
08:31:47 <hodapp> http://trac.haskell.org/haddock/ticket/43 holy cow, that's STILL there?
08:31:57 <scutigera> ah - slightly different behavior
08:32:05 <ion> scutigera: Try adding the <* eof into the parse call, perhaps the error message will give a hint.
08:32:23 <scutigera> i think it's because it doesn't handle blank lines
08:32:29 <scutigera> i need a blank line parse
08:34:18 <scutigera> ok. that's weird. it failed. it's giving me "!\n#  ...
08:35:18 <scutigera> so it's ok with the first '!' line and dying on the second. looks like end of input.
08:38:41 <scutigera> oh that's tricky. i was using takeWhile1
08:39:23 <scutigera> which, exatly as you would expect, needs at least 1 character before end of line. so i switched to takeWhile and now it does what i expect.
08:39:51 <scutigera> ion: ty ! ty !
08:43:36 <koala_man> hey, on Windows hGetEncoding returns CP437 by default. is this a setting in my environment?
08:47:38 <KaneTW> can anyone think of a simpler/easier to understand form of \a -> liftA2 (,) (f $ fmap fst a) (fmap snd a)
08:48:41 <scutigera> @hoogle liftA2
08:48:41 <lambdabot> Control.Applicative liftA2 :: Applicative f => (a -> b -> c) -> f a -> f b -> f c
08:48:44 <saulzar_> So data types with one constructor and one element are unpacked to the type of the element when encoded with Aeson/Generic... and it fails to decode them, add extra constructor or element and no issue it seems :/
08:48:53 <mauke> :t \a -> liftA2 (,) (?f $ fmap fst a) (fmap snd a)
08:48:54 <lambdabot> (Applicative f, ?f::f a1 -> f a) => f (a1, b) -> f (a, b)
08:49:29 <KaneTW> it's essentially an implementation of
08:49:32 <KaneTW> :t first
08:49:33 <lambdabot> Arrow a => a b c -> a (b, d) (c, d)
08:49:51 <KaneTW> for a datatype data SF a b = SFArr (Maybe a -> Maybe b)
08:50:31 <KaneTW> @let data SF a b = SFArr (Maybe a -> Maybe b)
08:50:32 <lambdabot>  Defined.
08:50:38 <KaneTW> @let first' (SFArr f) = SFArr $ \a -> liftA2 (,) (f $ fmap fst a) (fmap snd a)
08:50:39 <lambdabot>  Defined.
08:50:41 <KaneTW> :t first'
08:50:42 <lambdabot> SF a1 a -> SF (a1, b) (a, b)
08:50:57 <kadoban> :t \f -> fmap $ first f   -- that ?
08:50:58 <lambdabot> Functor f => (b -> c) -> f (b, d) -> f (c, d)
08:51:24 <ion> Reported https://ghc.haskell.org/trac/ghc/ticket/10520#ticket
08:51:55 <monochrom> koala_man: it is a windows default. consider "chcp 65001"
08:52:01 <KaneTW> i'm trying to give an example of `first'  for signal functions to people who haven't seen FRP or Arrows or anything before
08:52:20 <koala_man> monochrom: awesome, thanks
08:52:32 <KaneTW> so that would be sort of circular kadoban 
08:54:20 <xeno> Forkk: that's true, it's not type safe in any way at all
08:54:27 <xeno> #($*@*#@
08:54:30 <xeno> scroll failure 
08:54:32 <koala_man> monochrom: now my data is read correctly, but when I putStrLn I still end up with garbage
08:55:36 <kadoban> KaneTW: Factor it out and give it a name then maybe? I dunno.     onFirst :: (a -> b) -> (a, c) -> (b, c)    ?
08:57:04 <monochrom> then I don't know
08:57:23 <koala_man> monochrom: I read an æ, printed it, and I correctly get "\230". but when I write it to stdout, where hGetEncoding stdout and chcp agree on utf-8, I get a line drawing character and superscript, which copypastes as Ã¦ 
08:58:10 <koala_man> the windows console is such a legacy mess.
08:59:42 <KaneTW> kadoban: yeah, i guess
09:01:05 <kadoban> I suspect there's just not going to be a good way to see it without separating the tuple bits from the functor bits, or whatever.
09:01:36 <KaneTW> i can probably just explain it in a few words
09:01:45 <scutigera> does <|> actually evaluate in order ?
09:02:02 <KaneTW> i suspect the non-haskellers will fall asleep within minutes and anyone who still stays awake can follow my explaination
09:02:04 <scutigera> i mean is that in it's definition ?
09:04:03 <srhb> > Just 2 <|> undefined
09:04:04 <lambdabot>  Just 2
09:04:08 <srhb> > Nothing <|> undefined
09:04:10 <lambdabot>  *Exception: Prelude.undefined
09:04:18 <srhb> scutigera: But it's all about the specific instances
09:04:36 <scutigera> well i'm using it in attoparsec for the obvious application
09:04:40 <srhb> I can't think of one where it would make sense to not evaluate the left hand side first.
09:04:55 <srhb> I mean, that's sort of the semantics. This, or if it fails, that.
09:05:05 <scutigera> and i'm just wondering, if, strictly speaking, a later rule might get evaluated before an earlier one.
09:05:15 <scutigera> oh- i see.
09:05:18 <srhb> scutigera: Have you looked at the instance for Attoparsec?
09:05:37 <scutigera> it's in control.applicative
09:07:03 <scutigera> (<*>) f g x = f x (g x)
09:07:14 <scutigera> i think that answers my question...
09:07:17 <johnw> I'm pretty sure that evaluation order shouldn't matter
09:07:28 <johnw> i mean, strictly speaking
09:07:30 <srhb> scutigera: It shouldn't for sane values.
09:07:33 <srhb> Er
09:07:36 <srhb> johnw: ^
09:08:04 <scutigera> well here's my confusion. the last of my parsers takes _anything_ on a line.
09:08:09 <johnw> but the laws often do not take bottom into account
09:08:14 <scutigera> the previous parsers are more specific of course.
09:08:34 <johnw> race
09:08:36 <scutigera> so the code actually runs as you would expect - the "takeall" not firing unless first two have failed.
09:08:48 <srhb> Yes, that's not evaluation order though
09:08:50 <johnw> i'm surprised Async doesn't have <|>
09:08:54 <srhb> That's just the semantics of <|>
09:08:58 <scutigera> yes- i think i'm understanding now.
09:09:09 <scutigera> it's alternation and the first thing that succeeds wins.
09:09:26 <srhb> Right.
09:10:22 <srhb> scutigera: For attoparsec, <|> is defined as Data.Attoparsec.Internal.plus
09:10:25 <srhb> If you want to see the internals.
09:10:54 <srhb> It's probably less clear than your intuition though :-)
09:11:00 <alpounet> johnw: yeah, it's just 'Concurrently' that has it
09:12:19 <scutigera> oh wait <|> == or
09:12:23 <scutigera> lol
09:14:13 <maerwald> @type or
09:14:14 <lambdabot> Foldable t => t Bool -> Bool
09:14:28 <maerwald> @type (<|>)
09:14:29 <lambdabot> Alternative f => f a -> f a -> f a
09:14:38 <maerwald> ?
09:14:45 <johnw> ah, thanks alpounet 
09:14:52 <scutigera> well - it behaves like short circuiting 
09:14:54 <johnw> or asks: is everything true?
09:15:01 <johnw> <|> asks: is one of these true?
09:15:14 <scutigera> test1 || test2 || test3
09:15:18 <johnw> :t foldr1 (<|>)
09:15:19 <lambdabot> (Foldable t, Alternative f) => t (f a) -> f a
09:15:22 <scutigera> so returns the first thing that succeeds
09:15:40 <johnw> oh sorry, or also asks: is one of these true?
09:15:45 <johnw> it just asks it of many things
09:15:47 <johnw> I was thinking of "and"
09:17:22 <scutigera> hmmm... upon further reflection it's not at all obvious it will do that.
09:17:31 <scutigera> crap- i had to go and overthink it.
09:18:02 <maerwald> choice = foldr (<|>) empty
09:18:07 <maerwald> and the doc says "@choice ps@ tries to apply the actions in the list @ps@ in order"
09:18:20 <maerwald> which sort of implicitly means "the left hand side of <|> is tried first"
09:18:42 <maerwald> if that was the question
09:19:15 <maerwald> otherwise it wouldn't really be in order
09:19:45 <scutigera> (<*>) f g x = f x (g x)
09:20:27 <scutigera> so in that context it's not obvious what constitutes "success" there's no Bool in the definition.  so now i'm wondering how it even works in attoparsec. 
09:21:18 <monochrom> "(<*>) f g x = f x (g x)" is for "(->) e"'s instance and has nothing to do with attoparsec. 
09:21:59 <monochrom> you are totally looking at the wrong page.
09:22:20 <scutigera> ?? i'm looking at control.applicative- which is where it comes from.
09:22:20 <lambdabot>  i'm looking at control.applicative- which is where it comes from.
09:22:26 <scutigera> or rather where i'm importing it from.
09:23:12 <merijn> scutigera: Parsers have a notion of failure, so success is "parsing succeeds", failure is that it doesn't
09:23:24 <monochrom> then you do not know "type classes" and "instances"
09:23:49 <maerwald> scutigera: https://github.com/bos/attoparsec/blob/master/Data/Attoparsec/Internal/Types.hs#L174
09:24:00 * hackagebot snaplet-sqlite-simple 0.4.8.3 - sqlite-simple snaplet for the Snap Framework  http://hackage.haskell.org/package/snaplet-sqlite-simple-0.4.8.3 (JanneHellsten)
09:24:19 <maerwald> apP is defined just above
09:24:35 <scutigera> doh. i've been looking all over for apP
09:25:30 <scutigera> ok. now i get it.
09:26:15 <scutigera> hey wait. not <*> ,  <|>
09:26:37 <scutigera> that's ok, Alternative is just below.
09:26:47 <maerwald> scutigera: (<|>) = plus
09:27:00 <koala_man> monochrom: the problem was that my cmd.exe was set up to use raster fonts. switching to a truetype font seemed to help
09:27:57 <maerwald> unfortunately how plus is defined looks a bit weird
09:28:02 <scutigera> ouch. it sure does.
09:28:11 <amf> is there a way to get cabal to install a modified version of an upstream package into a sandbox? (e.g. cabal get pkg; cd pkg && cabal install --output ../; cd .. && cabal install)
09:28:52 <scutigera> it seems to be because of course it has to keep track of where it is when an alternative fails.
09:29:57 <ion> maerwald: Weird how? Looks like it runs “f” with “g” as the failure continuation.
09:30:53 <amf> to answer my own question, "cabal sandbox add-source pkg" does it
09:31:12 <maerwald> scutigera: you have to look at the type of runParser, then it makes sense
09:31:24 <maerwald> ion: the variable naming is not really good
09:31:43 <maerwald> but that's pretty common in haskell code
09:32:02 <muahtorski> join #clojure
09:32:05 <scutigera> ty !
09:32:15 <scutigera> that's actually quite interesting code to look through.
09:32:20 <hodapp> scutigera: ...is your name related to house centipedes?
09:32:32 <scutigera> hodapp: yes it is.
09:32:37 <scutigera> they eat bed bugs !
09:32:47 <hodapp> and... most other bugs
09:32:52 <hodapp> which I'm fine with
09:32:55 <kadoban> and… feet
09:32:57 <scutigera> true dat. apex predator.
09:33:00 <hodapp> kadoban: wha?
09:33:08 <kadoban> Just kidding :)
09:33:10 <hodapp> house centipedes leave my feet alone
09:33:15 <hodapp> usually they run away when I look at them
09:33:22 <scutigera> my cat ate one once.  i was mighty impressed.
09:33:35 <hodapp> my cat never ate one, but...
09:33:36 <scutigera> they freak me out ! and i like bugs.
09:33:58 <hodapp> I was in the kitchen cooking once, and my roommate's cat was around... that cat was completely nuts
09:34:11 <hodapp> I heard the cat start attacking something right behind me, and then I felt something hit my arm
09:34:21 <hodapp> looked there and a still-twitching centipede leg was stuck to my arm
09:34:23 <scutigera> sorry. small sidetrack.  i took the name cuz saw lots of them. kept killing them until i looked them up and found out they preyed on bugs. now i leave them alone.
09:34:30 <hodapp> because the cat had started beating the shit out of a house centipede and literally legs were flying
09:34:30 <ion> hodapp: nice
09:34:37 <scutigera> lol
09:35:35 <hodapp> that's the day that I started trusting house centipedes more than I ever trusted that damn cat.
09:35:54 <scutigera> time for breakfast. thanks very much everyone for pointers and help. i'm finally, finally getting to the point where this is starting to make sense.
09:36:14 <scutigera> now i'm ready to tackle the floating point lexer. persnickity things to get right.
09:36:38 <ion> Except the one who gave a null pointer
09:39:12 <ion> >the font size  >480p  >the audio distortion  https://youtu.be/6klfKLBnz9k?t=18m55s
09:42:27 <Cale> ion: hm, I'm pretty sure I've seen her do similar talks which were recorded better and easier to follow, but I don't immediately have a link
09:42:51 <ion> cale: Thanks for the hint, i’ll google.
09:43:07 <Cale> Maybe her OPLSS lectures
09:44:15 <jume> @pl \nums -> map (\num -> filter (\index -> mod num index == 0) [1..num]) nums
09:44:15 <lambdabot> map (ap (filter . flip flip 0 . ((==) .) . mod) (enumFromTo 1))
09:48:18 * ion watches https://youtu.be/rhWMhTjQzsU first and adds the OPLSS lectures to TODO
09:54:01 * hackagebot leksah 0.15.0.2 - Haskell IDE written in Haskell  http://hackage.haskell.org/package/leksah-0.15.0.2 (HamishMackenzie)
10:08:14 <fvgvxmpv1> Control.Concurrent.Chan is single wakeup, isn´t it?
10:10:04 <TigranII> check this: Pinging www.vip.icann.org [192.0.32.7] with 32 bytes of data: Destination host unreachable.
10:11:21 <ttt_fff> row types row types ; I want row types in haskell :-)
10:11:40 <mauke> row, row, row your type
10:11:46 <ion> mauke++
10:12:49 <ttt_fff> gently down the type stream
10:13:08 <ttt_fff> what are the 7.10 team worksing on, if not row types
10:13:23 <ion> @google ghc 7.12 roadmap
10:13:23 <lambdabot> https://ghc.haskell.org/trac/ghc/roadmap
10:15:23 <monochrom> consider column types
10:15:42 <ion> consider diagonal types
10:16:38 <KaneTW> consider lu-decomposition on types
10:21:16 <merijn> fvgvxmpv1: Chan is single wakeup, yes
10:21:23 <merijn> fvgvxmpv1: Just like MVars
10:26:14 <ttt_fff> monochrom: I don't see column types in 7.12
10:26:23 <monochrom> it's a joke
10:26:24 <ttt_fff> KaneTW: nor do I see LU decomposition; 
10:26:34 <monochrom> it's also a joke
10:27:23 <ttt_fff> actually, haskell already has column types
10:27:26 <ttt_fff> it's a -> [a]
10:31:15 * hodapp . o O ( column types? )
10:31:59 <ttt_fff> https://dl.dropboxusercontent.com/u/4588997/Machines.pdf <-- WTF is this?
10:33:11 <davean> ttt_fff: ?
10:33:28 <ttt_fff> davean: ?
10:33:38 <monochrom> this is about "pipes"
10:33:47 <davean> I have no idea what you're asking as it seems very self-explanitory 
10:33:53 <ttt_fff> it looks like ahskell but I don't understand hwat's going on
10:34:05 <davean> ttt_fff: oh, welcome to kmett code
10:34:11 <mauke> ttt_fff: it's a url
10:34:15 <davean> ttt_fff: basicly they're just statemachines running at each other
10:34:27 <davean> ttt_fff: I assume you, he's harmless
10:34:33 <davean> *assure
10:34:43 <davean> Man, that would have been so much better if I'd said the right word
10:34:48 <ion> The thing next to the URL is an ASCII approximation of an arrow.
10:35:45 <monochrom> do you mean you know row types but you have never seen existential types?
10:36:01 <Dan39> umm the tutorial on homepage just broke on me :o
10:36:30 <mauke> Dan39: homepage of what?
10:36:34 <Dan39> haskell.org
10:37:16 <mauke> works here
10:37:19 <Dan39> see: http://i.imgur.com/4jMtIki.png
10:37:27 <Dan39> the error
10:37:50 <Dan39> some kind of weird bug, since it didnt happen the 2nd time i tried it :p
10:39:03 <Dan39> mauke: any idea? :P
10:39:15 <mauke> "meh"?
10:40:35 <Dan39> lol ok...
10:42:59 <nak> hey, i saw this in someone's code, what does it do? [text := "Counter"]
10:43:13 <mauke> builds a list of one element
10:43:30 <monochrom> that depends on what modules it imports and what libraries it uses
10:43:32 <Cale> := is essentially a pair type
10:43:39 <mauke> can't tell you what the element is without knowing what type := is a constructor of
10:43:41 <Cale> (well, the data constructor for one)
10:43:57 <Cale> It's probably from either gtk2hs or from WxHaskell
10:44:06 <nak> WXWidgets
10:44:30 <Cale> see: http://hackage.haskell.org/package/wx-0.91.0.0/docs/Graphics-UI-WX-Attributes.html
10:44:33 <monochrom> then find ":=" in wxwidgets's docs
10:44:38 <nak> gotcha
10:44:53 <nak> i made the (poor) assumption that (:=) was a built-in that i haven't seen before
10:44:53 <Cale> It's basically an assignment to a property which is waiting to happen.
10:45:08 <Cale> and the set function will actually set that property
10:45:40 <Cale> Or I should say, an assignment to an attribute
10:46:59 <nak> thanks guys ^.^
10:47:41 <davean> nak: almost nothing is built in.
10:47:54 <davean> nak: Thats not really how haskell works in general
10:49:27 <nak> davean i'm coming to understand that. pretty cool actually ^.^
10:50:23 <davean> nak: the <- in do notation and = in function declarations, let, and where are what come to mind as actually built in
10:50:36 <xandaros> What exactly is hlint trying to tell me here: http://hastebin.com/tuyeribogo.txt ? (Also, does such a function exist already? I feel like it should...)
10:51:05 <davean> xandaros: Might you want otherwise?
10:51:23 <davean> Oh, no
10:51:26 <davean> bad font, sorry
10:52:27 <xandaros> It seems to always highlight the second row(excluding type signature) and complain about whatever is in the first line. I tried switching them around
10:52:53 <davean> xandaros: try | otherwise
10:52:58 <davean> "| otherwise"
10:53:09 <davean> But also look at http://hackage.haskell.org/package/safe-0.3.9/docs/Safe.html "atMay"
10:53:31 <xandaros> Thank you, I'll use that :)
10:53:43 <xandaros> (Why is this not part of Data.List?)
10:53:47 <nak> davean thanks
10:54:01 <davean> xandaros: Because sadness and tears
10:54:03 <monochrom> hlint is being anal in this example
10:55:00 <xandaros> Oh yeah, it also does this if I take out the line with the pattern guard. Seems really weird to me. Meh, I will delete the function anyways
10:55:17 <davean> xandaros: you can always complete the guard
10:55:33 <davean> It isn't like it hurts
10:55:58 <xandaros> Even if I take the whole line out, it still complains. (There are no guards left)
10:56:08 <xandaros> So I don't think that's it^^
10:56:23 <davean> xandaros: take out the first one?
10:56:37 <xandaros> yup
10:57:34 <xandaros> Well, I'm using atMay now. As long as hlint keeps quiet now, I'm fine. (Don't like it complaining, since vim displays that as warning)
10:58:50 <vikaton> will haskell help me get a better grade in math? :(
10:59:35 <KaneTW> maybe
11:00:09 <xandaros> probably not
11:01:18 <monochrom> there has been no study on how learning haskell affects math grade.
11:01:29 <silver> :)
11:01:56 <monochrom> please ask a question that has been actually studied and have data.
11:02:46 <monochrom> s/have/has/
11:06:50 <xandaros> davean: Thank you so much for showing me Safe, there are quite a few functions I have missed in the past. (Especially readMay)
11:06:51 <vikaton> does anyone use haskell in their jobs?
11:07:00 <vikaton> here*
11:07:43 <xandaros> Does teaching Haskell count? :P
11:08:05 <vikaton> yeah
11:10:04 <Denommus> vikaton: I made a parser for some XML generated for soapui
11:10:19 <vikaton> Denommus: nice
11:10:32 <vikaton> seems like more people learn haskell as a skill rather than use it for jobs
11:10:33 <Denommus> vikaton: and used it to generate C++ classes that used these requests 
11:10:55 <vikaton> Denommus: that's pretty cool
11:11:53 <xandaros> vikaton: I learned haskell at my university. It was a mandatory module, actually. Didn't like it at first, but when I gave it another shot I fell in love with it and use it for everything now :)
11:12:12 <vikaton> heh
11:13:12 <monochrom> I teach a class and I autotest students' java code. I need to timeout after 1 second and kill. I use haskell for that. it is merely Control.Concurrent.Async's "race".
11:13:55 <Rembane> I'm only programming in Haskell for school assignments, but I'd really like to work with it.
11:14:14 <c_wraith> monochrom: none of your students know how to abuse GHC's semi-cooperative threading model then?
11:14:33 <monochrom> can they do that from within java code?
11:14:47 <c_wraith> Whoops.  Totally missed that word.
11:15:20 <monochrom> my haskell program fork-execs the java runtime
11:15:38 <c_wraith> yeah, I see now.  As long as there's a process barrier, you're good.
11:15:58 <c_wraith> I assume you're initializing the jvm with a security policy that prevents anything silly.
11:16:06 <mauke> I bet I could do that with a shell script
11:16:19 <hpc> maybe if they used an exploit to get root and modify your program's working memory ;)
11:16:42 <xandaros> Can you completely lock the program, even with -threaded?
11:16:58 <c_wraith> xandaros: yeah, thanks to stop-the-world GC
11:17:30 <mauke> blah & sleep 1; kill -9 %1
11:18:08 <c_wraith> xandaros: if any thread fails to yield to the GC, all other threads just sit and wait
11:18:43 <xandaros> awesome...
11:19:01 <c_wraith> That's why you shouldn't write code that fails to yield to the GC. :)
11:19:02 <Rembane> conal: That sounds like Python.
11:19:05 * hackagebot connection-pool 0.1.2.0 - Connection pool built on top of resource-pool and streaming-commons.  http://hackage.haskell.org/package/connection-pool-0.1.2.0 (PeterTrsko)
11:19:07 <Rembane> conal: Sorry, mischat.
11:19:12 <Rembane> c_wraith: That sounds like Python.
11:19:23 <monochrom> mauke, there are a few more things I want. the smaller want: if blah finishes earlier than 1 second, I don't want to wait for the full 1 second. the larger want: I need the exit code of blah, it tells me whether student's answer is correct or incorrect.
11:20:00 <Welkin> is there a way for cabal to figure out (or tell me) which version of a library I need to install to avoid breaking existing packages?
11:20:03 <Rembane> monochrom: echo $?
11:20:06 <mauke> monochrom: that just complicates things
11:20:23 <Welkin> I did a dry run cabal install for esqueleto and it looks like it will break almost all of my packages
11:20:33 <monochrom> Rembane, "echo $?" gives me whose exit code again?
11:20:43 <c_wraith> Rembane: it's slightly like the GIL, maybe.  Except only on GC, and that situation only happens because haskell code can run in parallel anyway. :)
11:20:48 <sunnymilk> $? is the exit code of the last program you ran
11:20:56 <sunnymilk> os thing; echo $? would print things exit code
11:21:03 <Rembane> monochrom: The last exited process. So, hm... sleep might not help you here no. :)=
11:21:20 <monochrom> after a few complications, haskell is better than shell script
11:21:40 <Rembane> c_wraith: Oh, well, then I'm seeing patterns where there none, that's good. The GIL is a fascinating creature that can stay with Python. :)
11:22:26 <monochrom> shell script is great when you have a straightforward plan
11:22:40 <monochrom> fragile when you have a tricky plan
11:22:40 <mauke> huh. I'd do this in perl, actually
11:23:04 <mauke> except I can't think. /me wanders off
11:23:19 <monochrom> I have long abandoned perl
11:24:05 * hackagebot endo 0.2.0.0 - Endomorphism utilities.  http://hackage.haskell.org/package/endo-0.2.0.0 (PeterTrsko)
11:24:16 <Rembane> Shell script is also nice for semi-trivial cases.
11:24:18 <monochrom> what with its error-prone scalar-vector split personality and its fragile string typing
11:24:33 <Rembane> We need a better shell scripting language!
11:25:20 <Freefood> Any advise on how to deal with i18n in Haskell ?
11:27:29 <mauke> monochrom: it's good at unix, though
11:27:38 <mauke> I sometimes miss that in other languages
11:32:10 <srhb> Freefood: Perhaps you can check out how the web frameworks deal with it. Like, see yesods shakespeare template package.
11:32:34 <Freefood> srhb: I have already :)
11:32:52 <srhb> Freefood: Good. :)
11:33:09 <mauke> does any other language provide anything like http://perldoc.perl.org/functions/syscall.html ?
11:33:38 <mauke> just in case you need to write a script that requires access to a system call that has no library wrapper yet
11:34:04 <meoblast001> i have this problem with vim's ghc mod.. when i ask it for the type of something it always says "cannot guess type"
11:34:14 <meoblast001> is there a way to get more information about why it's not working?
11:34:27 <meoblast001> i suspect it might be something wrong with my cabal setup but not entirely sure what
11:34:36 <mauke> strace :-)
11:34:53 <meoblast001> strace?
11:35:16 <magneticDuck> man strace
11:35:34 <meoblast001> No manual entry for strace
11:36:17 <meoblast001> this seems like a way to take the painful approach
11:38:15 <magneticDuck> strace -e read <program>
11:38:27 <meoblast001> okay. thanks
11:38:29 <meoblast001> i'll try that
11:38:34 <magneticDuck> launches program and prints to stderr when the program reads a file
11:38:41 <meoblast001> also is it possible to use cabal without a sandbox?
11:38:51 <magneticDuck> .. yes
11:39:26 <DanBurton> possible, but sometimes painful.
11:39:36 <TigranII> .
11:40:02 <meoblast001> currently i'm noticing i have a .cabal-sandbox in my home directory
11:40:16 <meoblast001> so i'm basically using a sandbox for everything
11:42:04 <muller> Which framework among spock and scotty is stable/better maintained?  
11:45:46 <jume> @pl \numbers -> S.map (\primefactors -> (*) <$> primefactors <*> primefactors) (S.map primeFactors numbers)
11:45:46 <lambdabot> S.map (((*) <$>) . join (<*>)) . S.map primeFactors
11:49:12 <Dodecahedrus> hi, is there a something like forM for while? whileM or something like that
11:49:27 <Dodecahedrus> forM from Control.Monad
11:50:07 <Welkin> untilM
11:50:25 <meoblast001> my system just does not want to build cabal: https://gist.github.com/meoblast001/2e77cb9fdad856e10ead
11:51:16 <Welkin> I thought there was an untilM
11:51:22 <Welkin> there is when
11:51:23 <Welkin> :t when
11:51:24 <lambdabot> Applicative f => Bool -> f () -> f ()
11:51:29 <Welkin> and until
11:51:31 <Welkin> :t until
11:51:31 <lambdabot> (a -> Bool) -> (a -> a) -> a -> a
11:54:06 * hackagebot angel 0.6.1 - Process management and supervision daemon  http://hackage.haskell.org/package/angel-0.6.1 (MichaelXavier)
11:59:02 <hexagoxel> meoblast001: the user package-db is in .ghc, not in .cabal
11:59:07 * hackagebot ghc-simple 0.1.2.0 - Simplified interface to the GHC API.  http://hackage.haskell.org/package/ghc-simple-0.1.2.0 (AntonEkblad)
11:59:18 <meoblast001> hexagoxel: thanks :)
11:59:22 <meoblast001> a friend just told me that and now it's working
12:16:12 <ocramz> inline-c : anyone knows what the `expecting type name, got identifier` TH error means, when trying this `f a = [C.exp| int{ Func($(A* a))}|] `?  A is mapped to its C type already as a newtype and through an inline-c Context.  The error disappears when I pass Func a pointer to void instead, but it'd be weak
12:22:25 <muller> Which framework among spock and scotty is stable/better maintained? 
12:29:08 * hackagebot classy-prelude 0.12.0.1 - A typeclass-based Prelude.  http://hackage.haskell.org/package/classy-prelude-0.12.0.1 (MichaelSnoyman)
12:38:59 <meoblast001> nothing fixes my ghc mod :(
12:41:39 <felixn> meoblast001: there's also a ~/.ghc you can try deleting
12:41:45 <meoblast001> i did
12:41:49 <meoblast001> i deleted everything and reinstalled
12:42:18 <meoblast001> i still get "ghcmod#command#type: Cannot guess type" whenever i try to do GhcModType in VIM
12:42:29 <meoblast001> every time. regardless of file
12:42:56 <felixn> what's your cabal and ghc version?  I had a major issue installing ghc-mod last month, once I finally got it working I just stopped touching it :3
12:43:10 <ReinH> Welkin: monad-loops
12:43:42 <meoblast001> The Glorious Glasgow Haskell Compilation System, version 7.8.4
12:43:50 <meoblast001> cabal-install version 1.22.4.0
12:43:55 <meoblast001> should i reinstall ghcmod maybe?
12:44:13 <felixn> meoblast001: get up to ghc 7.10.1!
12:44:28 <Welkin> when my friend had his parents visit from Colombia, he was talking to them in spanish at dinner, and he would mix up his english and spanish when switching between talking to me and his other friends, and his parents
12:44:29 <meoblast001> this is what my distro provides and if i change this i'll really be fucked
12:44:32 <Welkin> haha
12:44:34 <Welkin> so I asked him a question and he ansered me in spanish
12:44:42 <felixn> meoblast001: why's that?
12:44:49 <Welkin> wrong channel
12:44:57 <meoblast001> because i'd have to build GHC from scratch
12:45:30 <ion> meoblast001: I don’t know whether using 7.10.1 will make things better or worse for you, but FWIW, installing it is rather easy. https://gist.github.com/ion1/2815423
12:45:41 <Welkin> ReinH: that's the one
12:45:49 <meoblast001> i'm going to reinstall GHCmod now
12:45:51 <meoblast001> see if that fixes it
12:47:44 <ocramz> any inline-c experts in the house?
12:47:59 <ocramz> or template haskell, even better
12:48:01 <felixn> meoblast001: ghc-mod takes while to reinstalled though >_<  what if it doesn't work, then you have to install 7.10.1, and then recompile ghc-mod again? :)
12:48:15 <felixn> wow grammar, so bad
12:49:36 <jTT_> hi, i am having trouble with a parse that used to work. i am trying to parse the body and a few other DOM elements. I scan the content of each and look for certain patterns. that used to work, but after not looking at this particular code for 6 months, i get a rather mysterious “Prelude.chr: bad argument: 4533479592”. I am using attoparsec and attoparsec text. at one point I check for a specific char sequence that i want to drop like so:  _ <- 
12:49:36 <jTT_> takeWhile $ inClass “kasdf”. I suspect something has changed in attoparsec, but i couldnt figure out where the heck this error is coming from. (i wiped all .hi files etc and tried complete reinstalls of my program.) would be great if anyone had a clue/hint
12:49:53 <jTT_> *the body of an html document
12:51:30 <Dan39> what does =<< do?
12:51:46 <ion> Dan39: Depends on the Monad instance in question.
12:51:54 <ion> For lists, it’s concatMap
12:52:04 <MP2E> (=<<) = flip (>>=)
12:52:08 <Dan39> the example given is
12:52:10 <Dan39> main = xmonad =<< statusBar myBar myPP toggleStrutsKey myConfig
12:53:17 <ReinH> main = do x <- statusBr myBar myPP toggleStrutsKey yConfig; xmonad x
12:53:24 <ion> That is equal to main = do { foo <- statusBar myBar myPP toggleStrutsKey myConfig; xmonad foo }. If main :: IO a, it runs the IO action statusBar ... and then runs xmonad applied to the result of it.
12:55:05 <ion> jtt: Try compiling with profiling and running with +RTS -xc
12:58:01 <haskell342> can someone help me with correctly calculating whether a variable is bounded or not in haskell?
12:58:22 <ion> What do you mean by bounded?
12:58:28 <haskell342> it seems easy at first but writing it down in a propber manner is difficult
12:58:39 <haskell342> free variables
12:59:29 <haskell342> for example \x -> y x has a bounded variable x and a free variable y
12:59:47 <pavonia> Could you provide some more context? Do you have a custom data type for expressions?
12:59:53 <ion> bound variable
13:00:09 <ion> To bind, bound. To bound, bounded.
13:00:31 <haskell342> oh sorry for my bad english I'm learning programming in german!
13:00:34 <sleepomeno> Can somebody explain why type inference in a language with subtyping is undecidable? anybody knows a good resource explaining it?
13:00:53 <haskell342> for example this is a given term:  (\a -> b a) (\c -> (d c) e) 
13:01:05 <Jello_Raptor> are there any good explanations of the typeclass hierarchies in Control.Lens? (a paper or something would be ideal, i think there's a video but those are in general very difficult for me to concentrate on.) 
13:01:05 <haskell342> I have to calculate the free variables
13:01:30 <ion> haskell342: What do you think the free variables are?
13:01:48 <haskell342> b,d and e?
13:02:04 <ion> haskell342: Seems right to me.
13:02:21 <haskell342> yeah but I have to write it down in a proper way
13:02:25 <haskell342> so far I have this:
13:03:21 <haskell342> FV (b) \ {a}  FV (d,e) \ {c} = {b,d,e}
13:03:33 <Jello_Raptor> alternately, would people just reccomend i read the code for Control.Lens? 
13:03:38 <haskell342> ...the strange correct should have been a logical or
13:04:01 <haskell342> *the strange symbol
13:04:51 <ion> Jello_Raptor: I’m not sure reading the code in lens is the most helpful thing for grasping things because it’s as generic as possible while more specialized versions are easier to understand.
13:05:12 <jTT_> ion: am trying, thx
13:05:41 <meoblast001> <felixn> meoblast001: ghc-mod takes while to reinstalled though >_<  what if it doesn't work, then you have to install 7.10.1, and then recompile ghc-mod again? :)
13:05:48 <ion> Jello_Raptor: Do you find the diagram on http://hackage.haskell.org/package/lens helpful?
13:05:50 <meoblast001> probably but i installed GHC mod through haskell-vim-now quite a while ago
13:05:58 <meoblast001> so i have no idea what version it was compiled for
13:06:15 <pavonia> haskell342: What exactly are you asking for?
13:07:09 <haskell342> I want to know whether I'm determining it the right way or if it's done in another way
13:07:38 <haskell342> the only thing I have to compare is this pdf: http://www-stud.informatik.uni-frankfurt.de/~prg2/SS2013/aufgaben/handout4.pdf
13:08:00 <haskell342> my lecture notes are a complete waste for this assignment and I'm not sure how to do it...
13:08:49 <Jello_Raptor> ion: only in usung the library, it doesn't really help me understand the relationship between a Getter and a Traversal. I'm only really working off of vague natural language descriptions of what they do. 
13:10:24 <Jello_Raptor> I think i've got a (probably somewhat weak) grasp of van Laarhoven, but a reasonable explanation of how they expand into the Control.Lens hierarchy eludes me. 
13:10:30 <pavonia> haskell342: You could list all the different cases of the very basic expressions in your terms, and give a rule how to calulcate the set of free variables
13:10:53 <lolisa> Hi, what should I read if I want to implement/understand from inside laziness?
13:10:58 <pavonia> haskell342: Then you can apply the rules for your specific term
13:11:14 <haskell342> what cases are there?
13:13:05 <gilozoaire> lolisa, what do you mean by 'from inside'? You mean deep understanding?
13:13:06 <pavonia> haskell342: Depends on the language. In simple lambda calculus you only have single variables, lambda abstractions and functions applications, I think
13:13:42 <haskell342> the language is haskell
13:14:03 <favetelinguis> How can I apply something like flip on <*>, i would like to be able to express something like (+) <$> Just 3 <*> Just 5 <*>' (+) Just 6
13:14:53 <favetelinguis> should be like (+) <$> Just 3 <*> Just 5 <*>' (+) <*> Just 6
13:14:54 <lolisa> Yeah, not how to use them, but how are they implemented, because I am very interested in PLT stuff
13:15:54 <jascase901> I am trying to write some haskell that parses an xml file and then outputs lua code. Should I start with parsec, and then move onto HXT. Or should I just go straight to HXT. I am a beginner and do not have a strong grasp on some of the more advanced haskell features. For example monads, combinators and all the funny symbols.
13:16:29 <jascase901> I am eventually going to use this application. But I am doing it more as a learning exercise and don't care how long it takes.
13:16:37 <pavonia> haskell342: According to your exercises you only need to add a case for let bindings to these rules
13:16:41 <gilozoaire> you might want to check Functional Programming in Scala, where they go from implementing strict lists to streams (which are lazy lists).
13:17:11 <gilozoaire> it's good because you contrast the two approaches
13:19:03 <lolisa> OK, thx, gilozoaire
13:19:15 <haskell342> I don't think using let is right here..
13:20:13 <merijn> jascase901: Parsec is a library for writing parsers, not a library for actually parsing anything
13:20:37 <danilo2> Hello! I'm trying to create an existential class, that will contain a special value (like in the example Home). Then I want to resolve it based on the operating system passed. But I'm getting a compilation error. Woudl somebody be so nice and tell me how to fix this example? I would be very thankfull for any help! :) http://lpaste.net/134505
13:20:39 <merijn> jascase901: Personally I've had a lot of success with xml-conduit for dealing with XML, but I didn't have to write it back out, so I dunno how well it works for that
13:20:44 <cinimod> I am trying to upload my haddocks manually to hackage
13:21:23 <Forkk> How would I write a function like this: `(Functor f) => f (f a, f b) -> (f a, f b)`
13:21:36 <Forkk> looks like a join, but it should be possible with functors, right?
13:21:37 <hodapp> :t join
13:21:38 <lambdabot> Monad m => m (m a) -> m a
13:21:38 <merijn> Forkk: Not possible
13:21:39 <cinimod> I am using the script here: https://github.com/ekmett/lens/blob/master/scripts/hackage-docs.sh
13:21:44 <Forkk> D:
13:21:48 <pavonia> haskell342: let introduces new bound variables
13:21:55 <merijn> Forkk: It's join, yeah, so you need Monad
13:22:01 <Forkk> I guess I'll just make a non-generic version of it
13:22:13 <Forkk> for some reason `Blip` in auto is not a monad
13:22:17 <cinimod> But I get Invalid documentation tarball
13:22:23 <Forkk> even though it's basically identical to `Maybe`
13:22:26 <jascase901> Hmm. Thanks merijn. Ill take a look at xml-conduit
13:23:52 <Forkk> although there is a `joinB` function
13:24:04 <Forkk> which makes it even more obviously a monad -.-
13:27:31 <danilo2> Hello! I'm trying to create an existential class, that will contain a special value (like in the example Home). Then I want to resolve it based on the operating system passed. But I'm getting a compilation error. Woudl somebody be so nice and tell me how to fix this example? I would be very thankfull for any help! :) http://lpaste.net/134505
13:29:10 * hackagebot tagged-exception-core 2.1.0.0 - Reflect exceptions using phantom types.  http://hackage.haskell.org/package/tagged-exception-core-2.1.0.0 (PeterTrsko)
13:34:27 <xandaros> My program will block on a call to hGetLine most of the time, is it possible to interrupt this from another thread? (To gracefully shut down)
13:35:12 <Hijiri> danilo2: I think your right parenthesis should be after "Special path". But this definition might not be very useful anyway
13:35:49 <Hijiri> actually I don't know
13:35:55 <danilo2> Hijiri: why it would not be usefull? I want to be able to store there for example "Special Home" and later query for "resolvePath Linux p" 
13:36:04 <ReinH> xandaros: You can send the thread an async exception.
13:36:04 <danilo2> Hijiri: I'm testing it right now
13:36:43 <ReinH> danilo2: Why do you need a class rather than just s record?
13:36:56 <xandaros> ReinH: Alright, I'll have a look at that - thanks
13:37:14 <danilo2> ReinH: I want user to be albe to create custom "special" datatypes, like Home and be able to extend them from any module, justl ike operating systems
13:37:54 <ReinH> xandaros: The section about async exceptions in Simon Marlow's book might help.
13:38:37 <ReinH> @google parallel and concurrent programming in Haskell
13:38:39 <lambdabot> http://chimera.labs.oreilly.com/books/1230000000929/
13:38:39 <lambdabot> Title: Parallel and Concurrent Programming in Haskell
13:38:45 <danilo2> ReinH: are we somehow able to do it? :)
13:38:57 <danilo2> Hijiri: this way its parse error :(
13:39:17 <Hijiri> danilo2: oh, I guess that isn't the solution then
13:39:24 <meoblast001> does anyone understand this type signature?https://hackage.haskell.org/package/snap-0.14.0.5/docs/Snap-Snaplet-Auth.html#v:requireUser
13:39:29 <Hijiri> danilo2: also with a record, the user could still make their own records
13:39:34 <meoblast001> i have no idea how to get this SnapletLens into the picture
13:39:36 <danilo2> Hijiri: yep. I'm jsut looking for any solution allowing me to do it 
13:40:01 <Hijiri> data PathClass sys path = PathClass (sys -> path -> String)
13:40:02 <danilo2> Hijiri: what do you mean? I want user to be able to create own records and resolve them like the Home record here
13:40:29 <danilo2> Hijiri: hmm
13:40:35 <Hijiri> linhome = PathClass (\_ _ -> "/home")
13:43:09 <danilo2> Hijiri but still, your PathClass is parametrized with "sys", which needs further existentials to hide it. I do not want something parametrized by sys, because I want the sys to provide during the resolution only :(
13:44:11 * hackagebot ether 0.2.0.0 - Monad transformers and classes  http://hackage.haskell.org/package/ether-0.2.0.0 (int_index)
13:46:08 <ph88> is it possible to compile a haskell binary that gets linked as object to a program that runs in C/C++ ?
13:47:21 <merijn> ph88: Sure, easy even
13:47:36 <ph88> oki thx
13:48:04 <merijn> "foreign export ccall myFun :: CInt -> CString -> IO ()"
13:48:24 <merijn> Which produces a "void myFun(int, char*);"
13:49:31 <Hijiri> data Segment = forall path. Special (forall sys. PathClass sys path) path
13:49:35 <Hijiri> danilo2: 
13:50:09 <Hijiri> I don't know if that compiles though
13:50:17 <Hijiri> but that is the basic way you would translate it
13:50:53 <danilo2> Hijiri hmm it does not :(
13:51:56 <Hijiri> It would be easier to write in GADT syntax I think: data Segment where Special :: forall path. (forall sys. PathClass sys path) -> path -> Segment
13:53:08 <Hijiri> not sure if that works either
14:00:56 <Hi-Angel> Hello, I'm trying to create a cabal sandbox, and the command cabal install --only-dependencies fails with Couldn't find .cabal file in: . I googled in log from this IRC, that the error is because a sandbox needs also a project. Okay, so How do I install that project to the sandbox with cabal? Can I just do cabal install <app>?
14:02:45 <kadoban> Hi-Angel: You can have a sandbox without a project.  The --only-dependencies thing only makes sense with a project though, because that's what it means (install the dependencies of the project)
14:03:42 <chidy> hi all
14:04:01 <chidy> I’m curious about the state of cloud haskell
14:04:12 <chidy> is it usable in its current form?
14:05:42 <Hi-Angel> Thank you!
14:07:42 <ion> Jello_Raptor: Say, you want to write a function (FilePath, a) -> IO (String, a) that runs readFile :: FilePath -> IO String against the first member of the tuple and returns a modified tuple with the second member unchanged. How would you write that?
14:08:03 <anoe> Hello, I just asked on haskell-beginners, maybe you have an answer here. I wonder if it is possible to search for code definition of a function with hoogle or hayoo. Maybe it exists already ?
14:08:19 <ion> Jello_Raptor: (We’ll get from this to Lens, Getter, Setter and Traversal step by step.)
14:08:36 <Hijiri> anoe: If it's on hackage and there are docs, you can click the source button
14:08:38 <Hijiri> usually
14:08:53 <pepo> @help
14:08:53 <lambdabot> help <command>. Ask for help for <command>. Try 'list' for all commands
14:08:53 <Hijiri> above definitions there should be a "source" link to the right
14:09:12 <Hijiri> also at the top of a haddock doc of some module, there is a source link
14:09:12 <pepo> @djiin a -> (a -> a) -> a
14:09:12 <lambdabot> f a b = b a
14:10:49 <anoe> without clicking ?
14:11:11 <anoe> in fact I use :type, :info, :doc in ghci
14:11:27 <anoe> (with hoogle --info for instance)
14:12:31 <Hijiri> sorry, I don't know
14:13:45 <anoe> Hijiri: thx for your reply btw.
14:13:51 <anoe> @head
14:13:51 <lambdabot> Maybe you meant: keal help
14:14:30 <anoe> help head
14:14:47 * anoe sorry for these tests.
14:19:41 <danilo2> Hijiri: Thank you :) I'm trying different options now :)
14:19:50 <ttk> Hi guys. I am trying to wrap a C library using C2HS, but I am having trouble with a function. I file1.h the function is typedefed as: typedef const char* fmi2GetTypesPlatformTYPE(void); I imported this in Haskell with type fmi2GetTypesPlatformTYPE = {#type fmi2GetTypesPlatformTYPE#} -- however the result is a bit weird: ype fmi2GetTypesPlatformTYPE
14:19:50 <ttk>  = ((IO (Ptr CChar))) -- Why the double ()? Is there some better way for typedeffed functions?
14:20:51 <ion> ((IO (Ptr CChar))) will parse as IO (Ptr CChar), it doesn’t matter.
14:21:01 <merijn> ttk: Because it's probably just dumb expansion and being paranoid is smart
14:21:22 <ttk> ah ok. Thanks
14:21:30 <ion> > ((42))
14:21:31 <lambdabot>  42
14:21:46 <ion> @type undefined :: ((Maybe Integer))
14:21:47 <lambdabot> Maybe Integer
14:22:55 <ttk> Next step is that I want to use this function to create a FunPtr to the C function, which is defined in file2.h: __declspec(dllexport) fmi2GetTypesPlatformTYPE fmi2GetTypesPlatform; How do I map these things together, so the Haskell structure mimics the C structure?
14:23:55 <orbital> is there another channel for stack, or here is fine?
14:24:25 <ion> Perhaps (i don’t know) but here is fine.
14:26:04 <orbital> ok. When running `stack build` for the first time, does it get dependencies from the *.cabal file?
14:27:02 <mzero> heh - no one is sure since stack has been out for a week - and still in beta! :-)
14:27:11 <ion> orbital: I have only tried it once (only to find that it doesn’t seem to support dependencies on Hackage that are not on Stackage yet), but i think yes.
14:27:48 <MrWoohoo> I'm using Text.XML.Cursor and am stuck on matching an actor tag with class="author". in the html the actual string for the class is "author some other class garbage". I just care the author is a substring of the attribute. Can't figure out how to do it
14:27:50 <orbital> mzero: ha :) ok
14:27:55 <exio4> what's the idiomatic way to basically solve this with cabal? it happens that the header files are called differently on different setups, I workaround'd this by creating a build-X.h that gets generated with the right #include in the makefile in the C project
14:28:17 <exio4> I am trying to port the whole thing to Haskell, starting from the low-level libs
14:28:39 <DanBurton> There is #haskell-stack, I haven't started hanging out there until today.
14:28:42 <orbital> ion: this is me trying it once :)
14:28:49 <orbital> DanBurton: thanks
14:28:52 <DanBurton> orbital, yes, it does inspect *.cabal.
14:29:02 <merijn> MrWoohoo: I think you'll have to match the actor tag and then use filter to inspect the class with a fuzzy match?
14:29:22 <MrWoohoo> I meant anchor tag... autocorrect
14:30:46 <merijn> MrWoohoo: Same principle applies, you can use checkNode
14:30:46 <MrWoohoo> attribute or laxAttribute seem to ALMOST be what I need inside a check function
14:31:31 <MrWoohoo> not sure on the "inspect the class with a fuzzy match" part of that
14:31:34 <merijn> MrWoohoo: You need to write your own fuzzy match that takes a Node, and fuzzy matches the class attributes, then use that with checkNode
14:31:43 <merijn> MrWoohoo: Look at the implementation of Node
14:32:01 <DanBurton> mzero, as you probably already learned, I was wrong and your suspicions were right, regarding stack using a ghc bindist.
14:32:10 <merijn> Actually, I think you can use checkElement
14:32:38 <merijn> MrWoohoo: And then you have "elementAttributes :: Map Name Text"
14:33:26 <MrWoohoo> attributes returns [Text] but it doesn't say what they are. I'm guessing all attributes for the tag. But that would be (k,v) tuples of some sort
14:33:32 <MrWoohoo> looking
14:33:59 <codygman> How can I load all of the ghc sources into ghci? I tried: `ghci -i /home/cody/source/unsorted/ghc-7.8.3/libraries/` and got `Warning: ignoring unrecognised input `/home/cody/source/unsorted/ghc-7.8.3/libraries/'`
14:34:38 <Hijiri> is there a package like recursion-schemes that doesn't conflict with Data.Foldable?
14:35:01 <MrWoohoo> ah! I hadn't seen that function
14:35:20 <DanBurton> conflict how?
14:35:20 <MrWoohoo> I know that sounds dumb but I really have been looking
14:36:00 <geekosaur> codygman, don't put a space after the -i
14:36:06 <jume> @pl (\c _ -> c + 1)
14:36:06 <lambdabot> const . (1 +)
14:36:10 <geekosaur> -i by itself clears the search path
14:36:18 <geekosaur> -i/dir adds /dir to the search path
14:36:49 <ttk> Do you guys know how to use typedef functions within c2hs? I have one C-file specifying: typedef const char* fmi2GetTypesPlatformTYPE(void); and the other: __declspec(dllexport) fmi2GetTypesPlatformTYPE fmi2GetTypesPlatform;. I have mapped the typedef as: type fmi2GetTypesPlatformTYPE = {#type fmi2GetTypesPlatformTYPE#} but I cannot figure out how 
14:36:49 <ttk> to map the function ptr.
14:36:58 <geekosaur> -i /dir clears the search path and then tries to load /dir as a .hs file
14:37:09 <jume> @pl (\c x -> c + 1)
14:37:09 <lambdabot> const . (1 +)
14:38:49 <pavonia> > (const . succ) 10 20
14:38:50 <lambdabot>  11
14:39:19 <Hijiri> DanBurton: class name
14:40:07 <codygman> geekosaur: That seemed to work but didn't do what I wanted. When I `import Data.List` in ghci I want it to refer to my (possibly modified) source code at `/home/cody/source/unsorted/ghc-7.8.3/libraries/`
14:40:32 <codygman> specifically i guess I'd want it to refer to: /home/cody/source/unsorted/ghc-7.8.3/libraries/base/GHC/List.lhs
14:40:37 <geekosaur> I think that you can't use "import" syntax for that
14:40:44 <geekosaur> it'd have to be    :m *Data.List
14:40:56 <geekosaur> (the * forces it to look for source instead of using a compiled version)
14:41:08 <Big_G> What is the language closest to Haskell that people can actually get jobs in?
14:41:09 <geekosaur> or rather :m +*Data.List
14:41:21 <ion> Big_G: PHP
14:41:25 <ChristianS> Big_G: haskell
14:41:30 <Big_G> ion, Nice try
14:41:39 <Big_G> ChristianS, If you can find me one, I'll join
14:41:56 <DanBurton> Hijiri, you can import qualified in order to avoid the conflict.
14:42:13 <ChristianS> Big_G: i have a haskell job, but we're currently filled
14:42:36 <codygman> geekosaur: Firstly, thanks for your help. Secondly, no luck: http://lpaste.net/134509
14:42:42 <Big_G> ChristianS, Yeah. I know that they exist. They just seem to be incredibly rare and only for gifted Haskellers
14:43:09 <codygman> Big_G: I wouldn't consider myself a gifted Haskeller and I get paid to write about 75-85% Haskell at my current job.
14:43:18 <geekosaur> hm
14:43:37 <Big_G> codygman, What kind of work? Keep in mind that I'm new so gifted may not mean mucgh
14:43:39 <ChristianS> Big_G: i agree about the rare part though
14:43:52 <Big_G> Typically at a pay cut too
14:44:05 <geekosaur> I have no idea. probably have to ask in #ghc
14:44:10 <codygman> Big_G: Rest API's so far mostly and data validation.
14:44:13 <codygman> geekosaur: Alright, thank you.
14:44:14 <vandenoever> i'd require quite a high pay to work in php
14:44:18 <Jello_Raptor> ion: okay, so my first reaction is `(\ fp a -> do { x <- readfile fp; return (x,a) })` because that's asking for both the update of a field in the tuple, and wrapping the operation in a state monad
14:44:23 <geekosaur> that's a somewhat strange/unfamiliar error :/
14:44:42 <Big_G> codygman, I need to talk to you then. I really want to do that at work but have been struggling
14:44:55 <Hijiri> DanBurton: alright, I'll go with that then
14:44:57 <Hijiri> thanks
14:45:01 <codygman> Big_G: feel free to pm me, I'll help where/if I can.
14:45:03 <Big_G> vandenoever, I'd need double what I'm making now 
14:45:10 <ion> Jello_Raptor: That’s correct apart from the input being a tuple, so \(fp, a) -> ...
14:45:29 <Jello_Raptor> ion: but you wouldn't ask the question if there's not a core lensy way to solve that problem ... 
14:45:45 <vandenoever> Big_G: and that's just for the sedatives etc
14:45:48 <ion> Jello_Raptor: Can you think of a way to do the same using fmap? do notation requires Monad (until ApplicativeDo) but this can be achieved using just Functor.
14:45:59 <Big_G> vandenoever, They have to have beer on tap for me to consider
14:46:20 <Big_G> My coworker had me work on a PHP project. Even the small web app was a mess
14:46:44 <codygman> I cheat sometimes and write something in do notation with a monad, then use lambdabot's `@undo`, and replace the binds with <$>.
14:47:23 <DanBurton> Hijiri: the author(s) seem well aware that the class name is in conflict: https://github.com/ekmett/recursion-schemes/blob/master/Data/Functor/Foldable.hs#L93
14:47:56 <Big_G> codygman, Get my message?
14:48:11 <DanBurton> Hijiri: `import Prelude hiding (foldable)` is of course another way to avoid the conflict
14:48:29 <DanBurton> s/f/F
14:52:55 <Jello_Raptor> ion: hmm, is there a place where the monad/monadplus/functor/applicative definitions and laws are just written out? I've got a cheatsheet at for those but they're a right bloody pain to remember. 
14:53:47 <ion> Jello_Raptor: Do a Hoogle search for one of the classes and click on the result. The laws are listed in the documentation. You can do :info Functor in ghci to see the class definition.
14:55:16 <f-a> I have a series of token (non text, usual data constructor like Go Jump Turn), can I parse them with parsec?
14:55:53 <f-a> I would immediately say "yes", but looking at the module I can't find stuff I'd need
14:56:19 <georgyy> how can I set this in ghci config file? hSetEncoding stdout utf8
14:56:32 <f-a> example, to build parser go `go = is Go` 
14:56:34 <pavonia> f-a: You can. I think you need to define a new token type
14:56:45 <georgyy> or in ghci command line (even better)
14:56:59 <f-a> georgyy: iirc hGetContents check your locale
14:57:26 <f-a> so maybe (maybe) you want to change your locale instead
14:57:39 <f-a> thanks pavonia 
14:57:56 <georgyy> windows command line has crappy support for ut8. I am using emacs so I want to set this for ghci only, in order not to break unrelated things
14:57:57 <ion> Jello_Raptor: do { x <- foo; return (bar x) } is equivalent to fmap bar foo (or bar <$> foo if you prefer the infix fmap).
14:59:16 <ion> Desugaring the do notation, “return . bar =<< foo” is equivalent to “bar <$> foo”
14:59:50 <Jello_Raptor> ion: hmm
15:01:02 <zariuq> xD
15:01:26 <f-a> georgyy: to test I put `let a = 0` in my .ghci
15:01:38 <f-a> fired it up λ> a
15:01:38 <f-a> 0
15:01:54 <f-a> so I guess you just import module if it needs (:m +Something) and slap it in
15:02:11 <georgyy> f-a I see, let me try
15:04:14 * hackagebot lock-file 0.5.0.2 - Provide exclusive access to a resource using lock file.  http://hackage.haskell.org/package/lock-file-0.5.0.2 (PeterTrsko)
15:05:40 <Jello_Raptor> ion: the goal is a function with type '(FilePath, a) -> IO (String, a)' with the extra tool of 'FilePath -> IO String'. I'm having trouble figuring out how to pull that IO out of the tuple without explicitly pattern matching (`pure` gives us 'a -> IO a'), and there's got a to be a `(a->c,b->d) -> (a,b) -> (c,d)` in bifunctor or something, so the question becomes how can i get a `(IO a, IO b) -> IO (a , b)`
15:05:47 <georgyy> f-a that did not work in here. neither did let a = 0. I have put .ghci file in my home directory 
15:06:00 <Jello_Raptor> ion: actually you never said anything about pattern matching ... 
15:06:59 <ion> Jello_Raptor: Incidentally, (F a, F b) -> F (a, b) (and a -> F a) is exactly what Applicative lets you do. But Applicative is not needed here, only Functor.
15:07:41 <f-a> georgyy: windows, right?
15:07:54 <georgyy> yes
15:07:56 <ion> Jello_Raptor: First of all, foo :: (FilePath, a) -> IO String; foo (path, x) = readFile path
15:08:02 <f-a> https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/ghci-dot-files.html georgyy 
15:08:08 <f-a> appdata/ghc/ghci.conf, where appdata depends on your system, but is usually something like C:/Documents and Settings/user/Application Data
15:09:05 <ion> Jello_Raptor: We can use fmap :: (String -> (String, a)) -> IO String -> IO (String, a) to modify the result to add the tuple back around the string: foo :: (FilePath, a) -> IO (String, a); foo (path, x) = (\contents -> (contents, x)) <$> readFile path
15:09:14 <ion> Jello_Raptor: Do you have any questions about this?
15:09:15 <Jello_Raptor> ion: hmm, right and `fmap snd` gives you the `(FilePath, a) -> IO a)`
15:09:56 <ion> fmap snd would give you IO (FilePath, a) -> IO a. But the original tuple is a plain tuple.
15:10:37 <Jello_Raptor> one sec, let me digest that. I've yet to internalize many of the laws and looking them up constnatly is slowing me down. 
15:10:42 <georgyy> f-a: it is in directory returned by getAppUserDirectory. I have .emacs in the same directory and it works
15:11:31 <scutigera> @type <$>
15:11:32 <lambdabot> parse error on input ‘<$>’
15:11:39 <scutigera> @type (<$>)
15:11:40 <lambdabot> Functor f => (a -> b) -> f a -> f b
15:12:24 <f-a> georgyy: just to make sure, ghci -ghci-script yourfile
15:12:46 <georgyy> nevermind it *should* be in (but wasnt in my case, even tho I said it was) getHomeDirectory instead
15:14:19 <Big_G> How can I deal with data (from the web) that I don't have a type for?
15:14:59 <f-a> Big_G: slurp it and parse it?
15:15:05 <SparkySparkyBoom> hi
15:15:07 <SparkySparkyBoom> http://lpaste.net/5231407395028074496
15:15:15 <Big_G> f-a, No idea what that means
15:15:19 <SparkySparkyBoom> how would i do an stm transaction in an io block
15:15:19 <georgyy> now hGetEncoding returns UTF-8 in terminal but CP852 in emacs buffer that runs ghci :|
15:15:22 <SparkySparkyBoom> OH
15:15:24 <SparkySparkyBoom> atomically?
15:15:28 <f-a> Big_G: create a datatype yourself
15:15:38 <f-a> then parse the string you are receiving
15:15:43 <Big_G> f-a, The data can come in any form though
15:15:51 <f-a> any form?
15:15:52 <Big_G> It'll be JSON for mongo
15:16:00 <f-a> there is a json parser
15:16:02 <f-a> many of them
15:16:06 <f-a> can you work from there?
15:16:11 <SparkySparkyBoom> ah looks like it
15:16:24 <ion> @hackage aeson
15:16:24 <lambdabot> http://hackage.haskell.org/package/aeson
15:16:30 <Big_G> f-a, I've looked at them but they seem to still need concrete datatytpes to put them in
15:17:02 <georgyy> a is set in terminal as well, but not in ghci in haskell-mode (so .ghci isnt loading)
15:17:31 <pavonia> Big_G: You could store it as a plain ByteString
15:17:37 <f-a> georgyy: then you might want to ask #emacs
15:17:42 <Jello_Raptor> ion: okay, got it. You're creating the and fmaping the lambda so that you can execute readfile in the IO context, and transform it back into the tuple without leaving the context 
15:18:03 <ion> Jello_Raptor: Correct.
15:18:07 <Big_G> pavonia, Will I be able to throw that into a db or parse certain values out easily?
15:18:49 <pavonia> Sure
15:19:23 <Big_G> Awesome
15:19:30 <georgyy> f-a .ghci is not loaded if I type "ghci file.hs"
15:19:46 <ion> λ> let foo (path, x) = (\contents -> (contents, x)) <$> readFile path in foo ("/etc/timezone", 42)
15:19:47 <ion> ("Europe/Helsinki\n",42)
15:20:16 <georgyy> wtf
15:20:26 <georgyy> it us actually a lot more weird than that 
15:21:24 <georgyy> :ghci is loaded only if the drive in the current working directory is C:
15:21:26 <ion> Jello_Raptor: So this modifies the first member of the tuple using an IO action. We can change it to take the “readFile” as a parameter instead of hardcoding it: let foo f (a, b) = (\a' -> (a', b)) <$> f a in foo readFile ("/etc/timezone", 42) has the same output. Is this clear to you?
15:21:37 <georgyy> .ghci*
15:22:42 <srhb> georgyy: That sounds like a bug.
15:23:32 <georgyy> it is not, It was wrong diagnostic
15:24:04 <georgyy> it loads .ghci only in current directory 
15:24:36 <georgyy> global file is called ghci.conf 
15:24:36 <f-a> weird Windows?
15:24:47 <Jello_Raptor> ion: yup, that makes sense, and you can then abstract it away from 'IO' to any functor. and get `foo :: (a -> f c) -> (a,b) -> f (c , b)` which is staring to look like the lens signature, but for the explicit tuple.  
15:24:55 <srhb> georgyy: Ah.
15:25:00 <ion> Jello_Raptor: Exactly.
15:25:09 <srhb> georgyy: Anyway, if you're stille trying to set encoding, it's probably via the haskeline configuration.
15:25:25 <georgyy> https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/ghci-dot-files.html
15:27:07 <ion> Jello_Raptor: Turns out that you get certain very useful things by a careful selection of the “f”. If you set f = IO, you can do any IO action on the first member, but there are two functors that are especially useful:
15:27:30 <Jello_Raptor> ion: mhmm
15:27:45 <ion> Identity lets you use a function as a setter (well, modifier):
15:27:48 <ion> > let foo f (a, b) = (\a' -> (a', b)) <$> f a in foo (Identity . length) ("hello", 42)
15:27:50 <lambdabot>  Identity (5,42)
15:27:58 <georgyy> I got it working via ghci.conf
15:28:05 <ion> Const gives you a getter:
15:28:16 <ion> > let foo f (a, b) = (\a' -> (a', b)) <$> f a in foo Const ("hello", 42)
15:28:17 <lambdabot>  Const "hello"
15:29:06 <ion> Jello_Raptor: You should look at the definitions of the Identity and Const types and Functor instances and figure out why these were the outputs.
15:29:13 <Jello_Raptor> ion: mhmm
15:30:13 <ion> To inline the parameters i gave to foo, respectively:
15:30:30 <ion> (\a' -> (a', 42)) <$> Identity (length "hello")
15:30:35 <ion> (\a' -> (a', 42)) <$> Const "hello"
15:31:54 <ion> Ah, the implementation of the Identity functor isn’t actually that helpful to read here. Let me provide the simple implementations here:
15:32:22 <ion> newtype Identity a = Identity a
15:32:31 <ion> instance Functor Identity where fmap f (Identity a) = Identity (f a)
15:32:53 <ion> newtype Const a b = Const a
15:33:22 <ion> instance Functor (Const a) where fmap _ (Const x) = Const x
15:33:26 <Jello_Raptor> so, `fmap (\a' -> (a',42)) :: f a -> f (a , int)`  
15:36:44 <Jello_Raptor> so the identity case becomes `Identity a -> Identity (a , int)` basically placing the element in the tuple with the function that ... placed the element in the tuple. 
15:38:01 <MrWoohoo> why can't I access Data.Set.member ? i use the import "import qualified Data.Set as Set" but get errors compiling... Could not find module ‘Data.Set’
15:38:03 <MrWoohoo>     It is a member of the hidden package ‘containers-0.5.6.2@conta_47ajk3tbda43DFWyeF3oHQ’.
15:38:21 <ion> MrWoohoo: Add containers to build-dependencies in your project.cabal
15:38:24 <MrWoohoo> it's not part of the base library?
15:38:37 <Jello_Raptor> with const, it becomes 'Const String a -> Const String (String, Int)' but the information with second type parameter is discarded anyway, so only the first application does anything. 
15:38:41 <MrWoohoo> the string "containers"?
15:39:01 <ion> MrWoohoo: Well, for instance, containers == 0.5.*
15:40:23 <ion> Jello_Raptor: foo :: Functor f => (a -> f a') -> (a, b) -> f (a', b), a.k.a.
15:40:32 <ion> Jello_Raptor: foo :: Lens (a,b) (a',b) a a'
15:40:54 <ion> Jello_Raptor: The name of foo in the lens library is _1. It is the lens into the first element of a tuple.
15:41:01 <Jello_Raptor> mhmm
15:41:29 <mniip> to be perfectly correct, _1 is a polymorphic function
15:41:30 <tejing> ion: except _1 is actually special because they wanted it to work for different size tuples
15:41:37 <mniip> and its instance for (,) does what ion explained
15:41:44 <ion> I’m simplifying things for pedagogic purposes.
15:41:56 <vikaton> did anyone see this? xD https://www.youtube.com/watch?v=RqvCNb7fKsg
15:42:01 <tejing> ion: yea, just thought the distinction was worth mentioning
15:42:20 <mniip> vikaton, hfeflflfof fsfaftfofsfhfi
15:42:32 <MrWoohoo> Thanks ion, that got me past that hump. now it exploded in my face LOL breaktime
15:42:37 <vikaton> mniip: hfeflflfof fsfaftfofsfhfi!!!
15:42:45 <maerwald> vikaton: I stopped the video after seeing a windows desktop
15:42:50 <vikaton> lmao
15:42:51 <mniip> vikaton, believe it or not but I learned to pronounce that thing
15:42:54 <vikaton> its pretty funny
15:42:58 <vikaton> loool
15:43:10 <vikaton> though im not sure if he's trying to say haskell is a joke or something
15:44:03 <vikaton> then there is https://www.youtube.com/watch?v=iSmkqocn0oQ Haskell is useless
15:44:14 <mniip> I don't find him trying to demean haskell
15:44:16 <vikaton> most videos I see are satirizing Haskell
15:44:58 <Jello_Raptor> how do you make a function polymorphic over all tuples? <_<
15:45:23 <Jello_Raptor> it seems like the type system would choke since tuples aren't defined recursively 
15:45:37 <maerwald> vikaton: you are aware that SPJ said that haskell is useless, right?
15:46:02 <vikaton> maerwald: yes he said that
15:46:12 <tejing> Jello:Raptor: by making n^2 typeclass instances :-(
15:46:20 <Jello_Raptor> ... <_<
15:46:23 <maerwald> vikaton: just checking you got the joke...
15:46:56 <tejing> JelloRaptor: I think the lens library goes up to 15-tuples or so, which is more than enough... you really shouldn't be using tuples larger than that
15:47:53 <Jello_Raptor> mhmm
15:48:12 <mniip> generally 3-tuple is a sign of doing something wrong
15:48:28 <maerwald> mniip: that's too broad
15:48:29 <vikaton> maerwald: I'm not saying that it is or that he meant it lol
15:48:40 <ion> Jello_Raptor: To use _1 (or foo) as a setter and a getter, we can define over and view: https://gist.github.com/ion1/5a38dd315e093c382cb5
15:48:49 <maerwald> vikaton: yeah, he's actually making quite a good point
15:49:16 * hackagebot hmatrix-gsl-stats 0.3.0.3 - GSL Statistics interface  http://hackage.haskell.org/package/hmatrix-gsl-stats-0.3.0.3 (VivianMcPhail)
15:49:20 <ion> Jello_Raptor: over and view do exactly what my examples did earlier (apply foo to (Identity . length) or Const), but they additionally unwrap the value from Identity/Const using runIdentity/getConst.
15:49:27 <vikaton> who here experienced changes in the way they coded in imperative languages after haskell?
15:49:35 <georgyy> no, stil not working. ghci.conf is not being loaded if I type "ghci file.hs". I give up (for now)
15:49:55 <tejing> vikaton: me... I always find myself writing things in haskell in my head, then translating to imperative
15:50:18 <Jello_Raptor> ion: right
15:50:20 <ion> vikaton: Before using Haskell i did know it’s a best practice to minimize the amount of impure code but i had really hard time turning that into practice before learning Haskell.
15:50:24 <Forkk> vikaton, "if only map existed in other languages"
15:50:51 <ion> Jello_Raptor: Now, Setter and Getter are just Lens specialized to f = Identity and f = Const a.
15:51:07 <Jello_Raptor> ion: right
15:51:19 <Jello_Raptor> , limiting you to using only over, and view
15:51:27 <Jello_Raptor> respectively* 
15:51:29 <vikaton> Cool
15:52:21 <vikaton> still trying to find someone with the situation of haskell helping them with mathematics 
15:52:38 <vikaton> well mathemtical knowledge
15:53:20 <maerwald> vikaton: only if you dig into category theory which isn't necessary to be able to program haskell
15:54:17 <ion> Jello_Raptor: How about “both” which runs a Functor action with both members of a tuple? A starting point (which will turn out not to work): both :: Lens (a,a) (b,b) a b, or: both :: Functor f => (a -> f b) -> (a,a) -> f (b,b); both f (a,b) = ??? (f a) ??? (f b)
15:54:21 <maerwald> but people have different opinions on how useful that is for you as a practical programmer
15:54:32 <Jello_Raptor> ion: it also makes sense how they can compose nicely, to let you look deeper into a structure. 
15:54:35 <maerwald> however, it's not a precondition
15:55:02 <vikaton> im learning haskell not for practical purposes but for increasing my programming skills
15:55:04 <vikaton> and knowledge
15:55:06 <ion> Jello_Raptor: both putStrLn ("hello", "world") should print the lines hello and world and result in ((),())
15:55:06 <ttt_fff> lens uses TH, which slows down compile time -- is it worth it? is lens that awesome?
15:55:23 <ttt_fff> who is jolesdo and why is this person PMing me?
15:55:29 <Jello_Raptor> ion: okay, so something like foo f (n,m) = (\ n' m' -> (n
15:55:47 <maerwald> vikaton: "increasing programming skills" is what I meant with practical
15:55:52 <maerwald> because it is quite practical
15:56:06 <ttt_fff> anyone else being spammed by jolesdo ? should we have ops kick this person?
15:57:03 <vikaton> maerwald: swag
15:57:11 <maerwald> maerwald: knowing category theory will increase your understanding of some of the deeper concepts, but most of the time that knowledge ist not vital in order to understand how to _use_ that concept
15:57:16 <ion> Jello_Raptor: Since you’re familiar with do notation, let’s start with that. Can you write both f (a,b) = do { ... } such that it runs f against both a and b and returns both result values in a tuple? Say, both :: (a -> IO b) -> (a,a) -> IO (b,b)
15:57:17 <vikaton> lol
15:57:23 <vikaton> theres another maerwald  ?
15:57:25 <mniip> huh
15:57:30 <Jello_Raptor> ion: okay, so something like "foo f (n,m) = (\ n' m' -> (n',m')) <$> f n <*> f m" but that doesn't quite work, first it needs an applicative, and i have no idea what that would do with a Const
15:57:31 <mniip> confirmed
15:57:43 <maerwald> vikaton: there is only one maerwald and he is many
15:57:51 <vikaton> lol
15:57:52 <ion> Jello_Raptor: Hehe, you figured out that Applicative is to be used here.
15:57:57 <ion> Jello_Raptor: Good job.
15:58:12 <vikaton> hopefully haskell can also make me better understand languages like C++ or Rust
15:58:25 <vikaton> the deep level stuff, not surface level
15:58:55 <mniip> vikaton, hahaha
15:58:57 <maerwald> vikaton: haskell is a proper high level language... I'm not so sure how that will increase your understanding of something as terrible as C++
15:59:21 <vikaton> maerwald: Type systems?
15:59:28 <mniip> vikaton, have you seen haskell's "deep level stuff"?
15:59:31 <maerwald> C++ is weakly typed afair
15:59:37 <vikaton> mniip: I'm afraid
16:00:06 <ion> Jello_Raptor: Kinda-Lens but with Applicative instead of Functor is known as Traversal. A traversal focuses into zero or more members of a data structure instead of exactly one. In the case of “both”, it focuses into two members.
16:00:06 <mniip> maerwald, there's some type inference in C++ templates and function calls but that's about it
16:00:08 <Jello_Raptor> ion: ahh, so if you don't have a way to join multiple operations in a context (which is what applicative gives you, I think) then you can;t build an Iterable. Still leaves me with no idea how to do something reasonable with Const. I'm not even sure what the type signature of the resulting specialized function would look like. (I could do it manually, but that'd take a bit) 
16:00:25 <maerwald> vikaton: and the polymorphism you have in languages like C++ or java is a real bad joke compared to what haskell gives you.... so 
16:01:18 <definity> Hi
16:01:35 <ion> Jello_Raptor: (Updated https://gist.github.com/ion1/5a38dd315e093c382cb5 with what we have so far)
16:01:42 <Cale> To be fair, you can do some really cool things with template polymorphism in C++. It's just sad that it's really awful at the most common case :P
16:01:55 <ion> Jello_Raptor: Side note:
16:01:56 <ion> @type traverse
16:01:57 <lambdabot> (Applicative f, Traversable t) => (a -> f b) -> t a -> f (t b)
16:02:09 <ion> traverse :: Traversable t => Traversal (t a) (t b) a b
16:02:12 <Cale> (i.e. what most ordinary people use it for, parametric polymorphism)
16:02:26 <definity> 'add :: (Num a) => a -> a' Does that declaration mean a is of the class type num?
16:02:33 <georgyy> jeez.. he just said he hopes learning haskell will improve his C++ (and it will). no need to turn that into a C++ bashing fest
16:02:48 <Cale> definity: Yeah, it restricts the type variable a to just those types which are instances of Num
16:02:55 <maerwald> Cale: it's not as bad as java generics, but it's still an extension that's thrown on top of the mess... and now is supposed to fit in
16:03:00 <definity> Cale: Coolt hanks :)
16:03:08 <definity> *Cool thanks*
16:03:16 <ion> Jello_Raptor: The Traversable type class specifies a canonical Traversal for each instance. But there are more traversals that may be useful, that’s where lens comes in.
16:03:21 <Cale> georgyy: Agreed, though it certainly can be fun to bash C++ ;)
16:03:26 <ion> @type traverse . traverse
16:03:27 <lambdabot> (Applicative f, Traversable t, Traversable t1) => (a -> f b) -> t (t1 a) -> f (t (t1 b))
16:03:31 <Jello_Raptor> ion: I'm not sure what you mean 
16:03:38 <ion> Jello_Raptor: The very same thing that makes traverse compose makes lenses compose, too.
16:04:21 <Cale> Most likely, learning Haskell will make you not want to program in C++ because everything in C++ *will* feel horrible and awkward by comparison though. At least, that's my experience.
16:04:30 <ion> Jello_Raptor: http://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Traversable.html
16:04:34 <maerwald> georgyy: I don't think it will improve his C++ a lot, because these languages are just too far away from each other
16:04:50 <maerwald> that was my point
16:04:58 <maerwald> the types are different, polymorphism is different
16:05:01 <maerwald> basically everything
16:05:04 <ion> Jello_Raptor: traverse readFile (Just filename) = Just <$> readFile filename
16:05:28 <ion> Jello_Raptor: traverse readFile [filenameA, filenameB] = do { a <- readFile filenameA; b <- readFile filenameB; return [a,b] }
16:05:32 <Jello_Raptor> ion: so this is where you get filters and the like, make a traversal that only affects members that satisfy a predicate. 
16:05:55 <ion> Jello_Raptor: Yeah
16:06:31 <int-index> maerwald: Haskell improved my C++. Before Haskell my C++ was full of bugs, after Haskell I don't write C++, so no bugs.
16:06:46 <Jello_Raptor> with (Identity . f) you get a thing that changes all of those values, but i'm still lost on how Const interacts with traversals. 
16:06:50 <georgyy> maerwald: I think it will.. C++ templates is basically a purely functional sublanguage that runs at compile time
16:06:50 <maerwald> int-index: makes sense ;)
16:06:55 <ion> Jello_Raptor: As for what to do with Const: Const does have an Applicative instance. You observed the problem that we need to have a way to put together multiple values. We have something for that: Monoid.
16:07:04 <Cale> Well, even if you have to keep writing C++, you probably will write it much more defensively.
16:07:10 <maerwald> georgyy: purely functional? uhm
16:07:18 <georgyy> sure
16:07:30 <maerwald> not sure how you can say "pure" and "C++" in the same sentence, but...
16:07:41 <int-index> maerwald: We're talking templates here.
16:07:45 <maerwald> I know
16:07:52 <Rotaerk> "C++ is pure shit"
16:07:54 <Rotaerk> how's that?
16:07:57 <ion> Jello_Raptor: instance Monoid m => Applicative (Const m) where { pure a = Const mempty; Const a <*> Const b = Const (a <> b) }
16:07:58 <georgyy> you cant perform any IO or mutation in C++ metaprogeamming
16:08:18 <Jello_Raptor> ion: so you have to specify the monoid too? if it's a List then it'll collect them, and (is there some way to specify a sum monoid, or multiplicative sum monoid instance for ints?) 
16:09:49 <ion> Jello_Raptor: We can implement toListOf as follows: https://gist.github.com/ion1/5a38dd315e093c382cb5
16:09:53 <Cale> Haskell does force you to learn various things that you probably would learn after a lifetime of programming in C++ which might immediately make you better. You'll probably use more immutable structures when you can get away with it, or at least, write things in such a way as to avoid unnecessary mutation.
16:10:01 <ion> > toListOf both ("hello", "world")
16:10:02 <lambdabot>  ["hello","world"]
16:10:31 <maerwald> Cale: which... might even make your OOP code worse, one could argue
16:10:41 <Cale> Uh, usually better anyway
16:10:54 <Cale> I've done pure OOP in Haskell and had it work out pretty well.
16:11:19 <bitemyapp> I've not really had pure FP work out well at all in (not Haskell)
16:11:31 <ion> Jello_Raptor: Or sumOf l s = getConst (l (Const . Sum) s)
16:11:31 <Cale> (i.e. no mutation at all, just have objects which would normally mutate themselves instead produce new objects as a result of the corresponding operation)
16:11:41 <Jello_Raptor> ion: ahh, cool 
16:12:12 <Cale> and you can set the balance there wherever you'd like, though I think it's actually harder to do OOP well in C++ than in Haskell.
16:13:20 <ion> Jello_Raptor: Well, with getSum. Updated the gist.
16:13:43 <Cale> I've said it here many times before, but I think it bears repeating, that tying method implementations to class declarations is in my opinion a huge mistake of many of the typed "OOP" languages, which actively gets in the way of good OO design.
16:13:43 <maerwald> Cale: I'm not convinced, but that might be because I'm just a really bad OOP programmer and avoid it whenever possible
16:13:58 <koala_man> even Java best practices from non-FP people tell you to return read-only collections whenever possible, or failing that, copies. 
16:14:13 <Jello_Raptor> ion: Doesn't that need to be "sumOf l s = getSum $ getConst (l (Const . Sum) s)" to have the most reasonable semantics? 
16:14:23 <Cale> You end up with obnoxious class hierarchies where you wouldn't otherwise need them.
16:14:27 <Jello_Raptor> ion: d'oh
16:15:23 <lpaste> MrWoohoo pasted “import hell” at http://lpaste.net/134512
16:15:25 <ion> Jello_Raptor: Since traverse from base/Data.Traversable unifies with the type sumOf expects, things like these will work:
16:15:32 <ion> > sumOf traverse [0..10]
16:15:34 <lambdabot>  55
16:15:42 <ion> > sumOf (traverse . traverse) [[0,1],[2,3],[4,5]]
16:15:43 <lambdabot>  15
16:16:02 <Jello_Raptor> okay, cool 
16:16:23 <MrWoohoo> ion, you have a minute? what am I doing wrong in that paste?
16:16:24 <Cale> In a language with first class functions/procedures, you can sidestep that though, and just make records of methods which capture the values of any internal "private" data from the enclosing scope where they're constructed.
16:16:27 <ion> > sumOf (both . traverse) ([0..2], [3..10])
16:16:28 <lambdabot>  55
16:16:49 <Cale> and you avoid a lot of the need for subclasses, because you just fill in the method fields differently
16:17:51 <Jello_Raptor> ion: it looks like "Fold s a" is covered by something similar, except now it makes the ordering matter? 
16:17:55 <ion> MrWoohoo: Seems to me that “elementAttributes e” does not have the type Set (String, String) but Map Name Text.
16:18:14 <int-index> > (sumOf . replicated) 10 5
16:18:15 <lambdabot>  50
16:18:25 <int-index> Yeah, because multiplication is too mainstream.
16:18:49 <Cale> In some sense, the real essential difference between traditional functional programming and object oriented programming is whether the emphasis is placed on inductive or coinductive types respectively.
16:18:50 <MrWoohoo> looking. thanks
16:19:21 <Cale> In Haskell, we have both of these (and in Haskell there's no formal distinction between them, even)
16:19:56 <ion> Jello_Raptor: Fold is like Getter in that it can’t be used as a Setter, and like Traversal in that it can focus into an arbitrary number of values.
16:20:09 <MrWoohoo> ah... yes.... that is a problem. serves me right for typing in the first answer on stack overflow LOL
16:21:09 <Jello_Raptor> ion: ahh, okay so it is a traversal specialized to Const, and there's no traversal specialized to Identity it looks like. 
16:21:10 <ion> Jello_Raptor: Constrain “f” to “Const m” in Traversal and you have a Fold.
16:23:20 <ion> Jello_Raptor: “over” already works with Traversals, i’m not sure there’s much need for a name for something that is a setter over multiple fields.
16:23:28 <vikaton> 1500 on point
16:24:13 <Jello_Raptor> ion: i'm trying to figure out whether one could exist that didn't also imply a getter over over multiple fields. 
16:24:38 <ion> Jello_Raptor: I mean, for something that is a setter but must work on multiple fields.
16:24:53 <ttt_fff> can 'foldl (\x y -> x `union` (_BBox y)) Nothing lst' be shortened ? in particular, the (\x y -> ...) part
16:25:07 <Jello_Raptor> ion: mhmm
16:25:11 <ion> @pl \x y -> x `union` (_BBox y)
16:25:11 <lambdabot> (line 1, column 21):
16:25:11 <lambdabot> unexpected '_'
16:25:11 <lambdabot> expecting expression
16:25:14 <ion> @pl \x y -> x `union` (BBox y)
16:25:15 <lambdabot> (. BBox) . union
16:25:34 <ion> Pretty ugly.
16:25:40 <ttt_fff> wtf; how does this work; so it's running BBox on one arg, then concating with union
16:25:42 <ion> \x -> union x . _BBox
16:25:46 <ttt_fff> yeah, \x y ->  ... looks cleaner
16:27:02 <bitemyapp> Cale: initial vs. final encodings
16:27:33 <bitemyapp> Cale: that's how I frame it. Probably same as what you said, but I don't have a good sense of what coinductive means.
16:27:52 <ttt_fff> 'foldl union Nothing (map _BBox lst)' looks much better than 'foldl (\x y -> x `union` (_BBox y)) Nothing lst' -- anyone who disagrees sholud go use ocaml
16:28:18 <vikaton> well if haskell makes you think differently about problems, in a way that makes u smarter
16:28:56 <teurastaja> how would you find all 12 permutations of a 3 by 3 latin square?
16:31:04 <ReinH> splitOn 3 . permutations . concat
16:32:08 <ReinH> Throw a filter isLatinSquare on the front
16:32:58 <ion> Apply permutations to each row, zip the results, apply permutations to the rows.
16:33:20 <ion> (probably)
16:33:45 <teurastaja> ReinH: i dont understand your solution
16:34:41 <teurastaja> ion: you mean rotate successively each new row?
16:37:20 <Jello_Raptor> hmm, is there a good way to compose backtracking (List as a monad + laziness + head) and IO? I'm imagining something like a sudoku solver that automatically fills in all the boxes that are constrained to a single choice, asks the user when there's an ambiguity, and backtracts to the last IO operation to try again when it hits a dead end? (while ideally also providing the user the option to backtrack further) 
16:37:54 <c_wraith> Jello_Raptor: backtracking sort of implies undoing.  Hard to undo IO
16:38:06 <ReinH> find all possible squares, which are the permutations of, e.g., [A,A,A,B,B,B,C,C,C] arranged into a 3x3 grid that satisfy the latin square property
16:38:34 <maerwald> > foldr (<>) mempty [id, id] $ [1..2]
16:38:35 <lambdabot>  [1,2,1,2]
16:38:46 <maerwald> does someone know a better obfuscation? :P
16:39:08 <int-index> teurastaja: traverse permutations
16:39:12 <Jello_Raptor> c_wraith: assume that there's some computational state then, and reverting to the state before the IO op is sufficient. 
16:39:26 <teurastaja> int-index: huh?
16:39:37 <Jello_Raptor> c_wraith: it's fine if you can't revert the outside world :P 
16:39:39 <int-index> > (traverse print . traverse permutations) [[1,2,3],[4,5,6],[7,8,9]]
16:39:40 <lambdabot>  <IO [()]>
16:39:46 <lolisa> Jello_Raptor
16:39:47 <int-index> damn it, lambdabot
16:39:57 <int-index> teurastaja: type it into GHCi
16:40:02 <Jello_Raptor> lolisa: mmm? 
16:40:13 <pavonia> :t  traverse permutations
16:40:14 <lambdabot> Traversable t => t [a] -> [t [a]]
16:40:19 <lolisa> There's a CSP monad in Haskell lib, go check it out, it has probably what you need
16:41:06 <Jello_Raptor> lolisa: cool, I'm not sure it's exactly what I"m looking for but it's a lot closer. 
16:42:34 <Jello_Raptor> ion: thanks for helping :) I'll have to ask about Iso and Prism at sometime, but for the moment I've got to get going. 
16:42:45 <ion> Jello_Raptor: I’ll have to get some sleep, too. See you.
16:43:08 <int-index> teurastaja: actually, you probably want traverse permutations >=> permutations
16:43:21 <int-index> :t traverse permutations >=> permutations
16:43:21 <lambdabot> [[a]] -> [[[a]]]
16:43:27 <int-index> Yeah, seems correct.
16:43:55 <teurastaja> whats the >=> ?
16:44:07 <int-index> teurastaja: Kleisli composition
16:44:48 <int-index> it's from Control.Monad
16:45:01 <teurastaja> int-index: what?
16:45:08 <int-index> teurastaja: what 'what'?
16:46:45 <teurastaja> [[0, 1, 2], [1, 2, 0], [2, 0, 1]]
16:46:54 <teurastaja> i want permutations of this
16:48:11 <teurastaja> all 12 of them. i dont understand kleisli composition
16:49:40 <luzie> @src (>=>)
16:49:40 <lambdabot> Source not found. Where did you learn to type?
16:50:47 <teurastaja> should i find all permutations of [0, 1, 2] then successively rotate for the 2 other rows?
16:53:40 <ReinH> teurastaja: http://lpaste.net/7695290447521906688
16:53:47 <ReinH> is the correcg version of my method
16:53:55 <ReinH> *correct
16:54:50 <ReinH> This is where you can start to apply the pruning techniques from Bird's sudoku solver to improve performance  if you want to
16:54:56 <teurastaja> thats a lot clearer thanks
16:55:10 <ReinH> but with only ~360,000 possibilities to check even for the brute force version, it's quite fast already
16:57:10 <ReinH> @google richard bird sudoku pdf
16:57:12 <lambdabot> http://journals.cambridge.org/article_S0956796806006058
16:57:12 <lambdabot> Title: Journal of Functional Programming - FUNCTIONAL PEARL: A program to solve Sudo...
16:57:20 <ReinH> would be a very good read
16:58:03 <ReinH> damn, not from that site, one sec
16:58:19 <ReinH> http://ipaper.googlecode.com/git-history/d56c604033447bc92c777994e571a1eb36439099/Miscs/Richard-Bird/sudoku.pdf
17:00:23 <int-index> teurastaja: I need to admit that I didn't even read what a latin square is.
17:00:41 <ReinH> :p
17:00:52 <int-index> Now, if I steal ReinH's definitions of isLatinSquare, my solution is this
17:00:57 <ReinH> basically a uch easier version of sudoku
17:00:59 <ReinH> *much
17:01:15 <int-index> nub . filter isLatinSquare . (travere permutations >=> permutations)
17:01:38 <ion> “concatMap permutations . getZipList . traverse ZipList . map permutations” columns and then rows. This maintains the Latin square property but introduces duplicates.
17:01:40 <int-index> s/travere/traverse/g
17:01:57 <ion> Uh. ...permutes columns and then rows
17:02:06 <ReinH> You don't need to permute both columns and rows
17:02:10 <ReinH> permuting rows is enough
17:02:46 <ion> > length . nub $ permutations ["abc","bca","cab"]
17:02:47 <lambdabot>  6
17:03:03 <ion> > length . nub $ (concatMap permutations . getZipList . traverse ZipList . map permutations) ["abc","bca","cab"]
17:03:04 <lambdabot>  12
17:03:22 <ReinH> that's not what I said
17:04:26 <int-index> > nub . filter (let unique = length xs == length (nub xs) in \xs -> all unique xs && all unique (transpose xs)) . (traverse permutations >=> permutations) $ [[0, 1, 2], [1, 2, 0], [2, 0, 1]]
17:04:27 <lambdabot>      Not in scope: ‘xs’
17:04:28 <lambdabot>      Perhaps you meant one of these:
17:04:28 <lambdabot>        ‘x’ (imported from Debug.SimpleReflect),
17:04:33 <ReinH> well, I guess it's unclear, what I meant was permute the *contents* of the rows
17:04:40 <ReinH> not the order of the rows themselves
17:04:51 <int-index> > nub . filter (let unique xs = length xs == length (nub xs) in \xs -> all unique xs && all unique (transpose xs)) . (traverse permutations >=> permutations) $ [[0, 1, 2], [1, 2, 0], [2, 0, 1]]
17:04:52 <lambdabot>  [[[0,1,2],[1,2,0],[2,0,1]],[[1,2,0],[0,1,2],[2,0,1]],[[2,0,1],[1,2,0],[0,1,2...
17:05:03 <int-index> teurastaja: Is it what you want?
17:05:25 <ReinH> latinSquares = nub . filter isLatinSquare . traverse permutations $ [[1,2,3],[1,2,3],[1,2,3]]
17:05:29 <ReinH> is all you need
17:05:41 <teurastaja> what is nub?
17:05:46 <int-index> ReinH: oh great.
17:05:53 <ReinH> and indeed you don't need nub, because there are no duplicatews
17:06:04 <ReinH> latinSquares = filter isLatinSquare . traverse permutations
17:06:14 <int-index> ReinH: awesome.
17:06:18 <ReinH> teurastaja: nub removes duplicates
17:06:24 <teurastaja> oh
17:06:31 <ion> in an inefficient manner (but only requires Eq)
17:06:31 <ReinH> traverse permutations already gives every possible permutation of rows
17:06:47 <teurastaja> like delete-duplicates in scheme
17:06:48 <ReinH> this should be quite fast indeed
17:07:11 <ReinH> since it only checks 216 permutations
17:07:52 <int-index> ReinH: I love how I randomly picked a function by type (traverse) and it turned out to be the solution. Haskell rocks
17:08:04 <ReinH> int-index: :)
17:10:02 <ReinH> Ok, here's a version that takes the size of the square http://lpaste.net/7695290447521906688
17:10:31 <ReinH> now if you want you can look at methods to improve performance for larger squares, following Bird's example
17:29:51 <definity> When using the pipe symbol to use loops should you use an indent? or would the compiler ignore it if you dont?
17:30:51 <kadoban> definity: Wat?
17:31:50 <kadoban> Any !ops want to ban jolesdo ? He seems to be spamming people to talk here
17:31:54 <definity> like indent the pipe symbol, im my book it said it dont matter if you use indentation or not but when i didnt use it i got a compiler error and now that i put it in in compiles, but from what i was reading it was inspecific to weather i need indentation or not
17:32:08 <Axman6> @where ops
17:32:09 <lambdabot> arjanb bos byorgey Cale conal copumpkin dcoutts dibblego dmhouse dolio dons edwardk elliott geekosaur glguy Heffalump Igloo jmcarthur johnw kosmikus Lemmih monochrom nyc Philippa Pseudonym quicksilver roconnor Saizan shachaf shapr sjanssen ski sorear SyntaxPolice xerox
17:32:20 <srhb> definity: It's hard to answer the question without an example.
17:32:30 --- mode: ChanServ set +o geekosaur
17:32:33 --- mode: ChanServ set +o edwardk
17:32:43 --- kick: jolesdo was kicked by edwardk (jolesdo)
17:32:43 --- mode: edwardk set +b jolesdo!*@*
17:32:45 <srhb> definity: I'm not sure how loops (which? what package?) relates to this. Also, generally when speaking of (single) pipes, they are used in guards specifically.
17:32:47 <kadoban> spamming people who* talk here that is.
17:32:55 * geekosaur slow
17:32:57 --- mode: geekosaur set -o geekosaur
17:33:35 <definity> http://pastie.org/10240527
17:34:00 <srhb> definity: I don't know why the book would claim that the latter version would compile.
17:34:14 <Cale> definity: Ah, guards. Yes, you must start each guard in a deeper column than the declaration or case expression it's attached to.
17:34:23 <definity> Yes im using guards
17:34:27 <tejing> definity: that doesn't have anything to do with loops...
17:34:29 <sccrstud92__> this might be a dumb question, but why does the ghc version number (the middle one) jump by 2?
17:34:34 <sccrstud92__> 7.8 -> 7.10
17:34:39 <sccrstud92__> what happens to 7.9??
17:34:44 <geekosaur> because the odd numbers are the internal development versions
17:34:54 <Cale> It's the same as with the linux kernel.
17:34:58 <geekosaur> so 7.10 is released now, so 7.11 is HEAD
17:35:11 <sccrstud92__> so they never release odd versions?
17:35:16 <geekosaur> correct
17:35:17 <definity> tejing: It said it was like a big if/else statment
17:35:30 <geekosaur> definity, I would wnder about the exact wording
17:35:31 <sccrstud92__> do the odd versions have extra features or seomthing?
17:35:46 <geekosaur> more featurtes (that will be in the next release) but also more bugs
17:35:47 <definity> is it more similar to a switch/case statment?
17:35:48 <srhb> definity: if-then-else is not a looping construct either.
17:35:51 <Cale> definity: That's correct, it is like a nested bunch of if/then/else expressions
17:36:13 <geekosaur> definity, depending on what exactly your book said, I wonder if it didn;'t so much mean indentation as multiple lines
17:36:19 <Cale> But there's no loop or recursion here at all.
17:36:33 <tejing> just a strange choice of variable name
17:36:41 <geekosaur> foo | x == 1 = a | x == 2 = b -- is quite legitimate, the guards do not have to be on their own lines or etc.
17:36:46 <Cale> yeah, that is really weird
17:37:19 <tejing> but if they are on their own lines they do need to be indented
17:37:25 <srhb> tejing: Yes.
17:37:26 <geekosaur> yes
17:37:31 <srhb> Oh, sorry, you were saying not asking :P
17:37:48 <definity> OKay thanks for the help guys :)
17:38:05 <srhb> definity: But rename that parameter! It's confusing. :P
17:38:18 <srhb> definity: It's describing a weight so the name should relate to that.
17:38:34 <definity> srhb: Which aprameter?
17:38:37 <definity> parameter*
17:38:38 <srhb> definity: "loop"
17:39:14 <srhb> And the function name is bad, too. It should be bmiDescription bmi | bmi ...
17:39:24 <srhb> Or something like that. :-)
17:39:59 <definity> Okay thanks :)
17:40:23 <timbod7> optparse -applicative seems nice. But I can't see the way to accept multiple options of a given type. Ie I want to accept multiple options like '--includes X' and accumulate them into a list. Any hints? 
17:49:38 <srhb> timbod7: Just use many.
17:52:45 <srhb> timbod7: Or many1 if you need at least one. :)
17:55:02 <timbod7> srhb: thanks - works fine. But where is the documentation for `many`?
17:55:16 <ion> http://hoogle.haskell.org/?hoogle=many
17:55:46 <srhb> timbod7: Control.Applicative :)
17:55:58 <srhb> Oh and many1 is called some apparently. I did not know
17:56:17 <srhb> Anyway it's just some p = (:) <$> p <*> many p
17:56:27 <timbod7> Ah. I was looking for something like it in the optparse-applicative library.
17:56:43 <srhb> timbod7: It's more general than that. :) Ie. it's useful for many things.
17:56:52 <timbod7> Yep - I see that.
17:56:54 <srhb> But it does very often crop up in various parsers.
17:56:58 <srhb> For obvious reasons :)
17:57:32 <timbod7> Yep - used it before in parsec
17:57:40 <srhb> Indeed. :)
17:58:02 <timbod7> But in that case, if I remember correctly, many came from the parsec lib.
17:58:48 <srhb> timbod7: I think PArsec predates Control.Applicative -- perhaps even Applicative.
17:59:35 <timbod7> srhb: thanks for your help. Saved me some time looking for this.
17:59:43 <srhb> Sure thing.
18:28:55 <deschamps> exit
18:32:09 <Big_G> Is there a good compendium of all languages with pros and cons?
18:34:35 <johnw> all languages, of all time?
18:34:52 <johnw> do you ask because you're trying to choose a language?
18:36:55 <geekosaur> this is a repeat troll
18:37:13 <geekosaur> clumsy even
18:38:09 <geekosaur> oh, I see, the original teoll they;'re repeating in -blah, they're trying something else in here now
18:38:10 <geekosaur> cutre
18:50:35 <timbod7> Hmmm. Disappointed to see that the only regex library that works with Data.Text seems to be text-icu, and all of it's regex operations are in the IO monad.
18:50:58 <Forkk> why would regex operations be in the IO monad/
18:51:33 <timbod7> Presumably because they are implemented as stateful C code in the ICU library.
18:51:47 <Forkk> they should be pure either way
18:52:02 <bgwines> HI, there! I was wondering if anybody had an idea if there was a way to use QuickCheck to generate random values of random _types_.
18:52:17 <Forkk> I can't imagine ICU's regex functionality has any side effects
18:52:21 <timbod7> See: http://hackage.haskell.org/package/text-icu-0.7.0.1/docs/Data-Text-ICU-Regex.html#regex
18:52:43 <timbod7> Comments at the top about being not thread-safe.
18:52:49 <ion> bgwines: Create a sum type corresponding to all the types you want to generate.
18:52:50 <Forkk> also, why haven't we made some sort of string class for String and Text yet so we don't have to worry about which one we're using :|
18:53:27 <Forkk> timbod7, "or use the pure functions in Data.Text.ICU."
18:53:44 <bgwines> ion: that makes a lot of sense! Thanks; great idea :)
18:53:49 <Axman6> bgwines: not really, but if you have specific types you want to test then you cvould use the Aibitrary instance for say Either a b (or make something like data MyTypes = Foos Foo | Bars Bar | Baz Baz | Quux Quux for the types you want to test)
18:54:54 <timbod7> Forkk - thanks. You can read the doco better than me.
18:54:59 <Forkk> :P
18:55:19 <Forkk> looks like you get a bit of overhead from it having to copy strings around though
18:55:24 <Forkk> shouldn't be a huge issue
18:56:14 <timbod7> Fine for me.
18:56:53 <Forkk> ICU is an absolutely insane library :o
18:57:06 <Forkk> I feel bad for whoever has to maintain all that
18:58:22 <bitemyapp> Forkk: I feel bad that has to do anything that has surface area in contact with humans or politics (cf. datetime libraries)
18:58:32 <bitemyapp> I feel bad for anybody that has to do*
18:59:16 <Forkk> my brain exploded when I tried to read that first message...
18:59:26 <Forkk> but yeah, I agree
18:59:42 <Forkk> timezones, language, figuring out when easter is
18:59:57 <Forkk> https://downloads.haskell.org/~ghc/7.6.3/docs/html/libraries/time-1.4.0.1/Data-Time-Calendar-Easter.html
19:00:23 <Forkk> just look at this shit https://downloads.haskell.org/~ghc/7.6.3/docs/html/libraries/time-1.4.0.1/src/Data-Time-Calendar-Easter.html#orthodoxPaschalMoon
19:00:46 <Forkk> this is insane
19:02:59 <Forkk> although that's for an ancient version of GHC. It probably hasn't changed much since then anyway
19:14:23 --- mode: edwardk set -o edwardk
19:29:25 * hackagebot optional-args 1.0.0 - Optional function arguments  http://hackage.haskell.org/package/optional-args-1.0.0 (GabrielGonzalez)
19:29:27 * hackagebot break 1.0.0 - Break from a loop  http://hackage.haskell.org/package/break-1.0.0 (GabrielGonzalez)
19:48:18 <ajf> is there a function to force strict evaluation?
19:49:00 <timemage> ajf, seq?
19:49:07 <dolio> You have to be more specific than that.
20:09:27 * hackagebot mvc-updates 1.1.2 - Concurrent and combinable updates  http://hackage.haskell.org/package/mvc-updates-1.1.2 (GabrielGonzalez)
20:10:20 <rvxi> anyone use kronos haskell for IHaskell notebooks?
20:10:45 <Axman6> I have been using it a little bit
20:10:50 <Axman6> needs more keyboard shortcuts
20:12:33 <rvxi> how do you point it to a sandbox?
20:12:49 <rvxi> or install packages that don't come preinstalled?
20:14:27 * hackagebot json-togo 0.1.0.0 - Effectful parsing of JSON documents  http://hackage.haskell.org/package/json-togo-0.1.0.0 (srijs)
20:14:39 <bitemyapp> rvxi: https://try.jupyter.org/ the Haskell notebook here seems to work pretty well
20:15:28 <rvxi> thanks bma, i'm running it locally though.
20:16:10 <rvxi> i ran into problems building IHaskell from the source
20:16:26 <rvxi> so for now I'm using kronos's bundle =/
20:20:36 <Axman6> rvxi: yeah I wish I knew that too
20:21:58 <definity> I am suposed using the where keyword wrong but i just copied the code from a book, can you see why this sint working? http://pastie.org/10240633
20:22:40 <tejing> definity: indent the where
20:27:04 <rvxi> axman6: shouldn't be that hard... you'd think they would just have a sandbox somewhere
20:27:26 <definity> tejing: Ahh thanks, I didnt realise that had to be indented
20:47:56 <rahdahdah> the hacking cool. With isis, now we're child molestening. It's over! Word!
20:47:58 <rahdahdah> Mandelay bay industries. Vandelay bay industries.
20:48:00 <rahdahdah> This is the dream. Dee dos Xbox, PlayStation a no fly list. Diverting the Lizard Squad baby, it's over! With Mentos fresh goes better in life! Word!
20:48:02 <rahdahdah> Mandelay, Vandelay bay. Mandelay industries. Dee dos Xbox, PlayStation and full of Sony execs. Yo-ho-ho-ho-ho-ho-ho-hoh-hoh-hoh-hoh-hoh! Mandelay, Mandelay industries. Mandelay bay industries. Yo-ho-hoh! Mentos freshmaker.
20:48:04 <rahdahdah> I'm living jets of life!
20:48:06 <rahdahdah> Nesh and Steam. It doesn't matter in life! Mentos fresh and we're child molestening. Increase easy creasie Increase easy creasie Increase easy creasie Increasy creasie Increasie Increase easy molestenie.
20:48:07 <rahdahdah> We affliate jets of Sony execs. Vandelay, Vandelay bay industries. Vandelay bay. Mandelay bay industries. Mandelay bay. Mandelay industries. Mandelay bay industries. Yo-hoh-hoh-hoh! Mandelay bay. Mandelay bay. Mandelay. Vandelay bay industries.
20:53:02 <wraithm> 2/quit
21:11:58 <MrWoohoo> I have two Text objects and I want to test if one is a substring of the other. Is there a way to do it without coercing them to Stings?
21:13:24 <pacak> :t T.isInfixOff
21:13:25 <lambdabot>     Not in scope: ‘T.isInfixOff’
21:13:25 <lambdabot>     Perhaps you meant ‘BS.isInfixOf’ (imported from Data.ByteString)
21:13:31 <pacak> :t T.isInfixOf
21:13:32 <lambdabot>     Not in scope: ‘T.isInfixOf’
21:13:32 <lambdabot>     Perhaps you meant one of these:
21:13:32 <lambdabot>       ‘BS.isInfixOf’ (imported from Data.ByteString),
21:13:34 <pacak> o_o
21:14:02 <pacak> lambdabot: It is there, I know!
21:14:10 <pacak> @hoogle isInfixOf
21:14:10 <lambdabot> Data.List isInfixOf :: Eq a => [a] -> [a] -> Bool
21:14:10 <lambdabot> Data.ByteString isInfixOf :: ByteString -> ByteString -> Bool
21:14:10 <lambdabot> Data.ByteString.Char8 isInfixOf :: ByteString -> ByteString -> Bool
21:14:31 <Hail_Spacecake> I want to start playing around with yesod
21:14:42 <Hail_Spacecake> but I'm having trouble making sense of the tutorials I see for it
21:14:55 <Hail_Spacecake> wrt installing yesod in a cabal sandbox
21:15:11 <Hail_Spacecake> like, it seems like yesod init generates a lot of cabal boilerplate
21:15:25 <Hail_Spacecake> and some of that boilerplate isn't aware that yesod itself might be coming from a sandbox
21:15:38 <Hail_Spacecake> but I don't know enough about how cabal works to know how to fix that myself
21:18:07 <MrWoohoo> pacak: did you find it?
21:18:32 <pacak> MrWoohoo: It is there
21:18:39 <MrWoohoo> LOL
21:19:00 <MrWoohoo> It's a race. can I finish my monstrosity first...
21:33:27 <johnw> Hail_Spacecake: the people in #yesod might be able to hlep
21:45:59 <craigthelinguist> why aren't you allowed to pattern match the same variable twice in Haskell? is it a conscious design choice or a limitation?
21:46:01 <craigthelinguist> For example:
21:46:08 <craigthelinguist> func x x = 2 * x
21:46:36 <Jello_Raptor> craigthelinguist: what would "func 4 5" be? 
21:46:40 <Axman6> the pattern matching is just for examining the shape of data,. doing that beings in the idea of equality
21:46:48 <Axman6> which not all tyoes implement
21:46:58 <Axman6> it would end up changing the type of the function
21:47:06 <johnw> craigthelinguist: I think you mean: func x y | x == y = 2 * x
21:47:07 <craigthelinguist> ah that makes sense
21:47:52 <Jello_Raptor> johnw: doesn't that make the function non-total in a really annoying way? (i.e. runtime checks only) 
21:48:02 <johnw> yes
21:48:33 <haasn> craigthelinguist: what would (func sqrt (**0.5)) evaluate to?
21:48:34 <Jello_Raptor> admittedly, guards do that if there's no catchall clause anyway, but even so. 
21:50:17 <shachaf> craigthelinguist: It's tricky to figure out what it should mean.
21:50:25 <craigthelinguist> hmm
21:50:46 <craigthelinguist> yes I think that makes sense
21:51:07 <Fylwind> what's the _largest_ Haskell library in terms of number of exported public API identifiers?
21:51:40 <shachaf> craigthelinguist: http://research.microsoft.com/en-us/um/people/simonpj/papers/slpj-book-1987/PAGES/065.HTM
21:53:03 <Axman6> Fylwind: probably the gl library
21:53:30 <Axman6> it has a module for every single OpenGL extension/version/capability
21:53:46 <Axman6> http://hackage.haskell.org/package/gl
21:54:22 <Axman6> the Amazonka packages also export a crazy amount of stuff (mostly machine generated from Amazon's AWS documentation)
22:03:58 <MrWoohoo> pack, did you ever find it?
22:04:03 <MrWoohoo> pacak
22:04:21 <pacak> MrWoohoo: Yes, it's there. Check the docs for text.
22:04:32 * hackagebot attoparsec-trans 0.1.0.3 - Interleaved effects for attoparsec parsers  http://hackage.haskell.org/package/attoparsec-trans-0.1.0.3 (srijs)
22:04:53 <MrWoohoo> docs in Text.XML?
22:05:31 <pacak> Data.Text
22:14:32 * hackagebot json-togo 0.1.0.1 - Effectful parsing of JSON documents  http://hackage.haskell.org/package/json-togo-0.1.0.1 (srijs)
22:18:30 <MrWoohoo> should most/all haskell programs start with import Prelude?
22:18:41 <shachaf> Prelude is imported by default.
22:19:21 <Axman6> some would say all haskell program should start with {-# LANGUAGE NoImplicitPrelude #-}
22:22:42 <MrWoohoo> boo.hs:28:9: Not in scope: type constructor or class ‘Map’ <== is there an import that could fix this?
22:23:04 <Axman6> import Data.Map?
22:27:11 <MrWoohoo> OMG. This stupid thing actually can select attributes. It works. Only 8 hours of toolchain hell ;)
22:27:40 <pharaun> what were you trying to do MrWoohoo 
22:28:25 <MrWoohoo> scan a reddit post and extract usernames. Just a test. want to gather stats on how active subreddits are
22:28:29 <pharaun> ahh
22:29:00 <MrWoohoo> track # of unique posters participating over time
22:29:28 <pharaun> \o/ stats
22:29:57 <MrWoohoo> and the compiler had me ready to go find some sacrificial tech to smash in frustration
22:30:21 <pharaun> good ol' build problems
22:30:34 <MrWoohoo> anyhow, thanks for the help. A milestone. $ git commit
22:31:19 <pacak> Anybody familiar with optparse-applicative? I'm trying to figure out the best way to handle situation where I can have one or many -foo Foo options and each of those options should be coupled with one optional --bar optiton.
22:34:33 * hackagebot stack 0.0.2.1 - The Haskell Tool Stack  http://hackage.haskell.org/package/stack-0.0.2.1 (MichaelSnoyman)
23:07:45 <ruuns> hi :)
23:07:55 <godel> hi ruuns 
23:09:35 * hackagebot invariant 0.1.2 - Haskell 98 invariant functors  http://hackage.haskell.org/package/invariant-0.1.2 (ryanglscott)
23:09:37 * hackagebot leksah 0.15.0.3 - Haskell IDE written in Haskell  http://hackage.haskell.org/package/leksah-0.15.0.3 (HamishMackenzie)
23:16:56 <gamegoblin> Is there a way to have two constructors that have the same name for different data types in the same file?
23:17:18 <liste> gamegoblin no
23:17:19 <gamegoblin> e.g. data X = Foo | Bar;    Data Y = Baz | Bar;
23:17:26 <liste> how'd you differentiate them?
23:17:26 <gamegoblin> liste: no module or namespacing stuff can do it
23:17:27 <godel> no gamegoblin 
23:17:28 <gamegoblin> ?
23:17:31 <godel> what is the type of Bar?
23:17:36 <godel> Bar :: ?
23:17:45 <matsuura> hoogle data all takes a while..
23:17:51 <gamegoblin> godel: ideally I’d be able to do it with some sort of namespacing as in Rust
23:17:57 <Fylwind> Axman6: thanks for the link to 'gl' btw! :)
23:18:02 <liste> matsuura it sure does
23:18:30 <matsuura> Thiking about ^Zing it for a while. Would appreciate some haskell time, etc.
23:18:46 <matsuura> Thinking, even..
23:19:47 <liste> gamegoblin you need to put them in different modules then
23:22:04 <godel> ^
23:24:41 <Axman6> Fylwind: why were you after that anyway?
23:25:10 <Fylwind> Axman6: wanted to see how much RAM the full Haddock index would consume in a web browser
23:26:10 <Axman6> heh, try checking out the source for the Core45 module: http://hackage.haskell.org/package/gl-0.7.7/docs/src/Graphics-GL-Core45.html
23:26:20 <Axman6> my browswer had a lot of trouble rendering it
23:26:26 <Axman6> browser*
23:29:10 <liste> is that package written by hand?
23:29:24 <liste> oh, I see
23:29:32 <liste> -- This file was automatically generated.
23:32:31 <georgyy> is it possible to set encoding in ghci using the :set command?
23:33:33 <Axman6> set encoding of what?
23:34:49 <georgy--> Axman6: utf8
23:35:03 <Axman6> but the encoding of what
23:35:09 <Axman6> check out https://hackage.haskell.org/package/base-4.8.0.0/docs/System-IO.html#g:23
23:35:43 <Axman6> you can run hSetEncoding stdin utf16, for example, and hopefully that'll change the settings for GHCi
23:35:47 <georgy--> stdout. I need a hSetEncoding stdout utf8 equivalent
23:35:59 <Axman6> it should utf8 by default
23:36:06 <georgy--> yes but I want to do it globally
23:36:18 <georgy--> not for just the current session
23:36:18 <Axman6> what do you mean?
23:36:30 <Axman6> right, it should always already be utf8 though
23:38:07 <georgy--> it is not on windows. windows command line has a crappy unicode support, and changing it breaks some programs that make assumptions that the default encoding is set. so I want to leave cmd.exe's encoding on default, while forcing ghci's encoding to utf8 for use in emacs
23:39:47 <Axman6> when it comes to windows, all bets are off
23:41:02 <georgy--> the question has nothing to do with windows though: how do I override ghci's default encoding, without having to type hSetEncoding stdout utf8 each time I run ghci?
23:41:44 <Axman6> you can tell ghci to run commands using a... ~/.ghci file I think?
23:41:48 <Axman6> one sec
23:42:30 <Axman6> oh rihmm, not sure if you can run commands though. have you tried doign that?
23:44:45 <georgy--> I tried to actually call hSetEncoding in ghci file, but haskell code in .ghci is only having effect if I type "ghci", if I type ghci file.hs" it is ignored (while :set command ... works in either case).
23:47:14 <georgy--> loading the file supplied by the command line restarts the environment so hSetEncoding has no effect
