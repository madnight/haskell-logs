00:02:30 <kosc> I still can't find out, how to use https://github.com/k0ral/hbro hotkeys for that. No any help or user doc?
00:06:03 <Xnuk> glguy_: does it evaluate `a` and discard the result like (>>) ?
00:06:41 <glguy_> *> is the same as >> when you have a monad instance
00:07:16 <Xnuk> thanks
00:07:38 <zipper> What do you list in your cabal file as your license when you're using a custom license?
00:07:45 <zipper> custom?
00:08:51 <nitrix> zipper: https://www.haskell.org/cabal/release/cabal-latest/doc/API/Cabal/Distribution-License.html#t:License
00:09:28 <nitrix> zipper: I'd use `OtherLicense` and make sure you have a license-file: line that mentions the license file.
00:12:11 <zipper> nitrix: Thanks :)
00:12:17 <zipper> I think AllRightsReserved is better
00:24:02 * hackagebot haskell-docs 4.2.6 - A program to find and display the docs and type of a name  https://hackage.haskell.org/package/haskell-docs-4.2.6 (ChrisDone)
00:40:05 <ggVGc> so, I have this code in elm, where I random generate some things, and am threading the new seed throughout the function with new names. This seems pretty brittle to me. How would it be done in haskell? Is this a job for the state monad?  https://gist.github.com/43af53983dd740a54d2e
00:55:33 <saulzar_> ggVGc, Yeah - and there're libraries like MonadRandom which wrap up just this use case
01:15:07 <M-Illandan> ggVGc: Why do you want to change everything, every time? ;-)
01:18:38 <ggVGc> M-Illandan: hm? It's a constructor. It creates a new random state of an ADT
01:20:28 <M-Illandan> ggVGc: Your nick and vim? *clue* :P
01:21:14 <ggVGc> M-Illandan: http://ggvgc.com
01:24:17 <M-Illandan> ggVGc: too much philosophy over a simple chain of commands for vim :D
01:48:04 <rmrfroot> anyone with experience using criterion to benchmark database queries?
02:05:09 <ggVGc> is permute the correct name for this? permute : (a->b->c->d) -> List a -> List b -> List c -> -> List d
02:05:52 <mauke> unlikely. what does it do?
02:06:24 <ggVGc> take three lists, and for every unique combination of values, call the function
02:06:33 <ggVGc> I might be thinking completely incorrect
02:06:41 <ggVGc> I want to create all possible permutations of an ADT
02:06:45 <suppi> @hoogle zipWith3
02:06:46 <lambdabot> Prelude zipWith3 :: (a -> b -> c -> d) -> [a] -> [b] -> [c] -> [d]
02:06:47 <lambdabot> Data.List zipWith3 :: (a -> b -> c -> d) -> [a] -> [b] -> [c] -> [d]
02:06:47 <lambdabot> Data.Sequence zipWith3 :: (a -> b -> c -> d) -> Seq a -> Seq b -> Seq c -> Seq d
02:06:58 <mauke> those step in parallel
02:07:43 <mauke> > sequence ["abc", "XY", "1" ]
02:07:45 <lambdabot>  ["aX1","aY1","bX1","bY1","cX1","cY1"]
02:08:15 <M-Illandan> @type sequence
02:08:16 <lambdabot> (Monad m, Traversable t) => t (m a) -> m (t a)
02:08:48 <mauke> it's a cartesian product
02:09:15 <M-Illandan> right, not necessarily a permute
02:09:36 <ggVGc> ah right, cartesian
02:09:38 <ggVGc> thanks
02:11:21 <M-Illandan> ggVGc: Just one small thing, over naming your functions. Your function is about applying a function over the (cartesian product) of 3 lists. You can indicate that action in your function name 
02:11:45 <ggVGc> sure, but I wasn't sure what function I was writing, hence asking
02:21:36 --- topic: 'http://www.haskell.org/ | https://wiki.haskell.org/IRC_channel | Paste code/errors: http://lpaste.net/new/haskell | Logs: http://tunes.org/~nef/logs/haskell/?C=M;O=D http://ircbrowse.net/day/haskell/today?mode=recent | http://reddit.com/r/haskell | Administrative issues: #haskell-ops | Hackage status? http://status.haskell.org | http://downloads.haskell.org'
02:21:36 --- topic: set by quicksilver!~jules@roobarb.crazydogs.org on [Wed Oct 07 07:39:49 2015]
02:21:36 --- names: list (clog Dykam Athas_ goodboy_ the193rd heyj divVerent zyla Xnuk mountain1 taksuyu paf31 Lutin_ Phlogistique Ankhers_ tnebel_ mietek Spaceghost fnordbert SegFaultAX pikhq aivuk_ codolio quicksilver Saidin nopf_ LokiSnake ninegrid_ Pompolic_ [edwtjo] sternens1emann cynick_ jvd__ estheria xnyhps_ sivoais_ jrp6 gseitz PotatoGim_ dino-_ rom1504_ optocoup1er integral_ hc_ ft alexlord_ bsdwrk1 brt1_ Ferdiran1 Argue_ mt proq` joeytwiddle_ lispyone oberstein)
02:21:36 --- names: list (perspectival1 aloiscochard_ mankyKitty Fluent_ godel_ nkpart edofic spill2 pikajude- zeroskil1or liste_ ernst dmj` haBuu_ mingming malkomal1o rrbm238 frangor funfunctor Shirakawasuna bootcode haskell583 laar forker raichoo bennofs devl_ pt1 cpup Jeanne-Kamikaze neoncontrails wildlander chaosmasttter xahry_ isBEKaml pacak jedws fizruk_ sdel albertus1 silver skore_de Icewing SoupEvil lyuha Stratege v_g gws Jackneill alunduil max12345 zhulikas aramiscd suppi)
02:21:36 --- names: list (Kris_ marr teclo- edsko m0rphism Arkooij glguy majjoha psy__ DanielDiaz kosc Beetny nani___ ironChicken OscarZ hamishmack nsuke echo-area xpilot glguy_ xelxebar M-Illandan elementalest nekomune Argue__ absence mrd ChucklesTheBeard bsmt Ravana AustinMatherne andyo StoneToad tolt endokqr JCI Saizan dqd prkc eL_Bart0 zimp sellout MarcelineVQ hbar rofer xxpor ThreeOfEight eazar001 Pucilowski hemite Bigcheese wamaral martinhath bencryption Jello_Raptor low-prof1)
02:21:36 --- names: list (inr jmcarthur levi supki Guest26361 mnoonan yoho SparkySparkyBoom marmalod1 nille richi235 joehillen isocliff SHODAN pleiosaur sleezd jstimpfle benzrf mpereira zomg Saki-saki brennie Ptival vlatkoB cow-orke1 darkbolt_ skulls dunj4 ellinokon XMunkki_ pqmodn_ Tehnix__ _Shandy edran chrisdotcode_ ThePhoeron_ nrk- Ralith_ emmanuel` Guest3764 ungojellym davidthomas tomjagua1paw chaptast- Twey sleepynate rje_li M-ou-se_ sdx32 seangrov` condy badon fengshaun araujo)
02:21:36 --- names: list (lkba tobiasBora orion ngrud spion zyoung Matajon potatoe lcl zymurgy osfameron Akii lamilami Gothmog_ imalsogreg_ plutoniix _ashbreeze_ kyren numeo darthdeus sinopeus_ henrytill eikke mgaare zarnet owa liyang Uritomi2 sujeet cscorley_ ent klugez o`connor_ CoconutCrab lhynes stomp cdk tkr_ cfloare_ cizra_ jlewis_ jstolare1 brolin_empey urdh tinydata carter ljhms znutar_ cryon_ cjh`_ statusfa1led Adios_ Atlanis_ dju lodin_ phadej_ Nik05 DoYouKnow emmanueloga)
02:21:36 --- names: list (NemesisD nbouscal _klm seabre rewzn mpickering jonathanj_ biscarch shennyg cstrahan jorendorff CARAM__ bigs arnihermann mindos_cloud____ kanak strmpnk haasn rslima chriswk ocharles__ nrw dkua jroesch nyandoge Heero kipd iDavid irclogger_com sea-gull SuperTux88 rmarko raid fall_ cgfbee leather agm [swift] cin kidnapped_robot thorsten` jgrocho kmicu abh greeny bananagram sohum bjornars TheAuGingembre m1dnight_ lambdabot lattenwald malglim zxtx ski darkstalker)
02:21:36 --- names: list (bbee narendraj9 minad zmanian_ alynn krgn padre_angolano usr nemesit|znc cbaines fergusnoble gothos psacrifice solirc taruti codehero Taneb xou tekacs guios _6a68 ion carter_cloud Blkt zemm brisbin fbauckho PHO Nickeeh dlandau doppioslash noplamodo_ mimi_vx Tazca bergmark parisian1ummer hooptw_ lancetw rstone Rembane veltasv Xorlev PinealGl1ndOptic Jaxan_ cataska martinbjeldbak_ borkdude rrrrob_ KayEss larion_ LoganG brtk_ arcanine zopsi_ abra0 bob_twinkles1)
02:21:36 --- names: list (shadowdao mbrock` d-snp_ jre2 pfoetche2 srcerer_ burp_ simplyianm Bez_ sanitypassing ParahSailin obcode Liskni_si ryoshu saep eyck geppettodivacin mitu thunderrd_ andjjj23 stasku Erebe sbauer322_ brixen_ LeaChim_ tumdum_ ReinH_ pharaun exio4 Draggor1 davesilva_ andromeda_galaxy truncate dzack felixsch__ karls topi_ Starfire_ renopt_ joedevivo int-e_ pieter__ augur_ lyxia a__ saurik_ esg_ e4x__ Dodek rjbs- robogoat_ Warrigal wrengr_a1ay gwynplai1e zugzwanged)
02:21:36 --- names: list (tnks_ pingu kragniz _sjs_ cYmen magic__ fryguybo1 ryankara1on stevejb` kwantam1 hongminh1e sku1d pnutus HylianSavior darkf Sebastian mzf CetusY ttuegel mauke otto_s doomlord rgr FreeBirdLjj lemevi gfixler aarvar wasbee_ Azel gienah jacksnipe acro mrmyers yarou acomminos jokester surtn jnoah cow_2001 Dtgr sbrg julienXX k1i jophish eyenx saulzar_ cyphase mniip C4Cypher sbyl favetelinguis aaronm04 c-rog ch3mical latro`a rotaerk whaletechno prophile predator117)
02:21:36 --- names: list (cross hexagoxel exferenceBot lspitzner junmin pandantic jokleinn oldmanmike Zekka k00mi Uakh dan_f abrar cleamoon zv pavonia solrize Coldblackice SCHAAP137 Deadhand Maerten hilquias chris2 mgomezch mmaruseacph2 hackebeilchen proteusguy_ vmeson mitchty e2kp Polarina hiberno pavlicek donwilliam Sornaensis jay6981 valdyn Jesin amiri_ Church- yusukesuzuki FledRebel Tehnix shirt_ Simson-san dbeacham lassulus albel727 Natch proteusguy buoto przembot stelleg ortmage)
02:21:36 --- names: list (infinity0 cdidd Shoggoth capisce josephle ph88^ HammyJammy godhand troydm jud kav witt3rd Sorella iliastsi erikd dsop jix dejanr|work mcswilly agjacome CurryWurst hackagebot neurogeek gridaphobe none_ kyagrd nont_ trix statusbot rbocquet myme nesqi sbauman cache wedens finninde rul sevcsik puzza007 Walther huonw max-m Profpatsch adimit Hafydd OutlawStar prefork themasterchef Sonderblade sm takeey coeus DanC__ drdo Excureo nek0 defanor bkolera ggVGc)
02:21:36 --- names: list (petercommand yorick rdema aparent koala_man capybara ixian Ke flux nyuszika7h Fubar^ ircbrowse FreeFull davl kmwang hpc nathanic gabiruh_ SwashBuckla dukerutledge SLi hyPiRion Ashy flx davidar s00pcan R0b0t1 Eagle_Erwin dschoepe maerwald SolarAquarion grouzen zxq9 ronbrz zacts Xandaros majoh honza aseidl jinblack dfranke orcus wjm mikeizbicki whoops bartavelle chaker carc Elsi jaj staffehn ess_sing MitchW parsnip idupree tismith radix obadz nindwen Pokinawa)
02:21:36 --- names: list (grieve navyl hiratara waamaral cogrendel guampa dmwit martinga_ flexfit Mateon1 mutantmell chu julmac dgpratt ousado besenwesen hydraz blo Xack nottc tromp_ yvm anders^^ solarus jotrk hpd meta-coder joeyh xinming_ linduxed juhp svp ploopkazoo bd_ shwouchk kriwil davean coddinkn saulzar lpsmith vin-ivar andrewsw RlyDontKnow horlicks_ Ezku gpampara jonesinator DigitalKiwi shesek regicidal mirsal yrdz lachenmayer nurupo ahungry xeno_ SenpaiSilver rossberg)
02:21:36 --- names: list (cheater segmond negatratoron dcoutts Jellydog APic zebr dseitz ivan\ phaazon fradet cmn sw1nn kristjansson wookiehangover kier dh niteria shelf eddsteel alem0lars luzie andreypopp ndeine canta poga fold2 att Voldenet wizonesolutions boxfire oftl_ pmade unknownln patche_ lispy s4msung_ si14 sLite_ zrl zph tjpeden etrepum sewilton delYsid`` codesoup tomboy65 vpm Frankablu swilde Laney cursork cheecheeo kungp jameseb iElectric brezel Kaini kirjs__________)
02:21:36 --- names: list (dmiles_akf irishsultan Boney c9s tg goldfire keko-2 Internet13 ben z0k bjorkintosh michal__ mtesseract joneshf-laptop gniourf bcoppens marienz nwf wagle Kruppe tedkornish c_wraith diesel Desoxy MoALTz monochrom fugyk MrWoohoo2 MrWoohoo atomi kriztw noexcept alang serutsubi greymalkin fyolnish zaquest dsantiago srhb pygospa tgeeky avn vili ppnkk Fylwind AntiSpamMeta larsen mach Pamelloes Talryn TDJACR tippenein Jonno_FTW tuv mceier benonsoftware ollef hsyl20)
02:21:36 --- names: list (captain-adequate asjo tetheno tv aristid_ Tinchos fabianvf nathyong uber adlan abbe kipras`away _flow_ DANtheBEASTman bernalex niklasb xplat Igloo Boreeas fantomik mw whiteline suls PlasmaStar aweinstock no-n naudiz|offline otulp EvanR mrshoe Eiam Enigmagic karshan nakal Klumben xacktm wailord DylanJ graChe28 lokulin Heart_ tomku heath derpvid jakutis kqr Nimatek mjo sword_smith cdshp tsani fikusz Flonk totte Oxyd edwardk alphonse23_ mno2 posco caasih)
02:21:36 --- names: list (TabAtkins Raynos tharper bgamari MK_FG Jinxit Uptime jatb knyppeldynan Wamanuz Willis jorj Sgeo GGMethos TallerGhostWalt joshc poucet sublimate myfreeweb mrowe_away conehead jcurbo td123 pfeyz tessier tpsinnem amharc tokik Entroacceptor klapku felixn bind djellemah mvr_ FireFly folsen ryan_vw rieper l3dx bshelden drbean xivix lukky513 Saimeidae WarzoneCommand mbrcknl cschneid kjnilsson Vbitz Xe Diabolik dxld_ hive-mind geal deni indiffernet mudfog ahihi roo)
02:21:36 --- names: list (sleblanc themagician shans_ tych0 hrnz niluje hodapp sclv amiller_ s_e_ cjay Faction KorriX frontendloader TimWolla z16 amontez_ Freundlich superfatkappa hanDerPe1er jrslepak Laquendi_ lokydor_ codebje Baughn_ cods marko__ kvieta- agjohnst_ lieven RouxTheDay jcreekmore radens obiwahn luigy THE_BOULDER Deewiant diginet da-x Guest16505 spaceships tero- navilan dmilith fall` Iceland_jack robtaylor mindphaze rcsgns chishiki Sigyn enceladus mokus karl JPohlmann)
02:21:36 --- names: list (slick Kneiva ninedotnine shahn DustyDingo Paks dustinm euphoriaa nitrix ww rowanblush callumacrae derekbrown dreamdust earthy trevorriles RayNbow`TU kjanosz wolf_mozart jgornick fredcy cjwelborn skarn dtscode johnw drewdavis iross jlyndon lacrosse grol_ mudphone` ahf micro_ otterdam Ornedan jlouis mendez jasonmay unsymbol Reiser benbangert mephx GHCI dhrosa alpounet dicioccio1 schlumpi_ RevJohnnyHealey comboy jojotus gdsx stephe eagleflo ByronJohnson jang)
02:21:36 --- names: list (MelodyKH3 Axman6 ajmccluskey magicman gbarboza TheCrafter dlundy CosmicRay Niamkik Ulrar bgyss BrianHV avdi moredhel trig-ger pkogan avocado asm89 sokoll yaknyasn MasseR sbjorn kaictl cocreature torpig corso bydo lf94 platz xolpur opios scared Sagi barrucadu sajith Tesseraction_z MindlessDrone chattered mjrosenb Jaak stux|RC-only scpike jbalint BillyIII jmct perrier obihann ghtdak froztbyte gnusosa qz ]OLI[ newsham tlevine dexterph lusory mikeplus64 alanz)
02:21:36 --- names: list (killtheliterate uwap yminsky OliPicard tromp monsieurp alevy nicola tstc jkarni utdemir averell mero jtobin pootler shelling__ tom39291_ n1ftyn8_ dstockwell phuu __main__ arkeet Drezil CindyLinz Intensity bitemyapp jcp ChristianS RageD sdboyer jaaket Plastefuchs arianvp gratimax pyrtsa barelyBurrito ChongLi ec\ glowcoil_ Biohazard rausch tumdedum pi_____ Lemmih bjobjo Ring0` Zemyla Fullma amx Geekingfrog phaskell rootnode certainty nisstyre ethercrow Reyu)
02:21:36 --- names: list (Nash _ari gsingh93 ido so stiell xintron spwhitt IanMalcolm zerokarmaleft fionnan selckin Maxdamantus Octophore` Guest22572 noddy Philonous elgot AlainODea spicydonuts KaneTW thebnq peddie japesinator mechairoi Yaiyan ggherdov marens Tene tridactyla rntz ziman lyddonb hellschreiber_ dilinger_ kaol saiam vodkaInferno theDon seliopou dixie__ reynir fmapE stvc isomorphismes jackhill mathu xiaolin petantik acfoltzer keix a4j Tiktalik cyberlard jzl vikraman)
02:21:36 --- names: list (killerpty Cr8 gcollins dpn` Speed Watcher7 jgertm- wenzowski Eliel sivs tjbp Ov3rload LordDeath alb4tor Didac orzo LnL xaimus shachaf rossimo MadMarvin chirpsalot Chobbes Bane^ JamesJRH zeiris zudov dredozubov arw l3france scshunt RazorX __rlp wtw hvr GaveUp Vq async_prince d3lxa glckr opqdonut magbo lvh janne Phillemann monty technomad Mandus luigibozzo Tril ricardo82 niko wayne hegge gargawel_ jlind numberten slikts luite apo_ kala lstrano keemyb `0660)
02:21:36 --- names: list (Ariadeno demolithion DDR bogdanteleaga Komplanar plhk Clint Ongy @ChanServ inukshuk ninzine shapr Cathy mads- soija zenzike_ ephess_ betawaffle tomaw kosmikus KitC jamiis epta hausdorff honkfestival igniting tzaeru AWhetter noctux solarion itscaleb happy0 luluapple Razz Th0mas michaelpj yeltzooo Guest46712 Shockk Tristan-Speccy deavidsedice funrep ElderFain ibid anoe lulf kloeri spacebug Adeon Cerise thorkilnaur ricky_clarkson wunki thomas jrib notdan)
02:21:36 --- names: list (andreass lauren sekrit Phyx- hiredman pdxleif spindas lenstr relrod aatxe kaste itsmonktastic PierreM friden eamelink Chousuke jayne benley FUZxxl Belgarion0 leino)
02:23:31 <davidar> haskell583: instance Num Number where One + One = Two ...
02:24:06 * hackagebot sdl2-cairo-image 1.0 - An image loading and rendering library for sdl2 / sdl2-cairo  https://hackage.haskell.org/package/sdl2-cairo-image-1.0 (jaiyalas)
02:24:46 <xpilot> quick question about cabal: if I want to cabal unpack a package and edit locally, can I then install and depend on the modified version system-wide?
02:24:52 <xpilot> or do I need to use a sandbox?
02:31:24 <akegalj> does anyone know how big is the GHC GC pause time window? How well can this be tuned? I know it probably depends on the actuall application code also (and thus can be inspected used threadscope), but I am more interested in general GC pauses time? Is it 1-5ms, 5-50ms ?
02:54:07 * hackagebot sdl2-cairo-image 1.0.0.1 - An image loading and rendering library for sdl2 / sdl2-cairo  https://hackage.haskell.org/package/sdl2-cairo-image-1.0.0.1 (jaiyalas)
03:04:01 <ggVGc> what would I use to split a list of size N, into several lists of size M, where M<N, and the last list is the remainder
03:04:33 <ggVGc> so, split 3 [1,2,3,4,5,6,7] would give me [[1,2,3], [4,5,6], [7]]
03:06:09 <pavonia> :t chunksOf
03:06:11 <lambdabot> Int -> [e] -> [[e]]
03:07:27 <ggVGc> thanks
03:11:02 <dramforever> Hi, I'm trying structured-haskell-mode now, but it seems that it gets confused by what I do. Is there a quick guide on how I'm supposed to use it?
03:12:05 <dramforever> it seems that everyone else is pretty happy with it...
03:13:39 <dramforever> oh and the little animations in the README doesn't really seem to help...
03:34:26 * hackagebot sdl2-cairo-image 1.0.0.2 - An image loading and rendering library for sdl2 / sdl2-cairo  https://hackage.haskell.org/package/sdl2-cairo-image-1.0.0.2 (jaiyalas)
03:54:26 * hackagebot shelduck 0.2.0.0 - Test webhooks locally  https://hackage.haskell.org/package/shelduck-0.2.0.0 (boblong)
04:05:11 <kosc> Hi guys. Please review my monkey code http://ideone.com/RuAj27 (I'm newbie in Haskell).
04:08:57 <dramforever> kosc: that looks fine to me! some minor suggestions here:
04:09:18 <Reshi> kosc: Welcome to Haskell, an observation: you should make your functions preferably do a single job, like sqrtEquation would be better as 'Double -> Double -> Double -> Double' and then convert that to string in main
04:09:44 <dramforever> 1. is using $ on line 23 really *that* necessary? I believe it's not really doing anything
04:10:29 <kosc> Reshi: but it can return error, one solution or two solutions. How can I use Double as type for result here?
04:10:42 <kosc> dramforever: yes, you're right.
04:11:05 <dramforever> Reshi: except that Double as the result type won't suffice. That would be 2. you could have another data type for the result of sqrtEquation like data EqnResult = NoSolutions | SingleSolution Double | TwoSolutions Double Double
04:11:17 <dramforever> but it might be too messy, depending on the use case
04:11:30 <dramforever> and 3. "== 0" on Double
04:12:03 <dramforever> and 3. "== 0" on Double doesn't really work well...you need something like abs d <= eps where eps is a predefined small value
04:12:27 <dramforever> so that a little rounding error won't defeat it
04:12:30 <kosc> dramforever: but what about a == 0.0?
04:12:41 <Reshi> kosc: you know what yeah, in this case this might not be too messy
04:13:26 <dramforever> kosc: sure, that would make it a non-quadradic equation, you can handle it if you want
04:13:40 <dramforever> again if you are the only one using this it's probably not worth checking...
04:14:18 <dramforever> and 4. consider using readMaybe from Text.Read to parse user input. That makes it behave better when the user inputs some non-number
04:14:37 <dramforever> > [readMaybe "1.22", readMaybe "uh"] :: [Double]
04:14:38 <lambdabot>  Not in scope: ‘readMaybe’Not in scope: ‘readMaybe’
04:14:51 <dramforever> :( but you should get the iead
04:14:53 <dramforever> *idea
04:23:34 <kosc> It won't compile now Your paste can be seen here: https://bpaste.net/show/d71128c79b86
04:24:12 <kosc> Ambiguous occurrence ‘Nothing’ in 7:15
04:24:33 <TheArtist> Hello!
04:24:46 <TheArtist> How do i parse variant types with aeson?
04:25:20 <TheArtist> I get Couldn't match expected type `Parser BuildResult' with actual type `BuildResult'
04:27:23 <parsnip> "error and nonterminating values are semantically the same in Haskell"... weird
04:28:05 <pavonia> kosc: "Nothing" already is a conctructor of the Maybe type, so choose a different name for it
04:29:20 <pavonia> TheArtist: Maybe paste you code
04:29:26 <pavonia> your*
04:30:05 <TheArtist> http://lpaste.net/8681587626433576960
04:31:31 <TheArtist> pavonia: Do you want me to add the error too?
04:32:12 <pavonia> TheArtist: No. The problem here is that parseJSON required you to return a Parser but your return the value directly
04:32:28 <TheArtist> yes, how do i make it a parser
04:32:35 <pavonia> Try "return (Binary Executable)"
04:33:07 <pavonia> Parser is a Monad, so "return" puts the value in monadic context
04:33:19 <TheArtist> Well that was an easy one, it worked ;P
04:33:35 <TheArtist> pavonia: Thnx pal
04:33:45 <pavonia> No problem
04:49:03 <funfun> join #elm
04:49:54 <kosc> pavonia: https://bpaste.net/show/900cf83e6cf9 Not in scope: type constructor or class ‘Nothing’
04:49:59 <kosc> On 3:80
04:50:22 <andrybak> funfun elm is like frp haskell for writing javascript, right?
04:51:16 <funfun> sorry, i just forgot the slash at the beginning of the line.
04:51:48 <funfun> andrybak: yes.
04:51:56 <TheArtist> pavonia: Mind if you help me with another one?
04:52:00 <TheArtist> http://lpaste.net/801377065629646848
04:52:16 <TheArtist> I really do not get why it does not like it
04:53:48 <pavonia> TheArtist: Does it tell you about an extension to enable? TypeSynonymInstances or so?
04:54:02 <TheArtist> yes, but what is the problem
04:54:25 <pavonia> kosc: Nothing isn't a type. Why do you use it in the constructor?
04:54:44 <pavonia> TheArtist: By default you can't use type synonyms in instance declarations
04:55:16 <TheArtist> at start i had it like this, with this error:
04:55:18 <TheArtist> http://lpaste.net/801377065629646848
04:55:33 <kosc> pavonia: I want to create data type for Nothing, Double and two Doubles.
04:55:46 <pavonia> TheArtist: Yeah, you need some extension to do that
04:55:59 <pavonia> kosc: What is Nothing here?
04:56:15 <pavonia> kosc: Double is a type, but Nothing is a value
04:56:40 <TheArtist> pavonia: But why? Isn't any other way to do that? I Just want to parse a Data.Map with custom types
04:56:54 <pavonia> kosc: I guess you just want "NoSolutions" woithout any parameters
04:57:00 <kosc> pavonia: Oh, None?
04:57:02 <kosc> Or Null
04:57:20 <pavonia> TheArtist: No, there isn't, the default language doesn't allow you to do that
04:57:33 <kosc> There is no None type.
04:57:37 <TheArtist> Hmm, interesting.
04:57:45 <kosc> pavonia: maybe I should use False?
04:57:57 <kosc> Or where is some better type?
04:58:01 <pavonia> kosc: Don't use any paramters if you don't want it to have some
04:58:02 <kosc> For NoSolutions
04:58:57 <kosc> Can't understand you.
04:59:00 <kosc> :(
04:59:10 <MarcelineVQ> False is a value too, Bool is False's type. He means to actually use nothing: data Solution = OneSolution Double | TwoSoulutions Double Double | NoSolutions deriving (Show)
04:59:28 <MarcelineVQ> NoSolutions is then a parameterless value contructor
05:00:55 <TheArtist> pavonia: Well, with the extension on i get this : http://lpaste.net/801377065629646848
05:01:14 <TheArtist> I am starting to believe that i should just wrap it up in some custom data type
05:02:36 <MarcelineVQ> kosc: for example Maybe is defined as: `data Maybe a = Nothing | Just a` Nothing is parameterless like NoSolutions
05:02:57 <pavonia> TheArtist: I think this is because you haven't implemented any class functions and it's trying to derive them from Generic which failed
05:03:58 <MarcelineVQ> pavonia: could he use a newtype wrapper that derives Generic? I don't know if that's a silly question because I've not done it
05:04:30 <pavonia> I don't know, never used it
05:04:55 <pavonia> But I guess you will still need the Generic instance for Map even with a newtype
05:06:46 <TheArtist> Same thing with newtype..
05:09:49 <kosc> MarcelineVQ: and what's wrong now? http://ideone.com/NYtvck
05:18:05 <pavonia> kosc: readMaybe doesn't perform any input line reading, it tries to parse a value (in that case of tpe Double) from the passed String
05:18:50 <pavonia> :t getLine
05:18:52 <lambdabot> IO String
05:19:32 <pavonia> kosc: Maybe you want to use getLine to first read the String and then use readMaybe to gt the Double value from it
05:19:48 <MarcelineVQ> main's type is Read () here because you don't have a type declaration for main `main :: IO ()` and you're using a <- readMaybe as the first thing in the do block, but putStrLn is outputting IO (). You do want IO (), but that's why it's giving you an error
05:20:40 <MarcelineVQ> Firs thing to do is give it a type signature, then you can work on the next problem with the compiler giving you better errors
05:24:35 <jplatte> Hi. I want to parse an XML document with xml-conduit and it's giving me headaches..
05:25:59 <jplatte> I want to parse pretty much the whole document, and have been told before that for that kind of thing Text.XML.Cursor would probably not be a good idea because I parse parts of the document tree multiple times or something like that.
05:27:44 <jplatte> But the stuff in Text.XML only has very basic stuff in it, and it seems to effectively use it I'd have to create a whole bunch of helper functions that I feel should be provided already.
05:28:01 <jplatte> Is it really a bad idea to use the Cursor API to parse the full document?
05:54:55 <suppi> what do you think about this glitch in the elm model? https://www.youtube.com/watch?v=DfLvDFxcAIA#t=22m17s
06:13:58 <phaazon> hey
06:14:11 <phaazon> is there a way to know the version of the package being compiled through CPP macro?
06:14:16 <phaazon> like MIN_*
06:14:23 <phaazon> I guess I should look at the macros file
06:15:05 <phaazon> the cabal_macros.h
06:29:15 <quchen> 7.10 does not have implicit-param-callstacks yet, does it?
06:29:49 <quchen> Docs say it was introduced in base 4.9, but I'm getting a compilation error in GHC because it's included when "GLASGOW_HASKELL >= 710"
06:35:27 <TheArtist> Any tips on avoiding staircases like this?: http://lpaste.net/2664767709538942976
06:37:08 <phaazon> TheArtist: you can split your main into several functions and use guards
06:37:13 <phaazon> or you can use MaybeT
06:37:29 <phaazon> or you can align your if
06:37:30 <TheArtist> phaazon: guards?
06:37:35 <phaazon> if condition
06:37:36 <phaazon> then do
06:37:38 <phaazon>   blabla
06:37:39 <phaazon> else do
06:37:41 <phaazon>   blabla
06:37:46 <phaazon> TheArtist: yeah, like
06:37:49 <phaazon> foo x
06:37:52 <phaazon>   | not x -> …
06:37:55 <phaazon>   | otherwise -> …
06:38:08 <TheArtist> guards work with monads too?
06:38:21 <phaazon> TheArtist: they work like this:
06:38:26 <phaazon> | condition -> expression
06:38:30 <phaazon> | Bool -> a
06:38:44 <phaazon> the left part has to be a Bool, the right part is whatever you want
06:39:07 <TheArtist> but my top condition (the bool one) is being retrieved by an IO command
06:39:21 <TheArtist>  cfgExists <- System.Directory.doesFileExist cfgFile
06:39:56 <TheArtist> I thought that guards work in simple cases by directly asserting on some bool condition
06:40:35 <phaazon> TheArtist: well, then, you have to execute that function and then pass the bool to your function
06:46:00 <ski> TheArtist : i think you could use first point at <https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/bugs-and-infelicities.html#infelicities-syntax>, to avoid rightwards drift
07:08:41 <zipper> Hello guys. How can I write this function as a type http://lpaste.net/4777792809153331200
07:13:23 * ski isn't sure what zipper means
07:14:15 <zipper> ski: Uh let me see
07:14:44 <zipper> ski: `data Relief Deduction = \x -> Relief {personal = personalRelief, insurance = ins }`
07:14:58 <zipper> ski: where type Deduction = Int
07:15:54 <ski> `\x -> Relief {personal = personalRelief, insurance = ins }' doesn't make sense in a `data' declaration
07:16:31 <ski> a `data' declaration describes the basic shapes of values of the defined type, by specifying the data constructors belonging to the type (constructor)
07:16:55 <ski> for actual value creation, you have to do that in a normal (value) definition, not a type definition
07:17:22 <ski> .. and, i can't really guess what you're trying to accomplish, here
07:18:26 <zipper> Sorry uh ski 
07:18:42 <zipper> I just want to write that function as a type.
07:19:25 <zipper> ski: `data Relief Deduction = \(ins::Deduction) -> Relief {personal = personalRelief, insurance = ins }`
07:19:41 <ski> i don't know what "write a function as a type" means, muchless what it would mean for your specific function
07:33:13 <geppettodivacin> You could use 'type' instead of 'data'.
07:34:01 <geppettodivacin> type ReliefDeduction = Relief -> Deduction
07:35:51 <imouto> Is there any example of a type constructor that's both Alternative and Monad, but not MonadPlus?
07:36:13 <imouto> (As in, because the abstraction really doesn't fit, not because someone forgot to declare the instance.)
07:36:45 <geppettodivacin> zipper: Forgot to ping you above. ^^
07:40:51 <geppettodivacin> imouto: Isn't an Alternative just a Monoid Applicative, and a MonadPlus a Monoid Monad?
07:41:20 <imouto> geppettodivacin: IIRC, MonadPlus has additional laws.
07:41:52 <geppettodivacin> Then, MonadPlus is a superset of Monoid Monad?
07:42:06 <imouto> geppettodivacin: (IIRC!), in a sense, bind has to “distribute” over mplus.
07:43:07 <geppettodivacin> I would imagine that, if MonadPlus instances are Monoids, then a MonadPlus also has to be an Alternative.
07:43:26 <imouto> geppettodivacin: `(a <|> b) >>= c` has to be the same as `(a >>= c) <|> (b >>= c)`.
07:43:57 <imouto> What I don't know is whether this automatically follows given lawful Alternative and Monad instances, or this has to be established for individual type constructors.
07:44:43 <geppettodivacin> imouto: That's kind of neat. I wouldn't think that breaks any rules for Alternatives, though.
07:44:50 <glguy> imouto: That isn't a MonadPlus law
07:45:00 <imouto> Ah.
07:45:02 <geppettodivacin> Unfortunately, that's about as good as you're going to get from me.
07:45:11 <imouto> glguy: Then what are its laws?
07:45:52 <glguy> imouto: There basically aren't any. mplus should be associated, mzero should be some kind of identity
07:46:00 <imouto> Mmm.
07:46:05 <glguy> sometimes it's a left identity ,sometimes right, maybe
07:46:11 <lyxia> that law forces the type to be able to backtrack, but Maybe can't do that for example
07:46:29 <glguy> http://hackage.haskell.org/package/base-4.8.1.0/docs/Control-Monad.html
07:46:51 <imouto> There's something fishy about this. The Alternative and MonadPlus interfaces are *tantalizingly* inviting to think of them as “additions” over which “multiplication” (<*>, join) distributes.
07:47:56 <imouto> But, in any case, if there's no such distributive law, then what's the point to MonadPlus?
07:48:12 <imouto> I could just use (Alternative m, Monad m) constraints and move on with my life, right?
07:48:26 <lyxia> > let a = Just False ; b = Just True ; c True = Just () ; c False = Nothing in [ (a <|> b) >>= c, (a >>= c) <|> (b >>= c) ]
07:48:28 <lambdabot>  [Nothing,Just ()]
07:48:49 <imouto> Mmm.
08:04:34 * hackagebot lucid-svg 0.6.0.0 - DSL for SVG using lucid for HTML  https://hackage.haskell.org/package/lucid-svg-0.6.0.0 (jeffreyrosenbluth)
08:08:09 <Jello_Raptor> so, I've been playing around with functors as part of records http://lpaste.net/145239
08:08:52 <Jello_Raptor> and I'm wondering how I'd use lenses to make modifications to that sort of object 
08:10:12 <Jello_Raptor> since I think i should be able to have a traversable for most of those instances and a lens for Identity and ((,) a) 
08:10:23 <jophish> Jello_Raptor: without having looked at the paste, you might want to take a look at vinyl
08:15:11 <Letchik> @unpl (. map) . (.) . filter
08:15:12 <lambdabot> (\ g m d -> filter g (map m d))
08:15:28 <Jello_Raptor> jophish: not particularly relevant here, it's not a record solution I'm looking for but more how to apply a class like Traversible or Settable (from Control.Lens) usefully to that thing
08:17:08 <Letchik> @unpl (.)
08:17:08 <lambdabot> (\ a b c -> a (b c))
08:18:15 <Letchik> @unpl $
08:18:15 <lambdabot> <unknown>.hs: 1: 1:Parse error: $
08:18:19 <Letchik> @unpl ($)
08:18:19 <lambdabot> (\ a -> a)
08:19:34 * hackagebot diagrams-svg 1.3.1.8 - SVG backend for diagrams drawing EDSL.  https://hackage.haskell.org/package/diagrams-svg-1.3.1.8 (jeffreyrosenbluth)
08:22:06 <lpaste> glguy annotated “Functor stuff” with “Cleaning up the show situation” at http://lpaste.net/145239#a145240
08:22:24 <glguy> Jello_Raptor: When you're doing this sort of thing, classes like Show1 come in handy
08:23:33 <Jello_Raptor> glguy: huh, what does that actually do?  
08:23:52 <glguy> https://hackage.haskell.org/package/prelude-extras-0.4.0.2/docs/Prelude-Extras.html
08:24:05 <glguy> Jello_Raptor: Cleans up the need to derive so many specific instances
08:25:56 <jophish> Jello_Raptor: I was thinking more about this: http://www.jonmsterling.com/posts/2013-04-06-vinyl-modern-records-for-haskell.html#records-are-polymorphic-over-functors
08:26:16 <jophish> apologies again if this is not helpful :/
08:26:33 <Letchik> @unpl (. map)
08:26:33 <lambdabot> (\ a d -> a (map d))
08:52:24 <synergistics> Is it coincidental that in church encoding the term representing the number 0 and the term representing false are the same? Is that why null values are considered false in some languages? 
08:57:21 <lyxia> synergistics: Whichever of \x y. x and \x y. y denotes true or false is quite arbitrary.
08:57:56 <imouto> synergistics: You mean in the *untyped* lambda calculus? I don't think they have quite the same type in, say, System F.
09:00:08 <int-e> lyxia: from what I've seen, the choice that makes if-then-else the identity function is quite popular.
09:01:44 <lyxia> oh right
09:19:32 <mu123> !list
09:19:32 <monochrom> mu123: http://lpaste.net/browse
09:24:57 <MarcelineVQ> oh wow
09:33:55 <Bey0ndB1nary> Hi 
09:34:06 <Bey0ndB1nary> How old is this Language ?
09:34:25 <Bey0ndB1nary> is it vast and good enough like "Python" ?
09:34:35 <Bey0ndB1nary> i jus came to know about this Yesterday ... 
09:34:48 <bergmark> it's older and better than python ;-)
09:35:17 <ARM9> there's little correlation between age and quality of a language
09:35:25 <ARM9> see c++
09:35:36 <Bey0ndB1nary> I am not concerned about age though ... 
09:35:55 <tommd> Bey0ndB1nary: But you asked...
09:35:58 <jophish> you did ask how old it was...
09:35:59 <lpaste> glguy pasted “GHC.Generics Representable instances” at http://lpaste.net/145245
09:36:05 <Bey0ndB1nary> What i would like to know is, can i automate tasks in UNIX Platform ..?
09:36:15 <tommd> Bey0ndB1nary: Yes. 
09:36:16 <jophish> Bey0ndB1nary: there are packages for that
09:36:35 <Bey0ndB1nary> Yes I asked, because i wonder how did i miss to know about this ?
09:36:37 <jophish> Bey0ndB1nary: see https://hackage.haskell.org/package/turtle
09:36:50 <jophish> that marks itself as beginner friendly
09:37:00 <Bey0ndB1nary> Thanks jophish for the link ... 
09:37:12 <Bey0ndB1nary> I am checking it now .. 
09:37:39 <jophish> If you've never used haskell before it might be worth learning some of the basics before jumping into shell programming
09:38:03 <lamefun> Why don't IsString/IsList/Num use Template Haskell in some way?
09:39:07 <shersh> Hello everybody! Does anyone could suggest some nice examples of why purity and immutable data is good for parallel or concurrent programming in haskell? I thought about it a lot but couldn't come up with good example :(
09:39:22 <Bey0ndB1nary> Hi jophish , Could you suggest a place where i can get basics on this ? 
09:39:36 * hackagebot cayley-dickson 0.1.4.0 - Complex numbers, quaternions, octonions, sedenions, etc.  https://hackage.haskell.org/package/cayley-dickson-0.1.4.0 (lmj)
09:39:44 <Bey0ndB1nary> i am sysadmin myself .. if it is easier than Python, i would like to give it a TRY and see ... 
09:43:30 <Hijiri> @where learnhaskell
09:43:30 <lambdabot> https://github.com/bitemyapp/learnhaskell
09:43:32 <Hijiri> Bey0ndB1nary: ^
09:43:55 <Hijiri> haskell.org also has a short interactive intro to haskell
09:44:15 <Bey0ndB1nary> Thanks Hijiri 
09:44:18 <jophish> Bey0ndB1nary: good luck!
09:44:21 <jophish> and have fun
09:44:26 <Bey0ndB1nary> i will follow that link and see .. 
09:44:42 <Bey0ndB1nary> Thanks Much for quick help ... i will come back here in case of any questions ..
09:45:11 <jophish> lamefun: what are you expecting?
09:47:27 <jophish> shersh: For one thing, it's a guarantee that one thread can't write to the same place another is reading
09:48:46 <shersh> jophish: and could you give example of some real task in which I can have benefits from such guarantees?
09:52:07 <Hijiri> shersh: I think anywhere you would use STM
09:52:21 <Hijiri> Maybe you are running a game server and any of the clients can send a request to change something in the world
09:52:28 <jophish> shersh: pretty much any program which has mutable variables being concurrently accessed is going to have to have lots of time spent making sure there are no bugs
09:52:39 <Hijiri> and you want to make sure any of these changes don't do anything not reversible
09:52:57 <Hijiri> so that in case the thread for two different clients start editing something, you can rollback the changes
09:53:10 <lamefun> jophish, basically this: http://lpaste.net/4782853972845133824
09:53:29 <lamefun> ie. replace numbers with $$(liftNum <number>) instead of fromInteger (number)
09:55:06 <stoogenmeyer> hey guys, good morning - what is the <$> operator used for?
09:55:12 <stoogenmeyer> does it have anything to do with maybe?
09:55:18 <Hijiri> do you know about fmap?
09:55:33 <shersh> jophish, Hijiri: Thanks!
09:56:07 <Iceland_jack> stoogenmeyer: (<$>) is exactly the same as fmap, it's also a more general version of 'map' that we know and love
09:56:12 <Iceland_jack> > map show [1,2,3]
09:56:14 <lambdabot>  ["1","2","3"]
09:56:15 <Iceland_jack> > show <$> [1,2,3]
09:56:16 <lambdabot>  ["1","2","3"]
09:57:00 <stoogenmeyer> so its sort of an infix version of fmap? I never knew of fmap gonna go look it up now
09:57:05 <ARM9> map is just fmap restricted to lists
09:57:10 <Iceland_jack> stoogenmeyer: Yes
09:57:27 <stoogenmeyer> what other data structure can you run fmap on?
09:57:42 <Iceland_jack> stoogenmeyer: Explaining in terms of fmap, the definition for Maybe is this
09:57:42 <Iceland_jack>     fmap :: (a -> b) -> Maybe a -> Maybe b
09:57:42 <Iceland_jack>     fmap _ Nothing  = Nothing
09:57:42 <Iceland_jack>     fmap f (Just x) = Just (f x)
09:57:49 <jophish> lamefun: you might be interested in this https://github.com/merijn/validated-literals CC merijn
09:57:55 <bennofs> stoogenmeyer: Maybe, Either, (->) r, [], IO, ...
09:58:06 <bennofs> stoogenmeyer: also (,) c
09:58:19 <bennofs> > fmap (+3) ("hello", 1)
09:58:21 <ARM9> you should be able to run fmap on any Functor
09:58:21 <lambdabot>  ("hello",4)
09:58:36 <Iceland_jack> stoogenmeyer: Open your `ghci` and type ":info Functor" and you'll get a list of all data structures 'fmap' works with 
09:58:46 <jophish> stoogenmeyer: anything in this list and many more https://hackage.haskell.org/package/base-4.8.1.0/docs/Prelude.html#control.i:Functor
09:58:46 <stoogenmeyer> oh i see.. the place I saw it used was exactly because of Maybe
09:59:19 <stoogenmeyer> I had tried to do something similar and had defined a class type to be able to handle Just and Nothing
09:59:33 <Iceland_jack> stoogenmeyer: If you think of "Maybe a" as a list of a's that is either empty (Nothing) or has a single value (Just x) you'll see that it's exactly the same as map for lists
10:00:07 <stoogenmeyer> huh, I suppose so!
10:00:14 <Iceland_jack>     fmap f Nothing  == Nothing
10:00:14 <Iceland_jack>     fmap f []       == []
10:00:14 <Iceland_jack> and
10:00:14 <Iceland_jack>     fmap f (Just x) = Just (f x)
10:00:17 <Iceland_jack>     fmap f [x]      = [f x]
10:06:57 <Iceland_jack> Inconsistent equality signs, hmm. :)
10:30:26 <quchen> ARM9: Since fmap is the defining function for Functor, you *can* run it on every Functor. :-)
10:30:43 <quchen> Even more importantly, you cannot run it on any non-Functor.
10:39:59 <meditans> > :k '(,) a b
10:40:00 <lambdabot>  <hint>:1:1: parse error on input ‘:’
10:40:53 <nolraiU> :k '(,) a b
10:40:55 <lambdabot> Not in scope: type variable ‘a’
10:40:55 <lambdabot> Not in scope: type variable ‘b’
10:41:12 <meditans> :k forall a. forall b. '(,) a b
10:41:13 <lambdabot> (,) k k1
10:41:19 <meditans> thanks, nolraiU 
10:42:08 <meditans> so, I have a problem: I'd like a data family to convert between a tuple and an inductive structure I defined
10:42:30 <meditans> but the fact that (a,b,c) and (a,b) have different kinds prevents me from doing that
10:43:10 <meditans> basically I want something like:
10:43:25 <meditans> class IsRelation a (as :: [*]) where
10:43:25 <meditans>     toRelation   :: a -> Relation as
10:43:25 <meditans>     fromRelation :: Relation as -> a
10:43:42 <meditans> but with better type inference. Is that possible?
10:47:11 <GLM> Has anyone heard more about the potential for spark bindings in Haskell?
11:02:34 <Xack> \o
11:02:54 <Xack> Hi, fiddling with Hakyll and I'm wondering if there's a way I can make custom things to go inside $$
11:02:59 <Xack> as in, $date$ produces the date
11:03:34 <Xack> how can i use Haskell code, to, say $unix(ls)$ which calls ls and spits that out onto the page? (an example) 
11:08:33 <Zemyla> Is Data.Coerce GHC-only?
11:08:43 <Zemyla> Or is it available in Haskell 98?
11:09:02 <mmachenry> Xack:  https://downloads.haskell.org/~ghc/6.12.2/docs/html/libraries/directory-1.0.1.1/System-Directory.html
11:09:20 <mmachenry> xack: import that module and use getDirectoryContents
11:09:48 <Xack> mmachenry: ls was just an example
11:10:06 <Xack> i want something in a template or a page, that matches $unix(.*)$ and calls the .*
11:10:26 <Xack> this is for hakyll
11:11:02 <mmachenry> Xack: Sorry don't know anything about it.
11:11:25 <Xack> it's fine :)
11:11:41 <ackthet> Xack: do you want to like... put in the date the page was generated?
11:11:56 <sm> Xack: pandoc has that feature, so I think you can get it in hakyll by passing appropriate reader options
11:12:38 <Xack> ackthet: all i want is to be able to make custom "template functions" (or whatever they're called either i'm blind or the doucmentation isn't telling me :)) like the $title$, $body$, and $date$ and all that stuff
11:12:49 <Xack> and $if(cond)$
11:13:54 <sm> don't the hakyll docs cover it ?
11:14:03 <lpaste> monochrom pasted “How to write <*> for Cont” at http://lpaste.net/145254
11:14:17 <sm> oh, you said not
11:14:30 <lpaste> monochrom revised “How to write <*> for Cont”: “No title” at http://lpaste.net/145254
11:14:34 <Xack> yes
11:15:20 <sm> whether/how templates are applied is up to your script - https://github.com/simonmichael/hledger/blob/master/site/hakyll-std/hakyll-std.hs is one typical example, where a single template is used for all pages
11:16:34 <Xack> just to clarify: i define $thisisatest$ to be expanded to the date (purely for an example) using a method i can't find
11:16:35 <sm> you have to 1. compile the template(s) and 2. apply them
11:36:51 <meditans> I'd like to write something like: data instance Foo (a,b,c) = (Maybe a, Maybe b, Maybe c)
11:36:51 <meditans>  
11:37:16 <meditans> what's the way to write that correctly?
11:42:19 <jophish> meditans: you could try the hlist tuple package
11:43:45 <meditans> jophish: the problem is that I have some working code, I'd like to have a better type inference
11:43:56 <meditans> for now I'm going with the approach:
11:44:13 <meditans> class IsRelation a (as :: [*]) where
11:44:13 <meditans>     toRelation   :: a -> Relation as
11:44:13 <meditans>     fromRelation :: Relation as -> a
11:44:38 <meditans> jophish: the problem with this is that I have to specify every time the full types
11:46:48 <jophish> meditans: there's no way around that with tuples I'm afraid
11:55:26 <parsnip> what's the proper way to write something like "let f :: a -> a" in ghci? I get error: "The type signature for ‘f’ lacks an accompanying binding". 
11:55:50 <shachaf> let f :: a -> a; f = ...
11:55:50 <ski> parsnip : `let f :: a -> a; f x = x'
11:57:05 <parsnip> aha, thank you
11:59:47 <hexagoxel> parsnip: or do `:set +m` (and put it into .ghci; but it can be annoying as well, so..)
12:01:45 <parsnip> hexagoxel: yeah, maybe i should just use :{ :} until i find time to figure out just how that :set +m works. 
12:02:25 <hpc> i just write my definitions in a file and :r
12:02:27 <parsnip> also, sometimes i just want to break the line at some arbitrary point, not sure if there's a trick for that. 
12:02:55 <hexagoxel> you just type ":set +m" and then "let f :: ..." and it waits for next line or an empty line
12:03:07 <hexagoxel> only after an an empty line it evaluates
12:04:20 <monochrom> in the long run, you will want to put things in a file, if only for real editing
12:05:18 <parsnip> ah, so like when working through Learn You A Haskell, i should get familiar with defining things in a file. 
12:06:51 <monochrom> my thought order is different from the order ghci wants to read my input. so a real, 2-dimensional editor is an important buffer between my thought order and ghci read order.
12:07:10 <monochrom> no amount of readline in the world is going to suffice.
12:07:54 <ackthet> looking for recommended reading on QuasiQuoters, any suggestions?
12:08:14 <monochrom> this problem of course will go away when one day I grow a USB port in my head so I can just connect to my computer
12:08:57 <bitemyapp> monochrom: I'm sure that'll get here any day now (tm)
12:09:26 <jay6981> who's going to write that driver I wonder 
12:10:07 <grant> Hi guys
12:10:09 <grant> haskell is sweet
12:10:10 <grant> right?
12:10:18 <jay6981> super sweet
12:10:18 <grant> :)
12:10:22 <Guest43126> oooooo yeaaaaa
12:10:27 <monochrom> no. haskell is red, not sweet.
12:10:28 <Iceland_jack> grandy: Is it ever
12:10:38 <ackthet> i read the wiki page https://wiki.haskell.org/Quasiquotation but looking for something a little bit more
12:10:41 <bitemyapp> Guest43126: super-duper.
12:11:15 <hexagoxel> as sweet as burritos
12:13:31 <parsnip> Haskell is a rapscallion on the tv show Leave It To Beaver. 
12:14:16 <meditans> jophish: thanks!
12:17:08 <TovaUnburdened> callumacrae, Hello v:
12:17:29 <TiredSounds> haha, hey TovaUnburdened 
12:17:48 <TovaUnburdened> TiredSounds, lol, is it you?
12:17:52 <TiredSounds> Yes
12:17:55 <TovaUnburdened> Damn xD
12:17:58 <TiredSounds> haha
12:18:02 <TovaUnburdened> I greeted the wrong person
12:18:12 <TiredSounds> lol
13:02:26 <fread2281> is the Cayenne source available somewhere?
13:20:05 <cloj_dev> how do I fix this simple function? http://pastebin.com/c6gwxq8q
13:23:55 <Welkin> cloj_dev: fmap sum
13:24:01 <cite-reader> cloj_dev: What are you trying to acomplish here? 0 isn't a list, but your inductive case uses the list constructor (:).
13:24:14 <Welkin> > fmap sum [[1,2,3],[4,5]]
13:24:16 <lambdabot>  [6,9]
13:24:30 <cloj_dev> ah okay
13:24:33 <cloj_dev> thanks
13:24:48 <Welkin> you are mapping the `sum` function over each element of the list
13:24:52 <Welkin> which is itself a list
13:24:54 <Welkin> :t sum
13:24:55 <lambdabot> (Num a, Foldable t) => t a -> a
13:25:42 <Welkin> you can think of it as `sum :: [Integer] -> Integer` in this case
13:25:48 <Iceland_jack> > map sum [[1,2], [3,4]]
13:25:49 <lambdabot>  [3,7]
13:26:17 <Welkin> cloj_dev: try writing your own version of `sum`
13:26:39 <cloj_dev> sum' xs = foldr1 (+) xs  like that?
13:26:48 <Iceland_jack> cloj_dev: Do you want it to fail on empty lists?
13:26:59 <cloj_dev> yeah, its failing on empty lists
13:27:05 <cloj_dev> thats true
13:27:42 <cloj_dev> hm
13:28:19 <Copperis> cloj_dev, your first function needs lists as edge cases, not 0
13:28:24 <MarcelineVQ> If you're just looking to modify what you have already, you can change the base case of `sums_of_list [] = 0`, to be `sums_of_list [] = []`  the function : constructs lists be prepending to a list but 0 isn't a list.
13:28:33 <MarcelineVQ> :t (:)
13:28:34 <lambdabot> a -> [a] -> [a]
13:29:05 <cloj_dev> I see
13:29:13 <Iceland_jack> cloj_dev: You once asked about similar question about concat, and given that you have cloj(ure) in your nick I want to mention: In Lisp it's perfectly fine to treat lists are arbitrarily nested, more like trees so you can have a "sum" function that works
13:29:13 <Iceland_jack>     (sum '(1 2 3 4))     ==> 10
13:29:13 <Iceland_jack>     (sum '((1) (2 3 4))) ==> 10
13:29:13 <Iceland_jack>     
13:29:26 <P4Titan> Hello all, is there a way to create a newtype Int that I can add to a regular Int, ie flexible types
13:29:53 <Iceland_jack> P4Titan: You can derive "Num"
13:29:54 <Iceland_jack>     newtype Foo = MkFoo Int deriving (Num)
13:29:54 <Iceland_jack> using GeneralizedNewtypeDeriving
13:29:56 <cloj_dev> yes, the same issues are coming up for me , without me realizing
13:30:02 <Welkin> P4Titan: using fromIntegral
13:30:10 <glguy> P4Titan: If you want to add with regular Int's you'll need a type synonym instead of a newtype
13:30:46 <glguy> P4Titan: supposing that you could take a newtyped Int and add it to an Int, what type would you expect to get back
13:31:01 <P4Titan> depends on what the function wants, either Int or newtype Int
13:31:24 <glguy> If you want that kind of flexibility you're looking for a type synonym then
13:31:52 <P4Titan> I should change it then, I see no reason to have a newtype in this case
13:31:57 <Iceland_jack> P4Titan: Keep in mind that if you use "Foo" as defined earlier, you can add them without any hassle
13:32:07 <Iceland_jack>     a = Foo 10
13:32:07 <Iceland_jack>     b = Foo 5
13:32:07 <Iceland_jack>     c = a + b
13:32:23 <Iceland_jack> you don't even need the "Foo"!
13:33:32 <P4Titan> yes but how about this: 1 + Foo 10
13:33:36 <Iceland_jack> it also works
13:33:46 <Iceland_jack> @let newtype Foo = MkFoo Int deriving (Show, Num)
13:33:47 <lambdabot>  .L.hs:177:29:
13:33:47 <lambdabot>      Can't make a derived instance of ‘Num Foo’:
13:33:47 <lambdabot>        ‘Num’ is not a derivable class
13:33:51 <Iceland_jack> pff
13:34:11 <P4Titan> my newtype already derives Num
13:34:18 <P4Titan> and it does not work
13:34:26 <Iceland_jack> ghci> newtype Foo = MkFoo Int deriving (Show, Num)
13:34:26 <Iceland_jack> ghci> 1 + MkFoo 10
13:34:26 <Iceland_jack> MkFoo 11
13:34:47 <Iceland_jack> P4Titan: Of course, (+) still has the type
13:34:47 <Iceland_jack>     (+) :: Int -> Int -> Int
13:34:47 <Iceland_jack>     (+) :: Foo -> Foo -> Foo
13:35:02 <lispy> :t fromIntegral
13:35:03 <lambdabot> (Integral a, Num b) => a -> b
13:35:15 <lispy> You might be missing that  ifyou're using literal numbers
13:36:27 <P4Titan> I mad it a synonym and it works just as well
13:38:28 <P4Titan> s/mad/made/
13:39:56 * hackagebot pandoc-citeproc 0.8.1.1 - Supports using pandoc with citeproc  https://hackage.haskell.org/package/pandoc-citeproc-0.8.1.1 (JohnMacFarlane)
13:50:36 <pavolzetor> hi, I am rewriting ray tracer and I would like to represent points and vectors in typesafe manner
13:51:02 <Welkin> pavolzetor: make them into types
13:51:14 <pavolzetor> I have type Point = Vector
13:51:17 <Welkin> data Point a = Point a a a
13:51:26 <Welkin> data Vector a = V3 a a a
13:52:11 <Darwin226> Hey. Say I have a .dll file (or .so or whatever). Where can I put it in my cabal file so that I can name it as an extra-library in the cabal file and so it will be found?
13:52:30 <pavolzetor> Welkin, would you have to have two functions for matrix vector multiplication?
13:53:01 <Welkin> pavolzetor: actually, just go ahead and use the Linear library instead of writing your own
13:53:13 <Darwin226> And is there any way to have this library file be compiled automatically as a part of my projects build procedure?
13:53:19 <Welkin> however, if you want to write your own, you can define a Num instance for your vector to allow scalar and vector multiplication
13:53:22 <jophish> Darwin226: I have a small example of that here: https://github.com/expipiplus1/simple-shared
13:53:32 <jophish> Are you on windows?
13:53:39 <pavolzetor> Welkin, I am aware of that library, I want to write my own (study purposes)
13:53:45 <Welkin> pavolzetor: hm, actually, vector multiplication would require a new typeclass
13:54:19 <Welkin> pavolzetor: no, you don't need to have two functions
13:54:24 <Welkin> pavolzetor: you can write it however you wish
13:54:31 <lispy> pavolzetor: When I wrote a raytracer, I factored out some of the linear algebra into this library: https://github.com/dagit/lin-alg
13:54:34 <lispy> pavolzetor: you might take a look
13:54:36 <Welkin> you could have one canonical function that the other version wraps
13:54:39 <lispy> pavolzetor: it's pretty minimal
13:54:57 <pavolzetor> lispy, thanks, I am going to have a look
13:55:40 <lispy> pavolzetor: the raytracer itself is here: https://github.com/dagit/haray
13:55:52 <lispy> pavolzetor: I probably only use 10% of the stuff in lin-alg
13:55:58 <pavolzetor> Welkin, the problem is I do not know how I wish to solve it, previously I had V4 and used point w=  1, vector w = 0, but that bit me in ass in various bugs, so I want to use types to help me avoid those
13:56:26 <Liza18> http://goo.gl/AySLpM
13:56:29 <Darwin226> jophish: I am. This is very instructive
13:56:42 <jophish> Darwin226: I don't think that works on windows at the moment
13:56:54 <jophish> I can't remember exactly, it was a while ago
13:56:59 <Darwin226> jophish: So I basically have to --extra-lib-dirs the "." directory
13:57:01 <jophish> it should show you the basics though
13:57:07 <jophish> yeah, something like that
13:57:12 <Darwin226> Where does that point to in the project?
13:57:12 <Welkin> pavolzetor: ah, I see, homogeneous coordinates
13:57:18 <jophish> next time I'm at a windows PC I'll see about getting it working :D
13:57:24 <jophish> of course a PR is always welcome
13:58:07 <pavolzetor> lispy, how did you distinguish between vector and point?
13:58:28 <P4Titan> Hello all, I have another question
13:58:36 <Darwin226> jophish: So I've added the --extra-lib-dirs option as a ghc-option in my cabal file but it still doesn't find the dll. Any ideas?
13:58:36 <Iceland_jack> Hey P4Titan 
13:58:46 <P4Titan> how can I do Double * Int and then get an Int as a result
13:58:59 <pavolzetor> Welkin, what I want mainly from it is if I do vector matrix multiplication, the translation will not be used
13:59:15 <Hijiri> P4Titan: you can't do that with the (*) in prelude
13:59:31 <pavolzetor> Welkin, (so when I do transpose, the translation will not become projection)
13:59:33 <glguy> Darwin226: extra-libraries: and extra-lib-dirs: are sections in your cabal file, not ghc-options
13:59:35 <P4Titan> how can I do it then?
13:59:40 <Hijiri> you would have to define your own * that would work on Double and Int
13:59:43 <lispy> pavolzetor: I don't remember doing that
13:59:48 <glguy> Darwin226: see https://www.haskell.org/cabal/users-guide/developing-packages.html
13:59:50 <Hijiri> (and it wouldn't be in the Num typeclass)
14:00:10 <Darwin226> glguy: Bingo! That did it!
14:00:35 <Iceland_jack> P4Titan: 
14:00:35 <Iceland_jack> :t \(a :: Double) (b :: Int) -> round (a + fromIntegral b) :: Int
14:00:38 <lambdabot> Double -> Int -> Int
14:00:38 <Hijiri> > let x * y = x * fromIntegral y in (6.66 :: Double) * (42 :: Int) :: Double
14:00:42 <lambdabot>  mueval-core: Time limit exceeded
14:00:44 <Hijiri> oh, Int result
14:00:48 <pavolzetor> lispy, how did you then represent translation?
14:01:06 <pavolzetor> lispy, (type safely)
14:01:08 <lispy> pavolzetor: So for instance here, my ray's origin is just a vec3 https://github.com/dagit/haray/blob/master/src/Graphics/Rendering/Haray/Ray.hs#L11
14:01:11 <Iceland_jack> P4Titan: I would need to see your code, but quite often that's not what you want to be doing
14:01:23 <Hijiri> also my definition was bad in other ways, anyway
14:02:03 <P4Titan> I'll paste it in
14:02:05 <P4Titan> one moment
14:02:26 <jophish> Darwin226: oh
14:02:28 <P4Titan> multColor :: Double -> Color -> Color
14:02:28 <P4Titan> multColor n (Color r g b) = Color (scale r) (scale g) (scale b)
14:02:28 <P4Titan>     where scale = truncate . ((*) n) . fromIntegral
14:02:40 <P4Titan> Color Int Int Int
14:02:54 <lispy> pavolzetor: I tried not to use any interesting Haskell features because I wanted to be able to rewrite parts to use OpenCL (which I eventually did but stopped before it got interesting)
14:03:38 <Iceland_jack> P4Titan: Have you considered defining Color as
14:03:38 <Iceland_jack>     data Color a = Color a a a
14:03:38 <Iceland_jack>       deriving (Functor, Foldable, Traversable, ...)
14:03:45 <Iceland_jack> (also, data Colour a = ...) ;)
14:03:56 <pavolzetor> lispy, I see, I am beginner so I just want to use types to avoid bugs, I am going for walk to think, thanks for help and link
14:04:14 <P4Titan> no, how would that help me?
14:04:16 <Iceland_jack> P4Titan: That way "Color" isn't limited to storing Ints, and you can operate on them as Floats/Doubles as needed
14:04:17 <lispy> pavolzetor: yw, I'm happy to talk more about types and ray tracers when you get back
14:04:27 <pavolzetor> lispy, thanks
14:04:49 <Iceland_jack> P4Titan: Also the code
14:04:49 <Iceland_jack>     \(Color r g b) -> Color (scale r) (scale g) (scale b)
14:04:49 <Iceland_jack> becomes
14:04:49 <Iceland_jack>     fmap scale
14:05:30 <P4Titan> ok, so what is the type definition that I should use
14:06:26 <Welkin> Iceland_jack: whenever I see you paste multi-line code in the channel I think it is a lambdabot error
14:06:53 <Iceland_jack> Does it get in the way Welkin?
14:07:58 <Welkin> Iceland_jack: not really
14:11:28 <Iceland_jack> P4Titan: I would suggest 'data RGB a = RGB a a a', it's what 'colour' uses https://hackage.haskell.org/package/colour-2.3.3/docs/src/Data-Colour-RGB.html
14:11:46 <Iceland_jack> only as a record and strict fields
14:12:19 <Iceland_jack> 'data RGB a = RGB !a !a !a', you can then define Applicative and Monad instances for RGB P4Titan and Distributive as well and blabla
14:12:28 <Iceland_jack> Words are boring.
14:13:13 <P4Titan> ok, I'll try it, thanks
14:15:05 <Iceland_jack> I don't know your familiarity with type classes but Applicative would give you a way of adding two RGB values
14:15:05 <Iceland_jack>     liftA2 (+) (RGB r₁ g₁ b₁) (RGB r₂ g₂ b₂)
14:15:05 <Iceland_jack>     ==> RGB (r₁+r₂) (g₁+g₂) (b₁+b₂)
14:16:32 <Iceland_jack> afk, good luck P4Titan 
14:16:50 <P4Titan> how does the liftA2 work as I do not see it with the type signature
14:19:11 <P4Titan> I got it
14:21:45 <R0b0t1> Is type [parent] equal to type [child]?
14:21:51 <R0b0t1> er
14:21:59 <R0b0t1> not equal, but you know what I meant
14:23:04 <R0b0t1> If a string is a type and a type is a type then is the type of a list of string equivalent to the type of a list of type?
14:24:08 <cite-reader> I... don't think I follow.
14:24:38 <cite-reader> I _think_ there's a kind error somewhere in your reasoning, but I can't be sure.
14:24:41 <Walther> how is a type a type
14:24:48 <Walther> on its own
14:25:07 <R0b0t1> wait okay that part definitely is wrong
14:25:28 <R0b0t1> If types exist and a string is a type, is a list of strings equivalent to a list of types?
14:25:44 <Hijiri> what do you mean by a string is a type
14:25:52 <Hijiri> do you mean that there is a type of strings?
14:25:56 <Hijiri> or that strings literally are types
14:25:57 <glguy> There are values that have the type String, String is a type
14:26:04 <glguy> a list of string values has the type [String]
14:26:10 <max3> if this is the definition of bind in list  `xs >>= f  =  concat (map f xs)`
14:26:24 <max3> why can't i do `[1,2,3] (>>=) (replicate 5)
14:26:36 <glguy> max3: You need: [1,2,3] >>= replicate 5
14:26:49 <glguy> When you surround with ()s you make a prefix function
14:27:07 <glguy> max3: [1,2,3] >>= replicate 5 --is-- (>>=) [1,2,3] (replicate 5)
14:27:15 <R0b0t1> hmmm
14:27:24 <R0b0t1> I can't express what I want to say in haskell it seems
14:27:24 <max3> what is a prefix function
14:27:38 <R0b0t1> max3: (>>=) a b
14:27:42 <R0b0t1> a >>= b
14:27:50 <max3> ah
14:27:52 <max3> i understand
14:28:10 <R0b0t1> it is so you can define them
14:28:23 <max3> i don't understand graham huttons explanation of the list monad here: http://www.cs.nott.ac.uk/~pszgmh/monads
14:28:42 <max3> above in the explanation of the Maybe monad the sequencing is clear
14:28:56 <max3> for eval i mean
14:29:30 <max3> there's a lambda on the right hand side of the >=
14:29:41 <max3> but for pairs, in the list explanation
14:29:44 <P4Titan> Iceland_jack: what benefits do I get from Color a a a?
14:29:45 <max3> there's no f
14:30:35 <max3> i don't understand how magically each of the entries in xs triggers pairing with each of the entries in ys
14:31:24 <R0b0t1> Okay, perhaps this: if "data Type = String | ..." would [String] be a more restrictive but equivalent type to [Type]?
14:32:23 <jophish> max3: It might help to evaluate a bunch of expressions involving the list instance of Monad by hand
14:32:35 <R0b0t1> i.e. any occurrence of [Type] could be satisfied by a [String]
14:32:39 <cite-reader> R0b0t1: Oh, you want subtyping? Yeah we don't have that.
14:32:55 <R0b0t1> ah, ok
14:32:59 <R0b0t1> I thought so
14:33:08 <R0b0t1> but logically it's not insane, right?
14:33:19 <max3> jophish: yea i'm going to try that right now
14:33:29 <glguy_> data Type = String makes a new data constructor String that has nothing to do with the type constructor String
14:33:31 <jophish> R0b0t1: I don't quite understand, String is of kind Type (assuming it's a constructor of Type) and Type is of kind *
14:35:21 <R0b0t1> jophish: right
14:35:44 <R0b0t1> okay thanks, sorry this was only tangentially related to haskell but I wouldn't have had better help in ##math or anything
14:36:32 <cite-reader> Subtyping (and specifically the covariant immutable lists that you're using as an example) isn't a crazy thing to want, and you can make a reasonable type system that has it, but Haskell deliberately rejects it because it makes lots of problems hard.
14:36:49 <R0b0t1> https://bpaste.net/show/2275ca05a7d2
14:37:01 <R0b0t1> cite-reader: ah
14:37:53 <pavonia> max3: "do { x <- xs; y <- ys; return (x, y)}" is equivalent to "xs >>= (\x -> ys >>= (\y -> return (x, y)))". So there is an f, though it's not that obvious when using a do block
14:39:45 <max3> pavonia: yes i just wrote it out like that
14:39:57 <R0b0t1> cite-reader: do you know which problems?
14:40:23 <max3> pavonia: it becomes clear what's happening if you write something like "ys >>= (\y -> return (1,y))"
14:40:27 <cite-reader> Not off the top of my head, I'm afraid.
14:41:00 <R0b0t1> no problem
14:44:02 <xpilot> goldfire: if you're around, I have some questions about using your nokinds branch of ghc
14:45:09 <R0b0t1> THAT SOUNDS RELEVANT TO MY INTERESTS
14:45:18 <max3> i still don't clearly see what it is that >>= abstracts
14:45:25 <max3> something something sequencing
14:47:17 <trix> max3: bind allows you to chain expressions that require the previous result
14:49:44 <max3> trix: am i supposed to read the do notation as a loop that runs several times? i.e. "x <- xs, y <-ys, return (x,y)" then do it again
14:50:04 <mtesseract> Hi
14:50:04 <max3> no that's wrong
14:50:51 <max3> trix: what i don't see clearly is what is the thing that produces a result and what is the result in "x <- xs"
14:51:10 <mtesseract> Does anyone know how one can retrieve the list of 'remaining', i.e. unparsed arguments, when using Options.Applicative?
14:51:26 <trix> max3: maybe this could help https://en.wikibooks.org/wiki/Haskell/do_notation
14:52:02 <trix> max3: the section "Translating the bind operator", and also http://www.haskellforall.com/2014/10/how-to-desugar-haskell-code.html talks about do notation
14:52:43 <jophish> max3: in the case of lists you can think of 'x <- xs' as binding x to every element of xs and running the remainder of the computation once for each of these values
14:52:58 <jophish> although that behavior is quite specific to lists
14:53:17 <trix> max3: oh are you talking about list comprehensions?
14:53:20 <max3> no
14:53:34 <max3> list comprehensions i understand fine
14:53:48 <jophish> max3: do notation is exactly the same as comprehensions :D
14:53:55 <max3> only in the case of lists
14:53:56 <max3> right?
14:54:10 <trix> do notation is just, binding an action to a name using the arrow
14:54:16 <jophish> max3: there is the MonadComprehensions extension to enable them for all extensions
14:54:28 <jophish> for all instances of Monad*
14:54:41 <max3> http://www.cs.nott.ac.uk/~pszgmh/monads
14:54:45 <max3> about a third of the way down
14:54:50 <max3>  m1 >>= \x1 ->
14:54:56 <max3> is my current understanding
14:55:03 <max3> i'm reading the two links trix gave me
14:55:49 <mtesseract> (nevermind)
15:02:56 <drw77> is it possible to configure a cabal sandbox so that when I type "cabal repl" the repl automatically sets a language extension...as if, for example, I had typed ":set -XOverloadedStrings ?
15:03:52 <pavonia> drw77: You could create a local .ghci file that will be loaded when GHCi is started from the directory
15:04:09 <hpc> whoa, you can put .ghci anywhere?
15:05:59 <drw77> pavonia: Thanks--that sound's like the right track.  I'll give it a try.
15:06:14 <dmj> .ghci in pwd should take precedence over ~/.ghci
15:06:56 <trix> max3: this paper about monadic parser comabinators http://www.cs.nott.ac.uk/~pszgmh/monparsing.pdf made bind click for me
15:08:23 <nocturne777> is anyone here using cql-io and experiencing slow writes ?
15:14:37 <drw77> pavonia: Thanks--that was perfect.  I can even import the modules I'm using in that local .ghci file.
15:14:59 * hackagebot Yampa 0.10.4 - Library for programming hybrid systems.  https://hackage.haskell.org/package/Yampa-0.10.4 (IvanPerez)
15:25:55 <fread2281> how can I ask from a ReaderT inside ghci's debugger?
15:53:27 <twopoint718> I was wondering if anyone knew how I could implement `fromList` for type-level Lists (which contain their length)? Here's what I have: https://gist.github.com/twopoint718/23945badbd04032660a3
15:55:58 <monochrom> I don't think it is possible
15:58:33 <GLM> What would be the ideal type to represent a 3x3 grid of booleans?
15:59:24 <hackrilege_> how is scan different from mapAccum?
15:59:50 <twopoint718> monochrom: That's what I was starting to suspect
15:59:55 <Iceland_jack> GLM: There are many possibilities,
15:59:55 <Iceland_jack>     data Row  a = R a a a
15:59:55 <Iceland_jack>     type Col  a = Col a
15:59:55 <Iceland_jack>     type Grid a = Col (Row a)
16:00:09 <Iceland_jack> They matter less now that we have pattern synonyms and lenses
16:00:14 <hackrilege_> GLM it depends on the application, what's wrong with a triple of triples?
16:00:36 <GLM> Iceland_jack:I want to be able to easily fold over them which would be ugly. Using for a cellular automata
16:00:58 <hackrilege_> Fold over lists of them?
16:01:15 <GLM> hackrilege_:But that doesn't prevent empty lists
16:01:53 <hackrilege_> You need empty lists for lists to work
16:01:54 <monochrom> I would use an array for a cellular automaton
16:02:24 <GLM> monochrom:Array or vector?
16:03:27 <monochrom> are they different?
16:03:43 <GLM> Not entirely sure. Haven't used them much
16:03:52 <hackrilege_> If you said you wanted to fold over this 3x3 matrix, i would assume you meant return 1 value from a function with took the 9 elements as arguments. You could pattern match a triple of triples to access these elements in the function definition
16:03:53 <GLM> Could I guarantee that they'd be of size 3?
16:04:11 <hackrilege_> You need triple
16:04:32 <hackrilege_> A tuple of length 3
16:04:33 <GLM> hackrilege_:That is what I'm doing right not but it is pretty ugly and wouldn't scale if I wanted 4 some day
16:04:40 <ww> GLM: check out repa
16:05:06 <ww> it gives you type-level shape of multi-dimensional arrays/matrices
16:05:53 <hackrilege_> If you wish to relax the n=3 constraint that would imply lists. Really to define recursion relations you need the empty list
16:06:13 <hackrilege_> For the base case
16:06:27 <Hijiri> you can derive Traversable if your grid data type is data Grid a = ... some stuff with a covariant
16:06:34 <Hijiri> and not in a function
16:06:35 <Hijiri> or whatever
16:07:03 <Hijiri> and then you get Foldable
16:08:28 <hackrilege_> Or use a data type with a foldable instance like Data.Set or Data.Map also check out the various vector types as they might have nice accessor's and other methods.
16:09:18 <hackrilege_> If you use a list of lists you could just define a synonym and write a foldable instance
16:10:13 <hackrilege_> Which would be something like fold $ map fold for list of lists
16:10:55 <Hijiri> foldMap fold, maybe?
16:11:01 <Hijiri> :t foldMap fold
16:11:02 <lambdabot> (Foldable t, Foldable t1, Monoid m) => t (t1 m) -> m
16:11:33 <Hijiri> :t foldMap . foldMap
16:11:34 <lambdabot> (Foldable t, Foldable t1, Monoid m) => (a -> m) -> t (t1 a) -> m
16:11:42 <Hijiri> I guess that gives you foldMap
16:12:52 <Iceland_jack> Hijiri: You can also create a newtype
16:13:04 <Iceland_jack> and GHC derives the foldable instance for you
16:13:37 <Iceland_jack>     newtype G a = MkG [[a]] deriving (…, Foldable, …)
16:13:37 <Iceland_jack> gives you 'fold :: Monoid m => G m -> m' 
16:14:23 <hackrilege_> :t (\f bc1 bc2 -> (foldl (map foldl f bc1) bc2))
16:14:25 <lambdabot>     Couldn't match expected type ‘t1 -> b -> a -> b’
16:14:25 <lambdabot>                 with actual type ‘[b1 -> t0 a1 -> b1]’
16:14:25 <lambdabot>     Relevant bindings include
16:17:40 <hackrilege_> :t (\f bc1 bc2 l -> foldl (map (foldl f bc1)) bc2 l)
16:17:41 <lambdabot>     Couldn't match type ‘[b]’ with ‘a -> [t1 a1]’
16:17:41 <lambdabot>     Expected type: [t1 a1] -> a -> [t1 a1]
16:17:41 <lambdabot>       Actual type: [t1 a1] -> [b]
16:17:45 <hackrilege_> sorry
16:18:50 <Iceland_jack> hackrilege_: The Internet always forgives 
16:20:06 <Iceland_jack> Did you mean something like this
16:20:06 <Iceland_jack> :t \f bc1 bc2 l -> foldr1 bc1 (map (foldr1 bc2) l)
16:20:07 <lambdabot> Foldable t => r -> (a -> a -> a) -> (a -> a -> a) -> [t a] -> a
16:20:10 <Iceland_jack> ?
16:20:40 <Iceland_jack> The 'f' is redundant
16:20:41 <Iceland_jack> :t \f bc1 bc2 l -> foldr1 bc1 (map (foldr1 bc2) l)
16:20:42 <lambdabot> Foldable t => r -> (a -> a -> a) -> (a -> a -> a) -> [t a] -> a
16:20:57 <Iceland_jack> Goodness gracious jolly ghost
16:20:57 <Iceland_jack> :t \bc1 bc2 l -> foldr1 bc1 (map (foldr1 bc2) l)
16:20:58 <lambdabot> Foldable t => (a -> a -> a) -> (a -> a -> a) -> [t a] -> a
16:21:40 <Iceland_jack> > (\bc1 bc2 l -> map (foldl1 bc2) l) (+) (*) [[1,2,3], [10,20,30], [100,200,300]]
16:21:42 <lambdabot>  [6,6000,6000000]
16:21:52 <Iceland_jack> > (\bc1 bc2 l -> map (foldl1 bc2) l) (*) (+) [[1,2,3], [10,20,30], [100,200,300]]
16:21:54 <lambdabot>  [6,60,600]
16:26:01 <hackrilege_> no thats not right, bc stood for basecase but you are using foldl1 where the 1 eliminates the basecase.
16:30:15 * hackagebot retry 0.7.0.1 - Retry combinators for monadic actions that may fail  https://hackage.haskell.org/package/retry-0.7.0.1 (MichaelXavier)
16:31:43 <hackrilege_> it seems to want us to be applicative
16:31:47 <hackrilege_> :t map foldl1
16:31:48 <lambdabot> Foldable t => [a -> a -> a] -> [t a -> a]
16:34:49 <hackrilege_> id write map foldl1 :: (Foldable f1,Foldable f2 => ((f1 a)->b) -> f2 (f1 a) -> f2 b
16:35:30 <hackrilege_> sorry, its foldable because i intend to fold over it.... but i cant get the applicative fold error
16:42:08 <hackrilege_> :t \ f l -> foldr1 f (map (foldr1 f) l)
16:42:09 <lambdabot> Foldable t => (a -> a -> a) -> [t a] -> a
16:42:14 <hackrilege_> that looks better
16:43:26 <orion> Will this line of code set h to hash(d || h) or will it set h to hash(h || d)?: x & h %~ Right . hash . (`append` d)
16:44:12 <orion> Where || is concatenation.
16:44:26 <hackrilege_> :t append
16:44:27 <lambdabot>     Not in scope: ‘append’
16:44:28 <lambdabot>     Perhaps you meant one of these:
16:44:28 <lambdabot>       ‘BSC.append’ (imported from Data.ByteString.Char8),
16:44:32 <scshunt> :t &
16:44:34 <lambdabot> parse error on input ‘&’
16:44:36 <scshunt> :t (&)
16:44:37 <lambdabot> a -> (a -> b) -> b
16:44:41 <hackrilege_> it depends how you define append
16:44:53 <scshunt> what is &?
16:44:57 <scshunt> :t (%~)
16:44:58 <lambdabot> Profunctor p => Setting p s t a b -> p a b -> s -> t
16:45:27 <hackrilege_> :t flip ($)
16:45:29 <lambdabot> a -> (a -> c) -> c
16:45:43 <orion> hackrilege_: a `append` b === a || b
16:46:50 <hackrilege_> cant you test it?
17:19:45 <jophish> I'm having trouble linking to a c library on windows
17:20:17 <jophish> I have extra-libraries: add in the cabal file and add.lib in the same directory
17:20:30 <jophish> I'm adding . to extra-lib-dirs
17:20:42 <jophish> but I'm still getting "missing C library"
17:20:47 <jophish> I get the same behavior with a dll too
17:20:57 <jophish> This works without a problem on linux
17:21:37 <bashed> I've gotten to the stage where I'm not scared by haskell as much as I used to. I'm planning on taking it a step further. I'm trying to build an application in haskell that allows scripting. I'm planning on using embedded common lisp for that. Is this something that would be viable? I guess I'd have to expose my application internals to the lisp scripts but that shouldn't be an issue, right? 
17:22:40 <bashed> Or would it be a better approach to use create a rpc interface so I don't have to worry about ffi?
17:23:04 <jophish> bashed: I'd do whatever's quickest to get a prototype up and running
17:35:52 <ljhms> I'm trying to figure out how to build a package suitable for installation on whatever Linux distro from a project of mine. Is there something equivalent to cabal install's --prefix for stack? There is a flag called --local-bin-prefix, but that only seems to copy the binaries, and not anything else (like data-files in .stack-work/install/*/*/*/share). I could write a script for copying these files, but that's
17:35:53 <ljhms> duplicating effort, so I'd rather avoid it if possible
17:44:10 <lethjakman-l> So, I want the dot operator, but I want it to function backwards. Is there a good way to do that?
17:44:26 <lethjakman-l> I have an aeson data structure. It makes more sense to me if things dig in in the same order. 
17:44:41 <abbe> In "class Monad m => MonadReader r m | m -> r where", what does "m -> r" imply ?
17:44:54 <jle`> lethjakman-l: there's already something that behaves like flip (.), (>>>) from Control.Category
17:44:54 <jophish> Ah, I was building with cygwin's gcc
17:44:58 <jle`> not as pretty though
17:45:04 <jle`> abbe: it's a functional dependency
17:45:20 <hpc> abbe: it means that if you know the 'm', you can always determine 'r'
17:45:28 <hpc> so if you do
17:45:49 <lethjakman-l> jle`: I tried that, but it threw a typing error for some reason...
17:46:06 <hpc> instance MonadReader R M
17:46:12 <jle`> lethjakman-l: what's the error?
17:46:14 <jle`> or the code
17:46:21 <jle`> it might be an association issue, possibly
17:46:43 <jle`> (.) and (>>>) have different fixity
17:46:43 <lethjakman-l> Seems to work now....I must have messed something up somewhere else. 
17:46:53 <hpc> then you'll never get compile errors for ambiguous type variable 'r', if you're in a scenario where you're using M
17:47:08 <lethjakman-l> Thank you for getting me to try that again :)
17:47:16 <hpc> abbe: also, nobody can then go and write instance MonadReader OtherR M
17:47:34 <hpc> (which is where the guarantee comes in the first place)
17:47:41 <abbe> Okay
17:48:35 <hpc> i might be forgetting something else, but that's the important bits
17:49:46 <gienah> ljhms: If it was on hackage, it could be installed like: ghc --make -o Setup Setup.hs; ./Setup --configure ...;./Setup --build ...;./Setup install
17:50:13 <abbe> thanks hpc, jle`. I think I understand it now, after comparing this with its instances
17:50:34 <gienah> ljhms: as in it could be installed like this by the linux distro devs, you shouldn't install stuff like that yourself
17:54:28 <ClosedUnderFoo> Are there any mainstream Haskell libraries that provide for statically sized vectors (using some sort of TypeLits library)? I've been using them a lot of CLaSH and they're super convenient
17:54:40 <gienah> ljhms: (as on binary distros it would break any reverse dependencies, on Gentoo it is fine to create your own ebuilds to install things as on a source based distro the reverse dependencies can be rebuilt)
17:54:48 <jle`> ClosedUnderFoo: there are bunches of them
17:54:53 <jle`> but the one i normally use is from `linear`
17:55:01 <jle`> be warned that it does pull in `lens`
17:55:28 <ClosedUnderFoo> jle`: Yeah, haha, I just looked at the docs for it. Lots of lenses
17:55:41 <jle`> well, you don't actually need to use lenses to work with their fixed length vector type
17:55:48 <jle`> you actually don't need lenses to use the library at all
17:55:58 <jle`> the main reason i bring it up is because of the dependency explosion, heh
17:57:07 <ClosedUnderFoo> jle`: Does it actually use TypeLits? It looks like it has manually defined types for e.g. a 3x2 matrix vs a 3x3 matrix
17:57:19 <jle`> look at Linear.V
17:57:31 <jle`> V 10 Double => a vector of 10 doubles
17:57:36 <ClosedUnderFoo> Oh cool, thanks
17:57:55 <jle`> the most useful parts are the Functor, Applicative, Monad, Traversable, etc. instances
17:58:25 <jle`> and plus all of the great typeclasses from the linear library --- Additive, Metric, etc.
17:58:33 <ljhms> gienah: Is there no way to get a statically linked, stand-alone binary? And this is not necessarily for any particular distro: I just want a way to install the compiled program globally and without having to pull down all dependencies (or even GHC) on the computer where the program is intended to run
17:58:35 <ClosedUnderFoo> Awesome, thanks
17:58:39 <ClosedUnderFoo> I may start using that
17:58:59 <jle`> but it's not meant for things like indexing and concatenation, etc. -- things that don't make sense in the context of linear algebra
17:59:12 <ClosedUnderFoo> jle`: Hmm, I kind of hoped to have that too
17:59:25 <ClosedUnderFoo> e.g (++) :: Vec n a -> Vec m a -> Vec (n+m) a
17:59:29 <jle`> but when you get to the realm of those kinds of stuff, it's hard to do it in a really nice way using TypeLits
17:59:43 <jle`> because a lot of really simple things become hard for GHC to verify
17:59:55 <ClosedUnderFoo> Yeah, I think CLaSH uses an extension that does sum-of-products constraint checking
18:00:04 <ClosedUnderFoo> So you can do more arithmetic at the type level
18:00:20 <adas> is there a way to load another file other than Lib.hs while doing "stack ghci"?
18:00:36 <jle`> ClosedUnderFoo: yeah, i use ghc-typelits-natnormalise when i do type vectors like that using typelits
18:01:06 <ClosedUnderFoo> Cool, yeah that's the same one
18:01:30 <jle`> but i guess that's one reason why Linear.V's vector type isn't built for things like this --- not only do those things not really make sense in the context of linear algebra, but also, they're tricky/less useful with typelits in ghc unless you jump through a lot of hoops
18:01:45 <ClosedUnderFoo> Ok, thanks
18:01:53 <jle`> but there might be another library on hackage that does it well :)
18:02:01 <jle`> or maybe you can be the one to change that! :D
18:02:04 <ClosedUnderFoo> well hopefully over the next 5-10 years Haskell gets more powerful type level functions
18:02:08 <ClosedUnderFoo> Maybe indeed
18:02:25 <gienah> ljhms: maybe you can compile a statically linked, standalone binary. However it may the executable may have NEEDED shared libary dependencies which may not match on different linux distros 
18:02:37 <jle`> it might not be too difficult to just write your own (++) to use in your project
18:02:45 <jle`> or your own indexing
18:03:02 <jle`> it juist won't be built in.  and hey, if it works out well, you can always submit a PR or make a library :)
18:03:12 <Welkin> does anyone have any experience with subsite routes in yesod?
18:03:44 <Welkin> I need a function :: Route Auth -> Route App
18:04:08 <Welkin> I can use getRouteToParent inside my Admin subsite to get a function tp :: Route Admin -> Route App
18:04:41 <ClosedUnderFoo> Alright, well thanks jle`
18:04:42 <Welkin> but then I need to embed a hyperlink to the Auth subsite
18:05:50 <ljhms> gienah: I'm not sure I understand your second sentence. If it's statically linked, there are no shared libraries, no?
18:08:58 <gienah> ljhms: I'd kind of doubt that you could statically link it to have no dependencies on any shared libraries. It may have a dependency on libgmp.so.10 where the .10 may vary depdending on the distro
18:10:56 * gienah has visitors
18:12:09 <ljhms> gienah: Oh, okay, fair enough. So I guess I can't do it in a distro-agnostic fashion, and will have to compile it locally on every machine. But how would I then install the binary system-wide? Every example I find online seems to use stack build and stack exec, with the resulting binaries ending up in some random user's home directory instead of /usr/local or similar
18:19:56 <abbe> I'm writing a program using happstack, and when I do "ask" in a function whose type is "ServerPartT IO a", it does not work, but when I do "askRq" then it does work, despite the fact that "ServerPartT IO a" is instance of MonadReader, and askRq is defined as "ServerPartT $ ask"
18:20:10 <abbe> program and error: http://pastebin.com/nd1eYvkt
18:21:22 <jle`> abbe: it seems to think that requestHandler is IO a
18:21:27 <jle`> and not ServerPartT IO a
18:21:32 <tipo> hi.
18:21:38 <jle`> abbe: try adding a type signature?
18:21:41 <jle`> tipo: hi tipo
18:21:47 <athan> Welkin: nested-routes just got subsites correct (kinda)
18:22:13 <jle`> abbe: also, MonadReader is not a kind-* type, not sure what it's doing there on line 9
18:22:21 <dmwit> abbe: I am pretty skeptical that you get that error on that file. `ask :: MonadReader` looks very wrong
18:22:22 <abbe> jle`: that was typo on my part.
18:22:38 <abbe> the line 9 thing, it should only read "ask"
18:22:46 <jle`> yeah, i suspected, heh
18:23:05 <dmwit> (and `---` would not start a comment, believe it or not)
18:23:47 <jle`> there isn't anything in requestHandler's body that would specialize it to a specific Monad, so i'm guessing it's inferring that it's IO a from somewhere else.  add the explicit type signature and you'll find out where
18:23:48 <gienah> ljhms: I don't know anything about stack
18:23:50 <abbe> --- seems to work fine with ghci
18:24:16 <dmwit> uh... huh!
18:24:18 <dmwit> That is odd.
18:24:22 <geekosaur> ghci isn't actually haskell and sometimes does not parse things the way you expect
18:24:37 <abbe> I meant when I do: :load foo.hs
18:25:23 <abbe> And, explicitly mentioning type of requestHandler :: ServerPartT IO Responde, didn't help either.
18:25:29 <jle`> what is the error now?
18:25:30 <abbe> s/Responde/Response/
18:25:40 <dmwit> This is either a bug in GHC or in my understanding of the spec. Time to read the spec carefully!
18:25:57 <abbe>     No instance for (MonadReader Request IO)\n      arising from a use of ‘ask’\n    In a stmt of a 'do' block: req <- ask\n
18:26:34 <jle`> oh
18:26:37 <jle`> ah ah i see
18:26:40 <ljhms> gienah: okay, thanks anyway!
18:26:57 <abbe> ServerPartT {unServerPartT :: ReaderT Request (WebT m) a}
18:27:05 <athan> Welkin: You also share one monad stack throughout it
18:27:13 <abbe> jle`: what's it ?
18:27:24 <jle`> oh, huh
18:27:41 <jle`> what's ServerPartT's MonadReader instance?
18:28:06 <jle`> MonadReader Request (ServerPartT m) ?
18:28:31 <dmwit> TIL I don't understand Haskell's lexical comment syntax or why it was chosen.
18:28:41 <abbe> instance [overlap ok] (Monad m, MonadReader r m) => MonadReader r (ServerPartT m)
18:29:08 <jle`> ah, i see
18:29:10 <abbe> output of :i ServerPartT -- http://pastebin.com/Wpuqagvk
18:29:20 <dmwit> abbe: Well, that explains it. =)
18:29:26 <jle`> ServerPartT's MonadReader instance depends on the MonadReader instance of the m
18:29:31 <athan> Welkin: Also, you have a security model that's nested, too - in the same system, with access to the same stack
18:29:35 <athan> we space now
18:29:40 <jle`> but in this case, the m -- IO -- has no MonadReader instance
18:29:58 <Welkin> athan: but I am using yesod
18:30:09 <Welkin> how does nested-routes fit into that
18:31:33 <abbe> okay, and how does this work: http://hackage.haskell.org/package/happstack-server-7.4.5/docs/src/Happstack-Server-Internal-Monads.html#line-230
18:31:46 * geekosaur suspects it was a desire to both allow operators starting with -- and accept a line ------------------ as a comment.
18:31:48 <abbe> since "askRq" is what documentation recommends
18:31:49 <dmwit> abbe: That ask has a different type.
18:32:03 <geekosaur> ebcause -- --------------------- is a trifle weird
18:32:13 <dmwit> (Hence is using a different instance dictionary, hence can have different behavior.)
18:32:43 <dmwit> abbe: In `askRq = ServerPartT ask`, you have `ask :: ReaderT blah blah`, not `ask :: ServerPartT blah blah`.
18:32:56 <dmwit> geekosaur: I see. Makes some sense.
18:32:58 <abbe> oh!
18:33:20 <athan> Welkin: It's wai-compatible!
18:33:40 <athan> so you can turn anything nested-route-y into a WAI app, or likewise embed any WAI app as a subsite :D
18:35:02 <jle`> abbe: `askRq` gets the Request, ignoring the internal m, but `ask` gets the environment from the internal m
18:38:52 <athan> now featuring futuristic percent encoding!
18:38:59 <bitemyapp> athan: hi
18:39:13 <athan> bitemyapp: Hey :) how goes?
18:40:56 <dmwit> Found a cute function in some of my old code: `compare EQ`
18:41:27 <dmwit> kinda like `swap compare`, but for after you've already done the comparison
18:41:35 <dmwit> I mean `flip compare`, of course.
18:43:19 <pavonia> :t compare EQ
18:43:20 <lambdabot> Ordering -> Ordering
18:44:20 <lethjakman-l> Does anyone know of a good article on the differences between Text, String, and ByteString?
18:44:56 <athan> pavonia: Anything less than EQ is LT, anything greater than EQ is GT
18:45:04 <athan> I dun get it :(
18:45:14 <athan> why did you use it dmwit?
18:46:07 <abbe> thanks jle` and dmwit for the explanations/time. I get it now.
18:46:20 <pavonia> Yeah, I also don't see how this is like "flip compare"
18:46:45 <athan> meta-derp
18:47:15 * geekosaur sees it
18:47:23 <pavonia> > compare EQ $ compare 123 456
18:47:26 <lambdabot>  GT
18:47:42 <geekosaur> if you swap the parameters to compare then it compares "in reverse" (e.g. LT becomes GT)
18:48:14 <geekosaur> applying (compare EQ) to the result of compare likewise inverts: compare EQ LT is GT
18:48:42 <athan> @qc \x y -> compare EQ (compare x y) == compare x y
18:48:43 <lambdabot> Not enough privileges
18:48:49 <athan> @check \x y -> compare EQ (compare x y) == compare x y
18:48:51 <lambdabot>  +++ OK, passed 100 tests.
18:48:53 <athan> :)
18:49:03 * Iceland_jack glances nervously
18:50:21 <pavonia> @check \x y -> compare EQ (compare x y) == compare y (x :: Int)
18:50:23 <lambdabot>  +++ OK, passed 100 tests.
18:50:24 <athan> lambdabot: But... I'm white and male...
19:55:44 * hackagebot pandoc-citeproc 0.8.1.2 - Supports using pandoc with citeproc  https://hackage.haskell.org/package/pandoc-citeproc-0.8.1.2 (JohnMacFarlane)
19:58:41 <lvella> How to define a data type that has an Int and a HashMap? I tried: data Assets = Assets Int HashMap
19:58:54 <haskellnoob> Cale: I found the issue: it was the client. Nothing wrong with the server code.
19:59:05 <Cale> haskellnoob: ah, cool
19:59:10 <lvella> but the compiler says "Expecting two more arguments to HashMap"
19:59:10 <haskellnoob> Cale: thank you for your help in debugging the issue.
20:03:54 <geekosaur> lvella, there is no such thing as "a HashMap". there is such a thing as a "Hashmap x y" for two types x and y.
20:04:01 <geekosaur> er HashMap x y
20:05:19 <geekosaur> perhaps (HashMap k v) will make more sense to you: a hashed map with keys of type k and values of type v
20:06:22 <lvella> ok, thanks
20:06:28 <KaneTW> lvella: HashMap :: * -> * -> *, but types in a constructor need to have kind *. So ou need to do something like data Assets k v = Assets Int (HashMap k v)
20:15:45 * hackagebot opengl-dlp-stereo 0.1.4.1 - Library and example for using DLP stereo in OpenGL  https://hackage.haskell.org/package/opengl-dlp-stereo-0.1.4.1 (BrianBush)
20:20:45 * hackagebot opengl-spacenavigator 0.1.4.2 - Library and example for using a SpaceNavigator-compatible 3-D mouse with OpenGL  https://hackage.haskell.org/package/opengl-spacenavigator-0.1.4.2 (BrianBush)
20:38:07 <dramforever> So I asked about structured-haskell mode yesterday, but nobody seemed to have noticed it. Here's the question again: is there a quick guide/cheet sheet on using SHM?
20:38:32 <dramforever> It doesn't really seem intuitive to me, and the README doesn't seem to help
20:48:02 <nchambers> how good is haskell support in vim?
20:48:20 <jle`> i use vim for all my haskell stuff, if that counts for anything
20:49:23 <nchambers> sweet
20:49:35 <athan> nchambers: check out haskell-vim-now :)
20:50:45 * hackagebot pandoc-citeproc 0.8.1.3 - Supports using pandoc with citeproc  https://hackage.haskell.org/package/pandoc-citeproc-0.8.1.3 (JohnMacFarlane)
20:53:57 <nchambers> athan: what is it?
20:58:17 <thimoteus> https://github.com/begriffs/haskell-vim-now
21:10:46 * hackagebot aivika 4.3.1 - A multi-paradigm simulation library  https://hackage.haskell.org/package/aivika-4.3.1 (DavidSorokin)
21:23:07 <hackrilege_> http://lpaste.net/145282 why cant i use functions in the class definition like this?
21:23:51 <athan> hackrilege_: Wait which one?
21:24:01 <hackrilege_> Zebedde
21:24:49 <athan> hackrilege_: Can I see the error?
21:25:04 <hackrilege_> The function zebedde uses methods from its class, but these dont use all the type parmemeters so they can maintain the correct instance
21:25:23 <athan> wait your instance is no different from your class declaration
21:25:51 <hackrilege_> The error is brutal, i can't copy from my ghci output...
21:26:15 <athan> you must :)
21:26:40 <hackrilege_> I really can't!
21:26:40 <athan> hackrilege_: Why not make the `grow` and `alter` definitions in the instance just defaults?
21:26:43 <athan> :|
21:26:49 <athan> I can't help then :\
21:27:07 <hackrilege_> Ill try and paraphrase the error
21:27:23 <athan> :||
21:27:45 <athan> hackrilege_: Just > the error to a file
21:27:51 <athan> then send it here somehow
21:27:58 <hackrilege_> It's the only time iv ever seen the words (matching givens)
21:28:10 <athan> s_s
21:28:12 <athan> Can't see it
21:28:57 <hackrilege_> I'm on windows i can't >
21:29:09 <athan> hackrilege_: Well there's your first problem
21:29:13 <athan> :v
21:29:26 <athan> seriously I need the error :\
21:30:30 <hackrilege_> Overlapping  instance for Zebedde f a b2 arising from use of grow
21:30:32 <lispy> hackrilege_: you can copy and paste with cmd.exe. It's in the menu top left
21:30:45 <lispy> hackrilege_: first you select mark, then use the mouse to mark the region
21:30:49 <athan> hackrilege_: Oh that makes sense
21:30:56 <lispy> hackrilege_: then you go into the menu again and say copy
21:31:17 <athan> hackrilege_: You've got some borked logic going on
21:31:26 <hackrilege_> No sir
21:31:37 <athan> imo, classes should be one-directional
21:31:37 <hackrilege_> Just bad routing of types
21:31:40 <athan> for solvability
21:32:08 <hackrilege_> No, Haskell forces me to brute force derived classes overriding superclass constructors
21:32:29 <hackrilege_> It works well up to now
21:32:44 <athan> you must have another instance for Zedebbe somewhere
21:32:57 <hackrilege_> I have many instances of indexed
21:33:22 <hackrilege_> I can make Zebedde instances for ask of them instantly like this
21:33:32 <hackrilege_> All, not ask
21:34:19 <athan> hackrilege_: Your instance for Zebedde is literally the same as the class definition
21:34:33 <athan> that would be like saying `instance Functor f where...`
21:34:37 <athan> idk
21:35:05 <athan> why not put your definition for `grow` inside the class definition?
21:36:16 <hackrilege_> You can't
21:36:22 <hackrilege_> It goes crazy
21:36:34 <hackrilege_> Iv proposed a language extension
21:37:41 <hackrilege_> It was declined for some reason i don't understand
21:37:58 <jle`> it's fundamentally impossible
21:38:03 <hackrilege_> So anyway, the instance decoration is beach for ghc
21:38:05 <jle`> i think we talked about this earlier?
21:38:24 <hackrilege_> Yeh, but I'm fine with writing instances
21:38:25 <jle`> it's impossible to get behavior like this that behaves sanely or in a meaningful or useful way
21:40:22 <hackrilege_> Like how we always have to instantiate functor for all applicative instances we write, even though all applicatives are functors. We would like to write the functor instance in the applicative class decoration, but are not allowed for reasons of pervasive sanity..
21:40:43 <hackrilege_> Declaration
21:42:00 <hackrilege_> Here Zebedde is a method of growing all things modifiable, as all things indexed are.
21:42:10 <jle`> you could also write an `fmap` using only Monad, or Traversable methods...and a whole bunch of other typeclasses too
21:42:21 <jle`> if there are many defaults possible, how would ghc magically know which one to pick?
21:42:34 <hackrilege_> But anyway, how do i catch these dropped types?
21:43:47 <hackrilege_> jle' right, so we are required to give an instance declaration to indicate this choice, that's fine
21:44:11 <jle`> hm, what's your full error?
21:44:15 <hackrilege_> I understand now, thanks
21:44:40 <hackrilege_> jle' i can't put it up, can you compile it?
21:44:59 <jle`> don't have it available atm :(
21:45:07 <jle`> you can't paste the compile error?
21:46:02 <hackrilege_> Basically ask the methods of Zebedde which do not use all of the type parameters of modifiable, drop the restraint on these types and ghc can't create the modifiable instance without type ambiguity
21:46:06 <hackrilege_> All
21:47:03 <hackrilege_> Overlapping instances for Zebedde f0 a b3
21:47:18 <hackrilege_> From use of bath
21:47:36 <jle`> one line causes that?
21:47:39 <jle`> *what
21:47:50 <glguy> Most of the lines of that class are going to cause errors
21:47:55 <hackrilege_> Method zebedde
21:48:53 <hackrilege_> Yes, that's why there is a b4, many of the methods do not preserve the Modifiable constraint
21:51:32 <glguy> You seem to be trying too hard to structure things as typeclasses
21:51:48 <hackrilege_> The inclusion of fst eliminates one error of this type. If fst was put in grow, and its type not contain b, then we would have a similar error
21:52:26 <hackrilege_> But i can't seem to do such refactoring in the class header
21:52:58 <glguy> You'd probably get further structuring whatever this does as a datatype instead of a class
21:53:44 <hackrilege_> If i resolve the type before e.g. losing a type with application of fst to a tuple of types, then everything is OK
21:54:31 <hackrilege_> glguy, like i say, it has been working great up to now, and no i don't think i can do it with datatypes
21:54:44 <hackrilege_> All this routing is being done with instances
21:56:23 <jle`> er
21:56:28 <jle`> everything you do with typeclasses can be done with data types
21:56:43 <hackrilege_> It looks almost as though I'm being forced to include ghost types, of things I'm not using, to preserve types...
21:56:47 <Welkin> everything you can do I can do better
21:57:00 <glguy> no you can
21:57:01 <glguy> t
21:57:03 <hackrilege_> You can't instantiate a datatype
21:57:03 <jle`> in fact, doing things with normal data types is almost always simpler than doing it with typeclasses
21:57:21 <hackrilege_> Ok cool I'm not doing that thanks
21:57:25 <Welkin> lol
21:57:53 <glguy> OK, take care
21:58:18 <jle`> typeclasses is usually the most unnecessarily complex way to approach anything in haskell
21:58:23 <Welkin> I have only written my own type classes as a learning exercise
21:58:32 <jle`> 99% of typeclass usage will make your programs unnecessarily complex
21:58:39 <Welkin> I can't remember ever writing one for a real project
21:58:39 <jle`> when there's a simple and clean alternative
21:59:22 <jle`> 99% of the time, typeclasses are a bad idea 100% of the time :)
21:59:23 <Welkin> jle`: yesod uses typeclasses instead of data structures
21:59:30 <Welkin> I suppose it makes sense
21:59:31 <hackrilege_> No really, I'm trying to do something one way, i don't think i can do it another way, your way, and you don't like it because what, it's not easier for you? It's more difficult for me to rationalise on datatypes when I'm using classes heavily
21:59:34 <Welkin> the explanation anyway
22:00:01 <jle`> hackrilege_: it might be that you've built yourself a castle on sand
22:00:02 <Welkin> but yes, you can do it without any typeclasses
22:00:08 <jle`> out of very thin and fragile pieces
22:00:20 <jle`> it works well for the precarious situation you have set up
22:00:26 <Welkin> hackrilege_: why the obsession with type classes anyway?
22:00:32 <jle`> but any extra things and everything is going to implode
22:00:35 <Welkin> a typeclass is basically a dictionary
22:00:39 <hackrilege_> It can be made to work
22:00:48 <jle`> it can be made to work, but at what cost?
22:00:52 <jle`> you can write assembly for everything
22:01:23 <jle`> if you restructure at a fundamental level using normal data types, your program will likely be much cleaner, much more easy to use and write and understand
22:01:23 <hackrilege_> I'm actually doing it in the most intuative way for me
22:01:25 <jle`> it's the Haskll Way
22:01:43 <jle`> a lot of people begin using haskell with the intuition they bring in from other languages
22:01:43 <hackrilege_> I contest that
22:01:50 <Welkin> hackrilege_: do you come from an OOP background then?
22:01:56 <jle`> but in the end, it's their intuition that hurts them the most
22:02:24 <jle`> that's the hardest thing about learning haskell -- learning that your intuition from your programming brackground hinders your programming and makes you find complex solutions to simple problems
22:02:35 <Welkin> I started haskell with "intuition" only from assembly and C
22:02:35 <Welkin> lol
22:02:36 <hackrilege_> I was taught Haskell by phil wadeler and have been using it heavily my whole life
22:02:57 <hackrilege_> I have pure Haskell in my blood
22:03:08 <Welkin> what does that mean
22:03:08 <hackrilege_> This is not relevant
22:03:21 <jle`> my point is that the intuition you bring into a problem might hurt you more than help you
22:03:23 <hackrilege_> Welkin, I'm being trolled
22:03:39 <Welkin> hackrilege_: eh?
22:03:44 <Welkin> jle` is not a troll
22:03:51 <glguy> No, it's not trolling. People are actually bothering to help you
22:04:07 <hackrilege_> I have limited bandwidth
22:04:14 <Welkin> gabriel wrote a good essay on this topic
22:04:16 <jle`> i've worked through a bunch of problems with typeclasses myself, and i've worked through a lot of people who have struggled with typeclass-based solutions
22:04:20 <hackrilege_> It's a side discussion
22:04:46 <jle`> and in every case, approaching the problem with a different approach that doesn't involve typeclasses makes all of the "issues" go away instantly
22:04:51 <Welkin> http://www.haskellforall.com/2012/05/scrap-your-type-classes.html
22:05:05 <hackrilege_> The philosophy of my bug is interesting, I'll talk about classes in Haskell later i promise, they are very powerful
22:05:42 <jle`> haskell is about limiting power
22:05:45 <jle`> not adding it
22:06:16 <Welkin> and telling the compiler to stfu and make a decision using ~
22:06:24 <nitrix> Welkin: Doesn't that defeat the purpose of the system?
22:06:29 <nitrix> type*
22:06:32 <Welkin> nitrix: what system?
22:06:37 <hackrilege_> I don't have time now, to as you say, scrap my type classes, and it certainly isn't the way to make this bug fixed, as it is trying to use type classes in a particular way
22:06:40 <Welkin> nitrix: no
22:06:56 <Welkin> nitrix: sometimes the compiler can't decide on a type when it is totally obvious what it should be
22:07:05 <Welkin> nitrix: it acts too safely
22:07:41 <nitrix> I mean, I'm not an expert, but clearly, using records instead of typeclasses has to be more limitating...
22:07:52 <Welkin> nitrix: oh, you mean that
22:07:59 <Welkin> nope
22:08:03 <Welkin> it's the same thing
22:08:13 <Welkin> a type class is a dictionary
22:08:21 <thimoteus> why clearly?
22:08:56 <hackrilege_> I wonder why anyone bothered to make Num
22:09:02 <nitrix> What about things like higher ranked types?
22:09:23 <nitrix> Or overloaded strings.
22:09:29 <nitrix> Welkin: Is that still all possible?
22:10:05 <jle`> there are situations where typeclasses are worth the complexity they introduce.  and there are situations where they aren't.  it just so happens that the latter is much more common
22:10:15 <Welkin> sure, you just pass around the dictionary that contains all of your methods
22:10:22 <hackrilege_> Yes actually, how do i provide overriding superclass constructors using datatypes? I can do it with classes
22:10:47 <Welkin> override superclass constructors?
22:10:55 <hackrilege_> And that's specifically why I'm using classes
22:11:19 <hackrilege_> Methods sorry, not constructors, which are just methods
22:11:26 <lvella> hi, I am trying to load my code in ghci, but the only error I get is: predictor.hs:30:33: Parse error in pattern: calcDist
22:11:43 <lvella> and I can't find what is wrong with calcDist
22:11:48 <Welkin> read gabriel's essay: http://www.haskellforall.com/2012/05/scrap-your-type-classes.html
22:11:51 <glguy> ?paste
22:11:52 <lambdabot> Haskell pastebin: http://lpaste.net/
22:12:03 <glguy> lvella: You can paste your code and the error message there
22:12:04 <hackrilege_> I promise i will Welkin
22:12:17 <nshepperd> typeclasses are just syntactic sugar around method dictionary objects
22:13:06 <nitrix> May I ask why we have typeclasses instead then?
22:13:09 <hackrilege_> Any clue how i can brute force my error into working?
22:13:38 <nitrix> My understanding is that, if Haskell does something one way, it's that many people already looking into it and deemed it was the best compromise.
22:13:45 <nshepperd> well, typeclasses guarantee interface coherence
22:13:46 <hackrilege_> http://lpaste.net/145282
22:14:08 <nitrix> What are the pros and cons of typeclasses vs the value approach?
22:14:12 <nshepperd> and the automatic plumbing of instances saves a lot of verbosity
22:14:23 <Hijiri> nitrix: with typeclasses you get a canonical set of methods for a type
22:14:33 <hackrilege_> Yes, my choice was originally for education to use oop intuition
22:14:42 <Hijiri> so e.g. you don't insert into a Map with one comparison function then try to retrieve a value with another
22:14:53 <lvella> http://lpaste.net/3066361419596300288
22:15:08 <Hijiri> there's also less overhead when writing your code, since you don't have to manually pass the dictionaries everywhere
22:15:22 <glguy> lvella: You need calcDist (e:es)
22:15:44 <nshepperd> hackrilege_: all the typeclass methods should include all of the class parameters somewhere in their type signature
22:15:55 <jle`> the problem with typeclasses is that it inherently relies on compiler magic
22:15:59 <jle`> and that they are global
22:16:21 <hackrilege_> That's what i was saying about ghost types, these methods do not use these types
22:16:24 <jle`> data types are first-class in haskell, and haskell is great at handling first-class values, functions, etc.
22:16:27 <Welkin> the "magic" can certainly be nice
22:16:34 <Welkin> but when it goes wrong, it goes very wrong
22:16:35 <nshepperd> hackrilege_: you can brute force this by taking Proxy objects. 'empty :: Proxy b -> f a'
22:16:45 <lvella> glguy, thanks
22:17:06 <jle`> nshepperd: or empty :: p a -> f a', to be fancy and trendy :3
22:17:09 <nitrix> I have another question why is my original reason here: how does original complete definitions work when it's something like `a , (b | c)`
22:17:12 <hackrilege_> It's proxy object like my idea of ghost type?
22:17:38 <nitrix> How does the things using values of that type knows if it has a `b` or `c` implementation?
22:18:10 <jle`> hackrilege_: it looks like it is; it tells the compiler what instance you want to get the empty of.  kind of like how Typeable works
22:18:10 <nshepperd> hackrilege_: but doing such a thing indicates a code smell. if you really don't need to know b to implement 'empty :: f a' it shouldn't be in a class for three way relations between f, a and b
22:18:20 <nitrix> I'm looking for a concrete example.
22:18:26 <nitrix> One sec.
22:18:54 <Welkin> oh I have run into that too
22:19:22 <Welkin> needing to pass in an unused value to get a method from the typelcass even though it has nothing to do with the value nd just ignores it anyway
22:19:32 <Welkin> but has to be there to work with the typeclass
22:19:51 <hackrilege_> b is an index type, i don't see why you would need it for empty! Anyway empty will return an object of the correct type
22:20:46 <jle`> hackrilege_: if the compiler sees "empty :: f a", how would it know what Zebedde instance to use?  would it use Zebbede f a Int?  or Zebbede f a Bool ?
22:21:23 <jle`> re-writing it to be "empty :: p b -> f a" would give the compiler clues
22:21:44 <jle`> you could do "empty (Nothing :: Maybe Int) :: f a", and it'd know that you want the Zebbede f a Int instance
22:21:47 <hackrilege_> Yeh, i have to resolve the type that is returned to decide which instance to use
22:22:04 <hackrilege_> I specify with my methods type decorations
22:22:06 <jle`> the problem with `empty` is that the type that is returned isn't enough to decide what instance to use
22:22:07 <lvella> now I am flooded with Ambiguous occurrence !
22:22:20 <jle`> the type that is returned/expected from empty only gives you `f` and `a`, but not `b`
22:23:05 <jle`> giving a proxy type by making it "empty :: p b -> f b" would allow the compiler to decide unambiguously
22:23:09 <jle`> but it's definitely a code smell
22:23:25 <jle`> building a more and more elaborate house out of glass toothpicks
22:23:30 <glguy> lvella: Both the modules you've imported define the (!) operator
22:23:35 <hackrilege_> Right, if it was a graph of tuples indexed by ints, bath returns a tuple
22:24:00 <lvella> yes
22:24:08 <glguy> lvella: You can either hide one of them if you're only using one of them, or use them qualified if you're using both
22:24:10 <Welkin> lvella: import qualified 
22:24:32 <Welkin> lvella: it is common to import Map, Set, Vector, etc as qualified
22:24:41 <lvella> and I guess Haskell can't infer which to use by the type
22:24:51 <fayong> is there a way to build a Data.Vector.Storable Vector from a list?
22:24:56 <AndroUser> Sorry dropped connection
22:25:06 <AndroUser> Oh it's hackrilege
22:25:07 <Welkin> fayong: of course fromList
22:26:02 <AndroUser> Can you tell me a little boy more about proxy types?
22:26:09 <AndroUser> Bit
22:26:11 <Welkin> a little boy?
22:26:12 <Welkin> hahaha
22:26:16 <Welkin> freudian slip
22:26:19 <Welkin> boys on the brain
22:26:21 <AndroUser> !?!?
22:26:28 <AndroUser> Lol wtf
22:26:35 <exio4> AndroUser: are you familiar with the concept of "phantom types"?
22:26:53 <songzh_> what do you wanna know about phantom types?
22:26:59 <AndroUser> I think i have just motivated then yes
22:27:27 <fayong> Welkin: ok great
22:27:42 <AndroUser> Them. Iv just encountered them
22:27:50 <songzh_> for me it is just a type placer holder
22:28:14 <exio4> AndroUser: well, you could say proxy types are used as a way to pass types to a function or so
22:28:24 <AndroUser> Yeh
22:28:28 <exio4> AndroUser: the typical example, using Proxy, makes uses of phantom types 
22:28:32 <songzh_> data Exp = V Int | B Bool | Equal Exp Exp
22:28:41 <exio4> data Proxy a = Proxy ; "Proxy :: Proxy Int"
22:28:42 <songzh_> if you define a type above
22:28:55 <Welkin> creepin ike a phantom
22:28:59 <Welkin> like
22:29:02 <songzh_> Equal (V 5) (B True) would be a problem
22:29:24 <AndroUser> ike on the brain hey?
22:29:26 <exio4> you don't need GADTs to enjoy phantom types, though
22:29:37 <songzh_> you can use phantom solves this.
22:29:42 <Welkin> you can enjoy them from the comfort of your own home!
22:30:16 <exio4> you can use them as a nice way to build abstractions, hide constructors, there's a nice example of "Read/Write" references, which you can downgrade and what not
22:30:20 <songzh_> data Exp a = V Int | B Bool | Equal (Exp a) (Exp a)
22:30:26 <songzh_> something like this I think..
22:30:48 <Welkin> kind of like functional dependencies in that example
22:31:55 <AndroUser> It's annoying because the b it forgets about is in scope
22:32:00 <exio4> data RefK = RW | R ; data Ref (k :: RefK) a = Ref (IORef a) ; newRef :: a -> IO (Ref RW a) ; down :: Ref RW a -> Ref R a ; readRef :: Ref x a -> IO a ; writeRef :: Ref RW a -> a -> IO () -- or something like this
22:32:14 <exio4> (unrelated to your problem AndroUser, in case you wonder :p)
22:32:47 <songzh_> I want to get the kind signature of type of data A f a = A (f a), I tried th-kinds package, but it is too old. Anyone has some experiences?
22:33:07 <exio4> songzh_: :k does the trick in ghci
22:33:33 <songzh_> I want to use it in template Haskell
22:33:43 <Welkin> Temple Haskell :D
22:33:45 <exio4> oh, I don't know then :( 
22:34:42 <songzh_> I suppose that I need to request many APIs in TH.
22:35:29 <nshepperd> AndroUser: what if there were two 'b's in scope?
22:35:41 <nshepperd> it would need someway to decide which one to use
22:36:58 <AndroUser> But there are not, the whole point is it's returning a modifiable object, it's in the class header!!
22:37:21 <lvella> how to write this without using lambda? (\x -> not $ visited A.! x)
22:38:10 <jle`> @pl \x -> not (visited A.! x)
22:38:10 <lambdabot> not . (visited A.!)
22:38:22 <lvella> my attempt was (not $ (A.!) visited)
22:38:24 <AndroUser> I'm saying I'm fine to specify the type, it looks like i can with proxy types, it's a Shame i can't with method type declarations or some other traditional syntax
22:38:26 <lvella> well, ok
22:39:12 <jle`> because typeclasses are magic :|
22:39:35 <nshepperd> being able to call the method without specifying the type is just a recipe for incoherence
22:40:02 <AndroUser> As a simple example let's consider bath, if we make an indexed datatype, say a graph, of say, doubles, then bath could for example return a random double
22:40:11 <bitemyapp> jle`: friendships is magic, typeclasses are that super-efficient plumber that saved your apartment from water damage.
22:40:15 <bitemyapp> friendship is*
22:40:24 <bitemyapp> but they're also magic.
22:40:43 <jle`> saved your apartment from water damage but also potentially set it on fire
22:40:48 <jle`> who knows!
22:40:51 <jle`> that's the beauty of magic :)
22:40:59 <bitemyapp> but it can only be one or the other
22:41:23 <nshepperd> class Foo a b where { foo :: a -> a }; instance Foo Int Int where { foo = (*2) }; instance Foo Int Char where { foo = (+2) }
22:41:44 <nshepperd> if I call 'foo (7::Int)' what do you expect to happen?
22:43:37 <AndroUser> Yes, i must resolve the types, in OK with that
22:44:06 <AndroUser> I will use proxy types
22:44:22 <Welkin> Ergo Proxy has Monad
22:44:41 <AndroUser> Sorry?
22:44:55 <bitemyapp> Welkin: it's not ergonomic at all
22:45:49 <AndroUser> Because of this use it has a Monad instance?
22:46:16 <nshepperd> Welkin: yes, that's what I laughed when I saw 'instance Monad Proxy' in the hackage docs
22:46:23 <nshepperd> *why
22:46:49 <AndroUser> It's funny?
22:47:03 <Welkin> AndroUser: it is an anime series
22:47:11 <nshepperd> yes, it's a joke, Ergo Proxy is an anime with a character called Monad
22:47:16 <AndroUser> Aha!
22:48:03 <AndroUser> I thought you were laughing because it was a pitiful instance, of bad Haskell
22:48:23 <lvella> it probably took me less lines o write dijkstra's algorithm than it would take if I had done in C, but it took me 10x more time, squeezing every bit of juice from my brain
22:48:30 <nshepperd> AndroUser: I don't think the typeclass system is suited to what you are doing here
22:48:45 <lvella> I am going to sleep, good night (or whatever it is where you are)
22:48:50 <AndroUser> I'm interested as to how datatypes could do this
22:49:12 <AndroUser> Ciao
22:49:38 <lethjakman-l> I'm trying to use <> to mappend some text, but I don't seem to have it. Where can I grab that from? 
22:51:01 <nshepperd> data Zebedde f a b = Zebbede { empty :: f a,  bath :: a,   grow :: a -> f a -> (f a, b),  ..., stoppingCondition :: f a -> Bool }
22:51:02 <edward> you know that https://www.haskell.org/ isn't working, right?
22:51:25 <nshepperd> and then you may write zebedde :: Zebedde f a b -> f a
22:51:58 <nshepperd> an object of type 'Zebedde f a b' serves as a 'configuration', for the simulation to be run
22:52:03 <AndroUser> And then how does that make instances of Zebedee foot all things indexed?
22:52:10 <AndroUser> For
22:52:38 <AndroUser> It totally Fails to, and that was all it was doing
22:53:02 <nshepperd> AndroUser: derived :: (Modifable f a b) => Zebedde f a b
22:53:46 <AndroUser> I'd that a keyword?
22:53:50 <AndroUser> Is
22:54:11 <AndroUser> derived
22:54:29 <nshepperd> no
22:54:33 <AndroUser> or is that a function you are defining?
22:54:38 <nshepperd> no just a definition
22:54:41 <AndroUser> ok
22:54:53 <nshepperd> derived = Zebbedde { grow = \a f -> insert (a,f), ... }
22:55:14 <AndroUser> :t derived
22:55:15 <lambdabot> Not in scope: ‘derived’
22:55:19 <AndroUser> oops!
22:56:02 <Welkin> lethjakman-l: Data.Monoid
22:57:16 <AndroUser> data Modifiable f a b => Zebedde f a b = { methods }
22:57:48 <nshepperd> no, don't bother putting the restriction in the data type, that's pointless
22:58:32 <AndroUser> hmm, ok
22:59:08 <AndroUser> how do i override those methods!?
22:59:29 <AndroUser> i make a new object
22:59:33 <AndroUser> interesting
23:00:18 <nshepperd> yes, you can override things actually quite easily, this way
23:00:27 <AndroUser> aha, i have a default method, zebedde, whoes implementation is to be exported by the class definition.
23:00:34 <jle`> yes, normal data is very flexible and easy to work with very naturally :)
23:00:43 <jle`> without relying on compiler magic
23:01:03 <lethjakman-l> Welkin: Awesome! Thank you
23:01:46 <nshepperd> eg. if you want to change the stoppingCondition 'custom = derived { stoppingCondition = ... }'
23:03:08 <AndroUser> the only difference seems to be again, that i cant provide a default. here i cannot export zebedde, who was exported by the class definition, written in terms of abstract methods which would be overridden by the various instances of zebedde, such as the automatically derived instance for all indexed things
23:04:31 <AndroUser> if a graph and a list are both instances of indexed, they will be modifiable and so will have a zebedde instance
23:05:18 <AndroUser> all i should need to do as a user is write various Indexed instances
23:05:35 <AndroUser> can you really do this with datatypes?
23:06:26 <nshepperd> AndroUser: the natural way is just to export that as a function. 'runZebedde :: Zebedde f a b -> f a; runZebedde Zebedde{..} = last $ takeWhile stoppingCondition $ iterate (minimise.fst.(grow bath)) empty'
23:07:25 <latermuse> haskell.org SSL cert expired. Please renew it asap
23:07:35 <nshepperd> edward: the certificate expired >_>
23:07:50 <latermuse> `The certificate expired on 11/15/15, 3:28 PM. The current time is 11/15/15, 4:11 PM.`
23:08:15 <edward> nshepperd: so it would appear
23:08:24 <nshepperd> (that nice Zebedde{..} syntax requires XRecordWildCards)
23:09:27 <nshepperd> lol, i can't even the dismiss the warning page. thanks firefox
23:14:46 <AndroUser> im not seeing how it gets from an instance of indexed having a runZebedde method available to it, it takes type Zebedde, i have an instance Modifiable f a b=> Zebedde f a b. this default is called when any indexed thing is used by a method of the Zebedde class
23:19:38 <lethjakman-l> Is there a good way to print each element in an array that looks like [Text]
23:19:47 <lethjakman-l> I tried map print my_array
23:19:54 <lethjakman-l> But it throws a type error
23:20:08 <sgronblo> hayoo is gonna get so much traffic today
23:20:12 <lethjakman-l> I also tried mapM_ putStrLn 
23:20:23 <lethjakman-l> It expects [Char]
23:20:31 <nshepperd> AndroUser: if I understand what you're asking, you do that with 'runZebedde derived', if you want to use the default instance
23:21:16 <lethjakman-l> Oh...derp. it's mapM with print. 
23:21:21 <nshepperd> well, runZebedde (derived :: Zebedde Foo Bar Baz) since obviously you need to specify which types are to use
23:22:52 <AndroUser> and that will work with both graphs and lists, if they are both modifiable?
23:23:17 <nshepperd> yes
23:23:40 <AndroUser> interesting. ill grab a coffee and some sugar and see if i can implement it
23:24:15 <nshepperd> well, it will crash of course if you haven't defined 'bath', which is presumably an essential parameter of the simulation
23:24:36 <nshepperd> and I assume you want to implement the other methods too at some point
23:25:45 <davide> Hi -- I'm trying to build KiCS on Fedora but I get the following error
23:25:48 <davide> <command line>: cannot satisfy -package parallel-tree-search
23:26:03 <davide> $ cabal install parallel-tree-search
23:26:03 <davide> Resolving dependencies...
23:26:03 <davide> All the requested packages are already installed:
23:26:03 <davide> parallel-tree-search-0.4.1
23:26:04 <nshepperd> AndroUser: if you're interested in how the general idea works, it's called the dictionary transformation
23:26:13 <davide> is there anything I'm missing?
23:26:35 <AndroUser> awesome times
23:28:02 <AndroUser> in ghci try :m the relavent module davide
23:28:46 <davide> AndroUser: 
23:28:47 <davide> Prelude> :m Control.Parallel.TreeSearch
23:28:47 <davide> Prelude Control.Parallel.TreeSearch> 
23:28:52 <davide> weird.
23:30:19 <AndroUser> i dont know what would be generating that in the build sorry..
23:30:39 <lethjakman-l> davide: Could it be a different version of haskell...?
23:30:42 <davide> too bad there are no curry packages already shipped with fedora
23:31:23 <davide> lethjakman-l: I don't think so
23:33:49 <lethjakman-l> No clue then. 
23:34:02 <lethjakman-l> Unless your pathing is messed up somehow. 
23:36:55 <latermuse> The certificate expired on 11/15/15, 3:28 PM. The current time is 11/15/15, 4:11 PM.
23:37:33 <bitemyapp> lattenwald: they're on it.
23:37:43 <bitemyapp> er
23:37:47 <bitemyapp> they left. okay.
23:40:15 <lethjakman-l> Anyone know of any tricks to speed up aeson for large files?
23:40:36 <lethjakman-l> It's taking like 17 seconds to parse a 180mb file. 
23:41:12 <nchambers> https://www.haskell.org/cabal/users-guide/developing-packages.html is anyone able to connect to this site?
23:43:58 <glguy_> The certificate expired today. New one is on its way
23:44:14 <glguy_> But it's still up
23:44:24 <nchambers> ok... just wanted to make sure it wasn't a cache issue on my end
23:44:47 <codygman> I have the following monad transformer stack "ReaderT (M.Map String String) (ExceptT SomeException IO)". How can I catch exceptions such as those from readFile within it?
23:45:07 <codygman> I found the enclosed-exception package and think it might be the answer
23:46:20 <glguy_> Codygman: easiest way is to wrap readFile in a try before you liftIO
23:52:44 <mniip> well played
23:52:48 <mniip> haskell.org is hsts'd
23:53:33 <davide> lethjakman-l: yes, for some reason it doesn't look up in the right path
23:53:39 <davide> is there a way to override?
23:53:47 <davide> sorry if I ask the obvious
23:54:54 <codygman> glguy_: Thanks
