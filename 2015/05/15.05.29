00:06:05 <mniip> edwardk, I can't seem to reify my value correctly
00:07:38 * hackagebot either 4.4 - An either monad transformer  http://hackage.haskell.org/package/either-4.4 (EdwardKmett)
00:07:39 * hackagebot terminal-size 0.3.2 - Get terminal window height and width  http://hackage.haskell.org/package/terminal-size-0.3.2 (MatveyAksenov)
00:11:18 <mniip> ah I see the source of my issues
00:11:36 <mniip> the tag isn't supposed to escape the 'reifies' call
00:11:53 <mniip> which is cardinally different from type inference with explicit type signatures
00:16:23 <pavonia> mjrosenb: Sorry, I don't know of a way without explicitly encoding variables as part of the data structure
00:16:29 <Sprog> What does the ScopedTypeVariables pragma do?
00:17:14 <pavonia> Sprog: It allows type variables to refer to variables of the same name that are already in scope
00:17:41 <Sprog> interesting. Why is it necessary?
00:18:29 <LambdaCat> reduce of the amount type variables ?
00:19:33 <pavonia> Sprog: It usually isn't but there are some situations where it's more convenient than using asTypeOf or some of these constructs
00:20:53 <Putis> Hello; is it right place to ask cabal related questions?
00:21:11 <pavonia> I think so
00:21:23 <Sprog> pavnoia, I see thank you
00:21:27 <Sprog> pavonia, I see thank you
00:21:54 <lpaste> putis pasted “text broken” at http://lpaste.net/133547
00:22:34 * hackagebot HaPy 0.1.1.1 - Haskell bindings for Python  http://hackage.haskell.org/package/HaPy-0.1.1.1 (DavidFisher)
00:23:05 <Putis> i pasted output from my console when I'm trying to build my project; I t shows on the second compilation try; 
00:23:17 <LambdaCat> take 5 [1..]
00:24:12 <Putis> have you ever met with such problem? Do you have an idea how to get rid of it?
00:25:00 <pavonia> Putis: Have you added the Aeson package dependency to a sandbox that already had text installed?
00:33:06 <Putis> pavonia: Yes, Aeson is in an dependency of module which my project depends on (I hope that sentence is clear)
00:34:39 <pavonia> Putis: I'm not familiar with sandboxes but I think you should rebuild all packages whenever you add a new dependency
00:37:00 <pavonia> Putis: By rebuilding I mean removing the installed packages an letting cabal find a new set of versions that work together
00:39:22 <Putis> pavonia: I tried with building fresh, just cloned repository also. What is more, cleaning "cabal" and "ghc" directories haven't helped too
00:40:23 <Putis> pavonia: "cabal" and "ghc" direcotories located in HOME direcotry*
00:40:36 <pavonia> Maybe your dependencies are too strict then
00:41:10 <pavonia> Putis: Could you paste your .cabal file?
00:47:26 <lpaste> putis pasted “text broken .cabal” at http://lpaste.net/133548
00:50:13 <Putis> pavonia: here is it http://lpaste.net/133548 . I have hidden some unnecesary lines
00:54:58 <pavonia> Putis: I fear I'm not able to help you with this, sorry
00:55:33 <Putis> pavonia: thak you for your time then
01:02:04 <erikd> pavonia: if you have added something to the cabal files since you first created the sandbox, you may need to delete and re-create the sandbox
01:09:47 <Putis> @help
01:09:47 <lambdabot> help <command>. Ask for help for <command>. Try 'list' for all commands
01:10:55 <Putis> erikd: the problem is that i haven't modified .cabal file
01:11:49 <erikd> Putis: sorry, i came in late. what is the problem?
01:13:07 <erikd> Putis: what version of ghc are you using? on what OS?
01:13:45 <Putis> when I'm trying to build my project, cabal gives such respond: http://lpaste.net/133547; I t shows on the second compilation try; I tried to cleand output directory, "cabal" and "ghc" direcotories in HOME and nothing helps
01:14:21 <Putis> I'm using it on Windows and GHC: The Glorious Glasgow Haskell Compilation System, version 7.8.3
01:14:30 <erikd> Putis: are you using a cabal sandbox?
01:14:36 <Putis> yes
01:15:17 <erikd> Putis: ok, try "cabal sandbox delete ; cabal sandbox init ; cabal install --depenendencies-only ; cabal build"
01:19:05 <erikd> Putis: if ^^^^^ fails, try removing the version dependency on aeson
01:23:08 <heisenbug> edwardk: https://rawgit.com/ggreif/seminar-opetope/master/opetope.html
01:26:18 <edwardk> heisenbug nice to pair a nick with a name =)
01:27:46 <erikd> oh, i've met heisenbug! hi!
01:32:13 <fishburne> how can I convert Data.Text.Internal.Lazy.Text to a normal string...
01:32:33 <opqdonut> :t Data.Text.Lazy.unpack
01:32:34 <lambdabot> Data.Text.Internal.Lazy.Text -> String
01:35:20 <merijn> fishburne: Note that String is stupid slow and expensive compared to Text, so you should consider whether you really want to unpack
01:38:37 <mjrosenb> merijn: depends on the operation.
01:39:51 <merijn> mjrosenb: Hardly
01:40:13 <merijn> mjrosenb: You'd be hard pressed to find an operation where String is faster
01:41:22 <fishburne> merijn, okk, I am trying to fix this error..http://lpaste.net/133549
01:42:07 <mjrosenb> merijn: I have a zipped editor, and I'm inserting a character at the zipped point.
01:42:19 <merijn> fishburne: Unrelated question: Why do you indent so much on the line after do?
01:42:46 <merijn> fishburne: (I'm not familiar enough with PostgreSQL to see the problem)
01:43:39 <fishburne> merijn, about indenting, it just so happned. Not intentional.
01:43:46 <dzack> is there a (relatively straightforward) way to get ghc-mod working with cabal sandboxes?
01:44:14 <merijn> dzack: It should already do that, but I dunno if there's been a release for a version that supports 7.10 yet
01:44:48 <dzack> i'm currently using it through vim to check types and such
01:44:55 <dzack> and it's throwing C preprocessor errors
01:45:35 <fishburne> can someone take a look at this error I am getting with postgresql-simple, http://lpaste.net/133549
01:47:05 <f-a> I was reading a blog post and found the expression "overloaded type variable"
01:47:28 <f-a> what does it mean?
01:48:41 <merijn> f-a: Context? Never heard of that
01:49:25 <f-a> merijn: http://lambda.jstolarek.com/2012/05/towards-understanding-haskells-monomorphism-restriction/
01:49:54 <alpounet> fishburne: i think pg just wants you to annotate your string there. select 'blah'::text should work I guess
01:50:22 <f-a> merijn: apparently it is taken from "a history of haskell"
01:50:28 <merijn> f-a: I think he means "type variables constrained by a typeclass"
01:50:39 <merijn> f-a: Since this is about monomorphism restriction
01:50:44 <alpounet> the error basically says "Text (in Haskell land) and <an unknown type> (in SQL land) are not compatible"
01:50:49 <fishburne> alpounet, it worked!!
01:50:49 <f-a> merijn: thanks
01:51:14 <alpounet> fishburne: so adding an explicit type annotation fixes that
01:52:39 <fishburne> alpounet, if I was reading from a varchar field in a real table, it should work with out the annotation, right?
01:57:38 * hackagebot libpafe 0.1.0.0 - Wrapper for libpafe  http://hackage.haskell.org/package/libpafe-0.1.0.0 (haru2036)
02:02:39 * hackagebot rest-core 0.36.0.3 - Rest API library.  http://hackage.haskell.org/package/rest-core-0.36.0.3 (AdamBergmark)
02:12:39 * hackagebot rest-core 0.36.0.4 - Rest API library.  http://hackage.haskell.org/package/rest-core-0.36.0.4 (AdamBergmark)
02:37:40 * hackagebot minst-idx 0.1.2.1 - Read and write IDX data that is used in e.g. the MINST database.  http://hackage.haskell.org/package/minst-idx-0.1.2.1 (muzzle)
02:57:41 * hackagebot hakyll 4.7.0.0 - A static website compiler library  http://hackage.haskell.org/package/hakyll-4.7.0.0 (JasperVanDerJeugt)
03:01:54 <indiagreen> is there any good tutorial on how to do authentication? with users, passwords, and session tokens which expire after some time. (I know that I sound incredibly vague, but that's because I don't even have enough knowledge to ask the right questions – ideally, I want a tutorial that would start with “what is authentication and why do you need it”)
03:03:08 <liste> indiagreen Haskell or in general=?
03:03:29 <indiagreen> liste: Haskell (and I have Snap on the server side, if it matters)
03:03:58 <indiagreen> but if there's a tutorial that just explains the general concept, I'd appreciate it too
03:04:04 <mauke[> indiagreen: so this is about web servers?
03:04:55 <Besuntas> Hello, I have the following catamorphism "transmitir t = pcataList (either gL gR) t" and I want to create a little function called "gene" so that the code "transmitir pcataList gene t" works, where t is [Char]. Any ideas on how to do it?
03:06:01 <mauke[> literally what
03:06:29 <mauke[> Besuntas: what are the types of everything in there?
03:07:17 <indiagreen> mauke[: I have a server with an API, and a client. Some API methods should only be available to authenticated users. So, I think I need some way to authenticate on the server, get some kind of “session token”, and then I'd be sending that token every time I want to access a method
03:07:17 <Besuntas> mauke: transmitir :: [[Char]] -> Dist [Char], pcataList :: (Either () (a, b) -> Dist b) -> [a] -> Dist b
03:08:01 <ThuletheKing> Hi I am trying to allocate arrays with haskell. If I use mallocArray and then print the results, then they are instantiated to 0. However if I use allocaArray they are instanted to random numbers - probably addresses. This I how I test it: I invoke a C function that returns the value at spot 0. Test with allocaArray:  allocaArray 1 (\t1 -> withArra
03:08:01 <ThuletheKing> y [1.0] (\t2 -> c_setReal (castPtrToFunPtr setRealFunc) instantiateVal t1 1 t2)). Any ideas why I get those strange numbers?
03:08:13 <Besuntas> mauke[: The catamorphism I have works very well. The thing is, I need to use a function called gene, for the code "either gL gR"
03:08:15 <mauke[> Besuntas: missing gL, gR; and what's Dist?
03:08:33 <mauke[> Besuntas: and that contradicts your original problem description
03:09:26 <mauke[> ThuletheKing: neither mallocArray nor allocaArray initialize the memory
03:09:45 <Besuntas> mauke[: Dist is a statisticial distribution, gl :: t -> Dist [Char], gr :: ([Char], [Char]) -> Dist [Char]
03:10:10 <ThuletheKing> ah ok
03:10:51 <Besuntas> mauke[: as I said, the code "transmitir t = pcataList (either gL gR) t" works perfectly, so what I really need is just to take some of the code and put it into a function called "gene"
03:11:14 <mauke[> looks like mallocArray simply calls malloc() whereas allocaArray uses ghc's allocator
03:11:59 <mauke[> Besuntas: but you said you need to make "transmitir pcataList gene t" work, which is equivalent to "pcataList (either gL gR) pcataList gene t"
03:12:26 <mauke[> Besuntas: what's a statistical distribution?
03:15:05 <Besuntas> mauke[: That's what I need. I need to make  to make a gene function so that, transmitir t = pcataList (either gL gR) t is equivalent to transmitir t = pcataList gene t. Gene can use the gL and gR)
03:15:05 <liste> indiagreen how about http://snapforbeginners.com/chapters/auth.html (just found it though)
03:15:46 <liste> it seems to use sessions though, which is bad for REST
03:16:00 <esimp> What is the haskell idiom for, "[a] -> [[a]]" where the output list is groups of 3 of the original list
03:16:08 <Besuntas> mauke[: I tried to make gene = either gL gR butit doesn't work
03:16:18 <mauke[> Besuntas: that's the opposite of what I said
03:16:18 <esimp> recursive use of `splitAt' ?
03:16:39 <mauke[> :t chunksOf 3
03:16:40 <lambdabot> [e] -> [[e]]
03:16:52 <Besuntas> mauke[: My misunderstanting then
03:16:59 <esimp> mauke, thanks!
03:17:04 <mauke[> Besuntas: what do you mean by "doesn't work"?
03:17:21 <Besuntas> mauke[: gchi complains about something
03:17:50 <mauke[> cool story, bro
03:18:16 <mauke[> how do you expect to get help if you don't tell us what the actual error is?
03:19:09 <Besuntas> mauke[: 1 sec, I'll run it again
03:20:39 <indiagreen> liste: I've read thru it, but it doesn't seem to have remember tokens and also doesn't say what should be done client-side
03:21:24 <Besuntas> mauke[: Couldn't match expected type ‘Char’ with actual type ‘[Char]’. I tried to use concat to get rid of the [], but then I get Couldn't match expected type ‘Either a2 ([Char], [[Char]])                                   -> Dist [[Char]]’                 with actual type ‘[a1
03:21:51 <mauke[> what's the actual, full error message?
03:21:58 <liste> the client-side handling is described in HTTP spec
03:22:20 <liste> just regular cookies
03:23:40 <liste> oh wait, it's not in HTTP
03:23:51 <liste> but here: https://tools.ietf.org/html/rfc6265
03:24:48 <liste> and you can use a different, persistent cookie for remember me
03:24:51 <ThuletheKing> Is it possible to specify what type or array I need allocated with malloc? Or is just this solved by type inference?
03:25:21 <mauke[> ThuletheKing: why are you using malloc?
03:25:46 <ThuletheKing> to pass an array to a c function, that will keep using it
03:26:00 <ThuletheKing> sorry mallocArray*
03:26:12 <mauke[> ok, that's a weird interface
03:26:25 <mniip> ThuletheKing, both
03:26:35 <mauke[> but yeah, type inference
03:26:44 <mniip> you can manually specify a type by adding a type signature
03:26:51 <mniip> or let type inference do its magic
03:27:16 <ThuletheKing> okay thanks
03:27:29 <indiagreen> liste: okay, actually I just read the docs for Snap.Snaplet.Auth and I saw some familiar words there and I'm going to try following the types and see whether it would lead me anywhere
03:27:30 <indiagreen> thanks
03:27:45 <Besuntas> mauke[: http://lpaste.net/133552
03:28:25 <Besuntas> mauke[: updated a bit, new version http://lpaste.net/133553
03:29:07 <mauke[> Besuntas: that error refers to code you haven't mentioned yet
03:29:26 <mauke[> none of your snippets so far contained 'Right ("a", ["b"])'
03:30:05 <Besuntas> mauke[: that is a test for the gene function. The test is the following
03:30:15 <Besuntas> mauke[: test07 = gene (Right("a",["b"])) == D [(["a","b"],0.95),(["b"],0.05)]
03:30:17 <agibiansky> Can anyone recommend a tool for looking at a package's dependencies on Hackage? I'm trying to reduce transitive dependencies of my package, and I'd like to know which of my dependencies incur the heaviest transitive dependencies (which ones are actually worth trying to remove to reduce total build issues and install times).
03:30:54 <mauke[> Besuntas: does that work with 'either gL gR'?
03:32:05 <Besuntas> mauke[: no, it gives the errors I pasted on lpaste 
03:32:19 <mauke[> so there's nothing wrong with gene itself
03:32:33 <mauke[> either your test is wrong, or your explanation of what you're supposed to to is wrong
03:33:12 <mauke[> "the code "transmitir t = pcataList (either gL gR) t" works perfectly" <- except it doesn't according to your test
03:33:24 <mauke[> s/to to/to do/
03:35:09 <Besuntas> mauke[: that code does indeed work perfectly,as it gives me the right outputs. However, that code doesn't use the gene function, and that test is designed for the gene function
03:35:40 <mauke[> my answer stands
03:36:01 <mauke[> either your test is wrong, or your definition of transmitir is wrong
03:36:29 <mauke[> you can't plug 'either gL gR' into both
03:36:33 <mauke[> the types don't match
03:37:45 <mniip> I assume typeclasses is not the right answer? :P
03:38:33 <mauke[> they might be
03:38:37 <Besuntas> mauke[: alright, I'll see if I can find the error in transmitir then, because I know 100% that the test is correct
03:39:28 <mauke[> but we started out with basically "it works with 'either gL gR' but not when I extract it out into a function", which simply isn't true
03:39:42 <mauke[> because it doesn't actually work with either gL gR
03:48:13 <ThuletheKing> Is it possible to make this prettier, so I avoid the <- with it getting unreadable for realtively newcomers? http://pastebin.com/XHa168mZ
03:51:38 <pavonia> ">>= \setRealFunc ->" would be an option, but not sure this is prettier
03:53:22 <ThuletheKing> thanks pavonia! For some reason I could not get that working before..
03:54:00 <merijn> ThuletheKing, pavonia: LambdaCase would be nice
03:54:09 <merijn> Also, don't use pastebin.com it sucks :(
03:54:12 <merijn> @where lpaste
03:54:12 <lambdabot> http://lpaste.net/
03:54:41 <merijn> oh, wait that was not use case, nevermind, I'm confused
03:54:42 <pavonia> merijn: How would you use LambdaCase here?
03:54:47 <ThuletheKing> ahh didn't know merijn
03:55:03 <merijn> ThuletheKing: Why not move parts of this function into let/where clauses?
03:55:10 <merijn> pavonia: You wouldn't, I misread
03:55:57 <ThuletheKing> merijn: I probably will in the future, right now I am just prototyping. I am relatively new to Haskell, so moving parts into functions is not always "just" soemthing I do :)
03:59:11 <merijn> ThuletheKing: Refactoring like that is easy in haskell
03:59:16 <merijn> ThuletheKing: For example, consider: http://lpaste.net/133554
03:59:24 <untseac> hey
04:00:23 <untseac> I need an example of instance that is Eq but isn't Ord
04:00:36 <merijn> untseac: "MVar a"
04:01:10 <untseac> thanks
04:01:12 <ThuletheKing> merijn: thanks - I will go through it and keep it. But aren't you missing a t? (setReal t)
04:01:18 <merijn> Also, things like Handle / file Descriptor
04:01:46 <merijn> ThuletheKing: Whoops, typo
04:01:57 <merijn> ThuletheKing: I think that should just be "setReal"
04:02:01 <ThuletheKing> okay thanks
04:02:21 <merijn> Oh, actually...
04:02:43 <merijn> I guess this might not type check? Not quite sure
04:05:05 <achu> i would like to know how can i contribute for haskell community, in development of haskell.
04:05:42 <bitemyapp> achu: what can you do?
04:06:14 <maerwald> achu: write libraries
04:06:48 <maerwald> one of the most problematic thing in haskell IMO is the lack of a real GUI frameworks... everything we have are just bindings to C/C++ libs
04:06:56 <maerwald> but afair some people are already working on something
04:07:39 <bitemyapp> it would be good if people joined forces more on libraries.
04:07:48 <achu> i would like to have some pointers to things that i can try building.
04:07:58 <ThuletheKing> What are you guys using as IDE on windows? right now I am on emacs, but I miss something with renaming
04:08:17 <maerwald> ThuletheKing: there is leksah, but I don't use it regularly
04:08:35 <ThuletheKing> crashes on windows very often last I tried it
04:09:02 <maerwald> is there something that does not regularly crash on windows? :P
04:09:14 <merijn> achu: Hack on cabal? :)
04:09:44 <YellowOnion> ThuletheKing, can't you get emacs to do that?
04:10:02 <maerwald> achu: hack on darcs or darcsden... especially the latter needs more features
04:10:12 <maerwald> and the code is not that difficult
04:11:00 <ThuletheKing> hmm maybe YellowOnion, I am just not use to emacs.. I have grown up in a windows environment, so "old school" text editors is not so much my thing. It is becomming it more and more though
04:11:56 <achu> merijn:merjn , maerwald. Thanks. I will check it out. Any other suggestions?
04:12:32 <maerwald> achu: write games :)
04:12:36 <maerwald> not much there yet
04:12:45 <maerwald> just a bunch of papers and thesis
04:12:55 <YellowOnion> ThuletheKing, VIM has a lot of plugins and stuff (which I use mostly), but Emacs also has very powerful scripting as well.
04:13:00 <merijn> achu: Best would be to pick something you yourself could use
04:13:27 <merijn> achu: Pandoc, cabal, ghc and xmonad are the most likely candidates for "something you would use" and "could use more volunteers"
04:13:50 <ThuletheKing> thanks YellowOnion, it'll be my vacation project to learn to use one of them better :)
04:13:57 <Myrl-chan> YellowOnion: Vim's plugins are weird for me.
04:14:01 <Myrl-chan> They only somewhat work.
04:14:15 * Myrl-chan as someone who uses both vim and emacs.
04:14:36 <maerwald> Myrl-chan: yep, vim plugin interface is exceptionally buggy
04:14:57 <Myrl-chan> And for Emacs...
04:15:28 <YellowOnion> Myrl-chan, VIM is especially lacking for haskell (e.g. spellchecker is running outside comments) been thinking of trying out Emacs.
04:15:48 <Myrl-chan> Imagine building an airplane with wood and a windvane.
04:16:13 <Myrl-chan> Nevertheless, I like them both the most.
04:16:30 <Myrl-chan> Mostly when I don't use emacs as a text editor.
04:16:31 <merijn> To be honest, I only use like 3 plugins for vim anyway when doing haskell
04:16:51 <mniip> vanilla vim masterrace
04:16:55 <hodapp> 9_9
04:17:00 <ssinghi> hi! let myFirst = head . filter
04:17:00 <Pyrrhus> rank beginner question. given a function like myFunc in1 in2 = sum $ zipWith (\x y -> min x y) (genIntList in1) (genIntList in2) how can I lose the parentheses around the genIntList calls ? can I even ?
04:17:02 <maerwald> I only use cat and sed!
04:17:03 <merijn> Syntastic to highlight errors/warnings, hdevtools to query the type of an expression and Ctrl-P for opening files
04:17:06 <Myrl-chan> mniip: Don't you just love it when you have to edit it yourself?
04:17:11 <Myrl-chan> s/edit/indent/
04:17:19 <hvr> mniip: not even vim-enhancned?
04:17:22 <Myrl-chan> maerwald: Please, I use butterflies.
04:17:26 <maerwald> :D
04:17:30 <merijn> I'd like a decent tag jumping plugin, but I haven't found a decent tag generation program for Haskell
04:17:41 <merijn> Hdevtools has a semi-acceptable "jump to source" functionality
04:17:44 * hackagebot network 2.6.2.0 - Low-level networking interface  http://hackage.haskell.org/package/network-2.6.2.0 (JohanTibell)
04:17:52 <ssinghi> let myFirst = head . filter, throws error how can i write this function without using arguments
04:18:03 <ronh-> @pl myFunc in1 in2 = sum $ zipWith (\x y -> min x y) (genIntList in1) (genIntList in2) 
04:18:03 <lambdabot> myFunc = (sum .) . (. genIntList) . zipWith min . genIntList
04:18:04 <merijn> Myrl-chan: Most auto-indenters for haskell suck and don't do the indentation I want and my own indenter isn't finished yet :p
04:18:07 <ronh-> (don't do that)
04:18:16 <tempname11_> can GHC / GHCi be told to stop on the first error?
04:18:24 <YellowOnion> merijn, mines pretty much vanilla too, but lpaste has better syntax highlighting, switching back to python its like "oh I VIM can actually do more than two shades of colour!"
04:18:25 <mauke[> Pyrrhus: myFunc = (sum . zipWith min) `on` genIntList
04:18:38 <maerwald> ssinghi: f = (head .) . filter ?
04:18:51 <merijn> tempname11_: Why would you want that?
04:19:02 <mniip> hvr, huh?
04:19:20 <mniip> hvr, doesn't look like a package name
04:19:31 <ssinghi> maerwald: works, thanks! but would like to understand it more
04:19:38 <merijn> hvr: What is "vim-enhanced"?
04:19:43 <Pyrrhus> thx. didn't know that lambdabot feature :)
04:19:52 <Myrl-chan> ...
04:19:57 <tempname11_> merijn: for clarity/focus when I want to go over the errors one by one. I find that a huge list of errors distracts me.
04:19:59 <Myrl-chan> How the hell can you guys work with monochrome...
04:20:11 <maerwald> ssinghi: it's terrible type math, I'd just use pointful version
04:20:16 <Myrl-chan> Let me show you how relaxing my emacs(evil-mode) looks like.
04:20:24 <merijn> Myrl-chan: Who was talking about monochrome?
04:20:27 <FireFly> Well, "vanilla" vim could mean both no-plugins and no-vimrc
04:20:37 <ssinghi> maerwald: ok
04:20:41 <FireFly> My setup is more-or-less the former (I have a few plugins, but nothing "major")
04:20:52 <Myrl-chan> merijn: "oh I VIM can actually do more than two shades of colour!"
04:21:22 <tempname11_> gcc has -fmax-errors=N, so I wondered if ghc also has something similar. haven't found it yet.
04:21:24 <mniip> hvr, I have a 20-line vimrc, plus my distribution seems to provide a fair amount of syntax highlight files but that's about it
04:21:39 <maerwald> ssinghi: when doing "(head .) . filter" you can think of it as "delaying" the input for head
04:21:53 <Myrl-chan> merijn: YellowOnion http://i.imgur.com/eA1XSDr.png
04:21:59 <merijn> Myrl-chan: vanilla vim can do that...
04:22:15 <Myrl-chan> merijn: You need a Haskell filetype plugin.
04:22:34 <YellowOnion> Myrl-chan, that looks good
04:22:38 <merijn> Myrl-chan: That ships with vanila vim...
04:22:43 <Myrl-chan> I don't think vim has a filetype plugin for Haskell, heck last time I tried, it doesn't even have rust.
04:22:50 <FireFly> It does
04:22:53 <YellowOnion> Myrl-chan, the haskell ftplugin works its just shit.
04:23:07 <Pyrrhus> mauke[: where does that `on` come from ? my ghci (with only Prelude and Data.List) doesn't know it.
04:23:22 <FireFly> Data.Function.on
04:23:22 <mauke[> Pyrrhus: Data.Function
04:23:39 <Myrl-chan> You're right, it does.
04:23:42 <Myrl-chan> And my eyes now burn.
04:23:43 <Pyrrhus> thx.
04:23:53 <FireFly> Myrl-chan: sorry :p
04:24:03 <Myrl-chan> Red for arrows... lol
04:24:25 <mniip> what?
04:24:49 <FireFly> Well, the exact colour depends on your colourscheme
04:25:14 <Myrl-chan> Yeah.
04:25:20 <merijn> Myrl-chan: http://files.inconsistent.nl/screen.png
04:25:22 <YellowOnion> Myrl-chan, http://i.imgur.com/b92zegW.png
04:25:36 <FireFly> Aah, spell checking? :P
04:25:57 * FireFly would suggest :set nospell
04:26:22 <YellowOnion> FireFly, its fine in every other language, as it only spell checks comments :P
04:26:26 <Myrl-chan> YellowOnion: That font...
04:26:27 <FireFly> Ah
04:26:31 <mniip> http://i.imgur.com/7UpBNmF.png
04:26:35 <merijn> Monaco font is best font!
04:26:36 <Myrl-chan> YellowOnion: I need that. What's the name?\
04:26:55 <Myrl-chan> My .vimrc must be shit. http://i.imgur.com/2onwMm8.png
04:27:12 <YellowOnion> Myrl-chan, its Consolas, the new one with vista/7
04:27:32 <FireFly> http://xen.firefly.nu/up/2015-05-29_132645.png I couldn't find any interesting Haskell code >.>
04:27:33 <Myrl-chan> Owait, misfire.
04:27:40 <mniip> Myrl-chan, that looks decent
04:27:42 <mniip> except
04:27:45 <Myrl-chan> I meant merijn.
04:27:49 <mniip> for the xterm font
04:27:58 <merijn> Myrl-chan: It's Monaco, one of the default OSX fonts
04:28:02 <Myrl-chan> mniip: You're hurting glorious Terminus...
04:28:15 <merijn> Myrl-chan: It's amazing for terminal use, imo
04:28:21 <voidzero> I'm looking into Turtle right now. The tutorial is great, but it misses whether Turtle comes with argument parsing. Or should I look into something else for that; optparse-applicative perhaps?
04:28:33 <YellowOnion> Myrl-chan, where did you get the bracket colours for vim? that is genius.
04:28:45 <merijn> voidzero: optparse-applicative is great for argument parsing
04:28:47 <Myrl-chan> YellowOnion: Bracket colors?
04:29:04 <voidzero> It does look pretty nice :)
04:29:09 <voidzero> merijn ^
04:29:20 <YellowOnion> Myrl-chan, http://files.inconsistent.nl/screen.png
04:29:27 <voidzero> Wasn't sure if Turtle provided something for that.
04:29:30 <merijn> YellowOnion: That's mine, and that's https://github.com/kien/rainbow_parentheses.vim
04:29:40 <Myrl-chan> Holy cow.
04:29:45 <merijn> YellowOnion: It colours parenthesis by nesting :)
04:30:13 <Myrl-chan> Checking on emacs right now.
04:30:17 <merijn> voidzero: I haven't used Turtle, so I don't know :)
04:30:21 <mada> merijn: thanks for that plugin
04:30:44 <Myrl-chan> rainbowdelimiters for emacs
04:30:45 <voidzero> ok. I can live with optparse-applicative, that's for sure.
04:30:58 <mniip> found a slightly fancier snippet of code http://i.imgur.com/OYOaPzd.png
04:31:37 <merijn> mada: Here's all the plugins I use https://github.com/merijn/dotfiles/blob/master/install/vimplugins/install.sh
04:32:00 <FireFly> I've grown used to the colourscheme I use, so now every other colourscheme looks weird
04:32:03 <merijn> mada: I should trim it down, because a bunch I don't use
04:32:44 <merijn> mada: I'd recommend: CtrlP, gundo, rainbow_parentheses, vimsurround (and pathogen for managing them)
04:33:09 <mada> tagbar looks cool, the rest I'm running
04:33:11 <mniip> damn rainbow parentheses sounds hella nice
04:33:22 <voidzero> haha yes i think so too
04:33:43 <merijn> mada: tbh, I never end up actually using tagbar, especially since I don't know a good haskell tag generator
04:33:49 <voidzero> merijn made a lot of ppl smile today :)
04:33:57 <mniip> but then again if your code looks like lisp you're doing something wrong
04:34:15 <mniip> for example. using lisp
04:35:35 <merijn> mniip: Sure, but even for like 2-3 nested expressions it works nicely
04:35:38 <mada> vimsurround +1 too
04:35:49 <init> mniip: Racket is nice :P 
04:35:51 <merijn> vimsurround is great when you do html :)
04:36:59 <mniip> I should give emacs a try someday
04:37:41 <merijn> mniip: I tried, I was so lost...didn't know how to edit text...
04:37:43 <voidzero> while we're at it (vim), molokai is a nice color scheme
04:37:45 <voidzero> so is solarized
04:38:03 <voidzero> I used solarized for a long time, felt like switching, so then I found molokai
04:38:10 <mniip> I find solarized waaaaaaay too dim and desaturated
04:38:21 <mniip> like really
04:38:42 <mniip> 24 shades of gray
04:39:00 <merijn> I made my own colour scheme when I realised I could use 256 colours but the 256 colour schemes didn't look like the 16 colour one I was used to :p
04:39:22 <maerwald> molokai looks horrible
04:39:47 <mniip> molokai seems decent
04:39:47 <merijn> Actually, that colour scheme is in the same repo I linked earlier :p
04:39:55 <merijn> Since my entire dotfiles setup is in there :p
04:40:06 <mada> The issue with finding a good vim theme was finding a good rxvt colorscheme. Base16 seems to be the only non-solarized passable thing out there, at least for people like me who can't put together red and green.
04:40:14 <mniip> but hold on!
04:40:20 <voidzero> i guess solarized is a bit dim yes
04:40:21 <mniip> let's talk about fonts
04:40:40 <merijn> Maybe we should continue in -blah :)
04:40:51 <voidzero> mada, I know what you mean. I did a lot of tweaking to get the urxvt colors as I like them
04:40:57 <mniip> and how codepage437 iso01-01 8x16 is the only true font
04:41:06 <merijn> mniip: Monaco or bust
04:41:10 <voidzero> fonts? Terminus.
04:43:49 <voidzero> http://i.imgur.com/PNZMy0Y.png
04:44:54 <merijn> voidzero: So pixelly :\
04:44:54 <voidzero> or smaller http://i.imgur.com/rYYuBjy.png
04:45:11 <mada> We should invent font antialiasing!
04:45:17 <Myrl-chan> lol
04:45:17 * merijn goes for 14-15pt nowadays
04:45:23 <merijn> Squinting at text sucks
04:45:27 <Myrl-chan> Eh.
04:45:40 <voidzero> oh, i got a good pair of eyes
04:45:45 <Myrl-chan> Guys.
04:45:51 <Myrl-chan> Trust me, moe-theme is best theme.
04:45:58 <Myrl-chan> It's enough to make me switch back to emacs.
04:46:13 <Myrl-chan> And yes, it looks damn good in a terminal too.
04:46:37 <voidzero> well... you said emacs.
04:46:42 * voidzero ducks
04:47:05 <voidzero> tbh. Linux user for almost 20 years. Never used emacs.
04:47:36 <voidzero> I did use 'jed' once upon a time.
04:47:45 <voidzero> I think that was emacsy
04:47:51 <voidzero> not quite sure though.
04:47:58 <voidzero> long time ago!
04:48:26 <Myrl-chan> Linux user for just about 1 year, using both emacs and vim..
04:49:09 <Myrl-chan> (Well, I did use Linux 2 years ago, but it was Ubuntu.)
04:49:19 <voidzero> yeah. Nah, the first years kept me busy just installing XFree86 with KDE and so forth. It was a difficult time back then!
04:49:19 <Myrl-chan> Nobody cares about ubuntu.
04:49:59 <Myrl-chan> What we need is uguuntu, full of uguu.
04:51:37 <mniip> http://i.imgur.com/d1v2RT7.gif
04:52:48 <voidzero> very true font
04:52:49 <Myrl-chan> mniip: FUCK YES!
04:52:59 <Myrl-chan> Meh, I'm still going with Monaco anyway.
04:53:11 <Myrl-chan> mniip: How'd you make that by the way?
04:53:27 <mniip> https://github.com/mniip/vtshot
04:53:36 * R0b0t1 rubs mniip 
04:53:59 <Myrl-chan> mniip: Oh yeah, now I remember.
04:54:03 <mniip> --vcsa --gif --sequence --shell
04:54:10 <Myrl-chan> mniip: That's clear gentoo right there. :D
04:54:19 <pacak> mniip: On a good diplay vector fonts are OK as well.
04:54:52 <Myrl-chan> One problem I have with vectors is low resolution and being able to see the anti-aliasing.
04:55:03 <Myrl-chan> Or worse... the subpixel anti-aliasing.
04:55:13 <Myrl-chan> You'll be seeing red green and blue on your white font.
04:55:21 <voidzero> Hence why I use Terminus.
04:55:27 <Myrl-chan> voidzero: Terminus bro.
04:56:03 <mniip> I don't use subpixel like ever
04:56:14 <mada> 1366x768 pixelated antialias team FTW
04:56:18 <mniip> albeit I'm pretty ok with how freetype2 does antialiasing
04:56:22 <mniip> with pixel snapping
04:56:49 <voidzero> I can't even stand the whole font configuration stuff. "Just work, damnit."
04:56:57 <mniip> pacak, do you happen to have a framebuffer-backed vc with vector fonts?
04:57:04 <voidzero> There's enough other stuff that makes me spend days.
04:57:52 <merijn> Myrl-chan: Get a retina/4k display :p
04:57:53 <Myrl-chan> mniip: Pixel snapping?
04:57:57 <Myrl-chan> merijn: I'm planning.
04:58:05 <pacak> mniip: Not really. X works fine those days...
04:59:37 <mniip> Myrl-kun-sama-ch, http://i.imgur.com/Dvj8trz.png
05:00:21 <Myrl-kun-sama-ch> That scares me.
05:00:46 <Myrl-kun-sama-ch> But I'm guessing that if it reaches a threshhold, it will snap it to a pixel?
05:01:14 <mniip> see how some of the lines are aligned to pixels, and thus producing no antialiasing
05:01:22 <mniip> yet curves are antialiased decently
05:01:31 <Myrl-kun-sama-ch> Yeah.
05:01:45 <mniip> I find it very nice
05:02:43 <mniip> especially on a 144 dpi screen
05:04:12 <mniip> interesting ._.
05:04:33 <mniip> does bitemyapp just star all links posted in the channel or something :o
05:06:48 <Myrl-kun-sama-ch> OH MY GOD
05:06:51 <Myrl-kun-sama-ch> I DIDN'T BUILD WITH XFT
05:06:56 <Myrl-kun-sama-ch> What have I done
05:07:52 <mniip> let's see :^)
05:07:54 <mniip> https://github.com/mniip/LUA
05:08:31 <Myrl-kun-sama-ch> ...
05:08:44 <Myrl-kun-sama-ch> mniip: >LUA
05:09:34 <Myrl-kun-sama-ch> mniip: LUA: Lua Uppercase Accident
05:10:23 <mniip> hmm
05:10:33 <mniip> damn, looks like a ratelimit :(
05:11:06 <Myrl-kun-sama-ch> mniip: You really can't be my universe twin after all-capsing Lua. :c
05:11:18 <mniip> Myrl-kun-sama-ch, did you open the repo
05:11:32 <Myrl-kun-sama-ch> mniip: Yes.
05:11:47 <Myrl-kun-sama-ch> OHHHH
05:11:53 <Myrl-kun-sama-ch> Took me a long time to get it.
05:11:58 <mniip> then you could have guessed that this is a joke programming language created as a result of intensive #lua circlejerk
05:12:38 <Myrl-kun-sama-ch> mniip: My eyes hurt. It looks like BASIC.
05:12:44 <liste> we also need a JAVA
05:13:02 <mniip> Myrl-kun-sama-ch, brand new: -1-based indexing!
05:13:13 <Myrl-kun-sama-ch> Lol
05:13:58 <mniip> since then I happen to know intricate details of lua implementation
05:15:01 <mniip> Myrl-kun-sama-ch, oh, and, I don't think any other language did this before, https://github.com/mniip/LUA/commit/3c6ca0040193029b3565a6bb455dd2061e3d7790
05:15:58 <Myrl-kun-sama-ch> mniip: What's this?
05:16:09 <mniip> what's what
05:16:18 <Myrl-kun-sama-ch> mniip: Everything.
05:16:42 <mniip> State# RealWorld you mean
05:16:53 <Myrl-kun-sama-ch> Ehe
05:22:13 <merijn> mniip: You implemented a language in C?!
05:25:17 <liste> merijn, Lua is implemented in C, that seems like a fork of it
05:29:15 <mniip> merijn, it is majorly based on lua
05:29:24 <mniip> of my own there's like 300loc probably
06:01:42 <Myrl-chan> Oh my God.
06:01:48 <Myrl-chan> Monaco looks like shit on my computer.
06:01:56 <Myrl-chan> And I can't stand having less than 50 lines on my screen.
06:02:49 * hackagebot securemem 0.1.8 - abstraction to an auto scrubbing and const time eq, memory chunk.  http://hackage.haskell.org/package/securemem-0.1.8 (VincentHanquez)
06:03:45 <Myrl-chan> Terminus 10 looks cuter and cleaner than Monaco 10.
06:04:06 <Myrl-chan> Actually, Monaco 10 is pretty bearabnle.
06:07:18 <Myrl-chan> Holy cow, this looks like a proper trade-off.
06:07:49 * hackagebot muesli 0.1.1.0 - A simple document-oriented database  http://hackage.haskell.org/package/muesli-0.1.1.0 (CalinArdelean)
06:09:42 <ion> “it provides a memory chunk that will be auto-scrubbed after it run out of scope” for a specific value of “after” which is different from the one in RAII
06:10:04 <mauke[> timeless destruction
06:10:52 <ion> Also finalizers aren’t run at program exit which may or may not be important
06:12:38 <Myrl-chan> I want to get a 1080p monitor now.
06:14:10 <YellowOnion> Myrl-chan, what do you currently have?
06:15:22 <Geekingfrog> From the typeclassopedia exercise, I'm having trouble finding a functor instance which satisfy the second law (composition) but not the first law (id as neutral element).
06:15:34 <Myrl-chan> YellowOnion: A 1280x1024 monitor.
06:15:42 <Myrl-chan> I kinda like it, I can view 720p videos.
06:15:51 <Geekingfrog> https://wiki.haskell.org/Typeclassopedia#Laws
06:16:17 <YellowOnion> Myrl-chan, I've had a 1920x1200 for like 6 years now :\
06:17:03 <phadej> Geekingfrog: break the structure
06:17:11 <Myrl-chan> Don't make me jealous, or else I'll break into your house. :P
06:17:32 <phadej> Geekingfrog: i.e. fmap _ _ = Nothing
06:17:46 <YellowOnion> Myrl-chan, my phone has 1440p :P
06:17:47 <phadej> Geekingfrog: it will satisfy the second law (cause you cannot break it, it's free)
06:17:52 <merijn> ion: I don't even see where it does scrubbing
06:17:58 <merijn> ion: At all
06:18:30 <Geekingfrog> phadej:  I see, but what do you mean by it's free? It doesn't depend on any paremeter?
06:18:38 <merijn> ion: There is a finalize, but it isn't run automatically...
06:18:57 <mauke[> Geekingfrog: unfmap f = reverse . map f?
06:19:08 <ion> merijn: The third parameter to mkWeak# http://hackage.haskell.org/package/memory-0.4/docs/src/Data-ByteArray-ScrubbedBytes.html
06:19:49 <Geekingfrog> mauke[: this won't work for the composition I think. applying (fmap f) . (fmap g) will preserve the order, but not fmap (f.g)
06:20:07 <Myrl-chan> YellowOnion: Stahp...
06:20:22 <phadej> Geekingfrog: free as "you don't need to prove it"
06:20:30 <YellowOnion> Myrl-chan, kinda amazed you have such an old monitor, I thought mine was old...
06:20:40 <mauke[> Geekingfrog: oh, I can't read. sorry, my bad
06:20:47 <Guest19271> I have a cabal problem :( I installed aeson-0.9.0.1 which installed bytestring-0.10.6.0 but the haskell-platform apt package gave me bytestring-0.10.0.2 and now I can't compile stuff
06:20:50 <phadej> Geekingfrog: http://stackoverflow.com/questions/8305949/haskell-functor-implied-law
06:20:55 <Geekingfrog> phadej: do I need to read the paper on the theorem for free for this? It seems it comes up awfully often
06:21:08 <Guest19271> GHCi runtime linker: fatal error: I found a duplicate definition for symbol _hs_bytestring_long_long_uint_hex
06:21:57 <phadej> Geekingfrog: I'd say every haskeller should read that paper :)
06:22:04 <geekosaur> should have installed an older aeson
06:22:35 <geekosaur> but people addicted to always-latest-NOW-who-cares-about-breakage will tell you stable versions are evil and evict the platform
06:22:39 <merijn> ion: Ah, still, I worry this sorta packag gives people a false sense of security
06:22:41 <Geekingfrog> phadej: all right, I'll find the time this week end then
06:22:48 <Guest19271> okay, so is there an easy way to find what's the newest aeson that depends on bytestring-0.10.0.2
06:22:59 <phadej> Geekingfrog: the idea is very simple, than you can hand wave the proofs
06:23:03 <Myrl-chan> YellowOnion: I'd prefer this over a 16:9 720p though. :P
06:23:20 <mauke[> Geekingfrog: unfmap f xs = cycle (map f xs)?
06:23:43 <phadej> Geekingfrog: eg. given function f :: forall a. [a] -> [a], you know that every element in `(f l)` is in `l`
06:23:57 <Myrl-chan> YellowOnion: http://i.imgur.com/y6qTg0y.png
06:24:14 <YellowOnion> Myrl-chan, I don't think 720p monitors were ever sold. actually, even TVs are 1366x768
06:24:48 <Myrl-chan> YellowOnion: Still has more total pixels. :P
06:25:15 <mauke[> Geekingfrog: data T a = C Bool a; instance Functor T where { fmap f (C _ x) = C True (f x) }
06:25:58 <YellowOnion> Myrl-chan, I still have my 19" (1600x1200) CRT, Boy was that fun lugging around to LAN parties :P
06:26:08 <Geekingfrog> mauke[: yep, it seems to work. It's the same concept as the solution proposed by phadej above. thanks
06:26:33 <ion> merijn: Yeah… If the sole interface for creation were like (SecureMem -> IO a) -> IO a, it might be nicer (but obviously way more inconvenient).
06:27:28 <Myrl-chan> merijn: Did you see my rice?
06:27:42 <merijn> ion: "(SecureMem -> IO ByteString) -> IO ByteString" whoops...
06:29:08 <merijn> Myrl-chan: No?
06:29:25 <ion> merijn: That function could be named unsafeToByteString, i think that would be clear enough.
06:29:26 <Myrl-chan> merijn: http://i.imgur.com/y6qTg0y.png
06:29:50 <merijn> Myrl-chan: Not dark enough ;)
06:30:02 <Myrl-chan> merijn: pls.
06:30:14 <merijn> ion: But you can't write a function that takes some function that has access to bytes and stops you from leaking said bytes
06:31:47 <YellowOnion> merijn, I'm trying to find a copy of monaco for Windows :\
06:37:55 <YellowOnion> Windows is getting frustrating, anyone have any recomendations for Linux Distro I can run in VM?
06:38:13 <maerwald> YellowOnion: opensuse, fedora?
06:40:27 <YellowOnion> maerwald, Hmm, I've only ever run Arch and deb-based Linux's because maybe I could try one of them.
06:40:45 <YellowOnion> s/because//
06:41:02 <maerwald> YellowOnion: I cannot follow
06:41:37 <maerwald> do you create packages yourself?
06:41:47 <maerwald> there's no other reason you would care about package format
06:42:15 <YellowOnion> maerwald, I've never run any Redhat derivatives.
06:43:07 <maerwald> YellowOnion: what's the deal?
06:43:49 <YellowOnion> maerwald, pardon?
06:44:36 <maerwald> if you only want to choose between deb based linux distros, then you should include that in your question, otherwise it's confusing
06:45:21 <liveify> With attoparsec, how do I say "manyTill anyChar (char '\n' <|> endOfInput" I just want to parse until I hit a newline or the end of input. 
06:45:54 <liveify> When I try what I just mentioned I get "Couldn't match type `()' with `Text'"
06:46:29 <merijn> liveify: If you want to parse until end of line there's better combinators in Parsec
06:46:44 <YellowOnion> maerwald, Oh sorry, early I was meant to say I've only used arch and debian-dirvatives, maybe its time to try a redhat one.
06:46:56 <merijn> liveify: You probably want "takeTill :: (Char -> Bool) -> Parser Text"
06:47:07 <liveify> I am working with a multiline input seperated by \n.
06:47:38 <merijn> liveify: manyTill anyChar parses one character at a time and returns a list
06:48:12 <merijn> liveify: "takeTill" runs a tight loop across the characters until it succeeds, then chops of the block in one chunk, so it's far more efficient
06:48:30 <merijn> liveify: You'd simply do "takeTill (\c -> c == '\n')"
06:49:04 <maerwald> YellowOnion: if you want to experiment a lot you could try gentoo, exherbo or NixOS. But gentoo leaves you in a dependency hell regarding haskell packages. NixOS heavily breaks FHS which has a lot of side effects and it relies on a lot of hackery to implement their isolation schemes. But afaik that isolation is quite useful for haskell packages.
06:49:15 <liveify> Okay. So my input is a newline seperated list and what I want as output is [String]. Would takeTill work for that?
06:49:57 <merijn> liveify: You could go from Text to that, but you'd probably want [Text] in most scenarios, since Text is much better than String
06:49:58 <YellowOnion> maerwald, FHS?
06:50:25 <maerwald> YellowOnion: filesystem-hierarchy-standard. So basically anything that depends on the file system layout can break
06:50:37 <maerwald> that goes especially for stuff that you do outside of the package manager
06:51:00 <YellowOnion> ahh
06:51:06 <maerwald> they have some chroot-magic, but it doesn't solve everything
06:54:55 <albeit> What triggers a minor garbage collection to occur?
06:56:24 <merijn> albeit: Running out of heap, afaik
06:56:33 <c_wraith> I thought minors were caused by the first generation filling
06:56:41 <c_wraith> and majors were caused by overall heap fullness
06:56:44 <merijn> I think that's what I mean
06:57:12 <merijn> Every HEC has it's own "heap ptr" it bumps when allocating, when that overflows it triggers a minor GC< afaik
06:57:16 <c_wraith> If you grow the nursery, minors happen less often, are less likely to promote, but take longer
06:58:28 <albeit> The nursery is for the first generation, correct? So when a capability fills its allocated nursery, it triggers a global minor GC?
06:59:01 <albeit> Actually I guess thats what you just said merijn 
07:00:12 <albeit> So each HEC allocates to its nursery / own heap ptr. When one of those fills, a minor GC occurs. This moves some data to a global heap? And when the global heap fills a major GC is called?
07:02:19 <merijn> albeit: minor GC is HEC local, not global
07:02:29 <merijn> albeit: And yes
07:03:25 <albeit> merijn: By HEC local, do you mean each HEC can independently GC, or that all HEC are halted and each HEC collects its own nursery?
07:04:10 <merijn> albeit: HECs can do minor GC independently, afaik
07:08:00 <albeit> Hmm... since Haskell threads can move between HECs, how does data allocated to one HEC's nursery move when the thread moves?
07:08:34 <merijn> albeit: Oh, wait isn't there a nursery per thread? I forget...
07:08:50 <merijn> albeit: Consult this for details: http://ezyang.com/jfp-ghc-rts-draft.pdf
07:09:46 <albeit> merijn: Ohhh fantastic. Was trying to figure this out http://takenobu-hs.github.io/downloads/haskell_ghc_illustrated.pdf, I prefer more text to pictures ;)
07:09:49 <moshiMoshi> Is there any way to use a "where" with multiple lines?
07:10:48 <maerwald> moshiMoshi: multiple lines?
07:11:41 <albeit> moshiMoshi: Do you mean multiple lines before the where? Or multiple lines in the where?
07:12:08 <moshiMoshi> in the where. For instance f = g + d where g = 1+1 and d = 2+2
07:12:31 <maerwald> just do it
07:12:46 <albeit> moshiMoshi: Make them on multiple lines, with the same indentation, indented more than the where
07:12:52 * hackagebot either 4.4.1 - An either monad transformer  http://hackage.haskell.org/package/either-4.4.1 (EdwardKmett)
07:13:41 <moshiMoshi> albeit: it worked, ty
07:14:18 <albeit> moshiMoshi: I actually think you can use semicolons between "lines" as well... but it's not very pretty
07:15:03 <albeit> > a + b where a=1; b=2
07:15:05 <lambdabot>  <hint>:1:7: parse error on input ‘where’
07:15:25 <merijn> albeit: where is only valid in declarations
07:15:38 <merijn> And ghci and lambdabot don't have those outside of let
07:16:01 <albeit> Ah okay
07:16:04 <maerwald> @let f = a + b where a = 1; b = 2
07:16:06 <lambdabot>  Defined.
07:16:08 <maerwald> > f
07:16:09 <lambdabot>      Ambiguous occurrence ‘f’
07:16:09 <lambdabot>      It could refer to either ‘L.f’, defined at L.hs:163:1
07:16:09 <lambdabot>                            or ‘Debug.SimpleReflect.f’,
07:16:14 <maerwald> oopsie
07:16:50 <maerwald> > L.f
07:16:52 <lambdabot>  3
07:17:22 <albeit> How does lambdabot have a line number for things defined here?
07:17:38 <merijn> albeit: It has a file with "current" definitions
07:20:13 <maerwald> mh, wonder why so many vim colorschemes don't get the type signature right in haskell
07:20:54 <maerwald> that's one of the very few things that make sense to color differently than the rest
07:24:29 <dino-> I need to build something on Windows, I have the latest HP there and my project won't build because it needs a lot of newer things, like a more modern mtl than 2014.2.0.0 has. Even using a sandbox, it defers to the ones in the HP's package.conf.d ..
07:25:02 <c_wraith> dino-: try minghc instead of hp
07:25:09 <dino-> Is it cool to get rid of that package conf stuff when using the HP?
07:25:10 <dino-> ah ok
07:25:16 <c_wraith> dino-: https://github.com/fpco/minghc
07:25:18 <dino-> I would *love* to get 2.10.x on this bad boy
07:25:33 <c_wraith> err.  7.10?
07:25:38 <dino-> yes
07:25:40 <dino-> 7.10
07:26:39 <dino-> At work currently using Scala 2.10.x, so I have version confusion all the time
07:26:52 <c_wraith> ah
07:29:16 <osa1_> uh.... is haddock version used in hackage older than the latest one?
07:32:21 <mpickering> osa1: That wouldn't surprise me
07:32:26 <mpickering> there is a bit of a lag sometimes
07:32:57 * hackagebot hslua 0.4.0 - A Lua language interpreter embedding in Haskell  http://hackage.haskell.org/package/hslua-0.4.0 (OmerAgacan)
07:32:59 * hackagebot servant 0.4.1 - A family of combinators for defining webservices APIs  http://hackage.haskell.org/package/servant-0.4.1 (jkarni)
07:33:01 * hackagebot servant-client 0.4.1 - automatical derivation of querying functions for servant webservices  http://hackage.haskell.org/package/servant-client-0.4.1 (jkarni)
07:34:34 <osa1> this is horrible. my docs are rendered fine on my laptop, and I pushed to hackage...
07:34:56 <dino-> c_wraith: thanks for that advice, trying out minghc now
07:36:37 <maxx_> can 64 bit ghc on windows create both 64 and 32 bit executables?
07:37:57 * hackagebot servant-docs 0.4.1 - generate API docs for your servant webservice  http://hackage.haskell.org/package/servant-docs-0.4.1 (jkarni)
07:37:59 * hackagebot servant-jquery 0.4.1 - Automatically derive (jquery) javascript functions to query servant webservices  http://hackage.haskell.org/package/servant-jquery-0.4.1 (jkarni)
07:38:01 * hackagebot servant-server 0.4.1 - A family of combinators for defining webservices APIs and serving them  http://hackage.haskell.org/package/servant-server-0.4.1 (jkarni)
07:38:03 * hackagebot servant-blaze 0.4.1 - Blaze-html support for servant  http://hackage.haskell.org/package/servant-blaze-0.4.1 (jkarni)
07:40:07 <nabokovian> i am experiencing Functor understanding finally. out of the clear blue.
07:41:42 <bitemyapp> nabokovian: cool :)
07:42:57 * hackagebot servant-lucid 0.4.1 - Servant support for lucid  http://hackage.haskell.org/package/servant-lucid-0.4.1 (jkarni)
07:44:19 <greymalkin> Well, it's happened. I'm doing Java and ended up needing to implement a monad (really great way to learn monads, by the way: need them first) and out-inferred Java's generics system.
07:44:29 <greymalkin> I wish haskell was here ;)
07:46:29 <juanca_> Hi everyone, i'm having some trouble with hlint. hlint: Cannot expand #if directive in file file.hs
07:46:36 <albeit> merijn: Reading that document, it seems like a concurrent/local garbage collector for each HEC's nursery has been experimented with, but not implemented...
07:46:37 <juanca_> MIN_VERSION_time(a,b,c) is not a defined macro
07:46:54 <juanca_> i found some issues but nothing works for me
07:46:57 <zomg> greymalkin: doesn't Java's latest incarnation have the Maybe monad.. kinda?
07:47:29 <greymalkin> Well.. unfortunately, I don't even have proper support for lambda functions in Android... have to use retrolambda.
07:47:57 * hackagebot scotty 0.10.0 - Haskell web framework inspired by Ruby's Sinatra, using WAI and Warp  http://hackage.haskell.org/package/scotty-0.10.0 (ryanglscott)
07:49:28 <dino-> greymalkin: A long LONG time ago (4+ years) I did my first and really only Android app with Scala and avoiding OO as much as I could. But that was long ago, had a difficult Ant build that my wife and I hacked together, and almost certainly won't be easy to port to today's whizzy Gradle/Android Studio world.
07:49:45 <maerwald> zomg: I hope they don't abuse it for error handling like many haskell programs
07:50:37 <zomg> They call it Optional if I remember correctly
07:50:57 <zomg> Most times I've seen it mentioned it's a replacement for returning nulls and then getting NPE's =)
07:56:22 <greymalkin> Ah... I was wondering. Sodium uses 'Optional' a lot, and I could not, for the life of me, find out how to import it into my project.
07:56:38 <greymalkin> (And by 'a lot' I mean once, but in a really useful way)
07:57:42 <albeit> Is there a type of fold where the step function takes (x1:x2:xs), acts on x1 and x2, then passes x2:xs onto the next step?
07:58:58 <albeit> Actually, not a fold... looking for this: [1,2,3,4] -> [(1,2), (2,3), (3,4)]
07:59:01 <c_wraith> greymalkin: I can't find Optional anywhere in sodium's interface..
07:59:55 <greymalkin> c_wraith: https://github.com/SodiumFRP/sodium/blob/master/java/sodium/src/sodium/Stream.java line 353
08:00:14 <greymalkin> filterOptional
08:00:28 <c_wraith> oh, missed that you were talking about the Java interface
08:00:56 <ronh-> > let xs = [1,2,3,4] in zipWith (,) xs (tail xs)
08:00:57 <greymalkin> Yeah, sorry. Wrong channel I know, but FRP through Sodium has given me new (for me) insigts into haskell.
08:00:58 <lambdabot>  [(1,2),(2,3),(3,4)]
08:01:42 <albeit> ronh: Cool, thanks
08:01:53 <ronh-> welcome
08:02:30 <c_wraith> greymalkin: it appears to be part of java 8
08:02:43 <c_wraith> greymalkin: and I bet android doesn't support java 8
08:02:52 <greymalkin> c_wraith: Correct on both counts.
08:03:12 <c_wraith> I'm not sure what you can do about that, then.
08:03:20 <greymalkin> But using retrolambda, the reference to Optional is nicely removed and the code can be ported; I just don't use Optional.
08:12:58 * hackagebot lens-properties 4.11 - QuickCheck properties for lens  http://hackage.haskell.org/package/lens-properties-4.11 (EdwardKmett)
08:14:49 <rewbert> Hello comrades!
08:14:53 <hodapp> hiya
08:15:04 <rewbert> SHowing my brother irc~ =)
08:15:14 <rewbert> Haskell room should be the perfect one! Nice people.
08:16:22 <hodapp> unless functional languages scare your brother off!
08:16:52 <hodapp> Functional languages scare some people off more than general aggression, arrogance, insensitivity, and rudeness.
08:17:21 <kgadek> hi. In my foo.cabal I have flags that I use to control GHC-Options field. I assumed that I can use multiple ones and they will be merged (as noted here: https://www.haskell.org/cabal/users-guide/developing-packages.html#meaning-of-field-values-when-using-conditionals )
08:17:42 <rewbert> Haskell is love
08:17:46 <rewbert> Haskell is life
08:18:36 <rewbert> He prefers assembly at the moment. Fully submerged.
08:19:23 <kgadek> HOWEVER if I add "-rtsopts=all -with-rtsopts=-s" in such a way I'm getting:
08:19:29 <kgadek> `foo-0.1 failed during the building phase. The exception was: ExitFailure 1`
08:19:35 <kgadek> on the other hand, if I get rid of the flag and just add it to the base GHC-Options it all works
08:19:43 <kgadek> that does look like a cabal bug, isn't it?
08:25:17 <kgadek> ok, I think it's indeed an issue with cabal - joining with comma instead of just space (in my error message I got `target ‘Main,’ is not a module name or a source file`)
08:32:30 <albeit> If I do a bunch of things in the IO monad, but I don't do anything that actually requires the IO monad, is there any performance hit as opposed to that function just being pure?
08:33:40 <coltfred> albeit: You're saying you have IO[A] and A => B and you're getting IO[B]?
08:33:50 <coltfred> basically mapping the function over IO?
08:34:20 <bitemyapp> albeit: keep in mind the IO and Monad are kinda separate.
08:34:23 <coltfred> albeit: Sorry for the scala syntax there. Forgot which channel this was. :)
08:34:27 <bitemyapp> albeit: needing a Monad is independent of emitting effects.
08:34:40 <bitemyapp> albeit: we'd need type signatures to know precisely what you mean and what you want.
08:35:20 <bitemyapp> albeit: IO is erased at compile-time so there's not a value boxing penalty.
08:35:26 <Denommus> albeit: if you mean that you have a pure computation happening inside a IO function and whether it would be a good idea to just leave it in a pure function, the answer is "yes"
08:35:48 <Denommus> unless something very specific is happening
08:36:00 <Cale> Well, but not necessarily for the sake of *performance*
08:36:19 <albeit> bitemyapp: So it is erased, thanks. I have things in monad transformers with an IO base, but trying to make them all pure, jsut wondering if I'll notice a performance differnce when I remove IO
08:36:26 <Cale> If all you care about is performance, it shouldn't typically hurt anything to write everything in IO
08:36:35 <Cale> It just makes your program a little harder to understand
08:36:41 <c_wraith> Ok, *that* is an entirely different question.
08:37:40 <albeit> Well, to be even more specific, I have (StateT s IO), but I'm removing all the IO from the functions and hoping to move them to RWS
08:39:03 <kgadek> (nvm with my earlier comments, there was something messing with my cabal files :< )
08:39:18 <athan> Wait, so ($) is the CPS version of id?
08:39:50 <kgadek> athan: more `flip ($)`, no?
08:40:50 <athan> kgadek: Thank you :)
08:43:56 <albeit> Minor garbage collection is still parallel but stop the world, correct? Concurrent minor GC hasn't been implemented?
08:44:31 <bitemyapp> albeit: you're more likely to get value from eliminating IO *and* enforced sequential evaluation (via a Monad) than you are from eliminating IO alone.
08:44:47 <bitemyapp> albeit: don't get me wrong, IO is generally "free" but there are some optimizations that can open up if we speak more broadly about what's possible.
08:45:12 <bitemyapp> albeit: this is an extremely hand-wavy analogy, but consider how the Applicative and Monad in Haxl vary. That's not strictly about the compiler, but you may get my meaning.
08:47:05 <bitemyapp> albeit: you could win some by using a final encoding rather than programming against a concrete datatype as well. (look at benchmarks that include mtl)
08:47:32 <kgadek> athan: you should look at implementation of `Monad Cont`. See wiki for easy explanation. `return x = cont ($ x)` can be equivally written as `return x = cont $ flip ($) x`
08:47:40 <albeit> bitemyapp: What do you mean by a final encoding instead of a concrete datatype?
08:47:41 <kgadek> athan: wiki: https://en.wikibooks.org/wiki/Haskell/Continuation_passing_style
08:48:18 <kgadek> athan: or `return x = cont (flip ($) x)` to be a bit more readable
08:50:02 <kgadek> athan: oh, I nearly forgot about this: http://stackoverflow.com/questions/3322540/how-and-why-does-the-haskell-cont-monad-work
08:50:08 <athan> kgadek: Exactly what I'm reading :)
08:50:13 <athan> ooh! thank you!!
08:50:35 <kgadek> this SO answer is what made me finally understand how CPS works
08:51:09 <orion> Child Protective Services is so evil.
08:52:21 <bitemyapp> kgadek: oh yeah that's a good one.
08:52:41 <hodapp> I *think* I understand CPS, I've just never really used it for anything.
08:53:00 * hackagebot cg 0.0.9.0 - Parser for categorial grammars.  http://hackage.haskell.org/package/cg-0.0.9.0 (pepijnkokke)
08:53:02 <hodapp> at least, not without realizing it.
08:56:25 <dino-> Wow, cabal sandbox is turning out to be complete nightmare for me with cygwin and paths
08:58:06 <hodapp> dino-: gross.
09:00:32 <dino-> hodapp: Yeah, the things I do for my Windows users
09:02:26 <djbeau> .byfckear
09:02:33 <djbeau> whoops, sorry
09:30:22 <z16> Hello!
09:30:29 <OliPicard> Hello! :-)
09:44:59 <orion> What is the meaning behind, "Avoid success at all costs?"
09:45:39 <hugosthlm> You guys are wokring hard to get nix or similar functionality into other Linux distributions than NixOS?
09:46:12 <tolt> Does anyone have an idea about this error? I'm pretty sure there's a language pragma for this... http://lpaste.net/133568
09:46:17 <_rgn> is there name for the operation that unwraps a Just (Just 1)?
09:46:29 <mauke> _rgn: join?
09:46:33 <tolt> _rgn: what do you mean by unwraps?
09:46:59 <_rgn> I believe it's join yeah
09:47:10 <_rgn> searched hoogle for `mjoin` no results
09:47:27 <c_wraith> tolt: Are you looking for something like -XRankNTypes then changing the signature to (forall a. [a] -> [a]) -> [Int] -> [Int]  ?
09:47:29 <mauke> tolt: the error happens because takeList's type says the caller gets to choose 'a', e.g. a = Char
09:47:55 <mauke> tolt: but then takeList promises to return [Int] -> [Int] when given a [Char] -> [Char]
09:48:14 <maerwald> orion: https://www.reddit.com/comments/77z8h/avoid_success_at_all_costs_the_unofficial_slogan
09:49:21 <tolt> c_wraith: yeah. that's it. I have no idea how I forgot that... Thanks!
09:49:25 <orion> maerwald: Thank you
09:51:34 <shapr> GOOD MORNING #HASKELL!
09:51:36 <shapr> or something
09:52:45 <RickP> is there anything wrong with creating a simple Lens' [a] a , except that it is a partial function?
09:53:04 <dolio> It's a partial function. :)
09:53:06 <RickP> i mean a lens that takes the index as argument
09:53:35 <c_wraith> RickP: Why not admit that it can be partial and make it a traversal?
09:53:41 <c_wraith> RickP: in fact, that already exists.
09:53:59 <c_wraith> > [1..10] ^? ix 4
09:54:00 <lambdabot>  Just 5
09:54:04 <c_wraith> > [1..10] ^? ix 24
09:54:09 <lambdabot>  Nothing
09:54:36 <SrPx> What is the right way to turn a Float in a CFloat
09:54:44 <RickP> how can i know if a traversal has failed?
09:54:58 <RickP> i also have to implement it myself  i think... i didn't see it in lens-family2
09:55:13 <RickP> the main lens library is great... until you need to understand a type error
09:55:18 <c_wraith> There are a few ways to identify that a traversal has failed.
09:55:32 <c_wraith> One is that when used with (^?), it gives back a nothing.
09:55:44 <c_wraith> Another way is to use the failing combinator
09:55:53 <mauke> SrPx: realToFrac
09:56:15 <RickP> i know about ^?, but i'm talking about setting, not getting
09:57:06 <JoshieAS> maerwald: thanks again for your help the other day -- I'm one homework away from finishing the class!
09:57:39 <RickP> i was thinking about something else... is it possible to have these lenses work in a monadError? so that i can still chain them, but if the array indexing fails, the whole chain stops
09:58:09 <RickP> val <- [[1,2],[3,4]]^.(_ix 3).(_ix 1)
09:58:17 <c_wraith> ah, the failOver combinator
09:58:20 <RickP> assuming i have a monaderror on my stack
09:58:22 <c_wraith> err, failover
09:59:01 <c_wraith> > failover (ix 5) [1..3] :: Maybe [Int]
09:59:02 <lambdabot>      Couldn't match expected type ‘Maybe [Int]’
09:59:02 <lambdabot>                  with actual type ‘t0 -> m0 t0’
09:59:02 <lambdabot>      Probable cause: ‘failover’ is applied to too few arguments
09:59:14 <c_wraith> oh, hah
09:59:19 <c_wraith> > failover (ix 5) (+1) [1..3] :: Maybe [Int]
09:59:21 <lambdabot>  Nothing
09:59:25 <c_wraith> > failover (ix 1) (+1) [1..3] :: Maybe [Int]
09:59:27 <lambdabot>  Just [1,3,3]
09:59:39 <maerwald> JoshieAS: np
10:00:03 <RickP> thanks! i wish the lens-family library had this stuff
10:00:06 <c_wraith> RickP: failover works with any Alternative, which is a fair bit more general than MonadError
10:00:35 <RickP> i wonder if some reasonable copy-and-paste can work or if the type sorcery of lens is essential to this specific feature
10:03:03 * hackagebot rest-stringmap 0.2.0.6 - Maps with stringy keys that can be transcoded to JSON and XML.  http://hackage.haskell.org/package/rest-stringmap-0.2.0.6 (AdamBergmark)
10:07:44 <SrPx> Sorry I disconnected, did anyone reply?
10:08:23 <mauke> yes, and there are logs in the topic
10:08:23 <moghedrin> mauke> SrPx: realToFrac
10:17:07 <SrPx> ty!
10:23:04 * hackagebot monad-journal 0.7.1 - Pure logger typeclass and monad transformer  http://hackage.haskell.org/package/monad-journal-0.7.1 (DimitriSabadie)
10:26:08 <SrPx> Also, about having to use CFloat/CInt?
10:35:03 <jacob2-> what's the status of cabal packages and their compatibility with 7.10? did most important packages make their code compatible with 7.10?
10:43:00 <bergey> jacob2-: https://www.fpcomplete.com/blog/2015/04/update-ghc-7-10-stackage is one answer, for a reasonable definition of "important"
10:43:45 <dedgrant> jacob2-: related chatter: https://github.com/fpco/stackage/issues/378
10:44:28 <albeit> When someone refers to "cache", and optimizing for it, are they referring to L1 or L2 or L3?
10:45:23 <frerich> albeit: Either (preferably L1, of course) because they are all magnitudes faster than accessing the memory.
10:47:32 <albeit> frerich: So if I'm setting the -A flag (nursery size) to approximately the size of the cache, it would be best set to the size of L2, but also okay to set to L3?
10:48:53 <frerich> albeit: I only just joined this channel so I'm not sure what 'nursery' you're referring to (something related to garbage collection, by any chance?), but it's much better to have L2 hits (or L3 even) than having to access the memory.
10:49:34 <indiagreen> @tell RickP sure, failover is easy to copy from lens to lens-family: http://lpaste.net/133572
10:49:34 <lambdabot> Consider it noted.
10:50:12 <frerich> albeit: Caches are so much faster than it's e.g. often faster to do a linear search in some not-to-big vector of integers instead of doing a O(log n) binary search in some sort of set (which tends to allocate nodes on the heap)
10:50:59 <dedgrant> frerich: Indeed, https://ghc.haskell.org/trac/ghc/wiki/Commentary/Rts/Storage/GC#nursery
10:53:13 <frerich> Interesting, I only knew this term from the Java sphere.
10:56:26 <albeit> Thanks frerich. I'm going to experiment and see if performance changes after each cache increment
10:57:21 <dedgrant> albeit: It can be tricky, but also keep an eye out for unnecessary duplication or modification of memory.
10:57:59 <albeit> dedgrant: Do you have some examples? I thought the modification of memory would rarely happen because of immutability...
11:01:19 <albeit> What is the recommended way to upgrade to a new GHC version? I did it before, but can't remember how... I do have a ~/.ghc with different versions, each with a package.conf.d
11:01:31 <dedgrant> albeit: Immutability can work for you, but it's also a matter of writing code so that data is shared. Trivially for instance, if you define { as = [1..10] ; bs = [1..10] }, as and bs are duplicated. However, writing { as = [1..10] ; bs = as } shares the same memory.
11:08:12 <dedgrant> albeit: I'm not sure about the preferred way, but if you build using cabal, you can just update the paths to tools in the configuration. Each sandbox can be given it's own configuration file as well.
11:09:03 <jacob2-> is stackage suppose to be an alternative to cabal sandboxes? or should I still use sandboxes 
11:09:41 <jacob2-> they both aim to do the same thing (avoid cabal hell), but in a completely different way
11:09:58 <kadoban> jacob2-: I use both
11:13:05 <jacob2-> kadoban what is your motivation in using both?
11:16:02 <geekosaur> stackage to preseed a sandbox?
11:16:04 <dedgrant> jacob2-: For a few small projects on-the-go, sandboxes offer a very high degree of decoupling vs flexibility. The price paid is replication of work, which becomes a major issue (build cost and disk space) as projects grow.
11:16:28 <geekosaur> I am rather hoping the platform provides a sandbox mechanism on its next release, as an alternative to the global install
11:20:43 <kadoban> jacob2-: Mostly that sometimes I have to use stuff outside of stackage, or use different versions of stackage. Also sandboxes just make it infinitely easier to wipe out old stuff.
11:22:08 <maerwald> yep, except that they make it more difficult to track vulnerabilities
11:24:12 <kadoban> Wait, what?
11:27:34 <hexagoxel> are there examples of how to properly format both in-line code and code-blocks for the hcar?
11:28:07 * hackagebot socket 0.2.0.0 - A binding to the POSIX sockets interface  http://hackage.haskell.org/package/socket-0.2.0.0 (LarsPetersen)
11:33:07 * hackagebot dynamic-pp 0.1.0 - A pretty-print library that employs a dynamic programming algorithm for optimal rendering.  http://hackage.haskell.org/package/dynamic-pp-0.1.0 (emc2)
11:47:10 <jacob2-> :t foldl'
11:47:11 <lambdabot> Foldable t => (b -> a -> b) -> b -> t a -> b
11:47:22 <jacob2-> how come it is not in prelude?
11:47:28 <eacameron> has anyone tried that todoMVC app written entirely in haskell compiled with GHCJS? It didn't work for me
11:47:36 <jacob2-> just installed 7.10.. I could swear it was in prelude in prior versions
11:48:05 <albeit> Just upgraded to using 7.10.1, and with OverloadedStrings GHC is complaining that "Foo" is not an instance of Foldable or IsString... why not?
11:48:26 <arkeet> uh
11:48:28 <arkeet> what's the exact error?
11:48:30 <dino-> eacameron: I have not but really want to try that ghcjs out
11:48:34 <arkeet> (and relevant code)
11:48:35 <Ray> is there a way to TCO this: http://lpaste.net/133573?
11:48:44 <mniip> albeit, you have an ambiguous type
11:48:48 <mniip> add a type signature
11:48:51 <albeit> arkeet: Using `elem`: No instance for (Foldable t4) arising from a use of elem
11:49:07 <dedgrant> albeit: This may help: https://ghc.haskell.org/trac/ghc/wiki/Migration/7.10
11:49:09 <geekosaur> jacob2-, it's not in Prelude in 7.8.3
11:49:31 <hiptobecubic> Ray, maybe using continuations? Not sure about the 'O' part, but you can get the TC
11:49:33 <jacob2-> ah ok
11:49:33 <arkeet> yeah, elem was generalized
11:49:39 <arkeet> give your string an explicit type signature
11:49:45 <arkeet> blah blah `elem` ("Foo" :: String)
11:49:58 <albeit> dedgrant, arkeet: Okay, thanks
11:50:36 <arkeet> heh, that migration article mentions this exact example
11:50:37 <kadoban> Ray: What's that doing exactly? Counting the … sum of the differences … slowly?
11:50:40 <arkeet> case
11:51:17 <Ray> right, i am trying to use this simple example to figure out how to do TCO effectively
11:51:48 <arkeet> making things tail recursive generally requires changing your algorithm.
11:51:52 <arkeet> a fair bit.
11:52:05 <Ray> use binomialCoefficient is the fastest way, but no what i want to do for this
11:52:32 <jacob2-> isn't TCO largely irrelevant in haskell? you either want productive function or use seq to force thunks?
11:52:50 <ReinH> @where lazy
11:52:50 <lambdabot> http://www.vex.net/~trebla/haskell/lazy.xhtml
11:53:10 <ReinH> It doesn't make much sense to talk about tail recursion in Haskell.
11:53:37 <MitchellSalad> why not?
11:53:45 <ReinH> Because all "calls" are "tail calls"
11:54:10 <ReinH> And there isn't a call stack to optimize
11:54:31 <geekosaur> haskell's evaluation strategy is different from that of non-lazy languages, so TCO as optimization doesn't really apply
11:54:33 <MitchellSalad> so, when people refactor a function into a tail-recursive style with an accumulator, they aren't accomplishing anything at all?
11:54:44 <c_wraith> GHC uses a stack, but it's an evaluation stack, not a call stack.
11:54:59 <ReinH> MitchellSalad: They are doing something, but not tail recursion
11:55:09 <hiptobecubic> ReinH, do you know of any good blog posts or write ups on the "there is no call stack" topic?
11:55:11 <MitchellSalad> are they doing something beneficial?
11:55:14 <ReinH> Yes
11:55:19 <ReinH> Sometimes
11:55:20 <c_wraith> If they do it right
11:55:27 <Ray> i believe Simon Marlow mentioned on a post that GHC definitely does TCO
11:55:45 <c_wraith> GHC eliminates tail calls..  GHC eliminates *all* calls.
11:56:13 <c_wraith> function calls don't build up a stack.
11:56:36 <MitchellSalad> ReinH: what about something as simple as "length (_:xs) = 1 + length xs" vs. "length acc (_:xs) = length (1+acc) xs"
11:56:49 <arkeet> https://wiki.haskell.org/Foldr_Foldl_Foldl%27
11:56:52 <c_wraith> MitchellSalad: well, that's an example of doing it wrong
11:57:01 <arkeet> both of those things will use a lot of space.
11:57:04 <MitchellSalad> what if 1+acc was strict
11:57:08 <mniip> still
11:57:09 <arkeet> it is.
11:57:14 <arkeet> the problem is that length isn't.
11:57:24 <ReinH> (+) is strict
11:57:24 <MitchellSalad> oh
11:57:27 <ReinH> > undefined + 1
11:57:29 <lambdabot>  *Exception: Prelude.undefined
11:57:53 <arkeet> the nicest way to improve that is (using BangPatterns) length !acc (_:xs) = length (1+acc) xs
11:58:17 <c_wraith> MitchellSalad: the important part isn't the function calls, it's the evaluation pattern.
11:58:19 <mniip> or
11:58:32 <mniip> length acc# (_:xs) = length (1# +# acc#) xs
11:58:39 <arkeet> :(
11:58:41 <breadmonster> Wait, doesn't 3+3 yield a thunk?
11:58:42 <MitchellSalad> haha
11:58:47 <ReinH> mniip: what? no
11:58:56 <ReinH> # doesn't magically make things strict
11:59:17 <breadmonster> mniip: Doesn't # just denote unboxed?
11:59:21 <c_wraith> MitchellSalad: your first definition results in "to evaluate this (+), we need to evaluate the result of a call to length".  Note that the problem is the evaluation stack, not the function call.
11:59:23 <breadmonster> Or does it actually unbox them for you?
11:59:27 <mniip> ReinH, it kind of does
11:59:33 <ReinH> No, it absolutely doe snot
11:59:38 <ReinH> @google haskell magichash
11:59:40 <lambdabot> https://downloads.haskell.org/~ghc/7.0.3/docs/html/users_guide/syntax-extns.html
11:59:43 <ReinH> It doesn't change the semantics of an identifier at al
11:59:45 <albeit> If I read packets from a network socket in C, I can store read them into the same char*, so only one malloc. In Haskell, will every packet have to be allocated individually and then garbage collected?
11:59:45 <arkeet> no
11:59:53 <arkeet> but 1# and +# are different
11:59:57 <ReinH> "The hash sign does not change sematics at all."
12:00:02 <mniip> length cannot be lazy in the 'acc#' argument
12:00:06 <mniip> because it is an unbox int
12:00:20 <mniip> you can't have thunks of the type Int#
12:00:53 <c_wraith> MitchellSalad: your second definition results in "first this must do a bunch of recursive length calls.  After it does that, there's a huge stack of (1+(1+..)) to evaluate, so I still need a bunch of stack space."
12:01:02 <albeit> And follow up... is there any way to "pre-allocate" mutable memory to store network packets?
12:01:20 <mniip> ReinH, to call 'length' you should already have an Int# ready
12:01:20 <c_wraith> MitchellSalad: the important part is the evaluation process, not the function calls.
12:01:31 <hiptobecubic> albeit, you can just make a big mutable vector or array if you really want to 
12:01:31 <ReinH> mniip: Ok, I see.
12:01:58 <ReinH> @where lazy
12:01:58 <lambdabot> http://www.vex.net/~trebla/haskell/lazy.xhtml
12:02:03 <ReinH> ^ explains this very well
12:02:24 <dedgrant> ^ ditto :)
12:02:34 <albeit> hiptobecubic: And sort of read the packets into the array as if it was a circular buffer... and then there would be no garbage collecting of the packets, correct?
12:03:03 <albeit> Is that how mutable vectors work? Never actually used them before in Haskell
12:03:10 <hiptobecubic> albeit, that's what I would expect, yes.
12:03:32 <hiptobecubic> albeit, mutable vectors work like you'd think mutable vectors work. They are vectors that are mutable :)
12:03:44 <hiptobecubic> I assume you're already doing everything in IO
12:04:09 <arkeet> mutable vectors can move around in memory though, no?
12:04:10 <albeit> hiptobecubic: At least this part yes
12:04:12 <arkeet> during gc
12:04:19 <arkeet> I dunno.
12:04:38 <hiptobecubic> Maybe? I think only Storable is pinned in some way
12:04:55 <hiptobecubic> But i don't see why the GC would just copy it around for no reason
12:05:08 <arkeet> maybe you're right.
12:05:08 <jacob2-> IIRC there is a mutable vector that can be sent to a C function (for modifications) directly
12:05:23 <hiptobecubic> jacob2-, Storable, i think.
12:06:48 <arkeet> I suppose if I was implementing a mutable storable vector I'd just use malloc and a ForeignPtr or something.
12:06:59 <arkeet> maybe.
12:07:10 <albeit> If the mutable vector moves around in memory, that doesn't mean it is garbage collected though, does it? 
12:07:31 <arkeet> so the pointer can get moved around, but not the memory it points to.
12:08:07 <hiptobecubic> arkeet, that's fine if you don't care about the rest of the Vector API. Storable Vectors already exist though
12:08:14 <arkeet> I know.
12:08:22 <arkeet> I'm just thinking about how one might implement it.
12:09:04 <arkeet> ah indeed, a Storable Vector is just a ForeignPtr with what I guess are length and offset.
12:10:19 <albeit> How does a mutable Vector/Array know how large of an area to allocated? Does it somehow deduce the maximum size of the type it stores?
12:10:33 <arkeet> you specify the size when creating one
12:10:44 <arkeet> well, the number of elements it can hold.
12:10:58 <albeit> arkeet: But how does it know how large an element may be?
12:11:06 <dmwit> :t sizeOf
12:11:08 <lambdabot>     Not in scope: ‘sizeOf’
12:11:08 <lambdabot>     Perhaps you meant one of these:
12:11:08 <lambdabot>       ‘IM.size’ (imported from Data.IntMap),
12:11:08 <arkeet> for Storable, it uses sizeOf from the Storable class.
12:12:25 <arkeet> so
12:12:35 <arkeet> you can only use it with types that are Storable.
12:12:44 <arkeet> in particular, the values must have a fixed size.
12:13:08 <dmwit> or at least a maximum size
12:13:52 <arkeet> dmwit: we don't even have an instance Storable a, Storable b => Storable (a,b)
12:14:22 <dmwit> huh
12:14:54 <dmwit> We've got Storable a => Storable (Ratio a), though, thank goodness
12:15:02 <arkeet> we do?
12:15:05 <dmwit> Since everybody knows Ratio Int is the Right Thing to use.
12:15:15 <arkeet> I don't see it.
12:15:32 <arkeet> oh I'm looking at old docs.
12:15:34 <dmwit> https://hackage.haskell.org/package/base-4.8.0.0/docs/Foreign-Storable.html#t:Storable lists Ratio right at the bottom.
12:15:35 <arkeet> still no instance for pairs.
12:16:02 <dmwit> Tuple instances seem pretty plausible. Somebody who cares should write a library proposal.
12:16:19 <dmwit> Oh, hey!
12:16:40 <arkeet> ?
12:17:06 <dmwit> Well, there's a package named storable-tuple.
12:17:13 <arkeet> ah.
12:17:36 <dmwit> Which, yes, provides instance (Storable a, Storable b) => Storable (a, b).
12:17:46 <arkeet> which depends on a package named storable-record.
12:17:53 <dmwit> It would be handy if haddock exposed orphan instances somehow.
12:18:06 <dmwit> So that I could see from the haddocks that this does what it says on the tin.
12:18:29 <arkeet> or just some doc text in the module.
12:18:45 <dmwit> Yeah, that would work.
12:18:47 <arkeet> it's pretty clear from the package synopsys/description though.
12:18:59 <dmwit> Well, it's clear what it's *supposed* to do.
12:19:06 <dmwit> But we all know how well comments correspond to code. =)
12:19:23 <maerwald> dmwit: what do you mean?
12:19:36 <maerwald> most of the time there are none
12:20:09 <dmwit> =)
12:20:15 <arkeet> dmwit: what if it re-exported the Storable class?
12:20:19 <arkeet> then wouldn't it list the new instances there?
12:20:26 <dmwit> arkeet: Hey, that wouldn't be bad.
12:22:39 <albeit> ... are you guys the maintainers of Storable or Vector?
12:22:49 <arkeet> no
12:22:52 <brbblnch> Hi
12:23:10 * hackagebot epub-tools 2.7 - Command line utilities for working with epub files  http://hackage.haskell.org/package/epub-tools-2.7 (DinoMorelli)
12:23:40 <brbblnch> Does anybody here have "The Lambda Calculus, Its Syntax and Semantics", by Barendregt?
12:24:30 <aupiff> brbblnch: http://libgen.in/search.php?req=the+lambda+calculus%2C+its+syntax+and+semantics&lg_topic=libgen&open=0&view=simple&phrase=1&column=def
12:25:01 <came_for_lambdab> @pl (\x -> x*x)
12:25:01 <lambdabot> join (*)
12:25:38 <jacob2-> :t join
12:25:39 <lambdabot> Monad m => m (m a) -> m a
12:25:44 <brbblnch> aupiff: Thank you!
12:26:00 <came_for_lambdab> @pl head' :: [[a]] -> [a]
12:26:00 <lambdabot> (line 1, column 18):
12:26:00 <lambdabot> unexpected '>'
12:26:00 <lambdabot> expecting operator
12:26:00 <came_for_lambdab> head' x = case x of
12:26:00 <came_for_lambdab>     [] -> []
12:26:00 <came_for_lambdab>     otherwise -> head x
12:26:20 <RickP> why can't i bind a lens to a variable and then re-use it? http://lpaste.net/7654090969440059392
12:26:37 <aupiff> brbblnch: np
12:26:43 <albeit> Is there a way to derive Generic for a type from a library? For example, I need to instance NFData, but to do that I need to instance Generic, for Mysql.Simple.Query
12:26:49 <RickP> i'm using lens-family btw
12:27:00 <came_for_lambdab> @pl case x of [] -> []; otherwise -> head x
12:27:00 <lambdabot> (line 1, column 16):
12:27:00 <lambdabot> unexpected '>'
12:27:00 <lambdabot> expecting operator
12:27:07 <came_for_lambdab> @pl case x of; [] -> []; otherwise -> head x
12:27:07 <lambdabot> (line 1, column 10):
12:27:07 <lambdabot> unexpected ';'
12:27:07 <lambdabot> expecting variable, "(", operator or end of input
12:27:35 <came_for_lambdab> @pl if null x then [] else head x
12:27:36 <lambdabot> if' (null x) [] (head x)
12:27:58 <Fylwind> I noticed that using (x, y, z) = … actually works for defining top-level values; is there a reason I never see anyone use them in practice?
12:28:09 <hiptobecubic> @pl \x -> if null x then [] else head x
12:28:09 <lambdabot> ap (flip if' [] . null) head
12:28:52 <hiptobecubic> came_for_lambdab, although that only makes sense if x is of type [[a]]
12:29:10 <hiptobecubic> came_for_lambdab, you probably want something like more like safeHead :: [a] -> Maybe a
12:29:35 <hiptobecubic> which, terribly, is called "listToMaybe" 
12:29:42 <hiptobecubic> > listToMaybe [1,2,3]
12:29:44 <lambdabot>  Just 1
12:29:47 <hiptobecubic> > listToMaybe []
12:29:49 <lambdabot>  Nothing
12:30:25 <came_for_lambdab> oh, someone's talking to me. Hello.
12:33:11 * hackagebot HTF 0.13.0.0 - The Haskell Test Framework  http://hackage.haskell.org/package/HTF-0.13.0.0 (StefanWehr)
12:33:29 <came_for_lambdab> i wanted just a [] in the end of my recursive function, that's working on list of lists
12:34:20 <maerwald> came_for_lambdab: yes, that's a good idea
12:40:27 <enthropy> Fylwind: probably because you can get the same result from  x = ...; y = ...; z = ...; if you put whatever things are shared (let/where) also at top level
12:47:32 <albeit> With GHC 7.10.1 when I try to do heap profiling with "-hm" it says its not an option. Its an option in the docs though... was it removed?
12:48:25 <Denommus> if I have let x = Nothing, how doesthe type checker knows that I can Show it?
12:49:15 <kadoban> albeit: It's an RTS option, isn't it? Are you passing it correctly, and is the program compiled with profiling turned on?
12:49:47 <albeit> kadoban: Yep, it works fine with just "-h". But if I try hm/hd/hy/hr they all fail
12:50:27 <geekosaur> they're missing if not compiled with profiling, looks like
12:50:29 <joshc> Denommus: are you testing via ghci?  ghci has a set of defaulting rules that sometimes cause confusing behavior
12:51:03 <geekosaur> ^ ExtendedDefaultRules, it will assume Maybe ()
12:51:56 <albeit> geekosaur: Meaning I haven't compiled GHC with profiling?
12:52:08 <geekosaur> it's unusual to compile ghc with profiling
12:52:09 <Denommus> joshc: yup, ghci
12:52:33 <geekosaur> it can be done but the build is much slower
12:52:59 <geekosaur> "ghc +RTS --help" shows -h but not the other options, because no profiling
12:53:15 <kadoban> albeit: Can you paste a transcript of what you've done, including the build of the program you're trying to profile, with -fforce-recomp ?
12:53:28 <geekosaur> (that's the definitive answer for runtime options available to a given program)
12:53:34 <kadoban> I would assume you just didn't compile the program with profiling …
12:53:53 <c_wraith> honestly, -h is pretty good for a first pass.
12:54:03 <geekosaur> if this is a specific program, run that program with +RTS --help to see what runtime options are available to itrr
12:54:14 <c_wraith> The more specialized diagnostics are sometimes useful, but the overall shape is often the most useful part
12:54:51 <albeit> Yes, it only shows "-h" is an option... how do I compile GHC for profiling? I see when I "make install" I can enable GhcProfiled, but that seems to be for profiling GHC itself
12:54:55 <geekosaur> ghc itself does not need to be built with profiling in order for it to compile something else with profiling, but you must compile that something else with profiling
12:55:09 <geekosaur> (you seem a bit confused on that point)
12:55:37 <geekosaur> note that any libraries your program uses must also be built with profiling enabled
12:55:42 <monochrom> your exe and the libs it uses need to be built with profiling
12:55:45 <kadoban> albeit: The profiling guide thing in RWH is pretty short and sweet, and last I checked still worked fine.
12:55:53 <kadoban> albeit: Maybe follow that?
12:56:27 <monochrom> http://www.vex.net/~trebla/haskell/cabal-cabal.xhtml#config
12:58:12 * hackagebot syb-with-class 0.6.1.6 - Scrap Your Boilerplate With Class  http://hackage.haskell.org/package/syb-with-class-0.6.1.6 (AndreaVezzosi)
12:59:51 <RickP> i posted my question on stackoverflow: http://stackoverflow.com/questions/30538101/why-cant-i-bind-and-reuse-a-haskell-lens-like-a-normal-variable
13:00:20 <jae686> good afternoon
13:00:41 <maerwald> depending on your timezone
13:01:03 <geekosaur> RickP, do you have MonoLocalBinds enabled (or something that turns it on, like GADTs)?
13:01:05 <Welkin> time is a cultural construct
13:01:17 <jae686> :)
13:01:19 <RickP> no
13:01:28 <Welkin> RickP: Rick Perry?
13:01:43 <RickP> lol no
13:01:52 <RickP> i only have FlexibleContexts and Rank2Types
13:02:04 <maerwald> Welkin: the construct is "human" and the meaning is even more specific than cultural
13:02:27 <geekosaur> mm, Rank2Types
13:02:35 <geekosaur> that does mess with type inference a bit
13:02:44 <jae686> well, I have a question, a dumb one
13:02:56 <maerwald> don't make it so exciting
13:03:11 <geekosaur> @where justask
13:03:11 <lambdabot> Just ask your question. If somebody knows, they'll answer. If not, they won't, and you'll wait around; it will be no worse than having nobody who wants to claim expertise.
13:04:02 <RickP> geekosaur: i need it to say "Lens' State (O.Cacheable b)" in a type signature
13:04:26 <RickP> not sure why actually
13:04:34 <jae686> well, what exactly is a monad? 
13:04:45 <maerwald> jae686: you shouldn't ask that question
13:04:51 <maerwald> jae686: it's just a class#
13:05:05 <maerwald> you may ask "how does the Monad instance for Maybe work"
13:05:16 <maerwald> or "how does the Monad instance for List work"
13:05:16 <RickP> um
13:05:30 <geekosaur> RickP, so do that? let _table :: Lens' State (O.Cacheable b); _table = ...
13:05:48 <maerwald> they are all different, it doesn't make too much sense to think of Monad in a general term unless you are interested in category theory
13:05:52 <geekosaur> (in multiline form, the second line must be indented so both "_table"s start in the same column)
13:05:55 <Welkin> jae686: a Monad is a mathematical concept
13:06:02 <Welkin> in Haskell, it is a typeclass
13:06:55 <maerwald> jae686: I sometimes like to think of it as some sort of "design pattern", but then again... that's true for all typeclasses, right?
13:07:22 <Welkin> jae686: all you really need to know if bind (>>=) and return
13:07:25 <Welkin> is*
13:07:32 <geekosaur> it is a design pattern, one that is difficult to express in other languages
13:07:56 <kristof> maerwald: I can think of a hundred different uses for thinking of Monad in a general sense that isn't about category theory
13:08:13 * hackagebot lexer-applicative 1.1.1 - Simple lexer based on applicative regular expressions  http://hackage.haskell.org/package/lexer-applicative-1.1.1 (RomanCheplyaka)
13:08:28 <Welkin> learning some very basic category theory is helpful to understand haskell
13:08:49 <Welkin> at least functors and monads
13:09:00 <RickP> geekosaur: it worked, thanks
13:09:08 <maerwald> https://github.com/quchen/articles/blob/master/fbut.md#i-dont-understand-monads
13:09:24 <albeit> I recompiled everything with -fprof-auto and -fforce-recomp, and I'm still able to profile with "-h" but no other options. Pretty lost now...
13:09:25 <jae686> Welkin, do you have any pointers to some documentation on Category theory that I may read ?
13:09:35 <maerwald> "Use Monad instances, and don't worry about the Monad part." <- I agree
13:09:39 <Welkin> jae686: http://blog.sigfpe.com/2006/08/you-could-have-invented-monads-and.html
13:09:48 <Welkin> that is my favorite explanation of monads
13:09:52 <albeit> Doesn't having -h working imply that profiling is enabled in the compilation?
13:10:18 <jae686> thank you Welkin and maerwald 
13:10:22 <albeit> kadoban: The Real World Haskell profiling part was exactly what I was following...
13:10:34 <Welkin> jae686: also read this https://wiki.haskell.org/Typeclassopedia
13:11:08 <Welkin> jae686: the typeclassopedia is a great summary
13:11:22 <maerwald> kristof: yes, those 100 different uses are all type classes we can talk about, that's why I was saying
13:11:26 <jae686> I must admit that haskell is quite intimidating. very powerfull, but very very intimidating.
13:11:44 <maerwald> jae686: haskell is even useless :P
13:11:57 <kristof> Not true, it generates heat.
13:12:04 <maerwald> jae686: https://www.youtube.com/watch?v=iSmkqocn0oQ
13:12:13 <Welkin> jae686: within a few weeks (or months) of using it, it will feel completely natural, not intimidating
13:12:31 <kristof> So does rolling around on your side instead of walking
13:13:10 <maerwald> kristof: what do you mean?
13:13:13 * hackagebot pandoc-crossref 0.1.2.0 - Pandoc filter for cross-references  http://hackage.haskell.org/package/pandoc-crossref-0.1.2.0 (lierdakil)
13:13:15 <MP2E> I see it's troll day in #haskell
13:13:32 <voidzero> ?
13:13:42 <kristof> maerwald: I just meant if you layed on the ground and rolled around to your destination instead of walking for a few months, it would feel natural and you would get used to it.
13:13:51 <voidzero> it's friday.
13:14:00 <RickP> geekosaur: someone on SO told me to add NoMonoMorphismRestriction, that doesn't even require the explicit type signature
13:14:10 <maerwald> yeah, haskell takes some time to get used to it, lots of people give up before they get used to it, unfortunately
13:14:10 <RickP> i guess it's time i learn what these modifiers do :D
13:14:18 <geekosaur> that works but can have other unexpected effects
13:14:21 <maerwald> because they expect it to be similar to what they already know
13:14:31 <Welkin> RickP: I have run into the Dreaded Monomorphism Restriction before while using Lens as well
13:14:37 <jae686> just to give a context, I'm currently studying computer science , and we have a class called "Program Calculus", where the programming part is done in haskell. I never saw so much done in just a few lines...
13:14:57 <geekosaur> and, well, that doesn't seem like the MMR should have been involved unless you;re actually doing that at top level
13:15:06 <hunteriam> hey guys, im getting "ghc-pkg cache out of date" over and over and over again on windows
13:15:11 <hunteriam> ive recached and everything
13:15:20 <hunteriam> i also found a ticket for it with no response
13:15:20 <geekosaur> or you really did have MonoLocalBinds enabled (gm)
13:15:24 <hunteriam> does any one know of a solution?
13:15:27 <geekosaur> (hm)
13:15:42 <geekosaur> (I don't know if disabling MMR disables MLB)
13:17:26 <RickP> never touched MonoLocalBinds
13:17:58 <RickP> but MMR might only potentially give me other weird type errors right? not weird runtime behavior i hope
13:18:42 <geekosaur> well, it can change sharing in unbexpected ways
13:18:59 <geekosaur> so yes, weird runtime behavior, specifically using a lot more memory than you expected
13:19:40 <RickP> i see
13:20:01 <RickP> i guess i'll use an explicit type signature unless i end up needing one everywhere
13:20:06 <geekosaur> that's actually the point of the MMR, people do not expect foo = [1..100000] to use massive amounts of memory
13:23:13 * hackagebot lexer-applicative 2.0 - Simple lexer based on applicative regular expressions  http://hackage.haskell.org/package/lexer-applicative-2.0 (RomanCheplyaka)
13:31:42 <MitchellSalad_>  
13:33:14 * hackagebot algebra-dag 0.1.1.1 - Infrastructure for DAG-shaped relational algebra plans  http://hackage.haskell.org/package/algebra-dag-0.1.1.1 (AlexUlrich2)
13:33:16 * hackagebot algebra-sql 0.3.0.0 - Relational Algebra and SQL Code Generation  http://hackage.haskell.org/package/algebra-sql-0.3.0.0 (AlexUlrich2)
13:33:18 * hackagebot DSH 0.12.0.0 - Database Supported Haskell  http://hackage.haskell.org/package/DSH-0.12.0.0 (AlexUlrich2)
13:33:20 * hackagebot dsh-sql 0.2.0.0 - SQL backend for Database Supported Haskell (DSH)  http://hackage.haskell.org/package/dsh-sql-0.2.0.0 (AlexUlrich2)
13:36:24 <dedgrant> hunteriam: Just a guess, but perhaps the user executing the ghc tools (like pkg building) doesn't have permission to update the files.
13:39:57 <dedgrant> hunteriam: Oh the mismatched timestamps in ticket 10205 are odd
13:40:20 <dedgrant> hunteriam: Maybe check in with #ghc as well?
13:57:35 <mmaruseacph2> [announce] HCAR 28 is out http://tinyurl.com/haskcar
13:58:13 <orion> Ross Ulbricht was sentenced to life in prison. :'(
14:00:56 <ion> He's a Haskell programmer?
14:07:58 <ReinH> No.
14:33:17 * hackagebot fasta 0.7.2.0 - A simple, mindless parser for fasta files.  http://hackage.haskell.org/package/fasta-0.7.2.0 (GregorySchwartz)
14:40:51 <Flumbo> Hello
14:48:18 * hackagebot codex 0.3.0.6 - A ctags file generator for cabal project dependencies.  http://hackage.haskell.org/package/codex-0.3.0.6 (aloiscochard)
14:57:25 <athan> Fuuzetsu: ping
14:58:13 <Fuuzetsu> athan: hi
14:58:56 <Welkin> athan: marco
14:59:29 <dmj`> athan: athan
14:59:30 <athan> Fuuzetsu: Hey, so I want to make haddock's constraint typesetting better, but I don't know where to look. Would that be in `haddock-api`?
14:59:35 <athan> :|
14:59:49 <Welkin> dmj`: ah, you just joined
14:59:52 <athan> Welkin: *relays*
15:00:02 <Welkin> dmj`: pure is pretty great
15:00:11 <dmj`> Welkin: =) 
15:00:17 <athan> dmj`: whatsups
15:00:33 <athan> pure?
15:00:36 <dmj`> Welkin: yea? you're using it now
15:00:38 <Fuuzetsu> athan: Haddock.Backends.Xhtml in haddock-api I assume
15:00:45 <dmj`> athan: http://purecss.io
15:00:50 <athan> Fuuzetsu: Alright, I'll dig more. Thank you
15:01:04 <dmj`> such responsive, very pure
15:01:10 <athan> oh! Yeah I eavesdropped on that one :)
15:01:16 <athan> many clarity
15:01:17 <Fuuzetsu> I suspect it will involve asking GHC about the fixity and using that, it'd be instructive to check stuff done in the past that does something like this
15:01:47 <athan> Fuuzetsu: Maybe, I might get away with it by breaking newlines for each `,` comment
15:02:04 <athan> (but if so I'll dig more)
15:05:12 <Pamelloes> Is there a way to do some form of functional dependency in an algebraic data type? Ideally I'd have a data MyType a = MyType a b | a -> b. Then if I create a MyType (1::Int) ("hi"), one could infer all MyType Int have a b :: String 
15:06:19 <athan> Pamelloes: Why not make a typeclass?
15:06:28 <ion> Pamelloes: type family Foo where { Foo Int = String }; data MyType a = MyType a (Foo a) or something like that
15:06:49 <ion> Pamelloes: You can make the type family closed or open depending on what you want.
15:07:19 <athan> Are injective type families implemented in GHC currently? I saw the paper on reddit
15:07:22 <Pamelloes> ion: I've never seen the type family notation before. What does that mean?
15:07:35 <athan> Pamelloes: Closed type families :)
15:07:50 <Pamelloes> Pardon my ignorance, but what's a type family?
15:07:59 <athan> check out the paper - http://research.microsoft.com/en-us/um/people/simonpj/papers/ext-f/axioms-extended.pdf
15:08:08 <ion> Pamelloes: A type-level function.
15:08:30 <athan> that may not be injective*
15:08:52 <Pamelloes> Hm, sounds interesting.I'll read the paper :)
15:09:15 <Welkin> athan: text parsing is always exciting
15:10:13 <athan> :D!!!
15:10:19 <Welkin> composed one-liners
15:11:09 <athan> Welkin: Were you mentioning the file concatenator thing I'm doing?
15:11:15 <Welkin> yes
15:11:22 <athan> ah
15:11:28 <athan> any criticisms?
15:11:47 <Welkin> I only saw you mention parsing
15:11:55 <Welkin> I don't know what your project is
15:12:06 <athan> Welkin: https://github.com/ltext/ltext
15:12:19 <athan> it's still not quite finished, but it's (sorta) functional
15:15:24 <Welkin> ah, a template system
15:15:52 <Welkin> I've found shakespeare to be my favorite web template system so far
15:16:58 <athan> Welkin: Same here, for the most part. I don't want this to be for the web, though
15:17:11 <athan> just for random text files you can't help but duplicate
15:24:53 <Pamelloes> What does linear vs nonlinear pattern mean?
15:25:53 <athan> Pamelloes: Think in terms of overlapping
15:25:59 <athan> (at least I think :x)
15:26:10 <Pamelloes> So linear doesn't overlap but nonlinear does?
15:26:16 <athan> I believe so
15:26:27 <Pamelloes> Alright, that makes sense in the context of the paper I'm reading
15:26:40 <athan> Pamelloes: The closed type families one, right?
15:26:59 <Pamelloes> Yes, though it talks about open type families, too
15:27:24 <athan> Pamelloes: It really helped me see the difference :)
15:27:28 <Enigmagic> Pamelloes: i think it's described on the first page of the paper
15:27:40 <Enigmagic> " Our system supports non-linear left-hand sides, such as that for Equal above, where the variable a is repeated in the first equation.
15:27:54 <Pamelloes> Huh, I totally missed that
15:28:44 <Enigmagic> it also has a section 2.2 "Non-linear patterns" :)
15:29:19 <Enigmagic> however it sounds like the little blurb on page 1 is all there is to it
15:29:30 <Pamelloes> I was reading section 2.2 and not sure what they were talking about, that's why I asked here :)
15:29:48 <Pamelloes> I tried googling and all that came up was various types of line art...
15:33:57 <Fylwind> enthropy: that's actually why I was looking into it: I wanted to share some values between x, y, z but not put it on the top level
15:38:20 * hackagebot lexer-applicative 2.1 - Simple lexer based on applicative regular expressions  http://hackage.haskell.org/package/lexer-applicative-2.1 (RomanCheplyaka)
15:46:58 <parliament> Hi. Is there a name for a container type that can only 1) wrap a single value in the collection, and 2) concatenate two collections?
15:47:03 <jacob2> I want to get haskell environment under emacs. should I install haskell-mode or structured-haskell-mode?
15:47:15 <c_wraith> parliament: paradoxical?
15:48:21 * hackagebot pipes-vector 0.6.2 - Various proxies for streaming data into vectors  http://hackage.haskell.org/package/pipes-vector-0.6.2 (BenGamari)
15:48:26 <parliament> c_wraith: uh, why is that? say wrap and ++ are the functions. then using it would look like (wrap(1) ++ wrap(2)) ++ wrap(3) etc
15:48:48 <c_wraith> parliament: if you concatenate two collections, don't they contain more than one element?
15:49:33 <parliament> the new one would, yeah. you could wrap two values individually and concatenate them together to produce a container with both values
15:49:40 <Fylwind> c_wraith: for a sec I thought there was as package called 'paradoxical' on Hackage or something
15:50:01 <nitrix> Hi, is someone aware of a b-tree package that'd let you implement your own backend for node operations?
15:50:05 <parliament> sorry, I was describing the two supported operations. like how monads have return and bind
15:50:17 <Fylwind> parliament: it looks to me like a binary tree
15:50:25 <nitrix> I want it to start with a on-disk package and extend it to add some networking.
15:50:56 <parliament> Fylwind: I can implement it fine, I was just wondering if there's an FP name for it like "monad" or "lens" or "zipper" or whatever
15:51:21 <c_wraith> parliament: Oh. Why would there be a name for it, unless there's some useful properties?
15:51:31 <Fylwind> if you can implement it, maybe show how you did it and someone can figure out a name for it :p
15:52:04 <kadoban> It sounds vaguely like some of the weird stuff towards the end of Purely Functional Data Structures, heh.
15:53:40 <parliament> c_wraith: it's pretty useful IMO. you can work on independent bits of a problem, produce partial answers, and then reduce them into a single answer. each processor produces its answer as a singleton wrap(value) and then you hierarchically ++ the results together
15:53:50 <parliament> kind of like mergesort now that I think about it
15:54:10 <c_wraith> parliament: if you remove the wrap operation and add an identity element, you get monoids.
15:56:19 <parliament> now *that* doesn't sound very useful. it can't actually hold any data then right? so you'd be limited to stuff like peano arithmetic
15:57:07 <parliament> er, maybe I'm thinking of church numerals
15:58:15 <parliament> well, I guess not. there would be no zero, since identity would have to be 1 for anything useful to happen
15:58:44 <neonrooster> guys, how hard would it be to find upcased directory names in $HOME and fix them to lowercase recursively?
15:58:58 <neonrooster> rename the upcased directories into lowercase
15:59:04 <koala_man> in haskell?
15:59:09 <yqt> hi sorry for maybe silly question, i see in Data.Time parseTime has been deprecated in favor of parseTimeM. unfortunately this function calls fail and this is not somehting i'd like to do. is there some other function i didn't find which has a nice behaviour? or should i make my own parser?
15:59:12 <neonrooster> yes koala_man
16:00:26 <c_wraith> parliament: they can be anything you like.  lists are an instance of monoid, for instance.
16:01:05 <neonrooster> see I have Lexar in ~/Desktop and I want that lowercase as well, except I want a filter saying "Not this directory or below"
16:01:22 <c_wraith> parliament: the interesting properties are that if you combine two, you get back a third one, there's an identity element, and the combination operator is associative.
16:01:39 <parliament> c_wraith: well lists need an operation for adding other things to them. they're not limited to just having an empty list and concatening lists. it sounded like you were saying that those are the only properties of a monoid
16:01:59 <parliament> they need cons also
16:02:37 <c_wraith> parliament: yes, but monoid is a widely useful abstraction by itself.  Lots of operations can be done for all monoids usefully.
16:02:55 <glguy> yqt: Just use parseTimeM with 'm' instantiated to Maybe
16:03:09 <neonrooster> koala_man: I'll be right back, I just need to switch to WeeChat
16:03:14 <yqt> oh thanks glguy
16:03:38 <koala_man> neonrooster: I don't know. this is something I do with shell oneliners
16:03:40 <glguy> yqt: fail is a method of the Monad class, and for Maybe fail _ = Nothing
16:03:40 <parliament> c_wraith: oh, duh. you were correct when you said lists are monoids because they have all of the properties of a monoid, even though they support additional operations. sorry, I'm stupid
16:04:06 <c_wraith> parliament: so there are other operations that exist, like foldMap, which works over all monoids.
16:04:11 <yqt> i just didn't know that because i never looked into fail much, thx :D
16:04:22 <c_wraith> > getProduct $ foldMap Product [1..10]
16:04:24 <lambdabot>  3628800
16:04:31 <c_wraith> > getSum $ foldMap Sum [1..10]
16:04:33 <lambdabot>  55
16:04:51 <c_wraith> parliament: foldMap is useful specifically because there are so many useful things you can do with Monoid
16:05:18 <SrPx> What is the most efficient way to generate a huge array (1000000 elements) every frame on a Gloss program? I don't want GHC to alloc 1kk elements each frame, so the obvious solution would be holding a single mutable vector and rewriting over it on a loop. Is there any way to do this without mutable vectors? Any optimization GHC applies on unboxed vectors + map, or something like that?
16:05:22 <c_wraith> parliament: anyway, I've got to run, but..  That's my thought on the closest thing to what you described that shows up commonly.
16:07:19 <dedgrant> koala_man: One approach for familiarity: https://github.com/Gabriel439/Haskell-Turtle-Library :)
16:11:47 <ezyang> Using Criterion, is there a way to make it report per test GC numbers? 
16:13:22 * hackagebot wai-request-spec 0.10.0.0 - Declarative request parsing  http://hackage.haskell.org/package/wai-request-spec-0.10.0.0 (alcabrera)
16:13:59 <dedgrant> SrPx: What kind fo data are you looking to produce/consume? What are the endpoints?
16:14:30 <SrPx> dedgrant: I'm procedurally creating voxel grids that vary with time
16:14:49 <SrPx> I'm feeding those grids to a cuda renderer using storable vectors
16:15:25 <juanpaucar> I can't understand with since ghc 7.10 many modules must add now a FlexibleContexts pragma
16:15:40 <juanpaucar> does anyonw knows?
16:25:53 <Guest74865> is there a more up to date introduction to cabal sandboxes than this one from 2013? http://coldwa.st/e/blog/2013-08-20-Cabal-sandbox.html
16:26:01 <Guest74865>  /nick jacob2-
16:30:38 <dedgrant> SrPx: It sounds like you're already on the right path with Storable. You don't necessarily have to reallocate that buffer on every frame. Are you sure about where the time is going right now (profile)?
16:30:59 <michaelt> jacob2-: I don't know if it's more informative, but there is material in the cabal user guide now " https://www.haskell.org/cabal/users-guide/installing-packages.html#developing-with-sandboxes
16:31:12 <SrPx> no need to profile, when I reduce the size of the box I'm generating it runs smoothly 
16:31:41 <SrPx> (also the fact profiling doesn't seem to work with cuda ffi)
16:32:18 <dedgrant> SrPx: But it could be stalling on upload, generating too many allocations, blowing cache, repeating too much evaluation ... there are different strategies to employ to help narrow down the culprits.
16:32:18 <SrPx> dedgrant: but how can I not realloc it every frame without mutable vectors? storable vector's generate *will* realloc every frame, right?
16:33:00 <SrPx> I don't think it is stalling on upload since uploading a vector that doesn't change every frame is fine
16:34:07 <jacob2-> thanks.. btw how do I install a program from hackage without installing any of the dependencies globally? I could download it, create a sandbox for it, and then install it, but is there an easier way?
16:34:46 <michaelt> jacob2-: you mean just an executable? 
16:34:52 <jacob2-> yes
16:35:40 <kadoban> jacob2-: Install it in a sandbox and then link it? That's what I do. I can't tell if that's what you're trying to avoid though, or why.
16:35:42 <michaelt> I don't think there would be an easier way. What are you building?
16:36:07 <jacob2-> hindent
16:38:05 <dedgrant> SrPx: Right. Well worse comes to worse, there is Vector.Storable.Mutable.unsafeWrite.
16:38:18 <michaelt> jacob2-: what, you don't like building haskell-src-exts and text and so on. ...
16:38:22 <michaelt> jacob2-: ;)
16:39:04 <jacob2-> well, before I would have just typed "cabal install hindent". so I was hoping there was an equivalent without installing any of the dependencies
16:39:31 <SrPx> dedgrant: uh huh, I wonder why there is no Vector.Storable.mutableMap ... or something like that, which made the conversion and mapped inplace, assuming you wouldn't use the old version
16:39:38 <SrPx> I might add that to my utils
16:40:36 <dedgrant> SrPx: Yea I'm sure there are probably a number of packages that approach this problem from different domains.. Repa, Accelerate, come to mind, but they may not match your requirements.
16:40:54 <SrPx> uh huh
16:41:03 <SrPx> okay
16:41:22 <dedgrant> SrPx: Did you check for associated gloss 'performance extras' that might help with this?
16:43:10 <jacob2-> well i screwed something up because it installed all the packages in global directory :/
16:43:25 <dedgrant> SrPx: See gloss-accelerate for example: https://hackage.haskell.org/package/gloss-accelerate (I've not used this so can't vouch)
16:43:43 <michaelt> you mean the real global directory or the one in ~/.cabal or whereever
16:44:21 <michaelt> SrPx: did you see http://stackoverflow.com/a/30268273/183792 about gloss's perpetual garbage collection?
16:44:21 <SrPx> I'm aware, thank you :) oh seems like the performance is kinda good by just replacing Storable.Vector.fromList with Storable.Vector.generate. I wish I could profile to see wether it is worth replacing by mutable
16:44:34 <SrPx> yep that's my post lol
16:45:02 <michaelt> oh cool
16:45:18 <SrPx> :)
16:45:32 <dedgrant> SrPx: Well there you go.. just eliminating that list probably kills a whole slew of thunk allocations. :)
16:45:45 <SrPx> exactly
16:46:47 <SrPx> for anyone curious, by the way... cuda is insane... the performance after migrating from REPA to CUDA ffi improved at least 2 orders of magnitude
16:47:04 <jacob2-> I got this after typing cabal install --only-dependencies: Notice: installing into a sandbox located at
16:47:19 <jacob2-> yet it still installed all the packages globally.. wth
16:48:19 <NemesisD> i'm trying to get travis to build my project with ghc 7.10.1 and i've encountered this error. has anyone seen this: ghc no longer supports single-file style package databases (dist/package.conf.inplace) use 'ghc-pkg init' to create the database with the correct format.
16:48:36 <parliament> so we were talking here earlier about monoids... I don't understand how that can be useful at all. take the monoid (Int, +, 0). you can't do _anything_ with it, right? all you can do is take zero, and add it to other instances of zero, right?
16:48:46 <NemesisD> am i using too old a version of cabal or something?
16:50:10 <parliament> (since monoids don't have a function for wrapping arbitrary integers in the monoid)
16:50:18 <dedgrant> SrPx: Nice!
16:50:51 <pacak> > getSum $ foldMap Sum [1..10]
16:50:53 <lambdabot>  55
16:51:21 <dedgrant> NemesisD: I was going to ask the same thing (ie: is cabal too old?)  :)
16:51:34 <nskdfopp> What kind of database should I use to store data with complex, variable structure?
16:52:25 <kadoban> A complex, variable database, probably.
16:52:55 <NemesisD> dedgrant: looks like my travis setup was using 1.18 so i'm giving it a try with 1.22
16:53:12 <nskdfopp> kadoban: like what? Document oriented database?
16:54:05 <kadoban> nskdfopp: No idea, just a dumb joke. I assumed more info on what kind of data you're trying to store was incoming.
16:55:29 <nskdfopp> basically the a simple version of the data  is two main types - an index type which has a fixed structure and a few fields and a description structure which has varying number of fields
16:56:04 <nskdfopp> I can store the varying number of fields in a list
16:56:15 <nskdfopp> which is not supported by sql to my understanding
16:58:20 <kadoban> I'm not much of a SQL expert I wouldn't say, but couldn't you just have a unique key to identify each record, and then have another table with multiple rows, mapping each unique key to one element of the list?
16:59:29 <dedgrant> parliament: Values can be constructed from types elsewhere. (IntPlus 5 <> IntPlus 3 <> mzero <> IntPlus2) is fine as long as instance Monoid IntPlus exists, etc.
16:59:45 <michaelt> jacob2-: were you inside the hindent source? I guess you must have been if you used --only-dependencies ...
17:01:27 <parliament> dedgrant: I see. so being a monoid is a completely useless property on its own; it just describes a set of properties that might be useful in conjunction with other properties. thanks
17:04:12 <subleq__> I don't understand the type-safety comments about unsafePerformIO. Why does the bang example work? How do you implement coerce :: a -> b with unsafePerformIO?
17:04:38 <jacob2-> michaelpj_ I was
17:04:45 <jacob2-> michelt*
17:06:54 <enthropy> subleq__: \y -> let x = unsafePerformIO newEmptyIORef; in unsafePerformIO $ do writeIORef x y; readIORef x
17:07:31 <subleq__> enthropy: ok, pretty much like the bang example. But why?
17:07:33 <enthropy> the "x :: IORef a", so you can read it at a different type than you wrote it
17:07:46 <enthropy> what is the bang example?
17:08:04 <subleq__> https://hackage.haskell.org/package/base-4.7.0.1/docs/System-IO-Unsafe.html
17:08:54 <michaelt> jacob2-: and you did cabal sandbox init first hmmm
17:09:29 <enthropy> yes it's the same idea
17:09:43 <subleq__> why is it possible with unsafePerformIO but not without?
17:09:44 <jacob2-> michaelt yes. I see tar.gzs for all the packages in cabal/packages/hackage.haskell.org/
17:10:09 <miscyb> does anyone know how to install yesod on fedora 22?
17:10:42 <miscyb> i tried to follow on the site, but it said that it exhauseted the entire tree
17:11:09 <jacob2-> michaelt hmm, but I see them in .cabal-sandbox as well. is that normal that all the archives are downloaded to the global cabal directory?
17:11:23 <miscyb> also, i tried updating cabal, and that failed with packages saying that the cabal library was out of date
17:11:49 <kadoban> miscyb: yesod is in stackage, so what I'd do is start with a clean install of just GHC and cabal, and use stackage to build yesod in a sandbox.
17:12:21 <mjrosenb> is it possible to import a small set of things from a module qualified, and the rest unqualified?
17:12:27 <miscyb> kadoban: should i use the haskell-platform in the fedora repos
17:12:29 <michaelt> jacob2-: yes, I have that, in hindent-4.4.2/.cabal-sandbox/packages 
17:12:48 <miscyb> because installing from scratch would be difficult
17:12:50 <kadoban> michaelt: I don't use platform, no.
17:12:58 <jacob2-> do you have archives in the global cabal dir?
17:13:21 <miscyb> kadoban: my window manager depends on the haskell-platform i believe
17:13:22 <miscyb> let me check
17:14:00 <kadoban> miscyb: https://github.com/bitemyapp/learnhaskell/blob/master/install.md this maybe?   If it does, I dunno then.
17:14:27 <kadoban> Maybe you can build your WM with another toolchain or in another sandbox or something, I really don't know.
17:14:31 <michaelt> mjrosenb: yes, import Z (z); import qualified Z as Z
17:14:43 <miscyb> kadoban: that looks good
17:14:55 <miscyb> hopefully that repo stays updated
17:15:00 <michaelt> miscyb: for example I usually do import Data.Text (Text); import qualified Data.Text as T
17:16:06 <michaelt> jacob2-: I have them in the central ~/.cabal and in all the sandboxes.  It's just the list from hackage right?
17:18:47 <mjrosenb> michaelt: does it need to be in that order?
17:19:05 <michaelt> mjrosenb: I don't think order matters. 
17:19:07 <kadoban> mjrosenb: Order won't matter for that
17:19:55 <mjrosenb> gah.
17:20:00 <mjrosenb> different problem now.
17:22:18 <geekosaur> miscyb, xmonad does not requre the Platform
17:22:32 <miscyb> geekosaur: yeah i realized it doesn't
17:22:46 <miscyb> but surprisingly installing the platform seems to be fixing things
17:22:59 <miscyb> it's building the latest cabal-install now
17:23:37 <mjrosenb> ok, so for ffi calls, if I just add something as an argument or return value, as long as it is marshalable, ghc should just do the right thing?
17:24:29 <mjrosenb> no, wait, it is complaining about Ptr Format, not Format
17:24:39 <mjrosenb> why should it care what the pointer is pointing at?
17:26:03 <Cale> mjrosenb: Does the C thing take/produce a pointer?
17:27:29 <mjrosenb> Cale: it takes a pointer.
17:27:41 <Cale> Then yeah, you have to give it one.
17:29:17 <mjrosenb> right, so I have foo :: Ptr Format -> IO (), and it was complaining that Format wasn't storable.
17:29:59 <jacob2-> I installed haskell-mode. built hindent. added (require #'hindent) in .emacs file. but when I open test.hs and press enter I get: You tried to do an indentation command, but an indentation mode has not been enabled yet
17:30:27 <jacob2-> I also have: (add-hook 'haskell-mode-hook #'hindent-mode)
17:32:44 <Cale> mjrosenb: Well, that's probably got something to do with how you're constructing the Ptr argument? Or, well, it's a bit hard to guess without seeing the exact error.
17:33:50 <Cale> mjrosenb: Most of the operations for writing Haskell values to memory require a Storable instance.
17:34:25 <mjrosenb> Cale: I'm not calling it, just declaring it.
17:37:01 <dedgrant> parliament: The benefit (or drawback) of Monoid (or any typeclass) is the ability to overload function names. For instance, the string concatentation function ((++) :: String -> String -> String) only matches the String type, but instance Monoid String (which we define as concatentation by convention, for better or worse..) permits ((<>) :: Monoid a -> a -> a -> a). Now the same function name (<>) will also concatenate 
17:37:01 <dedgrant> ByteString, Text and perhaps other string-like types.
17:37:37 <mjrosenb> ok, next ffi question: this library has a C function that takes in a function pointer, and an argument, is it possible to get haskell to use that to pass its context in, rather than the wrapper method that it uses currently?
17:37:50 <parliament> dedgrant: thanks
17:37:54 <R0b0t1> Is there a good place to start reading about how Haskell is implemented?
17:38:23 <Cale> mjrosenb: This is all very vague. Could you put your code somewhere?
17:41:42 <Cale> R0b0t1: hmm, it sort of depends on which parts you're interested in most.
17:42:29 <Cale> http://www.dcc.fc.up.pt/~pbv/aulas/linguagens/peytonjones92implementing.pdf is a good paper with regard to implementation of expression evaluation at runtime
17:42:39 <R0b0t1> Mostly worried about parsing and intermediate representations, but I guess I'll care about all of it at some point.
17:42:45 <Cale> ah, okay
17:42:53 <mjrosenb> Cale: https://github.com/mpv-player/mpv/blob/master/libmpv/client.h#L1487
17:43:04 <R0b0t1> oh THERE that is
17:43:06 <mjrosenb> Cale: is the function I'm looking at right now.
17:43:16 <R0b0t1> Cale, thanks I'd found that once and had been looking for it forever
17:43:59 <Cale> There's this quite old book SPJ wrote which is mostly relevant. It uses Miranda since Haskell didn't exist at the time. http://research.microsoft.com/en-us/um/people/simonpj/Papers/slpj-book-1987/index.htm
17:47:31 <Cale> mjrosenb: You mean, how to pass that thing a Haskell computation for the callback it wants?
17:47:43 <R0b0t1> Cale, thanks. What other large portions of haskell are there?
17:47:52 <R0b0t1> Assuming it's not structured like most compilers or something
17:47:58 <Cale> R0b0t1: Well, the typechecker is pretty big
17:48:18 <R0b0t1> got something for that?
17:48:25 <R0b0t1> I'm pretty sure I mostly know how it works, but maybe not
17:48:46 <mjrosenb> Cale: I mean I can trivially ignore the last argument, and use the existing mechanism that (I assume) generates code that creates the environment, and passes in a pointer to that
17:49:10 <mjrosenb> Cale: but I would like it if I could have it not do that, and instead use all of the arguments.
17:50:10 <Cale> R0b0t1: The most up to date comprehensive thing as far as I'm aware is this: http://research.microsoft.com/en-us/um/people/simonpj/papers/constraints/jfp-outsidein.pdf
17:50:34 * R0b0t1 rubs Cale 
17:50:36 <R0b0t1> yasss
17:50:37 <R0b0t1> thanks
17:50:41 <Cale> That's with respect to making all the extensions and such work together
17:50:50 <R0b0t1> oh that's extra good
17:51:43 <Cale> (which requires a lot more subtlety than just implementing Haskell 98 would require)
17:52:09 <R0b0t1> I'd started to realize
17:53:05 <wolftune> so, I was trying to do x * 0.1 … and in this context I get an error No instance for (Fractional Int64) arising from the literal ‘0.1’
17:53:10 <wolftune> what do I do?
17:53:10 <Enigmagic> mjrosenb: pretty sure the answer is no
17:53:17 <Cale> R0b0t1: There's a bunch of random notes on GHC here: https://ghc.haskell.org/trac/ghc/wiki/Commentary
17:53:30 <Cale> R0b0t1: and generally, SPJ's papers are pretty good resources
17:53:49 <Cale> http://research.microsoft.com/en-us/um/people/simonpj/Papers/papers.html + http://research.microsoft.com/en-us/people/simonpj/
17:54:19 <mjrosenb> Enigmagic: bummer, and it would be (somewhat) easy
17:55:03 <R0b0t1> Cale: double thanks
17:57:53 <Cale> wolftune: Well, what behaviour do you want? Is x guaranteed to be an Int64? What type of value do you want to produce?
17:58:21 <wolftune> x is coming from somewhere where it is already defined as Int64 I think
17:58:41 <Cale> and you want a Double result?
17:58:45 <wolftune> I'm actually doing T.pack (show $ shares * 0.1)
17:58:49 <Cale> Or another Int64?
17:58:59 <wolftune> shares (not x), I just wrote x here
17:59:06 <wolftune> so I actually want Text
17:59:27 <wolftune> I just want the shares multiplied by 0.1 before outputting the Text
17:59:27 <Cale> Perhaps  show (fromIntegral shares * 0.1)
17:59:38 <wolftune> I'll try that, thanks!
17:59:56 <Cale> That will convert it to Double (by default)
18:00:09 <Cale> and it'll get shown as a Double value
18:02:52 <wolftune> Cale: it worked thanks!!
18:03:15 <buckmaster> I'm trying to generate a huge list of random values from IO actions - but I keep blowing the stack with replicateM. Is there another way to build really big lists from IO actions?
18:09:49 <Lokathor> how huge a list?
18:10:21 <Lokathor> my home computer does a million trials for calculating odds on a roll in about two seconds
18:18:27 <mjrosenb> anyone knoe if cairo renders using the gpu?
18:18:43 <wolftune> Cale: so, while everything compiles, I'm getting a warning "Defaulting the following constraint(s) to type ‘Double’"
18:23:22 <dmj`> When does using immutable arrays make sense, if they have to be copied... why not just only use mutable. It just seems like a pure data structure will always beat out an immutable array in terms of space.
18:24:42 <buckmaster> Lokathor: 1,200,000
18:24:56 <buckmaster> I've 'fixed' it by using foldM instead of replicateM
18:26:29 <Lokathor> buckmaster, https://github.com/Lokathor/SWStat/tree/master/src is what i use, if you care to peruse
18:26:43 <Lokathor> just threw it together over a weekend to fiddle with the State monad
18:27:38 <buckmaster> hm
18:27:51 <miscyb> does anyone know why yesod-core would fail to compile?
18:27:56 <miscyb> here's the log from cabal
18:27:58 <miscyb> http://lpaste.net/220371408998367232
18:29:23 <buckmaster> Lokathor: may just have been inadequate strictness on my part. I'm now  using $! to insert entries one by one into my set instead of fromList...  using $ demonstrates the stack blowup :/
18:29:41 <buckmaster> miscyb: sorry, no idea :(
18:30:20 <Lokathor> oh yeah, I use strict maps when i go through each trial
18:30:30 <buckmaster> mm
18:30:36 <buckmaster> there's no strict set AFAICT :(
18:30:46 <miscyb> buckmaster: i am indeed in cabal hell
18:30:47 <jacob2-> http://lpaste.net/133577  <- turn-on-haskell-indentation  indents like that by default. how can I have then and else aligned up instead?
18:31:21 <Lokathor> buckmaster, a strict map is like a strict set if you ignore the values and just go by what keys are in the map :3
18:31:27 <buckmaster> heh, I guess so
18:42:52 <SrPx> How do I load foo.o on ghci?
18:44:21 <jle`> is llvm 3.4 completely broken with ghc 7.10
18:45:06 <jle`> :(
18:45:11 <ion> @let instance Bounded a => Bounded [a] where { minBound = []; maxBound = repeat maxBound }
18:45:12 <lambdabot>  Defined.
18:45:29 <ion> @check \xs -> minBound <= xs && xs <= (maxBound :: [Int])
18:45:31 <lambdabot>  +++ OK, passed 100 tests.
18:53:40 <Free__> how i install ghc from package 
18:53:54 <Lokathor> what system Free__ ?
18:54:32 <unknownloner> I've used nokogiri in ruby for scraping web pages in the past. Are there any libraries comparable to that in haskell?
18:55:00 <Free__> yeah ghc whitout haskell platform 
18:55:13 <Free__> well im in kali linux 
18:55:18 <Free__> im free noob 
18:55:24 <Free__> im pretty noob *
18:55:36 <ion> Free: https://gist.github.com/ion1/2815423
18:55:37 <buckmaster> so yeah, this is fun
18:55:49 <buckmaster> I'm trying to create a map/set with ~1M entries
18:56:02 <buckmaster> memory usage is at 1.2GB or so
18:56:27 <buckmaster> each entry is a Text value that's about 25 chars long - so sholdn't the total Text memory usage be on the order of megabytes>
18:56:33 <buckmaster> *?
18:56:41 <ion> unknownloner: Perhaps http://hackage.haskell.org/package/scalpel-0.2.1/docs/Text-HTML-Scalpel.html
18:57:46 <unknownloner> Looks like it could work
18:57:49 <unknownloner> thanks!
18:59:40 <jacob2-> cabal sandboxes work nicely with haskell-mode.. if only I could also get indent working half decently :(
19:00:40 <c_wraith> ever since hi2 was folded in, I think indentation is pretty clean.
19:01:17 <jacob2-> I am getting this: http://lpaste.net/133577
19:01:23 <jacob2-> is that by design?
19:02:46 <jacob2-> using both turn-on-haskell-indentation and  turn-on-haskell-indent
19:03:42 <c_wraith> Oh.  definitely don't do both
19:04:17 <c_wraith> Also, haskell isn't structured enough to automatically guess indentation.  No matter what, you'll occasionally need to fix things.
19:04:21 <kirill`> jacob2-: haskell-mode has got three different indentation engines, so it wants you to pick one that matches how you type, definitely don't enable multiple at a time.
19:04:54 <jacob2-> I enabled one at a time
19:05:07 <Fylwind> hvr: do you know what is the cause of this error? https://travis-ci.org/haskell/directory/jobs/64050344#L445-L448 Somehow Cabal configured as 1.22.3 but now realises that it's actually 1.22.2
19:05:26 <jacob2-> c_wraith yeah but if-then-else is pretty basic!
19:05:40 <c_wraith> No.  if-then-else is a mess that I avoid at all costs
19:05:58 <c_wraith> I only use it if I can do it as a one-liner.
19:05:59 <jacob2-> what? you avoid using if-then-else?
19:06:58 <c_wraith> Yes.  It's not very common in code I write.  guards do the job better most of the time.
19:07:06 <kirill`> jacob2-: turn-on-haskell-indent gives you different indentation offsets, and as you keep pressing tab, it cycles through all the ones that it thinks are appropriate. I don't think it tries to pick *the* right one, because it can't know that.
19:07:34 <jacob2-> kirill it doesn't align else with then no matter how many times I press tab
19:07:34 <Fylwind> c_wraith: you can't use guards in arbitrary places though, have to use the 'case' trick (which adds a lot of noise in some situations)
19:08:18 <c_wraith> Fylwind: you don't need a case, you just need a binding.  let foo | x == y = ... | otherwise = ...
19:08:50 <kirill`> jacob2-: In my setup it aligns else with then on the second try, after trying to align it with the thing after "then" first.
19:09:09 <kirill`> Can't reproduce.
19:09:20 <jacob2-> c_wraith regardless whether you use if-then-else or not that is a basic part of the haskell syntax. and indentation mode should handle it properly
19:09:30 <jacob2-> kirill how does it indent for you?
19:09:56 <c_wraith> jacob2-: the thing is, there *isn't* a right indentation for if-then-else.  It introduces no layout.
19:10:11 <ion> There kind of is within a do block.
19:10:14 <c_wraith> jacob2-: which is why I use it only for one-liners.
19:10:43 <ion> Hmm, or was the evil extension that doesn’t require the indentation part of Haskell 2010?
19:10:47 <kirill`> 10, 5, 2, 7, 0
19:10:57 <monochrom> I only avoid one thing: strong opinions
19:11:08 <kirill`> column offsets for indenting after "then 10" in your snippet
19:11:28 <kirill`> Only 7 doesn't make sense, but 5 and 10 are good.
19:11:43 <jacob2-> c_wraith I think then aligned with else is "right" according to most people. I haven't seen a lot of code indenting it like in the paste
19:12:02 <buckmaster> ok, lesson learned. don't use lazy Text :/
19:12:59 <monochrom> that may be the wrong lesson
19:14:29 <monochrom> ion: have you seen my http://lpaste.net/81623 ? :)
19:16:22 <ion> monochrom: Heh. I had not.
19:18:55 <ronh-> I haven't seen *any* code misaligning else one space left of then. what mode does that?
19:20:22 <jacob2-> haskell-indent and haskell-indentation. haskell-simple-indent seems most usable.. but it is just a dumb manual indentation with tab indenting forward and shift-tab backward
19:21:25 <buckmaster> monochrom: I know :p. The lesson is that I need to actually understand what lazy Text is doing behind the scenes, but for now, reducing memory usage from 1.2G to 170M is good enough for me
19:24:36 <RyanGlScott> Does GHC impose a limit on the number of type variables a data type can have (like the maximum length of a tuple)?
19:25:58 <c_wraith> I believe it does, but it's ridiculously larger than the max tuple size
19:49:17 <Myrl-chan> Why is it (/) is not :: (Num a, Fractional b) => a -> a -> b
19:50:56 <mjrosenb> Myrl-chan: because you may want to divide two fractional numbers?
19:56:19 <geekosaur> mjrosenb, that wouldn't prevent that
19:56:46 * geekosaur does not know why specific decisions were made about the numeric typeclass stack
19:58:39 <enthropy> unless you add more stuff to Num you can't write such a function
19:58:49 <funfunctor> Hi, Anyone got a clue why I get "Enum not in scope" when trying to derive a Enum in Fay?
19:59:31 <funfunctor> I seems extremely odd not to have that as a typeclass?
19:59:44 <enthropy> maybe fay has no classes
20:00:07 <funfunctor> enthropy: well it seems to have Num, Read, Show, Eq
20:00:24 * funfunctor scratches head...
20:00:25 <mjrosenb> oh, is Fractional a subclass of Num?
20:00:36 <funfunctor> I think so
20:00:45 <geekosaur> funfunctor, they're ignored
20:00:55 <geekosaur> per https://github.com/faylang/fay/wiki/What-is-not-supported%3F#type-classes
20:01:09 <geekosaur> mjrosenb, all numeric types are "subclasses" of Num
20:01:13 <funfunctor> mjrosenb: http://en.wikibooks.org/wiki/Haskell/Classes_and_types
20:02:36 <funfunctor> geekosaur: hmm! thx, how can I get a Enum then? I just want data ErrorType = OK | NotOK | Bad deriving (Eq, Enum)
20:02:52 <geekosaur> you can't, as Fay currently exists
20:03:36 <funfunctor> how can I deal with enumerated error values coming back as a argument parameter in a given callback fuction provided to the FFI ?
20:04:42 <funfunctor> http://dev.w3.org/geo/api/spec-source.html I wrote a Haskell/Fay implementation of this, Actually its Haskell made as a instance of Fay using a typeclass
20:04:52 <funfunctor> s/instance of the Fay Monad
20:05:12 <funfunctor> notice though http://dev.w3.org/geo/api/spec-source.html#position-error that type needs to be a Enum
20:05:34 <funfunctor> What are my options?
20:06:40 <geekosaur> by hand, presumably
20:06:57 <geekosaur> I don't know Fay, just had a vague recollection that it dodn't support typeclasses and went digging on the Fay wiki
20:07:05 <bitemyapp> does anyone know of any good introductions to domain theory?
20:10:24 <funfunctor> bitemyapp: what is domain theory?
20:10:41 <funfunctor> geekosaur: well thanks for looking into that
20:10:56 <funfunctor> Are typeclasses really that complex for Fay?
20:10:58 <bitemyapp> funfunctor: http://www.cs.bham.ac.uk/~mhe/papers/escardo-ho-op-journal.pdf
20:11:05 <funfunctor> bitemyapp: thx!
20:12:00 <funfunctor> bitemyapp: looks like a excellent read, thanks for that.
20:25:30 <dzack> anyone know how i might go about troubleshooting 'cabal build' not picking up changes to the .cabal file?
20:25:41 <dzack> 'cabal clean' doesn't seem to help
20:26:16 <dzack> I'm basically just trying to add a single file with definite syntax errors in and have 'cabal build' catch it
20:26:42 <jacob2-> is there a way to have "cabal install" give an error if sandboxes initiated? to avoid installing global packages by accident
20:26:51 <jacob2-> if sandbox isn't initiated*
20:29:52 <dzack> jacob2: I know there is, I set it up a while ago but forgot what the option was. Let me see if I can find it again
20:30:18 <jacob2-> cool thanks
20:30:42 <hodapp> If you use --sandbox-config-file and point it to something nonexistent, that's one way.
20:30:52 <hodapp> also, I just found --require-sandbox in the --help.
20:30:55 <dzack> there's a require-sandbox: true
20:30:59 <dzack> ^-- yep
20:31:01 <bitemyapp> funfunctor: cheers :)
20:31:53 <rvxi> hi
20:32:10 <Myrl-chan> >  head >>= (all . (==)) $ []
20:32:12 <lambdabot>  True
20:45:12 <bananagram> :t head >>= (all . (==))
20:45:13 <lambdabot> Eq a => [a] -> Bool
20:53:50 <kirill`> If I write to an MVar, are previous writes to other IORefs guaranteed to be visible to a thread that reads from the MVar?
21:00:40 <c_wraith> kirill`: I wouldn't count on it.
21:01:26 <jasonkuhrt> Does reading RWH make sense today or is it too old now? As someone new to the language will be learning the wrong information in subtle ways?
21:01:29 <kirill`> So there's no memory barrier as in atomicModifyIORef?
21:01:42 <jasonkuhrt> will i be*
21:02:00 <geekosaur> jasonkuhrt, some of the details have changed but the concepts are still quite relevant
21:02:07 <jasonkuhrt> For instance I know in the next major release of GHC they are basing Monad types off of functor which is a long-time coming 
21:02:25 <geekosaur> (and said next release has happened, although the ecosystem is still catching up)
21:03:29 <jasonkuhrt> geekosaur: Ah ok. How would the incorrect details lead me astray? I assume cabal is one of the major things that will not be useful to read about in RHW
21:04:26 <geekosaur> one example is that exception handling has changed a bit, a more flexible (but a bit more complex) exception mechanism was deployed after RWH was published
21:04:36 <geekosaur> so some of their examples need type annotations added
21:04:57 <jasonkuhrt> ok
21:05:25 <geekosaur> the basics are correct though, so only type annotations are needed to fix the examples up
21:05:38 <jasonkuhrt> after RWH is there another good place to go to continue?
21:06:01 <jasonkuhrt> I am aware the programming concurrancy book
21:06:46 <saulzar__> Cabal is still quite relevant, though things like sandboxes make quite a difference which didn't exist 
21:19:35 <wolftune> I remember reading about the problems, but I struggling to find the solution… how do I make 3 * 0.1 be 0.3 instead of 0.30000000000000004
21:19:36 <wolftune> ?
21:19:56 <monochrom> by using Rational
21:20:17 <monochrom> > 3 * (0.1 :: Rational) == (0.3 :: Rational)
21:20:19 <lambdabot>  True
21:20:27 <wolftune> Rational! That was the one
21:20:29 <wolftune> thanks
21:22:46 <geekosaur> or by using an output formatter other than the default Show, to remove the "excess" precision (and the inevitable floating point noise in the bottom bits): showFFloat or showGFloat in the standard Numeric module
21:23:00 <Hijiri> > toRational (3 * 0.1)
21:23:01 <lambdabot>  1351079888211149 % 4503599627370496
21:26:11 <jle`> looks legit to me
21:35:44 <wolftune> so 
21:35:46 <wolftune> Prelude> toRational 3 * 0.1
21:35:47 <wolftune> 3 % 10
21:35:53 <wolftune> so to actually get 0.3
21:35:55 <wolftune> I needed
21:36:03 <wolftune> Prelude> fromRational $ toRational 3 * 0.1
21:36:05 <wolftune> 0.3
21:36:23 <wolftune> is that the way to go?
22:04:42 <Krikey_Sanchez> I have a cabal question
22:04:48 <Krikey_Sanchez> I'm trying to install Elm
22:05:03 <Krikey_Sanchez> elm-compiler depends on language-glsl-0.1.1
22:05:23 <Krikey_Sanchez> language-glsl-0.1.1 has a bug pertaining to Text.PrettyPrint that was fixed recently
22:07:51 <Krikey_Sanchez> but it looks like the fix bumped the version from 0.1.1 to 0.1.2
22:08:18 <Krikey_Sanchez> and I don't know how to make cabal use 0.1.2 instead of 0.1.1 when it tries to build elm-compiler
22:10:01 <roboguy_> Krikey_Sanchez: try: cabal install elm-compiler --constraint="language-glsl==0.1.2"
22:11:04 <Krikey_Sanchez> roboguy_, I got could not resolve dependencies
22:11:21 <Krikey_Sanchez> but huh
22:11:32 <roboguy_> Krikey_Sanchez: are they still about language-glsl?
22:11:32 <Krikey_Sanchez> http://hackage.haskell.org/package/elm-compiler says that the language-glsl dependency is < 0.2
22:11:34 <Krikey_Sanchez> so what's going on?
22:12:00 <Krikey_Sanchez> rejecting: language-glsl-0.2.0, 0.1.1, 0.1.0, 0.0.2, 0.0.1, 0.0.0 (global
22:12:00 <Krikey_Sanchez> constraint requires ==0.1.2)
22:12:00 <Krikey_Sanchez> Dependency tree exhaustively searched.
22:12:08 <Krikey_Sanchez> huh I guess there is no 0.1.2 as far as cabal knowns
22:12:29 <roboguy_> try --allow-newer=language-glsl --constraint="language-glsl==0.2.0"
22:13:14 <Krikey_Sanchez> I set --constraint to 0.1.0 for language-glsl and that seems to be buildling
22:13:18 <Krikey_Sanchez> ah no that failed too
22:13:53 <Krikey_Sanchez> btw hwen you do a cabal update
22:13:56 <Krikey_Sanchez> in a sandbox
22:14:01 <Krikey_Sanchez> where does that update list get saved to?
22:14:46 <roboguy_> hmm, I'm not sure. It might be global
22:15:14 <roboguy_> Krikey_Sanchez: it looks like 0.1.0 would be too old for elm-compiler
22:15:23 <roboguy_> oh, maybe not
22:16:05 <Krikey_Sanchez> 0.2.0 worked but now there's a new problem building it
22:20:39 <Krikey_Sanchez> it looks like the culprit was fixed on elm master
22:20:43 <Krikey_Sanchez> but not stable
22:21:00 <Krikey_Sanchez> is there a way to download the elm git repo and use that in my cabal sandbox
22:21:10 <Krikey_Sanchez> while still getting other packages from hackage?
22:30:26 <dmj`> does anyone have experience with the haskell array preprocessor
22:31:12 <pavonia> I haven't even heard of it
22:31:37 <dmj`> pavonia: http://www.umiacs.umd.edu/~hal/STPP/
22:31:45 <dmj`> I hadn't either until today
22:32:00 <dmj`> conveniences for working with array code
22:32:07 <pavonia> Thanks
22:38:35 <dmj`> pavonia: it looks like it's too old of a project to be useful anymore
22:54:01 <sydneyhacker> Hi can anyone help me get hdevtools working with syntastic for vim?
23:13:41 <mishac> In the definition of Moand: return :: a -> m a and bind ::  ma -> (a -> m b) -> m b; does m have to be monoid all of the time?
23:14:29 <Ralith> no
23:14:38 <Maxdamantus> It's the wrong kind to be an instance of Monoid.
23:14:55 <dzack> is there a way to force cabal to ignore packages found in ghc-pkg list?
23:15:25 <mishac> but the definition of monad is that it is a monoid in category of endofunctors
23:15:40 <dzack> For example, I have a global version of unix-2.7.1 for my window manager (xmonad), but a project has an upper bound of unix <1.6
23:15:47 <sydneyhacker> Can anyone help me get haskell plugins working on vim?
23:16:13 <mishac> i think i phrased my question poorly
23:16:15 <mishac> sorry
23:16:19 <mishac> i need to rethink it
23:16:32 <dzack> sydneyhacker: which ones in particular?
23:17:16 <sydneyhacker> dzack: hdevtools via Syntastic
23:17:55 <dzack> oh yeah, i was just setting that up the other day. what issues are you running into?
23:18:12 <lpaste> sydneyhacker pasted “:SyntacticInfo” at http://lpaste.net/133588
23:18:56 <sydneyhacker> :HdevtoolsType -> Not an editor command
23:19:14 <sydneyhacker> I have pasted the result of :SyntacticInfo above
23:19:22 <sydneyhacker> and I will paste my vimrc in a sec
23:20:02 <lpaste> sydneyhacker pasted “vimrc” at http://lpaste.net/133589
23:24:32 <dzack> hmmm
23:24:48 <dzack> does the syntastic error checking work?
23:24:54 <dzack> i.e. :Errors
23:26:33 <sydneyhacker> no if it type that in, nothing happens
23:28:45 <sydneyhacker> I get the ghc-mod errors shown automatically on save
23:29:40 <sydneyhacker> but I guess that comes from ghcmod-vim plugin
23:30:01 <sydneyhacker> perhaps I should remove that and see what happens
23:30:35 <dzack> how about ':SyntasticCheck'?
23:32:42 <sydneyhacker> again nothing
23:33:09 <sydneyhacker> but errors are already shown e.g. sierpinski2.hs|49 col 68 error| Couldn't match type `[Main.Triangle]' with `Main.Triangle'Expected type: [Main.Triangle] Actual type: ...
23:39:26 <dzack> i'm wondering if it's actually running ghc-mod, or just skipping through to something like hlint
23:39:44 <dzack> if you run ghc-mod on the file (outside of vim), do you get the same errors?
23:40:33 <sydneyhacker> dzack I am able to use lint through GhcMod I just found
23:40:46 <sydneyhacker> So maybe I just dont need it seperate
23:42:41 <sydneyhacker> dzack if you want to check a type how do you do it? Do you use :GhcModType? or :HdevtoolsType
23:44:45 <Bashmetim> How would you write a function to group every nth element of a list?
23:45:05 <Bashmetim> e.g. f 3 [1..9] == [[1,2,3],[4,5,6],[7,8,9]]
23:46:05 <dzack> syndeyhacker: for basic stuff from the prelude, :HdevtoolsType 
23:47:02 <dzack> and a :SyntasticCheck on buffer write
23:48:04 <dzack> I'm not currently using ghcmod-vim, though - I think I was running into some issues with it
23:49:16 <xacktm> Bashmetim: my naive approach would start with splitAt from Data.List and recursion/pattern matching
23:49:19 <dzack> ah yeah, I ended up using haskellmode instead
23:50:14 <Jellby> pl \x y -> x y
23:51:29 <Jellby> @help
23:51:29 <lambdabot> help <command>. Ask for help for <command>. Try 'list' for all commands
23:51:38 <Jellby> @list
23:51:38 <lambdabot> What module?  Try @listmodules for some ideas.
23:51:44 <Jellby> @listmodules
23:51:44 <lambdabot> activity base bf check compose dice dict djinn dummy elite eval filter free fresh haddock help hoogle instances irc karma localtime metar more oeis offlineRC pl pointful poll pretty quote search seen slap source spell system tell ticker todo topic type undo unlambda unmtl version where
23:52:02 <Jellby> @pl \x y -> x y
23:52:02 <lambdabot> id
23:52:34 <Jellby> @pl \c -> length . filter (== c)
23:52:34 <lambdabot> (length .) . filter . (==)
23:57:29 --- mode: ChanServ set -q *!*@84.232.57.219
23:57:45 <pingu> Jellby: By the way, if you use that in production code, grues will eat you.
23:58:03 <sydneyhacker> dzack: thanks for your help
23:59:18 <Jellby> I'm still in the 2nd lesson of learning haskell :D
