00:27:56 * boegel streches
00:38:51 <boegel> hey shapr :)
00:39:29 <nlv11757_> is there a haskell equivalent to "match ... with ... when ..."
00:40:21 <musasabi> nlv11757_: case ... of ... | ... -> ...
00:40:52 <mflux_> nlv11757_, wouldn't your time be better spent if you just wrote a machine converted from ocaml to haskell?-)
00:40:59 <mflux_> converter even
00:41:26 <shapr> hiya
00:41:40 <nlv11757_> musasabi, thats not the same is it..
00:42:19 <nlv11757_> because with that construction......after the case you are stuck in your | alternatives
00:42:40 <nlv11757_> whereas with 'match ... with .. when' the when part is really a condition on the match
00:43:00 <nlv11757_> mflux_, i would not want to do that :D
00:45:50 --- topic: set to '["http://haskell.org/learning.html","Haskell","Do you think you would pass a Turing test?  I have."]' by shapr
00:46:03 <blackdog> g'day shapr
00:46:09 <shapr> g'day blackdog
00:47:22 <shapr> Funny, someone else noticed the similarity between Subtext and Self.
00:47:43 <musasabi> nlv11757_: hmm, can you give an example?
00:48:51 <xerox> 'morning!
00:49:37 <mflux_> nlv11757_, I think it works just fine. match a with b::bs when List.length bs = 42 -> 42 | b::[] -> 43  ===>  case a of b:bs | length bs == 42 -> 42 ; b:[] -> 43  ?
00:49:40 <nlv11757_> musasabi, sorry you are right.
00:49:58 <boegel> shapr, why trim the topic ?
00:50:34 <nlv11757_> i thought when after the match and none of the | alternatives, it would just fall through. But indeed, as wanted, it moves on to the next alternative
00:50:36 <musasabi> Has anyone gotten jhc to compile? It dies for me in a drift error "module `Main' is defined in multiple files: ..." with DrIFT-2.1.0.
00:51:08 <shapr> boegel: I didn't, but now that I'm looking at it, it looks nice.
00:51:46 <shapr> The original topic is ["http://haskell.org/learning.html","See logs http://meme.b9.com/cdates.html?channel=haskell","related channels #haskell.se #haskelldb #darcs","http://sequence.complete.org/","Haskell is the language of choice for discriminating hackers! ICFP contest 2004","We put the Funk in Funktion","http://www.haskell.org/hawiki/TheMonadReader_2fIssueOne","Have YOU filled out the GHC survey? http://www.haskell.org/ghc/
00:51:46 <shapr> survey/start.cgi"]
00:52:16 <boegel> hmm, that does look a lot better
00:52:53 <shapr> In fact, nicest would be a single url that points to a website that collects news item.s
00:53:24 <shapr> Then we could have a sticky 'learning' item, and other items would naturally float down when there's news.
00:55:18 <xerox> Something like lambdabot posting to http://del.icio.us/haskell-irc (or similar)?
00:58:50 <nlv11757_> how cool are noisecancelling earbuds
00:59:29 <shapr> xerox: interesting idea
00:59:43 <xerox> shapr, we use it on another channel http://del.icio.us/verbamanent
01:00:06 <nlv11757_> btw im pretty sure haskell doesnt have the 'match foo with Cons(A|B|C)' thing right?
01:00:06 <shapr> Btw if you want to inform your pointy haired boss about software patents, this is a nice way to do it - http://www.groklaw.net/article.php?story=20050418195019404
01:00:09 <xerox> shapr, before then we had a "post-it" service on some site
01:00:16 <shapr> nlv11757_: What does that do?
01:00:51 <shapr> xerox: That's a neat idea.
01:00:54 <xerox> nlv11757_, Cons(A|B|C) ?
01:00:57 <nlv11757_> shapr, it matches a constructor Cons that contains either a constructor A, B or C
01:01:00 * xerox yows
01:01:23 <mflux_> cool, I didn't ocaml had that :) (does it?)
01:01:27 <nlv11757_> now im writing case foo of Cons b | b==A || b==B ....
01:01:36 <nlv11757_> it has
01:01:41 <nlv11757_> i like it
01:01:44 <nlv11757_> a lot
01:02:03 <shapr> nlv11757_: you can do foo (Cons (A)) = ... ; foo (Cons (B)) = ...
01:02:40 <nlv11757_> but i'd have to repeat whatever i want to do for A, B or C rigtht?
01:02:47 <mflux_> shapr, but if the ...-part is shared, you basically need a name for it then too?
01:02:53 <mflux_> nice, I maybe really should some time read through the language definition
01:03:03 <shapr> the -part ?
01:03:09 <shapr> oh
01:03:40 <nlv11757_> i just encounter all this stuff while im translating it to haskell :P
01:04:05 <nlv11757_> shapr, do you mean repeating my answer for A, B and C?
01:04:09 <musasabi> nlv11757_: how about defining a predicate function and then using that with if - or using a pattern adaptor function?
01:04:11 <shapr> Yeah, it's a lot easier to put that chunk in a where clause when the right hand side is shared.
01:05:08 <nlv11757_> musasabi, like 'case foo of (Cons a) | predicate a ->'
01:05:21 <musasabi> nlv11757_: yes.
01:05:36 <nlv11757_> im doing that right now basically, but i was hoping haskell had this syntax as well
01:05:46 <musasabi> nlv11757_: or case adaptor foo of Match foo -> ..."
01:06:06 <nlv11757_> this adapter thing i dont know, i will look into that
01:06:08 <musasabi> nlv11757_: or case adaptor foo of Match bar -> ..." to make it more readable even.
01:06:36 <nlv11757_> thanks
01:06:44 * musasabi learned about it in the FGL stuff - basically use a function to transform a value in a shape that is nicer to match.
01:08:26 <nlv11757_> so how would that function help in making it nicer?
01:08:48 <nlv11757_> it does the finding out if we are dealing with Cons(A), Cons(B) or Cons(C) and then just tells you if you had a match?
01:09:19 <musasabi> nlv11757_: it returns something more suitable to your match.
01:10:58 <musasabi> nlv11757_: e.g. if you have data Foobar = BaseCase ... | SomethingComplicated ... | Error ..., in many places you just want to make a distinction between an aproximation as BaseCase and the Error - so instead of manually pattern matching all constructors you use a function to transform the value to a simpler form and then match that.
01:13:31 <nlv11757_> why dont you just do case (Foobar _) -> ... ; (Error _) -> ... ; _ -> ...
01:13:35 <nlv11757_> in that case
01:13:41 <nlv11757_> or am i missing the point?
01:13:54 <nlv11757_> (you can also direct me to some piece of text :P)
01:15:22 <musasabi> nlv11757_: yes, one wants to have a usable aproximation of the values with the complex forms with the simpler form.
01:16:46 <musasabi> nlv11757_: e.g. when using TH the constructor can be in ~5 forms. But I really am only intersted in "Something usable that can be thought as data declaration" and "something else". Now this can be done with using a function which morphs the complex values with different constructors to two simpler cases.
01:23:35 <nlv11757_> ok, but in my case it would be a bit useless i think because i only need to know whether this Cons has a child which is either constructor A,B,C,D,E,F or G
01:28:56 <nlv11757_> musasabi, maybe if you have the time, could you put an example on the ircpaste? or do you have a link to an example.
01:32:08 <mflux_> nlv11757_, maybe something like case foo of Cons (foo) | member foo [A, B, C, D, E, F, G] -> .. ?
01:32:24 <mflux_> which doesn't help if the constructors take more parameters though
01:32:28 <nlv11757_> heyyy that does look nice mflux_
01:32:40 <nlv11757_> no but there all just binary operators
01:32:50 <nlv11757_> so Binop = PlusA | PlusPI etc etc etc
01:32:52 <nlv11757_> so this is perfec
01:33:20 <nlv11757_> it looks nicer than case foo of Cons(foo) | foo==A || foo==... what i was currently doing
01:33:40 <nlv11757_> ty
01:33:48 <mflux_> member x xs = List.find x xs /= Nothing
01:33:48 <musasabi> nlv11757_: "Active Patterns" and "Pattern Guards and Transformational Patterns" from http://web.engr.oregonstate.edu/~erwig/papers/abstracts.html
01:36:13 <nlv11757_> ah ty musasabi
01:36:30 <musasabi> (those are the references the FGL paper gives)
01:36:49 <musasabi> My own TH based code is not very pretty ;)
01:37:13 <mflux_> that martin erwig guy does write alot
01:38:29 <nlv11757_> :)
01:40:57 <shapr> good morning malcolm
01:42:07 <nhc98> hi
01:43:22 <nhc98> I can only access IRC from home, not work.  Got any good ideas for tunnelling out or proxies, or anything like that?
01:43:49 <sqrt> nhc98: ssh?
01:44:15 <sqrt> have a screen going on your home computer and ssh home...
01:44:16 <shapr> There are practical http proxies, and less practical DNS proxies.
01:44:37 <shapr> It depends on what sort of outbound connection you've got.
01:45:11 <nhc98> My university firewall drops all outgoing packets on 6667.
01:45:25 <nlv11757_> surely you can simply change the port?
01:45:40 <nhc98> How?
01:46:05 <shapr> nhc98: If you have a true IPv4 you can setup a 6to4 interface and connect to irc.ipv6.eu.freenode.net
01:47:05 <shapr> My address, 2002:53e2:b108:0:0:0:0:2, is what 83.226.177.8 translates into via 6to4
01:47:55 <shapr> You could ssh home and run irc there.
01:48:02 <nhc98> OK, thanks for the suggestion - I'll look into it.
01:48:20 <shapr> Lots of ways to get around firewalls, if want more suggestions...
01:48:33 <nhc98> Not too keen on running an X client across the network - a bit slow.
01:48:53 <shapr> Yeah, true. You could use a irssi or another text irc client.
01:49:44 <nlv11757_> bitchx always works nice
01:49:47 <shapr> Freenode used to do irc-ssl, that's probably a different port. I don't know if they still do it.
01:50:47 <nhc98> Yeah, if freenode operated on a port usually reserved for a different service (like 80), it would be easy.
01:51:19 <nlv11757_> why dont these irc servers provide a range of ports that will map onto 6667 or something like that
01:51:42 <xerox> It listens to 6665 too.
01:51:51 <musasabi> nhc98: you could just set up a forwarder somewhere.
01:52:01 <nlv11757_> but does it speak also xerox :P
01:52:19 <musasabi> nhc98: ssh + port forwarding and run the graphical client @ work ?
01:52:19 * xerox boings
01:52:33 * shapr hops
01:52:43 <blackdog> nhc98: using compression for X over SSH can be workable if you've got a decent connection
01:52:52 <xerox> Ah-ha! You're h0p-ping!
01:53:33 <nhc98> I think setting up a forwarder on my home machine would be most straightforward - how would I do that?
01:54:12 <blackdog> has anyone tried the DNS proxies?
01:54:35 <blackdog> my network guy would kill me if i tried it here. :)
01:54:50 <musasabi> nhc98: ssh -L 55555:irc.freenode.net:6667 home
01:54:51 <xerox> I think inetd/xinetd can do it.
01:55:02 <xerox> Oh-kay.
01:55:03 <musasabi> nhc98: then use localhost:55555 as the irc server.
01:55:23 <musasabi> that is the easiest solution.
01:55:27 <nhc98> OK, cool.
01:55:38 <shapr> Wouldn't it be -R to do forwarding on the remote box?
01:56:06 <blackdog> no, -R forwards it back to you...
01:56:07 <shapr> I always get confused between -R and -L
01:56:24 <musasabi> shapr: -L is the correct, but I always have to check the man-page..
01:56:25 <blackdog> have you tried painting them on your shoes?
01:56:35 <musasabi> They are quite counterintuitive.
01:56:49 <mflux_> -L accepts connections in a local port, -R accepts connections in a remote port
01:56:50 * shapr smacks blackdog into the fourth dimension
01:57:23 <xerox> Time?
01:57:25 * blackdog regrets nothing
01:57:27 * shapr grins
01:57:32 * boegel sees blackdog being consumed by time
01:57:38 <sqrt> i*time
01:57:47 * blackdog starts humming deltron 3000
01:58:12 * shapr hums Sientific American
01:59:01 <sqrt> which scientific American did you hump?
01:59:09 <sqrt> oh. hum. never mind.
02:00:26 <shapr> Actually, I'm humming the 'Accutrac 4000' track from the 'Simulated D.I.Y.' album of the musical artist 'Sientific American'.
02:00:46 <shapr> It has extra tasty beats.
02:00:51 <nlv11757_> but commercial dont you think shapr :P
02:00:55 <nlv11757_> but=bit
02:01:04 <shapr> Nah, the album is available for free.
02:01:21 <nlv11757_> with a booklet and all? :)
02:01:32 <shapr> It has a jpg of the cover at least.
02:01:37 <shapr> It's from the record label.
02:01:39 <nlv11757_> D.I.Y. do it yourself
02:01:47 <shapr> It's only simulated.
02:02:02 * shapr grins evilly
02:02:04 <musasabi> JohnMeacham: When trying to compile jhc I keep running into drift errors "module `Main' is defined in multiple files: ..." with DrIFT-2.1.0.
02:02:34 <JohnMeacham> Yeah, that is a bug in DrIFT. upgrade to 2.1.1 which I just released today. (it is actually a bug in ghc which DrIFT pokes)
02:02:43 <nhc98> Ah, john sent me a fix for that last night.
02:06:04 <jlouis> JohnMeacham: jhc looked to be interesting. A haskell with region inference. hehe
02:07:22 <JohnMeacham> Yeah. AFAIK it is the first time it has been tried with a lazy language.
02:09:40 <nhc98> Have you written a paper on it?  AFAIK, region inference for a lazy language is something like the holy grail.
02:10:24 <Lunar^> JohnMeacham: Could you give the URL again, please?
02:10:28 <nlv11757_> pff i hate it when they throw around mutables everywhere
02:10:58 <JohnMeacham> No. I have not written anything about jhc except the code and the web pages I have up. In a way I cheated, I first transformed the program into a strict first order language :)
02:12:21 <JohnMeacham> The region inference algorithm is still in development. there is still a chance it just won't work. but I am pleased with what I have so far and don't forsee any problems.
02:12:30 <nhc98> So you lose the laziness?  Or do you perform some kind of strictness analysis?
02:13:20 <musasabi> JohnMeacham: thanks, I will try upgrading drift.
02:13:34 <JohnMeacham> Oh, no. I mean boquist's transformation. It makes the lazyness and higher order functions explicit so you can optimize and transform them.
02:14:44 <nhc98> Tim Sheard had an interesting (unpubished) paper a year or two back about adding lazy annotations to a basically strict Haskell-like language.
02:14:52 <JohnMeacham> I don't worry about memory until after I have transformed it into Grin code. then I have a nice monadic form with no higher-order function calls making escape analysis much simpler.
02:14:53 <nlv11757_> how dirty is it, to mutate something and then call a function which will behave differently depending on the value of that mutable global
02:14:54 <nlv11757_> bah
02:15:39 <nhc98> nlv11757: Whose software has mutables?  Name and shame!
02:16:58 <Lunar^> JohnMeacham: Do you think that it would be possible to write memory management code using jhc? (which can't allocate anything on the heap, obviously)
02:17:09 <JohnMeacham> It is quite plausable that I will support multiple strategies,
02:18:18 <JohnMeacham> It could be possible in Grin, jhc's second intermediate language. it looks a lot like haskells 'do' notation. I am considering accepting it as a human written input language for very low-level programming and perhaps different front ends.
02:18:38 <nhc98> Can jhc bootstrap itself?
02:18:40 <Lunar^> That's good to know :)
02:18:45 <JohnMeacham> not even close. :)
02:19:04 <Lunar^> hOp will not be complete with a MMU in C, hehe
02:19:52 <JohnMeacham> Yeah, jhc might be useful for embedded programming before it is useful for general programming. but that is still a ways off unless you want to get into the jhc internals itself.
02:20:07 <musasabi> Lunar^: an OS will need ASM in any case..
02:20:12 <Lunar^> JohnMeacham: Is System E Well's one?
02:20:13 <nlv11757_> nhc98, its a pretty printer for C files written in ocaml
02:20:23 <Lunar^> musasabi: The less there is, the happiest I am
02:20:45 <JohnMeacham> Lunar^: I can't parse that question.
02:21:15 <musasabi> Lunar^: true but you will need e.g. l{idt,gdt},iret, use cr* (on i386) and port io.
02:22:59 <Lunar^> JohnMeacham: sorry, this is the System E I know: http://www.cee.hw.ac.uk/ultra/compositional-analysis/system-E/
02:24:02 <Lunar^> musasabi: That's done for hOp at this time, AFAIK
02:24:35 <JohnMeacham> Ah, no, my 'E' is just called that because it starts with data E = ....  I should come up with a better name. jhc core might be appropriate because it is at about the same level and serves a similar purpose to ghcs core, but the grin is where a lot of real work gets done.
02:25:44 <Lunar^> JohnMeacham: thanks
02:26:54 <shapr> What does hOp need to be a 'real' OS?
02:27:54 <earthy> access control
02:27:56 <earthy> to resources
02:28:02 <JohnMeacham> users.
02:28:09 <musasabi> Lots of device drivers.
02:28:19 <earthy> http://mumble.net/~jar/pubs/secureos/
02:28:26 <musasabi> (the last one being where most hobby OSs die)
02:28:52 <Lunar^> shapr: Faster Haskell
02:29:12 <tromp> so hOp on a mac mini might be feasible
02:29:16 <earthy> well, a real OS only needs to work on the hardware that its users use it for
02:29:17 <tromp> few devices to cope with
02:29:28 <earthy> s/for/on/
02:29:45 <Lunar^> shapr: Anyway, I don't know how far OGI people went on memory management and user processes
02:29:57 <Lunar^> shapr: without this, it could barely be called an OS, anyway
02:30:05 <earthy> but mostly, hOp does (too) little in the access control and resource multiplexing departments
02:30:10 <earthy> device drivers is just sugaring
02:30:32 <musasabi> Annoying and time consuming sugaring..
02:30:38 <earthy> yes. ;)
02:31:10 <earthy> but unless the base is there, extra device drivers won't necessarily help
02:31:52 <Lunar^> http://compose.labri.fr/prototypes/devil/ <- DSL to write the low-level driver code
02:34:04 <shapr> I think I'd go with JohnMeacham's answer... with enough users, all devices are driven :-)
02:34:27 * shapr misquotes Linus(?)
02:34:47 <TFK> o_O
02:34:49 <JohnMeacham> hehe.
02:35:05 <TFK> That was a spoof on ESR talking about Linus, but OK ^_^
02:35:22 <shapr> The quote of "With enough eyes, all bugs are shallow." ?
02:35:32 <JohnMeacham> Is anyone working on a standalone template haskell preprocessor? I find it very intriguing, but it is quite complicated to implement for every compiler.
02:35:37 <TFK> Aha.
02:36:04 <nlv11757_> "And E's performance is quite unfavorable compared to raw C, so do not write the real time kernel of a missile guidance system with it, either." LOL
02:36:11 <shapr> I know I'd surely like to hack on hOp just to do TCP/IP stack testing.
02:43:59 <Lunar^> shapr: IIRC, there's a ready-to-hack tarball on House homepage
02:44:12 <shapr> Yeah, but QuickCheck isn't read-for-IO, sadly.
02:44:36 <shapr> Anyway, I'll try it.
02:44:44 <JohnMeacham> Does it support x86_64? There are a lot of cool OS level features in that chip that make me want to hack OSes again.
02:45:06 <shapr> I have some spare hardware around here, I wonder if I can smash my tcp/ip stack.
02:45:13 <JohnMeacham> I kind of want to try a SAS OS. since 64 bit chips are actually common nowadays.
02:45:17 <shapr> SAS?
02:45:27 <shapr> Single Assignment ?
02:45:37 <dons> single address space
02:45:44 <shapr> oh
02:45:53 <shapr> g'day dons
02:45:55 <JohnMeacham> single address space. each process is mapped to a different place in the same memory space. (memory protection is still used)
02:46:03 <dons> @google mungi
02:46:05 <lambdabot> http://www.cse.unsw.edu.au/~disy/Mungi/
02:46:42 <shapr> hej bringert
02:46:53 <bringert> hej shapr
02:47:00 <Lunar^> JohnMeacham: AFAIK hOp is SAS, House is not
02:47:12 <bringert> ralejs asked about EuroHaskell today
02:47:20 <Lunar^> JohnMeacham: not really SAS because there no memory protection, in fact
02:47:43 <JohnMeacham> sort of SAS by accident :)
02:47:53 <shapr> bringert: Hm, ok... any rooms available?
02:48:04 <bringert> anyone got any ideas for EuroHaskell? should it be i Gothenburg around EuroPython, or maybe in tallinn after ICFP/HW?
02:48:19 <boegel> is there any way to check how long it's been since anyone used his ICQ account ?
02:48:41 <bringert> shapr: I'm sure we can get rooms, network etc if we do it at chalmers, I don't think that's a problem
02:49:34 <shapr> What's better, ICFP or EuroPython?
02:49:47 <shapr> Silly question, I know.
02:50:33 <JohnMeacham> If you trust your haskell compiler, and have it cryptographically sign binaries it creates saying they never use 'unsafe' or FFI functions, then you don't need memory protection! Just have the OS check for the cryptograhpic signature before running any program.
02:50:49 <earthy> oh goody
02:50:55 <earthy> trust certificates
02:51:04 <mflux_> wasn't there a better alternative
02:51:09 <earthy> why not just generate machine checkable proof traces... ;)
02:51:35 <earthy> like in Necula's Proof Carrying Code, as used for e.g. firewalls...
02:51:38 <JohnMeacham> Yeah, (the idea does not work so well in practice)
02:51:39 <mflux_> something that allowed you to quickly scan the code and have a proof it does nothing bad
02:54:11 <mflux_> ah yes, proof carrying code
02:59:38 * TFK commences operation "The Great Refactor #1"
02:59:44 <musasabi> JohnMeacham: is it possible to use cpp with jhc? (that is in some nice way)
03:02:47 <Lunar^> earthy: You need memory protection to do that: how could you prevent modificatino of the proof checker?
03:03:08 <Lunar^> same for trust certificates, I think
03:04:19 <JohnMeacham> Hm. no. I will add it to the list.
03:06:21 <JohnMeacham> now... I just need a list... perhaps I should carve out a bit of the hawiki for the jhc FAQ and wishlist.
03:07:04 <mflux_> lunar^, well if you only run verified code it cannot do such things?
03:07:14 <musasabi> JohnMeacham: If you point the right place I could try hacking a patch.
03:07:17 <mflux_> I suppose it rules out some hehavior
03:07:48 <Lunar^> mflux_: mh.. right :)
03:08:10 <xerox> OK! Any HaskellGoPeople in the mood for a game?
03:08:37 <JohnMeacham> I'd just add a flag to the file FlagOpts.flags called cpp, so -fcpp will enable it. then just pass the source through cpp in FrontEnd/FrontEnd.hs
03:09:16 <musasabi> ok, I'll look into it.
03:11:25 <JohnMeacham> Note that I use UTF8 routines on files (from CharIO). jhc is pretty unicodey.
03:13:28 <shapr> bringert: Who do we ask about whether it should be Gothenburg or Tallinn?
03:14:21 <musasabi> the code looks quite clean :-)
03:15:36 <JohnMeacham> it depends a whole lot on where you look :). You will notice the Grin code is often much cleaner than the E code because I wrote it a couple years later...
03:16:01 <bringert> shapr: dunno. us?
03:16:43 <shapr> Sounds good.
03:16:49 <bringert> the main advantage with Gothenburg is that we have organizers and resources, I'm sure that can be arranged in Tallinn too, but we don't know any
03:17:01 <shapr> Right
03:17:09 <bringert> afaik
03:17:13 <bringert> otoh, there's lots of haskell people at icfp/hw
03:17:23 <bringert> and Estonia has cheap beer and free wifi
03:17:33 <Lunar^> won't it compete with the Haskell workshop, somehow?
03:18:12 <bringert> well, I was thinking that they shouldn't be at the same time
03:18:27 <bringert> i.e. EuroHaskell after HW if it is in Tallinn
03:19:21 <shapr> Yeah, that would make sense.
03:20:00 <tuomov> what's eurohaskell about anyway?
03:20:22 <shapr> "Academic LAN Party"
03:20:27 <JohnMeacham> Sometimes I feel like the only Haskell programmer in the states :)
03:20:40 <shapr> JohnMeacham: you can still come to EuroHaskell =)
03:21:12 <musasabi> Either Sweden or Estonia is fine..
03:21:13 <shapr> CosmicRay wants to organize AmeriHaskell, probably in Portland.
03:21:51 <JohnMeacham> Someday, perhaps.
03:22:17 <tuomov> hmm.. g√∂teborg is much more expensive to get to from here..
03:22:19 <shapr> I think it's more likely I'll show up in Gothenburg, less likely I'll be in Tallinn.
03:22:32 <tuomov> swedish trains being outrageously expensive etc.
03:22:42 <musasabi> tuomov: actually it is quite cheap if one does not go by plane.
03:22:43 <shapr> Though honestly I'd rather go to Tallinn.
03:23:07 <tuomov> Actually, plane to stockholm can be even cheaper than ferry
03:23:17 <tuomov> unless you travel at daytime without a cabin
03:23:25 <musasabi> At least from here it is quite trivial to get to ≈land for free...
03:23:28 * shapr compares prices for EuroPython to ICFP
03:23:44 <bringert> tuomov: the swedish train prices vary significantly, if you are under 26, or a student you can get cheap last-minute tickets
03:23:59 <bringert> the tickets are also quite cheap if you buy them months in advance
03:24:00 <tuomov> I've seen around 38e prices for tampere->stockholm planes
03:24:05 <tuomov> usually they're more expensive, though..
03:24:16 <musasabi> tuomov: but that is without airport tax?
03:24:23 <tuomov> hm.. don't know about such
03:24:48 <musasabi> tuomov: saaristolautat turun saaristosta ovat ilmaisia jalankulkijoille, pari kertaa noilla mennyt Ahvenanmaalle..
03:25:01 <musasabi> (don't know very well how to say that in english)
03:25:15 <musasabi> but that is quite slow.
03:25:37 <tuomov> yes, I can imagine it being slow
03:26:09 * bringert has to boot into the evil partition, bbl
03:26:15 <shapr> Is it sensible to expect around five hundred euro for ICFP05 registration?
03:27:05 <Lunar^> damn that's expensive
03:27:18 <shapr> I think that's what it was for icfp2003
03:27:45 <JohnMeacham> Hmm.. I just realized that perhaps the fact that it's 3 in the morning here has something to do with why It seems I am the only haskell programmer in the states.
03:27:51 * shapr grins
03:32:16 <xerox> 500‚Ç¨ ??
03:35:37 <tromp> i'd rather buy a mac mini for that
03:35:48 <shapr> Yeah, that's my thoughts as well.
03:35:59 <shapr> I'd rather buy a laptop or a trip to see my family in the US.
03:36:41 <tromp> yep, buy the maxmini over there and save 200$ :)
03:37:33 <shapr> malcolm: Does 500 euro sound right for ICFP entrance prices?
03:37:34 <tromp> the high rate of the euro is badly reflected in the relative prices:(
03:37:47 <Itkovian> I really dislike the mac pricing policy
03:38:00 <Itkovian> 1 $ /= 1 euro
03:38:04 <Itkovian> grmbl.
03:38:19 <tromp> of course european ssales tax is much higher
03:38:43 <JohnMeacham> does mac price assuming $1 == 1euro? seems like a good oprotunity for arbitrage.
03:39:00 <Itkovian> tromp: that too.
03:39:03 <tromp> some accessories even cost more in euros than they cost there in $
03:39:16 <tromp> that's really rubbing it in!
03:39:25 <shapr> Except that the dollar dropped hugely against the euro in recent times.
03:39:28 <Itkovian> Maybe I should book a trip to the US and bring back a few powerbooks, those would certainly pay for my flight ticket
03:39:55 <Itkovian> shapr: that's exactly the problem.
03:40:23 <Itkovian> I love my powerbook though. Especially when somebody next to me in the train takes out this huge Dell/Acer/...
03:40:32 <Itkovian> heh
03:40:50 <malcolm> shapr: hmm, 500 euros for a conference fee sounds a little bit high - it was about $380 the last one I went to (a few years ago)
03:41:22 <shapr> That does sound better.
03:41:24 <Itkovian> that depends on the duration of the conference.
03:41:25 <JohnMeacham> I love my Thinkpad 701c. retro-chic!
03:41:34 <Itkovian> OOPSLA last year was > 700$ iirc
03:41:40 <tromp> i like my thinkpad t23
03:41:48 <tromp> but wished it had less driver issues
03:41:50 <shapr> My 40MHz Toshiba laptop is awesome!
03:41:55 <tromp> can't even boot into ubuntu
03:42:12 <Itkovian> dang shapr. I just though of beating you all by mentioning me 320CDS Toshiba
03:42:16 <Lunar^> JohnMeacham: Can you run GHC on this? :)
03:42:36 <JohnMeacham> Too late. the 701c is 33mhz.
03:43:02 <JohnMeacham> not so much :)
03:43:11 <tromp> so fewer fertility issues:)
03:43:49 <shapr> My uncle has two Osborne Commodore 64 Portables.
03:44:08 <JohnMeacham> but it has the cool expanding keyboard. all eyes turn to it when it opens with its nice cuh-thwuck sound of the keyboard snapping into place.
03:44:12 <shapr> Though I don't know why.
03:44:20 <shapr> Yeah, that is a really cool keyboard.
03:44:29 <JohnMeacham> OOh. dibs on the SID chips.
03:44:30 <tromp> i like the C64 in a joystick; now that's portable
03:44:45 <shapr> I wish IBM would make their 0ldsk00l superclicky keyboards again.
03:45:22 <shapr> Is there someway to buy the laptop guts not inside a laptop?
03:45:25 <sqrt> (I think I have one of those keyboards.)
03:46:04 <shapr> I have a spare kinesis keyboard, and I'd much rather stuff a tiny PC and battery inside that keyboard and use a separate display.
03:46:10 <shapr> Or just strap a battery to the bottom.
03:46:19 <JohnMeacham> ebay? mac mini? soekris?
03:46:31 <musasabi> shapr: yes.
03:46:47 <musasabi> shapr: but getting power to those can be quite complicated.
03:47:08 <musasabi> custom power connectors + no documentation.
03:47:26 <shapr> :-(
03:48:03 <shapr> Soekris is nifty.
03:48:34 <Itkovian> ... http://www.flickr.com/photos/88172461@N00/9764753/ ...
03:48:41 <JohnMeacham> yeah, they are one of several manufacturers of that type of single board computer. I only know that one because someone I know is using them as a project platform.
03:49:08 <shapr> Itkovian: But it has a flat keyboard, and that kills my wrists.
03:49:18 <musasabi> Kontron SBCs are quite nice.
03:49:28 <earthy> Soekris nifty. hm. right. well.
03:49:32 <JohnMeacham> some more...  http://www.linuxdevices.com/articles/AT2614444132.html
03:49:35 <musasabi> We got a set of them used, very cheaply :-)
03:51:07 <shapr> Hm, Mini-ITX would fit into my keyboard.
03:51:08 <Itkovian> shapr: hmm ... I put erm packets of handkerchiefs under my elbows when working at the desktop, but I have no trouble with my mac keyboard.
03:51:11 <shapr> Power is still a problem though.
03:51:13 <musasabi> http://www.boser.com.tw/products/sbc/hs6037.htm looks quite nice - I am thinking that they may be worth getting.
03:51:36 <musasabi> power is just a few solderings away usually ;)
03:51:48 <Itkovian> earthy: did you read the /. article about the WIFI car stuff ... (that guy used Soekris iirc)
03:52:12 * earthy did some product development using soekris boards a couple of years back
03:52:41 <JohnMeacham> Yawn, goodnight #haskell.
03:52:41 <earthy> they're nice enough
03:52:47 <earthy> g'night John
03:52:51 <earthy> but no panacea
03:52:56 <shapr> g'night John
03:53:06 <shapr> A kinesis keyboard is the ultimate case mod =)
03:53:09 <musasabi> night.
03:53:20 <Itkovian> night
03:53:31 <musasabi> Soekris stuff is usually quite expensive in small quantities.
03:54:09 <TFK> I'm getting this error in Hugs: unexpected `;', possibly due to bad layout) <--- however, the only ';' I have is in a string literal...
03:54:09 <earthy> that too
03:54:45 <earthy> anyway, we got the Net4501 to do 2MBit/s encrypte throughput
03:54:48 <shapr> That boser board is quite nice.
03:54:56 <earthy> which was enough for our purposes
03:56:07 <earthy> but dealing with a system with *no* external inputs and only 3 leds for output is somewhat tricky...
03:56:20 <earthy> especially if you want to do status signalling and reset-type thingies
03:59:28 <earthy> http://www.xos.nl/products/privanet/privanet430/ is the stuff
04:00:21 <TFK> Also, do all operations with Maybe must be enclosed in do ?
04:04:09 <malcolm> The Hugs message about ';' is slightly confusing - you need to know that Haskell inserts "virtual semicolons" in code which otherwise uses only layout to indicate structuring.
04:04:44 <Itkovian> eh?
04:05:46 <TFK> Is it possible that the error's origin is in fact in code that is outside the function in question?
04:06:55 <malcolm> Yup - if the function preceding it is incomplete (missing close paren or something).
04:07:19 <TFK> Only the preceeding function, or can it be in any function?
04:07:33 <TFK> (in any function above the function that gave the error)
04:08:05 <malcolm> It is likely to be close(ish) to the reported error site.
04:08:19 <TFK> alrighty, thanks
04:08:26 <TFK> And what about the Maybe operations?
04:09:21 <malcolm> what is the question about Maybe?
04:10:01 <TFK> Must I enclose operations on Maybe in do?
04:10:07 <ibid> no
04:10:34 <TFK> thanks
04:10:38 <ibid> well, when you use Maybe as a monad, using do is a good odea most of the time, but it can and is used non-monadically too
04:11:57 * TFK nods
04:13:37 <shapr> I still don't understand what S. Alexander Jacobson is talking about in the Cabal vs Haskell thread.
04:16:02 <chr1s> morning everyone. I'm still loving haskell.
04:16:13 <malcolm> shapr: His concern is that a situation akin to DLL-hell or RPM dependency nightmares should not arise in the future with Haskell packages.
04:16:24 <shapr> oh
04:16:26 <chr1s> does anyone know why mod_haskell isn't updated anymore?
04:16:44 <ibid> dll hell and dependency stuff are quite different things
04:17:06 <ibid> the only way to avoid both is not to have reusable components
04:17:51 <malcolm> Well, DLL hell arises because you can't have multiple versions of a DLL installed simultaneously.
04:18:11 <shapr> Which happened recently with ghc and readline in debian.
04:18:37 <shapr> Though that was more about ghc not being able to work with both readline4 and readline5 at the same time.
04:18:45 <ibid> malcolm: that, and because of a lack of package discipline
04:19:02 <ibid> which, arguably, is also the reason for *rpm*'s dependency hell
04:19:17 <ibid> shapr: that's quite different
04:19:19 <shapr> Cabal allows multiple installed versions, right?
04:19:35 <ibid> no idea
04:20:02 <malcolm> In theory, yes Cabal allows multiple installed versions
04:20:28 <malcolm> But in practice, you can only use any one version in any one program.
04:21:30 <musasabi> There is no dll-hell if you link everything statically ;)
04:21:37 <shapr> use jhc!
04:22:01 <shapr> Otoh, I'd rather not rebuild wxHaskell whenever I want a gui program.
04:22:46 <TFK> blechs. is "monospace" a proper HTML font?
04:22:48 <musasabi> shapr: well it saves the *.ho files, so it just links it together each time.
04:23:01 <malcolm> Just because jhc is a whole-program compiler doesn't mean that it fails to save /any/ information between modules.
04:23:04 * JaffaCake sticks sharpened lambdas into a little doll of alexj
04:23:10 * shapr laughs
04:23:41 <shapr> That's his irc nick when he's on #haskell, did you already know that?
04:23:49 <JaffaCake> yup
04:24:00 <JaffaCake> haven't seen him around for a while, tho
04:24:16 <TFK> err, where is the fontface attribute of font in Text.Html o_O?
04:24:49 <JaffaCake> use CSS?
04:24:50 <TFK> 'face'?...
04:24:53 <malcolm> jhc does more than just link together .ho files - they contain GRIN intermediate code, which is then further inlined/optimised etc at "link" time
04:24:54 <TFK> I don't know CSS.
04:25:36 <shapr> It seems to me his objections only apply if we're forced to use either the 'Haskell model' or the 'Cabal model' but not both. But we're not forced to do that, are we?
04:25:43 <shapr> TFK: it takes about an hour to learn.
04:26:05 <TFK> I don't have an hour. I do have problems with Text.Html, though.
04:26:12 <TFK> And layout!
04:26:22 <shapr> Might be a good investment.
04:26:32 <JaffaCake> TFK: <div style="font-family: sans-serif">...</div>
04:26:33 <TFK> Might be, in a few days.
04:26:45 <TFK> That doesn't matter. I still have to do this with Text.Html.
04:27:09 <shapr> Can you throw in an attribute with that text?
04:27:11 <TFK> Aren't they wonderful, Html objects? :D
04:27:14 <JaffaCake> you can generate that using Text.Html
04:27:17 <TFK> I should be able to.
04:27:25 <TFK> JaffaCake, I'm way ahead o' ya ;-)
04:28:10 <shapr> malcolm: oh hey, I wanted to ask you about 'typechecking' with 'subDTDs'. You mentioned that it was once considered for HaXml, and I was thinking about using the same sort of trick for a typechecked Halipeto. Was there some technical reason that sort of checking didn't happen?
04:29:32 <shapr> Maybe this is already documented somewhere?
04:29:35 <malcolm> No technical reason - our commercial funding for that project ran out, that's all.
04:30:00 <shapr> Ok, cool.
04:31:39 <JaffaCake> Hi malcolm ;)
04:31:56 <TFK> A cookie to whomever tells me how to glue HtmlAttrs into Html objects :-/
04:32:36 <JaffaCake> TFK: (!)
04:32:57 <nlv11757_> that was a fast cookie
04:33:00 <TFK> Heh, I was just about to try that in Hugs. Thanks.
04:34:59 <mflux_> has anyone considered writing a dsl for generating javascript code, for better integration with haskell-code in web services?
04:35:31 <mflux_> a haskell implementation in javascript could work too ;)
04:35:51 <malcolm> JaffaCake: Hi.  You do know that people can scan the archives of #haskell ?
04:36:03 <shapr> mflux_: Wadler is talking about that.
04:36:09 <JaffaCake> yeah, I know
04:36:37 <mflux_> wadler?
04:36:44 <shapr> I'm self-employed. Anything I say *does* represent the opinions of my employer.
04:36:57 <shapr> mflux_: look at the Links stuff posted to http://lambda-the-ultimate.org/
04:37:33 <shapr> JaffaCake: btw, have you gotten a rush of new GHC survey submissions?
04:37:44 <JaffaCake> don't know, haven't checked
04:38:26 <shapr> Btw, do you still want the apache logs charted?
04:38:43 <JaffaCake> that would be great, if you have the time
04:39:10 <shapr> ok
04:40:58 <xerox> shapr, what would you use for chart them?
04:41:56 <TFK> http://haskell.org/hawiki/HaskellIrcPastePage <--- anything particularly bad about that code?
04:41:57 <shapr> I don't know, I've used webalizer, analog, and a few others. I haven't been impressed so far.
04:42:22 <shapr> Do you have any suggestions for good apache log analyzers?
04:42:34 <xerox> Nope, I was searching for one, too.
04:44:12 <shapr> I was thinking about the effective but cheesy approach of grep'ing out all the downloads, and slicing up the results in various ways to feed to gnuplot.
04:44:13 <xerox> awstats seems nice, btw.
04:44:52 * xerox smells an Haskell CGI underneath
04:47:09 <musasabi> What resulted from the popen discussion - i.e. what is the best thing to use with ghc 6.4?
04:47:46 <TFK> It complains on "then return "1"", but of course the problem may be elsewhere.
04:48:58 <Lemmih> TFK: You have to indent 'then' and 'else' a bit.
04:49:17 <TFK> Really? It worked before, I think. That type of indentation, I mean.
04:49:23 * TFK tries that
04:50:00 <TFK> Heh, worked, thanks :-)
04:50:19 <Lemmih> The rules are a little different in the do notation.
04:50:45 <TFK> Yes, possibly I only put those in do-s before.
04:51:10 <TFK> HBIN_CONFIG = "hbin.cfg" <--- now it complains on this. I'm actually trying to make a global/constant/whatnot to use later. Any better way to do this?
04:51:52 <Lemmih> hBIN_CONFIG = "hbin.cfg"?
04:52:28 <TFK> Heh... B&D.
04:53:53 <TFK> Might as well change it all to lower-case.
04:56:46 <shapr> malcolm: just curious, what motivated you to join #haskell?
04:56:52 * shapr wants advertising feedback
04:57:36 * TFK will only make 'as' imports from now on
04:57:46 * shapr suddenly wonders how people usually find #haskell
04:57:50 <shapr> TFK: how did you find #haskell?
04:58:02 <skew> hmm, how did I find #haskell?
04:58:19 <shapr> Maybe because I was advertising on #python and #twisted ?
04:58:26 <TFK> I dunno. There's a language, Haskell, surely there must be a community of Haskell pundits on freenode!
04:58:37 <TFK> so yes, a lucky guess :-)
04:58:48 <shapr> cool
04:58:58 <skew> I think I either also guessed, or there was a note somewhere on haskell.org
04:59:48 <blackdog> shapr: I think I met you, and you insisted that I'd been here already ... i felt i had to keep up the charade.
04:59:54 <shapr> haha
05:01:54 <shapr> nlv11757_: how'd you learn about #haskell?
05:02:05 * shapr does the #haskell user survey after peer pressure from the GHC user survey.
05:03:09 <blackdog> oh wow... firefox just had 103% of my cpu, according to top.
05:03:23 <shapr> What's the famous joke about "what's the difference between a computer scientist and a train?" I've never heard that joke.
05:03:36 <Huschi> is there a good way to make the first argument of a function the last one?
05:03:46 <shapr> Huschi: flip
05:03:52 <shapr> If it's a two argument function.
05:03:53 <skew> Huschi: hand the other party in the argument a gun
05:03:55 <blackdog> shapr: that doesn't quite work...
05:03:59 <shapr> skew: bwahah
05:04:09 <TFK> Hmm, is there a shorthand function for not equal? != doesn't seem to be defined.
05:04:19 <skew>  /=
05:04:23 <Huschi> does flip also work if a want to transform f3 :: a -> b -> c -> d to g3 :: b -> c -> a -> d?
05:04:29 <TFK> ah, thanks
05:04:31 <blackdog> nope.
05:04:35 <skew> Huschi: there's no simple way of doing that in general
05:04:47 <skew> probably the easiest thing to do is use a lambda
05:05:18 <Huschi> ok, thx. this wtre my first thoughts too :)
05:05:26 <TheHunter> @pl \f x y z w -> f y z w x
05:05:27 <lambdabot> flip . ((flip . (flip .)) .)
05:05:47 <skew> (\x a b c-> f3 a b c x), or g3 x a b c = f3 a b c x
05:06:07 <skew> there are crazy things you can do with typeclasses as long as you never want d to be a function type
05:06:25 <shapr> Speaking of which, I should reread your typesafe penrose tile solution.
05:06:31 <Huschi> d should simply be a value.
05:07:01 <skew> it won't do the curvy penrose tiles, just rectangles hooked into bigger rectangles
05:07:04 <shapr> skew: oh hey, did you figure out what I meant about typesafe adjacency as region allocation?
05:07:09 <skew> no
05:07:45 <shapr> Region allocation is roughly memory adjacency calculations.
05:08:32 <shapr> Makes sense?
05:08:44 <skew> you mean adjacency in use?
05:08:58 <skew> that's starting to sound reasonable
05:09:25 <shapr> That's good to hear, I was worried it was another of my ideas with built-in reality dysfunction.
05:10:00 <skew> I think continuations were probably that sort of idea too
05:10:08 <shapr> huh
05:10:12 <shapr> that's an interesting thought
05:10:26 <skew> but now they terrorize students in many languages :)
05:10:28 <shapr> I don't see it.
05:10:48 <shapr> Hm, I have a vague mental picture.
05:11:02 <shapr> You're talking about the real in-memory structure of continuations, right?
05:11:12 <shapr> Basically, continuations as goto label in asm?
05:11:12 <skew> I mean, I think sounding crazy and actually being impossible are different
05:11:17 <shapr> Oh =)
05:11:42 <skew> so you want to gather up memory use somehow
05:11:56 <shapr> Quite a few people think most of what I say is of crack-smoking-quality.
05:12:47 <skew> I don't know if deciding where to put region boundaries really fits the usual sort of type-checking
05:12:47 <shapr> In any case, if you can encode adjacency in the type system, like you showed with arrows...
05:13:47 <shapr> Then you could use something roughly like a big string of arrows to lay out your data/code in memory directly. And I think you'd be able to use that for region-allocation-style GC.
05:14:26 <vincenz> shapr: you been reading the papers by.. Walker?
05:14:29 <shapr> No, who's he?
05:14:44 <shapr> Oh wait, he's the head region allocation guy isn't he?
05:14:44 <vincenz> he's got quite an extensive paper on type-safe region allocation
05:14:56 <vincenz> among with separation logic, yes
05:15:00 <shapr> I downloaded some of his papers, but I haven't gotten around to reading them yet.
05:15:19 <vincenz> Why are you not doing a PhD?
05:15:44 <shapr> Aha, if he's already done type-safe region allocation, I bet I can steal his adjacency checking and lift it into multiple dimensions!
05:15:59 <shapr> vincenz: um, because I don't have a degree? I've never had any CS classes.
05:16:21 <vincenz> ever publish papers?
05:16:24 <shapr> Nope.
05:16:28 <shapr> Would be fun though.
05:16:52 <vincenz> Iirc his paper mostly talks about a semantical system to do it
05:17:06 <vincenz> I haven't quite gotten to read it as it doesn't quite lie in my research field
05:17:17 <shapr> I may end up publishing papers in The Monad.Reader, and it seems like it'll have a real ISBN number sometime soon.
05:17:29 <vincenz> where is it?
05:17:42 <shapr> http://www.haskell.org/hawiki/TheMonadReader
05:17:58 <shapr> The first issue is at http://www.haskell.org/hawiki/TheMonadReader_2fIssueOne
05:18:20 <shapr> You can write an article for TMR too.
05:20:10 <vincenz> I really can't quite get into haskell I need a non trivial thing to work on, but can't figure out what, something that'll allow me to get into the monad trenches
05:20:32 <shapr> You could add MoinMoin features to Flippi.
05:20:32 <skew> writing toy interpreters is a good way to use some monads
05:20:40 <shapr> Then we could replace MoinMoin on haskell.org with Flippi.
05:21:03 <shapr> I'd definitely like that.
05:21:13 <shapr> I'd replace *all* of my wikis with Flippi.
05:21:52 <vincenz> I fear getting into a big framework might get me lost
05:21:59 <shapr> flippi is tiny.
05:22:25 <TFK> Is there any function to chop off the tail? shorthand for dropWhile (\l -> ...) . reverse
05:22:56 <shapr> what about takeWhile not?
05:23:31 <TFK> Won't work - I want to chop off empty lines, but I may have empty lines I want to keep in the middle.
05:23:55 <shapr> oh, I see.
05:24:11 <vincenz> @type fromJust
05:24:22 <lambdabot> bzzt
05:24:32 <vincenz> hmm
05:24:39 <xerox> @type Maybe.fromJust
05:24:41 <lambdabot> Maybe.fromJust :: forall a. Maybe a -> a
05:24:45 <vincenz> how does that work?
05:24:48 <TFK> I'd have to do reverse . dropWhile (=="") . reverse to actually do what I want, which kinda smells. Of course a lot of things in my code smell, so no biggie ;-)
05:25:07 <xerox> @plugs fromJust (Just "foo")
05:25:17 <lambdabot> "foo"
05:25:19 <vincenz> @plugs fromJust (Nothing)
05:25:20 <lambdabot> Ambiguous type variable `a' in the top-level constraint
05:25:25 <shapr> vincenz: check out Flippi - darcs get http://www.scannedinavian.org/~flippa/Flippi/
05:25:37 <vincenz> I did, don't have the darcs version
05:25:39 <xerox> @plugs fromJust Nothing :: Maybe Int
05:25:42 <lambdabot> Fail: Maybe.fromJust: Nothing
05:26:22 <TFK> http://tfk.is-a-geek.org/pastebin/23.html <--- there. suffer.
05:26:28 <shapr> What do you think? Does flippi look small enough to get into?
05:26:31 <vincenz> how do I install darcs?
05:26:34 <vincenz> I think so yes
05:26:47 <vincenz> should I install it as root?
05:27:07 <shapr> Unless you have a ~/public_html/cgi-bin/ dir
05:27:23 <vincenz> so what type is the return in... do <- return (fromJust (lookup "REQUEST_METHOD env))
05:27:26 <vincenz> shapr: no I meant darcs
05:27:48 <TFK> Erm, that's not really the code :-/
05:28:08 <TheHunter> vincenz, almost any distribution should have it.
05:28:09 <malcolm> TFK: you find hmake for Cygwin yet?
05:28:12 <TheHunter> @type return
05:28:14 <vincenz> do m <- return (fromJust (lookup "REQUEST_METHOD" env))
05:28:15 <lambdabot> return :: forall (m :: * -> *) a. (Monad m) => a -> m a
05:28:22 <vincenz> yes but what monad is it?
05:28:32 <TheHunter> it can be any monad
05:28:40 <vincenz> but it doesn't say which one..
05:28:58 <TFK> nope. I'm still wondering if anyone has hmake or hscolour binaries for win32. If not, I'll have to work on the colourer once I move to Ubuntu.
05:29:15 <tromp> just like + doesnt say if its for Ints or Integers or Doubles...
05:29:32 <tromp> + applies to any type in class Num
05:29:40 <malcolm> TFK: Are you using ghc or Hugs or what?  Because you probabyl don't need hmake at all.
05:29:41 <tromp> that's the beauty of it
05:29:44 <vincenz> yes but it gets certain arguments.... I guess it's
05:29:45 <vincenz> IO
05:29:48 <TFK> http://tfk.is-a-geek.org/pastebin/24.html <--- I call your attention to line 54. Ugh...
05:30:06 <shapr> The major advantage of installing darcs as root is the sexy darcs.cgi source viewer - http://www.scannedinavian.org/cgi-bin/darcs.cgi/hackage/Packages.hs?c=annotate
05:30:23 <TFK> malcolm, I have both GHC and Hugs. However, hscolour says that it needs 'hmake' to compile. At least ghc --make doesn't work.
05:30:36 <vincenz> shapr: I want to use darcs to get, not set up a repo
05:30:47 <malcolm> TFK: if ghc --make doesn't work, then I'll look into why not.
05:31:22 <TheHunter> @type Data.Char.isSymbol
05:31:25 <TFK> malcolm, I could give you the exact error, if you're interested.
05:31:25 <lambdabot> bzzt
05:31:34 <TFK> Also, I have GHC 6.4, if that matters.
05:31:51 <shapr> vincenz: Those are the same operation, but it sounds like you won't need to install it as root.
05:32:04 * vincenz nods
05:32:10 <vincenz> thankees
05:32:17 <TFK> I'm guessing it's because of the #ifdefs and whatnot, GHC says throws a "lexial error".
05:32:51 <malcolm> TFK: Ah, I see.  In hscolour/Run.hs, change "import IOExts" to "import System.IO.Unsafe".
05:34:48 <TFK> I just did, but I got another lexical error. It throws it on line 9, on the first #ifdef. Maybe I have to pass more flags to ghc?
05:34:55 <vincenz> @type +++
05:34:55 <malcolm> TFK: And you need "ghc --make -cpp" to grok the #ifdefs
05:34:56 <lambdabot> bzzt
05:35:05 <vincenz> @type Maybe.+++
05:35:06 <lambdabot> bzzt
05:35:30 <TFK> heh, d'oh!
05:36:11 <malcolm> TFK: and it seems you need the '-ffi' flag too.
05:36:12 <TheHunter> @type (Control.Arrow.+++)
05:36:14 <lambdabot> (Control.Arrow.+++) :: forall (a :: * -> * -> *) c' c b' b.
05:36:14 <lambdabot>                        (Control.Arrow.ArrowChoice a) =>
05:36:14 <lambdabot>                        a b c -> a b' c' -> a (Either b b') (Either c c')
05:36:42 <boegel> anyone in here familiar with optics (refraction of light) ?
05:37:02 <TFK> Wow! It works. Thank you, malcolm :-) now to plug it in!
05:37:31 <TheHunter> hmm, having 256MB of ram, can I compile a hello world with jhc?
05:51:20 * shapr decides to start ParsecExts
05:51:48 <TFK> Now there's another problem. If I colour the HTML with an external process (a good thing, because of extensibility), I stand the risk of swallowing malicious code (since I'll need to primHtml the result from the colourer). So, (1) just how malicious the most malicious code can be? (2) any way to somehow avoid this?
05:53:00 <TFK> Maybe I could "reparse" the code, and only convert safe html to real html...
05:53:50 <skew> the colorizer is already running on your box
05:54:08 <skew> and HTML isn't a real programming language anyway...
05:54:17 <TFK> What about javascript or whatnot
05:54:20 <TFK> *?
05:54:43 <TFK> After all, primtHtml preserves everything as-is, I think.
05:54:55 <skew> what does the client's brower let javascript from your wiki do anyway?
05:55:08 <TFK> I don't know! Thus I'm asking.
05:55:29 <TFK> Since basically any embedded javascript would at least try to be executed by the browser, I think.
05:56:10 <skew> Look, if you are assuming that the coloring process you are invoking is hostile, you have bigger problems than whether your user's browers also have security holes
05:56:36 <TFK> right now hbin is as unsafe as it gets. Well, minus the buffer overflows.
05:56:43 <skew> what are you trying to protect from whom?
05:57:04 <TFK> I don't know, really. If I knew, I probably wouldn't ask :-)
05:57:16 <TFK> I suppose I can use primHtml now, and worry later.
05:58:44 <skew> Protecting your user from the output of your colorizer falls under excessively paranoid
05:59:04 <skew> besides, that's their brower's job, and if they run IE it's their own fault
05:59:11 <TFK> Well, that's why primHtml is unsafe, right?
05:59:28 <TFK> No, it isn't.
05:59:40 <TFK> Since most people run IE, you'll excuse me if I take them into account.
06:00:04 <skew> if the docs say primHtml is unsafe that means you can use it to output things that are not valid HTML, not that there are security implications
06:00:15 <TFK> The docs don't say anything. It's not annotated.
06:00:27 <TFK> Oh, OK then.
06:00:39 <JaffaCake> malcolm: do you have any thoughts on the package saga?
06:01:07 <nlv11757_> firefox should be mandatory to internetting
06:01:19 * TFK sighs
06:01:26 <malcolm> JaffaCake: Well, I see what Alex is afraid of, in terms of dependency nightmares
06:01:35 <JaffaCake> right
06:01:46 <TFK> Tell it to the 85%+ surfers ;-)
06:02:02 <malcolm> JaffaCake: But I'm fairly confident that the packaging community (apt, yum, etc) have already solved most of the problems.
06:02:14 <TFK> *of the surfers
06:02:23 <skew> It's their security...
06:02:42 <JaffaCake> most packaging systems *don't* solve the problem, AFAICS
06:02:57 <JaffaCake> they allow you to build an inconsistent system
06:03:05 <malcolm> Really?
06:03:29 <skew> I don't see why you are worried about the syntax highlighting tool generating output that breaks the security of the user's brower anyway
06:03:36 <JaffaCake> yes, they allow you to upgrade a single component without forcing updates of all the things that depend on it
06:03:42 <skew> surely if you wanted to exploit your users you could do it more directly
06:03:56 <malcolm> I've only used synaptic, and then only a few times, so maybe I didn't bump into any of the problems that remain?
06:03:57 <JaffaCake> (maybe not Debian, though)
06:04:11 <TFK> I'm not worrying about the colourer. I'm worried about primHtml, since the *entirety* of the posted content will be primHtml-ed - right now it isn't.
06:04:30 <TFK> Anyway, I'll do it the primHtml way for now.
06:04:39 <malcolm> I know that RPM on its own was horribly broken in the way you describe,
06:04:55 <skew> huh? What's to worry about with primHtml? Sounds like it just passes a string on through
06:05:03 <shapr> As far as I know, Debian has two layers, dpkg just installs packages, apt handles dependencies.
06:05:17 <malcolm> but my impression is that new layers on top of that have ensured that libraries do match.
06:05:40 <JaffaCake> if you can install multiple versions of a library, that solves some of the problems
06:05:44 <nlv11757_> TFK: holes in IE, pop-ups, etc, etc will make people either suffer or step over to firefox
06:05:48 <JaffaCake> but you can't usually install multiple versions of a static library
06:06:00 <TFK> nlv11757_, you don't seem to get it.
06:06:15 <malcolm> Yup, multiple versions installed (though not necessarily used simultaneously by the same binary) goes a long way.
06:06:16 <nlv11757_> sure i do, you want to target surfers, so you target IE
06:06:19 <nlv11757_> because it is popular
06:06:33 <shapr> nlv11757_: no way, MSIE is broken.
06:06:38 * Lunar^ is still impressed on how elegant STM is
06:06:42 <TFK> Anyway, I don't want to argue. All I want to know is, will primHtml pose security risks, either to myself or my users.
06:06:50 <JaffaCake> I think the OS packaging crowd often forget the problems with static libraries
06:07:06 <nlv11757_> shapr, im no fan of IE ;)
06:07:10 <JaffaCake> and I remember incompatible upgrades to glibc that screwed everyone
06:07:20 <thou> TFK: i missed most of your conversation, but if it converts <>"& to &lt;, etc., then the browser won't try to run jscript
06:07:26 <skew> TFK: I think you have been watching too many hackers in movies....
06:07:27 <shapr> Yeah, the glibc nightmare was exciting.
06:07:27 * boegel parties
06:07:54 <TFK> thou, that's the point, afaik, primHtml doesn't convert anything, contrary to toHtml and other tags
06:08:08 <JaffaCake> but we're off-topic a bit....
06:08:10 <thou> ah
06:08:36 <TFK> I don't know a lot about javascript; thus my question, if it may pose security risks. It's that simple.
06:08:56 <shapr> JaffaCake: do you think the responsibilities for package installation and dep checking should be separate as in Debian?
06:09:17 <thou> TFK: it can easily be used to phish for passwords, spoof sites, etc.
06:09:22 <JaffaCake> shapr: ideally, yes
06:09:31 <shapr> TFK: for a first version, I don't think you have to worry about it.
06:09:47 <JaffaCake> but you can't rely on that exclusively, it seems
06:10:02 <JaffaCake> some people want to work without a package manager
06:10:11 <TFK> shapr, sure. The question of just how big risk it is is a separate question. I just wanted to be informed :-)
06:10:13 <shapr> One nice thing about that separation in debian is that sometimes I need to get around the dep checking, then I can work directly with dpkg.
06:10:48 <JaffaCake> dependency checking for *source* is different than for binary packages, too
06:11:06 <malcolm> Surely the problem with static libraries on Unix is that they don't have version numbers attached.  It would be easy to fix if there wasn't so much tradition to overcome.  But in Haskell, we have the opportunity to get it right from the beginning with packages, even statically linked ones.
06:11:28 <JaffaCake> yes
06:11:31 <thou> TFK: i'm having trouble imagining how you can color HTML without escaping <>"&
06:11:53 <shapr> TFK: the simple approach is to escape any pasted < > symbols into &lt; and &gt; as someone said earlier.
06:11:58 <TFK> thou, the colourizer colorizes Haskell code, not HTML.
06:11:59 * thou should be quiet - obviously missing something basic
06:12:07 <JaffaCake> in fact, I believe we *do* get it right, in that we attach version numbers to static libraries
06:12:15 <shapr> Yeah, I think that's the right approach.
06:12:20 <thou> TFK: ah
06:12:26 <TFK> shapr, yeah, I suppose I could convert to Html and back to string.
06:12:55 <JaffaCake> we just have this problem whereby you might not be able to use certain packages together because of their dependencies
06:13:08 <shapr> JaffaCake: that's what happens in Debian also, readline4 and readline5 are two different packages.
06:13:16 <JaffaCake> right
06:13:31 <JaffaCake> but you can't even *install* them together, true?
06:13:39 <shapr> Hm, I think you can.
06:13:42 <JaffaCake> oh
06:13:58 <shapr> It's just that they both have 'furnishes: readline' or something.
06:14:00 <JaffaCake> I wonder what happens to /usr/lib/libreadline.a then
06:14:14 <tuomov> linking to a particular version isn't easy..
06:14:16 <shapr> You have preferences for the furnishes settings.
06:14:58 <shapr> You can have a zillion versions of java installed, and they come with a precedence for their furnishes setting.
06:15:20 <shapr> So jdk1.1 might have 10, and jikes vm might have 20, then the default will be jikes
06:15:35 <JaffaCake> hehe, that's really ugly
06:15:38 <shapr> but if you uninstall jikes, jdk1.1 will automatically take over the /bin/java symlinks.
06:15:48 <mflux_> jaffacake, it's in the -dev -package, maybe those collide for 4 and 5 (propably uses the alternative-system)
06:16:07 <JaffaCake> mflux_: thanks, I see
06:16:20 <CosmicRay> mflux_: usually in debian there is only a -dev package for the most recent version, though there may be plain packages for older versions
06:16:23 <shapr> Right, furnishes and alternatives are different, sorry.
06:16:29 <malcolm> So the main problem is the "hidden" dependencies that exist only because current Haskell compilers 'bake in' the package name/version at compile/install time?
06:16:31 <CosmicRay> mflux_: because source-level compatibility is usually not a problem
06:16:40 <TFK> Hmm, which library does ForkIO come from?
06:16:48 <JaffaCake> malcolm: yes
06:16:54 <Lunar^> @type Control.Concurrent.forkIO
06:17:00 <lambdabot> Control.Concurrent.forkIO :: IO () -> IO GHC.Conc.ThreadId
06:17:03 <TFK> sankyu
06:17:21 <Lunar^> lambdabot: you rocks
06:17:22 <lambdabot> Not a command (no @).
06:17:37 <Igloo> In Debian, libfoo-ghc6-dev depends on the same upstream version of ghc that it was compiled with, which means everything on your system must be consistent
06:17:38 <malcolm> So is there any way we can do link-time resolution of symbolnames against whatever packages are available?
06:17:43 <skew> @karma+ lambdabot
06:17:44 <lambdabot> lambdabot's karma has been incremented
06:17:45 <Lunar^> shapr: Could you hack it to make it understand compliments? ;)
06:17:58 <JaffaCake> malcolm: that would entail not doing any cross-module optimisation
06:18:00 <Igloo> But in unstable there will be some uninstallable packages during transition to a new upstream release
06:18:00 <TFK> Hmm, if it starts a new thread, will it be scrapped automatically after it finishes its thing?
06:18:02 <shapr> Lunar^: you'll have to talk to dons, he's the new lambdabot maintainer.
06:18:05 <JaffaCake> at least across package boundaries
06:18:18 <Lunar^> shapr: hs-plugins everywhere :)
06:18:28 <malcolm> JaffaCake: Yes, I think that is the penalty for better pluggability.
06:18:29 <shapr> Yup, dons just switched lambdabot to hs-plugins.
06:18:31 <skew> Lunar^: don't thank it, send karma
06:18:39 <Lunar^> skew: I will :)
06:18:47 <malcolm> John's jhc would have less of a problem... :-)
06:18:55 <TFK> Or at least, will it be scrapped after the main process terminates?
06:19:13 <JaffaCake> malcolm: but that doesn't solve the whole problem.  You might still have two packages that require different, incompatible, versions of an interface
06:19:30 <shapr> Zope has that problem on a regular basis.
06:20:00 <shapr> I've been threatening to write zopt-get in Haskell.
06:20:00 <malcolm> Yes, I see that.
06:20:07 <JaffaCake> which is why we think you ought to be able to use multiple versions of a package simultaneously
06:20:29 <JaffaCake> but that entails making sure they export different symbols into the linker's namespace
06:20:48 <JaffaCake> hence... package names & versions have to be in each symbol
06:21:04 <shapr> I'm surprised linkers don't have symbol versioning built-in. How does the linux kernel do the autoversioning of modules?
06:21:20 * JaffaCake doesn't know
06:21:34 <malcolm> JaffaCake: yes, I thought we came to that conclusion when we met with Isaac last May.
06:21:56 <JaffaCake> right, I do feel like I keep explaining the same problem :)
06:23:01 <malcolm> So, if packagename + version are baked into the symbols after compilation, does that solve everything?
06:23:35 <JaffaCake> well, the compiler has to distinguish module M that comes from package P1 from module M that comes from package P2
06:23:58 <JaffaCake> so it's not just a back-end issue
06:24:43 <CosmicRay> shapr: there is a symbol mangling that goes on at compile time and is stored in a specially-generated .h file
06:24:54 <CosmicRay> malcolm: that's worse
06:25:05 <malcolm> Yes, that can be done with careful use of -package flags though, can't it?
06:25:07 <CosmicRay> malcolm: now you break the common case where minor changes don't modify the binary api
06:25:26 <JaffaCake> malcolm: I don't think so
06:25:34 <malcolm> All minor changes alter the binary API for ghc anyway.
06:26:03 <CosmicRay> not minor changes in packages, surely?
06:26:10 <CosmicRay> minor changes in ghc, perhaps
06:26:34 <JaffaCake> CosmicRay: that's true - we'd lose the possibility of upgrading shared libraries in place, but we don't have that right now anyway
06:26:35 <CosmicRay> shapr: what darcs-related project were you planning to embark on?
06:26:50 <shapr> when?
06:27:04 <CosmicRay> JaffaCake: I guess my concern is -- is all this going to add a lot of complexity to solve a rare problem?
06:27:04 <shapr> Oh, you mean Fermat's Last Margin?
06:27:17 <CosmicRay> shapr: last week or so...
06:27:30 <CosmicRay> shapr: you wanted me to tell you when/if I got a darcs library in place that you could use
06:27:37 <JaffaCake> CosmicRay: it's going to add a lot of complexity... as to whether the problem is rare enough, I don't know
06:27:41 <shapr> Yeah, that one. Actually, I've embarked. It's done except for the darcs interface.
06:27:48 <CosmicRay> shapr: well my darcs code is done but I didn't have to make enough calls into it to write much of a library
06:28:05 <skew> TFK: if your HTML-generating colorizer doesn't already esacpe <> and stuff in the code it is colorizing, then it does a pretty poor job of generating colorized HTML
06:28:07 <shapr> Where do I get it?
06:28:25 <CosmicRay> shapr: darcs get --partial http://darcs.complete.org/darcs-buildpackage
06:28:34 <TFK> skew, dunno, maybe it does :-P
06:28:53 <skew> the only security issue I see is making sure they can only get your server to run approved colorizers
06:28:57 <CosmicRay> JaffaCake: I believe it's fairly rare, and the proper solution is to update out-of-date packages to be compatible with the current versions
06:29:08 <skew> as opposed to something like !syntax rm -rf /
06:29:27 <skew> and checking that your colorizers properly esacpe stuff
06:29:31 <JaffaCake> CosmicRay: I'm inclined to agree - you can usually rebuild things to regain consistency
06:29:36 * shapr agrees also
06:29:39 <CosmicRay> shapr: but like I said there's not a lot there.  most stuff I just run through safeSystem (my wrapper around rawSystem that checks the exit status).  The rest uses my pipeFrom thing
06:30:33 <TFK> skew, yup, I'll have to check out and see if the colorizer escapes <,> etc.
06:30:49 <CosmicRay> shapr: I'm interested if you think the little ideas in dbp-get could be generalized to make a sort of darcs-get thingy, similar to apt-get, but downloading from a darcs mirror network.  During a spate of insomnia last night, I had grand visions of it integrating with hackage, but who knows if that would ever work :-)
06:30:54 <shapr> Ok, now I think I understand alexj's objections, but I'm not convinced the gain is worth the extra effort of the implementation.
06:31:21 <shapr> CosmicRay: yeah, I've been talking to SyntaxNinja about that sort of thing.
06:31:29 <CosmicRay> oh, nice
06:32:11 <shapr> If _darcs were the Hackage equivalent of debian/ it would be so easy to send bug fixes.
06:32:20 <CosmicRay> heh
06:32:46 <shapr> I'd send lots more bugfixes to OSS projects if it weren't so hard to submit them.
06:33:08 <CosmicRay> incidentally I have been trying to convert the fptools cvs repository to darcs using Tailor but lack the cvs mojo necessary to make it work
06:33:18 <shapr> Have you asked lelit?
06:33:29 <CosmicRay> I think there is something screwy about files in the repo, including in CVSROOT, that aren't publically-available, but I can't figure out what
06:33:30 <JaffaCake> CosmicRay: keep us posted - I'm interested in how you get on
06:33:36 <TFK> http://haskell.org/ghc/docs/latest/html/libraries/base/System.Process.html#v%3ArunInteractiveCommand <--- this example uses forkIO, but do I really have to use it? I don't mind if my operation will block.
06:33:40 <CosmicRay> shapr: no, what's that?
06:33:51 <shapr> lelit on #darcs is the author of tailor
06:34:15 <JaffaCake> CosmicRay: there are various bogons in the fptools CVS repo that I discovered when I tried to convert it to SVN a while back
06:34:23 <CosmicRay> JaffaCake: will do.  FWIW I have had some very positive experiences converting subversion and arch repos to darcs.  someone also maintains a darcs mirror of the bitkeeper kernel repository, which performs far better than I expected
06:34:25 <CosmicRay> JaffaCake: heh
06:34:41 <JaffaCake> cool
06:34:42 <CosmicRay> JaffaCake: this seems to be pretty much a universal experience with CVS repos of any size
06:34:52 <shapr> And with Igloo on the case, darcs will be speedier than ever.
06:35:03 * shapr waves the lambda pom-poms
06:35:08 <CosmicRay> heh
06:35:13 <thou> hehe
06:35:14 * JaffaCake watches as darcs whooshes past
06:35:29 <TFK> Also, hugs fails to find System.Process o_O
06:35:37 <CosmicRay> darcs has come a long way in a short time, too.  I wish david would fix the conflicting adds spin though.
06:35:45 <CosmicRay> TFK: hugs doesn't implement system.process
06:35:54 <TFK> Can I feed it GHC's, then?
06:35:58 <CosmicRay> TFK: no
06:36:02 <thou> does Graphics.Rendering.OpenGL work with nhc98?
06:36:06 <CosmicRay> TFK: there was a thread on this a couple of days ago on the hugs list
06:36:06 <TFK> Sucks.
06:36:10 <CosmicRay> TFK: yes
06:36:16 <CosmicRay> TFK: hugs doesn't support fork() in any way
06:36:30 <TFK> OK then, guess it's GHC land from now on...
06:36:40 <CosmicRay> if it did, I could have shipped darcs-buildpackage as an arch: all package depending only on hugs.
06:37:35 <CosmicRay> yeah, an interpreter without fork() has really limited usefulness for me
06:38:04 <shapr> Fritz Ruehr is threatening to make Curry and Howard pom-poms to go with some of his other designs - http://www.cafepress.com/highordertyped.7154434
06:38:24 <shapr> Wouldn't that look great at the next ICFP?
06:38:28 <CosmicRay> heh
06:38:35 * CosmicRay doesn't want to see shapr in a thong
06:38:43 <shapr> I thought *you* were going to wear it!
06:38:55 <CosmicRay> oo, even scarier!
06:39:36 * shapr snickers
06:39:56 <CosmicRay> shapr: speaking of scary, grep the logs for blackdog talking about "asses" about 8 hours ago.  seems like somebody grabbed his terminal and started typing in here
06:40:48 <shapr> Yeah, I saw that. I was most entertained when someone replied with "whoever you are, go away and stop pretending to be blackdog."
06:41:22 <CosmicRay> it was highly unclear what actually happened
06:41:31 <CosmicRay> I don't really know blackdog so I didn't know at first that it wasn't him
06:41:40 <CosmicRay> just being weird at midnight
06:41:52 <shapr> Just after that blackdog came back and said "cow-orkers can be a pain sometimes"
06:42:18 <musasabi> At least fptools is quite usable with darcs.
06:42:21 <shapr> I met blackdog at ICFP03, though I'd seen him online before then.
06:42:27 <shapr> He's a cool guy.
06:42:45 <shapr> CosmicRay: Speaking of meeting, when are you visiting the Old World again?
06:44:21 <musasabi> CosmicRay: what do you think is best way to popen? (I have a case where I have a Handle I want to use for input and need a string for output... createPipe + runProcess does not seem to work - what else is needed?
06:44:56 <CosmicRay> musasabi: I've got some stuff here that could be a good starting point for you: http://darcs.complete.org/missingh/MissingH/Cmd.hs
06:46:14 <CosmicRay> some ofthe functions I've got are:
06:46:17 <CosmicRay> pipeFrom :: FilePath -> [String] -> IO (PipeHandle, String)
06:46:22 <CosmicRay> hPipeFrom :: FilePath -> [String] -> IO (PipeHandle, Handle)
06:46:30 <CosmicRay> pipeTo :: FilePath -> [String] -> String -> IO PipeHandle
06:46:40 <CosmicRay> pipeBoth :: FilePath -> [String] -> String -> IO (PipeHandle, String)
06:46:55 <musasabi> hmm, that does not seem to use the new System.Process at all.
06:47:16 <CosmicRay> musasabi: no, it was designed during ghc 6.2 and since that's still the most recent in Debian, that's all I use
06:49:03 <musasabi> that is a valid point.
06:49:25 * musasabi reads that and tries to come with something simple and working.
07:00:24 <CosmicRay> musasabi: these pipeTo, pipeFrom are fairly simple
07:03:18 <CosmicRay> heh, "Some see Virgin Mary in underpass stain" http://www.cnn.com/2005/US/04/20/mary.underpass.ap/index.html
07:04:17 <CosmicRay> musasabi: the basic algorithm is: create a pipe, fork, closeFd the endpoints not in use on both the parent and the child, dupTo the child's endpoint to the appropriate fd, exec... then on the parent, do your thing, and then wait for the child.
07:04:39 <TFK> What I weird typo. I keep typing "primtHtml" instead of "primHtml" :-/
07:04:46 <CosmicRay> heh
07:04:53 <CosmicRay> I read that as printHtml at first :-)
07:06:07 <TFK> Yeah, I'm guessing it's from all those "print" statements I do in Python :-P
07:10:25 <musasabi> CosmicRay: yes, sounds simple enough, I think it will work.
07:24:20 <TFK> I hate IO.
07:26:08 <TFK> From colorizeCode I get IO String. OK. How do I turn this into Html? My former function doesn't work; GHC complains that it expects a String, no IO String.
07:26:30 <nlv11757_> do s <- iostring ; colorizeCode s
07:26:52 <nlv11757_> ofcourse i dont know anything about you're context. So chances are my advice is useless :D
07:27:09 <TFK> I did. I have no idea why it doesn't work.
07:27:10 <nlv11757_> ow wait colorizeCode gives io string
07:27:39 <TFK> I'm trying to do this: s <- colorizeCode foo; htmlize s
07:27:55 <TFK> Hmmm.
07:28:04 <nlv11757_> and htmlize works on strings
07:28:24 <TFK> Yup.
07:28:32 <nlv11757_> and it returns?
07:28:57 <TFK> It shouldn't. It returns Html, not IO Html. But I tried returning, too.
07:29:16 <TFK> Hmmm.
07:29:36 <TFK> Heh, now I'm getting IO (IO String) from somewhere :D
07:30:07 <TFK> Hmmm.
07:30:35 <malcolm> do { s <- colorize; h <- htmlize; putStrLn h }
07:30:41 <TFK> colorizeCode :: String -> IO String <--- does this line fit: return $ hGetContents out
07:31:25 <TFK> Not sure how that'd work.
07:31:28 <nlv11757_> if htmlize return Html, then you need to do let h = htmlize s
07:31:30 <nlv11757_> right?
07:31:53 <TFK> Well, it works now.
07:31:59 <TFK> Dunno. I'm yet to grok let.
07:32:04 <nlv11757_> ow what did you change?
07:32:14 <TFK> stuff <- hGetContents out; return stuff.
07:32:25 <TFK> Don't ask :-/
07:32:28 <malcolm> Oops, yes.  do { s <- colorize; h <- return (htmlize s); putStrLn h }
07:32:29 <nlv11757_> heheh
07:32:36 <TFK> I'll have to read up on IO and Monads a bit later.
07:32:50 <nlv11757_> do { s <- colorize; let h = htmlize s; putStrLn h } will also work right?
07:32:58 <malcolm> yup
07:32:59 <TFK> That resembles quite a bit to what I have :-)
07:33:03 <nlv11757_> maybe with some parens around the let
07:33:18 <nlv11757_> those wadler papers about monads are cool
07:33:24 <TFK> 500 error :-D
07:33:30 <nlv11757_> lol
07:34:46 <TFK> So I'll ask again. Must I use forkIO here: http://haskell.org/ghc/docs/latest/html/libraries/base/System.Process.html#v%3ArunInteractiveCommand <--- because currently I'm not, and I'm guessing that the only difference is that hPutStr is blocking, while forkIO doesn't.
07:35:57 <nlv11757_> i never used forkIO
07:35:58 <TFK> Might be anything, really. Maybe hbin can't run programs from within cgi-bin or something, or maybe I'm mis-using the entire thing.
07:36:13 <TFK> *forkIO isn't
07:38:37 <dcoutts_> according to a (biased, self-selecting web survey) darcs is the most popular source control system after CVS/SVN: http://kerneltrap.org/node/4970
07:38:54 <dcoutts_> I'm rather pleasently suprised
07:40:01 <TFK> Not 500, but for some reason it doesn't terminate.
07:40:17 <TFK> Ah, flushing, probably.
07:40:50 <TFK> (the 500 error was due to my own stupidity)
07:40:58 * Igloo wonders if mumbling something about gtk2hs frontends is a good way to get more developer power behind darcs  :-)
07:41:36 <dcoutts_> you want a gtk2hs diff/merge fontend for darcs?
07:43:21 <TFK> malcolm, hscolour looks very cool, thank you again :-)
07:44:50 <Igloo> diff/merge would be just part of it, I think
07:45:02 <TFK> Not I gotta figure out how to tame <pre>.
07:45:03 <Igloo> You'd also want to be able to browse patches, look at how they relate etc
07:45:04 <df_> dcoutts_ :: some people were reviewing scm stuff and were going ooh at something called superversion, a java thing with apparently a very `nice' simple gui, for all the people who dont like command lines to use
07:45:35 * Igloo has never used a graphical frontend to other RCSs, so I don't really know what features they have
07:45:55 <dcoutts_> so what does a scm gui do? I use command line + a graphical diff/merge tool called meld(.sf.net)
07:46:17 <dcoutts_> meld is really excelent btw (but written in python)
07:46:44 <thou> bk has a nice tool showing a graph of all changesets
07:46:44 <df_> god knows, i use command line tools
07:47:11 <malcolm> TFK:  hscolour grew out of remorse - the simple lexer part anyway
07:47:21 <Igloo> You could make things like the record patch selection much nicer, colouring selected things and being able to see more context easily
07:47:28 <thou> so you can see where each changeset happened in time, which ones depend on previous ones, etc. - probably lots of that wouldn't be the same with darcs, but maybe something similar about patches
07:47:30 * TFK nods
07:47:39 * Igloo can probably describe what I mean more easily in person if you're interested
07:49:06 <thou> a gui that lets you open up an annotated file, then click on a single line and get the full patch that most recently changed that line, then jump to another file affected by the same patch
07:49:27 <Igloo> Ah, yes, looking at darcs' web interface will also give some ideas
07:49:50 <df_> http://www.superversion.org/screenshot.html -- apparently its nice
07:50:21 <dcoutts_> Igloo: it's interesting but I don;t really have the time to work on something like that, I've got enough to do with getting gtk2hs to 1.0, I'll happily give gtk2hs advice to anyone who wants to try something
07:50:53 <Igloo> Oh well, can't blame a guy for trying  :-)
07:51:02 <dcoutts_> see this screenshot of meld: http://meld.sourceforge.net/meld_file1.png
07:51:33 <dcoutts_> this is what I was thinking of as one of the bits that you'd want in a darc gui
07:52:05 <tuomov> I'd rather have a curses frontend for that sort of stuff..
07:52:13 <nlv11757_> curses rules
07:52:30 <dcoutts_> you've never used meld, I've never looked back since
07:52:32 <tuomov> the UI in curses programs is usually more thought-out to be usable
07:52:36 <thou> is there a higher-level curses package?
07:53:03 <nlv11757_> meld = curses++?
07:53:18 <thou> meld is a merge program
07:53:27 <dcoutts_> meld = gui diff/merge tool: http://meld.sourceforge.net/meld_file1.png
07:54:11 <dcoutts_> it even does Haskell syntax highliting (via GtkSourceView)
07:54:15 <Lunar^> CosmicRay: cheers for darcs-buildpackage
07:54:28 <Igloo> dcoutts_: A darcs frontend could (initially, at least) just fire up a merge tool of your choice, though
07:54:50 <dcoutts_> Igloo: sure
07:54:51 <nlv11757_> ow i thought you meant...once you used meld you never had a use for curses anymore :P
07:54:55 <TFK> Suddenly it stopped working, yay..
07:54:57 <Igloo> It's things like patch relationships and how patches have changed files that you really need the frontend for
07:54:58 <thou> Igloo: having it work well with 3rd-party programs is a laudable long-term goal too
07:55:36 <nlv11757_> died quietly tfk?
07:55:42 <dcoutts_> I thought darcs already had some sort of simple gui using wxhaskell. Am I wrong?
07:55:44 <TFK> Nope, more 500.
07:55:48 <TFK> *500's
07:55:51 <nlv11757_> hehe that helps ;)
07:55:57 <Lunar^> dcoutts_: It was discontinued AFAIK
07:56:10 <dcoutts_> Lunar^: any idea why?
07:56:17 <TFK> I think the problem may be while flushing, or piping to hscolour, because the process is started just fine.
07:56:21 <thou> a question that needs answered often is "which patch may have introduced this buggy behavior?" - a gui that lets you search through patch descriptions & actual patches, get a list of results and jump from one to the next quickly would be great
07:56:42 <Igloo> dcoutts_: It doesn't do much and probably doesn't compile any more AIUI
07:56:45 * Igloo has never tried it
07:59:16 <Lunar^> dcoutts_: David focused on getting the base right, and people made a better CGI
08:00:30 <TFK> Hmm. Maybe the problem is the fact that hscolour thinks it will get a filename, and not the code? But it worked just a moment ago...
08:00:35 <dcoutts_> well, I leave it as a standing offer to provide advice on the gtk2hs side for anyone who want to try an improved darcs gui
08:01:09 <TFK> Hmmm.
08:02:53 <TFK> nope.
08:04:07 <CosmicRay> Lunar^: thanks
08:05:11 <Lunar^> CosmicRay: Are you going to bootstrap it? ;)
08:06:45 <CosmicRay> Lunar^: ooo, you have not taken a close look at http://darcs.complete.org/darcs-buildpackage then, have you? :-)
08:07:23 <CosmicRay> a darcs changes will reveal telltale signs of a repository being managed by darcs-buildpackage :-)
08:09:03 <TFK> Do I need to flush the input stream, perchance?
08:09:28 <CosmicRay> Lunar^: are you a dd?
08:10:06 <Lunar^> CosmicRay: I have a complicated relationship with Debian :)
08:10:18 <CosmicRay> Lunar^: don't we all? :-)
08:10:31 <Lunar^> CosmicRay: Maybe I will... at any case, I am packaging things, and hacking packages
08:10:53 <CosmicRay> nice
08:10:58 <CosmicRay> well this should be helpful then
08:11:40 <malcolm> TFK: hscolour should read from stdin just fine, but if the size of input is small, it might be helpful to flush it, yes.
08:12:07 <TFK> Well, I'm flushing (only) out. But for some reason it won't return properly.
08:14:13 <TFK> if I don't flush, it gives only partial output but never exits.
08:14:32 <TFK> Is there some special order to all this flushing thing I'm missing?
08:18:34 <Lunar^> CosmicRay: I think darcs simplicity is perfecly suited to Debian package
08:19:08 <shapr> dcoutts_: hey, gtk2hs article for MTR?
08:19:18 <nlv11757_> TMR
08:19:27 <CosmicRay> Lunar^: I agree
08:19:33 <nlv11757_> or is that the "Monad Transformer Reader" :)
08:19:42 <shapr> whoops
08:19:43 <TFK> http://www.haskell.org/hawiki/HaskellIrcPastePage <--- is there anything wrong with this code?
08:19:53 <shapr> mrT the Monad ReaderT
08:19:59 <shapr> mrT is bad!
08:20:18 <nlv11757_> mr T was and still is my n one idol
08:20:27 <nlv11757_> but i guess i'll never be black
08:20:27 <nlv11757_> lol
08:21:27 <shapr> I like the way eminem and tiger woods have overturned stereotypes. Feel free to be the next Mr T.
08:22:34 <shapr> Funny, after people started discussing AppleScript on ll1-discuss the lead designer showed up.
08:22:58 <malcolm> TFK: Have you tried replacing "hFlush out" with "hFlush in"?
08:23:22 <TFK> Not replacing, but adding. Still didn't work. I'll try again.
08:23:48 <TFK> before or after binding to stuff? Or maybe it doesn't matter?
08:24:02 <TFK> ah, replacing -> after. n/m
08:24:48 <TFK> It doesn't terminate :-D
08:25:01 <malcolm> TFK: Another thought - you may need to use hPutStrLn instead of hPutStr, to ensure the final line gets through.
08:25:13 * TFK tries
08:25:22 <TFK> (that's not what the example did, btw)
08:25:50 <malcolm> Oh, and once you've finished with the input pipe, you should close it with hClose, to send eof.
08:26:27 <TFK> So I should close all three handles before return ()?
08:27:38 <malcolm> TFK: no, don't close the out handle - you probably haven't finished reading from it (lazily) before the return.  but you have definitely finished writing to the in handle.
08:28:46 <TFK> hFlsuh out; hClose inp; <--- 500.
08:28:59 <TFK> (and hFlush inp doesn't seem to terminate, btw)
08:29:30 <TFK> well, it does terminate with hClose inp.
08:30:04 <TFK> Ah! hFlush inp; hClose inp did the trick.
08:30:16 <TFK> Thanks again :-)
08:30:51 <nlv11757_> lol, my code will not be readable with resolutions smaller then 1024x768
08:32:11 <wilx> Huh?
08:33:48 <nlv11757_> its 115 chars wide sometimes
08:33:53 <nlv11757_> :P
08:33:57 <df_> eww
08:33:57 <tetraeder> hello
08:34:02 <wilx> Heh.
08:34:10 <nlv11757_> dont blame me, its the ocaml code im translating :P
08:34:21 <dcoutts_> sond: did you get things to build ok in then end?
08:34:30 <TFK> My longest line is 158 chars.
08:34:52 <wilx> Heh. How does your code's formating depend on the OCaml code?
08:35:24 <wilx> I mean, hell, you should be able to format it to sane widths no matter where it comes from.
08:35:26 <df_> nlv :: that would render in just under 700px here
08:35:35 <TFK> Woo! It kinda works.
08:36:15 <TFK> No wait. It doesn't preserve leading spaces o_O
08:38:26 <TFK> This won't do. I have to fix the <pre> business. On Friday.
08:38:34 <TFK> Thanks all.
08:39:23 <vincenz> TFK: EWWW
08:39:27 <vincenz> winblows
08:40:32 <TFK> vincenz, er?
08:40:44 <vincenz> "hscolour.exe"
08:40:46 <TFK> I'll quote a wise man on this, "go suck on RMS".
08:41:10 <sond> dcouts, well.. the reason why i didn't respond was because my system started to swap (512 mb ram)
08:42:04 <sond> dcouts, i then tried to compile without an x-server but i got out of memory again
08:42:26 <xerox> I always try to keep 80 columns formatting.
08:42:37 <sond> dcouts, i'm using the special cmd line arguments you specify on the homepage
08:45:39 <dcoutts_> sond: yes that "eat all my VM" c2hs issue is very annoying, so it is working now then?
08:45:57 <sond> no, i couldn't build it because i got out of memory
08:46:08 <sond> but the build seems to work
08:46:22 <dcoutts_> out of Haskell heap or out of real OS VM ?
08:46:48 <sond> by the way, i found out that the libegg/dock module that i wanted isn't cross-platfrom (depends on one function from the x-version of gdk)
08:46:58 <dcoutts_> I don't follow, the build seems to work or it dies?
08:46:59 <sond> dcoutts, real os vm
08:47:47 <sond> the build dies.. but only becuase the OS is out of memory, not because of any problems with the makefiles etc
08:48:22 <dcoutts_> I could probably build the eggdoc.precomp on my machine and you could use it
08:48:54 <dcoutts_> what version of gtk+ are you using?
08:49:13 <sond> oh.. this hasn't got anything to do with egg, this is just me trying to build gtk2hs with ghc6.4 :)
08:49:57 <dcoutts_> oh, for just a normal build you can use the low-mem overlays as described in the FAQ
08:50:02 <sond> gtk 2.6 i think..
08:50:54 <sond> yep
08:51:03 <sond> that was the reason why i can't use the overlays :)
08:51:24 <nlv11757_> newtype Bla = Bla { foo :: Bool, Bar :: String } is not allowed?
08:51:38 <sond> btw, does gtk2hs work fine with ghci?
08:52:06 <dcoutts_> the gtk 2.4 one should work with gtk+ 2.6, and actually there is a gtk 2.6 one on the website it's just not linked since it's only lightly tested so far
08:52:27 <sond> aha.. i should try that then
08:54:07 <dcoutts_> http://gtk2hs.sourceforge.net/gtk2hs-0.9.7-lowmem-overlay-gtk-2.6.tar.bz2
08:54:34 <sond> thanks
08:55:28 <dcoutts_> we think gtk2hs works with ghci (on unix not win32) but it's only lightly tested
08:55:57 <sond> it doesn't work in win32 or you haven tested it?
08:56:39 <dcoutts_> it does not work in win32 because of dll naming issues (though if you do a bit of renaming hackery it works)
08:56:52 <sond> ah.. right.. i read about that on the mailing lsit
08:56:58 <vidvandre> dcoutts, has this bug: http://sourceforge.net/tracker/index.php?func=detail&aid=1163220&group_id=49207&atid=455426 been fixed yet?
08:57:58 <sond> i've just implemented ghci-integration in Haste. What bugs me is that wxHaskell constantly crashes in ghci. So we can't run Haste from within Haste :)
08:58:46 <sond> and linking normally with wxHaskell for Windows is a pain.. it takes really long
08:58:55 <dcoutts_> vidvandre: I had no idea those trackers existed! sorry, I'll see about getting these things forwarded to our mailing lists so we notice them.
08:59:04 <dcoutts_> As for the specific issue...
09:00:07 <dcoutts_> sond: we've had reports that gtk2hs takes a long time to link on win32 too, though it doesn't happen for me. There's something odd going on there which affects lots of projects.
09:00:21 <sond> dcoutts, oh..
09:00:42 <sond> but ghci is the saviour in that regard.. :)
09:00:49 <dcoutts_> :-)
09:02:09 <dcoutts_> vidvandre: 0.9.7 does not compile "out of the box" with ghc 6.4. There is a patch on the mailing list you can use or you can wait for the next release or use the current cvs version.
09:02:35 <vidvandre> dcoutts, np. I'm only maintaining the package for archlinux.org sort of at http://aur.archlinux.org/packages.php?do_Details=1&ID=265&O=0&L=0&C=0&K=gtk&SB=n&PP=25&do_MyPackages=0
09:03:37 <dcoutts_> oh, cool. I'll add that package to our list at http://gtk2hs.sourceforge.net/download/
09:04:34 <dcoutts_> see here for the ghc 6.4 patch: http://sourceforge.net/mailarchive/message.php?msg_id=11062304
09:04:43 <vidvandre> dcoutts, thanks
09:05:12 <CosmicRay> dammit, drupal's captcha support is b0rked.
09:05:15 * CosmicRay reverts to its spam module for now
09:05:21 <wilx> Whee!!
09:05:24 <dcoutts_> you might want to roll your onw version of that patch as someone said I didn't do it quite right, but it only changes two lines so it's not hard
09:05:26 <wilx> Pugs is such a beast.
09:05:31 <nlv11757_> can someone tell me why "newtype Foo = Foo { bar :: Bool}" is allowed, but with more than one field it isnt
09:05:38 <wilx> Took ~300MB of RAM to link.
09:06:28 <dcoutts_> nlv11757_, since then it wouldn't be a newtype, it'd be a data decleration
09:06:44 <nlv11757_> why?
09:06:58 <nlv11757_> why with two fields its suddenly not a newtype anymore
09:07:34 <dcoutts_> newtype is sort of  a special case of data with just one field and no lifting (it's the no lifting that is special)
09:08:01 <nlv11757_> i knew it could only have one constructor, but that one field restriction was new to me
09:08:08 <nlv11757_> guess thats why its newtype
09:08:08 <dcoutts_> if newtype could do multiple filelds it'd be like adding unlifted tuples to the language
09:09:04 <nlv11757_> i dont get you
09:09:16 <nlv11757_> or actually, that last remark
09:09:36 <dcoutts_> it's also sort of a low level implementation trick, the newtype shares the same representation as the thing it's wrapping, normally a data type introduces an extra layer of boxing/indirection
09:10:24 <dcoutts_> if you want multiple fields just use data rather than newtype
09:10:32 <nlv11757_> could you explain that unlifted tuple remark?
09:11:00 <dcoutts_> ok, so (Bool,Int) is an ordinary "lifted" tuple...
09:11:14 <nlv11757_> check
09:11:24 <dcoutts_> it can be _|_ or (_|_, _|_) for example
09:11:31 <nlv11757_> (,) Bool Int
09:11:35 <dcoutts_> and those two things are distinct
09:11:49 <dcoutts_> _|_  /=  (_|_, _|_)
09:12:59 <dcoutts_> however for an unlifted tuple, (_|_ ::  (# Bool, Int #) ) = ((_|_, _|_) ::  (# Bool , Int #) )
09:13:30 <dcoutts_> where (# , #) is the ghc extended syntax for unlifted/unboxed tuples
09:13:57 <dcoutts_> a (,) is a pointer to a record containing two pointers
09:14:06 <dcoutts_> a (#,#) is a record containing two pointers
09:14:18 <dcoutts_> thats what makes it unlifted
09:14:21 <nlv11757_> what does _|_ represent if (_|_, _|_) represents a tuple of arbitrary types?
09:14:42 <musasabi> _|_ is bottom.
09:15:03 <nlv11757_> bottom = all types?
09:15:13 <musasabi> no..
09:15:15 <dcoutts_> ok, sorry, thats for the same tpye, _|_ of type (Bool,Int) /= (_|_,_|_) of type (Bool,Int)
09:15:21 <musasabi> bottom = all lifted types.
09:15:43 <dcoutts_> or rather bottom is an element of all lifted types
09:16:01 <nlv11757_> but just down the lattice
09:16:52 <musasabi> nlv11757_: data Foo = Bar Baz. This means that Foo can have any of the values of Baz and in addition it's value can be bottom.
09:17:32 <musasabi> This means that _|_ /= Bar _|_ (if we think of Baz as a lifted type)
09:17:40 <dcoutts_> so for newtype is sort of a special case of a unlifted tuple of size 1, newtype Foo = Foo Bar  is rather like data Foo = Foo (# Bar #)  (if you follow this non-Haskell syntax)
09:17:47 <tschwinge> Hi!  Are .hc files (to bootstrap GHC on an unsupported platform) available somewhere?
09:18:43 <dcoutts_> but since these unlifted/unboxed tuples are not a general language feature the designers added just the useful special case of newtype
09:18:45 <Igloo> tschwinge: You need to follow the instructions on porting in the users guide
09:18:54 <Igloo> What platform, OOI?
09:20:24 <tschwinge> Igloo: I'm wading through the documentation...  Platform: GNU/Hurd on i386.
09:21:03 <nlv11757_> so what does it mean that _|_ /= Bar _|_ ? that the collection of all lifted types are not the same as the collection of lifted types with a Bar in front of them?
09:21:31 <xerox> What is a lifted type?
09:21:47 <nlv11757_> a boxed one
09:22:20 <Igloo> Ah; if you're not the person who mailed a list about that recently then there's someone else possibly doing the same
09:23:15 <dcoutts_> nlv11757_, think of it like this, a lifting is putting something inside a box. And each thing can be bottom, so if you put something in a box you've added an extra possability that the box may be bottom as well as the case that the contents of the box may be bottom, and these two cases are distinguishable.
09:23:36 <tschwinge> Igloo: That's actually me. :-)
09:23:38 <musasabi> nlv11757_: _|_ is the bottom value of type Foo in this context while Bar _|_ is a value of type Foo with the Bar constructor and the bottom value in the type Baz.
09:23:47 <nlv11757_> but if you dont have a box....and you cant distinguish?
09:24:16 <dcoutts_> lets look at an example: data Foo = Foo Int
09:24:27 <xerox> Boxed : pointer to the heap, unboxed : just the value ?
09:24:32 <dcoutts_> now, we can have (undefined :: Foo)
09:24:46 <dcoutts_> and we can have (Foo undefined :: Foo) right
09:24:56 <nlv11757_> check
09:25:54 <dcoutts_> now try this function: checkFoo (Foo _) = 3
09:26:36 <dcoutts_> (someone stop me if I'm wrong...) now checkFoo undefined = undefined
09:26:51 <dcoutts_> but checkFoo (Foo undefined) = 3
09:27:06 <dcoutts_> therefor (undefined :: Foo) /= (Foo undefined :: Foo)
09:28:21 <nlv11757_> ok i see that they are distinguishable because of the constructor Foo
09:29:02 <dcoutts_> right, that Foo is the 'box' and in an ordinary implementation that is represented by a pointer to a heap object (the box contents)
09:30:16 <dcoutts_> but the difference with newtype is that while it introduces a constructor it does not do any lifting, that is what makes it special
09:31:41 <nlv11757_> so therefore no box and that would mean you can't distinguish _|_ from whatever (like (_|_,_|_) )
09:31:56 <dcoutts_> if you change our definition of Foo above to use a newtype rather than data and try the checkFoo again you'll find they give the same answer each time
09:32:37 <dcoutts_> yes, exactly, you would not be able to distinguish
09:32:46 <nlv11757_> it still gives the same answer though dcoutts
09:32:58 <nlv11757_> when i try it in ghci
09:33:29 <dcoutts_> ? one gives undefined and one 3? I get both returning 3 in hugs
09:33:58 <nlv11757_> ow nm
09:33:59 <nlv11757_> :)
09:34:06 <nlv11757_> you're right
09:35:01 <dcoutts_> however, there is no facility for unboxed constructors with more than one field
09:35:25 <Lemmih> Hi SyntaxNinja!
09:35:31 <nlv11757_> aha
09:35:40 <SyntaxNinja> hiyda
09:35:43 <dcoutts_> so that's why we have newtype which does the special case of a one place non-lifting constructor
09:35:58 <nlv11757_> i fully understand now :) thanks for your patience
09:36:04 <dcoutts_> :-) no probs
09:37:18 <SyntaxNinja> we should band together to rescue simonMar from the clutches of alexj
09:37:28 <Lemmih> haha
09:37:42 <dcoutts_> SyntaxNinja: I agree, poor simon
09:38:11 <Lunar^> @index blocck
09:38:12 <lambdabot> Unknown command, try @listcommands.
09:38:12 <Lunar^> @index block
09:38:13 <SyntaxNinja> it's hard to jump in because alex's posts don't make any sense to me most of the time. simon works really hard to understand them, I think.
09:38:14 <lambdabot> Unknown command, try @listcommands.
09:38:44 <xerox> Who wants to sign a petition to get @index and @info back?
09:38:49 <Cale> heh
09:39:06 <SyntaxNinja> xerox: I think the petition should be implemented in Lambdabot
09:39:15 <xerox> SyntaxNinja, yay
09:39:23 <SyntaxNinja> @newpetition petitionIdentifier "petition to add petitions to lambdabot"
09:39:27 <SyntaxNinja> @sign petitionidentifier
09:39:47 <xerox> Some kind of voting.. would it be useful? In fact it seems nice.
09:40:33 <lambdabot> Unknown command, try @listcommands.
09:40:33 <lambdabot> I haven't seen petitionidentifier
09:40:37 * Cale suddenly has images of #haskell turning into a MUSH :)
09:40:39 <SyntaxNinja> xerox: who knows. it would be a neat experiment
09:40:53 <xerox> Ah-ha! We do need @quiz !
09:40:55 * xerox hides
09:41:47 <musasabi> quit channels are annoying if you have to be on them, but are not interested in the quiz.
09:45:13 <shapr> xerox: @index is easy enough to get back...
09:45:38 <xerox> shapr, good!
09:46:10 <SyntaxNinja> shapr: would you sign the "rescue simonMar from alexJ" petition?
09:46:29 <shapr> sure
09:46:41 <xerox> jlouis, what are the patch named "Whitespace" you submit to lambdabot's repo?
09:46:43 <shapr> Oh hey, I finally found out exactly what alexj is talking about.
09:46:59 <shapr> JaffaCake and malcolm talked about it, and now I understand!
09:47:21 <dcoutts_> shapr, really? well done. can you sumarise?
09:48:17 <musasabi> shapr: please explain to us.
09:48:31 <wilx> o_O
09:48:39 <shapr> "<JaffaCake> malcolm: but that doesn't solve the whole problem.  You might still have two packages that require different, incompatible, versions of an interface"
09:48:51 <shapr> At least, I think this is what alexj is talking about.
09:49:33 <shapr> <JaffaCake> which is why we think you ought to be able to use multiple versions of a package simultaneously but that entails making sure they export different symbols into the linker's namespace hence... package names & versions have to be in each symbol
09:49:40 <xerox> Why does ``darcs get --partial <lambdabot's repo>'' keep wanting to download three hundreds patches?
09:49:56 <Igloo> shapr: How come @index /isn't/ back, then?
09:50:43 <shapr> Well, because I haven't gotten around to it yet..
09:51:05 * shapr opens HaddockModule.hs
09:51:26 * xerox bounces happily
09:53:51 <xerox> Now it's called Haddock.hs :-)
09:54:23 <SyntaxNinja> shapr: yeah. is malcolm == nhc98? I missed them here at the same time?
09:54:35 <shapr> malcolm is here now.
09:54:49 <SyntaxNinja> but jaffacake isn't
09:55:09 <shapr> Yup. But there are enlightening logs from earlier today.
09:55:25 <SyntaxNinja> too bad the log URL is no longer in the topic ;)
09:55:56 --- topic: set to '["http://haskell.org/learning.html","Haskell","logs@ http://meme.b9.com/cdates.html?channel=haskell""Do you think you would pass a Turing test?  I have."]' by shapr
09:56:48 <malcolm> I seem to be malcolm @ work and nhc98 @ home.
09:56:55 <SyntaxNinja> hahahaa
09:57:09 <SyntaxNinja> <JaffaCake> sticks sharpened lambdas into a little doll of alexj
09:57:11 * SyntaxNinja reads logs
09:57:20 <Igloo> lol
09:57:27 <malcolm> Thanks BTW to whoever gave the ssh port forwarding suggestion, enabling me to join #haskell here at work.
09:57:42 <shapr> malcolm: Now you'll never get any real work done!
09:57:56 <malcolm> too right :-)
09:59:30 <xerox> @type (List.\\) -- what is it?
09:59:36 <lambdabot> (List.\\) -- what is it? :: forall a. (Eq a) => [a] -> [a] -> [a]
09:59:58 <Lemmih> @plugs [1..10] // [5..7]
10:00:03 <lambdabot> Variable not in scope: `//'
10:00:36 <Cale> @plugs ([1..10] ++ [1..10]) \\ [5..7]
10:00:37 <Lemmih> @plugs [1..10] \\ [5..7]
10:00:39 <lambdabot> [1,2,3,4,8,9,10,1,2,3,4,5,6,7,8,9,10]
10:00:39 <lambdabot> [1,2,3,4,8,9,10]
10:01:05 <SyntaxNinja> in debian you can install multiple versions of the same library
10:01:36 <xerox> @plugs ([1..10] ++ [1..10]) \\ [5..7]
10:01:38 <lambdabot> [1,2,3,4,8,9,10,1,2,3,4,5,6,7,8,9,10]
10:01:49 <xerox> @plugs ([1..10] ++ [1..10]) \\ [5..7] \\ [5..7]
10:01:55 <lambdabot> precedence parsing error
10:01:57 <lambdabot>         cannot mix `(\\)' [infix 5] and `(\\)' [infix 5] in the same infix
10:01:59 <lambdabot> expression
10:02:50 <SyntaxNinja> hehe:
10:02:50 <SyntaxNinja> <malcolm>JaffaCake: yes, I thought we came to that conclusion when we met with Isaac last May.14:22:35
10:02:50 <SyntaxNinja> <JaffaCake>right, I do feel like I keep explaining the same problem :)14:22:56
10:03:19 <xerox> It removes the first occurrence of the element of the second argument's list?
10:03:26 <SyntaxNinja> malcolm: I'm catching up on the log; is there really anything "new" discovered since last may? I have trouble following alexj's emails.
10:04:15 <nlv11757_> cu im off
10:06:10 <malcolm> Well, we said then that the only way to Do It Right (TM) was to add package+version to all symbols in all modules.  Afterwards, I think one of the Simons said on a mailing list that although they might place packagenames in symbols, it was unlikely that they would ever put version numbers in.  I think the discussion with AlexJ may have convinced JaffaCake that the original suggestion was correct, even if we don't do it immediately.
10:07:22 <SyntaxNinja> malcolm: the original suggestion to use package names, but not version numbers?
10:08:30 <malcolm> No, name + version is correct.
10:09:05 <SyntaxNinja> what is the issue with long symbol names, btw? does it decrease efficiency, or are there systems which have a limit?
10:09:20 <malcolm> It does add quite a lot of implementation burden on the compiler writers, to handle a rather rare situation, but it is going to bite someone hard sooner or later I guess.
10:11:00 <SyntaxNinja> malcolm: OK. I was worried that there was some inherent difficulty besides the implementation burden.
10:11:26 <sond> does anyone know how all of this compares to packages (or "assemblies" or whatever they call it) on .NET-platform? I don't know how related it is but i think .NET deployment should be pretty well thought out
10:12:14 <malcolm> SyntaxNinja: long symbols names are a worry on some platforms - maybe 256 chars limit someplaces
10:13:17 <SyntaxNinja> ok
10:13:35 <malcolm> SyntaxNinja: And as JaffaCake pointed out, there is still the difficulty of arranging for the source-code and build system to pick up the different versions of the packages in different modules.
10:14:21 <SyntaxNinja> right. because what if you depend on foo > 1.2, but you have foo-1.3 and foo-1.4 available
10:16:37 <SyntaxNinja> also when you wrote that dependency, foo-1.4 wasn't out yet, and something has changed.
10:17:05 <malcolm> No, I was thinking more of the situation where you are writing a converter from one version of some datatype to another version, coming from different versions of the same package.  Somehow you want to ensure that M.T refers to package foo-1.0 in one place and foo-2.0 in another, never mind how they get linked at some later stage.
10:18:50 <Igloo> "import qualified Foo from foo-1.0 as OldFoo"
10:20:14 <malcolm> yeah, something like that, except you are already proposing a language extension, rather than just some Cabal-like tool support.
10:20:24 <xerox> Where is Text.Regex?
10:20:33 <Igloo> Hmm, but that doesn't work when you actually want to import from 1.0 <= x <= 1.3
10:21:20 <Igloo> I think an extension is inevitable if you want it to be possible
10:21:59 <malcolm> {- PACKAGES 1.0 <= foo <= 1.3 -}  module Old (module Foo) where import Foo
10:22:37 <xerox> Found, nm.
10:22:38 <malcolm> A pragma could control the package namespace, whilst the import statement controls the module namespace.
10:23:36 <Igloo> But that isn't going to work without changing the compiler anyway, right?
10:23:46 <derelm> hi, in a haskell && socket's tutorial i found the >>= function. can someone please tell me what it does?
10:24:03 <Lemmih> @type (>>=)
10:24:04 <SyntaxNinja> derelm: what have you learned about monads so far?
10:24:05 <lambdabot> (>>=) :: forall (m :: * -> *) b a.
10:24:05 <lambdabot>          (Monad m) =>
10:24:05 <lambdabot>          m a -> (a -> m b) -> m b
10:24:12 <Igloo> So whether you put it in a pragma or in the real AST doesn't seem to matter much to me
10:24:37 <derelm> SyntaxNinja: nothing ... :(
10:24:49 <malcolm> igloo: But a pragma could be interpreted by hmake or cabal or some other tool, not necessarily the compiler itself.
10:24:50 <gzl> @google all about monads
10:24:52 <lambdabot> http://www.nomaware.com/monads/html/
10:24:56 <gzl> derelm: read that
10:25:05 <derelm> ok
10:25:07 <SyntaxNinja> derelm: then it's a bit hard to explain, but basically it means "pass the output from the first computation into the input to the 2nd computation" like "computation1 >>= computation2"
10:25:23 <SyntaxNinja> derelm: much like function composition.
10:25:41 <Igloo> malcolm: But you still need to modify the compilers to support multiple modules with the same name (or do some hideous renaming hack)
10:27:26 <Cale> derelm: I'll also take this chance to mention http://www.haskell.org/hawiki/MonadsAsContainers :)
10:27:36 <derelm> SyntaxNinja: i see, its very much like | on the command line
10:27:50 <SyntaxNinja> derelm: indeed.
10:27:51 <gzl> yes, it is
10:27:53 <xerox> Where can I find whick regexp syntax does Text.Regexp use?
10:27:59 <SyntaxNinja> hm. that's a nice point, I should remember that.
10:28:02 <gzl> but you should still read the tutorial
10:28:11 <Igloo> It's POSIX (EREs rather than BREs, IIRC)
10:28:44 <derelm> so basically monads are there to stay in functional 'mode' rather than using a do block
10:28:47 <SyntaxNinja> malcolm, Igloo: do you have any sense for how / whether  other languages / packaging systems solve this problem?
10:29:10 <Cale> derelm: do blocks are syntax sugar for monad operations
10:29:22 <derelm> ok, thanks
10:29:34 <autrijus> @pointless \tree base target -> distanceType tree base target > 0
10:29:35 <lambdabot> flip flip 0 . ((flip . ((>) .)) .) . distanceType
10:29:53 * Igloo has no idea
10:30:00 <malcolm> Igloo: Well, as we were discussing, there are two parts to the question - the backend symbol thing for linkers, and the front-end syntax thing for passing the right options into the compiler.  Obviously the first requires a compiler change, but the second doesn't.  I'm all for implementing as little as possible, so the more we can punt into common tools, the better.
10:31:14 <machack666> quick question about function composition:
10:31:39 <SyntaxNinja> malcolm: even if cabal did something special, which it definitely could, there would still have to be some compiler interface.  I'm not sure how much can be done in common tools, except perhaps making things easier for the end user.
10:32:09 <Igloo> malcolm: IMO the thing stopping changes to the syntax in general is compatibility with older versions. But when we need to use this new syntax, compatibility isn't an option because it simply won't work. Hence I think we should choose the best syntax available.
10:33:01 <xerox> Do you know how to do (foo|bar|baz) without actual matching? Like {foo,bar,baz} I think, but it doesn't work.
10:33:15 <machack666> given f and g, is the only difference between "f . g x", "f (g (x))", and "f $ g x" that the composition operator transparently creates a third function which is applied to x?
10:33:29 * Igloo sees the role of pragmas as "You can do this better if you do this", although with flags like -cpp being used via pragmas that's not exactly the case currently anyway
10:34:08 <mauke> machack666: don't you mean (f . g) x?
10:34:44 <machack666> mauke: yes, I wasn't sure of the precedence
10:34:55 <malcolm> I see pragmas as metadata about the program - stuff the compiler may need to know, but which doesn't strictly fall into the category of source code.
10:37:37 <machack666> so is my interpretation of composition correct?  Are there benefits/pitfalls of using "." when we don't want to store the intermediate function?
10:45:23 <dcoutts_> vidvandre: actually I remembered that ghc 6.4 compatability is not so straight forward. The patch I gave fixes the build but not the install. ghc 6.4 changed the package file format (now uses .cabal files). This is all done in the cvs version so you can backport it if you like or just wait for the next release (which is what I'm doing for gentoo).
10:51:08 <chr1s> anyone with parsec experience here?
10:51:42 <chr1s> Is there a operator that combines two parsers but skips the result of the second parser?
10:52:26 <Lemmih> do first <- fstParser; sndParser; return first ?
10:52:42 * xerox removed this "problem":
10:52:50 <xerox> @type (+) {- boooohhh!!!!! -} 2
10:52:51 <lambdabot> (+) {- boooohhh!!!!! -} 2 :: forall a. (Num a) => a -> a
10:52:59 <chr1s> something like setnum = token "num" <* integer
10:53:23 <chr1s> Lemmih: that's what I'm doing now, but I was wondering if there is an operator for that
10:53:57 <sylvan> Ah, quick convention question. If I have "import Data.Map as Map" should i then have " x :: Map k v" or "x :: Map.Map k v".. Both seem to work
10:54:25 <chr1s> use the first one :)
10:55:07 <sylvan> It's not all that apparent to me why the first one works.. Since I use, for example, Map.empty to get an empty map, then why is the datatype Map a non-qualified type?
10:56:08 <Huschi> sylvan: can't you also use empty to get the empty map?
10:56:18 <sylvan> yeah I think I can.. Why is that`?
10:56:19 <sond> i thought you were supposed to explicitly import the constructor: import Data.Map (Map) to do that
10:56:31 <sylvan> Do I need to have "import qualified Data.Map as Map"?
10:56:56 <Lemmih> sylvan: If you omit "qualified" before the module name then the symbols will be imported under both "" and "Map.".
10:56:59 <Huschi> if you don't use "import qualified Data.Map as Map" it will be imported qualified and unqualified.
10:57:28 <sylvan> okay. so the "convention" is to do "import qualified Data.Map as Map" and then "import Data.Map(Map)"?
10:58:10 <Huschi> if you only want the type Map unqualified, then you should do so.
10:58:23 <sylvan> Yeah Map.Map seems ugly somehow =)
10:59:24 <vidvandre> dcoutts, I'll just wait for the next release :)
10:59:32 <chr1s> I would use "import Data.Map" and just use empty and Map
10:59:48 <SyntaxNinja> dcoutts_: vidvandre: cabal problem?
11:01:33 <sylvan> chr1s: I think the library is meant to be used qualified (to avoid name clashes with other data structure names, such as insert)
11:07:10 <shapr> chr1s: reason is that people would like to have the same interface for multiple libraries, Data.Set.empty Data.Map.empty Data.Structure.empty
11:07:53 <shapr> If you look at the function names for the FiniteMap module, lots of names include the letters FM because the interface was designed before hierarchical modules existed.
11:08:14 <shapr> listToFM, when now you could have Data.Structure.fromList
11:09:39 <sond> hmm.. why not have a class for such similar functions
11:09:41 <xerox> Why I get this behavior?  subRegex (mkRegex "(\\{-.*-\\})") "{- -} (+) 2 {- -} 3" ""   ===>  " 3"
11:09:59 <shapr> Good question, I don't know.
11:10:15 <shapr> I know I saw part of this discussion on the libraries mailing list, maybe check the archives?
11:10:20 <sond> that way you wouldn't have to name things in a pseudo-object-oriented way. but i guess both styles has it pros and cons
11:10:42 <shapr> Part of the downside of a typeclass is that everything would be forced to have the same interface.
11:10:46 <Igloo> xerox: Because * is greedy
11:10:50 <xerox> Igloo, ah!
11:10:58 <xerox> OK!
11:11:11 <xerox> Oh, no .*? doesn't fix it..
11:11:11 <shapr> Not sure if that's really a downside or not.
11:11:21 <malcolm> you can't use a class because the signatures of the functions probably have different contexts
11:12:47 <sond> maclcolm, what do you mean by context?
11:12:55 <xerox> Igloo, do you know how to do a non-matching (....)?
11:12:59 <malcolm> e.g. empty :: Eq a => Set a,  and empty :: Ord a => Map a
11:13:07 <sond> ah.. right
11:13:46 <Igloo> xerox: POSIX REs are documented here: http://www.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap09.html
11:14:25 <xerox> Igloo, thanks much.  Let's see if I can understand that doc :-)
11:14:38 <Igloo> If \{\} match {} then it's presumably EREs you want
11:17:15 <xerox> Igloo, hmm, I'd like to do something like (^-\}) in the sens of [^-\}]
11:19:24 <mauke> \{-[^-]*-+([^}-][^-]*-+)*\}
11:19:27 <vidvandre> SyntaxNinja, just a problem getting gtk2hs to compile with ghc 6.4.. not cabal related atm
11:20:18 <xerox> mauke, hmm?
11:20:32 <mauke> that should match a comment
11:20:52 <xerox> mauke, what is "*-+" ?
11:21:06 <mauke> no, what is [^-]*-+
11:21:22 <mauke> [^-]* means: 0 or more non-dash characters
11:21:35 <mauke> -+ means: 1 or more -'s
11:22:26 <xerox> Yay it works.
11:24:33 <SyntaxNinja> vidvandre: atm? heh.
11:25:01 <xerox> mauke, thank you,
11:25:15 <SyntaxNinja> the thing malcolm just pointed out about empty is something I ask on interview questions for haskell hackers ;)
11:26:11 <shapr> About contexts?
11:28:37 <SyntaxNinja> yeah
11:29:20 <SyntaxNinja> like "why can't you write a class that has a function 'find'... now make list, set, and finitemap members of that function"
11:29:35 <SyntaxNinja> I think 'find' is a good example. haven't thought about it lately, though.
11:29:53 <shapr> what about fromList ?
11:30:24 <shapr> You could do it, but you'd end up cutting out the datatypes that don't fit into the intersection of all the type constraints.
11:30:26 <SyntaxNinja> maybe 'hasMember' would be better
11:30:35 <SyntaxNinja> yeah
11:31:10 <shapr> How many Haskell interviews have you done?
11:31:26 <shapr> Maybe that's not information your company wants to disclose =)
11:31:52 <SyntaxNinja> none here.
11:31:56 <shapr> I really do want a Haskell business support co-operative.
11:34:21 <vidvandre> SyntaxNinja, sorry. didn't mean anything bad by that. the latest released version of gtk2hs doesn't use cabal yet, cvs does :)
11:36:08 <shapr> asmodai: written any Haskell lately?
11:36:19 <asmodai> shapr: no mon
11:36:29 <asmodai> shapr: I have yet to leave newbie stage
11:36:32 <shapr> quel dommage
11:36:42 <asmodai> Lack of spare time
11:36:48 <shapr> You might really like it :-)
11:36:49 <asmodai> and have had a few weeks of 'blegh, computers' time
11:37:08 <shapr> Haskell is somewhere between computers and math.
11:37:15 <asmodai> oh, I think I will like it
11:37:21 <shapr> It's a nice change from my daily webmonkey grind.
11:37:25 <asmodai> I just need to find the time and mindset
11:37:27 <asmodai> dude
11:37:31 <shapr> Yeah, I dig it.
11:37:34 <asmodai> I WISH I could land a programming job
11:37:49 <asmodai> instead of getting pushed to idiotic sys admin work constantly
11:38:09 <shapr> I don't do so much programming, webmonkey is more about connecting users and databases.
11:38:18 <shapr> I wish I could find some better contract work.
11:38:32 <shapr> Any idea if those online contract programmer websites are any good?
11:38:50 <Muad_Dibber> .
11:38:52 <shapr> ,
11:39:18 <shapr> Nafai: greetings, learning Haskell?
11:39:31 * shapr googles for mercenary coder websites
11:39:57 <TFK> shapr, going to wing it?
11:40:06 <Muad_Dibber> if there isnt one, start one yourself :)
11:40:30 <shapr> My current clients are asking me for more commitment, but man am I tired of Zope/Plone.
11:40:44 <TFK> So make a Haskell replacement :D
11:40:49 <TFK> Or consider Twisted/Nevow :-P
11:40:54 <Muad_Dibber> whats Zope again?
11:41:01 <shapr> I can't make a replacement and eat at the same time.
11:41:11 <TFK> Food is overrated.
11:41:12 <asmodai> shapr: been doing python lately as compensation
11:41:19 <shapr> asmodai: you like it?
11:41:22 <TFK> It's a very, very big web-thing for Python.
11:41:27 <asmodai> shapr: yea
11:41:31 * asmodai shoots perl
11:41:39 <asmodai> ruby and python over perl, any day
11:41:54 <shapr> I'm liking Perl6, have you seen it?
11:42:06 <Muad_Dibber> is it out already then?
11:42:08 <shapr> The pugs implementation of Perl6 is written in Haskell :-)
11:42:14 <asmodai> i've kept a bit informed about the development
11:42:32 <asmodai> but the whole perl community reminds me of people who know one thing:
11:42:34 <asmodai> how to hack
11:42:42 <Muad_Dibber> so does python and ruby to me :P
11:42:44 <asmodai> and not design and work out code.
11:42:48 <TFK> heh
11:42:55 <rasterfar>  /msg nickserv link rasfar vfy321cdq
11:43:01 <shapr> rasterfar: oops
11:43:03 <asmodai> lol
11:43:09 <vegai> ;-/
11:43:10 <Muad_Dibber> now who is the first one to ghost him :P
11:43:19 <TFK> Well, at least it's not porn or anything o_O
11:43:41 <Muad_Dibber> perl ~ porn
11:43:43 <Muad_Dibber> well
11:43:47 <Muad_Dibber> only 2 characters difference
11:43:50 <Muad_Dibber> thats 50%
11:43:52 <shapr> asmodai: I've been positively impressed by the guys on #perl6, they're smart, thoughtful, and they learn fast.
11:44:20 <shapr> Admittedly, some of the guys on the extremeperl mailing list didn't impress me so much.
11:44:22 <vegai> will perl6 be somehow less messy as the previous ones?
11:44:43 <shapr> It has more functional features, that's for sure.
11:44:47 <Muad_Dibber> its all a point of view
11:44:52 <Muad_Dibber> messy also means freedom :)
11:45:03 <vegai> not all things are subjective
11:45:10 <TFK> Freedom to what, break your brain? :-P
11:45:13 <vegai> expect what I just said :)
11:46:05 <Muad_Dibber> shapr : will perl 6 also be OO?
11:46:07 <SyntaxNinja> does anyone ever do something like 'locate State.hs' and realize that there are at least 20 versions of that module on your hard drive?
11:46:23 <vegai> Muad_Dibber: what does OO mean to you?
11:46:31 <SyntaxNinja> I'm sure not everyone has a handful of ghc source trees on their hard drive, but whatever
11:46:37 <Muad_Dibber> object oriented
11:46:56 <TFK> What a cool circular definition :D
11:47:00 * vegai waves his hands at Muad_Dibber's general direction
11:47:09 <rasterfar> shapr: it appears password goes in the clear anyhow; but now that it
11:47:27 <rasterfar> (oops) now that it is actually posted what can I do?
11:47:28 <vegai> but admittedly, that's probably the best definition I've ever heard :)
11:47:32 <shapr> SyntaxNinja: lots of times
11:47:36 <Muad_Dibber> change it rasterfar
11:47:42 <shapr> rasterfar: yeah, change it
11:47:48 <rasterfar> okay
11:48:05 <shapr> rasterfar: it's best to not type command in a channel buffer, and to have your nickserv logins automated by your irc client.
11:48:09 <shapr> hiya astrolabe
11:48:11 <TFK> vegai, heh ;-)
11:48:18 <SyntaxNinja> rasterfar: we can change it for you if you want ;)
11:48:23 <Lemmih> locate State.hs | wc -l
11:48:23 <Lemmih> 42
11:48:27 <shapr> mwc: greetings twice
11:48:28 <astrolabe> wotcha shapr
11:48:43 <SyntaxNinja> Lemmih: 228 here
11:48:55 * mwc grew impatient with xchat launch time
11:49:05 <shapr> % locate State.hs|wc -l
11:49:05 <shapr> 164
11:49:12 <Lemmih> SyntaxNinja: Only got 129 on my dev-box /-:
11:49:25 * Lemmih goes off to download more copies of GHC.
11:49:37 <shapr> See, that's the difference between a professional and hobbyist Haskeller :-)
11:49:57 <rasterfar> this is very embarassing but -- what is the quick answer "how do I change it".  I can't re-register, and that's how I set the password to begin with...
11:50:18 <shapr> rasterfar: switch to your 'irc server buffer'
11:50:29 <shapr> use /msg nickserv help
11:50:49 <shapr> specifically, "/msg nickserv help set"
11:51:41 <malcolm> locate State.hs | wc -l  gives me 428!
11:52:13 <SyntaxNinja> malcolm: and that's the difference between a professional Haskeller and a Haskell Implementor ;)
11:52:42 * shapr laughs
11:53:22 <malcolm> Hmm, I just had a look, and it includes lots of EmitState.hs, IOState.hs, SystemState.hs, and so on.
11:53:46 <SyntaxNinja> yeahyeah. don't go making this scientific or anything.
11:53:57 * shapr snickers
11:54:26 <shapr> There are *zillions* of online contract programmer sites.
11:54:31 <SyntaxNinja> that's the point of pipe, so we can not look at the output.
11:54:32 <sond> i think the Senior Academic Haskeller has 0 State.hs'
11:55:18 <shapr> You mean like SPJ? Has trancended State entirely?
11:55:41 <SyntaxNinja> heh
11:55:53 <sond> i was only kidding :)
11:56:09 <SyntaxNinja> shapr: this sounds like an addition to the blackbelt haskeller wiki page. I assign you.
11:56:24 <shapr> heh
11:56:47 * mwc wonders why there's no hs-plugin darcs repo
11:57:35 <shapr> Because dons is doing hs-plugins for his degree work, and his advisor hasn't switched to darcs yet.
11:57:53 <shapr> But I've sent emails to his advisor suggesting darcs, maybe it'll work ;-)
11:57:54 <mwc> Ah, right, but why can't dons use it?
11:58:16 <shapr> dons said he would probably use tailor locally to mirror his cvs repo to darcs.
11:58:23 <mwc> I figured he'd just turn in a working implementation and a thesis book and stroll out
11:58:48 <shapr> It seems to be a long involved process that includes stuff like writing lyrics, music, and having a world tour.
11:59:04 <shapr> Or maybe that's just writing research papers and traveling to strange lands to show off your powerpoint presentations.
11:59:18 <mwc> Ooh, the mystical powerpoint!
11:59:29 <mwc> Thank god Hitler didn't have powerpoint
11:59:39 <mwc> he'd have conquered the earth in 40 days
11:59:40 <shapr> Maybe he did. That might be why he lost.
11:59:45 <mwc> Hahaha
12:00:08 <mwc> Powerpoint = +80% Charisma, -100% Productivity
12:00:30 <shapr> In my opinion, powerpoint presentations communicate about as well as business cards.
12:00:36 * SyntaxNinja lunch &
12:00:57 <mwc> I prefer Keynote lately, but they're mostly good for keeping speaking points up behind you
12:01:20 <astrolabe> How could you write a program that outputs its own source?
12:01:21 <mwc> That way when your audience is coming in and out of consciousness, they can easily bring themselves up to speed
12:01:27 <shapr> astrolabe: google for quines
12:01:28 <mwc> a haskell quine1
12:01:35 <mwc> has somebody written a haskell quine?
12:01:40 <shapr> astrolabe: If you want a particularly good Haskell quine ...
12:02:03 <mauke> http://www.nyx.net/~gthompso/self_hask.txt
12:02:08 <mwc> http://www.ipl.t.u-tokyo.ac.jp/~scm/quine.hs
12:02:16 <shapr> http://www.scannedinavian.org/iohcc/zeroth-2003/Pseudonym.hs
12:02:21 <mwc> http://www.dtek.chalmers.se/~d00bring/misc/q.hs
12:02:27 <astrolabe> Thanks.  You guys know everything :)
12:02:40 <mauke> also, google
12:02:46 <shapr> Collectively, #haskell is nearly half as smart as google!
12:03:36 <chr1s> http://www.nyx.net/~gthompso/quine.htm
12:04:49 <mwc> http://www.nyx.net/~gthompso/self_hask.txt Whoa, somebody wrote the mother of all quines
12:05:04 <Nafai> shapr: No time to learn Haskell, but I thought I would try to absorb whatever here. :)
12:05:51 <astrolabe> Jon Fairburn the go player?
12:05:59 * shapr dunno
12:06:08 <shapr> Seems that lots of Haskellers play Go.
12:07:56 * mwc pretends to play go to impress chicas
12:10:43 <astrolabe> I want to learn haskell from a real book, but I'm not sure which to get.
12:10:52 <shapr> Do you have some math background?
12:11:05 <astrolabe> Yes.  How did you guess?
12:11:15 <mwc> astrolabe, you want to learn haskell :P
12:11:25 <shapr> I'd suggest Hudak's book.
12:11:36 <astrolabe> Thanks
12:12:09 <mwc> shapr, The Haskell School of Expression: Learning Functional Programming Through Multimedia  ?
12:13:04 <shapr> Yeah, I think it's a good choice. Some people prefer Thompson's book though.
12:13:15 <Muad_Dibber> we used that book also at uni
12:13:18 <Muad_Dibber> its a good learning book
12:13:18 <shapr> I have both, I ended up learning from Thompson because I have zero math background.
12:13:23 <mwc> The multimedia bit put me off when I browsed
12:13:24 <Muad_Dibber> but an awfull enceclopedia :P
12:13:30 <shapr> I wish I'd been able to use Hudak's book instead.
12:13:37 <mwc> Figured it was a CD with a pile of powerpoints to go with the book
12:13:49 <shapr> Hudak is one of the best DSL researchers I know.
12:14:04 <shapr> His idea of multimedia is to define domain specific languages for graphics and music.
12:14:10 * mwc has judged a book by its cover
12:14:11 <mwc> ahhh
12:14:12 <shapr> He did Haskore for example.
12:14:29 <mwc> What does he use to build the parsers?
12:14:38 <shapr> I don't remember.
12:14:43 <mwc> Parsec?
12:15:22 <shapr> I can go get the book if you really want me to look it up, but there might also be a TOC on amazon.
12:15:22 <mwc> doh
12:15:35 <mwc> I have it up on amazon
12:15:59 <mwc> 49.95 Canadian, the price is right
12:17:58 <shapr> sylvan: nice BEncoder
12:18:08 <shapr> Now we just need some IPv6 support and tada!
12:20:08 <mwc> bencode?
12:20:15 <mwc> Somebody writing a bit torrent client?
12:23:41 <mwc> Oh, beautiful, Hudaks book is in the science library
12:23:58 <mwc> I just have to get my leg working again and I can go pick it up
12:25:57 <rasfar> I don't see any Haskell BitTorrent apps in google; anyone know of any work on this?
12:25:59 <xerox> @version
12:26:00 <lambdabot> lambdabot 2p349, GHC 6.4 (OpenBSD i386)
12:26:00 <lambdabot> darcs get http://www.cse.unsw.edu.au/~dons/lambdabot
12:26:11 <kaol> @yow
12:26:12 <lambdabot> I request a weekend in Havana with Phil Silvers!
12:26:41 <shapr> rasfar: A few hours ago, someone posted to the mailing list asking about BEncode in Haskell. sylvan wrote it and posted it.
12:27:26 <mwc> I really ought to become the #haskell Minister of Information
12:27:34 <shapr> mwc: good idea!
12:27:39 <mwc> I mean, I can spout off speculation have people googling for it!
12:28:25 <shapr> mwc: On the other hand, you have to record your information somewhere. The wiki, sequence, or the mailing lists.
12:28:32 <rasfar> Sorry I missed what BEncode is really about (Q: are there web-accessible logs? haven't found 'em yet).  But writing a BitTorrent client in Haskell sounds like fun...
12:28:41 <mwc> The Haskell will crush the C. C has come to be slaughtered on our walls. We welcome their deaths
12:28:57 <rasfar> geeze....
12:28:58 <mwc> rasfar, bencode is an encoding used as part of the BT protocol
12:29:09 <shapr> I think that's the #haskell Minister of Inquisition, slightly different.
12:29:27 <mwc> Hehehe, I was referencing the good old Iraqi Minister of Information
12:29:36 <rasfar> ah
12:29:39 <mwc> "There are no americans in Iraq. It is illusion. We crushed them."
12:29:54 <mwc> "As we speak, their blood runs freely"
12:30:18 <shapr> yipes
12:30:27 <TFK> Say, are there any statistics about real-world FPL usage?
12:30:52 <mwc> shapr, common, you don't love this guy? http://www.welovetheiraqiinformationminister.com/
12:31:48 * mwc particularly recommends: http://www.welovetheiraqiinformationminister.com/mss_history.html
12:32:39 <shapr> yeesh
12:32:46 <shapr> mwc: quick! grab Hudak!
12:33:05 * mwc contemplates 5 km crutching marathon
12:34:10 <mwc> rasfar, http://www.bittorrent.com/protocol.html describes the BT protocol, and bencode features prominently
12:34:27 <rasfar> dare i ask hwo you broke it, or is the memory still too painful?
12:34:37 <mwc> rasfar, not at all
12:34:50 <mwc> I fell on the ice for the 100th time
12:34:56 <rasfar> you didn't break it at all, or it wasn't at all paintful?
12:35:00 <rasfar> oh.
12:35:05 <mwc> this winter and managed to twisted it hard enough to pop apart the ankle joint
12:35:13 <astrolabe> oooow
12:35:18 <rasfar> eesh...
12:35:20 <shapr> Strangely, I fall less when I'm unicycling on ice than when I'm walking on ice.
12:35:20 <mwc> the torsion also managed to give me a low, spiral fracture of the fibula
12:35:33 <mwc> http://www.mattcox.ca/images/fracture1_2.png
12:35:35 <rasfar> I got too old to fall down in the winter (seems to happen).
12:36:05 <astrolabe> should have used a unicycle.
12:36:25 <shapr> mwc: ouch
12:36:26 <mwc> So I got some screws put in and things were going lovely, and then I had a crutch malfunction in the kitchen, resulting in: http://www.mattcox.ca/images/fracture2_4.png
12:36:32 <shapr> rasfar: how old are you?
12:36:38 <rasfar> not telling
12:36:52 <shapr> mwc: ouch ouch ouch
12:36:56 <mwc> you can see i dislocated the tibia farther this time, and bent the plate and loosened a screw
12:37:09 <mwc> which required this; http://www.mattcox.ca/images/recovery2_1.png
12:37:19 <shapr> rasfar: I'm 21. Are you older than me? (my age is in hex :-)
12:37:37 <xerox> My gosh.
12:37:41 <mwc> which is the current hardware I have in my leg. Not that the swelling has gone down, I can feel the plate through my skin
12:37:54 <mwc> 5 more days until I'm allowed to try walking
12:38:01 * shapr gicks horribly
12:38:03 <xerox> mwc, good luck!
12:38:05 <rasfar> shapr: I am 10 years older than you (binary).
12:38:10 <shapr> oh, ok
12:38:39 <shapr> Are you part of the McMaster Haskell Cabal?
12:38:43 <astrolabe> What are those staple-like things?
12:38:54 <mwc> Pah, I'm 24 (in octal)
12:38:58 <shapr> I think they hold the skin together.
12:38:59 <mwc> astrolabe, those are staples
12:39:06 <mwc> yep, surgical staples
12:39:24 <xerox> 13, hex!
12:39:40 <mwc> they hold tigher and leave less scaring than old fashioned sututes, happen to heal faster too I hear tell
12:39:49 <rasfar> Nope, but may get to McMaster sometime in the future; are you at McMaster?  (convo heating up)
12:40:01 <mwc> rasfar, you at McMaster?
12:40:08 <shapr> rasfar: Nah, just happen to know a few of the McM Cabal hang out here on #haskell.
12:40:24 * mwc demands a disclosure of all great-lakes area users
12:40:28 <shapr> I'm about forty miles south of the Arctic Circle in Sweden.
12:40:50 <rasfar> Are a lot of the peopple here from McMaster?  Or is it that my profile shows "Canada"?...
12:40:50 <mwc> shapr, enough to have 20 hours of daylight in the summer?
12:40:55 <shapr> 23.5
12:41:07 <shapr> On the downside, the winters balance it out.
12:41:09 <rasfar> Ah, Sweden.
12:41:17 <mwc> 23.5... wow. I'd have a psychotic episode with that much daylight
12:41:33 <mwc> Either that or I'd have to move into an underground bunker
12:41:40 <shapr> Actually, that much daylight is like having temporary hyperthyroidism.
12:41:40 <rasfar> I'm currently in central Canada (Saskatoon) -- comparable climate to Sweden in some respects.
12:41:56 <shapr> Sadly, the winters are like temporary hypothyroidism.
12:41:58 <mwc> rasfar, I was Born and Raised in Saskatoon!
12:42:11 <rasfar> Do I believe you? (sorry I
12:42:24 <rasfar> 'oops am new to IRC and a little on the paranoid side)
12:42:50 <mwc> Sure, I was born at St. Pauls, I lived just outside Cormen Park, past were Diefenbaker meets Circle Drive
12:42:50 <rasfar> Let's see -- how many mountains are there in Saskatchewan, quick?
12:42:54 <shapr> Winters here are living in a velvet sack that slowly closes over you, muffling the outside world, until you reach the point where you are only allowed to poke your head out of the sack one hour a day...
12:42:58 <rasfar> Okay okay it's true then!
12:43:03 <mwc> if I recall my topology correctly
12:43:12 <mwc> shapr, but lots of darkness?
12:43:21 <mwc> I need about 2 hours of pitch blackness to get to sleep
12:43:27 <shapr> Um, yeah. That's what I was trying to imply.
12:43:30 <mwc> so with 23.5 I wouldn't be able to sleep without medical help
12:43:42 <shapr> It's okay, you'll have the whole winter.
12:43:49 <astrolabe> LOL
12:43:49 <mwc> Hell, with 10 hours of night here, it's hard as hell for me to get a restful sleep
12:44:02 <astrolabe> You could get dark-room blinds
12:44:09 <mwc> astrolabe, I actually have them
12:44:15 <shapr> astrolabe: they're not as successful as you might think.
12:44:23 <mwc> they're lined with foil, block 95% of all the light
12:44:29 <mwc> except for the edges of the window, of course
12:44:51 <mwc> rasfar, so are you at the UofS?
12:45:10 <rasfar> um, no -- been there though.
12:45:28 * shapr disappears to be social
12:46:09 <rasfar> I took an intro comp. sci. source from a great prof, and he introduced us to Miranda.  This lead me to lml, then to Haskell.
12:46:48 <mwc> I left Saskatoon at 13 or so and came out to London, Ontario, doing theoretical physics here
12:48:12 <rasfar> \msg mwc I don't mind sharing my boring personal info with the whole list but it would be embarassing if only my side of the conversation was visible!...
12:48:24 <rasfar> oops again!  This is tricky...
12:49:21 <rasfar> Ah, theoretical physics.  QFT or plasma or ... more to the point, how does that involve Haskell?
12:49:48 <mwc> It's actually a mandatory double major here: one theoretical physics major, one applied math major
12:50:13 <rasfar> I see.
12:50:39 <mwc> My major interest at the moment is quantum information theory
12:50:57 <rasfar> Sounds interesting indeed.
12:51:23 <mwc> I'm working with a professor here (actually getting paid to work) on a project involving the theoretical limit of quantum algorithms in the presence of real-world noise
12:51:42 <rasfar> Cool.  Got a URL?
12:52:08 <mwc> No, not really
12:52:12 <mwc> project hasn't started yet
12:53:59 <rasfar> Oh.  I'm joining comp.sci. at U. Calgary (starting next month in fact).  They have some quantum computing work goin' on it seems.
12:55:36 <mwc> Swell, it's the next big thing. 30 years, you'll have a cubic-micron sized computer that will out-burn a modern Cray, and a quantum computer for (de)encryption and search
12:55:45 <mwc> Assuming nanotech pans out, of course
12:56:26 <rasfar> maybe even a computer powerful enough to make Haskell practical?
12:56:41 * mwc hears the pin drop
12:57:08 <mwc> I'd say it's practical now
12:57:14 <rasfar> What, did I say something wrong? :)
12:57:21 <SyntaxNinja> Haskell is practical.
12:57:33 <mwc> There's a spiffy version control system and a Perl 6 system already out in Haskell
12:57:33 <rasfar> It is practical but can be frustrating when you're used to C.
12:57:44 * boegel hits rasfar with a hard baseball bat: "Haskell _is_ usefull"
12:58:12 <SyntaxNinja> <---- works for a company developing Haskell full time.
12:58:18 <rasfar> oops. um.
12:58:20 * mstevens spots the increasing overlap between here and #perl
12:58:27 <rasfar> SyntaxNinja you are lucky then!
12:58:38 <SyntaxNinja> yes, true :)
12:59:06 <rasfar> I love the language don't get me wrong, but has anyone tried raster processing or audio in Haskell.  Sheesh....
12:59:26 <boegel> rasfar: a friend of mine is writing audio filters in Haskell
12:59:27 <mwc> mstevens, speak of the devil!
12:59:41 <Muad_Dibber> hows the raytracer?
12:59:50 * mstevens peers at mwc and wonders if he should be familiar
12:59:51 <boegel> Muad_Dibber: quite good
13:00:03 <mwc> mstevens, referencing [1]metaperl_ 's arrival
13:00:03 <boegel> I got transparency working, but I have 1 remaining problem
13:00:06 <rasfar> boegel: real-time filters?
13:00:09 <mstevens> aah
13:00:26 <boegel> rasfar: no, but the function definitions are surprisingly short
13:00:31 <boegel> Muad_Dibber: http://studwww.ugent.be/~kehoste/transError.png
13:00:39 <rasfar> lol
13:00:59 <boegel> I can't explain the dark circle you see in of the transparent sphere
13:01:00 <Muad_Dibber> cool boegel  :)
13:01:06 <Muad_Dibber> oh
13:01:06 <mwc> Isn't there a HDL based on Haskell?'
13:01:10 <Muad_Dibber> thought it was meant to be there :P
13:01:17 <boegel> well, I'm not sure
13:01:27 <rasfar> maybe that wasn't meant to be funny, but this is just my experience with FL's: The source is incredibly lucid, but I get performance about 1000 times slower and greedier than C...
13:01:34 <malcolm> mwc: it's called Lava
13:01:39 <boegel> you have a transparent whitish sphere, and a green one partly behind it
13:01:40 <mwc> Just write your audiofilters in that and flash an FPGA
13:01:49 <mwc> rasfar, what env are you using? GHC is pretty good
13:01:52 <Muad_Dibber> hmm
13:02:00 <mwc> nhc is pretty good for low-memory use, I hear
13:02:13 <boegel> and light comes from behind aswell as in front of the transparent sphere
13:02:18 <boegel> so it's quite strange really
13:02:18 <rasfar> I admit things are improving a bit since I started partitioning the input.
13:02:24 <malcolm> mwc: that's the theory
13:02:37 <rasfar> I've used GHC, HBC and NHC98.
13:02:56 <boegel> it might have something to do with total internal reflection, but my intuition tells me the whole outer side of the sphere should be dark, not just a ring inside of it
13:03:16 <TFK> Well, I hear a Haskell ray-tracer exists.
13:03:21 <Muad_Dibber> well, i'm not that good with raytracers :P
13:03:42 <boegel> TFK: yeah, several, but the code is quite crappy most of the time
13:03:52 <TFK> What about the performance?
13:04:00 <boegel> pretty good actually
13:04:03 <malcolm> The ICFP programming contest was to write a raytracer a few years back.  Lots of entries in all sorts of languages, including haskell
13:04:25 <boegel> malcolm: I read the assignment, is was way cool
13:04:31 <boegel> too bad it was a few years back
13:04:41 <boegel> otherwise I could have participated
13:04:51 <astrolabe> boegel:  Point light sources?
13:05:03 <malcolm> There's a contest every year.
13:05:24 <boegel> astrolabe: yes, and ambient lights too (well, just one actually)
13:05:30 <malcolm> But the task is different each time - do some people only want to write raytracers and nothing else?
13:05:50 <boegel> malcolm: no, but I'm writing my raytracer for my thesis
13:06:16 <boegel> TFK: the image in the link I just gave (800x600) takes 59s
13:06:37 <malcolm> ah cool - do you have some nifty new algorithms or something?
13:06:42 <TFK> Is that a lot, relatively speaking?
13:06:43 <boegel> a raytracer in C would be a lot faster
13:06:49 <TFK> Ah, no fun.
13:06:53 <boegel> TFK, we'll, I don't no really
13:06:53 <SyntaxNinja> I still don't grok alexj's obsession with build-depends.
13:07:01 <boegel> but I thought it would be slower
13:07:11 <boegel> and I didn't compile with a -O or -O2 option
13:07:23 <mwc> try -fvia-c
13:07:40 <boegel> malcolm: not really, but I'm doing a theoretic part too, proving some properties of my software
13:08:09 <boegel> malcolm: I do include Perlin textures (http://studwww.ugent.be/~kehoste/thesisPublic/website/)
13:08:18 <malcolm> SyntaxNinja: he doesn't want to let go does he?
13:08:26 <boegel> mwc: what does that do? I thought -O did optimising ?
13:08:53 <mwc> boegel, turns it into C code and has GCC compile that
13:09:04 <SyntaxNinja> malcolm: do you understand that bit in his argument? build-depends seems to be the focal point for a lot of what he's saying, but I just don't undersatnd it all.
13:09:09 <mwc> boegel, GCC is better at allocating registers and the like I hear
13:09:20 <astrolabe> boegel:Do you limit the number of surfaces that the rays pass through?
13:09:39 <SyntaxNinja> thankfully, I trust simon is understanding it to the best of his ability. if he tells me that we need to get rid of build-depends, then I'll work to understand what's going on ;)
13:10:03 <malcolm> boegel: proving properties of the code is an excellent angle
13:10:03 <boegel> astrolabe: I do, why ? I can adjust that value though (recursion depth)
13:10:10 <SyntaxNinja> you have to figure out what alexj's misconceptions are before you can understand his posts, I think.
13:10:24 <boegel> malcolm: my friend who is writing the audio filters is doing the same thing
13:10:31 <astrolabe> boegel:  You could see if that changes the dark circle.
13:10:45 <boegel> astrolabe: okay, I'll try
13:11:09 <boegel> it was set on 2, let me set it to 5, that should be way enough
13:11:37 <malcolm> SyntaxNinja: I think I understand alex's point, but it is very difficult to explain in less than ten paragraphs...
13:12:37 <boegel> astrolabe: it changes alright, the dark circle is 'lighter', but it doesn't go away though
13:12:46 <SyntaxNinja> hm. do you think I should try to follow it more closely?
13:13:20 <astrolabe> Try setting it higher.  Maybe the light is just bouncing around insice.
13:13:30 <malcolm> SyntaxNinja: No, I wouldn't bother investing the effort, unless SimonM changes his mind and decides Alex is right!
13:14:00 <SyntaxNinja> malcolm: OK. Holding pattern it is.
13:14:03 <boegel> astrolabe: it should be able to, I'm detecting that, or at least I should be
13:14:25 <boegel> mwc: using -fvia-c doesn't help, it remains 59s
13:14:41 <SyntaxNinja> is iavor diatachki here?
13:14:54 <astrolabe> boegel:  and each time it bounces, part leaves the sphere?
13:15:17 <mwc> boegel, sounds like you're IO bound
13:15:21 <boegel> astrolabe: I thought the light can only be refracted 2 times inside a sphere, then it leaves
13:15:33 <boegel> mwc: not for rendering
13:15:39 <malcolm> boegel: what framework are you using for proofs?  Programmatica? Alfa?
13:16:00 <boegel> I have to output the image to a file off course, but that isn't included in the measured time
13:16:08 <mwc> boegel, no, 3 reflections are common in rainbows
13:16:11 <boegel> malcolm: no, it's theoretic, FunMath
13:16:29 <mwc> that's how you get the second rainbow, if I recall an atmospheric physics lecture from long ago
13:16:34 <astrolabe> boegel: That makes sense, but it could be reflected loads of times before it leaves.
13:16:58 <malcolm> boegel: by "theoretic" I suppose you mean "on paper" rather than automated |:-)
13:17:45 <boegel> astrolabe: the sphere isn't rellfective, and transparent (different parameters, reflective part is set to 0)
13:17:51 <boegel> malcolm: I do, on paper :)
13:18:11 <boegel> astrolabe: I don't think that will help resolving the strange image, wouldn't it ?
13:18:26 <boegel> astrolabe: trying 100 now :)
13:20:19 <astrolabe> Is the inside of the sphere completely unreflective too?
13:20:24 <boegel> astrolabe: http://studwww.ugent.be/~kehoste/trans3.png = recursion depth 10
13:20:30 <boegel> astrolabe: yes
13:20:39 <boegel> that what Idon't understand about the whole thing :)
13:22:25 <astrolabe> Hmmm. Odd.  How about if the light was refracted to a tangent, would your code know it had passed outside?
13:22:55 <CosmicRay> anyone here know how to troubleshoot "unspecified action" from wash
13:22:56 <CosmicRay> ?
13:23:29 <boegel> astrolabe: setting depth to 100 doesn't change anything in the image anymore (and the render time is the same too)
13:23:31 <gzl> I believe that happens when you have multiple forms in a page, CosmicRay
13:23:42 <gzl> and there's some kind of ambiguity about which thing should be triggered
13:23:47 <CosmicRay> gzl: but I don't
13:23:51 <gzl> then I'm wrong
13:23:57 <gzl> and I don't know :)
13:23:58 <CosmicRay> I thought that too
13:24:02 <boegel> astrolabe: what do you mean by 'a tangent' ?
13:24:07 <CosmicRay> but I have completely eliminted that possibility
13:24:09 <gzl> I haven't seen that error
13:24:29 <astrolabe> boegel:Tangent to the surface of the sphere
13:24:35 <d`> hello.
13:25:04 <astrolabe> hello
13:25:38 <mstevens> hi
13:25:49 <d`> :)
13:25:59 <d`> i just started reading the `gentle introduction' @ haskell.org and ran into the first problem..
13:26:07 <d`> using hugs i get
13:26:07 <d`> Prelude> inc n = n + 1
13:26:07 <d`> ERROR - Syntax error in input (unexpected `=')
13:26:16 <gzl> you can't define functions in there
13:26:19 <boegel> astrolabe: I'm not sure what you mean by tangent, I don't know that word (sorry :s)
13:26:29 <gzl> d`: write it in a file and load it into the interpreter
13:26:30 <monochrom> You have to enter that into a file, then tell hugs to load that file.
13:26:38 <gzl> using :l file.hs or somesuch
13:26:58 <d`> gzl that kinda defies the point of using an interpreter as opposed to a compiler..
13:27:22 <astrolabe> Boegel:  Sorry.  A tangent to a curve is a line that touches it, and is parallel at the point of contact.
13:27:30 <gzl> yeah, i kind of wish you could define functions in there like in the ocaml toplevel. but you can't
13:27:46 <gzl> is there any reason for this, btw?
13:27:56 * mstevens should probably have another go at learning Haskell
13:28:01 <d`> the sml interpreter has no problem with this either..
13:28:26 <mstevens> or python
13:28:35 <d`> gzl is this a flaw in hugs only or is that common for other haskell interpreters ?
13:28:44 <astrolabe> Boegel:  So I mean what happens if the ray is refracted to be parallel to the surface it is refracted by?
13:28:48 <gzl> ghci doesn't do it either
13:29:12 <malcolm> You can define a function at the prompt in ghci, but you need to start with "let"
13:29:32 <dcoutts_> gzl: let  inc n = n + 1
13:29:38 <gzl> aha. didn't know that.
13:29:47 <gzl> yeah, that works.
13:29:48 <lispy> it's not optimal tho
13:29:48 <monochrom> Both can't take data type definitions (data Haha = Hey | Hello) at the prompt.
13:29:59 <dcoutts_> it is one of the things ghci does better than hugs
13:30:06 <gzl> ghci does lots of things better than hugs
13:30:08 <boegel> astrolabe: I don't think that's possible, but I'm not sure
13:30:23 <gzl> hugs' error reporting is kind of lame
13:30:29 <boegel> I'm writing a small Java program to visualize my rays, that will help me find the problem I hope
13:30:39 <astrolabe> Boegel:It is according to physics.  That is how you get total internal reflection.
13:30:52 <d`> dcoutts_ oh, you just put all your session into a let scope ?
13:30:59 <monochrom> Overall it is just lack of people working on the interpreters.
13:31:08 <lispy> if you are writing a lot of code in the interpreter, you may taking the wrong appoarch
13:31:17 <boegel> astrolabe: I'm already detecting total internal reflection... the formula to refract a ray has a root in it
13:31:23 <dcoutts_> boegel: but of course you should be writing a small haskell program to visualize your rays :-)
13:31:32 <boegel> when the value under the root is negative, you have total internal reflection
13:31:32 <lispy> (I say that from experience as a lisp programmer :)
13:31:49 <astrolabe> What if it is zero?
13:31:52 <boegel> dcoutts: I could, but it has to go fast now, I'm fooling around with this for too long now
13:31:54 <gzl> d`: you do it for each function you want to define
13:32:01 <monochrom> Then again, there is no such thing as "the Java prompt" :)
13:32:05 <dcoutts_> boegel: you can use the haskell OpenGL stuff
13:32:15 <boegel> astrolabe: then the root is also 0, so no problem I think
13:32:19 <rasfar> Regarding interpreters: isn't it deliberate, to keep reusable code in source files?
13:32:34 <lispy> boegel: fast as in, you can churn out java code faster?
13:32:53 <lispy> rasfar: exactly
13:33:01 <d`> hm, this sucks. i'll get ghc
13:33:09 <monochrom> hee hee hee
13:33:12 <astrolabe> boegel:No, but the line will be very close to the surface for a while, and numerical errors might cause it to seem on the wrong side of it.
13:33:12 <gzl> you're better off with ghc for a variety of reasons
13:33:23 * monochrom 's official calculator is ghci.
13:33:42 <gzl> mine is maple.
13:33:45 <lispy> the error messages are usually better
13:33:48 <rasfar> d`: If you want fast compilation, consider hbc or nhc98 also...
13:33:48 <lispy> (with ghc)
13:33:49 <dcoutts_> d`, all the session in a let scope? I guess that is the semanics of it. It's really like a let in a do block. They scope over the remainder of the do block.
13:33:51 <gzl> yeah, much better in ghc
13:33:54 <malcolm> Hugs was designed to have a fairly minimal REPL - Mark Jones didn't want to get into all the issues of having to save a session (all the functions I typed in since starting  - but which versions? etc)
13:34:32 <boegel> astrolabe: I see... but would that explain the dark _ring_ I see ? I guess that would produce a ring that's not as width as the current one
13:35:14 <lispy> i tend to use dc as my calculator, perhaps i should switch :)
13:35:35 <rasfar> Yep, ghc rules for error messages though.
13:36:08 <astrolabe> boegel:  I'm not sure.  Just guessing.  Your ray-visualization might help.
13:36:19 <boegel> astrolabe: I hope so
13:36:36 <malcolm> I use 'hi' for preference as a calculator
13:37:06 <malcolm> (it was deliberately designed to mimic Hugs, and was the direct inspiration for ghci)
13:37:33 <SyntaxNinja> hi rulz
13:38:05 <rasfar> boegel: Do you have a darcs repo? I see a little code in the PDF on your thesis web site, but that's it...
13:39:47 <boegel> rasfar: that's because I can't release my code yet
13:40:27 <boegel> rasfar: I should finish my thesis first, then I can release my code... that's just to avoid problems with my grades and such :)
13:41:54 <rasfar> Hmm ... how would sharing the code affect grades? (I missing the point I think.)
13:43:37 <d`> hehe
13:43:41 <d`> in ghci:
13:43:41 <d`> Prelude> inc n = n + 1
13:43:41 <d`> <interactive>:1: parse error on input `='
13:44:12 <mauke> < gzl> ghci doesn't do it either
13:44:14 <d`> ah
13:44:17 <d`> tight, sorry
13:44:20 <d`> s/t/r/
13:44:38 <malcolm> let inc n = n+1
13:44:41 <gzl> use 'let'
13:44:44 <gzl> like they said
13:44:46 <d`> yeah
13:45:08 <d`> but still it's ugly ;]
13:46:57 <mauke> you can always keep an editor window open and use :r in the interpreter
13:47:00 <boegel> rasfar: if my code is available online, I have no proof I actually wrote it, and designed the model for it
13:47:59 <mstevens> what proof do you have if it's not online?
13:48:20 <astrolabe> Is it a thesis boegel?
13:48:56 * mstevens can see the problems if you started accepting patches though :)
13:49:01 <rasfar> boegel: I suppose.  You could perhaps prove you originated it, but not that every revision was your own.  But you still can pick up "informal" advice in this chat setting, so it's kinda hair-splitting...
13:50:05 <astrolabe> rasfar:  Getting advice is normal, submitting someone elses work is not.
13:50:20 <rasfar> astrolabe: It is a thesis (http://studwww.ugent.be/~kehoste/thesisPublic/website)
13:50:54 <astrolabe> Thanks.  In that case, he should do whatever he is told I think.
13:50:54 <rasfar> But if the repository is read-only, that allows us to be in better position to form opinion.
13:51:18 <astrolabe> But also someone could copy it, and submit before him.
13:51:27 <rasfar> ah, true.
13:51:39 <boegel> astrolabe: it is
13:52:01 <rasfar> Come to think of it, you are right -- this is standard to hold cards close in a thesis, isn't it?
13:52:24 <boegel> rasfar: I'm not sure, but I kind of decided for myself
13:52:37 <astrolabe> Extreme paranoia is my experience :)
13:53:01 <rasfar> boegel: Fair enough.  I was jsut getting curious -- your pictures are very nice, and I look forward to seeing the code...
13:53:16 <boegel> I try to show people as less code as possible, because I want to solve the problems I notice, not get them solved by someone else :) (code-wise I mean)
13:53:29 <rasfar> astrolabe: Yep, in mine also actually ... trying to shed it in fact.
13:53:46 <boegel> rasfar: my thesis is due June 1st, so i guess I'll be able to "publish" the code then
13:53:58 <rasfar> oooo ... that's close!
13:53:59 <boegel> maybe I can write a TMR article on it, if it's interesting enough
13:54:10 <boegel> rasfar: it is, and I have lot's of work to do
13:54:33 <rasfar> I have some free time next few weeks, if there's any way I can help...
13:55:31 <boegel> rasfar: unless you speak Dutch and want to help typing my thesis text, no :p
13:56:44 <rasfar> boegel: nope! good luck then.
13:57:23 <boegel> rasfar: when I get this problem solved, I could provide you with a compiled version to make some nifty images (or find weird bugs :p)
13:58:59 <rasfar> Unless I can see the code, there's not much fun in it for me, sorry dude.  But in a couple months I'll bug you for the code, and your thesis will be defended, and you'll have no good excuse not to give it up!
14:01:28 <musasabi> After tracking the popen problem I am back to the system call level and it does not look pretty.
14:03:23 <musasabi> adding close(2) seems to help things :-)
14:05:33 <boegel> rasfar: I'm not looking for an excuse... you will be able to find the code on my website then :)
14:06:12 * poetix seeks pair of eyes adept at finding Haskell solecisms, faux pas and other ThingsToAvoid
14:07:01 <rasfar> beogel: sincerely, I look forward to that.  apologies if my tone suggested i thought you were being evasive.
14:08:34 <malcolm> poetix: go on then
14:09:01 <poetix> malcolm: Thanks. See http://www.codepoetics.com/repos/code/polyominoes/Region.lhs
14:09:37 <poetix> It's meant to take a set representing squares on a 2D puzzle board, and find all the subsets of squares that are vertically or horizontally connected to each other
14:10:41 <poetix> It seems to work OK, so I don't have any problems with bugs (that I know about)
14:12:21 <malcolm> poetix: so what kind of thing are you worried about?
14:12:48 <poetix> malcolm: space leaks, time leaks, inelegance, avoidable ineffeciencies, bad syntax
14:13:03 <poetix> *inefficiences
14:13:13 <poetix> **inefficiencies
14:13:49 <malcolm> To see space leaks, you should run it under heap-profiling and look at the pretty graphs you get out.
14:14:22 <malcolm> It's notoriously difficult to spot space and time leaks just by staring at the source code.
14:14:37 <poetix> It's part of a larger solver I'm working on, and I want to write something for the Monad.Reader on it, so it's a question of not embarrassing myself publicly really (apart from here, of course...)
14:15:05 <blackdog> kallo, kallay: my grilf dragged me along to a ceramics class, and I now have a mug with a lambda on one side and the legend "go away, or i will replace you with a trivial lambda expression" on the other.
14:15:17 <blackdog> i am made happy by very simple things.
14:16:10 <boegel> astrolabe: the visualizer is ready, and some strange sutff is happening :)
14:16:37 <musasabi> btw statistics for jhc - compiling hello world: memory usage ~810mb, resident 360-400mb, time >4min.
14:16:44 <malcolm> On the whole it looks fine: nicely commented and layed out, but I do wonder why it is written so imperatively :-)
14:17:11 * poetix is a C# interloper
14:17:29 <astrolabe> stone him
14:17:58 <rasfar> giggle
14:22:16 <SyntaxNinja> hm. so I was kinda wanting a monad that just allowed certain IO actions, like read-only actions.
14:23:03 <SyntaxNinja> anyone know of convenient examples of this out there? I can think of a few ways  to solve it.
14:23:25 <malcolm> musasabi: 810Mb to compile hello world - is that some kind of record do you think?  Wow.
14:26:39 <boegel> astrolabe: http://studwww.ugent.be/~kehoste/transCheck.png
14:26:49 <boegel> the ray never leaves the sphere, as you suggested
14:27:54 <astrolabe> boegel:  :)  Interesting.
14:28:22 <malcolm> SyntaxNinja: there was a thread about read-only IO on a mailing list a few months back - it was ostensibly to do with toplevel initialisation actions for modules.
14:28:32 <boegel> yeah, but is this supposed to happen ?
14:28:50 <astrolabe> boegel:  Does the glass have a negative refractive index?
14:28:53 <boegel> is this total internal reflection ?
14:29:09 <boegel> astrolabe: no, the glass has 1.2 relfection (and the air around it 1.0)
14:29:39 <astrolabe> boegel:  I think the ray is being bent the wrong way.
14:30:51 <boegel> yeah, it should be bent in the same direction as the ray which hits the sphere initially, right ?
14:31:44 <astrolabe> boegel:  Well the angle of refraction should be less than the angle of incedence.
14:32:19 <boegel> well, I guess the problem is, I need to detect if I'm going inside a sphere or outside a sphere
14:32:50 <astrolabe> boegel:  Yes!
14:32:51 <boegel> and now I'm detecting that with inner product of the incident direction and the normal
14:32:52 <d`> is it possible to define a cyclic list, or at least simulate the cyclic movement around some other structure in a prettier way then incrementing an indexer modulo n in haskell ?
14:33:02 <d`> s/then/than/
14:33:06 <boegel> but I guess I'm doing something wrong there...
14:33:14 <Cale> d`: you can do it with let
14:33:25 <d`> Cale what d'you mean ?
14:33:33 <Cale> let x = 1 : 2 : 3 : 4 : x in x
14:33:51 <d`> ah right
14:33:53 <d`> thx
14:33:57 <musasabi> malcolm: at least that is quite near :-)
14:34:06 <d`> no wait
14:34:08 <Huschi> in Data.List is also a function called cycle that does exactly this thing.
14:34:14 <musasabi> malcolm: of course with the standard libraries already compiled it seems quite a lot faster.
14:34:18 <d`> that's not as efficient, right ?
14:34:34 <d`> it *will* increase in size while forcing, hm ?
14:34:52 <d`> Huschi oh, that's just perfect
14:35:11 <mauke> @type cycle
14:35:49 <musasabi> @type Data.List.cycle
14:36:12 <d`> mhm
14:36:13 <musasabi> cycle :: [a] -> [a]
14:36:14 <d`> thx
14:36:18 <mauke> ENOBOT
14:36:19 <d`> works like a charm ;]
14:36:26 <mauke> it should be part of the prelude
14:37:02 <malcolm> d`:  the infinite list will get unwound yes, but if you don't hold onto the start of it, the elements you have already used will be garbage collected.
14:37:03 <d`> but is it defined as an infinite list, or as a finite structure with cycling ?
14:37:28 <Huschi> it's an infinite list.
14:37:36 <d`> mhm
14:38:38 <Huschi> you can also define something like a ring structure.
14:39:22 <Huschi> d`: i did it yesterday. i can send it to you.
14:39:29 <SyntaxNinja> malcolm: any idea which list?
14:40:00 <malcolm> SyntaxNinja: probably haskell-cafe, but I can't be certain
14:40:20 <malcolm> I think andrew cooke was one of the protagonists
14:40:31 <d`> Huschi can you put it on some http server ?
14:40:39 <d`> that would be most convenient
14:40:52 <d`> but if it's a problem, let's try dcc
14:40:52 <Cale> d`: See TyingTheKnot on the wiki
14:40:54 <d`> or sth
14:40:59 <d`> Cale ok
14:41:03 <poetix> @wiki TyingTheKnot
14:41:29 <Huschi> d` i can put it in the wiki.
14:41:37 <d`> oh, i thought about wikipedia
14:41:39 <d`> hrhr
14:41:58 <Cale> http://www.haskell.org/hawiki/TyingTheKnot
14:42:13 <d`> thx
14:42:21 <poetix> Is the bot not with us today? Or did I type that wrong?
14:43:04 <musasabi> lambdabot is away..
14:43:37 <musasabi> I could bring one over, but that would just create problems when the original comes back and there are two bots.
14:43:43 <poetix> I have this mental image of lambdabot as as the anthropc from questionablecontent.net
14:44:08 <boegel> astrolabe: my total internal reflection test isn't working :s
14:45:42 <astrolabe> boegel: hmm.  bug found?
14:45:49 <SyntaxNinja> malcolm: thanks.
14:46:16 <malcolm> SyntaxNinja: Did you find it?
14:46:42 <SyntaxNinja> malcolm: no, haven't looked yet...
14:46:51 <SyntaxNinja> google didn't find it in the first hit, so I got impatient ;)
14:47:25 <SyntaxNinja> of course, if I check my email, then there's a danger I might see a new post from... OHNO
14:48:26 <malcolm> SyntaxNinja: I misremembered the participants - it was Adrian Hey, not Andrew Cooke.
14:48:57 <Huschi> d`: does it work?
14:49:13 <malcolm> Just checked mail-archive.com and found a thread.  http://www.mail-archive.com/cgi-bin/htsearch?method=and&format=short&config=haskell_haskell_org&restrict=&exclude=&words=initialisation
14:49:57 <boegel> astrolabe: it's like the algorithm fails, but I guess that's not possible :)
14:50:02 <boegel> I must be doing something wrong
14:50:21 <boegel> astrolabe: are you familiar with Snell's law ?
14:50:28 <astrolabe> I used to be
14:50:38 <SyntaxNinja> malcolm: cool. I'll dig into that.
14:50:39 <boegel> astrolabe: http://en.wikipedia.org/wiki/Snell%27s_law
14:50:42 <astrolabe> sin i / sin r right
14:50:47 <boegel> yep
14:51:12 <astrolabe> what is the formula you are using?
14:51:21 <boegel> when the value under the root is negative, you have total internal reflection
14:52:31 <boegel> I'm using the description in a book I bought, should be a very good book
14:52:42 <boegel> but I see the description on wikipedia is slightly different
14:53:22 <boegel> damn
14:53:27 <boegel> I know what I did wrong :)
14:53:30 <astrolabe> Are you using that cos \theta_2 = sqrt(...) formula?
14:53:41 <astrolabe> Ah good :)
14:53:58 <boegel> I flipped the index wrong, you have to look carefully in the book to notice
14:54:18 <boegel> the define sin i / sin r = n_2 / n_1 = n_21
14:54:30 <boegel> and then they use n_12 in the formula (so n_1 / n_2)
14:54:54 <astrolabe> Cool.  how long till a new image?
14:55:19 <boegel> not long :)
14:55:23 <boegel> recompiling and rendering
14:55:26 <boegel> about 3 minutes
14:57:24 <boegel> woo ! it works
14:58:39 <boegel> astrolabe: http://studwww.ugent.be/~kehoste/transRight.png
14:59:02 <astrolabe> Hey.  That is more like it :)
14:59:08 <boegel> it's kind of strange to see the shadow of the transparent sphere on the green one, but that's just the algorithm talking
14:59:30 <boegel> shadow checking doesn't check for transparent sphere's
14:59:58 <Lemmih> SyntaxNinja: Is the setup script always called Setup.lhs?
15:00:55 <boegel> w00 ! I'm happy now... I've been working on this all day long, I can't believe I just fucked up the refraction indices :)
15:01:01 <astrolabe> boegel:  It looks more physically right to me now, with a convex lensing effect.
15:01:12 <boegel> as does it to me :)
15:01:34 <boegel> only the shadow is a bit odd, but that's normal when doing just raytracing without 'add-ons'
15:02:21 * boegel feels like rendering some cool pics and throwing them online
15:02:42 <astrolabe> boegel:  Yeah, do it.
15:08:52 <boegel> I compiled with the -O option, and my render times are only half as long now
15:09:53 <dcoutts_> SyntaxNinja: over in gentoo land we were wondering the same thing, in our cabal support scripts do we just look for Setup.lhs or is it ever Setup.hs for example?
15:11:53 <malcolm> I added a Setup.hs to HaXml yesterday, but that could be wrong.
15:12:37 <malcolm> I just copied it from -package monads.
15:15:34 <dcoutts_> our current haskell-cabal.eclass script checks for Setup.lhs then Setup.hs and then bails out if neither were found
15:15:57 * shapr boings
15:16:07 <shapr> dcoutts_: hey, think you'll have a gtk2hs TMR article?
15:16:31 <dcoutts_> shapr, possibly, whats the deadline?
15:16:38 <shapr> well, really soon.
15:16:40 <malcolm> Setup.lhs has the possibility of being executed directly in the shell, if it start with a #!runhaskell
15:16:50 <shapr> I've been trying to publish first of the month.
15:17:19 <shapr> I gotta send mail to Wouter, see if he's done anything with AGs
15:17:27 <dcoutts_> shapr, in that case probably not, I've got something working but it's not done yet
15:17:32 <shapr> ah, ok.
15:18:12 <dcoutts_> ok, I'll aim for one of your first of the month deadlines then, how much notice do you want for submissions?
15:18:50 <shapr> Well I'd like to have content about a week before the first of the month deadline, if all goes well it'll be wiki publishing where you upload your content and other authors get to nitpick.
15:19:14 <shapr> I'd rather not be the bottleneck as peer review goes (and I'm rarely a decent peer for the articles).
15:19:16 <dcoutts_> malcolm, I've not actually seen any that do that yet
15:19:46 <malcolm> Yeah, runhaskell doesn't exist yet!  But there's a runghc and runhugs....
15:19:57 <dcoutts_> sure, I can find other people to do some review too.
15:20:22 <shapr> spiffy
15:20:39 <malcolm> I think I saw somewhere that #!runghc doesn't work in the current Cabal, so you have to compile it anyway.
15:20:45 <dcoutts_> is it part of the plan for them to be executable then?
15:21:20 <boegel> shapr: http://studwww.ugent.be/~kehoste/transRight.png
15:21:55 <dcoutts_> I guess it could be more convenient for users, for our gentoo packaging scripts it doesn't make much difference
15:22:47 <shapr> Tom Lord may be a great coder, but he's a real numbskull about understanding how people learn to program.
15:23:05 <dcoutts_> shapr, ?
15:23:07 * shapr cranks up the flamethrower
15:23:09 <SyntaxNinja> heh
15:23:18 <shapr> dcoutts_: He's making stupid remarks on ll1-discuss.
15:23:50 <Lemmih> SyntaxNinja: well?
15:23:54 <shapr> Maybe 'not well considered' is a more tactful way to put it.
15:23:54 <dcoutts_> oh, what's ll1?
15:24:10 <tuomov> Let me guess, he's trying to force people into some development model without them discovering it themselves?
15:24:14 <shapr> It's the mailing list for the first of MIT's lightweight languages conferences.
15:24:36 <shapr> tuomov: Actually, he's claiming that the average office working is an autodidact.
15:24:41 <dcoutts_> tactfu? no, no you've got your flamethrower out now, it'd be a shame to waste it
15:24:41 <shapr> s/working/worker
15:24:45 <SyntaxNinja> Lemmih: ?
15:24:54 <Lemmih> SyntaxNinja: Is the setup script always called Setup.lhs?
15:25:26 <SyntaxNinja> malcolm: I think I've used runghc w/ cabal so I don't know what the problem is
15:25:27 <shapr> dcoutts_: Sadly, that's about as tactless as I get. I prefer to just put the plain facts into a reply and if the recipient doesn't notice, then I stop replying.
15:25:56 <SyntaxNinja> Lemmih: it can be Setup.lhs or Setup.hs
15:26:26 <shapr> One of his previous posts claimed that academic researchers had no incentive to improve what professional programmers use now, but only incentive to invent new stuff that won't be used professionally for years.
15:26:26 <dcoutts_> shapr,  :-) life is quieter and easier that way
15:26:53 <malcolm> SyntaxNinja: it was just a comment I vaguely remember seeing on a mailing list
15:26:56 * Lemmih is an 'installPkgFromTarball' function away from a working cabal-get.
15:27:07 <dcoutts_> shapr, that's an interesting take on the argument. I usually blame the industry for ignoring us, but then that's because I'm biased.
15:27:34 <shapr> My response was short, and mentioned region allocation as the next step past GC, continuation based webdev frameworks, etc.
15:27:46 <dcoutts_> nice
15:28:02 <shapr> Yeah, especially after he just told Felleisen that he's never needed continuations in his daily work.
15:28:04 * shapr sniggers
15:28:28 * chr1s thinks he would pass a Turing test
15:28:58 <shapr> Snubbing Felleisen about continuations is like snubbing Church about lambda calculus.
15:29:36 <shapr> Anyway, if you enjoy academic sparring, it's definitely happening on ll1-discuss.
15:30:24 <monochrom> I am sure a prehistoric hunter would tell our k-12 teachers "I never need multiplication in my life".
15:30:42 <dcoutts_> I think actually there is plenty of blame to spread around when it comes to the "why is the IT/programming industry 15-20 years behind the researchers" problem. We don't pay enough attention to them enough and they don't listen to us enough, and nobody pays for stuff to go from research phase to the developent phase.
15:30:45 * boegel wonders why shapr is ignoring him
15:30:46 <shapr> dcoutts_: Personally, I think the industry is busy trying to stay profitable, and rarely dedicates any time to learning new stuff. As careers go, acceptable methods of failure are safer than risky ways to succeed.
15:30:59 <shapr> hoi boegel!
15:31:32 <dcoutts_> shapr, thats certainly true of the last place I worked. No technical ambition.
15:31:37 <shapr> dcoutts_: I think you hit it on the head.
15:31:49 <tuomov> the industry is busy going along with all the hype
15:32:10 <shapr> In my opinion, The Monad.Reader and #haskell are two bridges between commercial programmers and research papers.
15:32:38 <dcoutts_> how many comercial programmers do we have around here?
15:32:44 <shapr> I'm self-employed.
15:32:55 <shapr> Trying to make money with Haskell, and having some succees.
15:33:03 <shapr> SyntaxNinja does Haskell for a living.
15:33:12 <shapr> autrijus is implementing Perl6 in Haskell.
15:33:14 * stepcut is a commercial programmer
15:33:16 * wli hacks the Linux kernel for Oracle (C programming).
15:33:24 * boegel is just a student
15:33:25 * stepcut is writing haskell code for work as we speak :)
15:33:43 * tuomov is just a slacker
15:33:50 <dcoutts_> shapr, good for you. I'm living off a student grant. I'm not sure anyone else would pay me to hack on things Haskell-related!
15:34:15 * sond is just a student
15:34:21 <shapr> Part of my reply to Tom Lord : "The people who are paying care about more features, fewer errors, in less time. The inventions mentioned above allow that."
15:34:33 <boegel> hey sond, want to hold hands ?
15:34:42 <stepcut> shapr: reply to what ?
15:34:46 <shapr> My clients don't care if it's Haskell or asm when they just want the results, not necessarily the code.
15:34:53 <sond> boegel, no thanks ;)
15:35:03 <shapr> stepcut: Tom Lord is lightly toasting people on ll1-discuss.
15:35:14 <stepcut> ll1-discuss ?
15:35:21 <boegel> sond: what do you study ? and where ?
15:35:44 <sond> boegel, datateknik. chalmers. gotheburg
15:35:50 <dcoutts_> stepcut, I already asked that :-) see eariler discussion
15:35:54 <stepcut> hehe
15:35:58 * stepcut scrolls back
15:36:40 <dcoutts_> I get "little languages" but where does the 1 come from in  ll1-discuss?
15:36:53 <sylvan> first one?
15:37:17 <dcoutts_> well in that case I'll hold out for ll2 :-)
15:37:24 <shapr> stepcut: http://article.gmane.org/gmane.comp.lang.lightweight/3383
15:37:30 <stepcut> shapr: so, tell me more about people not caring about the language you write in
15:37:34 <shapr> Actually ll4 just passed, I think.
15:38:10 <shapr> I guess a bunch of interesting folks subscribed to ll1-discuss, and someone started talking again recently.
15:39:16 <shapr> stepcut: Right now my biggest client is one department of a german uni, and they have one programmer, and a few sysadmin people.
15:39:40 <shapr> That one programmer has been 100% microsoft until I came along with Zope/Plone.
15:39:48 <SyntaxNinja> hmm. haddock 0.6 exiting with an exit code of 1 and no explanation?
15:40:05 <TFK> SyntaxNinja, lazy programmers? :-P
15:40:39 <shapr> He's still mostly microsoft, but he doesn't have enough time to do everything, so I get the overflow projects. As long as I get results, nobody cares how.
15:41:03 <stepcut> shapr: they don't worry about future maintainance ?
15:41:17 <shapr> They do, so I want to teach their guy about Python.
15:41:19 <KrispyKringle> Hmm. I'm parsing some formatted text with Parsec, and it works fine in ghci or compiled with string literals, but doesn't work with the real input--the way i handle newlines is giving trouble. is it possible that the form submission input (using WASH) on a webpage migth have something that'd screw up the "newline" parser? \r\n or something, rather than just \n?
15:41:30 <shapr> I'd much rather convert him to Haskell of course :-)
15:41:50 <shapr> stepcut: Anyway, I have a plan for future maintenance! And it involves you!
15:42:03 * shapr waits for the shocked response
15:42:04 <KrispyKringle> ah, aha. \r\n isn't parsed right by newline
15:42:16 <shapr> Hm, speechless.
15:42:32 <monochrom> me?
15:42:50 <shapr> stepcut: Anyway, I'd like to get some sortof commercial Haskellers co-op up.
15:42:59 <monochrom> I am not a female. I cannot produce an offspring of you...
15:43:04 <shapr> um.
15:43:10 <shapr> That's good to know.
15:43:50 <shapr> I want some way to guarantee a higher truck number to my clients for Haskell projects.
15:43:51 <SyntaxNinja> oh. mutually recursive modules :(
15:44:31 <shapr> Best idea I can think of is to recruit six or eight other commercial Haskellers and offer to support their software in case of Bus Error.
15:44:39 <shapr> (for money of course)
15:45:07 <shapr> I'd also like to be able to take vacations sometimes.
15:45:09 <stepcut> shapr: Oddly, I was going to propose the same thing to you!
15:45:12 <shapr> w00!
15:45:13 * stepcut waits for the shocked response
15:45:17 * shapr is shocked!
15:45:29 <shapr> That parrot just went VOOM!
15:46:34 <stepcut> Unfortunately, to do serious web dev in haskell, I think we need to rewrite wash and haskelldb :)
15:46:40 <stepcut> :p
15:46:44 <shapr> I'm okay with that.
15:46:53 <stepcut> I have some ideas for haskelldb
15:46:55 <shapr> At least we have something to bootstrap with.
15:46:59 <stepcut> yes
15:47:08 * KrispyKringle is very VERY okay with someone rewriting WASH :P
15:47:20 <stepcut> wash plus a hyperlink library I wrote is definately usable
15:47:25 <stepcut> haskelldb is full of landmines
15:47:41 <shapr> And really needs the backend specific optimizer critter.
15:47:54 <shapr> Compiling to stored procedures would be quite tasty.
15:47:59 <stepcut> halipeto is fine for static sites
15:48:07 <stepcut> yeah
15:48:20 <shapr> But halipeto can generate very illegal html/xml.
15:48:40 <stepcut> yes
15:48:58 <shapr> On the other hand, Malcolm Wallace said that the 'subdtd typechecking' idea I suggested was already proposed for HaXml. They ran out of funding before they could implement it.
15:49:02 <stepcut> let me rephrase, halipeto can be made to work for static sites
15:49:18 <shapr> So, no scary technical problems with that.
15:49:42 <stepcut> did you ever see my halipeto generated site ?
15:49:42 <stepcut> http://www.vitreum-us.com/catalog.html
15:51:04 <shapr> Yeah, yours looks good.
15:51:33 <stepcut> it even integrates with the paypal shopping cart
15:51:34 <stepcut> :)
15:51:49 <shapr> My site is just a hack of the halipeto demo site.
15:53:19 <shapr> Anyway, who else can we recruit?
15:53:24 <stepcut> hrm
15:53:30 <TFK> recruit?
15:53:48 <shapr> TFK: For the commercial Haskell programmers' co-op.
15:53:58 <stepcut> dunno, but I am ready to start full time :)
15:54:12 <TFK> What, with *money*? :O
15:54:22 <rasfar> I'm game: what's the minimum qualifications?
15:54:56 <shapr> You have to be willing to get money to fix problems or extend functionality
15:55:13 <rasfar> ... i can live with that i think.
15:55:31 <shapr> And you have to know enough Haskell to be able to jump in during vacation times, that sort of stuff.
15:55:39 <rasfar> (well possibly with supplemental income)
15:55:57 <TFK> Getting money for code is wonderful.
15:56:05 <TFK> Naturally my code isn't worth any money >_<
15:56:25 <TFK> How are you going to make it work, though?
15:56:28 <rasfar> I've never had that pleasure (getting $ for code) :(
15:56:36 <shapr> If stepcut is a fulltime self-employed Haskell programmer, and he wants to take vacations occasionally, somebody has to be there to babysite the running Haskell code.
15:56:42 <dcoutts_> shapr, stepcut: so what's your new company called then :-)
15:57:00 <shapr> Well, I already have my own company. I have two even.
15:57:14 <dcoutts_> oh, a merger :-)
15:57:22 <shapr> Of course, one of them is me, and the other one is me and my fiancee.
15:57:39 <shapr> I really gotta watch out for those antitrust laws, oh yes.
15:57:47 <dcoutts_> :-)
15:57:48 <TFK> shapr, sure, but what about geographical location?
15:58:03 <shapr> TFK: We have internet.
15:58:17 <TFK> And anonymity. Which tends to suck when people bail out on you.
15:58:31 * stepcut is in the US, shapr is in somewhere very cold -- so its 24hr service :p
15:58:40 <TFK> Relations tend to be different over the internet... you never know when your lead developer got hit by a bus :-/
15:58:41 <shapr> You have very little anonymity when it comes to the internet.
15:59:04 <TFK> Depends on how much you let google see.
15:59:18 <shapr> I once got pissy about the comp.lang.ruby people posting their FAQ to comp.lang.python. Everytime I egosurf, there it is.
15:59:48 <stepcut> hehe
15:59:51 <shapr> If you let google see a lot, people are more likely to hire you.
16:00:31 <shapr> A good reputation is an investment just as much as stocks or bonds, and more valuable imho.
16:00:40 <TFK> Well, I'm interested in looking how it works out. Who knows, maybe it'll give me motivation to learn Haskell in a record time of, oh, some two years or so!
16:00:56 <TFK> Sure. But you gotta let it see only the good things.
16:01:27 <shapr> Hm, I think reputations are built on all of what you do.
16:01:36 <TFK> There was a very good, lengthy page discussion the main qualities a consultant must have. It basically spelled "trust".
16:02:32 <shapr> Anyway, I've met quite a few people from #haskell at ICFP03 and at EuroHaskell.
16:02:32 <TFK> Sure, you have to handle sticky situations and personal failures gracefully.
16:03:19 <shapr> Yeah, nobody's perfect.
16:03:32 <TFK> heh
16:05:22 * boegel would like to see shapr in the flesh
16:07:12 <stepcut> shapr: so, how do you want to progress from here ?
16:07:16 <shapr> boegel: My unicycles are far more interesting.
16:07:58 <shapr> stepcut: So far I don't have much paying Haskell work, but I think I could get more if I could do faster webdev.
16:08:29 <shapr> I am willing to do support for vacation or Bus Errors of any flavor.
16:08:56 <shapr> I'd like to get something organized to improve Haskell webdev.
16:09:40 <stepcut> shapr: Well, now that my taxes are done, I have been planning to spend time attempting to write haskelldb 2.0
16:09:43 <TFK> What's "vacation" and "Bus Errors"?
16:09:44 <shapr> w00
16:09:56 <stepcut> starting in a few hours from now
16:10:06 * stepcut still has to put in a few hours for his day job
16:10:08 <shapr> TFK: http://c2.com/cgi/wiki?BusNumber
16:10:46 <TFK> heh
16:11:14 <shapr> TFK: Vacation is just that, the ability to go on vacation and not worry about panicky clients calling and saying "We can't find anyone to debug your continuation monad!"
16:11:38 <stepcut> hehe
16:11:44 <TFK> Hmm. Then you either have to get back up, or be a real good software developer.
16:12:05 <TFK> shapr, whatever you come up with, make sure you ace the Joel test :-)
16:12:31 <shapr> Or, you could arrange to have some other Haskell programmers get familiar enough with your code that you can go on vacation peacefully.
16:12:43 <shapr> Joel Spolsky has a test?
16:12:48 <TFK> Aha.
16:12:58 <stepcut> shapr: yes, this sounds like what I was thinking of
16:13:02 <TFK> http://www.joelonsoftware.com/articles/fog0000000043.html
16:13:27 <TFK> That's "back up". For good backup you need to document and annotate your code extensively, part of being a really good software developer ;-)
16:14:19 <shapr> So I'd like a mutual support sort of organization where we can trust the other guys to be at least vaguely familiar with our code in case of unexpected Bus Error, and where we can request more than vague familiarity before vacations.
16:15:17 <shapr> Honestly, clients don't care how it works, as long it does work and keeps on working.
16:15:27 <TFK> I'm guessing that you'd want more than a single person on any single project at any given time?
16:15:33 <stepcut> brb
16:15:36 <shapr> Not necessarily.
16:15:54 <shapr> For my company, I'm the programmer, and that's worked so far.
16:15:54 <TFK> That's only because they're oblivious to the hard problems of coding. There are lots of horror stories about inherited code.
16:16:09 <TFK> Sure, but you only need to answer to yourself.
16:16:31 <TFK> In a co-op like thing, a screw-up by one person will probably affect the reputation of the entire venture.
16:16:38 <shapr> Another advantage of a Haskell back scratching organization, your colleagues might occasionally tell you "Ain't no way I'm supporting that!"
16:16:50 <TFK> hehe
16:16:56 <TFK> Peer review is good, yes :-)
16:17:02 <shapr> Right
16:17:29 <TFK> Which is what I'll make you do when the pastebin will finally work.
16:18:04 <shapr> fair enough :-)
16:18:43 <TFK> You can run, but you cannot hide!
16:19:06 * shapr reads the Joel test.
16:19:19 * stepcut is back
16:20:10 <boegel> astrolabe, shapr: another render -> http://studwww.ugent.be/~kehoste/thesisPublic/website/21_04_2005/trans1.png
16:20:29 <shapr> whoa cool
16:20:31 <stepcut> boegel: nice!
16:20:39 <shapr> That would make a neat logo.
16:21:18 <boegel> shapr: good point :)
16:23:24 <shapr> I like the blue ghosty effect.
16:23:34 <astrolabe> very nice.  i can't quite get my head around it.
16:24:08 <boegel> does anyone know which font I could use for a logo ? I'm not really into fonts
16:24:20 <astrolabe> Are there 12 red balls?
16:24:25 <stepcut> ghc-6.2.2: could not execute: gcc
16:24:38 <stepcut> $ gcc
16:24:39 <stepcut> gcc: command not found
16:24:41 <stepcut> hrm....
16:25:03 <stepcut> what kind of crazy linux distro doesn't ship with gcc installed!
16:25:14 * shapr doesn't know
16:25:27 <Cale> what distro?
16:25:58 <stepcut> I'll give you a hint -- it sounds like a antipersperant
16:26:10 <boegel> astrolabe: there are
16:26:27 * shapr grins
16:27:09 * stepcut does an apt-get install build-essential
16:27:17 <astrolabe> Ah.  I think I get it.  The middle 2 balls are slightly obscured by those to the right and left.  It is fab.
16:28:13 <stepcut> shapr: so what makes us (haskell web programmers) better than your average php/perl web monkey ?
16:28:25 <rasfar> It's a trip how you have the faint double-images of the red balls... how does that happen?
16:29:22 <boegel> shapr: http://studwww.ugent.be/~kehoste/hrayLogo.png
16:30:14 <boegel> astrolabe: you can see there are 12 red balls... you can see the reflection of them on the back of the transparent sphere
16:31:11 <boegel> rasfar: I'm not sure what you mean by double-images ?
16:31:32 <rasfar> But if the red balls are already behind the transparent sphere, how can we get the reflections out in front?
16:31:32 <astrolabe> boegel:  I think he means what you just talked about.
16:31:58 <Cale> you can see reflections in the back of the sphere
16:32:00 <rasfar> Is it refraction or reflection, internal reflection, or what -- that's what I'm trying to grok.
16:32:07 <astrolabe> double-reflections: off the front and back of the big sphere.
16:32:14 <boegel> rasfar: you can see the reflections on the back of the blue sphere through the blue sphere
16:33:08 <rasfar> Ah well, I'm no physicist anyhow -- it looks cool anyway!
16:33:13 <TFK> stepcut, minus the braindamage (PHP), and <insert fabourite Perl fault here> (Perl). The real question would be, I think, how will Haskell webhackers be better than their Python counterparts.
16:33:38 <boegel> rasfar: when a ray entering is refracted the first time, it passes through the front
16:33:54 <boegel> the second time, it passes through the back, so it check for the color of the back end
16:35:00 <boegel> shading that point reveals blue (since there a lights in range on the back), reflecting it reveals the balls behind it (in small)
16:35:12 <boegel> I think :)
16:35:34 <rasfar> boegel: sounds plausible...
16:35:46 <stepcut> TFK: shapr would know better than I
16:35:50 <boegel> but then I'm not sure why they are that small...
16:35:57 <rasfar> TFK: b/c the Haskellers would be working with that much more love for their native tongue?
16:36:01 <TFK> Yup, he would :-)
16:36:20 <astrolabe> boegel:  Doesn't that just describe the main refracted images?
16:36:54 <boegel> shading + refraction desribes the big red balls on the blue one
16:36:55 <TFK> rasfar, good point, but there are zealots on all dimensions of the fence.
16:37:09 <TFK> *fabourite = favourite, btw
16:37:17 <shapr> stepcut: abstraction
16:37:41 <shapr> Among other things.
16:37:55 <rasfar> Three cheers for peacible zealotism!
16:38:00 <stepcut> does abstraction lead to better reusablility in this case ?
16:38:08 <shapr> Monad transformers aren't very common in Zope.
16:38:41 <Pseudonym> G'day people.
16:38:48 <boegel> astrolabe: I think reflecting a ray on the inner side of the sphere will cause the ray to hit the front again, revealing the small red balls.. but I'm not sure :)
16:39:03 <shapr> Yes, definitely. An authentication monad would be more general than most of the other authentication frameworks I've seen.
16:39:19 <Pseudonym> Hmmm.
16:39:32 <Pseudonym> boegel: I don't like the "shadow" on the red balls on the right.
16:39:35 <boegel> hey Pseudonym
16:39:44 <boegel> Pseudonym: that's raytracing talking
16:39:45 <Pseudonym> It's just plain wrong.
16:39:48 <rasfar> boegel: Is it possible to specify a pixel in the rendered image, and trace backward (just the one pixel -- should be quick!)?
16:40:03 <Pseudonym> Well, no.  Raytracers don't _have_ to do that.
16:40:07 <astrolabe> Yeah.  I reckon the ray refracts at the front, reflects at the back, reflects at the front, refracts at the back and hits a red ball.
16:40:43 <boegel> rasfar: I have to do that by hand almost
16:40:45 <Pseudonym> Oh, and I _am_ a physicist (an armchair one, anyway).  You need proper dielectric reflectance.
16:40:46 --- topic: set to '' by quagmire
16:40:50 <Pseudonym> :-)
16:40:57 <rasfar> to find all the source rays which sum to that resultant?  (track down source of artifacts)
16:41:03 <TFK> heh, -T?
16:41:04 <boegel> Pseudonym: ?
16:41:11 <shapr> quagmire: didn't like the topic?
16:41:15 <Pseudonym> boegel: You got some source code anywhere?
16:41:18 <shapr> quagmire: you okay there?
16:41:24 <boegel> Pseudonym: I can't release it for now
16:41:31 <quagmire> sorry 'bout that
16:41:32 <rasfar> Pseudonym: don't go there!
16:41:38 <boegel> but you're saying the shadows shouldn't be there ?
16:41:39 * Pseudonym nods
16:41:44 <Pseudonym> Well I'll give you m ine if you want.
16:41:48 <shapr> quagmire: Hi! Who are you?
16:41:53 <Pseudonym> http://andrew.bromage.org/haskrt.png
16:42:09 <Pseudonym> You will note on the silver balls that they reflect more around the edges than when you're looking straight-on.
16:42:28 <boegel> what's the blurry thing ? a moving ball ?
16:42:33 <Pseudonym> Yup.,
16:42:49 <boegel> yeah, that's kind of cool
16:42:59 <Pseudonym> It's a small thing, but it REALLY helps.
16:43:35 <Pseudonym> http://www.graphics.cornell.edu/~westin/misc/fresnel.html
16:43:39 <Pseudonym> That's a good page on the topic.
16:43:43 <boegel> how will that help removing the shadow of the blue balls on the red ones ?
16:43:56 <quagmire> shapr: Grad student
16:44:09 <shapr> quagmire: learning Haskell?
16:44:13 <Pseudonym> It won't, but it'll make the transparent ball look better.
16:44:35 <quagmire> shapr: Fur fun, yes.
16:44:45 <Pseudonym> The simplest thing you could do, by the way, is simply to make the transparent ball mostly opaque for the purpose of shadows.
16:44:53 <boegel> Pseudonym: you should have seen how they looked before :)
16:44:57 <shapr> quagmire: neato, how far have you gotten?
16:45:02 * Pseudonym laughs
16:45:36 <boegel> Pseudonym: what do you mean, make the blue ball opaque ?
16:45:43 <Pseudonym> Right.
16:45:45 <quagmire> shapr: That depends -- how deep is it?
16:45:54 <boegel> quagmire: waaaaaay deep :)
16:45:59 <Pseudonym> I have a cool collection of bug images from my various renderers over the years, BTW.
16:46:25 <Pseudonym> I like this one: http://andrew.bromage.org/lviro/bug3.png
16:46:34 <rasfar> Pseudonym: great -- I try to keep mine too.  Hard to reproduce those.
16:46:37 <shapr> quagmire: Truly, Haskell has much depth. More than anything else I've seen.
16:46:39 <Pseudonym> This is what it was supposed to look like: http://andrew.bromage.org/lviro/quads.png
16:46:52 <quagmire> boegel: I notice that.  The http://www.cs.nott.ac.uk/%7Etxa/publ/qeff-draft.pdf is actually close my experimental work.
16:46:53 <boegel> Pseudonym: the shadow on the reds ball is normal right, unless you do some more advanced shadow checking
16:47:03 <Pseudonym> Well, no.
16:47:16 <Pseudonym> You're assuming that light travels in straight lines through the blue ball.
16:47:19 <Pseudonym> Which it obviously doesn't.
16:47:47 <quagmire> Some of the depth is the "re-impliment the idiom" whel re-inventing.
16:47:53 <quagmire> whel->wheel
16:48:14 <boegel> no, I'm assuming when the blue ball is between a light source and an object, that objects won't receive light (and thus be in it's shadow)
16:48:21 <Pseudonym> This is my favourite bug picture of all:
16:48:23 <Pseudonym> http://andrew.bromage.org/dof.png
16:48:29 <Pseudonym> It's meant to show depth of field.
16:48:37 <boegel> nice!
16:48:40 <Pseudonym> The cylinders at the front should be out of focus.
16:48:43 <Pseudonym> And the ones at the back.
16:48:46 <boegel> scratchy effect
16:48:51 <Pseudonym> But for some reasons the samples all got correlated.
16:49:06 <Pseudonym> It does indeed look more "blurred" in the right places, but the artifacts all coincided.
16:49:16 <boegel> seems like a lot of cool stuff is left for me to implement :)
16:49:21 <Pseudonym> :-)
16:49:51 <boegel> Pseudonym: again, on the shadows... can you explain me ?
16:50:03 <Pseudonym> Right, when the blue ball is between a light source and an object, then the objects won't receive light through the blue ball... kind of.
16:50:04 <shapr> quagmire: That's quite cool, quantum arrows.
16:50:10 <Pseudonym> Actually, they will, but the ball will act like a lens.
16:50:27 <rasfar> Pseudonym: Can you give us a URL to your source code?
16:50:33 <Pseudonym> Sure, hang on.
16:50:54 <quagmire> shapr: I do quantum optics experiments.
16:50:55 <Pseudonym> http://andrew.bromage.org/rt.hs
16:51:11 <rasfar> Thanks!...
16:51:21 <Pseudonym> The function f in trace is the Fresnel reflectance computation.
16:51:45 <Pseudonym> There's also a LOT of code there just to get the pixel sampling right.
16:52:01 <Pseudonym> Like, half of it.
16:52:05 <shapr> quagmire: Interesting, does that mean you know of open source software that can model the photorefractive effect?
16:52:36 <shapr> Is that the sort of quantum optics you do? Oh, probably not. I guess that just deals with redistrubed molecular charges.
16:52:59 <quagmire> shapr: Quantum => only a few photons of light
16:53:04 <Pseudonym> Oh, my code also does dithering before quantising.
16:53:19 <Pseudonym> Which increases the colour response ever so slightly, and eliminates Mach banding.
16:53:38 <rasfar> hmmm....
16:53:47 <Pseudonym> It can also do gamma correction before quantising.
16:54:03 <boegel> Pseudonym: is that _all_ of the code ?
16:54:27 <rasfar> yeah, doesn't seem like enough does it?
16:54:37 <boegel> no, as compared to mine :s
16:54:37 <Pseudonym> That just does the spheres.
16:54:48 <Pseudonym> The other images were from other renderers, not in Haskell.
16:54:50 <boegel> oh, damn, that's a relief :)
16:55:02 <boegel> you cheated us ! :p
16:55:14 <Pseudonym> http://www.aqsis.com/
16:55:18 <Pseudonym> That's the one that did the DoF images.
16:55:25 <Pseudonym> When I was trying to add DoF to it. :-)
16:55:53 <shapr> quagmire: I'll have to read up on QO before I can make any intelligent conversation.
16:55:54 <Pseudonym> The other ones were from my own personal renderer, the source for which I don't have around at the moment.
16:56:22 <Pseudonym> Sorry: http://www.aqsis.org/
16:56:24 <Pseudonym> Not .com
16:56:34 <quagmire> shapr: I'm not lurking here to talk about QO.  I saw the paste page on the wiki and thought I would monitor the channel
16:56:52 <boegel> Pseudonym: same thing, org or com
16:57:01 <Pseudonym> Ah, OK.
16:57:17 <boegel> Pseudonym: I think I'll leave the functionality to that for now
16:57:23 <shapr> Well, on-topic #haskell conversation is a very large space. If it says quantum, somebody is likely interested.
16:57:33 <shapr> quagmire: What are you here to talk about?
16:57:56 <boegel> there's lots of room for improvement, but I also have to finish my thesis text on it :)
16:58:04 <shapr> hiya Heffalump
16:58:22 <quagmire> shapr: Partly to get irc logs to match up with the code on the paste page.  Partly if I have questions.
16:58:36 <Heffalump> 'lo
16:58:45 <stepcut> alright! I can buy a replacement AC adapter for $0.99 (plus $19 shipping and handling ....)
16:58:56 * Heffalump goes "COOL" at jhc
16:59:19 <CosmicRay> yeah
16:59:20 <CosmicRay> jhc looks slick
16:59:21 <CosmicRay> JohnMeacham was on here last night talking about it
16:59:29 <Pseudonym> jhc is very cool
17:00:02 <Pseudonym> Has anyone else here read the GRIN paper/thesis?  Apart from JohnMeacham, obviously, since he implemented it. :-)
17:00:17 <shapr> I've read some of it.
17:00:35 <Pseudonym> I've been thinking of ways to get most of the benefits of it, while preserving separate compilation.
17:00:36 <shapr> I was trying to apply it to monochrom's alternate timeline.
17:00:50 <Pseudonym> I think it can be done.
17:01:07 <Pseudonym> My main problem with GRIN is that it seems to throw away all of the type information in favour of its points-to analysis.
17:01:17 <shapr> JohnMeacham: wake up!
17:01:32 <Pseudonym> Type information could not only make the analysis quicker, it could also preserve some semblance of separate compilation.
17:01:42 <Pseudonym> Because you could have separate type-specific evals rather than one big one.
17:01:50 <Pseudonym> But I'll wait until JohnMeacham turns up, I think. :-)
17:07:43 <boegel> Pseudonym: some of my bugs -> http://studwww.ugent.be/~kehoste/bug.png http://studwww.ugent.be/~kehoste/transBug.png
17:08:52 <Pseudonym> Cool.
17:08:58 <Pseudonym> I like the last one.
17:09:03 <boegel> not as cool as yours
17:09:19 <boegel> the last one was what I was trying to fix all day long today
17:13:16 <boegel> what's the difference between -O and -O2 when compiling with ghc ?
17:13:40 <shapr> Quite a few things, check the GHC manual.
17:14:04 <shapr> iirc, -O is -fvia-asm and -O2 is -fvia-C, and that's just the first step.
17:14:19 <wilx> boegel, aprox a day of compile time? :D
17:14:55 * Pseudonym has been at it for longer.
17:15:01 <Pseudonym> My first bug images are circa 1999.
17:15:07 * Pseudonym doesn't have the ones from before that
17:15:51 <boegel> I hope I'll have the courage to continue developping this... is there a mature ray tracing library in Haskell yet ?
17:15:59 <Pseudonym> Nope.
17:16:12 <Pseudonym> There are previous few decent raytracers out there AT ALL.
17:16:16 <TFK> http://en.wikipedia.org/wiki/Haskell_programming_language <--- I hope you guys know you can evangelize here.
17:16:21 <Pseudonym> Even POV-Ray doesn't do sampling properly.
17:16:36 <Pseudonym> TFK: NPOV
17:16:41 <boegel> I don't do any sampling at all :)
17:16:47 <Pseudonym> Yes you do.
17:16:49 <TFK> Pseudonym, evangelizm can be quite subtle.
17:16:51 <Pseudonym> You do point sampling.
17:17:04 <Pseudonym> One ray through the middle of each pixel.
17:17:13 <TFK> A list of features, comparisons, qualitative analysis...
17:17:39 <shapr> I'd rather write "We have a really cool community, come chat with if you have neat ideas."
17:18:09 <TFK> The Python article is *huge*.
17:18:19 <TFK> Ah, yes, there's a reference to the haskell wiki.
17:18:25 <shapr> Haskell is far more concise ;-)
17:18:38 <TFK> hehe
17:18:41 <shapr> We encourage quality instead of quantity.
17:18:47 <boegel> another thing to add to my list then :)
17:18:56 <TFK> Fair enough.
17:19:03 <TFK> Might explain the lack of docs...
17:19:20 <TFK> :-P
17:19:57 <shapr> ouch
17:20:06 * shapr snickers
17:20:16 <shapr> Poignant, that was.
17:20:38 <TFK> It's interesting, though, that Haskell has such a big IRC channel.
17:20:46 <TFK> And yes, you guys rock :-D
17:20:52 * shapr points to Pseudonym 
17:20:55 <shapr> He wrote the 'bot
17:21:08 * TFK takes the hat off to Pseudonym 
17:21:14 * Pseudonym steals it
17:21:18 * shapr laughs
17:21:29 <Pseudonym> Actually, I didn't write much of it nowadays.
17:21:34 <TFK> ...little did he know that the hat was laced with lethal poison!
17:21:40 <Pseudonym> That's the beauty of open source, though.
17:21:44 <Pseudonym> I only had to write enough that it worked.
17:21:55 <CosmicRay> Pseudonym: I wish I'd write code good enough that someone would fork it :-)
17:21:59 <TFK> glyph doesn't come to #python anymore, for example :-( he didn't a year ago, too.
17:22:02 <shapr> Speaking of which, have you seen the massive changes recently?
17:22:28 <shapr> Since dons took over maintainer, lambdabot is rockin!
17:23:00 <CosmicRay> I think the only thing that I wrote that got forked was a python interface to gpgme that i only ever half finished because I solved my problem a different way
17:23:06 <shapr> hiya Anthony!
17:23:07 <CosmicRay> s/forked/adopted/ in this case
17:23:11 <CosmicRay> hey aj
17:23:28 <TFK> See? Everyone knows everyone else ;-)
17:23:54 <shapr> Who's that Vladimir Gritsenko guy? ;-)
17:24:06 <TFK> Dunno. What a weird name o_O
17:24:06 <CosmicRay> TFK: not at all, I had no clue who JohnMeacham was until last night
17:24:14 <shapr> Let's see, speaks russian, lives in .il, must be an interesting story there.
17:24:20 <CosmicRay> it was like discovering the string theory or something
17:24:30 <TFK> Oh yeah, probably some kibbutznik nut or something O_o
17:24:32 <CosmicRay> all these things I had been poking around int he last week or two... John wrote.
17:24:36 <skew> John has written lots on the mailing list
17:24:53 <shapr> And he wrote ginsu, where Yi's Curses came from via Riot.
17:25:00 <CosmicRay> yes but see, I didn't put it together that he was behind all this other code, except jhc, cuz he doesn't talk about it
17:25:04 <SyntaxNinja> hey aj_
17:25:48 <CosmicRay> shapr: yes.  also a rockin GetOptions module, and DrIFT...
17:25:55 <shapr> right
17:26:02 <shapr> and the famous half-keyboard patch
17:26:19 <CosmicRay> now that one I havne't heard of
17:26:19 <shapr> Which was the inspiration for my hidden-markov-model keyboard layout idea.
17:26:30 <CosmicRay> *hidden* markov?
17:27:37 <skew> does that have anything to do with my idea of mapping characters MRU fashion to the keys
17:28:05 <shapr> MRU?
17:28:14 <wli> Remind me what makes a Markov model hidden.
17:28:24 <skew> like, the most recently typed character is under your left index finger, then the right, etc.
17:29:42 <Heffalump> wli: you can't directly observe the internal state
17:29:58 <wli> okay
17:30:01 <shapr> I was thinking that you find the statistics for which key follows which other key most often in your typing patterns.
17:30:05 <Heffalump> I just cribbed that from http://en.wikipedia.org/wiki/Hidden_Markov_model though, since my own memory of the definition was completely off :-)
17:30:17 <shapr> Then you use that to make an optimized layout to follow every key pressed.
17:30:33 <skew> yeah, there's code for that
17:30:57 <shapr> Where you have a separate layout for each key?
17:31:08 <skew> for each key?
17:31:10 <skew> hmm
17:31:21 <skew> oh, you want the layout to change as you type, in a half-way useful way
17:31:23 <shapr> Yeah, like.. what most commonly follows the letter e? maybe it's a space?
17:31:38 <TFK> earwax!
17:31:59 <shapr> Let's say some of the most common chars to follow e are ' ' 'n' 's' then that's part of the homerow.
17:32:09 <Pseudonym> ebola
17:32:16 <skew> that sounds a little too complicated to use
17:32:24 <shapr> Of course, those keys each have their own following keymap.
17:32:30 <skew> hopefully the current layout only taking into account one key of history
17:32:33 <Pseudonym> http://www.data-compression.com/english.html <- This might help
17:32:52 <shapr> Yeah, it's likely the intercal of keyboard layouts.
17:32:57 <mwc> I thought there used to be a wiki page that had book reviews
17:33:10 <mwc> I''ve got $50 to spend well on Haskell materials
17:33:16 <shapr> Pseudonym: oooh
17:33:20 <skew> and it would be nice if there was some way to avoid chasing a key around if you wanted to type it repeatedly
17:34:01 <shapr> Last time I mentioned this someone said "most importantly, you need the 'ground state' key to always be the same"
17:34:07 <skew> The programs I know of make a single layout from your recorded frequencies, assigning costs to pressing various sequences of keys
17:34:24 <CosmicRay> mwc: go for Haskell: The Craft of Functional Programming
17:34:35 <shapr> What about Hudak?
17:34:42 <mwc> The Amazon Reviews suggest Hudak's book
17:34:51 <shapr> Or both!
17:34:56 <skew> I guess the key can only move once if you have layouts for 'last typed 'x'', rather than 'last typed 'x' on key 72'
17:34:56 <CosmicRay> I found it to be less useful
17:35:13 <CosmicRay> metaperl's review here: http://sequence.complete.org/node/46
17:35:36 <CosmicRay> hudak's seemed to like to use only a particular example that doesn't work well on modern haskell systems (the whole graphics thing)
17:35:40 <shapr> hiya danb
17:35:52 <danb> shapr: ahoy
17:35:53 <shapr> CosmicRay: yeah, the death of SOEGraphics is sad.
17:36:06 <shapr> I wish he'd port it to HOpenGL
17:36:11 <danb> shapr: jyasskin told me people were talking about funny keyboard layouts :P
17:36:18 * shapr looks at skew
17:36:51 <shapr> Yeah, skew was talking about something based on hidden markov models.
17:36:55 * shapr whistles innocently
17:37:09 <danb> heard of dasher?
17:37:09 * jyasskin runs and hides from the markov models
17:37:18 <CosmicRay> dammit, I'm out of fun things to explore in darcs!
17:37:22 <CosmicRay> everything I can convert is!
17:37:26 <shapr> I've tried dasher, it's a good idea.
17:37:37 <danb> it sounds like a related idea; dasher varies the size of input targets based in the user's input history
17:37:42 <shapr> CosmicRay: seen darcshive? looked at the optimizations Igloo put into darcs-unstable?
17:37:47 <danb> yeah. if nothing else, it's fun :D
17:38:01 <CosmicRay> ahh, I should look into darchive
17:38:02 <shapr> What was the quick input for palmos that use a pie-shape?
17:38:05 <CosmicRay> thank you shapr
17:38:17 <shapr> CosmicRay: I am a font of nonboring stuff.
17:38:17 <CosmicRay> shapr: you are a great asset to the potentially bored :-)
17:38:21 <skew> shapr: I like your idea of having the user type some PPM compressed version of the input they want
17:38:21 <danb> *shrug*
17:38:34 <shapr> PPM compressed?
17:38:48 <danb> someone tried pie-menus for a window manager once, but the idea seems to have die (i think it was a Sun person)
17:38:52 <skew> though I think that maximizes typing speed at the cost of lots of brain time
17:39:07 <danb> *died
17:39:08 <skew> shapr: well, you didn't specifically say PPM
17:39:09 <shapr> skew: Yeah, but that's my favorite tradeoff. Mostly because I am so easily bored.
17:39:23 <shapr> I do like the idea of polygonal menus.
17:39:31 <shapr> Especially combined with the zooming interfaces.
17:39:53 <skew> but your thing with shifting keymaps sounds a lot like a compression algorithm, after looking at Pseudonym's link
17:40:10 <CosmicRay> shapr: ooo shapr darcshive has implications for hackage and darcs-buildpackage
17:40:19 <danb> pie menus: http://www.art.net/~hopkins/Don/piemenus/ddj/piemenus.html
17:40:23 <shapr> Yeah, it is. The idea is that most of the time you won't need to move your fingers from the homerow.
17:40:47 <blue17> Hey
17:40:51 <skew> shapr: so take it the next step to giving really likely digraphs a single key
17:40:51 <shapr> hi blue17
17:41:05 <blue17> What does the Check function do?
17:41:07 <shapr> skew: That is a *cool* idea.
17:41:13 <skew> and maybe taking a few keypresses and mode shifts to type really rare things
17:41:16 <shapr> blue17: it runs quickcheck tests.
17:41:31 <Pseudonym> I think we should Huffman code what we want to type in our heads, then just have a keyboard with two keys (0 and 1).
17:41:41 <Pseudonym> That's the most efficient input method.
17:41:42 <skew> like those funny accents I never use because I don't know swedish
17:41:43 <shapr> skew: yeah, spread it out even more.
17:41:50 * CosmicRay wonders why darcshive is not in sid
17:41:58 <shapr> Yeah, a-ring isn't so common in english.
17:42:02 <skew> Pseudonym: but you have more than two fingers, about 10 input symbols seems right to me
17:42:04 <blue17> Quickcheck?
17:42:13 <shapr> danb: What do you think about the HMM keyboard layout?
17:42:19 <danb> shapr: link?
17:42:27 <shapr> Er, no link.
17:42:31 <Pseudonym> Maybe eight.  That gives you three bits per symbol, and a couple of out of band bits for handshaking.
17:42:33 <shapr> I just described it here on #haskell.
17:42:39 <Pseudonym> Oh!
17:42:40 <Pseudonym> Duh.
17:42:46 <Pseudonym> Eight keys, and you can compress multiple.
17:42:55 <Pseudonym> That lets you type a whole byte with one movement.
17:43:10 <shapr> Yeah, chording isn't much used.
17:43:11 <Pseudonym> Plus two more bits for handshaking.
17:43:19 <blue17> the line of code is check( x ++ "p")
17:43:27 <Pseudonym> Chording is used in stenographs.
17:43:35 <shapr> I wonder how much RSI would be prevented if there were only ten keys.
17:43:36 <Pseudonym> And Braille typewriters.
17:43:49 <skew> Pseudonym: then you mix in arithmetic coding and increase the typing rate even more
17:43:51 <Pseudonym> And music keyboards, obviously.
17:43:51 <shapr> blue17: Oh, that's probably a custom function.
17:43:59 <Pseudonym> skew: Now you're just being silly.
17:44:25 <blue17> Hmm, ok
17:44:27 <blue17> Thanks
17:44:35 <shapr> danb: HMM keyboard layout would have a separate layout for each key, that would be loaded when that key is released.
17:44:42 * boegel feels his eyes closing
17:44:44 <boegel> I need sleep
17:44:48 <boegel> g'night everyone
17:45:01 <blue17> Oh duh.. I feel stupid.. its practicly right underneath the line
17:45:02 <blue17> Thanks
17:45:04 <shapr> danb: Like, which letters most commonly follow 'e'? You put those letters on the homerow of the e-following keyboard layout.
17:47:00 <shapr> g'night boegel
17:47:02 <Igloo> What you want is a keyboard the dynamically remaps itself as you type
17:47:24 <Igloo> In a Markov model style
17:47:42 <skew> yeah, to get the highest input rate it needs to dynamically adjust itself to your current input frequencies!
17:47:45 <Igloo> So when you type a key, adjacent keys become letters that tend to follow it
17:48:35 <Pseudonym> That's true!
17:48:40 <Pseudonym> Yes.
17:48:55 <Pseudonym> Actually, some mobile phones sort of do that.
17:48:58 <danb> but how would you anticipate layout patterns?
17:49:02 <Pseudonym> When entering text.
17:49:14 <danb> is this a hunt-and-peck operation?
17:49:22 <Pseudonym> You narrow the next letter down to three or four, and the system picks the most likely, and adjusts previous letters to suit.
17:49:31 <shapr> That's getting close to dasher.
17:49:51 <Igloo> danb: Your brain just follows the same Markov model, of course
17:50:08 <danb> it seems like touch-typing would be faster. for restricted input systems (like phones), it sounds useful
17:50:16 <danb> Igloo: ic ;)
17:50:43 <Pseudonym> Are there any good cabal tutorials Out There(tm)?
17:50:53 <Pseudonym> I really should get around to cabalising Edison.
17:51:05 <Igloo> Ross wrote a users guide, I think
17:51:10 <Igloo> No idea where it lives, though
17:52:45 <Lemmih> Fooey. I just got GHC 6.4 to crash with a 'Maybe.fromJust: Nothing' /-:
17:54:32 <Cale> Lemmih: ouch
17:54:53 <Pseudonym> Lemmih: Use jhc!
17:57:09 <Cale> JHC sounds interesting. If the problems with its own performance can be somewhat resolved it seems like it might be quite decent.
18:00:01 <KrispyKringle> If you do an explicit module export list (module Foo (...) where), how do you export data types?
18:00:36 <Heffalump> how slow is it?
18:01:06 <Heffalump> KrispyKringle: Goo or Goo (..) depending on whether you want just the type or the type+data constructors (IIRC)
18:01:17 <KrispyKringle> Heffalump: ah.
18:01:28 <KrispyKringle> So Foo (Const, Bar, Glorp) ? :P
18:02:01 <Heffalump> the (..) was intended literally
18:02:09 <KrispyKringle> oh
18:02:09 <KrispyKringle> haha
18:02:11 <KrispyKringle> ok
18:02:17 <Heffalump> I think if you want just some data constructors you should export Foo, and then the individual data constructors separately
18:02:33 <Heffalump> but I can't quite remember the precise details. Hopefully what I said should point you in the right direction.
18:02:45 <skew> KrispyKringle: although you can list just the constructors you like if you only want some of them
18:02:45 <KrispyKringle> ye[
18:02:46 <KrispyKringle> thanks
18:03:41 <KrispyKringle> got it
18:10:52 <KrispyKringle> hmm. Haddock is complaining about a parse error on a line that has no comment. Weird.
18:13:46 <Lemmih> WOOT!
18:14:01 * Lemmih has installed the very first package with cabal-get.
18:15:11 <Heffalump> oooh.
18:15:24 <Heffalump> everyone here is doing cool stuff, it would seem
18:15:50 <Lemmih> Time to record and push a 500 lines patch.
18:15:52 <KrispyKringle> I'm not. I'm trying to get Haddock to work :P
18:16:08 <Cale> Heffalump: from what I heard, it takes several hundred megs and about 4 minutes to compile hello world
18:16:30 <Cale> but the result is really nice and small :)
18:17:16 * stepcut drools on cabal-get
18:18:35 <blue17> What is meant by: ds   many (do char ','
18:18:35 <blue17>                             digit)
18:20:01 <shapr> blue17: you need to read the parsec tutorial.
18:20:43 <blue17> k
18:21:00 <Lemmih> @seen SyntaxNinja
18:21:01 <lambdabot> I haven't seen SyntaxNinja
18:21:26 <Lemmih> lambdabot: Still dealing with that amnesia, eh?
18:21:27 <lambdabot> Not a command (no @).
18:23:16 <Cale> blue17: how is your Haskell coming along?
18:23:28 <blackdog> Cale: That includes the time to compile the standard library the first time, though - it takes less than 5 seconds on my powerbook.
18:24:20 <Cale> blackdog: ah - from what I saw in the notice I thought it was compiling the standard library against your code every time
18:25:44 <skew> From what I heard there's some amount of work it can save
18:26:06 <skew> but it sounds like it does need to generate fresh object code for the standard library every time you compile anything
18:26:27 <Pseudonym> I'm not doing cool stuff.
18:26:33 * Pseudonym pouts
18:28:46 * Heffalump isn't doing cool stuff either
18:29:00 <Heffalump> but I have just been to Iceland, which was cool in multiple ways.
18:29:09 <Pseudonym> Yes, that is cool.
18:29:31 <Pseudonym> Well, I can't find Ross' cabal tutorial.
18:29:46 <Pseudonym> If there aren't tutorials, is there any reference documentation at least?
18:34:04 <KrispyKringle> wtf. You would use haddock like "haddock -D foo.hs", right? And I should get some interface file output?
18:34:34 <Igloo> static char hostname[65] = {'\0'}   in C is only going to set hostname[0], right?
18:34:48 <mauke> Igloo: wrong
18:34:55 <Igloo> Ah, OK
18:34:58 <mauke> C doesn't support partial initialization
18:35:06 <mauke> it'll set all elements to 0
18:35:25 <Igloo> OK, thanks
18:35:44 <Igloo> Would {0, 1, 2} cycle through them, OOI?
18:38:17 <JohnMeacham> Howdy
18:38:22 <Heffalump> you'll probably find data is ZI anyway
18:39:38 * Igloo has decided it's broken no matter how it gets initialised, so it's moot  :-)
18:40:27 <mauke> Igloo: no, it will set the rest to 0, always
18:55:18 <KrispyKringle> So how the hell does Haddock work? haddock -D foo.hs isn't generating any interface file.
19:01:39 --- topic: set to '/quit' by daveo1983
19:02:49 <Lemmih> That sucked...
19:03:38 --- topic: set to '[]' by dons
19:03:50 <JohnMeacham> Does anyone know if there are outstanding FFI issues with GHC on x86_64? I am trying to compile ginsu with it but it segfaults on my curses FFI calls. alternativly, were there any problems getting riot or yi working with 64 bit ghc?
19:04:03 <dons> @topic-cons #haskell http://www.haskell.org/learning.html
19:04:04 --- topic: set to '["http://www.haskell.org/learning.html"]' by lambdabot
19:04:51 <Lemmih> @topic-tell
19:04:51 <lambdabot> do not know that channel
19:05:00 <dons> needs a chan arg
19:05:16 <Lemmih> @help topic-snoc #haskell
19:05:17 <lambdabot> Various commands for adjusting the channel topic
19:05:17 <dons> @topic-tell #haskell
19:05:18 <lambdabot> ["http://www.haskell.org/learning.html"]
19:05:47 <Lemmih> @topic-tell #darcs
19:05:48 <lambdabot> do not know that channel
19:06:14 <dons> I think it has to be one the chans lambdabot is connected to.
19:07:26 <Lemmih> @topic-cons #haskell logs: http://www.tunes.org/~nef/logs/haskell/
19:07:27 --- topic: set to '["logs: http://www.tunes.org/~nef/logs/haskell/","http://www.haskell.org/learning.html"]' by lambdabot
19:07:37 <Lemmih> @topic-reverse
19:07:38 <lambdabot> Unknown command, try @listcommands.
19:08:15 <Lemmih> Someone should mix @plugs and @topic into a ([String] -> [String]) thingy.
19:08:22 <dons> just what I was thinking..
19:08:59 <dons> we'd have to make lambdabot functions available to plugs, so you could compose them haskell style
19:09:03 <dons> that'd be fun
19:11:09 <blackdog> a
19:11:15 <Lemmih> b
19:11:31 <blackdog> wow, you must be a graduate.
19:11:50 <blackdog> :)
19:13:00 <dons> wow. my first stab at @reboot worked.
19:13:16 <dons> Haskell rules.
19:13:49 <Lemmih> Definitely.
19:14:03 <KrispyKringle> i dont know. i don't really like it. i kinda prefer C++, to be honest.
19:14:04 <KrispyKringle> or maybe PHP.
19:14:12 <d`> ;]
19:14:17 <dons> @karma- KrispyKringle
19:14:18 <lambdabot> KrispyKringle's karma has been decremented
19:14:20 <KrispyKringle> I know some of you will scoff at that choice, but I feel that it's the choice for discriminating hackers.
19:14:25 <KrispyKringle> (or is that ocaml? :P)
19:14:29 <KrispyKringle> hahaha
19:15:15 <KrispyKringle> i like how the page about PHP on C2.com is really all about how it sucks.
19:15:42 <tnks> hello all.  I was wondering.  Is there a limit, in say GHC, of the length a single string can be?
19:15:47 <KrispyKringle> no
19:15:49 <KrispyKringle> not per se
19:15:59 <KrispyKringle> strings are [Char], which means tehy can be infinite length.
19:16:14 <KrispyKringle> However, you'll obviously hit a limit of the length of a single string you can *use*.
19:16:21 <KrispyKringle> Presumably related to the heap size.
19:16:54 <tnks> KrispyKringle, how big do you expect heap sizes to be on average?
19:16:54 <KrispyKringle> Someone more familiar with the inner workings of ghc can probably tell you more about that than I; I'd make a guess that it'd just be up to your ulimits.
19:16:59 <dons> @plugs [1..]
19:16:59 <Igloo> That depends on how you use it
19:17:01 <lambdabot> [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,
19:17:01 <lambdabot> 28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,
19:17:01 <lambdabot> 52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,
19:17:01 <lambdabot> 76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,
19:17:01 <lambdabot> 100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,
19:17:01 <lambdabot> 118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,
19:17:04 <lambdabot> 136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,
19:17:05 <KrispyKringle> uh oh.
19:17:06 <lambdabot> [22 @more lines]
19:17:07 <dons> sorry
19:17:09 <KrispyKringle> hehe
19:17:10 <dons> @plugs last [1..]
19:17:15 <lambdabot> Terminated
19:17:21 <dons> that's how big.
19:17:40 <Igloo> print (repeat 'a') will use an arbitrarily large string
19:17:43 <Lemmih> @plugs last [1..] == 1/0
19:17:47 <lambdabot> Terminated
19:17:49 <Heffalump> can lambdabot's line length be reduced?
19:18:01 <dons> line length?
19:18:05 <Heffalump> by somewhere between 12 and 16 characters
19:18:05 <dons> or @more window?
19:18:09 <Heffalump> the point it decides to wrap a line
19:18:13 <dons> ah. ok. hmm.
19:18:27 <blackdog> dons: yeah, i want that too...
19:18:28 <Heffalump> I see '151,152,153,' on the next line each time
19:18:30 <dons> I'll have a look
19:18:59 * Heffalump points out heat death of the universe to Igloo
19:18:59 <Igloo> It's a hack to fix it that way, though
19:19:05 <KrispyKringle> yeah, it should be wrapped to 62 characters.
19:19:22 * Igloo doesn't believe in heat, so that's not an issue
19:19:23 <Heffalump> igloo: shrinking the line length is a hack? What would you suggest, given the limitations of the medium?
19:19:25 <KrispyKringle> er, 61
19:19:54 <Heffalump> personally I'd like it set to 79 - length "[03:18] <lambdabot> "
19:19:58 <Igloo> Creating a better protocol  :-)
19:20:05 <Heffalump> @plugs 79 - length "[03:18] <lambdabot> "
19:20:07 <lambdabot> 59
19:20:22 * Igloo would prefer 1 shorter than that, for example
19:20:29 <KrispyKringle> Heffalump: yeah, same. i was counting out. but in my client, its HH:MM < lambdabot> foo
19:20:36 * Heffalump suggests 55 or so.
19:20:46 <Heffalump> or 64 - length nick
19:21:10 <dons> it's hardcoded in a couple of places, but doesn't look too hard to tweak
19:21:19 <Heffalump> anyway, I'm going to bed.
19:23:12 <KrispyKringle> NO!
19:23:13 <KrispyKringle> fuck
19:23:18 <KrispyKringle> goddamnit.
19:23:27 <KrispyKringle>  i didn't yet record my changes with darcs, and somehow the file got nuked!
19:23:30 <KrispyKringle> i b lame haddock.
19:24:29 <KrispyKringle> god
19:24:40 <TFK> devil!
19:24:41 <Lemmih> Yeah, 'rm -rf' is a very common typo of 'haddock'.
19:24:50 <Lemmih> d-:
19:24:54 <KrispyKringle> no, it got replaced by some binary data
19:25:10 <TFK> 'rm -rf /' is even more common.
19:25:39 <Lemmih> KrispyKringle: What about using cabal to generate Haddock documentation?
19:25:56 <KrispyKringle> Lemmih: what's cabal?
19:26:02 <KrispyKringle> goddamnit. why didn't i record the patch?
19:26:12 <TFK> Scary... all of this stuff really gets logged.
19:26:45 <Pseudonym> Ah, JohnMeacham.  Just the person I wanted to talk to.
19:26:55 <Pseudonym> I think I worked out how to get GRIN working with separate compilation.
19:26:59 <TFK> Is it possible to request removal of a nick+masks for anonymities sake?
19:27:22 <Lemmih> KrispyKringle: The new package system in GHC 6.4. Probably not very relevant if you're using an older version of GHC.
19:27:31 <Pseudonym> But I shall be back after lunch.
19:27:36 <KrispyKringle> im using an older version fo ghc :P
19:29:48 <blackdog> TFK: you're worried. You're not the one who apparently declared his all-consuming lust for other men
19:30:00 <dons> hehe
19:30:22 <TFK> That's right! It wasn't me! I'm innocent (and heterosexual), damnit!
19:30:40 <KrispyKringle> TFK: where are the logs?
19:30:52 <KrispyKringle> oh, topic
19:30:53 <KrispyKringle> right
19:30:53 <TFK> http://www.tunes.org/~nef/logs/haskell/
19:30:56 <TFK> aha
19:31:06 <TFK> blackdog, btw, that wouldn't work if I were a girl ;-)
19:31:09 <JohnMeacham> Cool. I have some ideas too which I want to try at some point.
19:31:35 <TFK> Actually, I'm not that paranoid, but somewhat concerned.
19:31:36 <Lemmih> Enough hacking. Good night, #haskell.
19:31:41 <TFK> Good night!
19:32:06 <KrispyKringle> TFK: if i google you, will i see a lot of embarassing logs?"
19:32:24 <KrispyKringle> or will I get "TimeForKids.com"
19:32:59 <TFK> Well, you could apply sophisticated espionage techniques (=/whois) and thus have more clues about my person.
19:33:12 <KrispyKringle> eh... :P
19:33:16 <blackdog> TFK: looking back over the logs, not only would it still work, it'd be even scarier.
19:33:39 <TFK> blackdog, err... o.o;;
19:33:50 <JohnMeacham> In boquist's thesis, he talks about some ideas in his 'future ideas' section. Although, right now I am not making close to good enough use of my haskell object files. I'd like to see how fast I can get it with those before I play with splitting up the points-to analysis.
19:34:44 <blackdog> JohnMeacham: iirc, GRIN is more or less untyped.  Have you thought about retaining some type info through the compilation? I'd have thought it'd make the points-to analysis more accurate.
19:34:44 <ozone> JohnMeacham: ah, how nice, i'm compiling jhc now :)
19:35:09 <JohnMeacham> That is one of my changes from Boquist. My Grin is typed.
19:35:28 <blackdog> JohnMeacham: oh, sweet. :)
19:37:21 <JohnMeacham> It is pretty necesary for the way I did things, boquist assumed he was on a 32 bit risc architecture, so he actually could have a generic load and store routine since everything was exactly 32 bits. I didn't want to make that assumption so all grin expressions and intermediate values are strongly typed. It does mean some of his transformations don't directly map to jhc because he goes through some intermediate forms where val
19:37:21 <JohnMeacham> ues were not properly typed, but so far I have been able to modify/combine the algorithms in a way that doesn't loose anything.
19:39:45 <blackdog> do you just have value-size types like c--, or do you retain source types?
19:40:58 <JohnMeacham> Oddly enough, the best way to improve the performance of the points-to analysis seems to be implementing better optimizations in the front-end. strictness analysis is very important. It leads to the strange case where adding optimizations actually speeds up the compiler. this is why there isn't a special '-O' option in jhc. unoptimized, programs would never compile.
19:42:33 <blackdog> I've heard of that effect - is it because it reduces the size of the C source files?
19:42:36 <JohnMeacham> The typing is on a different level than source types. Grin types are closer to the level of C types as they define the representation of data.
19:42:57 * CosmicRay returns
19:42:59 <JohnMeacham> it reduces the number of unknown-thunk evaluations.
19:43:04 <CosmicRay> hey blackdog, what happened to you last night?
19:43:46 <blackdog> my sudden conversion to foulmouthed homosexuality, you mean?
19:43:51 <CosmicRay> yes, that
19:43:57 <JohnMeacham> basically, moving the evaluation of a thunk closer to its creation is always a win because then the points-to is much more likely to figure out the exact call it needs to make. The worker-wrapper transform is key.
19:44:00 <blackdog> I left my terminal open when I went for lunch, and my boss took over my terminal.
19:44:07 <CosmicRay> your boss, heh
19:44:53 <blackdog> JohnMeacham: why does that increase speed of compilation, though? I can understand how it'd speed up the compiled program.
19:44:53 <CosmicRay> kind fella
19:45:33 <blackdog> yah. he's just jealous of my schmick laptop, l33t haskell skillz, and prodigious member. :)
19:45:38 <JohnMeacham> Ah, because most of the time of compilation is spent in points-to analysis. less thunks means less things it has to figure out.
19:46:22 <blackdog> Ah, gotcha. Do you have a complexity analysis for the points-to?
19:46:39 <blackdog> ISTR it had some pretty horrendous worst cases and a much nicer average case
19:47:01 <JohnMeacham> I should say, most time in the final link stage. a considerable amount of time is spent in the generation of the haskell object files beforehand, but I consider that 'free' as it is only related to the size of the changes to your program and not the entire program in practice.
19:47:57 <JohnMeacham> Yes. but mine has a horrible bug which I have not been able to track down which makes it take way too long. If anyone has better chaotic iteration code it could help things drastically.
19:48:30 <blackdog> in the system linker, or in your code?
19:48:45 <blackdog> or do you just spit out a standalone exec?
19:49:03 <JohnMeacham> The thing about my chaotic iteration engine, I use it all over the place. the points-to analysis. CPR, strictness, determine module import/exports. etc... speed-ups there can affect a lot of things for the better.
19:49:51 <JohnMeacham> I was refering to my 'link' phase. which is sort of a misnomer. basically what jhc does after it has collected all the 'ho' files together and wants to produce an executable.
19:51:37 <JohnMeacham> My basic plan of action for speeding up jhc is moving transformations from the link phase to the ho-generation phase. gosh these need better names :)
19:51:53 <blackdog> no, leave 'em. "ho-generation phase" is pure gold.
19:52:10 <blackdog> pimpin', haskell styleeeeeeee
19:53:09 <blackdog> so have you done any performance testing yet?
19:53:18 <JohnMeacham> hehe. Yeah, it is tricky, because I both do whole-program analysis and seperate compilation of a sort. the units of seperate compilation and the linking phase are just defined by jhc rather than being the .o format of the platform.
19:53:45 <blackdog> makes sense - you don't want to have to recompile system libraries over and over.
19:54:26 <JohnMeacham> not until I get all of nofib to compile. I am about 80% there. Also, GHCs global transformations are very advanced, I need to adapt them before I can make anything near a fair comparasin.
19:56:48 <JohnMeacham> Yeah. I am starting support for a 'hl' file, or a 'haskell library' which will have the same basica format as a 'ho' file, but take a bunch of them and optimize them as a unit and let the user hide modules saying they are private. This will make it as if those modules do not exist from outside the 'hl' file, but more importantly let the optimizer go at them as if they were complete programs.
20:01:08 <JohnMeacham> Does anyone know if there is a strictness analysis algorithm more advanced than this one? http://citeseer.ist.psu.edu/493889.html
20:01:33 <JohnMeacham> What was your idea Psuedonym?
20:03:40 <dcoutts> JohnMeacham: that's exactly the paper I would have suggested, so I don't know of any more advanced
20:04:59 <JohnMeacham> So many strictness analysis papers mention they were used in ghc. which one actually describes the current implementation?
20:06:03 <SamB> JohnMeacham: it is possible that there isn't one that describes the current implementation well...
20:06:11 <JohnMeacham> Okay. Strictness is so important for jhc's optimizer, I don't mind spending more resources on it. especially since it can be done at the ho-generation phase.
20:06:25 <dcoutts> I don't think it exactly corresponds to any but was based on bits and pieces of other papers
20:06:28 <SamB> I would guess that the one with the latest date would be most likely, though...
20:07:18 <SamB> dcoutts: wouldn't it be more that bits and pieces of it are left over from when the papers were written?
20:08:15 <JohnMeacham> Well, sometimes I think they just use ghc has a testbed and the changes arn't integrated into the main tree. I belive that was the case with the HORN clause paper.
20:09:15 <dcoutts> I mean that it uses a partial implementation of some things suggested in papers, eg I don't think Launchbury's projection based analysis was ever fully implemented iirc
20:10:07 <dcoutts> JohnMeacham: that was indeed the case with the HORN clause paper, I was talking to one of the author the other day.
20:10:19 <JohnMeacham> AFAICT this paper seems to be the closest, but doesn't go into great detail. http://research.microsoft.com/users/simonpj/papers/simple-strictnes-analyser.ps.gz
20:11:03 <dcoutts> He seemed to think that the difference in results between the current ghc analysis and his one were not so great anymore (ie the GHC one has been improved)
20:11:47 <dcoutts> but that may be different for jhc since it is so sensitive to the strictness analysis
20:12:24 <JohnMeacham> Well, it seems like the HORN clause framework might be usable for more than just strictness analysis. like update and usage analysis. but I have not put too much thought into it.
20:13:11 <dcoutts> there was greatest difference in the less straightforward code, I can't remember if it was the particularly good for higher order stuff or for polymorphic stuff but something like that
20:13:50 <dcoutts> I've been looking into the HORD clause framework to see if it would be good for binding time analysis
20:14:02 <dcoutts> HORD/HORN
20:14:24 <JohnMeacham> ah. is there a good HORN clause solver written in haskell out there?
20:14:49 <dcoutts> I don't know of one, they were using bindings to a C lib right?
20:15:28 <JohnMeacham> yeah. but I don't want to do that. I'd prefer to write it in haskell then improve jhc until it compiles it to be as fast as a C version. like an incentive :)
20:16:19 <heatsink> How would you know when it's as fast as a C version?
20:16:43 <dcoutts> sure :-) I'm afraid that this constraint programing is mostly foreign to me, I really don't know much about HORN clauses
20:16:49 <JohnMeacham> when people stop complaining about how slow it is :)
20:17:43 <heatsink> :D
20:17:44 <SyntaxNinja> w99t
20:18:52 <wagle> anyone encoded TSP into googlemaps yet?
20:24:37 <SyntaxNinja> what's tsp?
20:28:12 <lispy> traveling sales person
20:28:23 <lispy> i'm guessing
20:31:09 <JohnMeacham> code.google.com lists various hacks people have done. my favorite is http://paulrademacher.com/housing/
20:31:49 <wagle> "Traveling Salesman Problem"
20:34:17 <wagle> i just notived that it was taking a while to compute 2400 mile trips
20:52:59 <SyntaxNinja> has anyone here played with cabal2rpm?
20:53:05 <SyntaxNinja> or can you tell me what a spec file is? :)
20:58:17 <wagle> an rpm spec file?
20:59:26 <SamB> it is a thing full of cryptic words and % signs that is used to build an RPM, iirc
20:59:46 <SamB> also shell code
21:01:28 <JohnMeacham> Hmm.. perhaps I am confused. ghc 6.4 x86_64 seems to be treating an foreign import of "&foo" as importing the value of foo itself, rather than a pointer to foo...
21:02:07 <SyntaxNinja> hey JohnMeacham!
21:02:25 <SyntaxNinja> wagle: yeah.  trying to get a good definition.
21:03:07 <JohnMeacham> heya!
21:04:02 <SyntaxNinja> JohnMeacham: I had an idea about your compiler :)
21:04:29 <JohnMeacham> is this a known bug? hmm. seems like it would be a showstopper...
21:04:42 <JohnMeacham> cool. what is it?
21:04:52 <SyntaxNinja> JohnMeacham: I think you should hack cabal to be able to build packages using it. that way you can take any cabal-ized package and build it with your compiler really easily.
21:05:06 <SyntaxNinja> also, once hackage gets online, you'll have a bunch of test cases where you can check to see whether your compiler builds the code.
21:05:32 <SyntaxNinja> and maybe we can even do something for packages that provide a ./setup test target.
21:06:01 <JohnMeacham> Yeah, that is a good idea. my immediate goal is to get all of nofib to compile. once I am confident it will work on most everything people throw at it, I will look at integrating it with cabal.
21:06:21 <wagle> an rpm spec file directs how to build an rpm file
21:07:10 <JohnMeacham> There are still some major bugs. like.. an embarassing one I found, I just plain forgot to implement irrefutable patterns. doh! strange it didn't show up before.
21:07:22 <KrispyKringle> hmm. If I want to insert an external stylesheet in a WASH page, I can't use standardQuery? Since that doesn't allow me to modify the <head> contents?
21:07:24 <SamB> JohnMeacham: maybe nobody has ever tried to import "&foo" before?
21:07:28 <SyntaxNinja> JohnMeacham: :)
21:07:34 <KrispyKringle> anyone?
21:07:38 <wagle> there are two kinds of rpm files..  src rpm, and binary rpm
21:08:01 <SyntaxNinja> wagle: I think I got it at this point; I was trying to figure out exactly the difference between dh_haskell and cabal2rpm
21:08:12 <skew> JohnMeacham: I thought you provided the type yourself
21:08:31 <skew> maybe foreign import "&foo" :: Ptr Foo would work better?
21:08:37 <wagle> SyntaxNinja: is there a remaining question about rpm itself?
21:09:04 <JohnMeacham> You do. but when I do an import "&foo" :: Ptr CInt and print it out, I get the value of the int rather than its location.
21:09:23 <skew> I think I've gotten that to work for me
21:09:50 <SyntaxNinja> wagle: I think I understand it enough at this point.  Thanks :)
21:10:02 <JohnMeacham> I have too. ginsu uses it in a lot of places, but this here ghc-6.4 x86_64 rpm seems to be doing the wrong thing.
21:10:08 <SyntaxNinja> wagle: I might have more questions in a few minutes ;)
21:14:25 <SyntaxNinja> wagle: so if cabal2rpm generates a spec file, is it fair to say that it's generating a skeleton source RPM?
21:15:33 <wagle> SyntaxNinja: no.  source rpm's are unpacked.  that unpacked rpm can be rebuilt, producing new source and binary rpms
21:16:21 <wagle> the spec file directs how to do this from the unpacked source rpm
21:18:35 <Pseudonym> Back.
21:18:53 <Pseudonym> JohnMeacham: Ah, yes.
21:19:12 <Pseudonym> My problem with GRIN is that, as far as I can see, it throws away type information.
21:19:48 <Pseudonym> Using the points-to analysis as a kind of pseudo subtype system.
21:20:18 <JohnMeacham> My Grin is typed, unlike boquists. but its typing is at a different level than in core.
21:20:26 * Pseudonym nods
21:20:42 <Pseudonym> My idea is to use an old idea from pre-Haskell 98.
21:20:52 <Pseudonym> Basically, you make "eval" a typeclass.
21:21:01 <Pseudonym> Which every type is a member of.
21:22:16 <Pseudonym> (You can use this typeclass for other purposes, too, such as "seq" or garbage collection.)
21:22:33 <Pseudonym> Every non-basic type gets another constructor.
21:22:51 <JohnMeacham> I don't understand, why would I need a typeclass? typeclasses are completly compiled away well before grin code.
21:23:05 <Pseudonym> I'm thinking at a higher level.
21:23:29 <Pseudonym> The problem with GRIN and separate compilation is that eval needs to know about every type constructor and supercombinator.
21:23:44 <Pseudonym> By making eval a typeclass, you turn one big eval into lots of little evals.
21:23:47 <JohnMeacham> Since jhc core is based on the lambda cube, types are values. * is in fact an algebraic data type with one constructor for each haskell-level type.
21:24:26 <Pseudonym> I'm only thinking of it as a typeclass from a language-level point of view.
21:25:38 <JohnMeacham> But the way typeclasses are implemented is via a case statment. so you turn the big case statement in eval, into a big case statement in deciding which types eval to use.
21:25:57 <Pseudonym> Oh.
21:26:04 <Pseudonym> You don't pass explicit dictionaries and then use deforestation?
21:26:09 <JohnMeacham> nope.
21:26:13 <Pseudonym> Hmmm.
21:26:23 <Pseudonym> I think that's a mistake if you want separate compilation.
21:26:51 <Pseudonym> GRIN's optimisations should be enough to optimise explicit dictionaries into decent code.
21:27:11 <JohnMeacham> it has a lot of pervasive advantages which I mention on the main jhc page. and I do have seperate compilation now, just at a level defined by jhc rather than at the object code/OS linker level.
21:27:18 * Pseudonym nods
21:27:24 <Pseudonym> I'm thinking at the object level.
21:27:27 <machack666> Pseudonym: thanks for your pointer to yaht... that is really good.
21:27:38 <skew> I think you could use dictionaries at your compilation boundaries
21:27:47 <blackdog> most of the grin optimisations don't make much sense unless you're doing them whole-program anyway, i think.
21:27:56 <Pseudonym> blackdog: I'm not so sure.
21:28:00 <JohnMeacham> The higher order functions of dictionaries would turn into case statements anyway. my typeclass transformation does the same thing much earlier and more efficiently.
21:28:23 <Pseudonym> I think you could do it right with separate compilation.
21:28:43 <Pseudonym> The mistake that people have been making pre-GRIN is to assume graph reduction as the common case, then optimise specific cases.
21:28:50 <Pseudonym> I think you could do it the other way around.
21:29:15 <Pseudonym> Assume GRIN-style optimisation as the common case, then allow "old" behaviour as an uncommon case.
21:29:34 <Pseudonym> It does require inter-module optimisation, but GHC does that now.
21:30:01 <JohnMeacham> Yeah. that is one of the ideas proposed in Boquist's full thesis. I might implement something like that in order to do 'so's. but not anytime soon.
21:30:15 * Pseudonym nods
21:30:22 <skew> That's about what I was thinking
21:30:54 <skew> it should be possible to make an InstanceOfShow type, where the value actually wraps up a dictionary, and the instance calls functions out of the wrapped dictionary
21:31:32 <Pseudonym> I think it's very important to specialise "higher order" functions.
21:31:50 <Pseudonym> Because they stuff things up.
21:31:57 <Pseudonym> But that's okay.  Even C++ does that. :-)
21:32:09 <JohnMeacham> Basically I would just add an extra branch to case statements matching wildcard and calling the 'generic' eval or the 'generic' type class method finding function. But I am not convinced such a thing will be necesary.
21:32:19 <skew> I was thinking about how to wrap up dictionary passing into the case analysis on types that jhc is using now
21:32:46 <Pseudonym> data Bool = False | True | forall a. Bool_Thunk (a -> Bool) a
21:33:36 <JohnMeacham> Well, there is no need for that, all lifted values implicitly may contain thunks which evaluate to them.
21:33:41 <Pseudonym> Does Boquist talk about GC in his thesis?
21:34:08 <JohnMeacham> not much. there isn't really anything special that needs to be done to support traditional GCs
21:35:41 <JohnMeacham> The node (what I call heap locations) layout is completly defined by its tag, which the GC can switch on.
21:43:30 <JohnMeacham> since boquist also wrote his code generator, he does talk about some nitty gritty details of the GC like the exact node layout in memory. But I leave that to the C compiler. (or cminusminus someday).
21:44:11 <JohnMeacham> I found his register allocation stuff very interesting. But if I were  to implement it, I'd do so in a c-- compiler ghc and jhc can share as that would probably be the most effective use of my time.
21:45:01 <jesse99> if I have a Term GADT with Boolean and Literal constructors, why can't I write a function like this:
21:45:06 <jesse99> foo v = if v > 0 then Boolean False else Literal 0
21:45:22 <jesse99> I get a "Couldn't match the rigid variable `a' against `Term Bool'" error
21:45:24 <JohnMeacham> Hmm http://repetae.net/john/ghc-bug.tar.gz contains code to demonstrate the bug. iff it segfaults, your ghc has the bug.
21:46:05 <jesse99> well, "Couldn't match `Bool' against `Int'" if I remove my explicit type for foo
21:47:13 <skew> jesse99: is your type data Term, or data Term a?
21:47:25 <jesse99> data Term a
21:47:42 <skew> the result types of the if need to unify
21:48:04 <skew> Boolean only makes Term Bool and Literal only makes Term Int, but that still doesn't make Term Bool == Term Int
21:48:26 <mauke> what if data Term a = Boolean Bool | Term a?
21:48:34 <jesse99> hmm, that seems like its going to hose me
21:48:36 <mauke> er, Literal a
21:48:49 <skew> As I understand it, GADT's just let you use a more specific type in a case over a polymorphic term
21:49:37 <skew> doing the case analysis on the boolean v > 0 doesn't give you enough information to restrict the types in the two cases
21:49:43 <jesse99> that seems to make GADTs a lot less useful
21:50:17 <JohnMeacham> can someone with ghc 6.4 on a 32 bit x86 report back on what ghc-bug.tar.gz does?
21:50:18 <jesse99> I thought the whole point was that you could pass these things around and use pattern matching to extract the detailed type info
21:50:30 <skew> The natural eval :: a -> Term a works because even though you are patently returning a Bool in the Boolean case, you know that a had to be Bool to even reach that case
21:50:43 <skew> what type do you expect your function to have?
21:51:01 <jesse99> hmm
21:51:05 <jesse99> Term :-)
21:51:21 <jesse99> Term _
21:51:29 <skew> if you want to make an untyped language, you might want to use data Term = ...
21:51:43 <skew> or, maybe you want to return an existential, exists s. Term s
21:52:35 <skew> something like data ExistsTerm = forall a . ExistsTerm (Term a(
21:53:37 <jesse99> didnt seem to like that, Couldn't match `ExistsTerm' against `Term Bool'
21:53:53 <skew> you need to wrap things up in the ExistsTerm constructor
21:55:24 <SyntaxNinja> wagle: I don't quite understand what you said about unpacking source RPMs
21:55:51 <SyntaxNinja> so a source RPM is "packed up" in a way? what's the "unpacked RPM" called?
21:56:10 <jesse99> grr, I dont see how I can write a parser that returns a GADT then (barring that existential stuff)
22:11:17 <skew> jesse99: I don't think you can, unless you can statically determine the type that you are expecting the result to have
22:11:58 <skew> and short of dependent types you'll have a hard time turning any kind of type signature in the text into a result type
22:12:57 <skew> I think a GADT wrapped in an existential might work, but I don't know what it would buy you
22:21:41 <mwc> yi:
22:21:41 <mwc> /usr/local/lib/yi/HSyi.o: unknown symbol `_stg_int64ToInt'
22:21:41 <mwc> yi: user error (resolveObjs failed with <<False>>)
22:21:54 <dons> which ghc, which os?
22:22:03 <mwc> what do you think, is that a problem with Yi or is it GHC/environment
22:22:15 <mwc> GCC 6.4, OS X 10.3.9
22:22:28 <dons> it's a known bug with ghc-6.4 on OS X.
22:22:32 <mwc> Ah
22:22:47 <dons> i have yet to track it down. use yi-static for now.
22:23:11 <mwc> Hmm, nifty, it's hs-plugins?
22:23:35 <dons> what is?
22:23:42 <mwc> the source of the problem
22:24:09 <mwc> if you want me to run any tests on the OS X build, gimme a shout
22:24:17 <dons> somewhere along the line in the changes to dyn loading on the mac, something broke, or some expectation hs-plugins had broke
22:24:32 <dons> there's been a lot of changes to the linker for the mac between 6.2.2 and 6.4
22:24:43 <dons> but I have access to a mac, so it'll get fixed.
22:25:04 <mwc> What API are you using for linking in? dlcompat? the dyld suspects?
22:25:30 <dons> I use the GHC runtime system, which implements its own linker
22:25:33 <mwc> ahhh
22:25:44 <mwc> That sounds... scary
22:27:33 <dons> just a little bit.
23:00:20 <dons> hmm, _stg_int64ToInt should probably be added to the syms in Linker.c
23:02:21 <dons> doh. stupid bug. i've been spinning in circles.
23:02:33 * dons injects some green tea
23:17:11 <xerox> 'morning
23:25:22 <TFK> morning indeed
23:26:39 <daveo_wales> hiya
23:29:08 <TFK> hacing connection problems?
23:29:10 <TFK> *having
23:29:13 <xerox> dons, ping!
23:29:23 <dons> hey
23:30:12 <daveo_wales> morning haskell hackers
23:30:19 <xerox> dons, did you receive my patch?
23:31:18 <dons> @type 1 {- foo -} + 2
23:31:20 <lambdabot> 1  + 2 :: forall a. (Num a) => a
23:31:22 <dons> :)
23:31:42 <xerox> ^__^
23:45:45 <a5> is there a good irc math channel?
23:46:24 <TFK> There's #math...
23:47:34 <a5> hmm. they weren't helpful last time i looked. i thought it was mostly homework stuff
23:47:57 <a5> i thought there might be a better channel on a different server
23:48:41 <KrispyKringle> hmm. Anyone have a handy diff algorithm i can borrow? :P
23:51:01 <dons> darcs has one.
23:51:15 <dons> Pseudyonym wrote one, as well, I think.
23:51:21 <KrispyKringle> dons: ah, good point. darcs.
23:51:23 <KrispyKringle> right.
23:51:26 <dons> @spell Pseudyonym
23:51:28 <lambdabot> Pseudonym Pseudonyms Pseudonym's Pseudonymous
23:51:39 <KrispyKringle> heh
23:52:05 <dons> there's also plenty of papers on this, I'm sure.
23:52:07 <Gahhh> a5: what do you need help with ? (just curious)
23:52:16 <KrispyKringle> dons: yeah. i was being lazy.
23:53:07 <Pseudonym> Yeah, we do maths here.
23:53:07 <dons> :}
23:53:30 <sqrt> a5: try efnet's math
23:53:35 <sqrt> (i think)
23:53:47 <Pseudonym> efnet also has a good algebraic topology channel
23:53:59 <a5> Gahh: i have a paper that needs looking over
23:54:14 <a5> thanks
23:54:53 <sqrt> Pseudonym: really? argh, why didn't I know? #Algtop ? (tries immidiately)
23:56:51 <KrispyKringle> haha
23:56:55 <KrispyKringle> algebraic topology?!
23:58:29 <KrispyKringle> man, darcs is so neat.
