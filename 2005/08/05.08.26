00:00:59 <Itkovian> stefanw: *LSP> run (sepBy (comma lang) letter) "ll"
00:00:59 <Itkovian> []
00:01:30 <stefanw> ah, but letter comes not from ParsecToken! You should then use letter >> (whiteSpace lang) or use some parser from ParsecToken and not letter
00:02:01 <stefanw> that's clear, because letter parses ONE letter, but "ll" consists of TWO letters
00:02:13 <Itkovian> right
00:02:25 <Itkovian> but l,l yields the same result
00:02:35 <Itkovian> ok
00:02:38 <Itkovian> trying ...
00:03:19 <Itkovian> nope.
00:06:23 <lispy> how hard would it be to write some forum software in haskell?
00:06:30 <lispy> using...i dunno, WASH for example
00:07:46 <gzl> not that hard
00:08:08 <Heffalump> don't do it!
00:08:10 <gzl> I think it would take longer to get used to WASH than it would take to write the forum software
00:08:12 <mwc> @seen shapr
00:08:13 <lambdabot> I saw shapr leaving #haskell 17 hours, 33 minutes and 39 seconds ago.
00:08:15 <Heffalump> The world already has far too much forum software.
00:09:18 <mwc> Hmmm... but are any of them really functional?
00:09:36 <mwc> THey're all certainly filled to capacity with lazy
00:10:05 <lispy> Heffalump: yeah...i was just looking at them
00:10:23 <Heffalump> make something that uses an NNTP backend and you'll actually have done something useful
00:10:28 <lispy> Heffalump: so many have cluttered, slow interfaces with not really enough features
00:10:46 <mwc> that NNTP backend would be a really slick feature
00:10:48 <boegel> dcoutts: ping
00:11:12 <lispy> why NNTP?  does anyone still use that?
00:11:19 * mwc shiftily pockets Heffalump's idea
00:11:35 <mwc> lispy: because it does exactly what these forums do; in a robust and well documented way
00:11:46 <Heffalump> yes, lots of people do.
00:11:52 <mwc> plus you could just thunderbird in and leave the web junk behind
00:12:01 <Heffalump> it's like IRC rather than web chat.
00:12:19 <lispy> what about non-text content?
00:12:22 <Heffalump> standard protocol, properly done, you get distributed behaviour for free if you want it
00:12:25 <lispy> how would you deal with that?
00:12:29 <Heffalump> posts can use MIME
00:12:30 <mwc> lispy: html messaging?
00:13:07 <lispy> hmm...
00:13:21 <Heffalump> mwc: you're welcome to my idea, but let me know if you implement it :-)
00:13:53 <mwc> I'll add it to my heap of begun but perpetually uncompleted hobby projects
00:14:07 <lispy> http://fudforum.org/forum/index.php?t=msg&goto=5960&
00:14:10 <mwc> I need a job where I don't actually have to do anything
00:14:25 <mwc> Rather where I can just walk around and consult with people for 10-15 minutes and move on
00:14:46 * mwc is horrified to discover he's a born middle manager
00:16:05 <mwc> Oh well, those who can't do; teach.
00:16:13 <gzl> and those who can't teach, teach gym
00:16:19 <mwc> haha
00:16:30 <gzl> (apologies to woody allen)
00:16:40 <mwc> I always knw "those who can't teach become critics
00:16:44 <Heffalump> newsgroups do allow deleting/editing posts
00:16:52 <Heffalump> check out cancels and supercedes
00:17:14 <mwc> Back in highschool, we had a gym teacher/football coach/junior physics teacher
00:17:21 <lispy> i'll probably just use FUDforum
00:17:30 <mwc> and he knew his stuff way better than the geography/junior chem guy
00:17:34 <gzl> in middle school I had a history teacher/ex-marine/bedwetter
00:17:45 <gzl> that was an odd combo
00:18:00 <mwc> gzl: I don't wanna know how you found all that out :S
00:18:13 <gzl> I'm extrapolating from the fact that he kept crying
00:18:16 <gzl> when people talked in class
00:18:30 <gzl> then the history period would end and he would go do 200 one-finger pushups
00:18:33 <gzl> truly bizarre
00:18:40 <mwc> Hahaha, he was probably a PTSD case. His buddy died in his arms of a bullet wound while people just talked.
00:19:22 <mwc> Man, if he was doing that anywhere else I'd say it was a pure pickup angle; women love a wounded guy
00:19:37 <Itkovian> stefanw: btw, it's not that I want to have a list of p's separated by comma's, rather I wish to parse a list of several parsers, retaining their order, but separated by comma's
00:19:54 <gzl> my friend took that philosophy to an extreme
00:19:58 <gzl> he stabbed himself in the arm
00:20:08 <mwc> I broke my leg... twice.
00:20:49 <mwc> Of course, after I broke my leg 1 week after getting the cast off, my gf left me 2 weeks later. Apparently I'm a mean ass cripple.
00:21:34 <mwc> gzl: didn't Van Gough cut his ear off and send it to a broad? Or has a FOX animated sitcom lied to me?
00:22:28 <gzl> van Gogh, but he did
00:22:32 <Fri26821> van Gogh just used a bit too much of the wrong drug i guess hehe
00:22:42 <gzl> that's probably true
00:22:55 <gzl> he had a mental breakdown that might have had something to do with absinthe
00:23:03 <gzl> that led to The Ear Incident.
00:23:05 <Fri26821> yep
00:23:11 <Fri26821> absinth it was
00:24:15 <mwc> I'm more of a fan of a good old Nietzschean breakdown
00:24:40 <Fri26821> seeing a horse get beaten and totally breaking down as a result?
00:24:59 <Fri26821> as the result of syfilius which he got from some whore while serving the country?
00:25:00 <mwc> Some would say it was the Syphillis
00:25:27 <Fri26821> :) beat ya to it :)
00:26:04 <mwc> Fri26821: actually, that's probably a vicious rumor spread by the church; it's not likely he had syphillis. It's more likely that his particular genius was founded on insanity, and he went a little too far
00:26:05 <boegel> hello Fri26821 (no dumb jokes today :) )
00:26:17 <mwc> What's that, your zip code?
00:26:37 <Fri26821> mwc, i have read lots of credible books and they do state that is very probable that he got sifilus while serving in the army from some whore
00:26:46 * boegel wonders why his load average of his system keeps pointing towards 8.5 :|
00:26:56 <boegel> mwc: random number
00:26:59 <Fri26821> hi boegel
00:27:37 <mwc> Fri26821: I'll take your word for it atm; I'm stuck in runlevel 3 for a major system upgrade. At least I managed to make a ghetto 2 line mp3 player to wile away the time
00:27:40 <Fri26821> boegel, depends, are you compiling my application by any coincedence :D
00:27:55 <Fri26821> :) that is nice
00:28:08 <mwc> Fri26821: what's your app?
00:28:20 <Fri26821> i listen to music so often lately...that something seem to be out of place when there's no music on :D
00:28:27 <boegel> Fri26821: I'm not doing anything that should stress my system
00:28:42 <boegel> Fri26821: I have that too "Put on some damn music will ya !"
00:28:43 <Fri26821> ow mwc, i was joking because my current app (program analysis on C programs in Haskell) is quite mem hogging etc
00:28:46 <mwc> Fri26821: I know what you mean; hence: for SONG in *; gst-launch filesrc location=$SONG ! spider ! alsasink
00:28:50 <Itkovian> @hoogle GenParser tok st a -> TokenParser st
00:28:51 <lambdabot> Prelude.fromIntegral :: (Integral a, Num b) => (a -> b)
00:28:51 <lambdabot> Prelude.realToFrac :: (Real a, Fractional b) => (a -> b)
00:28:51 <lambdabot> Prelude.round :: (RealFrac a, Integral b) => (a -> b)
00:28:59 <Itkovian> hmm
00:29:11 <Fri26821> haha cheers Itkovian
00:29:14 <Heffalump> lol
00:29:32 <Heffalump> @hoogle String -> String
00:29:33 <lambdabot> Prelude.id :: (a -> a)
00:29:33 <lambdabot> Prelude.error :: (String -> a)
00:29:33 <lambdabot> Prelude.succ :: Enum a => (a -> a)
00:29:41 <mwc> It's neat since I started getting into haskell. I keep seeing names in all sorts of textbooks and get all excited
00:29:52 <Heffalump> names?
00:30:06 <mwc> Yeah, like Simon Peyton Jones referenced in this compiler theory book
00:30:10 <Heffalump> ah
00:30:21 <mwc> or they reference "famous" papers like Wadler's monad stuff
00:30:22 <boegel> my cpu keeps working at 100%, whilst my system monitor doesn't show any apps working with great percentages :s
00:30:27 <boegel> help ? :(
00:30:29 <Fri26821> the two simons will be making more appearences if your doing something with haskell :D
00:30:38 <Itkovian> boegel: you have cautght
00:30:39 <Fri26821> boegel, are you using windows?
00:30:42 <Itkovian> edfhjlaesdvcb sfdvl bsf
00:30:50 <Itkovian> boegel: you have caught the simulation bug
00:31:04 <Itkovian> people in your office grab every possible cycle
00:31:13 <Itkovian> and they are elusive
00:31:22 <vikasg> mwc, after learning Haskell I can actually try to *read* some of those papers :)
00:31:24 <boegel> Fri26821: no, Fedora Linux
00:31:30 <mwc> boegel: try vmstat if you're on linux; reports a breakdown of CPU use
00:31:33 <boegel> Itkovian: :)
00:31:38 <Itkovian> boegel: there is your first mistake :-)
00:31:54 <mwc> vikasg: heh, I'm an applied mathematician; Haskell is my dream language
00:31:55 <Fri26821> its Itkovian again banging on fedora....
00:31:56 <Fri26821> :)
00:32:37 <mwc> Heh, I havne't upgraded my ARCH system in a while; it's currently pulling down 484 MB of updated packages
00:32:44 * Itkovian has a working, albeit rudementary, parser
00:32:45 <Itkovian> yes!
00:32:53 <Itkovian> dcoutts: hear hear
00:32:54 <vikasg> mwc, a friend of mine was flabbergasted when i wrote 'fac (n+1) = (n+1) * fac n' and told him it was executable code
00:33:00 <Itkovian> lol
00:33:04 <boegel> hmm, seems like killing Thunderbird improved the situation
00:33:19 <Itkovian> hmm.
00:33:38 <mwc> vikasg: I like to do the recurssive fibonacchi list example. That blows minds
00:33:40 <Fri26821> haskell suprises me everytime again in how literally you can put math into it
00:34:17 <mwc> I know, I can't wait under my modelling and simulatino course. I'm gonna be pimping the Haskell
00:34:30 <mwc> s/under/for
00:34:39 <Fri26821> and completely naive written programs can still perform well because of lazyness
00:34:46 <Fri26821> :D
00:34:58 <vikasg> after programming Haskell for a while I have enough confidence to approach lambda calculus :)
00:35:29 <Fri26821> ow hehe, i think i got it the other way around
00:35:37 <Fri26821> showed us lambda calc first
00:37:04 <mwc> Hah, man, I had a TA trying to convince students to do their numerical analysis assignments in Python. Most of the kids used Java; a few C; and I was the only Haskeller
00:37:23 <mwc> I actually got away with running Haskell through a TeX pretty printer and handing it in as pseudocode :D
00:37:27 <gzl> what is "modelling and simulation"?
00:37:38 <gzl> er, stupid question
00:37:38 <Fri26821> hehe
00:37:40 <gzl> I mean, modelling of what
00:37:54 <boegel> brb
00:38:00 <Fri26821> the guy thought it was some formalisation of the problem while it was the haskell program in reality? :D
00:38:18 <mwc> gzl: It's an applied math course where we study how to break a complex system down and write a few dodgy linear PDEs and pass it off as a meaningful model
00:38:54 <gzl> right, but what kind of system
00:39:20 <mwc> Quoth our department chair on the first day of differrential equations. "In second year, you're only gonna see linear DEs. Later, we'll do serious violence to the model in the name of linearity."
00:39:21 <Itkovian> gzl: like erm pendulums
00:39:30 <mwc> gzl: anything really.
00:39:36 <mwc> It's a fairly abstract course
00:39:38 <Itkovian> i had such a course once.
00:39:41 <gzl> ok
00:39:44 <Itkovian> it sucked
00:39:54 <gzl> well, a more specific course could be on something like financial modeling, for example
00:40:08 <gzl> was wondering if it was more specific or not
00:40:21 <mwc> Itkovian: this is an applied maht course; our department specializes in numerical analysis, theoretical physics, and biological mathematics. SO I think it will be mostly things from the latter two
00:40:30 <mwc> gzl: no, this is about the math and motive
00:40:33 <gzl> ok
00:40:52 <Itkovian> mwc: ok ... we did mostly pumps, etc.
00:41:03 <mwc> Itkovian: physics, engineering?
00:41:42 <Itkovian> we never were taught how to derive the PDE's themselves, only how to solve them using a very sucking programming language running on AIX, of which only one machine was available, and on top of that the various projects had errors in them. duh.
00:42:05 <Itkovian> my pendulum started swinging harder after each time the two of them crashed into each other. lol
00:42:26 <Itkovian> mwc: I did CS, but it was mainly focused on engineers
00:43:02 <boegel> ok, logging out and back in seems to have fixed it
00:43:16 <gzl> oh
00:43:23 <gzl> well if you don't get to play with the math it's no fun
00:43:52 <Itkovian> boegel: patch is on its way.
00:43:58 <Itkovian> I'm off ...
00:44:00 <Itkovian> ttyl
00:44:09 <mwc> I think the aim of this course is to take a rough idea of the way a system works and be able to figure out it's dynamics
00:44:51 <boegel> Itkovian: I haven't had time to check out the other patch yet, calm down :)
00:45:01 <vikasg> I want to have mutable Scheme pairs (i.e., set-car! should work). Is IORef what I need?
00:47:12 <boegel> oh, he's off already :) and i was wondering why XChat stopped autocompleting nicks, heh :)
00:47:48 <Fri26821> hmmm im glad my CS education is totally focussed on software/compilers
00:48:41 * boegel was satisfied with his CS education... although it was a lot of Java
00:49:42 <mwc> I wonder if Djiksta's adage applies to Java too
00:51:57 <Spark> what is dijkstra's adage?
00:53:37 <mwc> Something about it being impossible to make a competent programmer out of a student who learned BASIC
00:53:55 <mwc> given all the sins it teaches them (GOTOS, spaghetti soup, etc.)
00:54:56 <mwc> What's the difference between an OO Software Architect and a Terrorist?
00:55:24 <vikasg> what?
00:55:28 <mwc> You can negotiate with a terrorist.
00:55:50 <reppie-tan> lol.
00:56:21 <vegai> ;-)
00:56:26 <gzl> "It is practically impossible to teach good programming to students that have had a prior exposure to BASIC: as potential programmers they are mentally mutilated beyond hope of regeneration."
00:57:21 <vegai> I guess Dijkstra wasn't so hot as a pedagogist
00:57:34 <vegai> but then, no-one's perfect
00:58:33 <mwc> gzl: I'll admit that I used Gotos in C up until about 1998
00:58:51 <Fri26821> eeeeeiiiuwww
00:59:00 <gzl> ditto
00:59:01 <vegai> gotos in C still have a valid use in 2005
00:59:22 <Fri26821> not in situations where C has valid use to begin with
00:59:33 <vegai> excuse me, but bullshit
01:00:00 <dons> yeah, gotos are great in code generated from haskell ;)
01:00:14 <Fri26821> gotos are just plain durchfall
01:00:47 <vegai> there are some cases where a solution based around goto is much clearer and not to mention faster than a forced structural implementation
01:01:20 <mwc> heh, anybody seen the DailyWTF that goes: for( ... ) { cont: /* ... */ goto cont; } ?
01:01:25 <reppie-tan> gotos ARE useful in c.
01:01:33 <mwc> The irony is that they probably used COntinue and got a reserved word warning :P
01:01:36 <vikasg> in simulating FSMs, for example
01:01:55 <mwc> vikasg: wouldn't you represent that as state/mutators?
01:02:02 <vegai> mwc: I remember seeing that and I remember that it had a point that most people missed
01:02:06 <vegai> not sure, though
01:02:30 <vegai> mwc: for one, continue would do a different thing than goto cont in that piece
01:02:36 <vegai> continue would increment the counter
01:02:37 <mwc> Yeah, indeed it would
01:03:04 <vegai> but still, that wasn't an example of good use of goto :)
01:04:18 <mwc> vegai: in haskell, I'd do the data FSM = State1 | State2 etc. but in C++ the best trick is to represent the states of the FSM as subclasses of a parent class. God, before I figured that out I hda an FSM implementatoin from hell
01:04:18 <vikasg> mwc, hm, yes, perhaps. I guess gotos are most useful in generated code
01:04:30 <mwc> Yeah, that's what I'd think they'd be good for too
01:04:58 <reppie-tan> gotos are useful to emulate exceptions
01:05:01 <Fri26821> ah there's the optimizationargument to use goto's, its faster/more efficient blabla...no reason for humans to mendle with it
01:05:01 <Heffalump> they are also useful for handling aborts in C
01:05:07 <mwc> but setjmp et al. are obviously the span of satan :P
01:05:08 <reppie-tan> Heffalump exactly
01:05:11 <Fri26821> let some compiler spew out the gotos
01:05:15 <Fri26821> if you really want them
01:05:27 <vegai> Fri26821: well, there are embedded devices, which have limited resources
01:05:48 <mwc> Yeah, but do you compile on those vegai?
01:05:49 <Fri26821> sure, in that little niche....
01:05:52 <vegai> Fri26821: then you have regular OS kernels, in which every single instruction saved might be important
01:06:03 <Fri26821> but for general applications....
01:06:17 <vegai> grep for gotos in Linux, for instance :)
01:06:27 <vegai> or any of the BSDs
01:06:35 <vegai> or probably any other kernel on this planet :)
01:06:43 <Fri26821> i bet it makes them very readable
01:06:45 <vegai> mwc: hmm?
01:06:51 <Heffalump> embedded devices are quite a large market, judging by the size of my company
01:06:59 <Fri26821> screw a bit of performance gain at the expense of code quality etc
01:07:00 <boegel> @type liftIO
01:07:01 <vegai> Fri26821: don't believe the hype :)
01:07:11 <vegai> Fri26821: "Goto considered harmful" was written decades ago :)
01:07:12 * boegel kicks lambdabot in the ass
01:07:13 <mwc> vegai: I thoguht you were talking about using Gotos for optimizatoin purposes on embedded systems
01:07:16 <boegel> @arr
01:07:17 <lambdabot> bzzt
01:07:17 <lambdabot> Avast!
01:07:24 <boegel> @index liftIO
01:07:25 <lambdabot> Control.Monad.Trans, Control.Monad.Reader, Control.Monad.Writer,
01:07:25 <lambdabot> Control.Monad.State, Control.Monad.RWS, Control.Monad.Cont, Control.
01:07:25 <lambdabot> Monad.Error, Control.Monad.List
01:07:28 <vegai> mwc: sure?
01:07:38 <mwc> I'd be iwith Fri26821 and say that your desktop compiler has all the optimizing power you need
01:07:53 <vegai> you'd be wrong
01:07:59 <Fri26821> lol
01:08:07 <mwc> not to mention that the higher level you code at, the more likely it can find a really kick ass way to schedule that functoin/
01:08:13 <Fri26821> in the eyes of some dude proclaiming putting goto's for performance...
01:08:35 <boegel> @index first
01:08:36 <lambdabot> Control.Arrow
01:08:37 <vegai> not for performance as much as clarity of code
01:08:37 <mwc> since an embedded CPU would still be sensitive to scheduling
01:08:43 <reppie-tan> how does one use gotos for performance?
01:08:45 <boegel> @type Control.Arrow.first
01:08:54 <lambdabot> forall (a :: * -> * -> *) d c b.
01:08:54 <lambdabot> (Control.Arrow.Arrow a) =>
01:08:54 <lambdabot> a b c -> a (b, d) (c, d)
01:09:11 <Heffalump> scheduling is usually only worth 5-10% on in-order CPUs
01:09:13 <Fri26821> it may open up optimization opportunities acoording to vegai
01:09:29 <vegai> Fri26821: hmm.. did I say that?
01:09:41 <vegai> oh, there. I guess I sorta did
01:09:46 <Heffalump> (and less on out-of-order ones)
01:09:48 <mwc> Heffalump: sure, and that's the beauty of it on a 3 Mhz 8 bit CPU :P
01:09:58 <mwc> that's hot tangible performance, baby
01:10:10 <Heffalump> yeah, but it's not a magic bullet :-)
01:10:18 <mwc> I'll take all I can get
01:10:21 <lispy> http://forums.codersbase.com/
01:10:28 <lispy> fudforum isn't the best
01:10:30 <Fri26821> i think lowering yourself to obfuscate the code so it get's optimized nicely is a bad practice in general....keep the code close to the problem and rely on smart compilers
01:10:30 <vegai> Fri26821: I'm more interested in using goto where it makes code clearer as opposed to where it makes the code more efficient
01:10:33 <lispy> but...it's not the worst either
01:10:45 <vegai> that sorta manual optimization seems like the last thing you should do, but code clarity is always important
01:10:57 <mwc> One of these days I'm gonna order myself a Gumstix, and stop messing with this home built 68HC11 board I use for screweing around with bots
01:11:12 <pejo> Fri, and then reality hits you. Boom.
01:11:27 <Fri26821> reality is perception
01:11:27 <Fri26821> :)
01:11:39 <mwc> "In the end, all you ever experience is yourself"
01:12:05 <Fri26821> if everybody just excepts reality for what it is...we never get closer to those ideal situations
01:12:08 <pejo> Fri, ok. Lots of people have the perception that they need stuff done by a deadline, with the current broken compiler.
01:12:40 <vegai> Fri26821: one example would be a function which requests resources from several places, and if one of them fails, it must release all the resources that *didn't* fail
01:13:11 <tuomov> I use goto for that sorta stuff
01:13:12 <mwc> vegai: hmm, sounds like a solution for RAII in C++; I grant that you'd have to use goto in that case
01:13:14 <Fri26821> is that like a very common example you are giving?....
01:13:19 <mwc> Fri26821: yeah, it is
01:13:28 <vegai> mwc: yes, C++ has exceptions too, doesn't it? So the problem isn't the same there
01:13:52 <Fri26821> ow would gotos help here?
01:13:55 <tuomov> C++ can also call destructors for local objects
01:13:58 <Fri26821> im not familiar with the situatiob
01:14:00 <Fri26821> b=n
01:14:10 <tuomov> (but not dynamically allocated stuff without huge kludges)
01:14:10 <mwc> initFoo ; if (failFoo) goto end;  initBar; if (failBar) goto fooEnd; .... foodEnd: releaseFOo; end;
01:14:35 <boegel> is there a way to make a function of type 'a -> IO Bool' of typ 'a -> Bool' by using liftIO or something like that ?
01:14:36 <mwc> the idea is that as soon as one fails you jump to release the tehs sutff you've retained by that point
01:14:38 <vegai> http://thedailywtf.com/forums/AddPost.aspx?PostID=39622&Quote=True :-)
01:14:40 <pejo> vegai, except that c++ compilers has traditionally been really bad at handling exceptions wrt code size.
01:14:52 <vegai> pejo: yeah, but who uses C++ anyway if that's important
01:15:00 <vegai> or actually, let me rephrase that
01:15:01 <mwc> boegel: wouldn't that violate IO encapsulation and lead to apocalypse?
01:15:06 <vegai> pejo: yeah, but who uses C++ anyway :p
01:15:06 <tuomov> s-lang has ERROR_BLOCKs, they're quite nice too
01:15:28 <tuomov> all ERROR_BLOCKs in the routine before the failure point get executed when there's a failure
01:15:29 <pejo> vegai, heh. Saying "the problem isn't the same in C++ because you can rely on <feature>" sort of implies the feature works in reality too.
01:15:29 <boegel> mwc: I have _no_ idea :)
01:15:43 <mwc> boegel: it seems you're trying to take the Bool value out of teh IO monad
01:16:20 <mwc> that would allow the impure stuff hidden in the monad to pollute the greater world
01:16:30 <mwc> boegel: but I think what you're looking for is unsafePerformIO
01:16:36 <mwc> @type unsafePerformIO
01:16:38 <lambdabot> bzzt
01:16:45 <Heffalump> hah
01:16:49 <mwc> @hoogle unsafe
01:16:54 <Heffalump> even lambdabot knows you're being evil
01:16:58 <mwc> Hahahahha
01:17:00 <mwc> Yeah
01:17:01 <Heffalump> @type System.IO.Unsafe.unsafePerformIO
01:17:02 <lambdabot> forall a. IO a -> a
01:17:10 <Heffalump> (but don't do that, folks)
01:17:20 <Heffalump> boegel: you almost certainly should just restructure your program
01:17:49 <boegel> Heffalump: probably :)
01:18:05 <Heffalump> mwc: hmm, the gumstix looks pretty cool
01:18:30 <mwc> We need some sort of USB electroshock device for GHC to activate at each occurence of unsafePerformIO
01:18:46 <Heffalump> mwc: (and you can help pay my salary by buying one ;-)
01:18:50 <Heffalump> ooh, cool.
01:19:03 <mwc> Heffalump: by buying one of what?
01:19:43 <Heffalump> a gumstix. They seem to use XScales, which Intel licensed from ARM, so we get a small royalty on them.
01:19:53 <mwc> Ah, you work for ARM?
01:20:12 <mwc> Funny you say that, I wanted to get one half to mess around with some ARM assembler, I hear it's a lot of fun
01:20:13 <Heffalump> yeah. On our compiler.
01:20:29 <Heffalump> it's quite neat.
01:20:43 <Heffalump> you can play some really nice games with condition codes.
01:21:08 <mwc> yeah, each instruction can encode an implicit test or something?
01:21:17 <Heffalump> yeah.
01:21:26 <Heffalump> and each instruction can be executed conditionally
01:21:35 <mwc> hello shapr
01:21:40 <shapr> hiya
01:21:56 <shapr> How's code?
01:21:57 <Heffalump> sorry, to be precise, almost all instructions can set flags, and almost all instruction can be executed conditionally on the value of those flags.
01:21:59 <mwc> shapr: if you need any help editing TMR, I'd be happy to proofread stuff
01:22:15 <Heffalump> So if then else blocks can be compiled without jumps.
01:22:19 <pejo> Heffalump, out of curiosity, did grad school benefit you in any way for the current work you have, except the learning new stuff part?
01:22:25 <mwc> Heffalump: neat
01:22:29 <Heffalump> pejo: not really.
01:22:39 <boegel> yo shapr
01:22:48 <reppie-tan> school sucks
01:22:57 <mwc> pejo: undergraduate education has the sole purpose of teaching you how to learn on your own
01:22:58 <Heffalump> pejo: if I'd spent the time working in the field instead I'd be at a better career position now.
01:23:03 <shapr> mwc: Mostly TMR needs people to take over recruiting, and more authors.
01:23:06 <mwc> grad school or a new job is where you learn to do stuff
01:24:04 <mwc> Oh man, it's 4:30 am :S
01:24:24 * mwc considers 2 hours of sleep vs. 200 mg of caffiene
01:26:24 <shapr> y0 boegel
01:27:42 * boegel scrathes his head on something stupid
01:27:50 <boegel> damn, it's been too long since I've coded haskell
01:28:00 <shapr> Are you scratching your head on one of your coworkers?
01:28:15 <Fri26821> 2 hours sleep will probably do more damage then good hehe
01:28:21 <shapr> It's not nice to call your coworkers stupid, especially since some of them hang out here ;-)
01:29:24 <boegel> they can't hear me, can they :p
01:29:28 <pejo> shapr, taking the lack of answer as a confirmation eh? ;)
01:29:58 * boegel knows that the above wasn't a correct English sentence
01:31:05 <boegel> shapr: check pm pls
01:37:39 * shapr is just teasing boegel 
01:39:29 <Muad_Dibber> whoohoo
01:47:23 <boegel> yo xerox
01:47:26 <boegel> hey Muad_Dibber
01:48:17 <Muad_Dibber> hey boegel
01:48:21 <Muad_Dibber> guess what, gentoo boots again :D
01:48:45 <xerox> Good morning
01:48:50 <boegel> Muad_Dibber: yaay
01:51:25 <Muad_Dibber> cost me some cd's
01:51:31 <Muad_Dibber> but at least i can haskell agian :P
01:51:41 <boegel> you can't haskell on winblows ?
01:51:50 <Muad_Dibber> could if i'd install it :P
01:52:09 <boegel> ;)
01:53:10 * luqui just wrote tic tac toe (with AI) in haskell.  hooray, a program with more than twenty lines!
01:53:26 <luqui> Haskell is growing on me rapidly... but not too rapidly
01:54:22 <Fri26821> before you know it...you will be wearing a haskellbeard
01:54:47 <Fri26821> and this mean bikeroutfit with lambdas on it
01:55:01 <dcoutts> boegel, pong
01:55:10 <dcoutts> @seen Itkovian
01:55:11 <lambdabot> I saw Itkovian leaving #haskell 1 hour, 11 minutes and 8 seconds ago.
01:55:42 <dcoutts> xerox, ping
01:55:52 <luqui> is there a way to get stdout to autoflush?
01:55:58 <xerox> dcoutts: pong!
01:56:34 <luqui> do { putStr "foo: "; x <- getLine; ... }      -- foo: is printed *after* I push enter
01:56:51 <vikasg> luqui, you need to do hFlush
01:56:56 <luqui> that's what I did
01:57:04 <luqui> but it seemed like an unnecessary pain
01:57:28 <luqui> stdout and stdin ought to be tied to each other for flushing, oughtn't they?
01:58:51 <boegel> dcoutts: nvm, I managed to rescue myself :)
01:59:16 <boegel> dcoutts: I was going to ask you how to identify the active radiobutton in a group, but I wrote a small function for it myself
01:59:31 <dcoutts> boegel, ah ok
02:00:12 <dcoutts> boegel, what do you do? iterate over the list and test to see if each one is active?
02:00:34 <dcoutts> I think there is a new way of doing it because the gtk people noticed that it was stupidly hard...
02:00:44 <xerox> luqui: you could set the buffering
02:00:48 <xerox> @index hSetBuffering
02:00:49 <lambdabot> System.IO
02:00:53 <xerox> I think it helps.
02:00:58 <xerox> @doc System.IO
02:00:58 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/System.IO.html
02:01:05 <luqui> xerox, just found that, thanks :-)
02:01:08 <xerox> :)
02:02:05 <boegel> dcoutts: yep
02:24:50 <boegel> @index file
02:24:51 <lambdabot> bzzt
02:31:50 <boegel> hey Oeje1
02:31:51 <shapr> @index File
02:31:52 <lambdabot> bzzt
02:31:55 <shapr> hm, that's odd
02:32:02 <shapr> @hoogle IO File
02:32:03 <lambdabot> System.exitFailure :: (IO a)
02:32:03 <lambdabot> Random.randomIO :: Random a => (IO a)
02:32:03 <lambdabot> Prelude.readLn :: Read a => (IO a)
02:32:03 <boegel> yeah, i thought so too
02:32:09 <shapr> @hoogle File
02:32:10 <lambdabot> Prelude.appendFile :: (FilePath -> String -> (IO ()))
02:32:10 <lambdabot> Prelude.writeFile :: (FilePath -> String -> (IO ()))
02:32:10 <lambdabot> Prelude.readFile :: (FilePath -> (IO String))
02:32:16 <shapr> @index FilePath
02:32:17 <lambdabot> System.IO, Prelude, Distribution.Compat.FilePath
02:32:18 <boegel> ah well :)
02:32:21 <Oeje1> boegel: Hello.
02:42:19 <xerox> @index newForeignPtr
02:42:19 <lambdabot> Foreign.Concurrent, Foreign.ForeignPtr, Foreign
02:42:23 <xerox> @docs Foreign
02:42:24 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Foreign.html
02:57:01 <dons> @where hoogle
02:57:03 <lambdabot> I know nothing about hoogle.
02:57:05 <dons> doh
02:57:21 <shapr> g'day dons
02:57:24 <dons> @google hoogle haskell
02:57:25 <lambdabot> http://www-users.cs.york.ac.uk/~ndm/hoogle/
02:57:28 <dons> hey shapr!
02:57:55 <dons> @seen TheHunter
02:57:57 <lambdabot> TheHunter is in #haskell. Last spoke 5 hours, 49 minutes and 24
02:57:57 <lambdabot> seconds ago.
02:58:03 <dons> @seen ndm
02:58:04 <lambdabot> I saw ndm leaving #haskell 18 hours, 40 minutes and 42 seconds ago.
03:07:52 <nibro> @seen Lemmih
03:07:53 <lambdabot> Lemmih is in #haskell. Last spoke 8 hours, 49 minutes and 54 seconds
03:07:53 <lambdabot> ago.
03:19:02 <aleator> Has anyone used gnuplot with haskell? why does "pause -1;" fail?
03:22:20 <dons> used gnuplot with haskell? how?
03:23:36 <Lor> You mean generating gnuplot scripts with haskell?
03:28:45 <aleator> Yes. I'm trying to plot list of tuples I have..
03:28:52 <aleator> Preferrably interactively.
03:29:43 <aleator> I have gnuplot opened with "runInteractiveCommand"
03:33:21 <Itkovian> noon
03:35:16 <Itkovian> @seen dcoutts
03:35:17 <lambdabot> dcoutts is in #haskell. Last spoke 1 hour, 34 minutes and 42 seconds
03:35:17 <lambdabot> ago.
03:37:51 <dcoutts> Itkovian, pong
03:39:23 <Itkovian> dcoutts: I'll send you the current Parsec parser, it needs some polishing, but I think it should work.
03:39:33 <dcoutts> cool
03:39:38 <Itkovian> dcoutts: the syntax is a tad different, as there are only braces around the ruleset
03:39:57 <Itkovian> all advice to make it better will be gladly accepted
03:39:59 <dcoutts> ok, do you have an example so I know what to do?
03:46:10 <nibro> @paste
03:46:11 <lambdabot> http://www.haskell.org/hawiki/HaskellIrcPastePage
03:47:57 <nibro> can anyone help me with this error message:
03:48:01 <nibro> ./Language/Haskell/GHC/OccName.lhs:1:0:
03:48:01 <nibro>     Could not find hi-boot interface for `Language.Haskell.GHC.OccName':
03:48:01 <nibro>         Could not find module `Language.Haskell.GHC.OccName':
03:48:01 <nibro>           it is not a module in the current program, or in any known package.
03:48:42 <Itkovian> dcoutts: yes.
03:48:43 <shapr> hi-boot files are for circular dependencies and that sort of thing. They're type declarations for a source file.
03:48:49 <Itkovian> will mail it all
03:48:49 <nibro> there is a file Lang...GHC/OccName.lhs-boot
03:49:03 <nibro> which countains such declarations
03:49:15 <nibro> s/countains/contains
03:49:30 <shapr> I don't know about lhs-boot, you could try coping/symlinking it to OccName.hi-boot and see if it works.
03:49:30 <dcoutts> Itkovian, great
03:50:03 <nibro> shapr, have you tried installing Lemmih's ghc-src? (where this is from)
03:51:16 <xerox> Itkovian: could you Cc: the mail to me?
03:52:53 <Itkovian> pm me the mail address
03:53:07 <Lemmih> nibro: pong.
03:53:08 <Itkovian> I could also put it online
03:53:13 <Itkovian> that may be easier?
03:53:22 <Itkovian> or ask boegel to inject it to his repos?
03:53:32 <dcoutts> whichever
03:54:15 <Lemmih> nibro: I maybe think you need to upgrade Cabal.
03:54:19 <nibro> ah, hi Lemmih :)
03:54:32 <nibro> aha, that explains a lot
03:54:47 <reppie-tan> http://www.googland.com/
03:54:59 <nibro> @google cabal haskell
03:55:00 <lambdabot> http://lists.debian.org/debian-wnpp/2004/10/msg00646.html
03:55:10 <shapr> nibro: Nope, I haven't.
03:55:26 <shapr> tmoertel: Hey, want to write for The Monad.Reader?
03:55:27 <Itkovian> what synatx do you like better: lsystem variables ABC, constants FGH, A, rules { A:AB B:FGH}, 1, 6.0
03:56:01 <Itkovian> or lsystem variables { ABC } constants { FGH } , { A }, rules { A:AB B:FGH }, 1, 6.0 ?
03:56:39 <Lemmih> @where cabal
03:56:40 <lambdabot> http://www.haskell.org/cabal
03:57:00 <nibro> thanks, that was easier
03:57:17 <nibro> @help where
03:57:18 <lambdabot>  @where <key>, return element associated with key
03:57:51 <nibro> yikes, 626 patches to cabal...
03:58:09 <Lemmih> dons: ping.
03:59:55 <dons> yep
04:00:37 <Lemmih> dons: What do you think of my patch?
04:01:17 <dons> fine. i'd modified my Process module in h4sh only the day before to do much the same thing
04:09:29 <wilx> Hmm, constants after variables? Shouldn't it be the other way around?
04:09:37 <wilx> Whatever it is.
04:11:16 * nibro wonders who thought it a good idea to hardcode the path to ghc in the cabal makefile...
04:16:50 <nibro> Lemmih, same error with the new Cabal ):
04:17:34 <Lemmih> What version of GHC?
04:17:37 <nibro> 6.5
04:17:58 <nibro> ...from some time back
04:26:25 <nibro> manually compiling OccName.lhs-boot to OccName.hi-boot didn't solve the problem either, strangely enough
04:27:39 <Lemmih> Did you move it to dist/build/...
04:29:11 <nibro> now I did, still no luck
04:36:23 <Itkovian> @seen boegel
04:36:24 <lambdabot> boegel is in #haskell. Last spoke 2 hours, 4 minutes and 5 seconds
04:36:24 <lambdabot> ago.
04:37:04 <beelsebob> evening all
05:05:39 <simona> beelsebob: you're working late...
05:05:50 <beelsebob> no?
05:06:00 <beelsebob> it's 1305
05:06:54 <beelsebob> anyway... got to get this paper finished... today's the deadline
05:10:02 <shapr> hiya simona, how's code?
05:12:50 <dcoutts> simona, xerox has nearly fixed all the current cairo build bugs, so I expect I'll be able to get something into gtk2hs's cvs today
05:20:28 <simona> dcouts: cool, I'll look into it tomorrow
05:20:40 <dcoutts> ok
05:31:41 --- topic: '["logs: http://meme.b9.com/cview.html?channel=haskell&date=today","http://www.haskell.org/learning.html","http://www.haskell.org/tmrwiki/IssueFour","We put the Funk in Funktion","http://sequence.complete.org/hwn/20050823"]'
05:31:41 --- topic: set by CosmicRay on [Tue Aug 23 07:37:02 2005]
05:31:41 --- names: list (clog eno-away SM_ax shrimpx cjb skylan cooz ibid jlouis Nioate FrederikEaton yosemite tumm somerset isomer_ Muad_Dibber _shawn psi beelsebob FrancisScott vidvandre arjanb simona nothingmuch xkb atom-z Philippa_ acke- greenrd sbeyer Oeje1 iblechbot amiddelk shapr masm svens vikasg tmoertel Defiler Matt-W noj asmodai ozone Lunar^ cathper sorje calvin_ emu kolmodin Spark takuan wagle autrijus yaarg scw mattam Lor ksandstr frederik resiak)
05:31:41 --- names: list (integral musasabi ptolomy tic geoffb binary42 borism Revision17 olliej astrolabe aleator Speck sieni luqui wilx rafl chucky kpk tromp xerox seafood jwp stefanw gzl perspectival sylvan gdsx keverets meren cognominal jesse99 kaol Nomius smott Heffalump liyang_ Igloo _SamB_ metaperl earthy lambdabot Khisanth pejo tuomov nibro johs lispy TheHunter fasttorwa Raziel Cale _metaperl jiing icb vegai thedward reppie-tan moo_away norpan ^buggler^)
05:31:41 --- names: list (wli)
05:40:28 <shapr> oh the excitement!
05:40:38 <dcoutts> ?
05:41:18 <Spark> !moo
05:41:21 <dcoutts> hmm, a busy afternoon it would appear
05:41:28 <dcoutts> @moo
05:54:49 <simona> just trying to do what we didn't do the first four days of the week
06:05:33 <shapr> So, anyone here has Skype?
06:06:18 <dcoutts> shapr, colleagues have used it and like it
06:06:26 * xerox !
06:06:40 <xerox> You can find me as "ponkje"
06:07:04 <dcoutts> I'm waiting for: GoogleTalk + Gaim + GnomeMeeting
06:08:05 <xerox> Google talk is "simply" a Jabber server, but you don't get the voice calls in Gaim, obviously.
06:08:28 <dcoutts> but Gaim will work with GnomeMeeting for the voice/video
06:08:39 <xerox> But you can use it as a Jabber server, for text chats - even if their server is dislinked from the jabber network :(
06:08:40 <CosmicRay> frankly I don't understand why google talk is exciting.
06:08:57 <dcoutts> CosmicRay, because it isn't MSN
06:09:07 <xerox> ...and jabber was created to avoid decentralization...
06:09:10 <CosmicRay> dcoutts: well, neither is jabber, aim, or icq
06:09:13 <xerox> Btw, skype rocks :-)
06:09:18 <CosmicRay> xerox: no it doesn't
06:09:25 <xerox> Why?
06:09:34 <CosmicRay> xerox: skype sucks.  it's a proprietary system.  and it provides no benefits over a more standard SIP protocol.
06:09:40 <dcoutts> CosmicRay, all other large chat networks use propriatary protocols
06:09:47 <xerox> CosmicRay: but it works arm, and it's really nice.
06:09:49 <xerox> *atm
06:09:56 <CosmicRay> xerox: so does SIP
06:09:57 <dcoutts> CosmicRay, google talk is going to support SIP
06:10:05 <CosmicRay> dcoutts: ;-)
06:10:24 <dcoutts> hense it'll work with Gaim/GnomeMeeting
06:10:27 <CosmicRay> I use fwdnet.net for SIP calls to other voip folks, and voxee.com for SIP calls to the PSTN
06:10:36 <CosmicRay> dcoutts: those items use H.323
06:10:41 <xerox> CosmicRay: which client do you suggest, which runs at least on linux and windows?  I mostly use skype to talk with my math-teaching cousin, avoiding any cost :)
06:10:49 <CosmicRay> $0.011/min long distance, oh yeah
06:11:01 <dcoutts> CosmicRay, GnomeMeeting currently supports H.323 but is getting SIP support too
06:11:05 <CosmicRay> heh, at first I read that as "meth-teaching"
06:11:08 <CosmicRay> dcoutts: nice
06:11:14 <xerox> He teaches math to me, hehe :-)
06:11:15 <beelsebob> cosmic: skype rocks because it's the *only* VoIP client that can get out of the uni firewall here
06:11:36 <xerox> ..when he has free time
06:11:36 <CosmicRay> xerox: if memory serves, the best client for linux is sjphone or sjxphone or something
06:11:45 <CosmicRay> but really, software voip phones suck in general.
06:11:52 <CosmicRay> I bought several Sipura SPA-841s for our house
06:11:55 <CosmicRay> very pleased with them.
06:12:11 <CosmicRay> look like a normal phone, but have this RJ-45 ethernet jack instead of an RJ-11 phone jack in the back ;-)
06:12:21 <dcoutts> beelsebob, yeah, that's what my research group use too, for talking to the other part of the project team at McGill in the US
06:12:34 <CosmicRay> you can also do all sorts of fun stuff with sip
06:12:52 <CosmicRay> xerox: lots of good info at www.voip-info.org
06:13:05 <dcoutts> beelsebob, Skype + IRC + VNC. It's a real hash of stuff. :-)
06:13:23 <Philippa_> heh
06:13:24 <CosmicRay> the other nice thing about sip is that it is supported by everything from dinky softphones to enterprise PBXs
06:16:22 <CosmicRay> basically, I don't like any technology that is closed and is available from only one vendor.
06:16:34 <CosmicRay> it limits competition and options.
06:17:05 <wilx> I don't understand how can anybody use Skype.
06:17:07 <dcoutts> CosmicRay, that's why the google talk thing is exciting
06:17:10 <CosmicRay> there are all sorts of communities out there based on SIP, and a few based on IAX.
06:17:24 <beelsebob> dcouts: yeh, Skye + IRC + AIM + Jabber here
06:17:25 <wilx> I have problems even telephoning to/with people I do not know.
06:17:26 <CosmicRay> dcoutts: but jabber has been around, working, and used, for ages already, no?
06:18:46 <dcoutts> CosmicRay, sure, but now it's got big name backing
06:19:08 <dcoutts> so we get the network effect etc
06:19:55 <CosmicRay> I suppose there is some value in that.
06:21:26 <xerox> wilx: usually you don't telephone people you don't know, at least that's what I do.
06:22:54 <CosmicRay> xerox: http://changelog.complete.org/node/264
06:23:22 <CosmicRay> in short, SIP is something you can use as simply as you would skype, with a place like fwdnet.net
06:23:25 <CosmicRay> but it can so a lot more
06:24:23 <CosmicRay> in my house, I run the asterisk open-source PBX.  I have a SIP ATA that provides dialtone to our old analog phones, and lets them use the voip system.  Another ATA port integrates our landline into it, so incoming calls ring our analog phones, digital SIP phones, and softphones.
06:24:58 <CosmicRay> the asterisk server routes outbound calls to the ATA landline, over voxee.com, or to fwdnet, depending on the number dialed, automatically.
06:25:10 <CosmicRay> so any phone in the house can be used to talk to a pure voip user, or to a pstn user.
06:25:41 <CosmicRay> also, one phone in the house can call another phone, we have voice mail, etc.
06:25:55 <CosmicRay> the digital phones can also be used as intercoms
06:27:14 <CosmicRay> part of the nice bit of all this is that you can either run a PBX locally, like we're doing, or not (like Skype).  There will be some feature loss, but many of the ATAs and hardphones support at least two networks already, though not necessarily automatically selecting the cheapest one like a PBX can
06:27:34 <CosmicRay> or you can choose one provider, like vonage or fwdnet, and have it all Just Work
06:27:47 <CosmicRay> </soapbox>
06:28:32 <CosmicRay> oh one more thing, someone recently wrote up a brilliant bluetooth module for asterisk, that lets one route outbound calls via a bluetooth-enabled cellphone.
06:28:47 <CosmicRay> good for those that get free long distance on their cellphones but not on their landlines
06:32:17 <psi> does anyone know a mud server that is easy to get started and comes with a decent example world?
06:32:33 <psi> I don't really like testing my client on "live" servers
06:41:52 <reppie-tan> behold! i plunge my hands in fire!
06:57:37 <beelsebob> that's easy
06:57:45 <beelsebob> just need enough parafin
06:59:38 <CosmicRay> heh
06:59:43 <CosmicRay> or asbestos
07:06:46 <CosmicRay> xerox: anyway, sorry for getting into a big skype rant
07:06:51 <CosmicRay> it just bugs me
07:06:56 <xerox> np :)
07:07:13 <xerox> Nice to know of your Asterisk installation.
07:09:12 <shapr> CosmicRay: Are there any good SIP phone packages that work on Win32 and Debian?
07:09:30 <shapr> I prefer open source apps, but all of my clients are using Skype :-/
07:09:41 <CosmicRay> shapr: let me get you a url
07:09:57 <CosmicRay> you're looking for a basic softphone, yes?
07:11:06 <CosmicRay> shapr: http://www.voip-info.org/tiki-index.php?page=VOIP+Phones#id932274
07:11:30 <CosmicRay> shapr: this is the one that I've had good luck with on linux: http://www.voip-info.org/tiki-index.php?page=SJphone
07:12:32 <CosmicRay> it also has a wnidows version
07:12:52 <CosmicRay> voip-info.org is an *excellent* site
07:13:04 <CosmicRay> shapr: are your clients looking for IP-to-IP calling, or IP-to-PSTN?
07:23:29 <shapr> IP-to-IP
07:24:46 <CosmicRay> are they wanting to just call branch offices of their own org, or to random people on the 'net?
07:25:19 <shapr> Both I guess.
07:25:47 <shapr> My German clients just started using skype because it saves money to talk to their out-of-country workers.
07:25:55 <CosmicRay> shapr: in that case, this page may also be of interest: http://www.voip-info.org/tiki-index.php?page=VOIP+Service+Providers
07:28:33 <CosmicRay> businesses also like the hardphones that are available for sip.
07:28:41 <CosmicRay> you can have a phone that looks, feels, and acts just like a regular phone
07:28:45 <CosmicRay> but calls over the 'net
07:30:54 <CosmicRay> also it doesn't reuqire a PC.
07:31:16 <CosmicRay> you can tell 'em to connect direct to fwdnet.net or some such place.  requires just an ethernet connection.
07:31:51 <CosmicRay> I like the sipura spa-841 because it's cheap ($80), and can be configured by using its internal menus, its built-in web server, or centrally by placing files on a tftp server
07:32:00 <CosmicRay> the latter is great if you're deploying several of them.
07:32:13 <CosmicRay> they can also support two networks by default, IIRC, without requiring a PBX.
07:32:36 <CosmicRay> by networks I mean voip providers
07:33:42 <CosmicRay> if you deploy asterisk, you can get a whole host of other features.  call activity recording, internal/external extensions, queues, etc, etc.
07:34:58 <shapr> Sounds great.
07:35:21 <shapr> Can I dial SIP phones by email address?
07:36:53 <xerox> I don't completely get how does this PBX thing work
07:37:18 <shapr> pbx is short for "private branch exchange". It's like having your own bit of the phone network.
07:37:34 <shapr> Much like installing a LAN in your apartment, but for voice phone lines instead.
07:39:16 <shapr> When you're dialing a person who works at a large company, they often have "Extension 555" on their business card. That's where you leave the national phone network and start talking to their private branch exchange.
07:39:52 <Spark> installing a lan (but without natting it) :)
07:41:22 <CosmicRay> shapr: I'm not quite sure I know what you mean by dialing by email address
07:41:42 <CosmicRay> some apps let you dial arbitrary servers by using number@hostname
07:41:52 <CosmicRay> though normally you will associate with one or two primary servers and just use number
07:42:02 <CosmicRay> if you have an in-house pbx, that will probably be the only server you associate with
07:42:13 <CosmicRay> xerox: think of a PBX as a router, but applied to phone calls instead of data networks.
07:42:19 <shapr> I'd like to keep my phone number in my DNS record.
07:42:29 <xerox> But does it cost something?
07:43:10 <CosmicRay> xerox: if you work at a company of any size, the PBX is what provides dialtone to analog phones, and routes a call when you dial a number -- to an internal extension, to external lines, whatnot.  These days, features like voicemail, hunt groups, etc. are usually included as well.
07:43:23 <CosmicRay> xerox: traditionally, yes, many tens of thousands of dollars.  asterisk is a free pbx for linux though.
07:43:36 <CosmicRay> shapr: I'm not aware of that sort of feature, but you might search for dns on voip-info.org
07:44:07 <xerox> CosmicRay: so you need a linux server up 24/7 to have phone services?
07:44:36 <liyang_> The `up 24/7' bit is redundant.
07:44:49 <xerox> :-)
07:44:53 <CosmicRay> xerox: yes, but I have that anyway.  plus my ATA will go into fallback mode if it drops power or PBX association, and connect my analog phones directly to the PSTN line.
07:45:04 <xerox> What does ATA stand for?
07:45:23 <CosmicRay> Analog Telephone Adapter.  An ATA is used to integrate analog lines or devices into a voip setup.
07:46:07 <CosmicRay> in my case, I have a 2-port ATA.  one port integrates the PSTN line into my setup, and the other integrates my internal phones.  (different circuitry is required for these features; for instance, the latter requires generating dialtone and ring voltage)
07:46:49 <mflux> have you paid extra attention to the reliability of the setup?
07:47:35 <CosmicRay> yes.  the fallback to a direct PSTN link on the analog phones is one such thing, so we can use them to call out during an extended power outage.
07:48:10 <CosmicRay> there is very little else that can fail.  if a call to a PSTN number is placed, and the VOIP network would normally be cheapest but is down for whatever reason, it will fall back to placing a long-distance call over the PSTN line
07:48:19 <CosmicRay> and even play a little tone so the caller knows this will cost more than usual
07:48:37 <CosmicRay> I also implement traffic shaping on the firewall to make sure that other activities won't interfere with voice calls.
07:49:02 <CosmicRay> I find I can run two uncompressed voice calls across my DSL link reliably.  possibly more, but I haven't tried.
07:49:54 <CosmicRay> in some senses, reliability is greater than with a conventional system.  for instance, one phone left off-hook won't take down service in the entire house.
07:51:29 <CosmicRay> also, I implemented logic so that if anyone calls 911 (the US emergency services number), any other call using the PSTN line will be immediately disconnected to free it for the 911 call, unless that other call is a 911 call itself.
07:51:35 <CosmicRay> nifty things like that are possible in asterisk.
07:52:36 <xerox> @pl g a b c f = f $ h a b c
07:52:36 <lambdabot> g = ((flip id .) .) . h
07:53:16 <shapr> I'd like to switch to that sort of system.
07:53:41 <CosmicRay> xerox: asterisk, or the little haskell code you just pasted?
07:54:29 <xerox> Sorry=
07:55:11 <CosmicRay> mflux: the WAF (Wife Acceptance Factor) of this system is also fairly high ;-)
07:55:25 <CosmicRay> that term (WAF) was coined on the mythtv lists, btw ;-)
07:56:54 * shapr adopts that term immediately
07:58:01 <CosmicRay> hehe
07:58:48 <shapr> Anyway, have you written an article or something that compares asterisk + SIP to skype etc?
07:58:53 <CosmicRay> my wife actually kept suggesting that she would be fine with it if she had to dial 9 to make outside calls, when I was first setting it up.  I told her that she wouldn't have to, and finally found out that she just wanted that so she could make fun of me for being "so geeky that I have to dial 9 to make a phone call" ;-)
07:59:02 <shapr> hiya exe, are you learning Haskell?
07:59:14 <shapr> haha
07:59:24 <exe> shapr, yup sir.
07:59:40 <shapr> exe: Do you have experience with other functional programming languages?
08:00:02 <CosmicRay> exe: would I guess from the channels that you're in that you're experienced with C and assembly?
08:00:06 <shapr> Are you learning for school, fun, or business?
08:00:23 <shapr> hiya adl, learning Haskell?
08:00:39 * shapr is being the welcome bot for the channel for these few minutes.
08:00:49 <exe> shapr, no, I haven't experience with other functional programming
08:00:56 <CosmicRay> shapr: nice ;-)
08:00:57 <exe> CosmicRay, yes.
08:01:16 <Muad_Dibber> is it allowed to flame at bots? :P
08:01:17 <exe> shapr, fun mostly, tho I have to do some simple things at school.
08:01:34 <shapr> exe: Ok I'd suggest you start here - http://www.haskell.org/hawiki/HaskellDemo and continue here http://www.haskell.org/learning.html
08:01:37 <adl> Well, yes, I suppose so, slowly :)
08:01:51 <shapr> exe: Hal Daume's "Yet Another Haskell Tutorial" is the best free tutorial I've seen.
08:02:34 <shapr> exe: When you have questions, ask them here on #haskell.
08:02:40 <CosmicRay> exe: shapr is quite right about YAHT.  Since you mention "fun", I might do the shameless plug thing and point you to http://www.freesoftwaremagazine.com/free_issues/issue_05/haskell/
08:02:58 <CosmicRay> haskell is the most fun I've ever had programming, for sure.
08:03:22 <shapr> CosmicRay: btw, I think haskell-v8 might start moving if we get all the newbies to read it first and then tell us what's missing.
08:03:44 <CosmicRay> shapr: that would be good.
08:03:52 <Lemmih> haskell-v8?
08:03:54 <CosmicRay> also there is a big problem with consistency in it.
08:04:02 <exe> I'm reading Introduction to functional programming using Haskell, by R. Bird.
08:04:04 <CosmicRay> first person vs. third person, formal vs. informal, etc.
08:04:06 <exe> Is it good?
08:04:19 <CosmicRay> I'm going to have to either do some heavy-handed editing or we'll have to somehow get everybody on the same page
08:04:28 <CosmicRay> exe: haven't heard of that one
08:05:25 <exe> Hehe, that's all I found in the library at school.
08:05:25 <shapr> I met R. Bird in line at ICFP2003, he's a cool guy.
08:05:46 <dcoutts> shapr, yes Dr. Bird is great
08:06:00 <dcoutts> he taught me Haskell in my first year :-)
08:06:15 <exe> dcoutts, do you study at Oxford?
08:06:24 <dcoutts> exe, yep
08:07:08 <dcoutts> exe, these days I'm a teaching assistant and PhD student
08:07:47 <exe> cool
08:08:28 <Muad_Dibber> exe: #haskell  contains some nice smart helpfull people eh :)
08:09:13 <shapr> You can even see where some of us are, http://www.haskell.org/hawiki/HaskellUserLocations
08:09:25 <exe> Yes, you're very polite.
08:09:33 <shapr> Speaking of which, I should update that image.
08:09:43 * CosmicRay remains safely anonymous
08:09:56 <shapr> CosmicRay: C'mon, what's your lat/long?
08:10:04 <CosmicRay> heh
08:10:09 <CosmicRay> I don't even know off the top of my head
08:10:12 <CosmicRay> would have to get out my GPS
08:10:31 <dcoutts> shapr, it's a bit dark over there in old Europe :-)
08:10:56 <shapr> dcoutts: Yeah, I took the pic in the middle of the night.
08:11:05 <CosmicRay> you may need to have two or three images ;-)
08:11:05 * Igloo thinks we could do with a less-to-scale map  :-)
08:11:08 <shapr> Er, close to morning even worse.
08:11:14 <CosmicRay> heh
08:11:17 <CosmicRay> or a different projection
08:11:23 <shapr> Yeah yeah :-P
08:11:46 <shapr> I think I was using the Mercator project before...
08:12:01 <Igloo> I don't thikn any standard projection will do particularly well
08:12:15 <Heffalump> hmm, I currently seem to be listed in Oxford.
08:12:17 <tuomov> rotatable applet.. but I don't like applets
08:12:21 <CosmicRay> http://www.debian.org/devel/developers.loc
08:12:43 <Igloo> You need something like a USA square, a Europe square and a glob for everyone else
08:12:50 <CosmicRay> heh
08:13:04 <shapr> I wonder if earth3d takes markerfiles.
08:13:17 <shapr> South America is gaining Haskellers too.
08:13:35 <Igloo> Unless it has 3 on top of each other it's not such a problem  :-)
08:13:38 <shapr> exe: Do you have any questions?
08:13:50 <tuomov> hmph. there are a zillion coordinate systems too
08:13:55 <shapr> Yeah, true.
08:14:01 <exe> No right now, but I'll have :)
08:14:08 <shapr> exe: Ok, feel free to ask here when you get some questions.
08:14:20 <dcoutts> shapr, have you got araujo yet? He's in South America.
08:14:24 <shapr> adl: What about you? Have any questions I can help you with?
08:14:31 <shapr> No, not yet.
08:14:37 <dcoutts> araujo, ping
08:14:39 <adl> Nope, just bathing in the collective wisdom :)
08:14:44 <exe> shapr, thank you.
08:14:51 <shapr> exe: Sure, glad I can help.
08:15:58 <Muad_Dibber> nice at the haskell locations :P
08:16:01 <Muad_Dibber> i mean, the idea is nice :)
08:16:07 * Igloo belatedly points out that that's an evening in Europe shot, not morning
08:16:28 <exe> shapr, are you in Lulea?
08:16:30 * shapr needs to buy a watch
08:16:42 <shapr> exe: I'm moving there next month. Do you know Lule?
08:16:56 <Igloo> Hmm, i a type variable is \alpha then what should a set of type variables be called?
08:17:01 <astrolabe> The projection out from the axis of the earth using perpendicular lines onto the smallest containing cylinder is area preserving.  Weird.
08:17:58 <tuomov> hmm...
08:18:37 <exe> shapr, no, but when I was younger I learnt the most important cities of Sweden.
08:19:20 <tuomov> indeed
08:22:13 <poetix> dcoutts: What college are you attached to in Oxford?
08:22:39 <dcoutts> poetix, http://www.worc.ox.ac.uk/
08:22:57 * poetix studied English at Lincoln, about ten years ago...
08:24:02 <Heffalump> when did you start/finish?
08:25:08 * dcoutts started in October 1999
08:25:31 <poetix> Hmm, try to remember...Michaelmas 1992 to Trinity 1995, I think.
08:26:17 <Heffalump> did you know Oege de Moor? He'd have been a grad student there at around the beginning of that time, I think.
08:26:47 <poetix> I was completely unaware of anything CompSci related at the time...
08:26:59 <Muad_Dibber> poor poetix
08:27:07 <Heffalump> there = at Lincoln, so his CompSciness isn't entirely relevant :-)
08:27:21 <poetix> Name doesn't ring any bells - grad students were like weird ghosts, floating in and out of the student bar
08:28:23 <poetix> I was very wrapped up in the little undergrad community at Lincoln, and largely unaware of anything outside it
08:28:48 <dcoutts> poetix, he'd have been the crazy one with the Dutch accent
08:29:15 <Heffalump> Richard Bird is the CS fellow at Lincoln, FWIW
08:29:32 <poetix> I do remember at least one crazy person with a Dutch accent, but it might not have been him...
08:29:37 <Heffalump> quite tall.
08:29:41 <Heffalump> (Oege, that is)
08:30:02 <poetix> I may have had a conversation with somebody matching that description about Wittgenstein (no, I am not making this up)
08:30:41 <Heffalump> http://web.comlab.ox.ac.uk/oucl/people/oege.de.moor.html
08:31:10 <dcoutts> Heffalump, not a great photo, but anyway
08:31:14 <poetix> Nope, don't think it can have been him - too cheerful.
08:32:10 <poetix> Francis (Irving) might remember - he was there at the same time, and studying mathematics
08:34:39 * poetix waxes nostalgic
08:37:31 * Heffalump has no idea who he is, though :-)
08:37:43 <Beelsebob> yay IFL paper done and dusted
08:37:48 <Heffalump> Beelsebob: cool
08:47:05 <Lemmih> Anyone got an URL for the NWPT registration form?
08:52:38 <Beelsebob> I do... but it 404s
08:52:41 <Beelsebob> http://www.diku.dk/NWPT05/NWPT05_form.pdf
09:06:46 * Beelsebob decides that submitting a paper is a good reason to eat smoked salmon for dinner, and goes to buy it
09:08:41 <ndm> well done Beelsebob
09:09:08 <Beelsebob> cheers neil, and thanks to you, heffalump, and philippa for looking at it
09:09:38 <ndm> i'll be bugging you to look at my hat paper soon enough ;)
09:09:44 <Beelsebob> cool :)
09:13:21 <shapr> Beelsebob: Want to write a TMR article? We need one or two more for this month...
09:13:36 <Philippa_> Beelsebob: 'grats on having finished it
09:14:07 <ndm> Beelsebob, a TMR article on Hat usage in general would be good, ignoring your delta stuff
09:27:21 <mikehammad> hi, i'm writing a matrix library for haskell, but am having difficulty with performance.  is someone willing to look at my code and give some tips?  the code is here http://www.cs.uchicago.edu/~mrainey/QdMtxLibs.tar.gz
09:41:06 * shapr boings randomly
09:41:39 <shapr> mikehammad: Have you profiled your library?
09:42:31 <mikehammad> you mean ghc -prof?
09:42:42 <shapr> yup
09:42:55 <mikehammad> can't do it unfortunately... i'm using template haskell
09:43:55 <shapr> Can you dump out fully rendered source for one specific problem and profile that?
09:44:36 <mikehammad> you mean print out the TH output and paste it back into the program?
09:44:46 <SyntaxNinja> y0
09:44:48 <shapr> Yeah, cheesy.. but it might work.
09:44:51 <shapr> y0 SyntaxNinja
09:44:57 <mikehammad> true, i might try thtat
09:45:11 <psi`> I've managed to get gtk2hs installed on my mac, but when I try to compile (with ghc --make) I get a bunch of unresolved symbols: _g_* and _pango_*
09:45:18 <psi`> how would I remedy that?
09:45:26 <shapr> mikehammad: Also, you can read Simon Marlow's optimization tips on the Wiki
09:45:40 <shapr> psi`: Add some linker flags?
09:45:50 * shapr wants locate-symbol
09:46:34 <psi`> I'll look into that
09:46:35 <simona> psi: probably not, linker flags should have been picked up.
09:46:43 <psi`> I don't need it on my debian box, though
09:46:52 <mikehammad> do you have a link to the marlow tips?  google isn't coming up with it
09:47:01 <shapr> Simon's cheat sheet for getting fast Haskell code: Rule 1: don't use String I/O. Rule 2: Profile your program.  Find the inner loop.  Look for overloading.  Squash.  Repeat.  Look for laziness.  Squash.  Repeat.
09:48:26 <psi`> I've got 2 versions of ghc installed. perhaps it's getting confused.
09:49:27 <simona> psi: Is the linking phase lacking C symbols or Haskell symbols? C symbols are readable, Haskell ones are usually __ret_*blah.
09:50:12 <mikehammad> hmm, ok.  the inner loop in my code is all inline...so no problem there.  there shouldn't be any overloading either.  plus, i'm using unboxed arrays... so, in matrix-matrix multiply, i'd hope that when i read from one unboxed array and write to another, no laziness pops up in between
09:51:02 <psi`> C I would assume then. example: _pango_font_description_better_match
09:51:06 <mikehammad> indexing might be lazy, although it shouldn't be a huge problem...the index calculations are simple
09:52:30 <shapr> hoi gord
09:52:33 <shapr> ahem, hoi goron
09:52:45 <goron> shapr: hoi sharp, er shapr ;)
09:53:06 <goron> shapr: I had a whole day of PHP coding....
09:53:16 <goron> shapr: globals all over the place...
09:53:21 * Speck sheds a single tear
09:53:39 * shapr feel sorry for goron
09:53:51 <goron> shapr: I really see that languages like C limit you as a programmer.
09:53:53 <shapr> Well, I'm hacking Python, so I don't feel overly sorry for you.
09:54:04 <CosmicRay> dons: ping
09:54:10 <Speck> Python is still better than PHP
09:54:16 <shapr> Yeah, I wrote a big long lazy lookup routine in Python and blew the recursion stack.
09:54:26 <CosmicRay> hah
09:54:35 <goron> shapr: But I guess I will learn the "function programming"-part of PHP.
09:54:42 <CosmicRay> shapr: stackless python may have helped you
09:55:01 <goron> shapr: createlambda all over the place... WHOEHAHA! :P
09:55:04 <Speck> goron: which part is that?
09:55:06 <shapr> I wrote a lazy self-aquiring navigation script for Zope, it worked just fine but it took me half an hour to explain it to people on #plone.
09:55:16 <goron> Speck: You can pass function references.
09:55:31 <goron> Speck: And you can create anonymous functions.
09:55:39 <goron> Speck: They suck hard, but it's possible.
09:56:33 <shapr> Most programmers have no idea how to exploit laziness, they just try to avoid it instead.
09:57:43 * shapr throws ions at tuomov 
09:57:58 <Cale> heh, ions :)
09:58:16 * Cale throws pwms at shapr
09:58:40 * tuomov deflects them with a magnetic field
09:59:13 <shapr> tuomov: I still don't understand about ion keeping track of fullscreen windows. Does that mean that when I drag a window back to a floating workspace it'll be the size it was when it left, not fullscreen?
09:59:49 <tuomov> drag?
10:00:14 <shapr> I mouse grab windows from a fullscreen workspace and switch to a float space to drop them.
10:00:30 <tuomov> that's not the fullscreen mode I mean
10:00:35 <shapr> oh
10:00:57 <tuomov> Mod1+Enter toggles the fullscreen mode, and Ion keeps track where exactly the window was
10:01:07 <shapr> aha
10:01:20 <tuomov> or, since the most recent release, where an initially full screen window would have been put had it not been put into fullscreen mode
10:01:39 <shapr> I'd actually like the feature I just mentioned, it would be nice to restore window size when I move a window back to a float space. But I may be the only person who wants that.
10:02:01 <tuomov> It wouldn't be too difficult to support..
10:02:32 <tuomov> basically all I would have to do is export a routine to get a "placeholder" for a region, and the placeholder's attach routine
10:02:41 <tuomov> then one could script it quite easily
10:03:34 <shapr> I should investigate ion3-scripts more, I'm sure there's nifty stuff to play with.
10:03:39 <dcoutts> psi`, not sure what's going on there. Sounds like some problem with the Gtk+ installation.
10:04:08 <psi`> i've installed gtk through darwinports
10:04:14 <dcoutts> psi`, _pango_* symbols are internal symbols, so it's particularly odd
10:05:10 <simona> psi, dcoutts: well the _better_match one is actually defined in Gtk2Hs.
10:05:24 <dcoutts> simona, really? oh ok
10:06:54 <dcoutts> why is it _pango_... and not just pango_... I wonder
10:07:11 <dcoutts> a leading '_' is usally for internal symbols
10:07:30 <tuomov> umm... BSDs at some point added _ to everything... what's this problem about?
10:08:39 <dcoutts> tuomov, linking with gtk on macosx
10:09:56 <tuomov> not sure if it applies then, but at one time you had to prepend '_' to symbols for dynamically loaded libraries on at least some of the BSDs and osx might inherit it
10:10:31 <dcoutts> tuomov, and would that work automatically with ghc I wonder?
10:10:42 <tuomov> when looking up symbols with dlsym, that is
10:10:48 <dcoutts> perhaps if it was using the gcc backend
10:10:59 <tuomov> I have no idea. All I know that there was such a peculiarity
10:11:01 <simona> tuomov, I can link against Gtk2Hs on Darwin. We use the static libraries -- I thinkg.
10:11:19 <dcoutts> psi`, you built using ./configure --with-hcflags=-fviaC didn't you?
10:11:58 <dcoutts> simona, you mean static versions of the gtk libs?
10:12:35 <psi`> dcoutts: no.. not this time
10:12:40 <psi`> do I have to do that?
10:12:56 <dcoutts> psi`, you did a normal build, ie with full optimisation?
10:13:25 <psi`> no, I used -O0
10:13:29 <dcoutts> hmm
10:13:44 <dcoutts> it's worth a go I reckon
10:14:06 <dcoutts> ghc might not know about the '_' thing in it's native asm backend
10:14:17 <dcoutts> but if using the gcc C backend it might do it right
10:14:17 <psi`> ok :)
10:14:42 <dcoutts> oh, but then it'd be looking for pango_.. and not _pango_..
10:14:48 <dcoutts> hmm I'm really not sure
10:15:06 <dcoutts> still, it might be worth a go: ./configure --with-hcflags=-fviaC
10:16:05 <simona> psi: Could you ask both of you ghc installations what packages they have installed? Make sure only one of them has Gtk2Hs installed.
10:16:38 <Beelsebob> m'kay, so mwuhuhuhuhuhuh!
10:17:07 <dcoutts> Beelsebob, you're not a pantomime villan by any chance are you?
10:17:17 <simona> dcoutts: I'm pretty sure that's not it. I don't think this is a MacOS problem. This is versionitis.
10:17:26 <dcoutts> simona, ok
10:17:32 * Beelsebob has roast smoked trout and garlik fried king prawns for dinner
10:18:24 <dcoutts> simona, so what's happened then do you think?
10:18:32 <psi`> simona: I actually deleted one of them
10:18:55 <psi`> they were both 6.4. one was from ghc's website, the other I built from darwin ports
10:19:52 <simona> psi: One of the ghcs you mean? Could you have installed two versions of Gtk2Hs? (Actually, that can't be it either since fontDescriptionBetterMatch has been in Gtk2Hs for quite a while.)
10:25:16 <psi`> sorry. yeah, one of the ghc.
10:25:22 <psi`> I've only installed gtk2hs once
10:26:45 <psi`> how do I ask ghc about the packages it has installed?
10:26:52 <dcoutts> ghc-pkg list
10:28:03 <psi`> i've got gtk and glib there
10:28:19 <dcoutts> which ghc version?
10:28:50 <psi`> 6.4
10:28:58 <dcoutts> I think gtk2hs should be getting into darwinports, if it isn't already
10:29:30 <simona> psi: I don't quite see what could be wrong. I'm afraid there's only the hard-core way: Compile your program with -v3 and check that the final linking phase contains -lpango-1.0
10:29:50 <simona> psi: Do you get a lot of _pango symbols missing or just a hand full?
10:33:33 <psi`> http://pastebin.com/347053
10:33:42 <psi`> there are all the missing symbols
10:34:54 <simona> psi: could you do the same and supply -v3 at the command line?
10:37:03 <psi`> http://pastebin.com/347057
10:37:48 <lispy> dcoutts: ah, that's good news
10:37:56 <dcoutts> -lHSnetwork -lHSparsec -lHSgtk -lgdk-x11-2.0 -lgtk-x11-2.0 -lgdk_pixbuf-2.0 -ltiff -ljpeg -lpng12 -lz -lm -lHSglib -lgobject-2.0 -lHShaskell98 -lHSbase -lHSbase_cbits -lHSrts -lm -lgmp -ldl -lgcc -lSystem
10:38:02 <dcoutts> I see no pango there
10:40:42 <dcoutts> lispy, can you remember who was dealing with the darwingports thing? was it mwc?
10:40:46 <psi`> -lpango gives me: can't locate file for: pango
10:40:59 <dcoutts> psi`, try -lpango-1.0
10:41:06 <lispy> dcoutts: sorry, i lost track
10:41:12 <Beelsebob> http://www.pango.org/
10:41:14 <dcoutts> lispy, yeah, me too
10:41:23 <lispy> hmm...
10:41:30 <lispy> my password isn't working on my school's server
10:41:37 <lispy> ah
10:41:43 <lispy> i was mistyping it :)
10:42:04 <simona> It's a bug on our side: our configure scipt should have bailed out when it didn't find pango and glib. Both are not present on your system, psi.
10:42:30 <psi`> -lpango-1.0 gets rid of the pango errors
10:43:01 <reppie-tan> two parrots are standing on a perch
10:43:04 <reppie-tan> one says to the other "do you smell fish?"
10:43:31 <dcoutts> psi`, could you paste the results of: pkg-config --libs gtk+-2.0
10:46:21 <simona> dcoutts: oh, you're right. We only check for gtk+-2.0, not directly for pango and glib.
10:46:26 <psi`> -L/opt/local/lib -lgtk-x11-2.0
10:46:43 <psi`> sorry if I appear absent; I'm multitasking :)
10:47:13 <dcoutts> simona, but pkg-config --libs gtk+-2.0 should give all the -l bits for all dependent packages
10:47:22 <psi`> pango and glib is installed, though
10:47:33 <dcoutts> eg on my system it gives:
10:47:34 <dcoutts> -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0
10:48:54 <psi`> ghc --make Main.hs -lpango-1.0 -lglib-2.0
10:48:56 <psi`> this works
10:49:41 <dcoutts> psi`, right, that's because pkg-config is not giving us what we expect. We expect it to give us all the dependent packages for gtk too (ie pango, glib etc)
10:51:07 <psi`> *nod*
10:52:17 <SamB> okay, what was the antidote for ^S again?
10:53:35 <greenrd> ^Q?
10:53:44 <simona> psi': I used fink to install Gtk on my Mac. You could change the configure script of gtk2hs and recompiler :-(
10:53:55 <SamB> greenrd: thanks!
10:54:11 * SamB wonders what it is that does that
10:54:18 * SamB wonders why
10:54:25 * SamB wishes it would not do that
10:55:03 * SamB also wonders why he keeps hitting ^S
10:55:25 <simona> dcoutts,psi`: you/we could change add glib-2.0 to PKG_CHECK_MODULES(GLIB,[gobject-2.0 >= 2.0.0])
10:56:54 <psi`> ok
10:56:59 <simona> dcoutts,psi`: and pango to PKG_CHECK_MODULES(GTK,[gdk-2.0 >= 2.0.0 gtk+-2.0 >= 2.0.0 gdk-pixbuf-2.0 >= 0.12.0]). It wouldn't hurt.
10:57:03 <psi`> thanks for the help
10:57:21 <dcoutts> simona, it shouldn't be necessary, but yes, it wouldn't hurt
10:59:07 <simona> psi: to be specific, you'd need to add "glib-2.0 >= 2.0.0" to the first list and "pango >= 1.0.0" to the second one. Then ./configure and make install.
10:59:24 <dcoutts> simona, I'll add that to cvs
11:01:23 * gord is lagged
11:01:28 <gord> hoi, shapr
11:02:08 <simona> dcoutts: yes, thanks. Come to think of it, I vaguely remember having seen this on OS X.
11:05:29 <machack666> I'm writing an ascii85 filter, which uses 5 characters from the ascii range '!' (33) - 'u' to represent a 4 base-256 vector.  The code I am using right now is basically as follows:
11:05:44 <machack666> ascii85DecodeHelper = map chr . encBase 256 . decBase 85 . map (\x -> ord x - 33)
11:06:10 <machack666> where you pass the string of characters to be decoded as a parameter to ascii85DecodeHelper.
11:06:24 <machack666> the string should already be 5 characters long
11:06:58 <machack666> I'm running into an infinite output loop, where it gives me the correct four bytes, but then an infinite number of "\255" afterwards.
11:08:07 <machack666> decBase takes an Int base and [Int], and returns an integer representing the base, encBase does the reverse.
11:08:30 <machack666> I'm not sure if it's a problem with the function compositions, but I'm not sure why the output goes on to infinity
11:08:52 <machack666> anyone want to look at the whole code?
11:08:54 <Cale> I'm thinking it has something to do with one of encBase or decBase
11:09:01 <greenrd> must be
11:09:09 <Cale> why not put it on the paste page?
11:09:13 <machack666> decBase base = foldr (\y x -> base * x + y) 0
11:09:16 <machack666> @paste
11:09:17 <lambdabot> http://www.haskell.org/hawiki/HaskellIrcPastePage
11:10:52 <greenrd> Well decbase is [Int] -> Int, so that's not it. What's encBase?
11:10:53 <machack666> alright, it's on the IrcPastePage
11:10:56 <greenrd> k
11:11:31 <Akshaal> Why 'System.Directory.Internals' is hidden?
11:11:53 <machack666> encBase takes an Int base and an Integer and returns a vector representing the Integer
11:13:40 <SyntaxNinja> someone should write a palm database parser for haskell.
11:13:41 <SyntaxNinja> please.
11:14:11 * Itkovian watches Alexander
11:15:25 <dcoutts> ndm, did you have anything to do with darwingports or am I just confused?
11:16:08 <Lemmih> Itkovian: Alexander Jacobson?
11:17:05 <ndm> dcoutts, nope - not me
11:17:13 <machack666> Cale, greenrd, any thoughts?
11:17:21 <dcoutts> ndm, ok sorry, just my bad memory
11:17:24 <greenrd> machack666: hmm, odd
11:17:43 <greenrd> is it actually specified anywhere that haskell works in ascii?
11:18:01 <greenrd> I read up a bit on this when trying to find out about binary i/o
11:18:05 <dcoutts> there was someone packaging gtk2hs for darwinports but I can't remember who it was
11:18:06 <thebug> SamB: about ^S/^Q, that's terminal flow control
11:18:16 <thebug> you -want- it to 'do that'
11:18:32 <thebug> whether or not you realize this :)
11:18:33 <machack666> I guess I assumed that chr and ord did the appropriate thing
11:18:36 <greenrd> it seems that in theory haskell could support more than 256 chars, but in practice a lot of code (wrongly?) assumes 8 bit chars
11:18:36 <machack666> :)
11:18:57 <Itkovian> Alexander The Great
11:19:13 <machack666> it's giving me the error with the test string "abcde", however ...
11:19:44 <Cale> *Main> decBase 85 (map (\x -> ord x - 33) "hello")
11:19:44 <Cale> -176711445
11:20:46 <greenrd> gah, why doesn't :load or import Data.Char just *work* in ghci!
11:20:48 <Cale> ord :: Char -> Int
11:20:59 <Cale> greenrd: :m + Data.Char
11:21:11 <greenrd> I don't care about the difference between package modules and non-package modules, I just want it to *work*!
11:21:29 <Cale> greenrd: you can just use :m
11:21:37 <greenrd> ok
11:21:53 <greenrd> Yeah, I thought it was something to do with negative numbers
11:22:30 <greenrd> is it overflow?
11:22:38 <greenrd> I think it must be
11:22:44 <Cale> machack666: did you catch that? It's because ord returns an Int -- you'll want to use fromIntegral and make sure that decBase returns an integer
11:22:45 <Cale> yeah
11:22:47 <Cale> it is
11:24:15 <machack666> I had had an explicit Int -> [Int] -> Integer
11:24:44 <machack666> and for some reason it was wanting me to qualify my explicit numbers in code (i.e. (0 ::Integer))
11:25:52 <machack666> so, map (\x -> (fromIntegral . ord x) - 33) would be the relevant change?
11:27:28 <Cale> modulo parens, yeah
11:27:43 <Cale> $ would be what you want there
11:28:27 <Cale> also, you'll want chr . fromIntegral
11:29:13 <TheHunter> can somebody do me a favor?
11:29:15 <Cale> I hate how many prelude and library functions use Ints instead of Integers or being generic.
11:29:25 <ndm> TheHunter, what?
11:29:28 <TheHunter> resolve cipgate.informatik.uni-wuerzburg.de
11:29:44 <TheHunter> apparently, the dns-server here died.
11:29:47 <Cale> cipgate.informatik.uni-wuerzburg.de     CNAME   wicx10.informatik.uni-wuerzburg.de
11:29:47 <Cale> wicx10.informatik.uni-wuerzburg.de      A       132.187.11.10
11:29:52 <TheHunter> thanks.
11:30:06 * TheHunter sets up a proxy.
11:30:11 <Philippa_> Cale: it does make some sense - most of them would fail to terminate on most hardware if the answer didn't fit in an Int and go noticeably faster
11:30:20 <Philippa_> but it'd be nice to have the generic version with an Int specialisation
11:32:12 <Cale> yeah
11:33:49 <ndm> @hoogle generic
11:33:51 <lambdabot> List.genericReplicate :: Integral a => a -> b -> [b]
11:33:51 <lambdabot> List.genericIndex :: Integral a => [b] -> a -> b
11:33:51 <lambdabot> List.genericSplitAt :: Integral a => a -> [b] -> ([b], [b])
11:33:56 <ndm> @hoogle+
11:33:57 <lambdabot> List.genericTake :: Integral a => a -> [b] -> [b]
11:33:57 <lambdabot> List.genericLength :: Integral a => [b] -> a
11:33:57 <lambdabot> List.genericDrop :: Integral a => a -> [b] -> [b]
11:34:13 <Cale> yes, those should be the versions in the Prelude
11:34:13 <ndm> there are quite a few which have both Int and Integral versions
11:34:38 <ndm> from what i heard, genericLength should be the version in the prelude
11:34:51 <ndm> but by the time they noticed, it was too late and the prelude was frozen
11:35:11 <dblhelix> hi all! had a good haskell week?
11:35:42 <lispy> i don't know if it would make sense for ghc, but some lisp compilers just stick appropriately sized integers into registers and use same arbitrary precision tricks for when the ints get too large
11:35:58 <machack666> thanks all...i'll let you know if that worked.
11:36:01 <dcoutts> gzl, were you the darwing ports person? I'm trying to remember.
11:37:14 <Philippa_> lispy: we call that type Integer ;-)
11:37:53 <lispy> Philippa_: yes, i was just wondering if ghc bothers to store smallish Integers in registers
11:38:23 <dcoutts> lispy, yes because internally an Integer is either an Int or a GMP integer structure
11:38:40 <lispy> dcoutts: ah, good to hear
11:39:26 <dcoutts> lispy, however because it can always be either it can never be that fast, compared to Int where the thing is known statically
11:39:58 <lispy> right
11:47:09 <dblhelix> Philippa_: already thought of more cool things to do with boxy types?
12:02:53 <autrijus> anyone ported ghc to osx86 yet?
12:05:28 <Philippa_> dblhelix: nope. Not really been doing too much thinking about code lately
12:05:35 <Philippa_> lotta weird stuff been happening
12:06:01 <dblhelix> weird as in unpleasant?
12:06:16 <Philippa_> some of it, yeah
12:06:26 <dblhelix> I'm sorry to hear that
12:06:40 <dblhelix> or to read that, actually... you get what I mean...
12:06:45 * Philippa_ nods
12:06:46 <Philippa_> thanks
12:41:52 <exe> Does haskell have the primitive "ord"?
12:42:13 <autrijus> @type ord
12:42:13 <exe> i.e. ord 'b' = 98
12:42:19 <lambdabot> bzzt
12:42:24 <autrijus> @plugs ord 'b'
12:42:30 <lambdabot> 98
12:42:32 <Lemmih> @docs Data.Char
12:42:33 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Data.Char.html
12:42:34 <autrijus> here you go.
12:43:57 <exe> it doesn't work, should I import something?
12:44:04 <autrijus> Data.Char
12:45:00 <exe> So, isn't it a primitive?
12:46:11 <autrijus> it isn't in the Prelude.
12:48:02 <exe> Is Data.Char like a normal .hs?
12:48:08 <dcoutts> exe, fromEnum will work too
12:48:20 <dcoutts> exe, yes Data.Char is a standard module
12:48:43 <dcoutts> you can find the actual source code in the ghc or hugs sources if you're interested
12:49:40 <exe> :)
12:49:49 <exe> Cool, I found it.
12:49:58 <dblhelix> quit
12:51:07 <exe> I found it uses fromEnum, would be correct/standard to use fromEnum 'b'?
12:53:15 <newsham> hi.  I'm using hugs and trying to work through a tutorial (I'm a greenpea).  I'm having problems inputting things with the equal sign in them at the hugs prompt.
12:53:27 <newsham> "unexpected '='"
12:54:12 <dcoutts> newsham, you mean you're trying to say:
12:54:13 <Beelsebob> well, '=' defines a function... Unfortunately, you have no state, just defining a function would be no use
12:54:31 <Beelsebob> you need to define a function and a scope within which you can use it
12:54:48 <Beelsebob> e.g. let f x y = x + y in f 4 5
12:55:12 <newsham> ok.  this tutorial has them define a function in an external file, "load it up" in an interpretter and then invoke it.
12:55:23 <newsham> when files are loaded I guess the functions are bound into some global scope?
12:55:27 <dcoutts> newsham, yeah, what Beelsebob says. You probably want to define your functions in a MyModule.hs file and then load that in hugs
12:55:34 <autrijus> the module scope, yes.
12:55:37 <Cale> newsham: yeah
12:56:00 <Beelsebob> newsham: yes, I can't remember if hugs lets you do it, but you may be able to add to that scope by just saying `let f x y = x + y'
12:56:02 <newsham> is there any way to have something bound to the global scope at the interpretter prompt (I know maybe not good style, but I'm just trying to experiment from the cmd prompt)
12:56:07 <Cale> newsham: if you have ghci handy, it will also let you define things at the prompt like "let f x y = x + y"
12:57:13 <dcoutts> exe, you can use ord or fromEnum, it might be more obvious what you're doing if you use ord since fromEnum is a rather general function (as the name suggests, it works on any enumeration, not just characters)
12:57:21 <Cale> I don't think hugs lets you do that
12:57:37 <Beelsebob> yeh, I thought it was ghci only
12:57:41 <newsham> *nod* ok thanks.
12:58:24 * lispy whispers something about ghci having better error messages in general than hugs
12:58:38 * autrijus mumbles somethinb about helium.
12:58:49 * Beelsebob mumbles about nhci
12:59:54 <jyp> @hoogle TypeRep -> String
12:59:55 <lambdabot> Prelude.show :: Show a => a -> String
12:59:55 <lambdabot> Prelude.realToFrac :: (Real a, Fractional b) => a -> b
12:59:55 <lambdabot> Prelude.round :: (RealFrac a, Integral b) => a -> b
13:01:41 <newsham> ahh, I can just tpye ":e" and enter the definitions and then when I save it they're in my global scope
13:03:50 <dcoutts> newsham, yep
13:04:23 <newsham> btw, this paper is brilliant: http://citeseer.ist.psu.edu/mcilroy00music.html,  I mention it because it is what got me looking at haskell.
13:04:55 <dcoutts> newsham, or the other common way people us it is to have two windows open, one with your text editor to modify the .hs file, and another windo open with hugs. Then you save in the text editor and type :r in hugs to reload.
13:05:22 <newsham> *nod* thanks.  I'm sure I'll be doing that eventually
13:05:59 <lispy> you can also use the lambda abstraction syntax... (\x y -> x + y) 4 5
13:06:07 <lispy> then you don't have to define the function
13:06:17 <Beelsebob> FNF newsham
13:06:23 <lispy> FNF?
13:06:24 <yosemite> also screen is good for editor/interpreter development
13:06:29 <Beelsebob> 404
13:06:34 <lispy> ah
13:06:52 <lispy> i see F = 4, N = 0
13:06:57 <lispy> ;)
13:07:02 <Beelsebob> File Not Found
13:07:06 <Beelsebob> -36
13:08:11 <newsham> works fine here.
13:08:42 <newsham> http://www.cs.dartmouth.edu/~doug/music.ps.gz is the same paper
13:08:44 <dcoutts> I want an IDE where there is no need to save & reload, but you can just type function definitions in one window and evaluate stuff in another. And if there are syntax/type errors in a definition then they are just not available in the evaluation window.
13:09:07 * lispy too
13:09:24 <yosemite> is the eclipse/fp stuff working towards that?
13:09:24 <Beelsebob> dcoutts: but then how would you know there was an error in the thing you were trying to use?
13:09:30 <Beelsebob> (and what the error was)
13:09:44 <newsham> incremental parsing -- it would update status (and highlight) as you typed.
13:09:45 <dcoutts> Beelsebob, it'd get underlined in the editor or something
13:09:57 <Beelsebob> fair enough
13:10:17 <lispy> climacs is supposed to do incremental parsing, but i bet it only does lisp at the moment
13:10:25 <dcoutts> and if you tried to use the function in the evaluation window then you'd be told about the error and referred back to the definition
13:10:55 <dcoutts> This is all part of my grand IDE dream. ;-)
13:11:11 <gzl> dcoutts: no, I'm not, sorry
13:11:24 * lispy has a grand dream or three but not enough time or money to make most of them happen
13:11:27 <dcoutts> gzl, ok, sorry to bother you.
13:11:47 <Beelsebob> heh
13:12:00 <lispy> but, now that q3 source is out, at least one of them is more attainable
13:12:01 <gzl> dcoutts: the maintainer is gwright@opendarwin.org
13:12:14 <Beelsebob> dcoutts: does your grand IDE design incorporate our rather lovely debuggerer?
13:12:25 <lispy> debuggerer?
13:12:26 <dcoutts> Beelsebob, yes via plugins
13:12:27 <lispy> nice
13:12:30 <Beelsebob> :)
13:12:42 <lispy> Long Live Yi!
13:12:52 <dcoutts> Beelsebob, which would mean I wouldn't have to do the integration, you could do it :-)
13:12:58 <newsham> I think :e/:r is efficient and elegant ;-)
13:12:58 <dcoutts> distributed development
13:13:01 <Beelsebob> heh, I may well
13:13:05 <Beelsebob> when I get bored
13:13:09 <dcoutts> heh
13:13:14 <Beelsebob> I may even to 10 Hats some day
13:13:29 <Beelsebob> hmmm.... 10 gallon hat may be a better name actually
13:16:17 <dcoutts> lispy, so yes my grand IDE dream involves Yi, Gtk2Hs, hs-plugins, cabal and darcs.
13:16:33 <lispy> dcoutts: cool
13:17:37 <dcoutts> lispy, yeah, basicly just a mixture of all the things on the current #haskell cool list :-)
13:18:00 <newsham> gotta run, thanks for getting me started.
13:18:22 <dcoutts> we need a @cool module for lambdabot just to maintain the #haskell cool list.
13:18:31 <lispy> heh
13:18:40 <dcoutts> @cool add cabal
13:18:41 <lispy> just clone the @todo stuff
13:18:41 <lambdabot> Maybe you meant: code moo
13:18:52 <lispy> @code
13:18:54 <lambdabot> List.hs: stdin           10000            sorted        sort        31.37
13:19:02 <lispy> @code
13:19:02 <lambdabot> Typeable.hs: appKeys k ks = foldl appKey k ks
13:19:05 <lispy> hmm...
13:19:14 <lispy> that one is a bit random
13:19:22 <dcoutts> yes a clone of @todo would work
13:20:11 <Cale> @code
13:20:12 <lambdabot> Bits.hs: (which must be non-negative).
13:20:16 * gzl scratches head
13:20:21 <gzl> what is that doing?
13:20:28 <gzl> just displaying totally random bits of code?
13:20:35 <Cale> It's taking a random line from those files
13:21:12 <dcoutts> gzl, specifically I think it's random bits of the fptool code
13:21:43 <gzl> am I the only one who doesn't see why that's interesting?
13:23:07 <dcoutts> gzl, probably not
13:23:17 <dcoutts> lambdabot contains some pretty odd stuff
13:23:21 <lispy> gzl: i think it's only interested as a "this is an example of functionality"
13:23:41 <lispy> if i wanted to do something more structured, maybe i could adapt that code
13:23:45 <lispy> *shrug*
13:23:52 <lispy> but yeah, i don't see any reason to use @code
13:24:01 <dcoutts> I think dons likes @code
13:24:23 <Lemmih> A @code using ghc-src could perhaps give more interesting results.
13:25:43 <SyntaxNinja> y0
13:25:49 <SyntaxNinja> dcoutts: did you successfully cabal-get yet?
13:26:11 <dcoutts> SyntaxNinja, not entirely
13:26:46 <dcoutts> SyntaxNinja, the package I tried to install was not properly laied out, so cabal-get complained when it tried to build it
13:27:08 <dcoutts> ie the layout of the tarball was not good
13:27:30 <dcoutts> spparently hackage is going to start validating them to the standards that cabal-get expects
13:27:47 <dcoutts> and the ones that are in there that are not conforming will be ejected
13:27:55 <dcoutts> which is good
13:28:09 <dcoutts> but at the moment you can't install some of the packages
13:30:17 <exe> instance Eq Greek where
13:30:17 <exe>         ( x == y ) = ( ord x == ord y )
13:30:23 <exe> Why do I get unexpected = ?
13:31:32 <lispy> try (==) x y = ord x == ord y
13:32:08 <lispy> or even x == y = ord x == ord y
13:32:09 <dcoutts> x == y  = ( ord x == ord y )
13:32:25 <Lemmih> exe: 'Greek' == 'Char'?
13:32:38 <lispy> @type ord
13:32:55 <lambdabot> bzzt
13:32:56 <dcoutts> @type Char.ord
13:32:57 <lambdabot> Char -> Int
13:33:16 <exe> Nup, but I've defined ord :: Greek -> Char too.
13:33:32 <lispy> Greek -> Char?
13:33:41 <lispy> don't you want Greek -> Int?
13:33:51 <exe> No, I don't
13:34:25 <lispy> then you should probably call it greekToChar
13:34:40 <exe> Main> ord Epsilon
13:34:40 <exe> 'e'
13:34:40 <exe> Main> Epsilon == Eta
13:34:40 <exe> True
13:34:59 <exe> Why it didn't work with the first ( ) ?
13:35:28 <lispy> the syntax is pretty forgiving, but i guess not forgiving enough
13:35:56 <exe> but, why would a () modify the result?
13:36:14 <exe> I mean, (x==y) should be like x==y :/
13:36:29 <lispy> but it was on the left hand side
13:36:33 <lispy> that's for patterns
13:36:56 <lispy> used that way, the parser probably thinks == is a type constructor
13:37:02 <lispy> like when you use (x:xs)
13:37:09 <exe> Mm, I see
13:37:46 * lispy has to run
13:37:48 <lispy> good luck
13:37:59 <exe> in the book, the example is: (x==y) = (toEnum x == toEnum y), so it's bad.
13:38:25 <exe> The same to you lispy.
13:43:51 <SyntaxNinja> Lemmih: can you re-upload any non-conforming packages?
13:44:21 <dcoutts> SyntaxNinja, Lemmih, eg the SDL package
13:44:48 <SyntaxNinja> dcoutts: does cabal-get install helloWorld work?
13:46:19 <dcoutts> SyntaxNinja, oh is that new? let me try...
13:46:25 <SyntaxNinja> its not new
13:46:31 <Lemmih> Um... HackageDB is down.
13:46:33 <SyntaxNinja> it's a very very powerful program, though
13:46:49 <SyntaxNinja> hohum!!
13:47:56 <dcoutts> Lemmih, if it's expected to come back up ping me and I'll try helloWorld
13:48:19 <SyntaxNinja> bugger
13:48:44 <Lemmih> dcoutts: I can't really do anything about it (:
13:49:18 <dcoutts> Lemmih, oh ok
13:50:21 <dcoutts> $ host hackage.haskell.org
13:50:21 <dcoutts> hackage.haskell.org is an alias for haskell.galois.com.
13:50:28 <dcoutts> Lemmih, oh yes I see :-)
13:50:35 <Lemmih> SyntaxNinja: if it's expected to come back up ping dcoutts and he'll try helloWorld
13:50:37 <SyntaxNinja> the mod_haskell thing is gone; I'll ask the admin what's up
13:50:48 <SyntaxNinja> Lemmih: thanks
13:50:52 <Lemmih> (:
13:50:53 <dcoutts> heh :-)
13:51:41 <Lemmih> We need to install mod_haskell again?
13:52:04 <dcoutts> oh, can I make an ebuild for mod_haskell too?
13:52:13 <lispy> is mod_haskell pretty efficient?
13:52:20 <SyntaxNinja> Lemmih: no, just the apache confi
13:52:20 <lispy> does it do sessions?
13:52:43 <dcoutts> oh oh oh does it do XYZ?
13:52:47 <Lemmih> Don't use mod_haskell.
13:53:22 <lispy> heh, okay
13:53:30 <SyntaxNinja> Lemmih: why?
13:53:30 <Lemmih> mod_haskell is Apache specific. Use FastCGI instead.
13:53:45 <Lemmih> Actually, use HSP instead of FastCGI (:
13:57:08 <cinema_> SyntaxNinja: I am stuck with Cabal 1.1.1, and can't compile the current darcs version
13:57:42 <cinema_> SyntaxNinja, It does not recognize the preprocessor directives
13:58:44 <cinema_> SyntaxNinja, Using Cabal to compile Cabal seems to lead to some horror story
13:58:46 <SyntaxNinja> cinema_: which ghc version? what do you mean about preprocessor directives?
13:59:03 <SyntaxNinja> you're using 1.1.1? did you follow the directions in the README?
13:59:14 <cinema_> SyntaxNinja, I have a very recent ghc 6.5
13:59:26 <SyntaxNinja> installing 1.1.1 without un-installing 1.0 in ghc 6.4 causes horror story if you don't follow the README.  what problem are you having?
13:59:32 <SyntaxNinja> what's 6.5?
13:59:48 <Lemmih> Development version of GHC.
13:59:50 <cinema_> SyntaxNinja, ghc last week's cvs
13:59:52 <SyntaxNinja> (ahem, ghc bug, btw)
13:59:53 <SyntaxNinja> OK
14:00:01 <SyntaxNinja> what's the problem?
14:00:33 <cinema_> parsing error : Distribution/Compat/Exception.hs:2:0: parse error on input `module'
14:01:06 <cinema_> at first, non paired #endif
14:01:19 <cinema_> then rejects the #ifdef
14:01:28 * SyntaxNinja seems to remember a darcs bug that sounded like this
14:01:32 <SyntaxNinja> Igloo: do you remember that?
14:01:52 <SyntaxNinja> ie your darcs repo of cabal is corrupted; or did youg et this cabal from the tarball?
14:02:08 <SyntaxNinja> what does this have to do w/ building darcs?
14:02:18 <cinema_> I got it from darcs. I can try cvs, if it is better
14:02:21 <SyntaxNinja> oh IC, you're compilng the current cabal darcs version
14:02:37 <cinema_> yes
14:02:49 <SyntaxNinja> 1.1.1 should do OK for you; why ar eyou using the darcs versin?
14:03:02 <SyntaxNinja> yeah, I think your darcs is buggy and it corrupted that file.
14:03:32 <cinema_> because I had precisely that kind of problem (unrecognized preproc. directives) with other packages
14:03:59 <cinema_> OK. I try the cvs version, and report
14:04:23 <Igloo> The darcs bug shouldn't affect any darcs release
14:04:26 <SyntaxNinja> well
14:04:41 <SyntaxNinja> cinema_: not sure if that'll fix your problem. I don't know of any cabal bug relating to preproc. directives.
14:04:43 <SyntaxNinja> except for ghc 6.2.1
14:04:59 <SyntaxNinja> cinema_: what darcs version are you using?
14:05:59 <cinema_> 1.0.4 pre 2
14:06:57 <wilx> Hmm, movies and TV series can really create strange picture of a country. E.g. from Midsomer Murders series I get the impression that therea are many people there without real jobs. Just living on debt or something.
14:07:43 * SyntaxNinja puts his money on it being a darcs bug, not a cabal bug anywhere.
14:07:54 <SyntaxNinja> HENCE CABAL BEATS DARCS
14:08:08 <dcoutts> @cool add cabal
14:08:08 <lambdabot> Maybe you meant: code moo
14:08:12 <dcoutts> @cool remove darcs
14:08:13 <lambdabot> Maybe you meant: code moo
14:10:07 <Lemmih> darcs' not cool anymore?
14:10:38 <xerox> I do like darcs :(
14:10:38 <Philippa_> wilx: it happens. I'm in no state to work...
14:10:42 <tromp> no, these days it's hot
14:11:13 <wilx> Hmm.
14:11:20 <wilx> Interesting.
14:13:06 <Philippa_> also, you get entire areas where there aren't really any worthwhile jobs available any more
14:13:24 <Philippa_> places where everything sprung up around coal that's not there any more, stuff like that
14:14:16 <tuomov> everything centralises into huge cities
14:14:51 <dcoutts> Lemmih, oh no, darcs is cool, it's only SyntaxNinja who is holding out
14:16:33 <wilx> Hm.
14:17:02 <wilx> So, people live off of their saved money?
14:17:23 <SyntaxNinja> dMcCoutts: there can be only one
14:17:35 <dcoutts> ha!
14:17:49 <wilx> Well, on the other hand, watching the series, it sooo makes me want to live in English countryside :)
14:18:13 <wilx> I mean, besides the murders, it all looks so nice.
14:18:20 * Lemmih looks at a Firefly class space ship made in Lego and is amazed.
14:18:32 <dcoutts> @quote wilx I mean, besides the murders, it all looks so nice.
14:18:33 <lambdabot> wilx I mean, besides the murders, it all looks so nice. hasn't said
14:18:33 <lambdabot> anything memorable
14:18:35 <astrolabe> It is possible (but not pleasant) to live off benefits in the UK
14:18:44 <dcoutts> @quote add wilx I mean, besides the murders, it all looks so nice.
14:18:44 <lambdabot> add wilx I mean, besides the murders, it all looks so nice. hasn't
14:18:44 <lambdabot> said anything memorable
14:18:56 <wilx> Heh.
14:18:57 <dcoutts> oh, it's @remember
14:19:00 <dcoutts> doh
14:19:11 <dcoutts> @remember wilx I mean, besides the murders, it all looks so nice.
14:19:27 <dcoutts> @quote wilx
14:19:28 <lambdabot>  I mean, besides the murders, it all looks so nice.
14:19:32 <wilx> :))
14:20:23 <SyntaxNinja> @quote SyntaxNinja
14:20:24 <lambdabot>  I think that the compiler authors will fly here from england just
14:20:24 <lambdabot> to kill me if I did that
14:20:31 <SyntaxNinja> heh
14:20:31 <wilx> If I could get a job that I could do over internet, like coding stuff, I'd love to live in some such village in some nice cottage.
14:21:38 <astrolabe> I live in a nice town, in a victorian end of terrace.
14:21:58 <cinema_> SyntaxNinja, What do you do after chercking out fptools from cvs, how do you create the GnuMakefile, with autoreconf ?
14:22:33 <SyntaxNinja> cinema_: er, the GnuMakefile isn't in the CVS version; you'll have to grab it from the darcs version or something
14:22:56 <SyntaxNinja> cinema_: but I wonder why you think that a new cabal will solve your problem.
14:23:10 <cinema_> SyntaxNinja, OK, so I mix the Cabal-1.1.1 distrib & the CVS one
14:23:27 <dcoutts> @google ghc cvs cheat sheet
14:23:30 <lambdabot> http://www.haskell.org/ghc/docs/latest/html/building/sec-cvs.html
14:24:04 <dcoutts> cinema_, checking out fptools from cvs is not straightforward, i'd suggest reading the instructions
14:26:45 <cinema_> dcoutts, Thanks, but I do this very often so I have scripts working very well
14:27:24 <cinema_> dcoutts, I compile GHC from CVS Head every fortnight
14:27:56 <SyntaxNinja> cinema_: is there some bug in cabal I don't know about?
14:28:16 <dcoutts> cinema_, oh ok, sorry.
14:28:53 <cinema_> SyntaxNinja, OK, this time cabal compiled successfully (better than with the darcs version)
14:29:15 <SyntaxNinja> that's because you have a buggy darcs :P
14:29:19 * SyntaxNinja isn't joking this time
14:30:49 <cinema_> SyntaxNinja, I had problems with some packages, and thought it was due to the version of cabal. But it's not (and I need to find the packages now, I've forgotten their names)
14:32:13 * Dodecahedron smiles at SyntaxNinja's name
14:34:59 <SyntaxNinja> Dodecahedron: :)
14:35:20 <SyntaxNinja> cinema_: OK. let me know if you need help.  in the meantime, remmeber, cabal > darcs ;)
14:37:10 <cinema_> SyntaxNinja, Yes, sorry for the trouble. I'll remember it for a long time :)
14:38:55 <SyntaxNinja> cinema_: btw, the GnuMakefile is just a trick because gnu make looks for gnumakefiles before it looks for makefiles; adn so in my tree, which has both, it always dtrt
15:12:06 * Beelsebob sat around in the chat room
15:25:36 <Speck> hmm.. I know why I wouldn't want (+) to operate on two strings, but what is the technical reasons? strings are in the same ring? something like that?
15:26:15 <Beelsebob> speck: there's no instance of Num for String
15:26:24 <Speck> oh I don't mean for Haskell
15:26:31 <Speck> I mean theoretically
15:26:42 <Speck> assuming a language with a solid foundation in mathematics
15:27:01 <Beelsebob> okay then... strings aren't numbers, so plus makes no sense
15:27:10 <Speck> something more exacting
15:27:35 <Beelsebob> I'm not really sure there is more of an exact reason
15:27:48 <TheHunter> strings form a monoid, and since it's not commutative, you better not use +.
15:28:04 <Beelsebob> I mean one could reasonably make a group (+, strings)
15:28:18 <Beelsebob> yeh... non-comutivity is a good point
15:28:34 <Speck> but + as it is defined mathematically wouldn't apply to a list of characters
15:28:58 <Beelsebob> speck: it would if you defined the relevant operation
15:29:11 <Beelsebob> the fact that + adds things is just convention
15:29:31 <cinema_> REGISTER poutre
15:30:04 <Speck> but it's a convention for a reason
15:30:15 <Beelsebob> not really
15:30:27 <Speck> sigh
15:31:21 <Beelsebob> + just happens to be a symbol we use for a commutitive, transitive, associative, 0-IDed operation
15:31:33 <Speck> that's what I'm looking for
15:31:51 <Beelsebob> but my point is that it doesn't have to be...
15:31:56 <TheHunter> transitive?
15:32:19 <Beelsebob> yes?
15:32:22 <Speck> I don't care about the semantics of + or any other symbol. I'm wondering what about the properties of the operation described by + lends it to numerals and not strings
15:32:45 <Beelsebob> ah, well as theHunter said... comutivity would be one of them
15:32:54 <Speck> yeah that is enough for me :-)
15:33:20 <Beelsebob> although... you *could* define the + operation on strings as being do a vector adition
15:33:27 <Beelsebob> and then it would be commutative
15:33:42 <Speck> point taken
15:34:06 <Speck> there has to be a better way than arbitrary symbols
15:34:24 <Beelsebob> hmm? you mean symbols that in some way represent semantics?
15:34:34 <Beelsebob> aren't they called named functions?
15:34:51 <Speck> well it would impose, say, commutivity
15:35:03 <Beelsebob> hmm, I see
15:35:25 <Speck> but probably not useful
15:35:33 <Beelsebob> fun all the same
15:35:43 <gzl> it's not restricted to numbers
15:35:52 <Speck> yeah I know
15:36:05 <Speck> but take the more general, but meaningful restrictions and impose them
15:36:20 <gzl> I'm a little confused about what you're asking
15:37:01 <Speck> me too, trust me
15:37:10 <Speck> I'm quite out of my element
15:37:12 <gzl> if you're talking about general rings or something of that nature, + is used because "multiplication" is more commonly thought of as "not necessarily commutative" (e.g. matrix multiplication)
15:38:25 <Speck> there is a balance between generalization and meaningfulness
15:38:52 <gzl> ...yes
15:40:26 <gzl> so what was the actual question?
15:40:55 <Speck> what is the technical (mathematical?) reasoning to not let + operate on strings
15:41:06 <Speck> commutivity was a good, given reason
15:41:17 <gzl> oh, ok
15:41:20 <gzl> yeah
15:41:43 <gzl> though you could overload * or something :)
15:42:12 <Speck> but it would be best to have another operation (++)
15:42:36 <gzl> yeah, it's much clearer
15:43:06 <Speck> because I'm trying to convert a rubyist where + does concatenate strings
15:43:26 <Speck> and I knew why it doesn't in haskell, but only within haskell. I didn't have a formalized reason
15:43:34 <gzl> ok
15:43:45 <gzl> does he actually care that he has to write ++ instead of + ?
15:44:12 <Speck> no but when it comes to ad-hoc overloading he might be unwilling to put the tool away
15:44:24 <gzl> ok
15:44:40 <Speck> I can explain the benefits of polymorphic types, but I wanted to have more in my arsenal
15:45:06 <gzl> monads, type classes
15:45:16 <Speck> :type (+)
15:45:19 <Speck> err
15:45:23 <Speck> @type (+)
15:45:25 <TheHunter> hard to argue with someone about that who thinks that ad-hoc-overloading is a good idea.
15:45:27 <lambdabot> forall a. (Num a) => a -> a -> a
15:45:55 <Speck> it would be interesting if it was: forall a. (Commutative a, etc.) => a -> a -> a
15:46:22 <gzl> it's even harder to argue with somebody who thinks that writing tons of different, highly similar functions is better than using higher-order functions to vastly reduce the amount of code duplication
15:46:51 <Speck> I wouldn't think so
15:46:53 <gzl> the guy actually didn't like map
15:47:10 <Speck> luckily there's a map in ruby
15:47:15 <gzl> well, this guy didn't know ruby
15:47:18 <Speck> and lambdas (without curry though :'( )
15:47:24 <Speck> yeah that's a hard case
15:47:34 <Speck> what language(s) was he coming from?
15:47:39 <gzl> C stuff
15:47:49 <gzl> C, C++, Java, that's it
15:48:18 <xerox> You don't need to convince it I think
15:48:21 <xerox> err, him :-P
15:48:41 <gzl> yeah, I gave up.
15:49:52 <xerox> A friend of mine asked me to help him writing a solution to a uni quiz in C, and after finishing it (~an hour) I showed him the haskell solution
15:50:09 <xerox> It did impress him, and I'm teaching him Haskell ;)
15:50:33 <Speck> I'm teaching my housemates haskell. A physicist, a comp sci. guy, and a philosopher
15:51:54 <gzl> I found it's often easier to explain higher-order functions to somebody who knows nothing about programming than somebody who's been using some language like C for a really long time
15:52:20 <gzl> based on a small sample set, of course
15:52:26 <gzl> anyway, bbl.
15:52:36 <Speck> well my physicist friend is also a mathematician. He was really turned on by the similarities between haskell and math
15:52:37 <xerox> Yeah, one of his bigger problems (I never saw this before) was something like that:
15:52:47 <xerox> myMap f [] = []  -- ok, clear
15:52:55 <xerox> myMap f (x:xs) = ...  -- unclear
15:53:17 <xerox> Because he was concerned about "xs" being the tail, and "containing the tail", as a mutable variables
15:54:40 * rt wonders if it would be crazy to implement a 6502 assembler in haskell.
15:54:46 <Speck> not sure I understand where mutability comes in
15:54:51 <rt> I need one, and it seems like a good excuse to do a real project in haskell.
15:55:23 <Speck> you're in luck! a 6502 assembler forms a monad!
15:55:24 <Speck> :-P
15:56:02 <xerox> Speck: I didn't explain it well.. there is a nice phrase on the wiki, let me find it.
15:56:07 * rt eyes speck suspiciously.
15:56:46 <xerox> Coalgebras are the OO way ("data as a resource"), data is thought as something you "store" in the data structure; there, preserving invariants is important. The data as an interface paradigm is what is used in Haskell's functions, e.g. in a function type (say, A -> B), both A and B are representatives of 'Data as interface', the basic idea there is that you _move_ data from one place to another, performing computations in the process.
15:56:52 * Speck twiddles his hylomorphisms innocently
15:57:12 <Speck> I'm familiar with the OO -> Coalgebra relationship
15:57:46 <xerox> I was referring to the "data as resource" vs. "data as interface" part
15:58:23 <Speck> hmm
15:58:31 <Speck> that may have coagulated my confusion then
15:59:53 <Speck> but pattern matching has always seemed so intuitive
16:00:27 <Speck> or are you talking about the data-centricity overall of fp programs?
16:00:39 <greenrd> xerox: However, preserving invariants can still be important even in fp-centric programs
16:00:49 <SyntaxNinja> dcoutts: hackage is fixed
16:00:50 <SyntaxNinja> Lemmih:  :)
16:00:58 <dcoutts> SyntaxNinja, oh ok..
16:00:58 * Speck is excited for hackage
16:01:07 <SyntaxNinja> Speck: did you try out cabal-get yet? :)
16:01:18 <Speck> I've been a little apprehensive to mess up my distrobution
16:01:32 <Speck> I don't think I could fix it
16:01:33 <greenrd> xerox: Consider a sorted collection, a directed acyclic graph, even a hash set.
16:02:35 <xerox> greenrd: hmm.
16:03:02 * greenrd enjoys trying to poke holes in functional peoples' arguments ;)
16:03:32 <Speck> the coalgebraic OO analogy is pretty widely regarded as incomplete
16:05:17 <dcoutts> SyntaxNinja, I don't see this helloWorld package in hackage
16:05:58 <dcoutts> oh ok, the web interface doesn't seem to show it
16:06:42 <dcoutts> but cabal-get info helloWorld shows it
16:07:08 <Speck> oh I offered someone my web design abilitys for the web interface
16:07:18 <Speck> I think Lemmih. and he said he'd get back to me when it was ready
16:08:26 <dcoutts> Building 'helloWorld-1.0'
16:08:26 <dcoutts>   Configuring...
16:08:26 <dcoutts>   Building...
16:08:26 <dcoutts>   Installing...
16:08:26 <dcoutts> cabal-get: Command failed: 'install Setup.lhs install'. Errno: 1
16:08:28 <dcoutts> hmm
16:08:42 * SyntaxNinja hints that dcoutts should look at the 2nd page of packages on the web interface
16:09:06 <SyntaxNinja> dcoutts: did you install it as --user? or sudo install it/
16:09:06 * dcoutts didn't notice the second page
16:09:21 <dcoutts> SyntaxNinja, ah, I need --user
16:09:29 <SyntaxNinja> the error mesages r0x0r
16:09:43 <dcoutts> yeah
16:10:21 <dcoutts> seems like it ought to use --user be default if I'm an ordinary user / I don't have sufficient permissions
16:10:43 <dcoutts> it should just "do the right thing" :-)
16:11:32 <xerox> @index throw
16:11:32 <lambdabot> Control.Exception
16:11:39 * dcoutts notices that cabal-get --help does not mention the --user flag
16:12:14 <SyntaxNinja> cabal-get --help shows me --user-install
16:12:31 <dcoutts> ah, so it's not --user
16:12:34 <SyntaxNinja> yeah, it maybe should dtrt, or at least suggest the flag if there aren't sufficient permissions to modify the global one
16:12:39 <SyntaxNinja> yeah
16:12:47 <dcoutts> $ cabal-get install --user-install helloworld
16:12:47 <dcoutts> Using config dir: /home/duncan/.cabal-get
16:12:47 <dcoutts> cabal-get: Couldn't satisfy dependency: 'helloworld -any'.
16:12:52 <Speck> link to the web interface for hackage?
16:13:02 <dcoutts> Spark, http://hackage.haskell.org/ModHackage/Hackage.hs
16:13:35 <dcoutts> SyntaxNinja, it seems to be stuck in an odd state now
16:14:45 <dcoutts> SyntaxNinja, do you know where it's build dir is so that I can clean it out?
16:16:18 <SyntaxNinja> cabal-get clean?
16:16:23 <SyntaxNinja> ls ~/.cabal-get
16:23:34 <xerox> @index fail
16:23:35 <lambdabot> Control.Monad, Prelude, Control.Monad.Reader, Control.Monad.Writer,
16:23:35 <lambdabot> Control.Monad.State, Control.Monad.RWS, Control.Monad.Identity,
16:23:35 <lambdabot> Control.Monad.Cont, Control.Monad.Error, Control.Monad.List
16:23:40 * rt tries to get ghc-6.4 to compile again.
16:29:09 <dcoutts> @type fail
16:29:10 <lambdabot> forall (m :: * -> *) a. (Monad m) => String -> m a
16:29:45 <dcoutts> SyntaxNinja, sorry got distracted
16:29:47 <dcoutts> $ ls ~/.cabal-get
16:29:47 <dcoutts> pkg.list  serv.list
16:29:52 <dcoutts> $ cabal-get install --user-install helloworld
16:29:52 <dcoutts> Using config dir: /home/duncan/.cabal-get
16:29:52 <dcoutts> cabal-get: Couldn't satisfy dependency: 'helloworld -any'.
16:30:10 <dcoutts> there's something cached somewhere that's messing something up
16:30:27 <dcoutts> it worked before (at least up to the actuall install step)
16:31:17 <SyntaxNinja> hm. strange
16:31:31 <SyntaxNinja> echo "[]" > ~/.cabal-get/pkg.list
16:31:38 <SyntaxNinja> cabal-get update
16:31:42 <xerox> @type Control.Monad.fail
16:31:43 <SyntaxNinja> and trya gain
16:31:43 <lambdabot> forall (m :: * -> *) a. (Monad m) => String -> m a
16:32:02 <dcoutts> SyntaxNinja do you know where the temp build dir is?
16:33:32 <dcoutts> oh ok, here we go:
16:33:37 <dcoutts> $ cabal-get install --user-install helloWorld
16:33:43 <dcoutts> 'helloWorld-1.0' is present.
16:33:44 <dcoutts> ???
16:33:52 <dcoutts> oh maybe that's ok
16:33:55 <Lemmih> That just means it didn't download it.
16:33:56 <dcoutts> Failed to verify package 'helloWorld-1.0'. Still want to install it? [yn] y
16:33:56 <dcoutts> Building 'helloWorld-1.0'
16:33:56 <dcoutts>   Configuring...
16:33:56 <dcoutts> cabal-get: Command failed: 'configure Setup.lhs configure --user-install'. Errno: 1
16:34:00 <dcoutts> Lemmih, ok
16:34:22 <dcoutts> running again with -v:
16:34:23 <dcoutts> Executing: '/usr/bin/runhaskell Setup.lhs configure --user-install'
16:34:23 <dcoutts> Setup.lhs: Unrecognised flags: --user-install
16:34:23 <dcoutts> cabal-get: Command failed: 'configure Setup.lhs configure --user-install'. Errno: 1
16:34:35 <dcoutts> it's passing --user-install to cabal
16:34:48 <dcoutts> should I be using --user ?
16:34:53 <Lemmih> Put the flag before the command.
16:34:58 <dcoutts> oh
16:35:26 <dcoutts> ok that works :-)
16:36:10 <Lemmih> Flags after the 'install' command are passed to the configure of every package and flags after a package-id is passed when that package is configured.
16:37:02 <cinema_> Lemmih, when I do 'runhaskell Setup.lhs haddock' in ghc-src I get an error
16:37:16 <cinema_> Lemmih, dist/build/tmp/Language/Haskell/GHC/Outputable.hs:126:26: Parse error
16:39:21 <Lemmih> ghc-src doesn't contain any Haddock documentation.
16:39:49 <cinema_> Lemmih, well, that's a clear answer :)
16:41:06 <Lemmih> I've commented out a guard ("-- | ...") which makes haddock fail.
16:42:07 <cinema_> well, if there is nothing to generate, it isn't a problem anyway
16:49:58 <Lemmih> dcoutts: I've uploaded a valid SDL binding.
16:50:38 <dcoutts> Lemmih, ok, let me try...
17:06:11 <dcoutts> Lemmih, well it downloaded and installed ok it seems
17:07:32 <dcoutts> Lemmih, ah, glad to see the packages are being stored as .tar.gz files
17:07:55 <dcoutts> Lemmih, so hackage will be enforcing this style of tarball layout?
17:08:01 <dcoutts> if so, that's great :-)
17:08:20 <dcoutts> no more manual fiddling in ebuilds to set the tarball path correctly
17:09:32 <dcoutts> nice work Lemmih
17:09:39 <dcoutts> right, now off to bed
17:20:16 <Lemmih> 'night.
17:21:15 <SyntaxNinja> Lemmih: any chance of getting that package sanity checker into hackage?
17:26:01 <xerox> Any idea about how can I do a |bracketR :: Render a -> (a -> Render b) -> (a -> Render c) -> Render c|
17:26:14 <xerox> Where Render is |ReaderT Cairo IO a|
17:26:25 <xerox> I tried liftIO in different places but all gives type errors, argh.
17:27:35 <SamB> xerox: maybe you should use well-placed newtype to bring your type errors to a more managable size?
17:27:51 <xerox> Render is a newtype yes
17:27:58 <SamB> oh
17:28:29 <xerox> If I put liftIO $ bracket .. I get a Couldn't match `IO a' against `Render a1'  In the first argument of `bracket', namely `(aquire)' In the second argument of `($)', namely `bracket (aquire) (release) (between)'
17:28:30 <xerox>  
17:29:19 <xerox> and I think I can't liftIO the functions passed as argument to bracket, it doesn't help anyway
17:30:11 <Lemmih> bracketR begin end action = ReaderT $ \r -> bracket (runReaderT begin r) (runReaderT end r) (runReaderT action r)
17:30:23 <Lemmih> erhm.
17:30:53 <Lemmih> (\s -> runReaderT (begin s) r) and (\s -> runReaderT (action s) r)
17:31:04 <Lemmih> Or something like that.
17:32:34 <xerox>     Couldn't match `IO a' against `t -> t1'
17:32:34 <xerox>       Expected type: IO a
17:32:34 <xerox>       Inferred type: t -> t1
17:32:34 <xerox>     In the first argument of `bracket', namely `(\ a -> runReaderT (begin a) r)'
17:32:42 <xerox> Uhm.
17:33:00 <Lemmih> (\s -> runReaderT (end s) r) I meant.
17:33:53 <xerox> Yes
17:34:07 <xerox> I modified all of them
17:34:19 <Lemmih> Don't do it for 'begin'.
17:34:58 <xerox> Good idea.
17:35:14 <xerox>     Couldn't match `ReaderT r IO a' against `Render a1'
17:35:14 <xerox>       Expected type: ReaderT r IO a
17:35:17 <xerox>       Inferred type: Render a1
17:35:18 <xerox> This is subtle
17:35:37 <Lemmih> The code works.
17:35:43 <xerox> :-\
17:35:49 <dave_m> Render is a newtype for ReaderT Cairio IO, right?
17:36:14 <xerox> newtype Render m = Render (ReaderT Cairo IO m)
17:36:14 <xerox>   deriving (Functor, Monad, MonadIO, MonadReader Cairo)
17:36:22 <Lemmih> Oh, doesn't work for newtypes (:
17:36:33 <xerox> OK
17:36:44 <xerox> It compiles if I remove the explicit type signature I wrote
17:37:00 <dave_m> instead of doing [| ReaderT $ \r -> |], try [| ask >>= \r -> |]
17:37:01 <xerox> Thanks much Lemmih.
17:37:12 <Lemmih> Yeah, but it wont work for Render's.
17:37:20 <xerox> Hm?
17:37:24 <xerox> Oh I see.
17:37:25 <dave_m> Render is an instance of MonadReader
17:37:36 <xerox> Yes
17:37:40 <dave_m> you'd need to make other changes, though
17:38:19 <xerox> Yes in fact it makes sense
17:38:36 <xerox> I want to pass the monad "state" inside
17:38:47 <dave_m> is there an auxiliary function along the lines of [| runRender :: Render a -> Cairo -> IO a |]?
17:39:02 <xerox> renderWith :: Surface -> Render a -> IO a
17:39:06 <Lemmih> bracketR begin end action = ReaderT $ \r -> bracket (runReaderT (unRender begin r) (\s -> runReaderT (unRender end s) r) (\s -> runReaderT (unRender action s) r)
17:39:24 <Lemmih> newtype Render m = Render { unRender :: ReaderT Cairy IO m }
17:39:34 <Lemmih> (haven't tested it)
17:39:40 <dave_m> Lemmih: you'd need another Render $ at the beginning
17:39:50 <Lemmih> dave_m: Indeed.
17:40:59 <dave_m> better to define a few lifting functions than rely on the precise definition of Render, though
17:42:19 <xerox> dave_m: what do you mean?
17:42:32 <Tota> Nomius.` Hi!
17:42:45 <xerox> Lemmih: the first one is (runReader (unRender begin) r) ?
17:42:55 <Tota> Nomius.` Do u like Haskell?!
17:43:23 <psi> heh
17:43:39 <xerox> Cool it compiled
17:43:46 <xerox> Could you try explaining that code? :-)
17:43:58 <xerox> I don't completely get unRender
17:44:17 <dave_m> unRender :: Render a -> ReaderT Cairo IO a
17:44:58 <dave_m> it's the dual to Render (the data constructor)
17:45:37 <xerox> Oh I see, it just unwraps the newtype
17:46:46 <xerox> Thanks much.
17:48:36 <dave_m> xerox: By lifting functions, I stuff to do the conversions between Render and the "lower" monads. It can make the code cleaner than having a bunch of runReaderT (unRender ...) stuff scattered about
17:49:18 <dave_m> you can also use it to hide the internal structure of the monad
17:49:57 <xerox> Uhm, I think I understand.
17:51:48 <xerox> 2am here, tough.
17:51:52 <xerox> Thanks again, goodnight folks.
18:42:43 <Korollary> "...with 5yrs+ of C++, Perl, Java or .net on a unix platform"
18:45:03 <Lemmih> huh?
18:45:09 <Lemmih> ah (:
18:54:25 <dons> @seen CosmicRay
18:54:26 <lambdabot> I saw CosmicRay leaving #haskell 8 hours, 49 minutes and 1 second
18:54:26 <lambdabot> ago.
19:16:00 <dons> hmm. targeted spam after posting to haskell@: I saw that you posted a couple of messages on the Haskell mail group. We
19:16:03 <dons> are developing software to try to make people's mail boxes cleaner...
19:20:39 <lispy> weir
19:20:41 <lispy> d
19:20:57 <lispy> so they clean your mailbox by spamming you?
19:21:02 <lispy> that's thoughtful
19:21:18 <dave_m> wouldn't that involve some sort of anti-spam?
19:21:29 <dons> the ironic spammer
19:22:12 <dons> maybe they promise to stop spamming you once you buy their product..
19:22:22 <dons> (i hope that's not the cas!)
19:23:43 <TheHunter> btw, does anybody have a recommendation for a good mail client?
19:23:44 <dave_m> Actually, I wonder how successful you could be if you asked people for their credit card information so you could put them on your (imaginary) spam-blocking service
19:24:09 <dave_m> TheHunter: what platform?
19:24:09 <dons> TheHunter, I like mutt. though it's configuration language should be Haskell ;)
19:24:51 <TheHunter> linux. I'm currently using mutt, but i'm starting to think it isn't powerful enough to handle multiple addresses.
19:25:31 <lispy> TheHunter: i have no recommendation.  I have yet to see a "good" email client...
19:25:36 <dave_m> There's probably a dozen ways to do it in emacs :)
19:25:57 <lispy> dave_m: yes, VM and gnus both have at least two ways each
19:26:16 <dave_m> how long before yi is an e-mail client?
19:26:17 <lispy> i know, because i've tried four different ways between the tow
19:26:25 <TheHunter> well, i'm a vim guy :)
19:28:10 <dave_m> come to think of it, I think there's some law to the effect that any actively developed Unix tool will eventually become capable of sending e-mail
19:28:59 <lispy> heh
19:29:00 <dons> which is probably not a healthy thing to do
20:15:22 <TheHunter> hmm, maybe i'll go for evolution.
20:21:41 <dons> isn't it a gui/graphic thingo?
20:21:57 <dons> or can it be reliably navigated with keystrokes?
20:24:26 <TheHunter> not as effectively as mutt, but i guess it'll work somehow. I'm also concerned about memory wastage, as I only have 256 mb of ram.
20:25:10 <TheHunter> but the way i'm using mutt right now, i'm forgetting about many emails i actually wanted to answer.
20:25:48 <TheHunter> and only being able to send from one address isn't satisfactory either.
20:25:49 <dons> how so?
20:25:59 <dons> ah, fair enough.
20:26:27 <TheHunter> they all end up in the inbox folder which I almost never check.
20:26:32 <dons> did you look at elmo, that was one I was considering a couple of years ago. maybe it's time I looked again.
20:27:29 <dons> 2 years ago it was fast, but segfaulted. I actually wrote hs-plugins as part of a plan to write elmo-in-haskell, but got distracted..
20:27:54 <TheHunter> oh, i'll have a look then.
20:28:10 <dons> from what you say, elmo is probably too featureless, I think. though I'd have to see what it does now
20:29:08 <dons> oh, apparently it is now "Feature Rich"
20:29:59 <dons> elmo.sourceforge.net, but it seems the project is over in 2004/07
20:33:19 <TheHunter> partial GPG support (decoding, and signature verification)
20:33:26 <TheHunter> doesn't look good.
20:34:56 <dons> yeah. oh well
20:35:35 <dons> mutt is too slow
20:39:16 <stefanw> TheHunter: can't you define a hook in mutt which sets the From header of the anwser according to the To header of the mail you are answering?
20:39:20 <stefanw> TheHunter: can't you define a hook in mutt which sets the From header of the anwser according to the To header of the mail you are answering?
20:39:57 <stefanw> sorry, IRC client / network too slow, so I sent it twice
20:42:35 <TheHunter> hmm, maybe that kind of thing would work. But i'd have to fight exim, too :/
20:42:57 <stefanw> why that?
20:43:23 <TheHunter> use different mail-servers for different From-Headers.
20:43:50 <stefanw> ic
20:44:45 * dons tries elmo 1.3.2 as the cure for his mutt blues
20:46:09 * stefanw tried several other mail clients as well, but he always came back to mutt
20:47:13 * TheHunter already sees himself experiencing the same thing.
20:48:09 <TheHunter> evolutions time-zone selecting dialog is already annoying me.
20:49:22 * dons fires up elmo, fingers crossed
20:49:59 <dons> sigh. select: Interrupted system callp/elmo-1.3.2'
20:50:45 * dons switches back to mutt
20:50:55 <stefanw> hehe
20:51:00 <stefanw> I knew it
20:51:09 <dons> you can never escape!
20:52:06 <stefanw> I guess evolution has rebooted TheHunter's machine :-)
20:52:22 <dons> hehehe
20:53:01 * stefanw avoids going back to his stupid proofs...
20:53:02 <dons> maybe it is secretly mutt doing this to every other mail client
20:53:11 <dave_m> how long will it be until someone creates a competing e-mail client called IntelligentDesign?
20:53:24 <dons> it forks some nasty process that sends signals and data at any other mail client
20:55:50 <TheHunter> grrr, stupid unreliable dns-server.
20:56:23 <TheHunter> evolution just bombed me with error messages and i had to restart the x-server.
20:56:48 * stefanw was right!!
20:56:52 <dons> heh. stefanw guessed it had crashed your machine!
20:57:09 <dons> i already gave up on elmo after is crashed on me
20:57:21 <TheHunter> hehe.
21:04:58 <dons> stefanw, bah! Stumps, Day 2: England 477, Australia 5-99
21:05:13 <TheHunter> strange. I really would have expected a "schedule a task for answering that email" entry in the context menu of messages.
21:06:59 * TheHunter wonders why almost all programs are missing obvious features.
21:07:32 <stefanw> dons: yup, pretty bad. The aussie batsman are not in a good shape, ponting and martyn out for 1
21:08:10 <stefanw> they'll have a hard time avoiding the follow-on
21:08:15 <dons> sigh. after 20 years winning the ashes, maybe we're going to lose this time.
21:08:22 <dons> makes it interesting though
21:08:51 <stefanw> but must this happen when I'm in australia?!
21:09:14 <dons> hehe. you came too late. the team is old now. many have already retired. probably the peak was 3-4 years ago.
21:09:55 <Cale> It would be nice if GUIs were more configurable. It's easy to add commands to the unix commandline, but in order to add a new menu entry to do something obvious in a GUI app, you generally have to recompile it.
21:10:30 <dons> Cale, nice idea.
21:11:09 <stefanw> this is not necessarily true, see eclipse for example
21:11:37 <Cale> There should be some sort of edit mode where you can drag things around and add scripted menu options and such.
21:12:00 <Cale> and it should be part of the widget library
21:12:12 <dons> I wonder if they can do this on the mac. they seem to have a pretty good system there
21:12:53 <dons> i've see ozone whip up new applications by dragging and dropping gui components, hooking into haskell code underneath
21:13:17 <Cale> With Glade?
21:13:26 <dons> cocoa(?) but whether you can actually extend anything dynamically, not sure.
21:13:37 <Cale> ah, on the mac
21:14:08 <Cale> yeah, I'm not so sure about extending things dynamically, but I think there's some kind of scripting system which you can hook into
21:14:16 <dave_m> a lot of software on the mac is scriptable, so you can write short programs that extend application functionality
21:16:52 <dons> the implementation of Data.Map should be considered a benchmark in library construction in Haskell, I think
21:17:11 <Cale> dons: I think so too
21:17:35 <Cale> though there are a few things I'd like to see added
21:18:22 <dons> it is very thorough. I'm trying to write FastPackedString along these lines now.
21:18:33 <dons> all the QuickCheckery is good
21:19:17 <dave_m> Yeah, I used Data.Map (back when it was still in DData) as the model for my personal Trie-based map
21:19:26 <Cale> (mostly dealing with Set and Map -- it would be nice to be able to get the domain and codomain of a Map in the form of a Set, and also given a (Set a) and a function (a -> b), to get a (Map a b)
21:23:10 <dons> stefanw, committed that hunit patch to head.
21:51:50 <stefanw> dons: good
22:50:59 <lispy> @hoogle Rational -> Float
22:51:00 <lambdabot> Prelude.fromRational :: Fractional a => Rational -> a
22:51:00 <lambdabot> Numeric.fromRat :: RealFloat a => Rational -> a
22:51:00 <lambdabot> Prelude.realToFrac :: (Real a, Fractional b) => a -> b
23:11:08 <luqui> Can I put my own information in the IO monad?
23:11:49 <luqui> That is, can I write a function foo :: IO ()  that doesn't in turn call any of the other standard :: IO () functions?
23:12:00 <luqui> but puts information into a "state" that I can access later?
23:12:50 <luqui> (I know I can use State or StateT for that; but I want to make it necessary to bind to main just like all the other IO stuff)
23:13:07 <dons> you'd have to store it somewhere.
23:13:27 <luqui> store what somewhere?
23:13:32 <luqui> oh like in a file?
23:13:34 <Cale> the state
23:13:36 <dons> an IORef is the usual way, though not as elegant as actually using a State monad
23:14:03 <luqui> dons, IORef was exactly what I was looking for
23:14:03 <luqui> thanks
