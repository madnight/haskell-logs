00:31:17 <ozone> herro, anyone here know of a decent parser combinator library besides parsec?
00:43:35 <nlv11757_> morning
00:46:44 <musasabi> ozone: I am working on parser combinator arrows.
00:46:52 <musasabi> ozone: except something in a week or so.
00:48:50 <Oejet> musasabi: I tried to look into that too.  Didn't get very far though.  How far are you?
01:01:33 <kosmikus> Si\: just to clarify, your new HCAR entry replaces *all* the old entries?
01:02:07 <bourbaki> moin
01:02:11 <pesco> Moin
01:02:25 * pesco waves to kosmikus.
01:02:35 <bourbaki> pesco: do you happen to be that ccc guy?
01:02:49 <pesco> kosmikus: Thanks again for the nudge wrt. the HCAR. :)
01:03:32 <kosmikus> pesco: thanks for your entries
01:04:17 <pesco> bourbaki: I guess, in the sense that all other CCC guys would probably say "you happen to be that haskell guy?" about me. ;)
01:05:18 <bourbaki> pesco: heh sry for beeing so unspecifically just happened to stumble over these talks
01:05:45 <pesco> kosmikus: BTW, have you looked at my pragma patch to lhs2TeX?
01:06:37 <pesco> bourbaki: No problem, how'd you stumble over them? From the congress site?
01:07:33 <bourbaki> pesco: yep a friend attendet the congress and showed me some of the material on the congress site so i cross read some stuff and found someone named pesco heh
01:07:47 <pesco> I see. ;)
01:08:47 <bourbaki> what was this tools name again that is like ncftp but for scp?
01:08:49 <kosmikus> pesco: I've looked at it, but I'm not completely convinced. there are currently two possibilities: either I'll release an lhs2tex-1.11 before the HCAR; then it will be quite conservative and not contain your patch; or I'll not do it now (and then who knows when I will), and then I'll definitely try to do *something* about pragmas for the next release, possibly your patch, possibly some variation of it.
01:08:51 <pesco> Hm, I wonder if they ever finished up the feedback results to the talks...
01:09:26 <pesco> kosmikus: Hm.
01:09:31 <kosmikus> I stumbled about one of pesco's CCC talks as well some time ago, just by accident ...
01:10:40 <bourbaki> pesco: what did you talk about anyway if you do not mind me asking heh i just saw you listed in the members section
01:11:03 <bourbaki> cause i thought there was a talk on haskell on the congress didnt find it though
01:11:29 <kosmikus> pesco: sorry, I know that's not the answer you would have liked ...
01:11:31 <pesco> bourbaki: I essentially gave them a ride through the wonderful land of Haskell. Showing off the sights was the idea.
01:12:03 <pesco> kosmikus: No problem. ;)
01:14:45 <pesco> kosmikus: Were there any specific things you didn't like in the patch?
01:16:09 <FrederikEaton> when cabal says "cannot parse package list", which one is it talking about?
01:16:21 <FrederikEaton> i have verbose=5
01:17:39 <pesco> I need to go take a shower. Be back in a bit...
01:20:13 <bringert> JaffaCake: do you know the reason why in ghc 6.4 on windows, "readline" is not it the extraLibraries field of the readline package?
01:20:48 <bringert> this means that System.Console.Readline is unusable, even if libreadline is installed
01:20:51 <JaffaCake> not sure exactly - have you checked the recent messages on the list related to readline on Windows?
01:21:02 <kosmikus> pesco: I don't particularly like the titlecase hack ...
01:21:12 <bringert> I checked yesterday, only thing I could find was about ghci
01:21:24 <JaffaCake> ah yes, might have been GHCi only
01:21:44 <JaffaCake> afaik, readline should be in extraLibraries
01:22:18 <bringert> adding it makes it work, but I don't feel that asking users to do that is right
01:22:36 <bringert> adding -lreadline to the ghc command-line doesn't help for some reason
01:22:45 <bringert> neither does -optl-lreadline
01:22:55 <JaffaCake> the 6.4.1 snapshot from Sigbjorn does have it in extraLibraries
01:23:05 <bringert> for windows?
01:23:09 <JaffaCake> yep
01:23:42 <musasabi> Oejet: well I have basic parsing working, and currently I am looking into optimizing things.
01:23:43 <JaffaCake> ah, but it also comes with libreadline.a
01:24:02 <bringert> that would be ok, wouldn't it?
01:24:32 <bringert> do you know why having it in extraLibraries does the trick, when -lreadline doesn't?
01:24:56 <JaffaCake> it depends where GHC is looking for it
01:25:06 <JaffaCake> where is your libreadline.a
01:25:09 <JaffaCake> ?
01:25:53 <nlv11757_> why is it that strictness annotations don't make sense with type synonyms?
01:26:16 <bringert> JaffaCake: in /cygwin/lib/libreadline.a
01:26:37 <bringert> and in c:/ghc/ghc-6.4/gcc-lib/libreadline.a
01:26:40 <JaffaCake> you can't use the cygwin one - it has to be mingw
01:26:50 <Oejet> musasabi: Great, so could I maybe help by making higher level combinators?
01:26:53 <JaffaCake> ah, ok, you have one that comes with GHC
01:27:08 <JaffaCake> in that case, I would expect -lreadline to work
01:27:13 * bringert is running find on the windows partition
01:27:30 <kosmikus> nlv11757_: where would you want to put them in type synonyms?
01:27:57 <nlv11757_> type bla = (!String, Exp, Location)
01:28:03 <bringert> added -lreadline doesn't change anything, the linker still complains about missing readline and addHistory
01:28:30 <JaffaCake> then I don't know, sorry :(
01:28:37 <bringert> ok, thanks
01:28:44 <JaffaCake> check that your libreadline.a has the required symbols?
01:29:42 <lightstep> @wiki HaskellIrcPastePage <- can anyone explain the error please?
01:29:43 <musasabi> Oejet: Sounds very nice, I will have a darcs repository up in a few days.
01:29:44 <lambdabot> http://www.haskell.org/hawiki/HaskellIrcPastePage <- can anyone explain the error please?
01:30:08 <kosmikus> nlv11757_: ah, but an argument to a type constructor does not correspond directly to a value in general
01:32:29 * bringert needs to set up a windows machine to ssh to
01:32:30 <kosmikus> nlv11757_: strictness annotations on datatypes do in fact correspond to the strictness of the constructor functions
01:32:49 <nlv11757_> owwww
01:32:52 <kosmikus> nlv11757_: what if there are no constructors, what should "type X = IO !String" mean?
01:33:04 <nlv11757_> now i understand why it doesnt make sense with 'type'
01:33:08 <nlv11757_> no function :)
01:33:17 <nlv11757_> so no argument that can be forced
01:33:27 <Heffalump> bringert: stepcut said he'd sort out the license of NewBinary and some other stuff at the weekend, btw
01:33:33 <nlv11757_> thanks kosmikus
01:33:37 <bringert> Heffalump: cool, thanks
01:41:43 <pesco> kosmikus: Re titlecase. I can see that, but I spent about half a day trying to figure out how to do it in TeX, concluding that it must be next to impossible (Ugh!). Of course if you know any way, I'm all ears!
01:44:51 <kosmikus> pesco: hehe ;) yes, I think it's possible if you know that the input is a well-behaved string of ascii characters
01:46:12 <pesco> Hm, IIRC, I couldn't for the life of it figure out how to seperate the first character from the rest. Or something like that. Actually I have no clue about TeX.
01:47:48 <lightstep> what does "Illegal instance declaration" mean?
01:48:03 <nibro> lightstep: you need the -fglasgow-exts flag to ghc, otherwise you can't use MPTCs
01:48:31 <kosmikus> pesco: separating a character is possible by using a \def; say, for instance, "\def\getfirst#1#2\end{#1}" and then "\getfirst Foo\end"
01:49:38 <pesco> Er. Hm.
01:51:28 <pesco> Damn, you're right. How does that work?! ;)
01:52:00 <lightstep> nibro, thanks
01:54:16 <kosmikus> pesco: read the TeXbook ;)
01:54:29 <pesco> Ya.
01:54:49 <kosmikus> pesco: \def\Titlecase#1{\MakeUppercase{\GetFirst #1\End}\MakeLowercase{\GetRest #1\End}}\def\GetFirst #1#2\End{#1}\def\GetRest #1#2\End{#2}
01:56:19 <kosmikus> doesn't work on empty argument, though
02:11:52 <Lor> Does anyone know of a C parser for Haskell?
02:13:49 <nlv11757_> what kind of C does it have to support?
02:14:02 <nlv11757_> what kind of constraints on the produced AST do you have?
02:14:31 <musasabi> Has anyone got a fairly large parsec grammar + large input files for it?
02:15:21 <Lor> It should be able to understand declarations. Expressions and statements are immaterial.
02:15:48 <musasabi> Lor: maybe hsc2hs has something like that - or the other ffi generators.
02:15:51 <mauke> hrhr, I have a simple declaration parser but it's written in perl
02:16:14 <ozone> if you have e.g. "data Foo a = Foo ![a]", that means the list in Foo will still be lazy, right?
02:16:21 * Lor considers writing a tool to generate headers from a C file.
02:17:30 <mflux> bison/yacc-files for ansi c are 'around' somewhere
02:17:41 <mflux> bison/flex I mean
02:18:12 <Lor> Yeah, there are also antlr grammars.
02:18:18 <Lor> But I'd rather do this in haskell, sml or scheme.
02:18:53 <ozone> Lor: one of my research buddies has a full C parser written in haskell.  dunno how fit it is for distribution, though
02:19:05 <nlv11757_> Lor, if you are considering ocaml as an implementation language then you should use CIL
02:19:08 <ozone> it supports every gcc extension too, apparently ...
02:19:41 <nlv11757_> http://manju.cs.berkeley.edu/cil/
02:27:10 <musasabi> How would I define "ntimes :: Arrow a => Int -> a i o -> a i [o]" ?
02:28:46 <musasabi> basically "ntimes 1 p = p", "ntimes 2 p = (p &&& p) >>> pure (\(a,b) -> [a,b])" ...
02:29:44 <Lor> cil seems a bit overkill for my needs.
02:30:47 <TheHunter> ntimes (n+1) p = (ntimes n p &&& p) >>^ uncurry (:) ?
02:33:50 <musasabi> thanks, I tried to get it in one combinator and didn't think of a recursive definition...
02:33:57 <TheHunter> @docs Control.Arrow
02:33:59 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Control.Arrow.html
02:34:58 * TheHunter wonders why there's no liftA2 f p q = p &&& q >> uncurry f in the libs
02:35:06 <TheHunter> err, >>^
02:36:41 <musasabi> got that one working nicely.
02:47:49 <vincenz> @seen shapr
02:47:51 <lambdabot> I saw shapr leaving #haskell 2 days, 17 hours, 47 minutes and 30
02:47:51 <lambdabot> seconds ago.
02:47:52 <vincenz> shapr died?
02:49:01 <thou> JohnMeacham: i'm trying to cabalize the Curses binding that you did for the gail client; have you already done something like that?
02:50:48 * pesco returns from reading the TeXBook.
02:50:57 <pesco> kosmikus: How do you make it work for empty strings also?
02:52:54 <foxy_> is there a way to get a function to return a value and itself? I can only come up with infinite types, is this what continuations are?
02:55:01 <thou> foxy_: will returning a pair work?
02:55:32 <foxy_> thou I've tried returning a pair
02:55:38 <TheHunter> foxy_, say you want a function from a to b and itself. This leads to infinite types, so haskell won't allow it, but you can use a newtype:
02:56:00 <TheHunter> Fun a b = Fun { runFun :: a -> (b, Fun a b) }
02:56:15 <foxy_> ah, that's what I'm after, thanks
02:56:27 <thou> ah
02:57:32 <thou> hey, i've run into a parse error (so it should be easy to solve)
02:57:33 <foxy_> I'm making intelligent fields in a record
02:57:55 <thou> the file is here:  http://www.magnesium.net/~thim/tmp/NCurses.hsc
02:58:14 <thou> $ runghc Setup.lhs build
02:58:16 <thou> ...
02:58:21 <thou> NCurses.hsc:158:8: parse error on input `import'
02:58:41 <thou> it doesn't like foreign import ....
02:59:06 <thou> do i need to add something to my NCurses.cabal file?
02:59:13 <thou> or my Setup.lhs?
02:59:51 <Lemmih> Did you put ForeignFunctionInterface in the Extensions field?
02:59:58 <thou> nope
03:00:02 <thou> lemme try that
03:00:41 <thou> cool
03:00:45 <thou> thanks, Lemmih
03:01:17 <thou> i was looking at another packages .cabal file that must do it a different way
03:01:42 <thou> via user hooks or some pragma
03:01:42 <foxy_> TheHunter, is that an arrow?
03:02:30 <Lemmih> thou: Using the ForeignFunctionInterface extension is the Right Way.
03:02:52 <JohnMeacham> thou: no. but I think someone else split it off into its own library. it has been used in a few other projects.
03:03:13 <JohnMeacham> thou: There is a bug in ghc 6.4 that causes it to segfault.
03:03:57 <thou> JohnMeacham: i didn't find it on google, but i'd be surprised if no one else did it yet
03:04:13 <thou> JohnMeacham: i haven't got it to compile yet, so i don't know if it'll segfault on me
03:04:17 <thou> :-)
03:04:59 <TheHunter> foxy_, quite possibly, but it's not in the error transformer library.
03:07:23 <JohnMeacham> thou: I think it was based on the version in yi which is based on the version by the guy who wrote ion.
03:07:43 <JohnMeacham> (which is based on mine, which is based on the guy who wrote qforeign's)
03:07:46 <thou> ah, i didn't look at yi
03:08:17 <thou> that project's relatively active, I think, I should grab the one from there
03:09:24 <thou> @google yi haskell text editor
03:09:26 <lambdabot> http://www.cse.unsw.edu.au/~dons/yi.html
03:15:19 <TheHunter> foxy_, i guess it's kinda pointless to view it as an arrow, but anyway, here it goes:
03:17:01 <TheHunter> http://hbin.dyndns.org/pastebin/42.html
03:19:00 <kosmikus> pesco: that's a relatively easy exercise :)
03:21:14 <pesco> kosmikus: OK, don't tell me! ;)
03:21:42 <dons> thou, Stefan Weir split the yi ncurses lib into its own library. let me find the repo url
03:23:49 <thou> dons: thanks, that'd be helpful
03:24:12 <dons> darcs get http://www.stefanheimann.net/darcs/hscurses
03:24:38 <dons> it's also used in riot. the yi one comes from ginsu. so this curses binding has a long and venerable tradition
03:24:41 <thou> @karma+ dons
03:24:42 <lambdabot> dons's karma has been incremented
03:25:13 <thou> it'd be nice to have one on the Libraries page on haskell.org
03:25:58 <dons> maybe mail stefanh@cse.unsw.edu.au ;)
03:28:59 <dons> Lor, there's a C parser written in parsec, I think, in c2hs
03:30:11 <dons> @ghc
03:30:12 <lambdabot>  accepting non-standard pattern guards (-fglasgow-exts to suppress
03:30:12 <lambdabot> this message)
03:30:18 <dons> sure. that's ok.
03:31:44 <reffie> @ghc
03:31:44 <lambdabot>  parse error (possibly incorrect indentation)
03:35:24 <TheHunter> @ghc
03:35:25 <lambdabot>  Unexpected strictness annotation
03:37:30 <dons> that's an easy one.
03:38:32 <dons> newtype F = F !Int
03:39:35 <TheHunter> foxy_, yeah, it's been done: check out http://www.soi.city.ac.uk/~ross/papers/fop.html
03:41:11 <thou> dons: do you know why I'd get ./HSCurses/Curses.hs:1716: invalid preprocessing directive #def
03:41:16 <thou> (plenty of those)
03:42:09 <thou> i've made a quick .cabal file for it, with the very simple Setup.lhs
03:45:13 <dons> you don't have hsc2hs ?
03:45:43 <thou> hmmm, hsc2hs is leaving them in for some reason?  ./Setup.lhs configure says configure: Using hsc2hs: /usr/local/bin/hsc2hs
03:45:50 <dons> can you build yi without these errors? (I've not seen them before)
03:46:09 <thou> haven't tried building yi
03:46:17 <thou> i'll give that a shot real quick
03:46:25 <thou> try building it static for simplicity
03:47:07 <thou> grr, i don't have alex at the moment
03:51:16 <thou> dons: it builds ok; must be something wrong with how I'm doing it in the hscurses lib
03:59:05 <thou> hmmm, i'll tackle it later
03:59:14 <thou> good night, all; much thanks for the help!
04:01:12 <foxy_> where is alex located?
04:01:44 <thou> usualy same place as ghc
04:01:51 <thou> (/usr/local/bin/alex)
04:02:22 <foxy_> :) I mean, where can I download alex from?
04:02:27 <thou> hehe
04:03:02 <thou> http://haskell.org/alex/#Download
04:03:07 <foxy_> thanks
04:03:14 <thou> np
04:06:08 <musasabi> Why is there no Ord for StableNames?
04:06:25 <musasabi> Makes it very hard to make a collection of them...
04:06:27 <FrederikEaton> WHY!
04:06:34 <FrederikEaton> i ask myself that question
04:06:49 <FrederikEaton> the paper describing them even says they are an instance of Ord
04:07:12 <JaffaCake> musasabi: hang on, I'll take a look
04:08:01 <musasabi> thanks :-)
04:08:17 <thou> dons: well, i got it to build with a few ugly tweaks to mk/config.mk; but ghc-pkg is barfing on the pkg; so now I need to figure out how to cabalize it.  that'll be for tomorrow
04:08:20 <thou> :-)
04:08:22 <thou> g'night
04:08:55 <FrederikEaton> i added cabal support to toast, so now there is an easier way to install my wonderful program
04:09:00 <FrederikEaton> GET http://ofb.net/~frederik/toast | perl -x - arm http://ofb.net/~frederik/pencilpond/pencilpond-0.1.2.tar.gz
04:13:37 <FrederikEaton> with it you navigate a tiling of the hyperbolic plane by moving the mouse around
04:14:06 <FrederikEaton> i wrote it to learn about X
04:14:09 <JaffaCake> musasabi: I *think* it's just an omission in the interface
04:14:32 <JaffaCake> you can make a collection using hashStableName
04:15:19 <JaffaCake> you could also define an instance of Ord using hashStableName, but there is a very very small chance that it would give the wrong answer sometimes
04:15:32 <musasabi> So basically use something like Data.IntMap.IntMap [(StableName,SomeValue)] ?
04:15:57 <JaffaCake> sure, that's one way
04:16:47 <JaffaCake> actually, the obvious Ord instance might even be correct
04:17:37 <dons> thou, probably you can grab the pkg.conf from yi -- that's updated for 6.4
04:18:33 <musasabi> maybe I'll go with that and make a note to investigate it further if any problems come up.
04:18:36 <Cybertnt> hey guys, can anybody point me to a good (subjective opinions wanted ;p) haskell book?
04:19:57 <JaffaCake> Cybertnt: the Haskell 98 Report, published by Cambridge University Press, and the GHC User Guide. :)
04:20:29 <JaffaCake> (not a good choice if you want a *tutorial*, I should add)
04:20:47 <Cybertnt> no i dont want a tutorial, i want the lot :P
04:21:22 <Cybertnt> this is what you are referring to? http://haskell.org/ghc/docs/latest/html/users_guide/index.html ?
04:21:27 <JaffaCake> yup
04:21:37 <foxy_> dons, yi: config.status: error: cannot find input file: mk/config.h.in
04:22:09 <dons> autoreconf
04:22:53 <Cybertnt> JaffaCake: and that? http://www.amazon.com/exec/obidos/tg/detail/-/0521826144/qid=1115810581/sr=8-1/ref=sr_8_xs_ap_i1_xgl14/102-0791751-9143304?v=glance&s=books&n=507846
04:23:48 <JaffaCake> that's right - you can read it on the web, though  http://www.haskell.org/onlinereport/
04:24:06 <Cybertnt> ah so no need to buy anything then?
04:24:26 <JaffaCake> well, like I said, if you want tutorial material then you're better off buying a book
04:24:38 <Cybertnt> is that something a beginner should read or does it target more advance users?
04:25:01 <JaffaCake> the Haskell Report is definitely for the more advanced reader
04:25:16 <JaffaCake> the GHC User Guide you definitely want to read if you're using GHC
04:25:26 <Cybertnt> ah! then i misunderstood what you meant by tutorial; i rather think of tutorial as a short piece of introduction to a specific thing
04:26:20 <Cybertnt> JaffaCake: would you know a good beginners read to haskell?
04:27:48 <JaffaCake> probably others here can give you more help on that, but I believe Simon Thomson's book is a good one, and so is Paul Hudak's
04:28:07 <JaffaCake> there are lots of good introductions on the web, too
04:28:25 <Cybertnt> are there links for that on haskell.org?
04:28:35 <JaffaCake> http://www.haskell.org/learning.html
04:28:49 <Cybertnt> thanks!
04:28:57 <JaffaCake> no problem, enjoy Haskell ;)
04:29:24 <Cybertnt> heh, well i have got some haskell knowledge already just want to learn more ;)
04:39:39 <nlv11757_> "..where I worked on advanced scripting languages such as Haskell.."
04:39:45 <nlv11757_> advanced scripting languages :S
04:41:59 <foxy_> dons: hsc2hs doesn't find an include file (curses.h), It's in /usr/include
04:45:36 <dons> on linux?
04:45:58 <foxy_> cygwin ;)
04:46:01 <dons> or cygwin..
04:46:03 <dons> hehe.
04:46:08 <dons> ok. patch away!
04:46:20 <dons> probably just add the correct search path to mk/config.mk.in
04:46:25 <foxy_> ok
04:46:35 <dons> or to the configure.ac test once you work out the magic
04:47:02 <dons> hmm. it'd be kinda cool to see yi on windows :}
04:47:41 <foxy_> I'll try %
04:49:22 <foxy_> shouldn't /usr/include be in the default path of hsc2hs?
04:50:15 <dons> seems to be found by default on unix.
04:50:30 <dons> don't know what's happening on cygwin.
04:50:46 <dons> shouldn't be too hard to adjust the -I flag
04:58:11 <pesco> kosmikus: \def\titcase#1{\if#1\empty\else\uppercase{\head #1\end}\lowercase{\tail #1\end}\fi}
04:58:25 <pesco> kosmikus: Is that the Right way to do it?
05:05:08 <tromp> funny to read on haskell-cafe: Python 3000 won't happen soon, but ....
05:07:25 <tromp> shld be there in 50 generations:)
05:09:36 <TFK> The later it arrives, the longer lambda will live.
05:10:25 <dcoutts> JaffaCake, I know its a difficult question, but... what sort of time frame would you guess at for ghc 6.4.1? 2 weeks, a month, 2 months+ ?
05:10:44 <JaffaCake> maybe a month?
05:11:08 <kosmikus> pesco: no
05:11:14 <dcoutts> we're planning a release for gtk2hs and trying to figure out what we need to fix
05:11:17 <JaffaCake> does that work for you?
05:11:18 <kosmikus> pesco: \if doesn't work the way you think
05:11:25 <dcoutts> JaffaCake, ok, ta.
05:11:37 <dcoutts> yes, fine
05:11:41 <JaffaCake> great
05:12:03 <JaffaCake> I want to get all the amd64 changes in, and hopefully get GHCi working
05:13:11 <dcoutts> give us a shout when the gc and ffi fixes are in and I'll see if all our gtk2hs demos still segfault :-)
05:13:47 <JaffaCake> sure thing
05:15:00 <pesco> kosmikus: It seemed to work in my tests.
05:15:51 <pesco> kosmikus: So should it be \ifx?
05:15:52 <kosmikus> pesco: try \titcase{xxx}
05:16:51 <kosmikus> pesco: "\if!#1!\relax\else" is a common trick
05:16:52 <skew> kosmikus: please, #haskell is a G-rated channel
05:17:02 <kosmikus> skew: :)
05:17:09 <TFK> What's G-rated?
05:17:24 <juhp> JaffaCake: has anyone got ghc building with gcc-4.0 btw? :)
05:17:24 <Philippa> skew: er, it is?
05:17:42 <Philippa> TFK: "General" or something. Kiddy rating for films
05:17:58 * juhp just tried building ghc-6.4 with fedore core 4test3...
05:18:05 <skew> Philippa: well, usually
05:18:29 <Philippa> it's usually G-rateable, sure
05:18:29 <pesco> TFK: For general audience. That means it couldn't have any tits, let alone in latex.
05:18:48 <skew> I doubt there are more than a handful of people deeply offended by monads or lazy evaluation
05:18:53 <TFK> Why would you want to put the poor birds in latex? o.o;;
05:18:54 <skew> although it would be fun to find some :)
05:19:16 <Philippa> we get one once in a while
05:19:31 <Philippa> I know far too many people who think of monads as a hack, for example
05:19:32 <nlv11757_> there should be a children series 'monad transformers'
05:20:13 <skew> I don't think I've seen any. Do they think denotational semantics are a hack too, or just monads like IO?
05:20:13 <Philippa> with a bad guy plotting to introduce a transformer that wraps unsafePerformIO and thus destroy the world value?
05:20:31 <Philippa> skew: they tend to think of them as 'those things you use to get state'
05:20:45 <pesco> There should be a grown-ups series "Superdimensional Fortress MonadPlus".
05:21:08 <skew> the bad guys harness the power of unsafePerformIO to make a seemingly unbeatable transformer, which the heros must defeat by cheating with category theory...
05:21:29 <nlv11757_> suddenly, it doesnt seem as sweet anymore
05:21:50 <skew> ... but with lots of flashy lights and explosions!
05:22:29 * TFK likes flashy lights and explosions :D
05:22:48 <skew> Philippa: I'm not sure that really counts as understanding monads
05:23:29 <Philippa> skew: most people who're deeply offended by something that doesn't cause clear and present misery don't understand the thing in question
05:23:37 <skew> I suppose you can be offended about something you don't really understand, but that just seems kinda clueless to me.
05:23:57 <Philippa> yeah, funny that
05:24:15 <Philippa> (let's just say that there're many things about my private life that deeply offend a fair number of people)
05:24:56 <skew> When you said people thought monads were a hack, I thought you meant they had some deep sense of mathematical elegance and functional purity and so on
05:25:50 <Philippa> heh
05:26:13 <musasabi> @pointless (\(bs,b) -> bs++[b])
05:26:16 <Philippa> yeah, usually it's people who've not seen any other than state and state-that-is-IO
05:26:17 <lambdabot> uncurry ((. (: [])) . (++))
05:26:34 <skew> not somebody popping over from #c or something to point at the funny language that doesn't even have assignment...
05:27:14 <skew> It's a pity, a nicer view of IO would be great
05:27:15 <juhp> JaffaCake: I'll file a bug anyway to track it
05:28:24 <Philippa> I keep meaning to play with more precise typing on monads - it's a lot of work to do it with something like IO where it's actually useful though, you end up having to wrap everything...
05:28:48 <JaffaCake> juhp: sorry, I missed the problem
05:29:04 <juhp> JaffaCake: building ghc with gcc-4.0 :)
05:29:18 <JaffaCake> ah right, yeah that's on my list of things to look at
05:29:28 <JaffaCake> my gcc-4.0 build failed, though
05:29:37 <juhp> JaffaCake: cool
05:29:39 <skew> that reminds me of something Frank atanassow was saying a while back about building a language that worked with types up to natural ismorphism
05:29:57 <juhp> JaffaCake: would it be something for 6.4.1 or 6.5? :)
05:30:11 <skew> like currying (I forget how strictness worked), or (a,(b,c))==((a,b),c)
05:30:38 <Philippa> skew: I wasn't going to go that far - just play around with subtyping and type classes to get finer typing (eg 'you can mess with IORefs but nothing else' or 'no disc ops')
05:31:00 <skew> Something like that which let you specify distributive laws to transparently combine monads could be pretty cool
05:31:05 <JaffaCake> juhp: if the changes aren't too big, we ought to get it into 6.4.1
05:31:08 <Philippa> yeah, that would be
05:31:37 <juhp> JaffaCake: great - Fedora Core 4 is only going to include gcc4 apparently :)
05:31:57 <skew> combining that with being able to specify which monads you want to allow in particular area starts to get into really hairy typesystems
05:32:31 <nlv11757_> would probably produce nice type errors :P
05:32:32 <skew> I guess it wouldn't be that bad if you had to write complicated, commented, type definitions off somewhere and use them in the rest of the program the same way we use functions now
05:33:40 <skew> or the same way you use types if you play with Epigram, I guess
05:34:51 <kosmikus> skew: doesn't seem to be trivial either; Frank is working on this language for as long as I know him ...
05:36:06 <Philippa> that figures
05:42:24 <Igloo> Jaffa: What is the purpose of GHC.Base.lazy? To avoid too much inlining or something?
05:48:18 <juhp> JaffaCake: actually I lie - there should be compat-gcc-32 in fc4
05:48:29 <reffie> liar
05:48:51 <juhp> ;)
05:50:21 <basti_> hi
05:51:58 <pesco> kosmikus: OK, I've really been out of shell scripting for too long. Not sure that's a bad thing, though... ;)
05:52:18 <pesco> kosmikus: I'll have a fresh patch for you within the hour.
06:23:27 <foxy__> Rebuilding dependencies... Could not find module `GlaExts':
06:23:27 <foxy__>   it is a member of package lang-1.0, which is hidden
06:23:27 <foxy__>   (imported from Yi/Syntax/TestParse.hs)
06:23:34 <foxy__> am I missing a .hi file?
06:24:51 <dons> hmm. haven't seen that before.
06:25:18 <basti_> foxy__: TMR Haskore?
06:25:24 <basti_> foxy__: start with -package lang
06:25:31 <basti_> ah no not haskore
06:25:35 <basti_> but, do so anyway.
07:01:57 * JaffaCake is running ghc --make with two threads in parallel
07:09:02 <Huschi> i want to draw an image which consists only of circles and want to write it to a common image format. which tool can i use?
07:10:39 <df_> what do you want the image to be used for?
07:11:08 <df_> you have two choices, bitmap or vector
07:11:17 <dons> JaffaCake: yay!
07:11:41 <Huschi> df_: i just want to generate an image from some data and store the image to disk.
07:11:57 <Huschi> df_: maybe vector graphics are better.
07:12:53 <df_> encapsulated postscript maybe what you want - its fairly simple.  alternatively (x)fig
07:13:14 <df_> which can then be converted to eps
07:14:15 <Huschi> df_: is there nothing like a library for haskell?
07:25:43 <musasabi> Huschi: there are various libraries and binding to them.
07:26:01 <musasabi> Huschi: you could use e.g. cairo binding.
07:29:56 <musasabi> Oejet: I got a very preliminary release of the arrow parser combinators - if you are interested - http://www.cs.helsinki.fi/u/ekarttun/PArrows/
07:30:13 <dcoutts> Huschi, yes, there's hscairo, there's also the graphics bits of gtk2hs. You can do drawing operations and/or bitmap operations and save the results as any format Gdk supports, like png, jpeg etc
07:30:50 <dcoutts> (we're planning on gtk2hs - hscairo integration in the future wich will be cool)
07:33:03 <dcoutts> JaffaCake, how's that working? even with the threaded rts that wouldn't give much improvement no? there's no real parallelism yet?
07:33:24 <JaffaCake> there's real parallelism, I'm compiling with -smp
07:33:33 <JaffaCake> it isn't quite stable yet :(
07:33:49 <skew> he is also writing the real parallelism code right now :)
07:34:00 <dcoutts> ohhh! :-) sounds good. Tell us more :-)
07:34:12 <JaffaCake> ghc --make -j3 +RTS -N3
07:34:20 <JaffaCake> compiles with 3 threads in parallel, for example
07:35:01 <JaffaCake> but I still have some locking bugs to fix, it seems
07:35:37 <dcoutts> but how do you manage two os threads evaluating haskell code in parallel, I thought the heap management etc was a huge problem
07:35:55 <JaffaCake> that's the cunning bit :)
07:35:58 <Oejet> musasabi: Thanks!
07:36:20 <dcoutts> JaffaCake, ok, we'll wait for the paper to be published then?
07:36:29 <JaffaCake> it turns out by adding an extra field to thunks, you can avoid needing to do actual locking for thunk access and updates
07:37:11 <JaffaCake> hopefully I'll get a Haskell Workshop paper written, if I can make it work in time
07:37:16 <dcoutts> using atomic memory ops or just cunning pointer things?
07:37:42 <JaffaCake> just cunning pointer things - atomic memory ops are still pretty expensive
07:38:14 <dcoutts> sounds great, just in time as dual core machines are about to become common.
07:38:26 <JaffaCake> the idea is to build on the STM work, but make it work on a real multiprocessor
07:38:33 <JaffaCake> absolutely :)
07:40:38 <Oejet> @karma++ JaffaCake
07:40:38 <lambdabot> JaffaCake's karma has been incremented
07:41:48 <dcoutts> I was wondering about this actually, newer arch designes look like they are going to be harder and harder for C programmers, eg the Cell processor where it's multi core and the software has explicit control over 'local memory' - essentially you have to do the L2 cache management yourself. But I guess something like Haksell/ghc could adapt to that sort of arch.
07:43:09 <dcoutts> eg, local memory becomes GC generation 1 and you've got to do various block copies between generaton 1 and main memory anyway.
07:43:13 <JaffaCake> maybe, I haven't really given much thought to that, but one would hope that you can just do something sensible in the RTS
07:44:00 <JaffaCake> right - at the moment the SMP version of the RTS has one allocation area per processor
07:44:41 <tuomov> Hmm.. the #INCLUDE pragma has changed in ghc6.4?
07:45:16 <tuomov> I'm trying to compile Foo/Bar.hs generated from Foo/Bar.hsc and it complains on #INCLUDE Foo/Bar_hsc.h
07:45:28 <tuomov> if I remove Foo/ it works
07:46:13 <JaffaCake> tuomov: I think we don't add -I. by default now
07:46:31 <JaffaCake> try adding -I. to the cmd line
07:47:12 <tuomov> that works
07:50:15 <mflux> given a .hs-file, is it possible to (automatically) annotate the source file with type declarations?
07:50:47 <JaffaCake> mflux: ghc -ddump-types is the closest we have
07:51:30 <mflux> so only some sort of merge tool would be required
07:51:55 <basti_> who did come up with that STL thing?
07:52:10 <mflux> STM you mean?
07:52:13 <basti_> no
07:52:15 <dcoutts> basti_, C++ STL? I think it was SGI.
07:52:19 <basti_> i actually mean that C++ thing
07:52:38 <basti_> i don't know how i should put it.
07:53:11 <basti_> I'm reacting emotional towards it.
07:53:17 <mflux> you.. love it?
07:53:33 <mflux> tears of joy?
07:53:49 <basti_> no, sadly not.
07:54:02 <basti_> its something between disgust, anger and fear.
07:54:27 <dcoutts> basti_, especially after you've used a language with propper parametric polymorphism
07:54:34 <basti_> people in that specific other channel do not understand these feelings, brothers and sisters
07:54:35 <mflux> hmm.. and you're sure you're not confusing them with happiness, delightfulness and warmth?
07:54:42 <Svrog> hi everyone
07:54:43 <dcoutts> the C++ template seems just so sumbersome
07:54:51 <basti_> it gives me the creeps
07:54:52 <basti_> really
07:55:27 <basti_> its like trying to talk about computers in latin.
07:56:06 <basti_> "oh, 'ordinatorium' has to be ablative there." "ah yes thanks for the hint."
07:56:09 <mflux> have you tried this? http://www.csse.monash.edu.au/~damian/papers/HTML/Perligata.html
07:56:49 <basti_> lol
07:58:25 <Svrog> is there a trivial way of reading/writing integer values as binary data from/to files? trivial as in one that doesn't involve writing functions that will first break up the integer into an array of ints or chars (and i don't mean cast but literally break up - casting would qualify as trivial but it doesn't seem to work in this case as integer is not an instance of class storable - or am i missing something here)
08:00:14 <dcoutts> well, CInt is an instance of Storable.
08:00:36 <Svrog> yes but you still have to break integers up into ints
08:00:45 <Svrog> or cints
08:01:04 <musasabi> Svrog: you want arbitary sized integers?
08:01:09 <Svrog> yes
08:01:13 <dcoutts> You mean Integer or Int? you can convert CInt <-> Int
08:01:19 <Svrog> if they were fixed size it would be easy
08:01:21 <Svrog> Integer
08:02:06 <dcoutts> writing Integers in binary format is going to require some low level ghc hackery, and would best be avoided
08:02:22 <Svrog> thats what i was afraid of heh
08:02:36 <musasabi> Svrog: SerTH does that.
08:02:52 <dcoutts> it would be possible, and Integer is either an Int or a MutalbeByteArray of data that you could read write to a file, but it wouldn't be nice
08:02:52 <Svrog> not that it's hard to do.. just tedious and doesn't seem efficient - or at least the obvious ways to do it don't seem efficient
08:03:18 <Svrog> what's SerTH?
08:03:33 <musasabi> A serialization library - http://www.cs.helsinki.fi/u/ekarttun/SerTH/
08:03:57 <Svrog> cool - thanks for the link
08:10:42 <Svrog> i'm not 100% sure but looking at the source code it doesn't look like it would work with integers either, only with data types of fixed sizes
08:11:55 <tuomov> pfft.
08:12:14 <tuomov> Is the version number in ghc6.4 package file restricted to x.y?
08:12:23 <tuomov> I don't use that kind of versio numbering.
08:15:43 <Svrog> oh well.. i'm off - thanks again for the link - don't think that will help me but it's an interesting piece of code
08:15:46 <Svrog> bye
08:22:52 <musasabi> back from outside - for the record it does support arbitary sized Integers.
08:29:28 <tuomov> version? I still don't use that kind of numbering. It's stupid.
08:29:39 <tuomov> <major>ds-<date> for development snapshots
08:29:46 <tuomov> <major>rc-<date> for release candidates
08:29:52 <tuomov> <major>-<date> for stable releases
08:31:04 <tuomov> there's no good way to encode ds/rc with just numbers
08:31:49 <tuomov> So, I'm stuck to use 0.0 forever...
08:33:03 <tuomov> This is one of the reasons I strongly dislike arch
08:33:10 <tuomov> It also enforces that kind of version numbering
08:34:32 <kosmikus> the version number of the ghc package does not have to be identical to the version number of the software package, right?
08:35:05 <tuomov> It's stupid for it to differ
08:35:14 <tuomov> And what should 2ds be?
08:35:17 <tuomov> 1.9999999999999999999999?
08:35:58 <tuomov> ds should have incompatible version with a stable release
08:36:17 <Igloo> You can have more sections
08:36:30 <Igloo> So x.0.x == stable
08:36:37 <Igloo> So x.1.x == ds etc
08:37:00 <tuomov> But it's wrong.
08:37:12 <tuomov> x.0.y=stable
08:37:15 <tuomov> x.-1.y=ds
08:37:39 <tuomov> or rather, rc, and -2 is ds
08:37:40 <Igloo> Use 2 for stable, 0 for ds, 1 for rc then
08:37:50 <tuomov> That's stupid too
08:37:59 <tuomov> So, 0.0 it is
08:38:06 <JaffaCake> or what GHC does: x.y is stable, x.y.date is unstable
08:38:06 <tuomov> or maybe I can leave the field out
08:38:41 <JaffaCake> what ordering relation do you want between versions?
08:39:52 <tuomov> <major>ds < <major>rc < <major>
08:40:07 <tuomov> with date a separate dimension
08:41:08 <tuomov> ds:s with different date can be api-incomptible with each other, rc:s and plains should always be compatible
08:42:55 <JaffaCake> then I guess you should just map that scheme onto the Data.Version representation
08:43:13 <tuomov> It doesn't map nicely, because it is inverted to the usual way
08:43:17 <JaffaCake> the point is that Cabal has to be able to determine the ordering relation between versions of your package
08:43:21 <tuomov> I work towards milestones, not from them
08:44:08 <JaffaCake> so we have to pick an ordering, we can't cater for versions like 2.4.2pre47-patchlevel123-aa99
08:44:42 <tuomov> that still maps to 2.4.2.47.123.<fromhex aa99> quite cleanly..
08:45:22 <tuomov> ds and rc are infinitesimals smaller than zero
08:46:31 <tuomov> 1.1 or even 1.999999 doesn't mean the same thing as 2ds
08:46:44 <tuomov> the former mean that it is something improved from 1.0
08:46:52 <tuomov> 2ds means it is work towards 2.0
08:47:18 <JaffaCake> so just use odd numbers to represent intermediate releases
08:47:30 <Igloo> What's wrong with "2 for stable, 0 for ds, 1 for rc"?
08:47:50 <tuomov> People will confuse that with the usual numbering
08:48:02 <tuomov> "1.0" means a finished product usually
08:48:23 <JaffaCake> 1.0 is never a finished product :)
08:48:56 <tuomov> there's no separate status field?
08:49:08 <JaffaCake> status?
08:49:21 <tuomov> stable/development/release candidate
08:49:31 <JaffaCake> you can put whatever you like in the tags
08:49:36 <pesco> tuomov:  1. The usual numbering is meaningless. There is no convention and nobody relies on one. The only thing everyone relies on is that higher numbers represent newer versions.  2. Why don't you change your perception of whot 1.9 is?
08:50:10 <JaffaCake> this is in relation to Cabal, right?
08:50:18 <pesco> I guess.
08:50:30 <tuomov> I'm just trying to build riot with ghc6.4 and needed to rewrite the package.conf
08:50:38 <tuomov> I don't care about cabal atm
08:50:54 <JaffaCake> in that case, use whatever versioning scheme you like
08:50:57 <tuomov> (and it crashes, btw.)
08:51:04 <tuomov> i.e. 0.0+
08:51:07 <tuomov> -+
08:51:44 <JaffaCake> that makes Cabal crash?
08:51:53 <tuomov> riot, built with ghc6.4
08:51:57 <JaffaCake> oh
08:52:50 <JaffaCake> I trust you'll be sending us a bug report?
08:53:02 <tuomov> I don't know what's causing it yet
08:53:11 <JaffaCake> ok
08:53:13 <tuomov> it just inits curses and then dies without a message
08:53:20 <tuomov> leaving the tty garbled
08:53:43 <JaffaCake> regarding versions, you can use whatever scheme you like, because neither ghc-pkg nor ghc care about ordering between versions
08:54:15 <JaffaCake> the only restriction is the version parser, so your version has to be of the form X.Y.Z-tag1-tag2
08:54:46 <tuomov> ah, the tags are something freeform?
08:54:52 <JaffaCake> yes
08:54:54 <tuomov> So I could use 1.0.0-ds-date?
08:54:57 <JaffaCake> absolutes
08:55:01 <JaffaCake> ly
08:55:07 <tuomov> that's ok
08:55:22 <JaffaCake> but you'll confuse Cabal, if you ever want to Cabal-ise
08:55:41 <tuomov> Is 1.0.date-ds better?
08:56:26 <JaffaCake> maybe - it depends on how you want ordering to work
08:56:29 <tuomov> major and date should usually suffice for ordering
08:56:38 <JaffaCake> that's fine then
09:04:16 <SamB> @docs Language.Haskell.TH
09:04:17 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/template-haskell/Language.Haskell.TH.html
09:19:19 <tuomov> System.Posix.Signals.setStoppedChildFlag seems to segfault
09:19:27 <tuomov> but there's still something more..
09:26:17 <Lemmih> Hey SyntaxNinja.
09:26:49 <SyntaxNinja> hi Lemmih
09:26:53 <SyntaxNinja> @seen shapr
09:26:54 <lambdabot> I saw shapr leaving #haskell 3 days, 26 minutes and 35 seconds ago.
09:26:57 <SyntaxNinja> what a brat
09:27:20 <Igloo> ?
09:27:49 <SyntaxNinja> shapr needs to get his butt back on IRC
09:28:11 <Igloo> Ah  :-)
09:28:52 <TFK> Maybe we could add an addendum to the RFC, "shapr is to beneeds to be in #haskell"
09:28:55 <TFK> err
09:29:03 <TFK> "shapr is to be in #haskell at all times"
09:29:38 <SyntaxNinja> it can be part of the Haskell 2005 Standard
09:32:12 <SyntaxNinja> this is totally awesome: two random number generators hit the same number, with surprising results: http://www.nytimes.com/2005/05/11/nyregion/11fortune.html?hp
10:04:24 <tuomov> This is odd
10:04:48 <tuomov> riot crashes whenever the Curses module tries to peek a value in the curses library
10:05:00 <tuomov> Yi works just fine..
10:05:27 <tuomov> compiled with ghc6.4... riot had no problems with older ghc either
10:07:09 <Cybertnt> hmm, i never knew there was a "do" construct in haskell *blush*
10:07:25 <wilx> Heh.
10:07:28 <Cybertnt> programming without that all the time was pretty hard
10:07:35 <wilx> I bet.
10:08:01 <Cybertnt> the do gives haskell a little imperative touch though
10:08:26 <Cybertnt> makes it easier for a oop coming guy like me ;)
10:08:34 <Cybertnt> need to watch out that i dont abuse it :P
10:15:08 <raver> y0 mates
10:15:13 <boegel> hey raver
10:15:34 <raver> hey boegel  ;-)
10:17:01 <tuomov> Hmm... it's -fvia-C
10:17:23 <tuomov> dons: did you figure out why -fvia-C doesn't work with curses/send a bug report?
10:35:53 <tuomov> hmm.. that setStoppedChildFlag segfault could be due to the same peek problem
10:49:18 <marcot> Hello.
10:49:26 <marcot> Do you use Cabal for packaging?
10:49:30 <marcot> Or just autconf + make?
10:49:35 <marcot> Or even automake?
10:51:22 <tuomov> I rather not touch autoconf with a 100km stick
10:52:17 <tuomov> so it's all just makefiles atm
10:52:43 <tuomov> ghc --make is nice for simpler stuff, but for e.g. riot I have a horrible makefile system thanks to .hsc's and hs-plugins
10:52:59 <marcot> tuomov: Have you ever tried cabal?
10:53:05 <tuomov> no
10:53:19 <marcot> Ok. I'm using Makefile + ghc --make.
10:53:26 <marcot> But what about other compilers support.
10:53:43 <marcot> It's difficult to use more than one compiler only using make.
10:54:06 <tuomov> -fglasglow-exts occurs so often that it is difficult to use other compilers anyway..
10:54:31 <marcot> I try to avoid this kind of thing.
10:54:45 <tuomov> well, primarily it's ffi..
10:54:55 <tuomov> how many compilers support that?
10:55:08 <marcot> What's ffi?
10:55:14 <tuomov> foreign function interface
10:55:33 <Lemmih> 4?
10:55:59 <dcoutts> marcot, tuomov: I can reccomend *not* using automake for a Hasekll project. We use it for gtk2hs. We've got it working now, but it was a real pain to beat automake into submission. Automake's non-C language support is pretty poor.
10:56:43 <marcot> dcoutts: Why do you use automake then?
10:56:59 <dcoutts> Sadly, for moderately complex projects involving ffi, preprocessors and multiple Haskell packages there is currently no good build system solution.
10:57:16 <dcoutts> cabal is not up to that yet.
10:57:37 <marcot> dcoutts: But why have you choose automake for gtk2hs?
10:58:07 <dcoutts> we do actually have automake doing what we want now, but it took quite a while to get there
10:58:27 <dcoutts> it is better that our previous hand written makefiles
10:59:47 <tuomov> My horrible makefiles are ripped from dons.. I don't even know all the stuff that's going on in them..
11:00:35 <tuomov> I used to have simple makefiles but hs-plugins complicates things a lot
11:01:19 <marcot> And what do you suggest for using?
11:01:31 <marcot> autoconf + simple make/
11:02:30 <dcoutts> marcot, if you can, use cabal. If you must, borrow makefiles from another project
11:03:28 <tuomov> I recommend against autoconf dependency
11:03:41 <marcot> tuomov: why?
11:03:43 <tuomov> It's ok to have it as an option, but programs should have simple config.mk or something
11:04:02 <tuomov> autoconf fails half of the time and it is much easier to edit a config.mk than fix the autoconf script
11:04:03 <dcoutts> you can try automake, Bernie's budda seems to have quite sane Makefile.am files. The thing that made our stuff harder was using non-recursive make style with automake.
11:04:24 <marcot> dcoutts: Bernie's budda?
11:04:28 <dcoutts> automake is more set up for a recursive make syle.
11:04:48 <tuomov> autoconf has put decent package management and build system back by decades...
11:04:54 <dcoutts> sorry, "buddha", his "declarative debugger", google for it.
11:05:53 <dcoutts> http://www.cs.mu.oz.au/~bjpop/buddha/
11:06:32 <marcot> dcoutts: Why don't you used recursive make?
11:06:42 <dcoutts> also, having multiple packages makes things harder
11:07:15 <dcoutts> marcot: see "recursive make considered harmful"
11:07:27 <marcot> dcoutts: from where?
11:07:33 <dcoutts> google :-)
11:10:11 <marcot> dcoutts: I'll try it with cabal first.
11:14:55 <dcoutts> marcot, definately a good idea
11:15:08 <marcot> =D
11:18:02 <ski>   /away eating tart
11:21:01 <Oejet> Mmm, delicate.
11:26:25 <Oejet> [OT] Has anyone read the story on DrunkenBlog about CherryOS and VX30?
11:32:53 <Cybertnt> hey guys
11:34:28 <Cybertnt> so i was reading about data types but dont quite understand them: "data Pair a b = Pair a b" i know what the second part does (i can basically have the Structure Pair with 2 parameters of type a and b respectivly), but what about the first part after Pair? Why can i write "data Pair a b c ..." for example?
11:36:16 <dvtoo_> yay, got a working 6.4 on solaris 8 sparc
11:37:55 <Oejet> The first a and b are a kind of local type variable that can be used on the right hand side.
11:38:23 <Oejet> On the left you have the type constructor, on the right you have the data constructor.
11:39:56 <Cybertnt> hmm so why am i able to do "data Xyz = Zyx Int Int Int" without having a type constructor?
11:44:14 <basti_> cybertnt: you would have one then.
11:44:19 <basti_> it just doesn't have parameters
11:44:36 <Cybertnt> thats exactly what i dont understand :(
11:45:03 <tuomov> A type constructor is a function on types
11:47:38 <Cybertnt> why is that neccessary?
11:47:56 <tuomov> data List a = Nil | Cons a (List a)
11:48:17 <tuomov> List is a type-function/construtor that given another type, creates the type (List of a's)
11:48:47 <tuomov> List Int |-> list of Ints
11:48:55 <tuomov> You could of course type
11:49:06 <tuomov> data IntList = IntNil | IntCons Int IntList
11:49:07 <ski> Cybertnt : it is not necessary. but it is more flexible that way
11:49:18 <tuomov> but that's not very reusable..
11:50:04 <Cybertnt> tuomov: so inside my data constructor i can call the type constructor again, and any where else i call the data constructor ?
11:50:36 <tuomov> Yes, and you can use the type constructor in function signatures
11:50:44 <tuomov> head :: List a -> a
11:50:54 <tuomov> head (Cons v _) = v
11:50:57 <tuomov> head _ = undefined
11:51:47 <ski> Cybertnt : "data Pair a b = MakePair a b", the 'a' and 'b' are type arguments to the type constructor "Pair", on the right hand side of "=" you write the data constructor(s) of the type. each data constructor has a list of types of it's arguments. in this case the list is "a b"
11:52:00 <Cybertnt> ah thats why i need the type constructor because that way i can just have head :: List Int -> Int but still keep my general data structure
11:52:29 <basti_> no you would want to have head :: List a -> a
11:52:31 <tuomov> Cybertnt: or you can have a polymorphic type
11:52:47 <Cybertnt> basti_: but i could?
11:52:54 <basti_> you could if you wanted to yes
11:52:59 <tuomov> you could restrict it that way if you really wanted to
11:53:24 <basti_> in case of head, there is no need to.
11:53:37 <ski> in some cases you'd have to restrict some, at least
11:53:37 <basti_> you know that the head of a [t] will be a t
11:53:40 <Cybertnt> ok that makes sense now i think! Thanks tuomov && basti_ && ski
11:54:07 <ski> e.g. a concatenate function for "List String"
11:54:37 <basti_> foldl (++) "" you mean? ;)
11:55:31 <ski> i mean for the exampled List type
11:55:40 <ski> iirc foldl works on []
11:55:43 <ski> :)
11:56:03 <Cybertnt> "" == [] 
11:56:06 <Cybertnt> i think ?
11:56:06 <basti_> yep
11:56:10 <basti_> kinda
11:56:21 <basti_> "" :: String (= [Char])
11:56:25 <basti_> but [] :: [a]
11:56:33 <Cybertnt> > :t ("" == [])
11:56:33 <Cybertnt> ("" == []) :: Bool
11:56:43 <Cybertnt> oops wrong one
11:56:43 <Cybertnt> lool
11:56:55 <Cybertnt> meant to paste this:
11:56:57 <Cybertnt> > "" == []
11:56:57 <Cybertnt> True
11:57:02 <basti_> yes
11:57:08 <basti_> but:
11:57:18 <basti_> Prelude> [5]==[]
11:57:18 <basti_> False
11:57:21 <basti_> Prelude> [5]==""
11:57:21 <basti_> ERROR - Cannot infer instance
11:57:56 <basti_> so [] is not the same as "", but [] can be inferred as being an empty list of chars - the null string.
11:57:56 <Cybertnt> yes because "" expects the first argument to be [Char] as well?
11:58:07 <basti_> no "" does not expect any argument.
11:58:20 <basti_> == seeks to equalize two values of same type
11:58:21 <Cybertnt> i mean == with the parameter ""
11:58:30 <basti_> yes that would expect a [Char]
11:58:35 <Cybertnt> :)
11:58:39 <basti_> you can write (""==) btw.
11:58:48 <basti_> even in programs
11:58:57 <basti_> thats the function "is that the empty string?"
11:59:04 <Cybertnt> ok!
11:59:07 <basti_> this feature is called currying
11:59:38 <basti_> and you can do that with every function. If you leave out one or more parameters, the result will not be "bzzzt", but a function accepting a few more parameters
11:59:50 <Cybertnt> and []==x would work if x::String right?
11:59:53 <basti_> that might confuse you because errors appear at a spot where you wouldn't expect them
12:00:02 <ski> e.g. (2 *) is the function that doubles it's arguments
12:00:09 <basti_> yes it would, and then it would mean "is x the null string?"
12:00:24 <basti_> it would work with any other list too
12:00:27 <Cybertnt> ok, i think i understood that
12:00:45 <basti_> actually its quite intuitive
12:00:55 <Cybertnt> yeah
12:02:03 <Cybertnt> i will read some more of that haskell tutorial (Yet Another Haskell Tutorial), thanks again for the friendly help :)
12:02:15 <basti_> seen shapr
12:02:24 <basti_> @seen shapr
12:02:24 <lambdabot> I saw shapr leaving #haskell 3 days, 3 hours, 2 minutes and 5
12:02:24 <lambdabot> seconds ago.
12:02:31 <wilx> @yow
12:02:33 <basti_> something terrible must have happened
12:02:46 <Cybertnt> is shapr always here?
12:02:54 <basti_> not always.
12:02:59 <lambdabot> My polyvinyl cowboy wallet was made in Hong Kong by Montgomery Clift!
12:03:10 <wilx> @moo
12:03:10 <lambdabot>           (__)
12:03:10 <lambdabot>           (oo)
12:03:10 <lambdabot>    /-------\/
12:03:10 <lambdabot>   / |     ||
12:03:10 <lambdabot> ~~~~~~~~~~~~~~
12:03:11 <lambdabot>  
12:03:13 <lambdabot>  Cow in water
12:03:14 <basti_> he beats lambdabot though.
12:03:16 <wilx> lol
12:03:17 <wilx> Nice.
12:03:18 <Oejet> @shapr
12:03:19 <lambdabot> Unknown command, try @listcommands.
12:03:29 <Oejet> :'(
12:03:32 <Cybertnt> @listcommands
12:03:32 <lambdabot> all-dicts arr babel define definitions devils dice dict dict-help
12:03:32 <lambdabot> docs dummy easton echo elements eurohaskell eval fact fact-cons fact-
12:03:32 <lambdabot> delete fact-set fact-snoc fact-update foldoc fortune gazetteer get-
12:03:32 <lambdabot> definition ghc google help hitchcock index jargon karma karma+ karma-
12:03:32 <lambdabot> kind learn libsrc listchans listcommands listmodules lojban moo more
12:03:33 <lambdabot> paste pl pl-resume plugs pointless prelude quote remember resume
12:03:35 <lambdabot> seen spell state timein todo todo-add topic-cons topic-init topic-
12:03:37 <lambdabot> snoc topic-tail topic-tell type uptime vera version vixen web1913
12:03:39 <lambdabot> wiki wikipedia wn world02 yow
12:03:49 <basti_> whats that "cite" command btw?
12:03:58 <Cybertnt> @help cite
12:03:58 <lambdabot>  @help <command> - ask for help for <command>
12:04:03 <basti_> gnnn
12:04:08 <Cybertnt> hmm
12:04:13 <basti_> i mean... it's saving quotes by people
12:04:14 <Oejet> @help quote
12:04:15 <lambdabot>  @quote [nick] - quote somebody randomly
12:04:18 <basti_> ahh
12:04:21 <basti_> @quote basti_
12:04:22 <lambdabot> basti_ hasn't said anything memorable
12:04:28 <basti_> i haven't?
12:04:34 <Oejet> @quote shapr
12:04:35 <ski> @shapr
12:04:35 <lambdabot>  Academics are continually chewing pieces off of impossible and
12:04:35 <lambdabot> making them merely difficult.
12:04:35 <lambdabot> Unknown command, try @listcommands.
12:04:48 <_JusSx___> @moo
12:04:49 <Oejet> It's like he is here. :-)
12:04:50 <lambdabot>            (__)
12:04:50 <lambdabot>            (oo)
12:04:50 <lambdabot> ~~~~~~~~~~~~~~~~~~~~~
12:04:50 <lambdabot>  
12:04:50 <lambdabot>  
12:04:50 <lambdabot>  
12:04:50 <basti_> sad i thought that Zen master pun was in there
12:04:52 <lambdabot>     Cow in trouble
12:04:58 <_JusSx___> @bitch
12:04:58 <Oejet> @quote shapr
12:04:59 <lambdabot> Unknown command, try @listcommands.
12:04:59 <lambdabot>  Windows users are like the wives of alcoholics, they'll take any
12:04:59 <lambdabot> amount of abuse and come right back.
12:05:06 <reffie> @ghc
12:05:07 <lambdabot>  Cannot desugar this Template Haskell declaration
12:05:16 <basti_> lol
12:05:29 <Cybertnt> hehe
12:05:29 <basti_> thehunter once played that game with me
12:05:38 <basti_> he's GOOD at it.
12:35:02 <Lemmih> You're not a very stealthy Ninja.
12:35:03 * esap cabalized and darcsized the oolib.
12:35:51 * basti_ didnt
12:37:50 <SyntaxNinja> esap: yay cabal!
12:38:06 <SyntaxNinja> Lemmih: why, when do you think I got here?
12:38:13 <SyntaxNinja> i've only just made myself known
12:39:22 <Lemmih> Neat (:
12:40:29 * esap points to http://www.kotiposti.net/epulkkin/oolib-1.0.tar.gz
12:40:53 * esap has no hope that it'll work, but it does exist :-)
13:17:32 * esap fixed the oolib package, it didn't compile :-(
13:18:00 <Cybertnt> how can i compare a fractional with a num? i.e. 1 > 0.5
13:18:30 <Lemmih> @plugs 1 > 0.5
13:18:41 <lambdabot> True
13:19:02 <Cybertnt> hmm then my error message must mean something else
13:19:24 <Cybertnt>     No instance for (Fractional Integer)
13:19:24 <Cybertnt>       arising from use of `/' at Misc.hs:11:18
13:19:24 <Cybertnt>     Probable fix: add an instance declaration for (Fractional Integer)
13:19:24 <Cybertnt>     In the second argument of `(<)', namely `(133745639 / 2)'
13:19:24 <Cybertnt>     In a pattern guard for
13:19:25 <Cybertnt>        the definition of `test':
13:19:27 <Cybertnt>         i < (133745639 / 2)
13:20:16 <Lemmih> @plugs fromIntegral (1::Int) > 0.5
13:20:18 <lambdabot> True
13:20:43 <esap> if you want integer division, then use `div`. Or fromIntegral if you want to use Double for calculation.
13:21:06 <reffie> 1337?
13:21:22 <Cybertnt> ah that sorted it esap! also thanks to Lemmih
13:21:27 <Cybertnt> reffie: not my choice :P
13:21:38 <reffie> :D
13:31:35 <gzl> blah, when is shapr usually around?
13:31:39 <gzl> been looking for him
13:32:14 <esap> very often, I'd say.
13:33:59 <pesco> glz: Maybe we can help?
13:34:23 <pesco> gzl, sorry.
13:34:29 <Cybertnt> @seen shapr
13:34:30 <lambdabot> I saw shapr leaving #haskell 3 days, 4 hours, 34 minutes and 10
13:34:30 <lambdabot> seconds ago.
13:34:41 <pesco> It's getting longer. ;)
13:34:41 <gzl> pesco: no, it's something about TMR
13:34:59 <gzl> not a haskell question this time. thanks though. :)
13:35:00 <pesco> gzl: Oh, do you want to become an editor?
13:35:18 <pesco> Author that is.
13:35:19 <gzl> I don't think I'm qualified to be an editor. but he did ask me to write an article
13:35:31 <pesco> Yeah. What about?
13:35:34 <gzl> WASH
13:36:07 <pesco> I see, I only had a short look at WASH once. Good idea for an article.
13:36:07 <gzl> (the CGI thing, if you're not familiar.)
13:36:10 <gzl> ok.
13:36:51 <Cybertnt> gzl: what is WASH?
13:37:16 <gzl> it's a domain-specific language for doing CGI programming
13:37:35 <gzl> (frankly, it's a pain in the ass)
13:37:58 <pesco> Haha, I hope that's going to be in the article! :)
13:38:03 <Cybertnt> hmm, is there a way to make haskell code run on apache or something similar btw?
13:38:26 <pesco> @google modhaskell
13:38:28 <lambdabot> http://www.scannedinavian.org/~lemmih/modhaskell/
13:39:17 <gzl> no, I wouldn't want to insult the WASH author in TMR, but I found it very cumbersome
13:39:52 <gzl> but it does take care of several things for you
13:40:19 <Cybertnt> pesco: thanks, thats pretty nice! Would you also happen to know if there is any documentation around?
13:41:28 <pesco> Cybertnt: No, sorry. I was merely guessing. ;)
13:41:59 <pesco> But the code looks pretty readable. You should be able to figure things out by look'n'try.
13:42:09 <Cybertnt> probably :P
13:43:14 * pesco goes back to reading.
13:43:21 * wilx bahs
13:43:29 * basti_ moos
13:43:58 <basti_> Cybertnt: actually i think theres more than WASH and modhaskell. don't ask me for names though
13:43:59 * Cybertnt meows
13:44:16 <Cybertnt> basti_: oh alright
13:44:36 <wilx> I can't think of any way how to make arbitrary, tail recursive. list trasformation without generating list of (state, Maybe output) tuples :/
13:45:01 <wilx> @type List.last
13:45:06 <lambdabot> List.last :: forall a. [a] -> a
13:45:14 <wilx> @pugs last [1,2]
13:45:20 <lambdabot> 2
13:45:23 <basti_> wilx: ?
13:46:23 <Lemmih> modhaskell is completely dead and the C code is far from perfect.
13:46:45 <Cybertnt> Lemmih: hello! is there something else not as dead
13:47:08 <wilx> I am doing some list transformation. [(a, num_of_bits)] -> [Word8] actually.
13:47:22 <wilx> Still the same thing as few weeks ago.
13:47:33 <basti_> hmm i remember seeing you talk about it
13:47:37 <Lemmih> Cybertnt: Not unless you can settle for CGI.
13:48:05 <Cybertnt> Lemmih: if i settle on CGI -> WASH is my choice?
13:48:24 <gzl> no
13:48:25 <gzl> there's some module in GHC
13:48:38 <wilx> shapr has suggested me to read the monadic parsers paper but I cannot make up anything from it for my case :/
13:48:39 <gzl> but it's subpar as well, iirc. i don't know much about that one, though
13:48:41 <Lemmih> You can also use Hemplate.
13:49:03 <_JusSx___> modhaskell?
13:49:08 <Cybertnt> thx
13:49:10 <Lemmih> @google hemplate lemmih
13:49:11 <lambdabot> http://www.scannedinavian.org/~lemmih/hemplate/
13:49:13 <basti_> wilx: you want to convert "anything" to Word8's?
13:50:03 <Lemmih> _JusSx___: Haskell module for Apache2.
13:50:05 <_JusSx___> Lemmih: what's modhaskell?
13:50:06 <wilx> I want to convert list of (number, number_of_bits_to take_from_the_number) to [Word8] that represents the bit stream.
13:50:07 <_JusSx___> ahh ok
13:50:23 <wilx> The problem is that I cannot find a way that would be properly tail recursive.
13:50:27 <basti_> wilx: hmm.
13:50:45 <basti_> wilx: youre doing something like compression?
13:50:45 <wilx> Unless I want to generate intermediate list [(state, Word8)].
13:51:04 <wilx> Yeah, this should end up as bit IO for my LZW compression implementation :)
13:52:11 <Huschi> SyntaxNinja: was there anything wrong with my wxhaskell packages?
13:52:59 <basti_> hmm
13:53:43 <wilx> But it boiled down to how to do arbitrary statefull list transformation :)
13:55:48 <basti_> hmm
13:55:54 <basti_> how do i construct a Word8 value?
13:56:31 <wilx> Construct?
13:56:34 <wilx> 1::Word8 :)
13:56:53 <basti_> ah
13:56:56 <basti_> then hugs can't do that
13:57:20 <wilx> (fromIntegral 1)::Word8?
13:57:31 <wilx> Or something similar?
13:57:39 <wilx> Maybe you need to import Data.Word.
13:57:42 <basti_> hmm
13:58:00 <basti_> yes
13:58:06 * boegel goes to bed after a hard days work (in Java)
13:58:08 <boegel> bye everyone
13:58:21 <wilx> Nite.
13:58:23 <SyntaxNinja> Huschi: I haven't had a chace to look at them, sorry.
13:58:45 <SyntaxNinja> Huschi: I'm working on a release of cabal and a paper and stuff.
13:59:09 <SyntaxNinja> Huschi: but I'm planning to do some debian work this weekend, assuming that I can get cabal ready by the end of today.
13:59:17 * basti_ tinkers around with Bits and Words
13:59:27 <Huschi> SyntaxNinja: ok.
14:09:34 <yosemite> .c
14:09:51 <yosemite> tpying is not my forte
14:13:17 <SyntaxNinja> Huschi: you could post to the debian haskell list, and mention that I've promised to look over it, but then others can look first and also give you feedback if they're so inclined. sorry about the dealy.
14:15:25 <thou> SyntaxNinja: thanks for that HSQL .cabal package - works like a charm for me
14:16:04 <Huschi> SyntaxNinja: but i can't point to any location for download in the mail.
14:18:49 * basti_ sighs
14:19:04 <basti_> wilx: i only achieve O(n) mem too
14:19:25 <Lemmih> SyntaxNinja: Which HSQL package did you give to thou?
14:20:04 <wilx> :(
14:20:29 <Muad_Dibber> blah @ lambdabot :(
14:20:55 <basti_> wilx: whats the problem there? I dont get it
14:21:20 <wilx> Well, I want it to work for arbitrarily long lists.
14:21:24 <thou> Lemmih: it's a cabalized version of hsql-1.2
14:21:30 <basti_> no i mean, i know what you want to achieve
14:21:40 <basti_> but why did we both did not get it tail-recursive
14:21:51 <wilx> Oh.
14:22:03 <basti_> what's the catch?
14:24:24 <MachinShin> hey +
14:25:12 <wilx> The problem is that you have to generate (final_state, rest) = foo cur_state input) and then compose it with local output (final_state, local_output:rest) :/
14:26:01 <basti_> hmmm i used a helper function that accumulates a parameter until a byte is full
14:26:09 <basti_> but maybe that's the problem
14:26:44 <wilx> I have the buffer in the state.
14:26:49 <wilx> Sounds similar though.
14:27:13 <basti_> hmm i got all recursive calls at the end
14:27:18 <basti_> thats tail recursion isnt it? ;)
14:27:38 <wilx> Huh, did you? Interesting.
14:27:41 <SyntaxNinja> Huschi: right; OK
14:27:45 <SyntaxNinja> thou: thank lemmih
14:27:48 <basti_> should i paste it?
14:27:51 <basti_> lisppaste2: url
14:27:51 <lisppaste2> To use the lisppaste bot, visit http://paste.lisp.org/new/haskell and enter your paste.
14:28:31 <lisppaste2> basti_ pasted "tail-recursion in building a word8 list?" at http://paste.lisp.org/display/8168
14:28:36 <wilx> I don't for the case where I fill the buffer full and I have to add the one Word8 to the output and then recurse for the rest.
14:28:47 <wilx> That is where I get things like:
14:28:54 <wilx> 	   then let (res, st) =
14:28:54 <wilx> 			encodeBits' (bb {bitBuf = newBuf, bitCount = newCount})
14:28:54 <wilx> 				  xs
14:28:54 <wilx> 		    in ((bitBuf bb):res, st)
14:29:23 <basti_> hmm that seems to be pretty similar
14:29:46 <Lemmih> SyntaxNinja: Wasn't poking for credit (: Just wondering if someone had duplicated the work.
14:30:10 <SyntaxNinja> Lemmih: no, I just referred him to the package on your scannedinavian web page
14:31:09 <basti_> in other news, on another channel, about another language:
14:31:10 <basti_>  * X is getting crazy with debugging...
14:31:21 <basti_> < X> something produces memory errors and writes to a location where
14:31:25 <basti_> it shouldn't :-/
14:31:32 <basti_> -g-
14:31:51 <SyntaxNinja> basti_: I'm sure that' snever happend with GHC's runtime system ;)
14:32:24 * basti_ is just SO happy he discovered haskell and #haskell
14:34:21 <basti_> wilx: hm.
14:35:49 <Lunar^> basti_: Haskell is good for mood :)
14:36:18 <SyntaxNinja> definitely
14:36:23 <basti_> yep
14:36:41 <SyntaxNinja> so of Lunar^, stepcut, and hefflilump, no one emailed me about starting the debian process
14:36:42 <basti_> is there a possibility of stepwise evaluating haskell expressions?
14:36:43 <Lemmih> We should sell Haskell in pill form. "Completely without side effects!".
14:36:53 <SyntaxNinja> Huschi: remind me; were you interested inb ecoming a debian developer?
14:37:03 <SyntaxNinja> heh
14:38:33 <SyntaxNinja> Huschi: becuase three other people on this channel are interested, so I thought maybe we could have you guys all work on it together, with folks like me & Igloo supervising.
14:38:40 <SyntaxNinja> not to volunteer igloo or anything ;)
14:39:11 <basti_> will we take over debian then?
14:39:16 <basti_> replace linux-2.6 with hOp?
14:39:39 <SyntaxNinja> basti_: now that's an idea !
14:39:50 <SyntaxNinja> Debian GNU/hOp
14:40:00 <SyntaxNinja> in fact, who needs gnu
14:40:09 <basti_> probably people will wonder where all the bugs went.
14:41:20 <basti_> hmm no but really... i have this function... its either calling itself, or returning a cons of a parameter and a recursive call.
14:41:25 <basti_> isn't this tailrecursive?
14:42:33 <basti_> how do i output a list tail recursively?
14:46:26 <tromp> no, that's not tailrecursive
14:46:44 <basti_> hmm
14:47:06 <tromp> output a list to where?
14:47:28 <jlouis> basti_: your function should take an extra parameter which is the list you are building. Then it will be tail-recursive.
14:47:38 <basti_> to the screen... this was just another idea why it isn't working...
14:47:55 <tromp> you can pass an IO action as accumulator
14:48:07 <tromp> then it's tail recursive
14:48:22 <tromp> or pass a string
14:48:44 <basti_> hmmm
14:48:57 <basti_> but this would only be effective when i only extend it wouldn't it?
14:49:06 <tromp> foldr is tail recursive
14:49:06 <basti_> uhm extend = "cons something to the front"
14:49:33 <tromp> i dont follow
14:49:56 <basti_> when i pass the growing list as a paremeter, i would need to extend it by (something:list) while recursing
14:50:20 <basti_> wouldn't I?
14:50:37 <Huschi> SyntaxNinja: yes, i'm interested in becoming a debian developper.
14:55:18 <SyntaxNinja> Huschi: OK. h
14:55:21 <SyntaxNinja> hmmmmmm
14:57:44 * basti_ reading a log about a conversation cosmicray, jlouis and jaffacake had a month ago
14:58:25 <SyntaxNinja> hi blackdog
15:02:58 <blackdog> G'day syntax.
15:03:33 <blackdog> hope your day's going better than mine - i just found out i've got another boss, bringing the total to 4 including the client...
15:04:22 <blackdog> anyway, mustn't grumble. Tool on the stereo, XEmacs on the mac, and burning rage in my heart -> mad l33t codez, baby.
15:04:57 <basti_> hmmm
15:05:13 <basti_> after that, i come to realize that laziness makes the whole situation a lot more complicated
15:05:36 <SyntaxNinja> basti_: blackdog isn't lazy!
15:05:52 <blackdog> oh, i'm lazy, but i'm vengeful, too, so it all balances out.
15:05:58 <SyntaxNinja> blackdog: anyway, the trick is to just do whatever you want to do, and do it well, then show them and let each of your bosses think it's their idea
15:06:10 <basti_> nnngngggggghrrrgh
15:06:45 <basti_> i wasn't talking about you or your bosses blackdog
15:06:54 * blackdog grins
15:07:08 <blackdog> Yeah, I know. SN was just having fun with it.
15:07:35 <blackdog> basti_: tell us of your problems with laziness.
15:07:35 * basti_ nods
15:07:44 <basti_> well there are not so many problems.
15:07:57 <basti_> it was only wilx' question which i found rather interesting
15:08:19 <basti_> he was trying to write a function that builds up a list lazily (something about accumulating bits to a stream of bytes)
15:08:36 <basti_> or, he didnt want it to be lazy neccisairly
15:08:57 <basti_> but he wanted it to behave nicely [O(1) mem like it ought to be]
15:09:09 <basti_> he failed, and so did i upon trying, without understanding what is wrong
15:09:21 <wilx> Yup.
15:09:24 <basti_> but it seems that we both didn't see that laziness might come in the way
15:11:11 <blackdog> ah. sorry, came in late on the convo.
15:11:13 <basti_> http://www.haskell.org/hawiki/StackOverflow < theres a chapter in hawiki that mentions exactly the issue that i think forms the problem
15:11:31 <basti_> ("less newbie stack overflowing code" ;)
15:12:09 <basti_> wilx: we might want to use seq or something to force an evaluation or two.
15:14:31 * basti_ will brush his teeth now
15:35:40 <SamB> hmm, how should I implement memory access at a bunch of types Int/Word 8-64 while avoiding fromIntegrals everywhere that uses it...
16:05:20 <SamB> hmm. I wonder if GHC will ever be a real C-- compiler?
16:06:28 <dons> norman ramsay has ghc commit access, so maybe.
16:06:44 <dcoutts> SamB, I wonder if gcc will ever be a real C-- compiler?
16:07:04 <dons> that's the goal, as far as I'm aware (we already compile some cmm -- look in the rts/*.cmm files)
16:07:15 <dons> dcoutts: hehe!
16:07:27 <SamB> yeah, I noticed that in the release notes
16:08:02 <dvtoo_> dons: btw, got it to build on solaris/sparc
16:08:08 <dons> yay!
16:08:08 <SamB> dcoutts: gcc doesn't use an IR based closely on C--, does it?
16:08:10 <dvtoo_> I had to use 2.95, and I'm pretty sure I know why
16:08:26 <dvtoo_> the asm stage demangler likely hasn't been updated for newer gcc's
16:08:33 <dvtoo_> at the least, I'm sure the one in 6.2 hasn't
16:08:41 <dons> dvtoo_, ah true!
16:08:43 <dvtoo_> I did find one problem though
16:08:59 <dons> the mangler is just a perl script with a few regexes -- you might be able to work out the fixes.
16:09:02 <dvtoo_> ./configure doesn't seem to fix all the paths in shell scripts that get built as part of a binary install
16:09:31 <dcoutts> SamB, no, it's lower level than that, gcc 4 uses this new tree SSA based IR
16:09:32 <dons> try 6.4 and see if that's still the case
16:09:37 <dvtoo_> this is with 6.4
16:09:45 <dvtoo_> it worked fine with the 6.2 and 6.0.1 builds off the web site
16:09:57 <dons> that's a bug thhen.
16:10:17 <dons> also, perhaps you'd like to make a binary bundle to go on the download page?
16:10:23 <dvtoo_> that's my intent
16:10:28 <dvtoo_> I want to rebuild 6.4 with itself
16:10:35 <dons> yep. good idea.
16:10:36 <dcoutts> the difficulties in a gcc C-- front end I think would be in the tail calls stuff
16:10:47 <dvtoo_> I'd ideally like to do a sol8 and sol10 build for sparc, and attempt a sol10 x86 build
16:11:10 <dvtoo_> I suspect the sol10 x86 build will require bootstraping from .hc files
16:11:23 <dcoutts> dvtoo_, I've had touble so far with GHC 6.4 on Sparc
16:11:31 <dvtoo_> what sort of trouble?
16:11:33 <dons> how so duncan?
16:11:55 <dcoutts> this is on sparc linux, I've got 6.2.2 working fine (apart from ghci)
16:12:06 <dons> back in the (6.0) day, i found sparc/* fairly easy. even ghci.
16:12:24 <dons> hmm. maybe i'm imagining ghci.
16:12:25 <dcoutts> the build stops about 20min in, I'd have to try it again to find you the error messages
16:12:36 <dvtoo_> it may be due to the split objs stuff
16:12:40 <dvtoo_> I ran into that issue
16:12:48 <dvtoo_> what version of gcc are you using?
16:12:52 <dons> dvtoo_: you know how to create a binary dist?
16:12:54 <dcoutts> no, that's turned off (same for 6.2.2)
16:12:59 <dvtoo_> well
16:13:10 <dvtoo_> I muddled out how to make one, but I'm not sure I did it right
16:13:16 <dvtoo_> instructions would probably be a good idea
16:13:23 <dcoutts> dvtoo_, I'm using gcc (GCC) 3.3.5  (Gentoo Linux 3.3.5-r1, ssp-3.3.2-3, pie-8.7.7.1)
16:13:24 <dvtoo_> are there any online?
16:13:34 <dvtoo_> dcoutts: oh, it's probablt the gcc version
16:13:38 <dons> dvtoo_ before you build, add BIN_DIST=1 to mk/build.mk
16:13:46 <dcoutts> it works fine for 6.2.2
16:13:47 <dvtoo_> is it dying building the library with the stage1 compiler?
16:14:01 <dcoutts> I'll have to give it another go...
16:14:08 <dons> then to create it, use: make binary-dist Project=Ghc
16:14:15 <dvtoo_> yeah, I figured out that part
16:14:22 <dvtoo_> I didn't do the BIN_DIST=1 before I built
16:14:28 <dvtoo_> so that may be my problem with the resulting build
16:14:30 <dvtoo_> I'll try that
16:14:39 <dons> then just send a url to simonm@ and he'll stick it on the download pagge
16:14:44 <dvtoo_> nod
16:14:53 <dons> probably a good idea to check it installs properly and runs
16:15:06 <dvtoo_> nod, that's how I'm planning to rebootstrap
16:16:11 <dcoutts> ok, emerging ghc-6.4 ... I'll report the failures
16:16:41 <dons> @uptime
16:16:42 <lambdabot> uptime: 3 days, 11 hours, 2 minutes and 50 seconds
16:16:50 <dons> go lambdabot!
16:17:21 <lambdabot> Type @quit. I dare ya.
16:17:34 <dons> :P
16:17:35 <Pseudonym> @seen shapr
16:17:36 <lambdabot> I saw shapr leaving #haskell 3 days, 7 hours, 17 minutes and 17
16:17:36 <lambdabot> seconds ago.
16:17:39 <Pseudonym> AWOL
16:35:56 <dons> @ghc
16:35:57 <lambdabot>  Interesting!  A join var that isn't let-no-escaped
16:38:46 <dcoutts> dons, dvtoo_: want to see my ghc-6.4 on sparc linux build bug?
16:39:15 <dons> sure.
16:39:34 <dcoutts> ok...
16:39:42 <dcoutts> ==fptools== make all - --no-print-directory -r;
16:39:42 <dcoutts>  in /var/tmp/portage/ghc-6.4/work/ghc-6.4/ghc/utils/ghc-pkg
16:39:42 <dcoutts> ------------------------------------------------------------------------
16:39:42 <dcoutts> /usr/bin/ghc -o ghc-pkg.bin -H16m -O -optc-nopie -optc-fno-stack-protector -optc-fno-stack-protector-all -cpp -Wall -fno-warn-name-shadowing -fno-warn-unused-matches -i../../lib/compat -Rghc-timing    -L../../lib/compat -lghccompat   Main.o Version.o
16:39:43 <dcoutts> Main.o(.text+0x1218): In function `saPS_2_alt':
16:39:45 <dcoutts> : undefined reference to `DistributionziPackage_a_closure'
16:40:08 <dcoutts> and the linker errors just go on and on so I didn't paste the whole lot! :-)
16:40:11 <dons> hmm. has the Cabal package been built?
16:40:20 * SyntaxNinja remembers seeing this before
16:40:39 <dcoutts> the -optc-nopie -optc-fno-stack-protector -optc-fno-stack-protector-all are gentoo specific things (to turn off hardened gcc)
16:41:05 <dcoutts> dons, where would I check ?
16:41:10 <dons> same stuff needed on openbsd/sparc btw, -fno-stack-protector
16:41:18 <dons> not on amd64 or i386 though
16:41:29 <dcoutts> we use it on all arches
16:42:11 <dons> the propolice stack protector doesn't seem to mess with ghc too much on the above 2 archs - maybe that's worth trying at some point
16:42:29 <dons> though I think the stack protector is a bit older (poossibly more mature) on openbsd
16:42:44 <dons> libraries/Cabal/
16:43:19 <dons> I think we maintain our own fork of the stack protector patches.
16:43:35 <dcoutts> dons, it doesn't look built, there's no .a file in libraries/Cabal/
16:44:00 <dons> ok. have a go at building it. make boot ; make , I think.
16:44:08 <dons> now, I wonder why it didn't get built.
16:44:27 <dons> is this a .hc bootstrap? or just a normal build?
16:45:06 <dcoutts> dons, just a normal build, ghc-6.2.2 is working fine, I'm using the same ebuild that works fine on x86 and amd64
16:45:32 <dons> super weird.
16:45:57 <dcoutts> so I make boot in which dir? top ghc? libraries?
16:46:48 <dons> libraries/Cabal might do it, otherwise Cabal/
16:47:15 <dcoutts> make boot in libraries/Cabal fails, ../../ghc/utils/ghc-pkg/ghc-pkg-inplace: No such file or directory
16:47:48 <dcoutts> where is the Cabal/ dir? (not the one in libraries/)
16:48:45 <dons> there's another one?
16:49:15 <dcoutts> I didn't think s you but you said "libraries/Cabal" "otherwise Cabal/"
16:49:26 <dcoutts> ok, confusion over. :-)
16:49:30 <dons> oh, sorry, I meant, otherwise libraries/
16:49:44 <dcoutts> oh, I'll try that...
16:49:56 <dcoutts> /bin/sh: line 1: ../../ghc/utils/genprimopcode/genprimopcode: No such file or directory
16:50:20 <dons> hmm. we're going to have to fake the build process by hand. this is not a good way to proceed I think.
16:50:23 * dons goess Makefile diving
16:51:56 <dcoutts> fptools makefile system, a twisty maze of passages all alike :-)
16:52:07 <dons> it seems unlikely that the build process is broken specifically on sparc. weird.
16:52:18 <dcoutts> indeed
16:52:43 <dons> hmm. ghc/lib/compat/
16:54:15 <dons> I think when building ghc/lib/compat, that's where the dependency on Cabal is invoked.
16:54:26 <dcoutts> ok
16:54:32 <SamB> @pl \a i -> fromIntegral (_readVal a i :: Foo)
16:54:33 <lambdabot> (line 1, column 23):
16:54:33 <lambdabot> unexpected "_"
16:54:33 <lambdabot> expecting lambda abstraction or expression
16:54:36 <dons> is ghc/lib/compat built?
16:54:39 <SamB> @pl \a i -> fromIntegral (readVal a i :: Foo)
16:54:40 <lambdabot> (fromIntegral .) . flip flip Foo . ((::) .) . readVal
16:54:51 <dcoutts> $ ls lib/compat/
16:54:51 <dcoutts> Compat  Distribution  Makefile  README  System  cbits  ghccompat.o  libghccompat.a
16:54:56 <SamB> hmm, @pl needs work
16:54:56 <dcoutts> looks like it
16:54:57 <SamB> @todo
16:54:59 <lambdabot> 0. dons: Release lambdabot 3.0
16:54:59 <lambdabot> 1. SamB: A way to get multiple results from a google search
16:54:59 <lambdabot> 2. SamB: @get-shapr summons shapr instantly
16:54:59 <lambdabot> 3. SamB: bare @part either gives error message or parts the channel
16:54:59 <lambdabot> the command was given on
16:55:00 <lambdabot> 4. SamB: stop mangling long urls
16:55:02 <lambdabot> 5. dons: improve formatting of @dict
16:55:04 <lambdabot> 6. SamB: @karma+ should report total karma
16:55:23 <dons> now, what was the original missing symbol?
16:55:47 <dons> DistributionziPackage_a_closure
16:55:53 <dcoutts> building from top...
16:56:03 <dcoutts> /usr/bin/ghc -o ghc-pkg.bin -H16m -O -optc-nopie -optc-fno-stack-protector -optc-fno-stack-protector-all -cpp -Wall -fno-warn-name-shadowing -fno-warn-unused-matches -i../../lib/compat -Rghc-timing    -L../../lib/compat -lghccompat   Main.o Version.o
16:56:03 <dcoutts> Main.o(.text+0x1218): In function `saPS_2_alt':
16:56:03 <dcoutts> : undefined reference to `DistributionziPackage_a_closure'
16:56:03 <dcoutts> Main.o(.text+0x121c): In function `saPS_2_alt':
16:56:04 <dcoutts> : undefined reference to `DistributionziPackage_a_closure'
16:56:19 <dons> nm libghccompat.a | grep DistributionziPackage_a_closure ?
16:57:02 <SyntaxNinja> should't that /usr/bin/ghc line include -package Cabal?
16:57:36 <dons> not sure what the precise details are at  this early phase in ghc booting
16:57:52 <dcoutts> $ nm ghc/lib/compat/libghccompat.a | grep DistributionziPackage_a_closure
16:57:52 <dcoutts>          U DistributionziPackage_a_closure
16:57:52 <dcoutts> 00000000 d DistributionziPackage_a_closure
16:57:52 <dcoutts>          U DistributionziPackage_a_closure
16:57:52 <dcoutts>          U DistributionziPackage_a_closure
16:58:00 <dons> hmm.
16:58:05 <dons> that's a bit weird.
16:58:53 <dons> what's "d" ?
16:59:09 <dons> is it the same as "D" ?
16:59:12 <dcoutts> let me see, man nm...
16:59:29 <dons> oh, local.
16:59:47 <dcoutts> The  symbol  type.   At least the following types are used; others are, as well, depending on the object file format.  If lowercase, the symbol is
16:59:47 <dcoutts>            local; if uppercase, the symbol is global (external).
17:00:00 <dcoutts> yes, you beat me to it :-)
17:00:13 <dons> but then what are the Us for? hmm.
17:00:34 <dcoutts> which is good in this case, references to that function from other .o files in the same archive
17:01:05 <dons> this is the contents of Distrbution/Package.hs
17:01:06 <dons> {-# OPTIONS -cpp #-}
17:01:06 <dons> #include "Cabal/Distribution/Package.hs"
17:02:06 <dcoutts> huh? no, it's rather large
17:02:24 <dcoutts> $ wc -l libraries/Cabal/Distribution/Package.hs
17:02:24 <dcoutts> 72 libraries/Cabal/Distribution/Package.hs
17:02:56 <dcoutts> module Distribution.Package (
17:02:58 <dcoutts> etc...
17:03:06 <dons> lib/compat/Distribution/Package.hs
17:03:08 <dons> is short
17:03:14 <dcoutts> oh, sorry, wait...
17:03:50 <dcoutts> yes, that's right.
17:04:28 <dcoutts> oh, wait I've got *_split dirs
17:04:49 <dons> ah. that's interesting.
17:04:51 <dcoutts> that's not right, I'm sure I turned spitobjs off
17:05:17 <dons> the command line for ghc-pkg looks right, btw. same as my successful x86 builds
17:05:53 <dcoutts> well mk/build.mk suggest I don't have splitobjs turned off...
17:06:06 <dcoutts> I've obviously messed something up. :-(
17:06:08 <dons> split objs on libghcompat.a might break things on sparc, yeah.
17:06:37 <dons> SplitObjs = NO ?
17:07:28 <dcoutts> I'm trying me emerge again, I think I must have not got the SplitObjs = NO change that I made to my ebuild
17:08:04 <dcoutts> btw, is there any chance these things could be in the build by default? so it is more likely to "build out of the box"
17:08:21 <dcoutts> in our ebuild, we've got:
17:08:27 <dcoutts>     # Required for some architectures, because they don't support ghc fully ...
17:08:27 <dcoutts>     use ppc || use amd64 || use sparc && echo "SplitObjs=NO" >> mk/build.mk
17:08:27 <dcoutts>     use amd64 || use sparc && echo "GhcWithInterpreter=NO" >> mk/build.mk
17:08:59 <dcoutts> (I think it was that sparc bit that I'd missed before)
17:09:20 <dcoutts> sorry, dons, I've probably been wasting your time :-(
17:09:20 <dons> we could certainly do this. we have currently:
17:09:25 <dons> ifeq "$(TARGETPLATFORM)" "ia64-unknown-linux"
17:09:25 <dons> SplitObjs=NO
17:09:25 <dons> endif
17:09:31 <dons> in mk/config.mk.in
17:09:38 <dons> we could add more.
17:09:45 <Igloo> It should really be opt-in not opt-out
17:09:50 <dons> yeah.
17:09:51 <dcoutts> that'd be nice
17:10:05 <dons> where do they work? x86 and .. ?
17:10:31 <dons> not even that - prety sure they don't run on windows.
17:10:38 <Igloo> i386 sparc are where I enable them for Debian
17:10:44 <dcoutts> well our ghc ebuilds support 6.2.2 on: x86 ppc amd64 sparc
17:10:49 <Igloo> powerpc too, but not when compiling with <6.4
17:11:37 <dcoutts> Igloo: so you use SplitObjs=Yes on sparc for 6.2.2 ?
17:11:38 <Igloo> I'm sure it didn't work for me when compiling with 6.2.2
17:11:53 <dcoutts> oh, right
17:12:11 <Igloo> Oh, wait, I read what you wrote wrong
17:12:25 <dcoutts> I'm confused now :-)
17:12:31 <Igloo> i386 and sparc work full stop
17:12:39 <Igloo> I think ppc will when it is being compiled with 6.4
17:12:46 <Igloo> (but I am yet to try)
17:12:54 <dons> so if it's those 3 archs, we can turn split objs on?
17:13:16 <dons> I'll write the patch and post it for simon's consideration.
17:13:19 <Igloo> I think amd64 too in the head?
17:13:28 <dons> i'll check the nightly build
17:13:43 <dons> this is more of an issue these days now people are porting ghc to everythiing they can see
17:13:57 <dcoutts> I think SplitObjs=YES did not work for me on sparc for 6.2.2 and from what we tried just now, it doesn't work on 6.4, I don't know how Igloo does it
17:14:12 <dcoutts> oh, wait, my build failed again :-) linker errors...
17:14:17 <dons> hmm. binutils version difference?
17:15:11 <Igloo> dcoutts: This is sparc32...could that be it?
17:15:18 <dcoutts> aaarg, something's going wrong on my end, SplitObjs=NO is still missing from my mk/build.mk
17:15:32 <dons> is mk/bulid.mk being overwritten by the build script
17:15:42 <dcoutts> ignore me 'til I get that sorted out :-) otherwise I'd just be talking nonsense
17:15:52 <dcoutts> no, we've got the other gentoo changes in there
17:17:14 <dons> amd64 head is built with split objs
17:17:28 <dons> oh, not it's not. STAGE1_SPLIT_OBJS='NO'
17:17:40 <dons> which is the libraries  phase.
17:17:47 <dcoutts> Igloo, I think I'm running sparc64, but I've never been sure if it's using a 32bit userspace
17:17:57 <dcoutts> uname -a
17:17:57 <dcoutts> Linux userpc48 2.6.8-gentoo-r12 #1 Wed Dec 15 17:24:27 GMT 2004 sparc64 sun4u TI UltraSparc IIe (Hummingbird) GNU/Linux
17:18:06 <dons> big difference!
17:18:17 <dons> does the cofnfigure script know it's a 64 bit box?
17:18:37 <dcoutts> checking build system type... sparc64-unknown-linux-gnu
17:18:37 <dcoutts> checking host system type... sparc-unknown-linux-gnu
17:18:37 <dcoutts> checking target system type... sparc-unknown-linux-gnu
17:18:37 <dcoutts> Canonicalised to: sparc-unknown-linux
17:19:05 <dons> oh, so it may be a 32 bit userspace.
17:19:21 <dcoutts> so I guess that means it is running in 64 bit mode? I'm not really a sparc guru, it's just what I've got on my desk! :-)
17:19:50 <dcoutts> ****** computing department and their obscession with Sun!
17:20:07 <dons> what's the word size in ghc/includes/ghcconfig.h
17:20:48 <dons> ghc/includes/ghcautoconf.h
17:21:16 <dons> #define SIZEOF_VOID_P 4
17:21:16 <dons> ?
17:21:27 <dcoutts> Ah ha!
17:21:28 <dcoutts> #define SIZEOF_VOID_P 4
17:21:41 <dcoutts> so there we go
17:22:59 <Igloo> Good grief, people using solaris on amd64
17:23:27 <dcoutts> yes, Sun's selling lots of that these days
17:23:36 <dons> :/
17:24:49 <SamB> how am I supposed to use TH to write instance declarations for library types (such as Word32) without orphaning them?
17:26:00 <mugwump> Sun might be a vendor and vendors might be evil, but I still think that Solaris is the best OS choice for large networks.  It just works, and you really can't beat SunSolve for its effectiveness
17:26:19 <Igloo> orphaning them?
17:26:41 <mugwump> I've been out of touch for a while, though.  I'm referring to a circa 2000 era Solaris ;)
17:27:04 <Igloo> Whatever makes you happy, mugwump  :-)
17:27:55 <dons> there's this new OS called linux! it's about 15 years old, and lots of people seem to like it ;)
17:27:59 <goltrpoat> out of touch here too.  these days it's probably all solaris, [insert BSDI clone here] and NT?  i remember it used to be the first two (linux and irix being useless at the time, and im lumping sunos and sysv into the first category)
17:29:00 <mugwump> linux is still shit IMHO.  I still use it, of course, but I hate the continual inexcusable fuckups
17:29:13 <mugwump> but then, it's software, so what should I expect
17:29:36 <SamB> mugwump: at least linux doesn't charge exhorbitant rates for said fuckups...
17:30:04 <goltrpoat> mugwump:  i hear openbsd has been steadily going to shit ever since theo stepped down (havent kept up with any of this since 99 or so either)
17:30:18 <mugwump> looking forward
17:30:28 <mugwump> I hear that Haskell can run on bare metal
17:30:31 <dons> goltrpoat: what are you talking about?
17:30:42 <dons> dare I ask.
17:30:51 <SyntaxNinja> mugwump: w00t HBM!
17:31:14 <goltrpoat> dons:  hearsay.  a few people mentioned that openbsd isn't quite as secure as it used to be.
17:31:16 <dcoutts> dons, ok, finally got it building again with SplitObjs=NO and GhcWithInterpreter=NO, I'll report how it goes :-)
17:31:28 <dons> goltrpoat: maybe go read openbsd.org
17:31:42 <dons> dcoutts: cool, I'll post the split objs patch now.
17:32:06 <goltrpoat> dons:  the whole site, or anything specific?
17:32:28 <mugwump> no point discussing rumours, really.  But I think it would be a significant advance to move kernel stuff away from C.
17:32:52 <goltrpoat> agreed and agreed
17:33:23 <dons> the front page would do. (1) theo didn't step down - that's the weirdest thing I've heard. (2) there was 1 hole in ssh, 3 or so years ago - it didn't even effect most users. that's it.
17:34:29 <goltrpoat> hmm that'd mean i'm on major crack.  i thought theo stepped down as the single point of verification for new updates, a good five years ago or something.
17:36:23 <mugwump> House (http://www.cse.ogi.edu/~hallgren/House/) looks really cool
17:36:47 <dons> goltrpoat: this is crazy talk. http://www.fsf.org/news/fsaward2004.html
17:37:07 <SyntaxNinja> yeah, house rules.
17:37:24 <blackdog> SyntaxNinja: no penalty shots on foul, then?
17:37:40 <blackdog> or are you talking about the nude-lap rule?
17:37:53 <SyntaxNinja> blackdog: with house, you can prove there are no fouls, so there's no need for a penalty shot rule ;)
17:38:19 * blackdog groans as syntax tops his lousy pun with an even worse one.
17:38:24 <SyntaxNinja> muahahahaha
17:38:42 <SyntaxNinja> blackdog: just be glad I didn't bother trying to top your nude-lap joke
17:38:54 <blackdog> Teach me, master. I'm ready to join the pun side of the force.
17:39:05 <SyntaxNinja> blackdog: you must punlearn what you have learned
17:39:08 <SamB> which one is that?
17:39:11 <blackdog> i'm not sure i'd be comfortable as bottom in that situation anyway...
17:39:19 <SamB> I guess it would be the light side?
17:39:40 <goltrpoat> dons:  i know he's still actively involved, but i remember that for a while, all updates were verified directly through him, which, i believe, hasn't been the case for some time.  i didn't mean he stepped down as benevolent leader or whatever.
17:39:41 <blackdog> no, the light side would be actual humour. puns are literally evil. :)
17:40:07 <SamB> is that why C99 disallows type punning?
17:40:33 <SyntaxNinja> man. someone neesd to add that to the wiki; it would be bad form for me or blackdog to do it
17:40:55 <goltrpoat> dons:  i could very well be wrong, and like i said, i haven't followed any this in some time, but i remember there being a big deal about it 5-6 years ago.  maybe it was a temporary scare or something.
17:41:13 <blackdog> syntax: your hints are not the subtlest.
17:41:54 <SyntaxNinja> @wiki QuotesPage
17:41:55 <lambdabot> http://www.haskell.org/hawiki/QuotesPage
17:41:57 <SyntaxNinja> (linke at bottom)
17:44:32 <blackdog> Syntax: hey wow, someone quoted my lambda mug! (and grilf is right...)
17:48:51 <dcoutts> dons, so yes my build is getting much further now that I've got SplitObjs=NO, Igloo is going to have to explain to me how he manages to build on sparc using SplitObjs=YES :-)
17:49:31 <dons> yeah. maybe there's some binutils version difference?
17:49:42 * Igloo just puts it in and lets the buildds have at it. You could try doing the build inside linux32 (don't know if that would need a rebootstrap)
17:49:59 <Igloo> Just switch to Debian already  :-Ã¾
17:50:29 <dons> hehe
17:50:55 <dons> then you can complain to Igloo directly!
18:00:39 <dcoutts> Igloo, debian sparc uses sparc32 then?
18:01:36 <Igloo> yup
18:02:02 <dcoutts> dons, :-) I don't know that one is alowed to be a gentoo developer and run debian. I'd get into trouble for not dogfooding :-)
18:02:32 <Igloo> That's OK, you can become a DD instead  :-)
18:02:53 <dcoutts> Igloo, I see (well I don't really, since what is sparc64 anyway if sizeof (void *) != 8 ?)
18:03:26 <dcoutts> Igloo, heh :-) then the gentoo people really would lynch me for desertion :-)
18:03:30 <dons> maybe you should become an openbsd developer then?
18:03:54 <dons> you get your sparc64 too :)
18:03:54 <dcoutts> I'll stick as a Gentoo developer for the moment thanks folks :-)
18:04:08 <Igloo> Can't help some folk, eh, dons?
18:04:15 <dcoutts> :-)
18:04:16 <dons> seems so!
18:04:48 <dcoutts> I've got my sparc64, I'm just clueless about it :-)
18:06:06 <SamB> I tried to help someone install gentoo not long ago... the kernel could not find /dev/hda5 in the initrd...
18:06:41 <SamB> He bought it by accident. After failing to get it to boot, I told him to get Debian and/or Ubuntu...
18:07:43 <dcoutts> SamB, I wouldn't know much about that level of stuff, I'm just part of the Haskell 'herd'
18:08:28 <SamB> dcoutts: neither do I! this is why I did not attempt to fix the initrd!
18:08:45 <dons> but it's all just the linux kernel, right? it's not like he's running BeOS..
18:08:56 <dcoutts> I don't use initrd, I don't understand it and don't trust it :-)
18:09:38 <dcoutts> so long as you can get the livecd to boot, it should be possible to get a kernel config working
18:09:49 <SamB> I don't understand it either, but the packaged kernels in Debian use it, so I end up doing so too...
18:10:20 <dcoutts> yes, packaged kernels often do as it allows them to deal with a wider range of hardware
18:11:07 <SamB> the kid said he wanted to be able to swap the harddrive onto other hardware, so he wanted that too...
18:11:14 <dcoutts> I just compile a kernel with the bits I need, and no initrd, eg compile in the IDE/ATAPI drivers
18:11:36 <dcoutts> well one can always use the kernel config that the livecd uses
18:12:08 <dcoutts> cd /usr/src/linux; gzcat /proc/config.gz > .config; make etc...
18:12:17 <SamB> dcoutts: thats what we tried! it did not work very well for us, though.
18:12:45 <dcoutts> hmmm, the other thing that is supposed to 'just work' is to use genkernel
18:12:55 <dcoutts> it uses initrd
20:01:57 <humasect> http://www.ijourneyman.com/Monad.html
20:02:07 <humasect> singular of 'myriad' ?
20:02:21 <humasect> *inverse
20:02:56 <sh10151> 1/100000
20:02:57 <sh10151> er
20:03:01 <sh10151> 1/1000000 rather
20:03:16 <sh10151> a myriad is one million as i recall
20:03:30 <humasect> ohh, i assumed it was 'various/variety'
20:03:30 <sh10151> but i think you are looking for something like "paucity"
20:03:52 <sh10151> no, it's just a pretentious way of saying many
20:04:08 <dons> plural form is myriads i think.
20:04:17 <dons> or at least that's what google says ;)
20:04:24 <humasect> =) hmm
20:04:36 <dons> @spell myriads
20:04:37 <lambdabot> myriads
20:04:37 <dons> @spell myriad
20:04:38 <lambdabot> myriad
20:04:57 <sh10151> it
20:05:02 <sh10151> it's just 10,000
20:05:17 <humasect> k, but a common use is for 'many' as well
20:05:31 <sh10151> fsv of "common" :)
20:05:55 <humasect> one of the myriad of uses
20:06:58 <sh10151> myriad |?mir??d| |?m?ri?d| |?m?r??d| poetic/literary
20:06:58 <sh10151> noun
20:06:58 <sh10151> 1 a countless or extremely great number : networks connecting a myriad of computers.
20:06:58 <sh10151> 2 (chiefly in classical history) a unit of ten thousand.
20:07:11 <sh10151> USAGE Myriad is derived from a Greek noun and adjective meaning ten thousand¹. It was first used in English as a noun in reference to a great but indefinite number. The adjectival sense of countless, innumerable¹ appeared much later. In modern English, use of myriad as a noun and adjective are equally standard and correct, despite the fact that some traditionalists consider the adjective as the only acceptable use of the word.
20:07:17 <sh10151> I love OS X 10.4
20:07:21 <sh10151> and its dictionary
20:07:22 <sh10151> :)
20:07:32 <humasect> wee
20:07:38 <humasect> okay.
20:08:53 <dons> @all-dicts myriad
20:08:55 <lambdabot> *** "Myriad" gcide "The Collaborative International Dictionary of
20:08:57 <lambdabot> English v.0.48"
20:08:59 <lambdabot> Myriad \Myr"i*ad\, a.
20:09:01 <lambdabot>  Consisting of a very great, but indefinite, number; as,
20:09:03 <lambdabot>  myriad stars.
20:09:05 <lambdabot>  [1913 Webster] Myriagram
20:09:07 <lambdabot>  
20:09:09 <lambdabot> [49 @more lines]
20:11:29 <Gahhh> is there such a thing as myrioid, too ? ;)
20:11:47 <humasect> there is now. =)
20:12:15 <Cale> How about zyriad?
20:12:17 <Cale> heh
20:12:36 <Cale> (by analogy with zillion)
20:12:57 <Cale> That'd make a pretty good scrabble word
20:14:52 <blackdog> :q
20:15:13 <blackdog> nobody say it. please?
20:16:12 <thou> :)
20:25:02 <blackdog> i'm a very bad convert to the church of emacs.
20:26:06 <Gahhh> why is that ?
20:27:06 <blackdog> because for short tasks where i should C-x C-f, my muscle memory makes me type "vim blah.txt". :)
20:27:15 <Gahhh> ah
20:27:34 <blackdog> what's the word... not heretic, but ... errant? Prodigal?
20:27:35 <Gahhh> are you on linux/osx, etc ?
20:27:41 <blackdog> yes.
20:28:00 <blackdog> background is linux, switched to a 17" PB recently.
20:28:21 <Gahhh> you should use emacsclient, then. Launch one instance of emacs, start emacs server. Then, in the commandline you can type "emacsclient filename.txt" and it will open in emacs.
20:28:52 <Gahhh> an alias like ec=emacsclient is very useful then
20:29:14 <Gahhh> I personally run the shell inside emacs, and that makes life a lot easier.
20:29:36 <Gahhh> M-x shell, then navigate, C-x C-f opens files in the cwd.
20:30:37 <Gahhh> I run ghci and python inside emacs, too. Copy-paste is bliss.
20:30:42 * Pseudonym is getting a bit worried about shapr
20:30:49 <Gahhh> @seen shapr
20:30:50 <lambdabot> I saw shapr leaving #haskell 3 days, 11 hours, 30 minutes and 31
20:30:50 <lambdabot> seconds ago.
20:31:11 <blackdog> Gahhh: so an alias like "vim=emacsclient" would be even nicer?
20:31:30 <Gahhh> blackdog: nah, I didn't mean that. Use vi where you see fit.
20:31:32 <blackdog> copy-paste is a bit weird on mac with carbon xeamcs.
20:31:47 <blackdog> it's more just muscle memory.
20:32:11 <Gahhh> Pseudonym: I hope for the best and assume he's been partying hard :)
20:32:36 <blackdog> I think he's been working on Fermat's Last Margin
20:33:24 <Gahhh> if he's been using his comp, I'd say he'd have the irc client open in the background at least.
20:33:43 <Gahhh> how is weather in sweden these days ?
20:33:54 <Gahhh> @weatherin stockholm
20:33:55 <lambdabot> Unknown command, try @listcommands.
20:34:04 <Pseudonym> Well, he's been making blog entries.
20:36:28 <ozone> why the worry about shapr?
20:37:46 * Pseudonym is just being silly
20:37:52 <Pseudonym> shapr is allowed to have a life outside of IRC.
20:38:15 <Pseudonym> But it's not like him to be gone for 3 days unless he's at ICFP or something, and sometimes not even then.
20:39:39 <ozone> oh, right
20:39:42 <ozone> true
20:39:45 <blackdog> we get fretful, y'know?
20:39:49 <skew> As long as
20:39:52 <ozone> perhaps he's on holiday
20:39:53 <blackdog> he might be talking to strangers
20:40:00 <ozone> went to uppsala, thought the "scenery" was nice, decided to stay there a bit longer ...
20:40:05 <skew> If he's still blogging he's still alive.
20:40:32 <blackdog> not necessarily. i'm certainly going to set up cron jobs to release blog entries when i'm dead.
20:41:10 <blackdog> Syntax! Any news of shapr?
20:41:20 * blackdog is officially going to stop being silly now.
20:41:59 <SyntaxNinja> blackdog: stop being silly? but i just got here.
20:42:28 <blackdog> doesn't look like anyone quoted our marvellously witty exchange earlier, either.
20:42:38 <blackdog> get with it, people, it's the algonquin freaking round table here.
20:49:40 <Gahhh> you scared ninja away
20:50:38 <mikehammad> hi, can someone tell me how to use Data.Map in ghc 6.4?
20:51:05 <mikehammad> i say "import Data.Map" and the compiler claims it cannont find Data.Map
20:51:52 <dons> maybe you're not using ghc-6.4
20:52:00 <Gahhh> it works for me in ghci 6.4
20:52:43 <Gahhh> also with ghc
20:53:53 <thou> mikehammad: if you use -v9 flag, does it tell you anything useful?
20:54:08 <mikehammad> oops, you're right
20:54:10 <mikehammad> hehe
20:54:11 <mikehammad> sorry
20:54:29 <mikehammad> i'm using 6.2...yeesh
20:54:33 <thou> :)
21:14:57 <autark-jp> When I see function signatures like 'GenParser Char st String' or 'RuleParser x', I take it that GenParser and RuleParser are types(?), but what are 'x' and 'st'. Does this have a name?
21:16:39 <SyntaxNinja> lowercase "types" stand for general types
21:16:47 <SyntaxNinja> so...
21:16:55 <SyntaxNinja> @type (+)
21:17:01 <lambdabot> (+) :: forall a. (Num a) => a -> a -> a
21:17:11 <SyntaxNinja> a in this case is "any old Num"
21:17:32 <autark-jp> forall a, where a is a Num ... ?
21:17:41 <SyntaxNinja> yeah
21:17:47 <Gahhh> a is a type which is of class Num
21:17:53 <blackdog> Gahhh: he's a pretty lousy ninja to be scared off by a mutt...
21:18:07 <SyntaxNinja> who?!
21:18:21 <Gahhh> he's heavily lagged imho
21:18:41 <blackdog> Gahh suggested i scared you off earlier when you dropped out.
21:20:26 <SyntaxNinja> eh had some keyboard trouble. froze the kernel.  strange.
21:20:35 <SyntaxNinja> am I lagging?
21:20:59 <SyntaxNinja> no I must not be; lambdabot replied to me.
21:21:15 <blackdog> dammit. I was just going to wait, then reply in 5 minutes.
21:22:20 <SyntaxNinja> <---- super clever
21:23:11 <dbremner> did anyone else read the new Joel article and think of type classes?
21:24:47 <Gahhh> joelonsoftware ?
21:25:07 <dbremner> Gahhh - yep
21:25:38 <dbremner> Gahhh - http://www.joelonsoftware.com/articles/Wrong.html
21:26:47 <SyntaxNinja> has anyone ever noticed that the things that tell you to click them are the things you don't want to click?
21:26:53 <Pseudonym> Oh, Saunders Mac Lane died.
21:27:25 <dbremner> Psuedonym - 'tis a shame.
21:27:36 <Cale> Pseudonym: oh? When?
21:27:40 <Gahhh> dbremner: hungarian notation is not recommended !?!!
21:28:31 <blackdog> dbremner: i read that one... i didn't think typeclasses directly, but certainly some form of static typing would seem to be helpful there. the idea of encoding important meaning in variable names is a bit scary.
21:28:46 <blackdog> even just a newtype or something would do
21:29:08 <Pseudonym> About a month ago.
21:29:29 <dbremner> blackdog - it just cries out for an automatic solution
21:29:30 <Pseudonym> His autobiography is coming out in a month or so.
21:29:33 <autark-jp> Hm, it seems I have confused type classes(?) and types all along. 'Int' is not a type class, but a constructor?
21:30:19 <Cale> Int is a nullary type constructor
21:30:24 <Cale> that is, it's a type
21:31:15 <Pseudonym> Oh, I didn't know about this book of his.
21:31:18 <Pseudonym> "Sheaves in Geometry and Logic: A First Introduction to Topos Theory"
21:31:24 <Pseudonym> Might have to track that one down.
21:31:29 <Cale> Type classes are those things you see on the left hand side of =>, like Ord, Eq, Num
21:31:37 <Pseudonym> Especially if it's about geometry and logic, and NOT topology. :-)
21:31:43 <Gahhh> dbremner: I just read paulgraham's new entry and I think I am going to stop reading him alltogether
21:32:17 <Pseudonym> I'm afraid I just wasted 20 mins reading it, too.
21:32:40 <dbremner> Gahhh - average age of founders? You might as well use their astrological signs...
21:33:24 <Pseudonym> I think it's partly true, actually.
21:33:40 <Pseudonym> I wouldn't dream of forming a startup at the moment.
21:33:43 <Pseudonym> Because I have a family.
21:33:48 <Gahhh> if it takes decades for a company to grow like that, err, yeah, you need to be quite young when you started.
21:34:09 <Pseudonym> I have ten years of career time to spare, but I can't live cheaply.
21:40:56 <dbremner> Gahhh - interesting set of examples he's picked.
21:43:10 <Gahhh> joel ?
21:43:21 <dbremner> Gahhh - Paul Graham.
21:50:07 <SyntaxNinja> Igloo: alive?
21:50:42 <Gahhh> dbremner: A *new* thing means there are not any people who are experienced in it, including in the big companies.
21:51:57 <Gahhh> if it's not brand new, they are going to see it coming before you do, and they're going to take advantage of their experience and big pockets.
21:52:08 <dbremner> Gahhh - from the title, I thought he might be talking about shift from employees to contractors.
21:53:12 <Gahhh> heh
21:53:16 <Gahhh> or outsourcing ?
21:53:56 <dbremner> Gahhh - in my sector and region, most of the players aren't too bright.
21:54:43 <Gahhh> dbremner: of course. by definition "bright" includes few.
21:55:06 <dbremner> Gahhh - adequate, then.
21:55:38 <Gahhh> dbremner: I've been lowering my definition of adequate for the past few years. I realize I've been expecting too much.
21:55:47 <dbremner> Gahhh - amen.
21:55:47 <SyntaxNinja> did anyone here attempt to upload a new darcs package to Debian?
21:56:05 <dbremner> Gahhh - at this point, all I expect a manager to do is not wet himself.
21:57:19 <Gahhh> dbremner: Do you think of changing jobs ? Can you do it ?
21:57:32 <dbremner> Gahhh - constantly, and I will soon enough.
21:57:40 <Gahhh> cool
21:58:06 <dbremner> Gahhh - I just have to have my next move in place before I jump.
21:59:03 <dbremner> Gahhh - I spent 5 hours fixing one of the boxes in our museum of antique Unix boxes *ahem* colo, so my interest in leaving has been renewed.
21:59:30 <Gahhh> joy
22:00:03 <Gahhh> I've been working with rather good people, but I know the guys two cubicle down are writing crap code every hour.
22:00:03 <dbremner> Gahh - I also found out that one of the managers has been lying to the new hires.
22:00:33 <Gahhh> about what ?
22:00:59 <dbremner> Gahhh - our client list. He extended it considerably during the hiring interview.
22:22:33 <SyntaxNinja> ralf:
22:31:16 <SyntaxNinja> ralf is so hard core that he doesn't even know  he's on IRC.
22:38:47 <musasabi> morning
22:38:47 <SyntaxNinja> hi musasabi hi ozone
22:38:47 <musasabi> hello SyntaxNinja
22:38:47 <ralf> I'm writing a story about Japan.
22:38:47 <SyntaxNinja> ralf: is it your story of japan?
22:38:47 <SyntaxNinja> ralf: what are you doing up so late? did you get your computer back?
22:38:47 <ralf> SyntaxNinja:  Yes,  My computer is back.   I haven't programming because I suck.
22:38:49 <ralf> I am typing a story that I wrote by hand while in Japan about visiting an old house way out in the country where a family made hundreds and hundreds of beautiful pots on a potter's wheel.
22:40:24 <thou> @google haskell cabal creating packages
22:40:25 <lambdabot> http://comments.gmane.org/gmane.comp.lang.haskell.libraries/3073
22:41:17 <SyntaxNinja> @google haskell cabal user's guide
22:41:19 <lambdabot> http://www.haskell.org/cabal/
22:41:31 <SyntaxNinja> ralf: cool.
22:41:41 <SyntaxNinja> thou: any particular questions?
22:42:29 <musasabi> Getting the parser from haskell-src-exts written by Niklas Broberg into haddock would be nice.
22:43:08 <musasabi> It is kind of tedious to deal with the current parser (cpp + #ifdefs)
22:49:06 <SyntaxNinja> musasabi: you mean get it in cabal?
22:53:36 <mwc> Quick! Emergency Hiccup Remedies!
22:55:11 <Trevion> Remedy!  http://www.penny-arcade.com/view.php3?date=2004-10-11
22:56:35 <Gahhh> there's a trick involving drinking a glass of water while bending over, but I never practiced it myself
22:57:04 <mwc> Gahhh: I just did that
22:57:11 <Gahhh> did it work ?
22:57:13 <mwc> It's worked so far, but I didn't want to say something and jinx it
22:57:24 <Gahhh> heh
22:57:32 <Gahhh> well, that's a data point
22:57:49 <Gahhh> I bet there's a book on amazon that explains why this stuff works, too.
22:58:02 <mwc> I think drinking upside down makes your esophagus work differently
22:58:07 <mwc> and it distracts the nerves
22:58:15 <musasabi> SyntaxNinja: I am quite happy with cabal currently - it seems to just work for most of the things I do.
22:58:15 <mwc> I know a hiccup is a muscle spasm
22:59:06 <mwc> Hahhaha, here's a cure from Wikipedia: Eating a large dose of Wasabi
22:59:10 <mwc> I bet that's a troll
22:59:13 <Gahhh> lol
22:59:28 <vegai> try it and see!
22:59:39 <mwc> Holy crap;
22:59:41 <mwc> Charles Osborne (1894â1991) of Anthon, Iowa, USA, started hiccupping in 1922 while attempting to weigh a hog before slaughtering it. He was unable to find a cure, and continued hiccupping until February 1990, a total of 68 years.
22:59:51 <SyntaxNinja> musasabi: cool. I just couldn't quite parse what you meant about cpp
23:00:01 <mwc> I'd have gone on the try state killing spree at about the next morning
23:00:06 <mwc> *tri-state
23:00:29 <Gahhh> well, he was in Iowa, so...
23:00:49 <mwc> Too much cow sex.
23:01:00 <SyntaxNinja> @cowsay moo
23:01:01 <lambdabot> Unknown command, try @listcommands.
23:01:26 <Pseudonym> Is it just me or does "two-hole zippers" sound like a fashion crime?
23:02:07 <mwc> Uhm...
23:02:15 <mwc> Two-hole zippers.... wow.
23:02:21 <Gahhh> I am confused
23:02:29 <mwc> Sounds like a public indecency crime more like
23:02:44 <Trevion> I guess it all depends on the size of your holes.
23:04:14 <Pseudonym> Gahhh: Oleg's latest post.
23:04:49 <Gahhh> Pseudonym: where did he post ?
23:11:14 <Trevion> Gahhh: the Haskell mailing list, I believe.
23:11:25 <mwc> http://www.penny-arcade.com/view.php3?date=2004-10-11
23:11:28 <mwc> er.
23:11:31 <mwc> damn, didn't copy
23:11:42 <Gahhh> This is an interesting counter argument to the "non-programmers can learn pure FP easier" argument: http://permalink.gmane.org/gmane.comp.lang.haskell.cafe/7063
23:12:06 <FrederikEaton> what is it called, the principle that when you apply a function twice to the same argument you get the same result?
23:12:37 <mwc> http://s120284856.onlinehome.us/andrew.wmv
23:12:56 <mwc> That kind of stuff almost makes me want to watch trash TV
23:12:58 <Gahhh> FrederikEaton: referential transparency
23:13:03 <FrederikEaton> thanks
23:13:30 <mwc> Gahhh: isn't it "purity" of the function?
23:13:48 <mwc> I thought referential transparency made references and the actual objects semantically identical
23:15:23 <Trevion> I'm used to the term single-valued (or non-multivalued).
23:15:43 <FrederikEaton> "The definition of insanity is doing the same thing over and over and
23:15:44 <FrederikEaton> expecting different results."
23:15:57 * Trevion laughs
23:16:00 <Gahhh> mwc: http://c2.com/cgi/wiki?ReferentialTransparency
23:16:28 <mwc> The best quote I read in a while was from Alan Kay I think "We wrote this book as much to shock and terrorify as to teach."
23:17:12 <mwc> Gahhh: yeah, it says a function is referentially transparent iff it has no side effects
23:18:33 <Gahhh> mwc: What Frederik asked it exactly what it says on that page.
23:19:16 <mwc> I guess I'm reading his question as asking for the name for a function being pure, eg f(5) always is the same value
23:20:54 <mflux> I think the page doesn't explicitly ignore having a function such as time()?-o
23:20:59 <mflux> s/ignore/exclude/
23:21:08 <mwc> mflux: that's my read too
23:22:06 <Gahhh> I don't know if 'pure' and 'referentially transparent' are synonymous.
23:22:30 <ozone> Gahhh: not having a maths background, i'd say they're more-or-less the same
23:22:35 <mwc> Gahhh: it seems to me it's saying that referential transparency is only applicable if the function f is pure
23:22:44 <ozone> a pure function is referentially transparent, and a referentially transparent function is pure
23:22:54 <ozone> sounds isomorphic enough to me :)
23:23:04 <Gahhh> I recently read somewhere that 'strict' and 'eager eval' are not synonymous.
23:23:42 <mwc> ozone: yeah, but they're deferrent terms. I see pure as being a quality of a function and referential transparency as being a semantic issue]
23:24:11 <ozone> Gahhh: eager eval usually means lazy evaluation, but the run-time system "defaults" to strict evaluation and falls back to lazy evaluation as necessary
23:24:17 <ozone> mwc: yep, i would completely agree with that
23:24:27 <mwc> anyways, it's 2:30 and I'm dangerously close to getting into a flamewar. I better get to bed
23:24:33 <mwc> ozone: thanks for saving my night.\
23:25:17 <ozone> glad to know i saved someone's night, whatever that means
23:26:08 <Gahhh> ozone: since he knows you are here to argue with me on your (his!) opinion, he can rest assured ;)
23:26:58 <ozone> oh, right
