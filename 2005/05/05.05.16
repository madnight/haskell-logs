00:16:21 <Gahhh_> wassup dawg
00:17:32 <blackdog> g'day Gahhh_.
00:17:59 <Gahhh> I cannot sleep
00:18:03 <blackdog> I haven't programmed Haskell for a week. I think I'm suffering withdrawals.
00:18:19 <Gahhh> it's been a week for me, too
00:18:52 <blackdog> and yet we hang out on the channel. does that make us lambda groupies?
00:19:13 <Gahhh> I am a lambda wannabe. a casual lambda
00:20:15 <blackdog> you talk a fine monad, but can you reduce a graph?
00:20:20 <Gahhh> I'm also suffering from too-many-subjects syndrome.
00:20:26 <Gahhh> heh
00:20:40 <blackdog> half your luck - i'm suffering from too few.
00:20:57 <blackdog> write some plone code. now, write some more plone code. ooh, how about that plone code.
00:20:58 <Gahhh> what are the few subjects ?
00:21:14 <blackdog> putting together a website for a client.
00:21:17 <Gahhh> ah
00:21:26 <Gahhh> well, that's paid work
00:21:47 <blackdog> true. mustn't grumble, i'm going to thailand on the strength of this job. :)
00:22:13 <Gahhh> I've never been to that part of the world. I'd like to see it very much one day.
00:22:47 <blackdog> I agree entirely. I'm taking a bike and a girlfriend. Should be fun.
00:23:16 <blackdog> http://home.hetnet.nl/~busaba/ has some awesome pics.
00:27:28 <Gahhh> @vixen
00:27:33 <lambdabot> Beer, it's so much more than just a breakfast drink!
00:28:03 <dons> wow.
00:28:23 <dons> sometimes i think there is a side to @vixen she's not revealing to us
00:28:39 <Gahhh> @multiplepersonalitydisorder
00:28:40 <lambdabot> Unknown command, try @listcommands.
00:52:42 <SM_ax> @listcommands
00:52:44 <lambdabot> all-dicts arr babel define definitions devils dice dict dict-help
00:52:44 <lambdabot> docs dummy easton echo elements eurohaskell eval fact fact-cons fact-
00:52:44 <lambdabot> delete fact-set fact-snoc fact-update foldoc fortune gazetteer get-
00:52:44 <lambdabot> definition ghc google help hitchcock index jargon karma karma+ karma-
00:52:44 <lambdabot> kind learn libsrc listchans listcommands listmodules lojban moo more
00:52:44 <lambdabot> paste pl pl-resume plugs pointless prelude quote remember resume
00:52:46 <lambdabot> seen spell state timein todo todo-add topic-cons topic-init topic-
00:52:48 <lambdabot> snoc topic-tail topic-tell type uptime vera version vixen web1913
00:52:50 <lambdabot> wiki wikipedia wn world02 yow
01:02:13 <lispy> turnning the line breaking completely off seems like a good idea to me :)
01:12:09 <nibro> @seen lemmih
01:12:10 <lambdabot> lemmih is in #haskell. Last spoke 5 hours, 12 minutes and 11 seconds
01:12:10 <lambdabot> ago.
01:12:53 <nibro> aye, the line breaking seems a bit silly at times...
01:17:27 <dons> what's wrong with the above? it breaks on hyphens?
01:17:58 * dons goes nuts with cvs2darcs
01:55:29 * boegel greets the gang
01:55:36 <lispy> hmm...ghc-cvs appears to be 6.3.  What is the usual way to get ghc6.4 on debian?
01:58:06 <lispy> dons: last paste on the page is what it looks like on my end: http://www.haskell.org/hawiki/HaskellIrcPastePage
02:00:07 <boegel> can I construct a data type Foo which is allowed to contain nothing or an instance of the type using Maybe ?
02:00:19 <boegel> data Foo = Foo Maybe (...)
02:00:22 <boegel> does this work ?
02:00:38 <basti_> data Foo = Foo (Maybe Int)
02:00:40 <basti_> I'd say
02:00:45 <basti_> because " " binds tight
02:01:22 <boegel> basti_: and what if the Foo type contains more than an Int, say an Int and a Double ?
02:01:30 <boegel> data Foo = Foo (Maybe (Int Double))
02:01:32 <boegel> like this ,
02:01:33 <boegel> ?
02:01:35 <basti_> yes
02:01:39 <boegel> okay, thanks
02:03:39 <lispy> ah ha! i have to do apt-get install ghc-cvs/unstable
02:03:55 <lispy> apparently testing has an ghc-cvs package too and it's from 2004
02:04:09 <basti_> all package management sucks
02:04:44 <lispy> yes, including .tar.gz
02:04:54 <lispy> it should just be magically installed already
02:06:30 <glimming>      (mu . fmap q) (eta e)
02:06:30 <glimming>   == {- REASON! -}
02:06:30 <glimming>      q e
02:06:32 <glimming> \end{spec
02:06:37 <glimming> Any suggestions why this last step is motivated?
02:20:28 <tuomov> assuming mu and eta are the monad nat.trfms, wouldn
02:20:38 <tuomov> 't this suppose that e is already in the monad?
02:21:56 <boegel> how can I define my own function to be infix (like + and *) ?
02:22:27 <tuomov> you can't define an arbitrary function infix, but ones composed of operator symbols are automatically infix
02:22:51 <tuomov> (and others can be infixed with backquotes)
02:22:57 <boegel> oh, okay
02:23:20 <boegel> and can choose a function name containings operator symbols _and_ letter, like *s
02:23:31 <tuomov> no, I don't think so
02:23:50 <boegel> hmm, too bad
02:24:10 <tuomov> hmm..
02:24:21 <tuomov> it would be cool if haskell allowed *_s or something..
02:24:38 <lispy> how does haskell+opengl compare to say, c++ and opengl?
02:24:50 <tuomov> *s is obviously not something to support, but * followed by _ could perhaps be allowable..
02:24:51 <boegel> yeah, it would
02:25:10 <lispy> oh, i should have said speed wise
02:25:48 <boegel> say I have a datatype vector, and I want to write a function that determines the inner product of two vectors, can I overload the * operator ?
02:26:17 <tuomov> if you can make the vectors instance of Num, then yes
02:26:33 <tuomov> you can't with inner product
02:26:49 <tuomov> some tensor algebra perhaps..
02:27:36 <tuomov> but you can just defined *. or just use `iprod`
02:27:49 <tuomov> x *. y, x `iprod` y
02:28:17 <lispy> <+> and <*> might have the right look too
02:28:37 <tuomov> it would be cool if there was support for unicode operator symbols...
02:28:47 <lispy> since a lot of texts use <x,y,z> for vectors it may be obvious to readers that <+> is vector addition
02:29:04 <tuomov> <x, y> is often inner product...
02:29:29 <tuomov> (but so's (x, y))
02:30:43 <lispy> (x, y) is also gcd :)
02:30:44 <boegel> tuomov: my Vector type is just (Double,Double,Double), how do I make that an instance of Num ?
02:30:56 <tuomov> you can define normal addition for vectors, of course, and normal multiplication could be defined element-wise
02:31:13 <lispy> boegel: i think newtype can do that, or make it an algebraic data type
02:31:21 <musasabi> boegel: newtype Vec3 = Vec3 Double Double Double, instance Num Vec3 where ...
02:31:28 <musasabi> argh
02:31:34 <musasabi> s/newtype/data
02:32:03 <lispy> does anyone here read the language of this site? http://www.dtek.chalmers.se/~d95jowi/quakehaskell/index.html
02:32:16 <lispy> i'm wondering what happened with their project
02:32:22 <tuomov> http://codedev.homelinux.org/~devilx/deskscrn/screenshot1115.png
02:32:23 <lispy> but i can't find a way to translate it
02:32:31 <tuomov> http://codedev.homelinux.org/~devilx/deskscrn/screenshot1115.png
02:32:33 <tuomov> wtf.
02:32:38 <tuomov> my mouse is inverted or something..
02:33:18 <boegel> it's not possible when keeping the tuple notation ? because that's essential
02:34:06 <musasabi> Well you could do that, but I am not sure that is very good.
02:34:19 <musasabi> instance Num (Double,Double,Double) where ...
02:34:24 <musasabi> needs -fglasgow-exts
02:34:57 <tuomov> there's some kind of final report on that page (slutrapport), but I don't have a .ps viewer here..
02:36:49 <musasabi> lispy: it is about trying to develop a quake like game with haskell.
02:37:16 <lispy> musasabi: heh, i knew that much, that's why i was interested :)
02:37:39 <lispy> i'd really like to download it, but i couldn't find the link for that
02:38:12 <musasabi> tuomov: I cannot find the slutrapport anywhere.
02:38:45 * musasabi was blind
02:39:01 <musasabi> http://www.dtek.chalmers.se/~d95jowi/quakehaskell/quake/web/rapport2.ps
02:39:20 <tuomov> http://www.dtek.chalmers.se/~d95jowi/quakehaskell/quake/web/source/
02:39:38 <tuomov> (googled that..)
02:40:10 <musasabi> there is an english abstract in the paper.
02:40:17 <bringert> lispy: http://www.dtek.chalmers.se/~d95jowi/quakehaskell/quake/web/source/
02:42:03 <boegel> hmm, this is giving problems: data Intersection = Intersection (Maybe (Double Ray TexturedObject))
02:42:17 <boegel> Kind error: `Double' is applied to too many type arguments
02:43:38 <lispy> hmm...well, thanks everyone
02:44:10 <lispy> boegel: i think it thinks double is a function in that case
02:44:41 <lispy> but do you really want an Intersection to contain a maybe?
02:45:13 <lispy> wouldn't it be better to have Intersection just be an intersection type and then the function that computes the intersection to return Maybe Intersection
02:47:34 <lispy> data Intersection a = Intersection (Maybe a)  may do what you want
02:47:48 <lispy> then when you use it replace a with (Double Ray TexturedObject)
02:48:19 <lispy> data Double = Double Ray TexturedObject
02:48:30 <lispy> data Intersection = Intersection (Maybe Double)
02:50:38 <lispy> data Intersection = NoIntersection | Intersection Double Ray TexturedObject   may do what you want as well
02:51:23 <bourbaki> moin
02:52:01 <lispy> moin moin
03:02:27 <boegel> moin moin moin
03:02:39 <bourbaki> :)
03:02:56 <boegel> lispy: thanks for your tips :)
03:03:06 <bourbaki> boegel: do you run xp?
03:04:09 <lispy> boegel: np
03:06:24 <boegel> bourbaki: not now, but I have xp yes, why ?
03:08:33 <bourbaki> boegel: just wanted to know what the std font in that word express or what its name is is
03:11:03 <boegel> wordpad ?
03:11:28 <lispy> my pinky finger tip has swollen and it's quite painful to type.  It's kind of silly.  It's a tiny infection, but it's making it hard to get any work done :(
03:11:29 <bourbaki> right
03:11:35 <boegel> euh, lemme check
03:12:10 <lispy> i thought the windows default was san serif or something like thta
03:20:38 <glimming> anyone have plugged in a system for program transformations into GHCi or similar?
03:26:25 <boegel> bourbaki: Arial 10 apparently
03:27:54 <bourbaki> boegel: thx
03:46:02 <bourbaki> is there for a turingmachine for all formal problems? or is this still an open problem?
03:51:09 <lispy> from the way it is phrased, i would guess open problem, but i don't know anything specific to the question :)
03:52:11 <bourbaki> is there a turingmachine for all possible problems?
03:54:15 <basti_> a turingmachine DEFINES what is a computeable problem
03:54:26 <basti_> so far, noone has ever found a problem thats clearly posed but not computeable
03:54:46 <lispy> basti_: eh?
03:54:57 <lispy> isn't the halting problem clearly posed?
03:55:04 <basti_> hm
03:55:27 <basti_> yes it is.
03:55:35 <lispy> in this context does computable mean recursively enumerable or recursive?
03:55:58 <lispy> because halt is RE but not recursive...
03:56:02 <basti_> the halting problem is another category imo.
03:56:33 <basti_> its in level-infinity logic isnt it? ;)
03:56:52 <lispy> not familiar with level-infinite logic...
03:56:55 <bourbaki> i have to read an essay (philosophy) that states that the mind is equivalent to a virtual machine so to say and tries to show that its equivalent to a turing machine
03:57:15 <bourbaki> and he states that there is no problem that can not be solved if you use a turing machine
03:57:16 <basti_> bourbaki: well that the mind CAN compute everything that a turing machine can is obvious
03:57:25 <basti_> how would one prove the other direction?
03:57:49 <bourbaki> i dont know i just need to know if the turing machine can solve anything
03:58:01 <basti_> anything that's not paradox.
03:58:06 <lispy> basti_: an existence proof would suffice.  So if AI succeeds :)
03:58:12 <basti_> :P
03:58:18 <bourbaki> or self relfexive
03:58:22 <TheHunter> basti_, that's far from obvious.
03:58:30 <basti_> i know.
03:58:36 <lispy> what about the busy beaver problem
03:58:50 <lispy> i think it's uncomputable, but it's just computing a number
03:59:09 <lispy> i forget the exact classification on that one...
03:59:17 <lispy> ackermans is in the same class iirc
03:59:22 <basti_> hmm
03:59:23 <basti_> there's primitive-recursive.
03:59:29 <basti_> this is normal functions and programs.
03:59:35 <lispy> right
03:59:38 <basti_> then there's computeable but not primitive-recursive
03:59:45 <basti_> and then there's not-computeable.
03:59:54 <basti_> which, when you look closely, always involves a paradoxon
04:00:10 <basti_> (i claim ;)
04:00:18 <lispy> paradox or diagonal argument?
04:00:37 <basti_> destruction of an existence by paradoxon
04:00:46 <basti_> like, diagonal argument.
04:01:07 <basti_> (which always involves "tertium non datur")
04:02:00 <bourbaki> is there any proof ot that that all prbolems are solvable?
04:02:06 <basti_> no.
04:02:20 <bourbaki> ok then its not an argument that i can accept
04:02:32 <basti_> it would be very hard to prove
04:02:37 <lispy> there are even problems with math which cannot be proven
04:02:38 <basti_> you'd have to give an definition of "problem"
04:02:47 <bourbaki> i always hate it when philosoper fumble around with stuff like that
04:02:48 <basti_> lispy: yes these are called axioms ;)
04:02:55 <bourbaki> all these definitions are very crude
04:03:00 <lispy> basti_: but there are others
04:03:08 <basti_> lispy: not if you make them axioms then
04:03:13 <basti_> look at the axiom of choice
04:03:22 <bourbaki> i think that there had been some inconsistencies
04:03:35 <bourbaki> which is why hilbert did his hilbert project
04:03:45 <lispy> the continuum hypothesis is the one i'm thinking of
04:03:49 <bourbaki> and cantor also discovert some essential problems
04:04:33 <basti_> there will always be inconsistencies
04:04:37 <basti_> that's what goedel proved
04:04:43 <lispy> it has been proven than with the currently accepted set theory axioms that the continum hypothesis cannot be proven true or false
04:04:48 <basti_> not inconsistencies but, things that can neither be proven nor proven fals
04:04:50 <basti_> e
04:04:54 <basti_> lispy: yes.
04:05:15 <basti_> lispy: so you either take it as an axiom, or you take its opposite as an axiom, or you don't take any as an axiom
04:05:19 <lispy> are you talking about the incompleteness theorem?
04:05:28 <basti_> 3) will yield you "math as it is now", 1) and 2) might yield new insights
04:05:33 <basti_> yes
04:05:37 <lispy> because that has a very specific hypothesis
04:05:42 <basti_> yes
04:05:49 <basti_> but it is a very general statement
04:05:52 <lispy> no one is sure if it applies to rich theories such as Number theory
04:06:01 <basti_> even if it's talking about omega-complete kappa somethings
04:06:11 <basti_> i doubt that.
04:06:29 <lispy> well, it's reasonable that it would apply to more general settings, but it has not been shown
04:06:41 <basti_> what is the problem in your opinion?
04:06:53 <basti_> afaik goedels proof applies to ANY formal system.
04:07:07 <basti_> i would be very surprised if there is a requirement that normal systems dont meet
04:07:24 <lispy> it has to due with the type of logic used
04:07:24 <bourbaki> basti_: yes it does
04:07:38 <lispy> i believe his theorem was for first order or something?
04:07:39 <basti_> lispy: which would be?
04:07:41 <basti_> no
04:07:59 <bourbaki> its for all systems that have enumerable axioms
04:08:01 <tuomov> basti_: any theory that includes PA
04:08:08 <tuomov> at least the proofs I've seen
04:08:08 <lispy> ah, that's what it was
04:08:14 <basti_> PA?
04:08:23 <lispy> and things like number theory don't have enumerable axioms
04:08:43 <tuomov> peano arithmetic
04:08:47 <basti_> number theory has a finite set of axioms (the peano ones), hasn't it?
04:08:52 <basti_> hmm
04:08:55 <tuomov> i.e. number theory
04:09:31 <basti_> but that IS the statement of goedel's proof, in some way: if you got a finite set of axioms, then you'll find incompleteness
04:10:03 <Lor> In first-order logic, PA has an infinite number of axioms.
04:10:13 <Lor> Because the induction rule is an axiom schema.
04:10:36 <Lor> In second-order logic, you can quantify over all properties with a single axiom.
04:10:51 <basti_> and goedels proof just applies to 1st order logic?
04:10:51 <tuomov> but second-order logic is itself incomplete, iirc
04:11:28 <basti_> hmm yes it does
04:11:44 <basti_> from what i'm gathering now
04:13:05 <basti_> ahhh
04:13:11 <Lor> Gˆdel's first incompleteness theorem applies to just about any "interesting" formal system.
04:13:22 <basti_> okay.
04:13:31 <bourbaki> :)
04:13:33 <tuomov> interesting==includes PA
04:13:43 <tuomov> it's so basic
04:13:52 <basti_> "Im Gegensatz dazu wird in den Unvollst√§ndigkeitss√§tzen bereits ein Modell betrachtet, die Struktur der nat√ºrlichen Zahlen, die Peano-Arithmetik. Die Unvollst√§ndigkeitss√§tze sagen dann aus, dass in diesem Modell wahre S√§tze existieren, die in der Pr√§dikatenlogik erster Stufe nicht bewiesen werden k√∂nnen. Da sie wahr sind in PA, zeigt dies auch, dass die Peano-Arithmetik nicht in PL1 (bis auf Isomorphie) formalisiert werden kann."
04:13:55 <lispy> http://en.wikipedia.org/wiki/G%F6del's_incompleteness_theorem#Misconceptions_about_G.F6del.27s_theorems
04:15:07 <basti_> = "In contrast, in the incompleteness theorems, a model (the structure of natural numbers, the peano arithmetic) is regarded. The incompleteness theorems then say, that there exists true theorems in this model, that can't be proven in PL1. Since they are true in PA, that means that PA can't be formalised in PL1"
04:15:33 <basti_> so it does NOT only make statements about PL1, just about that you cannot prove certain true statements in PL1.
04:16:00 <basti_> which, afaics, translates to that there will always be new axioms if you want them to be in PL1.
04:17:06 <basti_> lispy: good link.
04:17:17 <basti_> so, what does that tell us about completeness? ;)
04:17:20 <tuomov> you can always add axioms to make certain statements true, but you can not make the theory complete that way or it will become unsound
04:17:23 <basti_> uhm about computability
04:17:34 <basti_> tuomov: yep
04:19:53 <lispy> basti_: wikipedia + google = much good knowledge
04:20:17 <basti_> i mean in plain text... ;)
04:20:48 <lispy> tuomov: i find that to be a very interesting corrollary, don't you?
04:20:56 <basti_> basically the halting problem is g√∂del's incompleteness isnt it?
04:21:10 <tuomov> there's a relation
04:21:41 <tuomov> the proofs of g√∂del's incompleteness theorems I've seen also involve feeding the g√∂del number of a statement to itself just like the proofs of the halting problem
04:21:43 <lispy> yeah, halting problem is considered a diagonal argument like the incompleteness and cantor's famous arguments
04:22:13 <basti_> it all comes down to that you need tertium non datur doesnt it? ;)
04:22:46 <lispy> there is another diagonal argument that you should know.  I don't have a name for it, but the book on computability that i have called it L_d
04:22:59 <lispy> what is tertium non datur?
04:23:24 <basti_> a \/ !a = true
04:23:29 <lispy> ah
04:23:33 <basti_> "a third does not exist"
04:23:59 <lispy> most results in math depend on that, tho don't they?
04:24:05 <basti_> which, in CS context, usually is a doubtful statements
04:24:13 <basti_> many do
04:24:25 <basti_> many don't too, though
04:24:33 <tuomov> It's quite simple to show that the halting problem and g√∂del's incompleteness theorem (one of them) is equivalent..
04:24:36 <tuomov> infact
04:24:37 <basti_> many do and wouldn't need to strictly spoken
04:24:42 <lispy> i know there are some schools of thought that believe you must be able to construct things for it to be provable
04:24:46 <basti_> tuomov: i see.
04:24:56 <basti_> lispy: yes, computer science for example
04:25:08 <basti_> a program that can't give the result does not make much sense ;)
04:25:38 <tuomov> if you had a program for the halting problem, you could make a program that generates candidiate proofs endlessly, and the halt program would tell whether a proof is ever found
04:25:54 <lispy> heh
04:25:55 <basti_> ahh yes right
04:25:55 <lispy> nice
04:26:13 <tuomov> and if logic was complete, you should be able to find a proof that a program stops, I think
04:26:26 <basti_> hummmm
04:26:42 <basti_> you mean then the "yes" answer would be decideable
04:26:52 <tuomov> umm... no
04:26:55 <basti_> but?
04:27:00 <tuomov> s/proof/proof or counterproof/
04:27:04 <basti_> ahh
04:27:06 <basti_> okay.
04:28:13 <tuomov> lispy: proofs are essentially constructive
04:28:20 <basti_> lispy: basically this all translates to: if you have a proof that does not utilize TND, then you can construct a program from it
04:28:43 <basti_> that always will halt with the correct result
04:29:27 <lispy> tuomov: there are a lot of non-constructive things you can do in a proof tho.  For example, how would you classify transfinite induction?
04:29:44 <tuomov> hmm.. that was a bit badly worded
04:29:53 <basti_> TND is a very doubtful statement too. Accepting it gives you the axiom of choice, and this yields the banach tarski paradox, which states that you can cut a sphere into a finite number of parts, then put the parts together in a different way, and then you have 2 balls of the same volume
04:30:09 <basti_> which is clearly counter-intuitive
04:30:21 <basti_> OTOH, analysis doesn't work out without TND
04:30:29 <lispy> basti_: doesn't that paradox require measure theory?
04:30:46 <basti_> so what?
04:30:50 <basti_> i think it does.
04:30:55 <tuomov> proofs are constructed from steps of reasoning, so they can all be generated by programs. however, in classical logic proofs may use axioms that are not regarded as constructive
04:31:05 <lispy> well, it assumes some other things iirc, such as continum hypothesis
04:31:23 <basti_> lispy: continuum hypothesis is equivalent to the axiom of choice.
04:31:26 <lispy> tuomov: ah, i see
04:31:32 <lispy> basti_: it is?
04:31:37 <basti_> i think yes.
04:31:38 <tuomov> the law of the excluded middle, essentially
04:32:02 <basti_> see, TND just makes a big mess
04:32:03 <basti_> ;)
04:32:09 <tuomov> tnd?
04:32:20 <basti_> tertium non datur, a \/ ~a = true
04:32:39 <basti_> (or several equivalent wordings)
04:33:06 <basti_> basically if you state, a\/~a = ?, you restrict yourself just a little (inside CS), but gain sanity
04:33:44 <basti_> if you translate TNS to Curry-Howard-Style programs you end up with nonsense
04:33:50 <lispy> basti_: this says that axiom of choice is independent http://en.wikipedia.org/wiki/Generalized_continuum_hypothesis
04:34:23 <basti_> how do CH and GCH relate?
04:35:13 <basti_> ohh okay.
04:35:19 <basti_> its independant then.
04:35:32 <basti_> bizarre, i thought it was...
04:36:30 <lispy> isn't the axiom of choice equivalent to the well-ordering of the naturals?
04:36:38 <lispy> or something like that...
04:36:47 <Lor> Uh, naturals are quite naturally well-ordered. :)
04:37:05 <lispy> Lor: exactly :)
04:37:05 <basti_> the well ordering of reals i think
04:37:09 <lispy> ah
04:37:14 <Lor> The well ordering of any set, iirc.
04:37:15 <lispy> you're probably right
04:37:36 <basti_> Lor: yes i think so too
04:38:04 <basti_> but the well ordered reals is a good example for the counterintuitiveness of AC
04:38:34 <basti_> BUT, in REAL programming we do not talk about this sort of perversion anyway.
04:38:35 <basti_> ;)
04:39:13 <lispy> then we should stop refering to floats as real numbers
04:39:15 <bourbaki> are analog and digital systems equivalen?
04:39:26 <basti_> I'm not doing so anyway
04:39:52 <basti_> floats are guesstimates of real numbers that might be give results close to the real results in some contexts
04:40:00 <lispy> i hear people do it all the time, and i'm often quite tempted to say, "Um, I think you mean the field of rationals."
04:40:25 <lispy> but then i feel like i would have to say, "a finite subset of..."
04:40:26 <basti_> numerics is a science of its own
04:40:35 <bourbaki> so the answer is no right?
04:40:43 <basti_> bourbaki: welllllll.
04:40:50 <bourbaki> i mean you cant do pi in digital numbers
04:40:54 <basti_> bourbaki: there is a long answer and a short answer, which one do you want to hear? ;)
04:40:58 <bourbaki> which is clearly part of the analog world
04:41:15 <lispy> bourbaki: i would say no, but then if you go to measure analog values what do you get?
04:41:22 <basti_> you CAN do pi in digital numbers. imagine a pi-adic number system...
04:41:26 <basti_> :)
04:41:35 <bourbaki> its just arbitrarily exact
04:41:38 <bourbaki> not exact
04:41:45 <bourbaki> this is what i argue for my essay
04:41:53 <basti_> no you couldn't convert the numbers to a normal system without getting inexact ;)
04:42:02 <bourbaki> that guy states that an analog system is equivalent to a digital one
04:42:04 <lispy> "normal"
04:42:07 <lispy> maybe 1 = pi
04:42:09 <lispy> :)
04:42:18 <basti_> normal meaning, natural-base
04:42:22 <basti_> for example
04:42:38 <bourbaki> of course you could express anything with pi ;)
04:42:40 <lispy> i know what you mean, i'm just teasing
04:42:46 <basti_> bourbaki: does he do it in a signal processing context?
04:42:47 <bourbaki> but then all other numbers are inexact
04:42:59 <bourbaki> basti_: he tries to show that the brain is a machine
04:43:03 <basti_> ah this.
04:43:06 <bourbaki> its a quite old text though
04:43:15 <basti_> thats what you call a moron, i thought ;)
04:43:20 <bourbaki> he thinks the prolbem is in the end due to semantics and such
04:43:34 <basti_> for philosophers, EVERY problem is in semantics.
04:43:39 <bourbaki> but i want to state that the problem arises arleady depper down in his argument
04:43:47 <basti_> thats why programmers don't care a lot about semantics.
04:43:52 <bourbaki> yes and this sucks also he doesnt use the right definitions
04:44:16 <tuomov> you can do exact real arithmetic, but you are limited to continuous functions then
04:44:26 <tuomov> on a digital computer that is
04:44:46 <bourbaki> well thats as good as a no
04:44:50 <basti_> heheh
04:45:01 <bourbaki> i mean of course i can do anything with unlimited amount of time and engery
04:45:07 <tuomov> e.g. float equality is very questionable anyway..
04:45:16 <basti_> floats are hard!
04:45:17 <basti_> really!
04:45:18 <basti_> ;)
04:45:29 <basti_> do NOT ever think of floats as a sufficient emulation of reals
04:45:59 <basti_> think of them as engineer style guesstimates
04:46:14 <basti_> engineers are happy if the order of magnitude is correct... ;)
04:46:42 <tuomov> doing exact real arithmetic just rules out the questionable parts of floating point arithmetic as undecidable
04:46:52 <basti_> i see.
04:47:11 <tuomov> engineers are happy as long as they can generate wind waving their hands
04:47:18 <basti_> there is also the DSP argument ("shannon theorem") that band-limited signals can be expressed digitally sufficiently
04:47:33 <bourbaki> :)
04:47:35 <tuomov> there's a new idea for electricity generation!
04:47:40 <bourbaki> sufficently
04:47:45 <bourbaki> what does that mean?
04:47:45 <basti_> with a very narrow meaning of sufficient, though.
04:47:46 <tuomov> an engineering farm right next to a windmill farm
04:47:51 <basti_> usually "limited energy"
04:48:03 <basti_> i doubt that anyone has ever processed a signal with infinite energy
04:48:06 <basti_> but you never know
04:48:06 <basti_> ;)
04:48:08 <bourbaki> and in weather simulation you can see that a slight difference in the numbers has a great impact
04:48:12 <tuomov> basti_: assuming exact measurements :)
04:48:19 <basti_> yep
04:48:35 <basti_> it works most of the time though
04:48:36 * lispy uses exact measurements when cooking :)
04:48:43 <basti_> Audi TT didn't work.
04:49:15 <basti_> when driving 280 km/h the brake system DSP sometimes thought it would be a good idea to break HARD on the back left wheel, and steer right a little, or something
04:49:29 <basti_> thats why Audi SchleuderTTrauma
04:49:31 <basti_> ;)
04:50:05 <tuomov> I don't trust anything that moves fast with that much automation
04:50:05 <basti_> mmm i'll take a shower now
04:50:08 <basti_> yes.
04:50:11 <basti_> i dont
04:52:20 <bourbaki> thanks im off for a while
05:08:32 <basti_> re
05:35:38 <Oejet> Greetings.
05:36:29 <Lemmih> Hey
05:46:52 <foxy_> @docs cast
05:46:53 <lambdabot> cast not available
05:46:55 <goron> Is there something like Haskell Corba that's not older then 2 years?
05:47:01 <sylvan> What's the consensus on using "we"-form in a thesis-like report?
05:48:08 <TheHunter> @index cast
05:48:10 <lambdabot> Data.Typeable, Data.Dynamic, Data.Generics.Basics, Data.Generics
05:48:17 <TheHunter> @docs Data.Typeable
05:48:18 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Data.Typeable.html
05:48:40 <foxy_> ah, thanks
05:48:49 <Philippa_> sylvan: I usually notice it when there're two or more names at the top these days. OTOH, I don't see 'I' very often
05:49:06 <Philippa_> trade your 'we' for a gender-neutral singular pronoun? ;-)
05:50:00 <sylvan> *sigh*... It's hard to rephrase an entire 40 page report to not use we-form...
05:50:37 <sylvan> What's worse, our handler didn't say we _shouldn't_ use we-form, just that we should give it some consideration.. which probably means he will be pissed off if we do it...
05:50:42 <Oejet> s/we/I/g,  s/us/me/g. ;-)
05:51:32 <sylvan> =)
05:51:48 <Oejet> :-P
05:52:18 <goron> I think that's the best way to turn your thesis into garbage.
05:53:00 <Oejet> we're -> I're. :-P
05:53:20 <Oejet> I R Baboon.
05:55:36 <Philippa_> sylvan: I'm inclined to walk through things in second person - "if you do this...". If I absolutely have to take credit I'll use I. However, I'm unpublished...
05:56:32 <sylvan> Yeah, I guess I'll have to rewrite my part of the report... crap
05:56:47 <Philippa_> if need be, "this paper contributes...". Personally, I'd prefer it were 'I' more acceptable, but hey
05:58:16 <goron> Philippa_: If you start using "I" and you publish a paper about using "I", maybe you start a revolution.   Or not...
05:58:25 <Philippa_> :-)
05:58:48 <Philippa_> being able to say 'I' is one of the things I like about writing for TMR...
05:59:45 <goron> Philippa_: It sits really deep with you?
06:00:02 <Philippa_> it's just uncomfortable not being able to say something like "I tried this, it doesn't work"
06:00:19 <goron> Philippa_: *I* agree.
06:00:26 <Philippa_> :-)
06:00:56 <Philippa_> I can understand why the convention exists, but I'm quite capable of being self-deprecating without it thankyouverymuch
06:01:11 <goron> Philippa_: I think I will write my thesis with "I".
06:01:58 <goron> Saying "we" when you are alone is plain pathetic.
06:02:04 <Philippa_> cool. I'm still an undergrad, so mine gets dubbed a dissertation
06:02:06 * Philippa_ nods
06:02:12 <Philippa_> if you did it all yourself, say "I"
06:02:38 <goron> Philippa_: How old are you?
06:02:39 <Philippa_> I'm wondering if I'll get told off for using singular they as a gender-neutral pronoun
06:02:40 <Philippa_> 22
06:02:51 <goron> Philippa_: And you didn't graduate yet?
06:03:16 <Philippa_> nope, had major personal problems starting the second year at uni. I would've graduated two years ago without them
06:03:55 <Philippa_> but on top of the motivational issues that come with asperger's they've really broken the camel's back (hence my coding in haskell instead ;-)
06:04:12 <musasabi> Philippa_: sorry, for not doing anything with Flippi in the weekend - but I have been down with a fever and didn't get a single line of code done in the whole weekend.
06:04:12 <goron> Philippa_: I always had the impression you already were graduated :-)
06:04:29 <Philippa_> musasabi: np, my own weekend fell apart so I know how it goes
06:04:57 <Philippa_> everything but my crashspace for the weekend didn't happen one way or another - one person not coming to manchester, another ill, then /I/ was during the party I was meant to go to...
06:05:07 <Philippa_> goron: I tend to give that impression, yeah :-)
06:05:22 <Philippa_> certainly I'm plenty capable of it intellectually...
06:05:29 <goron> Philippa_: And you study CS?
06:05:36 <Philippa_> yup
06:06:00 <Philippa_> at the University of Nottingham. Graham Hutton's my final year project supervisor
06:06:10 * basti_ is capable of lots of things, but also incredibly bored by a special breed of people that tends to accumulate in teaching positions
06:06:13 <Philippa_> keep meaning to drag myself on to campus and say hi to Conor McBride, too
06:06:17 <Philippa_> heh
06:06:36 <Philippa_> I wasn't the perfect worker even in my first year. But I wasn't exactly failing the course either
06:07:08 <basti_> i think i would have been perfectly capable of studying aged 15 or something.
06:07:27 <basti_> sadly you have to graduate in belletristics before you may to go to uni in germany
06:07:36 <basti_> (abitur)
06:07:42 <Lor> belletristics?
06:07:48 <Philippa_> I probably would've been. Waiting was worthwhile though, you miss out on a lot socially if you go early
06:08:01 <basti_> well it pretends to be general education
06:08:15 <Philippa_> heh
06:08:22 * Philippa_ remembers the 'general studies' A level here
06:08:44 * Lor has been trying to get some reasonable "general education" for ten years now.
06:08:55 <Philippa_> what do you want it to cover?
06:08:59 <Lor> I'm 27, finally graduated, and still don't consider myself particularly educated. :)
06:09:02 <basti_> in my opinion its wasting time with coping with stupid language teachers
06:09:05 <Lor> History and languages, for one.
06:09:13 <bourbaki> is general education this stuff you need to win who wants to be a millionaire?
06:09:18 <Philippa_> I'd like to do more with languages, or at least with writing style
06:09:32 <basti_> I'm 25, didn't graduate yet, and consider most of my formal education a waste of time that i have to cope with anyway
06:09:41 <basti_> I'd love to LEARN languages
06:09:45 <Philippa_> now, political study would probably just make me want to top myself
06:09:52 <basti_> not to debate about stupid 15th century literature in foreign languages
06:09:54 <bourbaki> basti_: just travel
06:10:03 <basti_> i mean, school wise
06:10:10 <Lor> Incidentally, is anyone going to be in a visitable location in Europe sometime in august or so?
06:10:20 <bourbaki> languages are to be spoken you cant learn a language by looking in books
06:10:25 <goron> The annoying thing about education is that people tell you stuff that's widely been investigated. Most of it trivial.
06:10:25 <basti_> yes
06:10:29 * Lor intends to go travelling around europe.
06:10:31 <Philippa_> yep
06:10:36 <Philippa_> I'll still be in Nottingham
06:10:41 <basti_> but in the school they tell you it's 5 years french, and then you end up debating WW2 in french
06:10:53 <bourbaki> basti_: in germany :)
06:11:02 <basti_> just like in Political Education, History, Religion, German...
06:11:15 <basti_> everything is WW2 or ancient literature
06:11:21 <basti_> completely stupid
06:11:27 <Philippa_> oh joy, we at least got more variety than that here
06:11:28 <bourbaki> basti_: but you can read yourself
06:11:37 <goron> basti_: You do something like "university college"?
06:11:46 <basti_> and then they wonder why the kids get stupid
06:11:47 <Philippa_> I can understand Germany wanting to make sure everybody educated there knows what happened, but still
06:12:03 <basti_> its almost neurotic
06:12:09 <bourbaki> heh
06:12:14 <basti_> switch on the TV, and on 2 or 3 of the 20 channels there's WW2
06:12:18 <Philippa_> personally, I think everybody who wants to comment on international politics these days needs to understand the cold war, but hey
06:12:28 <Lor> Since I just graduated, this is the natural next step: http://en.wikipedia.org/wiki/Grand_Tour
06:12:30 <bourbaki> thats due to the fact that it 60 years ago
06:12:34 <basti_> its not that anything did get ignored
06:12:47 <basti_> but i really get BORED by WW2 now, actually
06:13:04 <bourbaki> well i have been following some of the debates on tv lately
06:13:15 <basti_> lately they had this one TV news "anchorman" (talking head) Peter Kl√∂ppel explaining us hitler
06:13:19 <basti_> ARGH
06:13:21 <bourbaki> and that is exactly what they argue about that there are so many ppl who are getting annoyed these days
06:13:52 <bourbaki> personally i think that the argument that you have to keep track of history is also applicable in the reverse
06:14:03 <basti_> I get annoyed because they debate like "uhm, nazi = bad, look" and then there's assholes on the street which beat up people and nobody does anything against that
06:14:09 <bourbaki> imho less things would happen if all would forget what happened
06:14:13 * Philippa_ nods
06:14:24 <Philippa_> there're many bad things happening, concentrating on just the one causes even more harm
06:14:37 <basti_> I had someone in my class when i was 13 or so who would have been a perfect example of what happens if you have a totalitary mindset
06:14:52 <basti_> but instead of looking at him (or talking with him), we had to stare at the auschwitz videos
06:15:05 <bourbaki> i have seen a debate where that old israelian guy said that germany has to be an idol reguarding this and that is why they have to tell others about WWII
06:15:13 <basti_> i know.
06:15:16 <Philippa_> the problem with that is it doesn't explain the consequences fully
06:15:17 <basti_> i know it is important.
06:15:23 <basti_> but not like that.
06:15:29 <basti_> and not ignoring real education.
06:15:33 <bourbaki> imho history is nothing but crap anyway
06:15:42 <bourbaki> cause history is makde by those who won wars
06:15:44 <basti_> there's people in germany who can't multiply two fractions
06:15:46 <bourbaki> or are able to write
06:15:58 <Philippa_> basti_: there're people everywhere who can't, mind
06:16:01 <basti_> even some with abitur!
06:16:07 <bourbaki> so the truth of what is written down is of high doubt
06:16:13 <basti_> yup.
06:16:47 <bourbaki> btw reguarding history :)
06:16:56 <bourbaki> i just have finished this really great book
06:16:58 <bourbaki> the difference machine
06:17:06 <basti_> hm?
06:17:12 <bourbaki> its about ada byron not from her point of view though
06:17:17 <bourbaki> quite interesting
06:17:20 <basti_> ah
06:18:26 <basti_> and then we let lawyers and teachers decide where our nation is heading AND THEN WONDER WHY NOTHING IS WORKING OUT!
06:18:38 <bourbaki> well
06:18:49 <bourbaki> this is a bit harsh
06:18:55 <basti_> why?
06:18:58 <bourbaki> its not anyone fault but the ppls fault
06:19:05 <bourbaki> your fault also
06:19:20 <basti_> you mean economical crisis?
06:19:20 <bourbaki> if you want to complain about something but do not tell others then its worthless
06:19:28 <bourbaki> in general
06:19:32 <basti_> ah.
06:19:40 <basti_> yes well i have a suggestion for improvement
06:19:44 <bourbaki> imho there is no economical crisis
06:19:49 <basti_> imho there is none too ;)
06:20:02 <bourbaki> once ppl understand there there is something wrong with how ppl look at economie
06:20:10 <goron> Imho there's a environmental crisis.
06:20:13 <basti_> lawyers may not make laws... as simple as that
06:20:21 <bourbaki> especially the ones that claim to do all the business work
06:20:46 <Philippa_> basti_: there's a problem there, you need somebody trained in law to do a good job of making law
06:20:54 <bourbaki> as long as i have food and a roof there is no crisis
06:21:01 <Philippa_> hah
06:21:05 <basti_> Philippa_: i disdain. I claim that a good law must be understandeable by everyone.
06:21:15 <bourbaki> well law is something most ppl can agree in i guess
06:21:15 <Philippa_> sorry, some people need more than food and a roof
06:21:26 <goron> Like air.
06:21:26 <bourbaki> 80% of the written stuff ehre in germany is law related
06:21:29 <Philippa_> basti_: sure. You still need to think like a lawyer to understand the consequences
06:21:33 <bourbaki> Philippa_: like?
06:21:48 <Philippa_> medical care to start with. Some people need more care than that, too
06:21:53 <bourbaki> goron: till now air is a free good
06:22:17 <bourbaki> Philippa_: back in time there was nothing like medical care
06:22:23 <basti_> Philippa_: lawyers claim they understand law. If in germany some policeman may threaten someone with torture, and later gets not convicted of that crime, this is a failure of law regarding basic human rights
06:22:24 <Philippa_> and people like me died
06:22:30 <bourbaki> imho ppl expect too much of life these days
06:22:39 <bourbaki> Philippa_: ?
06:22:50 <Philippa_> basti_: agreed entirely, and there're some serious problems over here regarding the current anti-terrorism laws for similar reasons...
06:22:53 <basti_> Philippa_: i do not believe this sort of people actually knows what the consequences of their actions are.
06:22:53 <goron> bourbaki: In the Netherlands some people live 10 years shorter due to bad air quality.
06:23:03 <bourbaki> basti_: german law is quite good compared to others
06:23:03 <basti_> and this was not even about terrorism
06:23:06 <Philippa_> bourbaki: exactly what I said. 200 years ago, I wouldn't have lived to 22
06:23:08 <musasabi> Many laws tend to be political compromises and thus quite bad, because they can be interpreted in widely different fashions...
06:23:10 <bourbaki> and there always are grey zones
06:23:12 <ozone> you guys are getting away from the real issue, which is ... petroleum!
06:23:19 <goron> I wonder why people are terrorists.
06:23:22 <bourbaki> where human thoughts interfere with the laws
06:23:37 <basti_> bourbaki: yes but there are grey zones and crimes.
06:23:46 <bourbaki> goron: thats true for any other place as well
06:23:50 <basti_> bourbaki: daschner commited a crime, as it is written in the book.
06:23:53 <ozone> ok, so has anyone here used c2hs?
06:23:54 <basti_> he wasn't punished for that
06:23:59 <bourbaki> basti_: others call that a possibility to earn money
06:24:01 <basti_> => #politics? ;)
06:24:05 <bourbaki> Philippa_: and why is that?
06:24:07 <goron> bourbaki: Not in Brazil 40 km inside the woods.
06:24:14 <bourbaki> goron: sure
06:24:17 <goron> bourbaki: Or Iceland.
06:24:21 <bourbaki> air pollotion is nothing local
06:24:23 <Philippa_> bourbaki: none of your business. I would be dead without modern medical care, that's all you need to know
06:24:42 <basti_> health care is extremely important of course.
06:24:48 <bourbaki> well others have illnesses that cant be cured now as well
06:24:55 <bourbaki> so i dont see the point there
06:25:10 <basti_> but we all have to be clear that it's either living long and expensive or rather short and not as expensive.
06:25:17 <bourbaki> you cant live forever
06:25:22 <Philippa_> the point is that it's necessary for a lot of people
06:25:23 <basti_> uhm, suggestion: #politics btw.
06:25:23 <basti_> ;)
06:25:48 <bourbaki> Philippa_: for a lot of ppl its also important to earn al ot of money
06:25:53 <bourbaki> or kill other ppl
06:26:02 <bourbaki> or i dont know what but this is all not really important
06:26:08 <Philippa_> not in the same way it's not. It's not life-or-death for them
06:26:14 <bourbaki> really important to your life is eating and haveing shelter
06:26:20 <goron> bourbaki: http://www.gen.cam.ac.uk/sens/AdGbio.htm this guy has another opinion.
06:26:33 <Lemmih> nibro: Ping.
06:26:43 <goron> bourbaki: It it impossible to prove that you lived forever :)
06:26:55 <basti_> i think there is no point in trying to make people live forever
06:27:07 <goron> basti_: Because?
06:27:12 <ozone> Lemmih: does hacanon do automatic marshalling of structs?
06:27:33 <bourbaki> imho if you really think about it and would act rational you would have to die right away to be rational anyway
06:27:34 <Philippa_> because the consequences of widespread immortality are pretty horrific
06:27:43 <musasabi> Well it would make sense to first stop people dying from malnutrition and contaminated water.
06:27:44 <basti_> because the world would be full one day then, because then old dirty bastards occupy the power centres, because it would get boring eventually
06:27:55 <musasabi> immortality with current society would not work.
06:28:00 <basti_> you need to live today.
06:28:03 <bourbaki> a good war will make sure the world would not be over crowded
06:28:08 <goron> basti_: You could stop getting children.
06:28:12 <basti_> and if its over, well, that's it.
06:28:19 <basti_> goron: where would we be without children?
06:28:22 <Philippa_> goron: and end up with a population of bored immortals
06:28:26 <goron> basti_: Or go to other planets.
06:28:28 <bourbaki> oce ppl live forever they would kill themselfs most likely anyway
06:28:40 <musasabi> wealth distribution would be a problem without people dying.
06:28:52 <bourbaki> there is a tribe somewhere who kill themselves at a certain age
06:28:53 <Lemmih> ozone: Yes, but it can't translate them to Haskell data types (yet).
06:29:04 <bourbaki> to the use of the social sustems
06:29:07 <ozone> Lemmih: do you know if any of the other marshalling tools do?
06:29:08 <bourbaki> system
06:29:10 <goron> bourbaki: That's a solution to.
06:29:14 <goron> er roo
06:29:16 <goron> er too
06:29:22 <bourbaki> maybe someone should suggest there in the industy nations as well
06:29:40 <musasabi> What do you need immortality for if people kill themselves at a certain age?
06:29:53 <Lemmih> ozone: I don't think so. c2hs and hacanon are the only ones who actually read header files.
06:30:01 <bourbaki> immortality is not good for the human performance
06:30:07 <goron> musasabi: Not everyone need kill thenselves, only the ones that are bored.
06:30:09 <bourbaki> so its bad if you look at it
06:30:10 <basti_> I'll debate any bizarro spinoff of that in #politics! ;)
06:30:16 <ozone> Lemmih: yeah, c2hs doesn't appear to do automatic marshalling either
06:30:18 <bourbaki> just one virus and all are dead
06:30:33 <goron> bourbaki: There's no logic in that.
06:30:41 <bourbaki> evolutionary longlivity of the individual leads to death of the group
06:30:46 <Lemmih> ozone: I had it working once but then C++ templates messed it all up (:
06:30:51 <bourbaki> there is
06:30:53 <musasabi> goron: or are too poor to afford the treatment.
06:30:56 <ozone> Lemmih: hehe, what a big surprise!
06:31:22 <goron> musasabi: That's true, but is an assumption that was not there.
06:31:26 <ozone> Lemmih: i'm only trying it on C, not C++, but ah well
06:31:40 <ozone> looks like i'll just do it the evil way then
06:32:03 <goron> But if you are immortal, how can the whole population die?
06:32:13 <goron> That's inconsistent with the assumption ;)
06:32:24 <bourbaki> because of a slight change of the environment
06:32:41 <bourbaki> genetic variance is the key to the survival
06:32:48 <bourbaki> immortaility is the opposit of variance
06:33:00 <bourbaki> hence small changes have greater impact
06:33:59 <ozone> Lemmih: hey, maybe you can help me out.  if all i want is to be able to pass around a handle to a C struct in haskell-land, then all i need to implement in Storable is sizeOf and alignment?
06:34:20 <goron> So you basically say: if every person alive would become immortal at this point in time, this variance is smaller then when you have a population that changes every second, but stays the same size?
06:34:40 <bourbaki> goron: sure because resources are limited
06:34:53 <bourbaki> that is why the variance decreases
06:35:12 <bourbaki> a desiease has greater impact on humans then for example insects
06:35:20 <bourbaki> its all mere numbers
06:35:29 <glimming> @pl fmap (>>= id)
06:35:30 <Lemmih> ozone: Can't you just use a Ptr?
06:35:30 <lambdabot> fmap join
06:35:41 <glimming> @pl liftM (>>= id)
06:35:42 <lambdabot> fmap join
06:35:47 <glimming> aha
06:36:13 <ozone> Lemmih: i'd prefer to use the actual struct, so i can pass it to pure functions
06:36:23 <glimming> @seen ski
06:36:24 <lambdabot> I saw ski leaving #haskell 1 day, 15 hours, 6 minutes and 58 seconds
06:36:24 <lambdabot> ago.
06:36:53 <Lunar^> > I feel pretty worried now.  Is everything alright?
06:36:54 <Lunar^> Yes, everything is alright. I'm focussing on writing code.
06:37:02 <Lunar^> that's from shapr
06:37:07 <ozone> Lunar^: huzzah
06:37:25 <Lunar^> He really wants to finish FLM 0.1 before coming back
06:37:27 <musasabi> Lunar^: thanks for asking him :-)
06:37:37 <goron> bourbaki: Well, I puge when I think about a moment in my life that I need other people to feed me etc, that I don't recognize my own family etc.
06:37:47 <Lunar^> musasabi: I was *really* worried
06:37:59 <Lemmih> ozone: You want to access data inside the struct?
06:39:36 <ozone> Lemmih: hmm, actually, don't worry.  i think i'm just on crack
06:39:36 <Lunar^> ozone: you need to use hsc2hs
06:40:05 <Lunar^> ozone: value <- (#peek struct my_struct, field_name) pMyStruct
06:40:17 <Lunar^> ozone: (#poke struct my_struct, field_name) pMyStruct value
06:41:56 <ozone> Lunar^: hmm, how's that different to c2hs?
06:42:13 <Lunar^> ozone: It's not in GHC :)
06:42:26 <Lunar^> ozone: to be honest, I never need more than hsc2hs offer
06:42:42 <Lunar^> damn, I should release HFuse at some point
06:42:54 <ozone> :)
06:55:15 <dcoutts_> ozone, c2hs is more sophicticated than hsc2hs in that it will create the foreign import statements for you based on the declared type in the C headers, for writing Storable instances for C structures however, hsc2hs is quite sufficient
06:56:45 <ozone> dcoutts_: right
06:57:10 <ozone> my main concern is that i want to pass around the struct to haskell code, but i don't want (nor need) to access all the fields of the C struct
06:57:19 <ozone> so the haskell version of the C structure will be much smaller
06:57:40 <ozone> is that going to be a problem?
06:58:45 <dcoutts_> not a problem at all, it's quite common for the Haskell equivalent to be smaller and only contain the interesting bits of the C struct
06:59:49 <dcoutts_> indeed often you don't need to marshal any of the struct, but just pass it around as an opaque type (using ForeignPtr MyCType)
06:59:52 <ozone> dcoutts_: cool.  if the C functions typically manipulate the thing by passing around a pointer to it in C land, i guess that's not an issue either?
07:00:14 <ozone> (as opposed to the haskell side, where you tend to operate on the struct rather than a pointer to it)
07:00:27 <ozone> hmm, you know, i think i'm (a) being paranoid, (b) being an idiot
07:01:20 <ozone> thanks lemmih, duncan
07:01:34 <ozone> definitely time to get some caffiene
07:02:09 <dcoutts_> so for example in glib style libraries you've got GObject (and things 'derived' from it). For these types you never marshal their contents (which is private) but you pass around the pointer to it [ newtype GObject = GObject (ForeignPtr GObject) ] and call C functions which accept that opaque pointer.
07:02:23 <glimming> @seen TheHunter
07:02:23 <lambdabot> TheHunter is in #haskell. Last spoke 1 hour, 14 minutes and 5
07:02:23 <lambdabot> seconds ago.
07:02:38 <ozone> dcoutts_: right, that makes total sense
07:02:45 <glimming> I have some questions about distributive laws
07:02:47 <ozone> that's what i had initially, but then i went silly
07:03:06 <glimming> ski wrote this
07:03:08 <glimming>            T . mu_S         mu_T . S
07:03:09 <ozone> i can't believe i'm asking this after actually writing a marshalling tool :)
07:03:11 <glimming> T . S . S ---------> T . S <--------- T . T . S
07:03:13 <glimming>     |                  |                  |
07:03:16 <glimming>     | delta . S        |        T . delta |
07:03:18 <glimming>     V                  |                  V
07:03:21 <glimming>                        |
07:03:23 <glimming> S . T . S            delta            T . S . T
07:03:26 <glimming>                        |
07:03:28 <glimming>     |                  |                  |
07:03:31 <glimming>     | S . delta        |        delta . T |
07:03:33 <glimming>     V                  V                  V
07:03:36 <glimming> S . S . T ---------> S . T <--------- S . T . T
07:03:38 <glimming>            mu_S . T         S . mu_T
07:03:41 <glimming> I hope you have a suitable font...
07:03:43 <glimming> I'd like to replace mu_S with >>=id which is clearly fine
07:03:45 <ozone> pretty!
07:03:47 <glimming> But... perhaps there are other simplications at our disposal once me move to Kleisli style, TheHunter?
07:04:05 <glimming> Yes, ski did a great work there.,
07:04:10 <dcoutts_> ozone, for that style of binding (few Storable structs and instead calling lots of C functions) that is where c2hs becomes very useful.
07:05:09 <ozone> dcoutts_: schmexcellent.
07:05:20 <nibro> Lemmih: pong
07:05:52 <Lemmih> nibro: Hey. I'm trying to merge HSP with my Apache module.
07:08:31 <Lemmih> And hspr looks really useful but it's not a package.
07:12:35 <nibro> so you want the hspr code as a package?
07:13:00 <nibro> that should be easy enough to fix =)
07:15:37 <skew> Hi
07:15:41 <skew> anybody around?
07:15:44 <Lemmih> Yo
07:15:52 <ozone> hoi
07:16:08 <skew> I just had an interesting idea I don't want forgotten
07:16:24 <skew> I was thinking about editors and syntax highlighting and such, in the context of yi
07:17:21 <skew> reparsing the rest of the document after every change is starting to be feasible with modern machines, but is still pretty inefficient
07:17:41 <skew> what would be useful would be some sort of coparser which would start from the other end
07:18:00 <skew> like LALR languages are easy to parse from left to right using a stack and so on
07:18:45 <skew> if your language is also LALR in the other direction, then you could start a parser at both ends
07:19:26 <skew> then you would just need to check a tiny bit on edits, and make sure that states that the parsers end up in after crossing the inserted text is compatible with the state the other was in before crossing the edit
07:19:46 <Philippa> you don't need to reparse the whole doc anyway, just far enough to clear the stack (then the rest on demand)
07:22:29 <musasabi> Is there a way to decorate values with unique integers when they are lifted into an arrow?
07:22:59 <Philippa> sure, give the arrow a unique number generator then tweak lift appropriately
07:23:11 <Philippa> your runArrow func can be monadic if need be
07:23:26 <musasabi> Philippa: that happens only when it is run.
07:23:40 <TheHunter> glimming, i'm not sure the distributive laws can be elegantly expressed in kleisli form.
07:23:49 <musasabi> Philippa: and isn't that too late?
07:23:51 <Philippa> you want them static, have a staticEvaluate func
07:24:01 <skew> Philippa: yeah, but usually it ends up looking funny if you scroll around tghen
07:24:23 <musasabi> Philippa: if they are added when the arrow is run they don't help very much with cycles.
07:25:29 <Philippa> musasabi: runStaticallyEvaluatedArrow :-)
07:25:42 <skew> I wonder if something like GLR could help with cases where the langauge isn't nice to parse in both directions (probably only things like Pascal that have separate enddef, endif, endfor, etc are easy to parse like that)
07:25:51 <glimming> TheHunter, so what are the laws really saying, it seems like a functoriality property of delta.
07:26:05 <ozone> musasabi: TH?
07:26:06 <musasabi> Philippa: how would that work?
07:26:08 <skew> musasabi: you could have a version of the lifting function that needs to be run in some unique-numbering monad
07:26:09 <glimming> Anyway, what is the difference between distributive laws for monads and for functors?
07:26:27 <TheHunter> skew, was it you who tried to do an implementation of a pure ST monad, or am i mistaking you for somebody?
07:26:41 <skew> I don't recall ever actually trying
07:26:42 <Philippa> musasabi: runDynamicPart (runStaticPart f) = runAll f. runStaticPart'd be the bit that threads a unique supply through itself
07:26:46 <musasabi> skew: but that would be killed by ghc relying on arr/pure which are not inside a monad.
07:26:50 <TheHunter> ok, sorry
07:26:52 <skew> or even telling anybody I was thinking about it...
07:27:09 <skew> but I may just have forgotten. What did you want?
07:27:31 <Philippa> or to view it another way, runStaticPart converts from one arrow type to another (which you leave abstract) that has the uniqueness stuff done
07:28:09 <tvoss> hey guys, need some help with a pattern matching problem regarding a self-defined data type
07:28:12 <skew> has anybody taught Yi to use Haddock interface files to produce documentation?
07:28:29 <Philippa> tvoss: ask away
07:29:00 <glimming> is there a distributive law SM s (SM s' a) -> SM s (SM s' a)? Counter-example?
07:29:15 <glimming> Forgive s and s' flipped around on LHS of ->
07:29:26 <musasabi> Philippa: yes, the problem will then just be determining the cycles in the runStaticPart.
07:29:55 <TheHunter> probably not.
07:29:59 <glimming> No, probably not..
07:30:10 <glimming> But it would be good to be sure.
07:30:24 * musasabi ponders whether getting numbers from TH or unsafePerformIO:d counter is more evil.
07:30:42 <glimming> It's a good motivation for m oand transformers, which, btw, I do not really understand. What are they - monad morphisms???
07:31:05 <tvoss> Philippa: I defined a data type describing regular expressions
07:31:09 <ozone> musasabi: note, if you want to do profiling, you can't use TH
07:31:25 <TheHunter> glimming, they're pretty much monad morphisms.
07:31:30 <Philippa> glimming: something like that. Takes a monad, returns a new monad whose operations are defined in terms of those presented by the old one
07:31:36 <TheHunter> in special cases you can postulate more laws.
07:31:44 <tvoss> Philippa: and implemented a function "isValid" that checks whether a given expression is a valid regExp.
07:31:51 <skew> tvoss: the Haskell report describes everything that isn't a GHC extension. It would be a good idea to read over the pattern matching section again once we've help you and understand it more
07:32:03 <skew> glimming: maybe more like a natural transformation
07:32:15 <skew> glimming: because a single transformer can transform many monads
07:32:24 <Philippa> tvoss: you mean your datatype is capable of expressing things that aren't regular expressions?
07:32:50 <Philippa> anyway, first of all what does the datatype look like? (use a paste bin)
07:33:04 <glimming> They are typeclasses with two arguments, each a monad?
07:33:09 <tvoss> Philippa: Not at all ... I just wrote it for gaining a deeper understanding of pattern matching ...
07:33:25 <Philippa> glimming: no
07:33:26 <glimming> So what are the associated natural transformations / morphisms=?
07:33:39 <tvoss> Philippa: All atomar elements are recognized, but all composed ones are rejected ...
07:33:44 <TheHunter> ok, skew is right it's a natural transformation in the category of monads.
07:33:47 <Philippa> they're usually type constructors that take monads as parameters (that is, other type constructors that're members of Monad)
07:34:04 <Philippa> tvoss: your matching function needs to be recursive then, no?
07:34:13 <TheHunter> so if you instantiate the "transformed monad" to something concrete you get a monad morphism.
07:34:19 <tvoss> Philippa: isValid (Conc [Epsilon,Epsilon,Epsilon]) =>Program error: pattern match failure: isValid (Reg_exp_Plus [])
07:34:31 <Philippa> tvoss: that's no use to me without the code
07:34:58 <Philippa> all I can tell you there is it's complaining that you've not given it a pattern that matches the value you handed it
07:35:05 <tvoss> Philippa: hbin.dyndns.org seems to be down:-(
07:35:15 <Philippa> go google for another then
07:36:26 <skew> @hawiki HaskellIrcPastePage
07:36:28 <lambdabot> http://www.haskell.org/hawiki/HaskellIrcPastePage
07:37:16 <glimming> class (Monad m, Monad (t m)) => MonadT t m where   lift :: m a -> t m a     seems to involve two parameters...
07:37:47 <skew> glimming: hmm, that's interesting
07:38:08 <TheHunter> that's a monad morphism.
07:38:31 <skew> The class is usually used as if it were class (forall m. Monad m => Monad (t m)) => MonadT t where ...
07:38:56 <skew> i.e, only writing instances of the form instance (Monad m) => MonadT MyT m where ...
07:39:07 <Philippa> glimming: that makes them /instances/ of a typeclass, sure
07:39:31 <TheHunter> ya, it's often annoying that you can't express that relationship in haskell...
07:40:20 <skew> I think there is probably some room for interesting transformers that only work on certain base monads
07:41:12 <skew> but I need to work on other stuff now, just popping in (and writing stuff down) so I don't forget my idea to teach Yi about Haddock interface dumps, and to write a crazy bidirectional parser for syntax highlighting...
07:41:22 <TheHunter> where's MonadT from?
07:41:51 <skew> Control.Monad.Trans, I think
07:41:58 <glimming> It's from "Monad Transformers and Modular Interpreters" Liang Hudak and Jones
07:42:13 <TheHunter> no, Control.MOnad.Trans makes a different tradeoff.
07:42:13 <glimming> Now, a monad transformer is something that also satisfies the laws
07:42:15 <glimming>        lift . return = return
07:42:15 <glimming>        lift (m >>= k) = lift m >>= lift . k
07:42:30 <TheHunter> class MonadTrans t where lift :: Monad m => m a -> t m a
07:43:43 <Philippa> glimming: I don't buy your first law
07:43:45 <glimming> But you would also prefer that you actually transform something into a monad which this def is missing
07:44:00 <glimming> call Hudak then
07:44:01 <TheHunter> these are exactly the laws for a monad morphism.
07:44:11 <Philippa> glimming: not everybody uses Hudak's definitions, HTH
07:44:18 <TheHunter> they're correct.
07:44:44 <TheHunter> Philippa, what doesn't satisfy this law?
07:44:50 * Philippa thinks a mo
07:45:07 <Philippa> mebbe I'm being braindead today again
07:45:29 <Philippa> yeah, I'm treating lift wrong, comment retracted
07:45:48 <Philippa> I really shouldn't join in conversations like this before breakfast, sorry
07:46:28 <TheHunter> the composing monads using coproducts paper has examples for things that aren't monad morphisms ;P
07:46:54 <glimming> thanks, TheHunter I have it here
07:47:00 <glimming> Will dig into
07:47:30 <glimming> Probably a better presentation altogether anyway that one
07:47:38 <TheHunter> i should tell you they claim that they do, though.
07:48:21 <TheHunter> s/do/are/
07:48:29 <glimming> yes please
07:49:15 <TheHunter> i retract my comment.
07:50:51 <TheHunter> anyway, the ideal presentation of monad transformers is what skew wrote, but you can't express that in haskell, so you gotta make a compromise.
08:03:58 <Lunar^> JaffaCake: Hey! Thanks for exporting unblockOneLocked ! :)
08:04:27 <JaffaCake> really? you only had to ask :)
08:05:19 <Denvull> night
08:05:43 <Lunar^> JaffaCake: I did the export myself in hOp modified RTS
08:05:57 <Lunar^> JaffaCake: I think OGI people dropped that model, though
08:06:08 <JaffaCake> ok
08:07:09 <Lunar^> JaffaCake: When they did the demo at HW2004, have they talked about writing a paper?
08:07:35 <JaffaCake> I don't remember, don't think so
08:08:06 <Lunar^> Surely it's fun, but that would be amazing that they only hack for the sake of it :)
08:10:08 <Lunar^> JaffaCake: while I am at it, have you ever looked at Bellard's tcc?
08:10:16 <JaffaCake> nope
08:10:57 <Lunar^> JaffaCake: tcc stands for Trivial C Compiler, but it's not that trivial actually
08:11:24 <Lunar^> JaffaCake: what's interesting is libtcc, which allow you to embed a whole C compiler, ASM and linker in another program
08:11:24 <JaffaCake> google says "tiny C compiler"
08:11:42 <JaffaCake> right, sounds very cool
08:11:49 <Lunar^> yep, you are right
08:12:00 <Lunar^> JaffaCake: for a GHC module, I think it could be well suited
08:12:10 <Lunar^> it's x86 only, though
08:16:11 <Lunar^> IMHO it's the hardest assembly, so adding support for RISC archs shouldn't be that hard
08:16:15 <Lunar^> but I might be wrong
08:18:56 <tic> tcc will always be Borland's Turbo C! :)
08:27:06 <Oejet> [RFC] I've mutated the TMR article into a tutorial, http://www.student.dtu.dk/~s022018/Temporary/ffitutorial.ps .  I'd like someone to proof read it before I send it to Chakravarty.
08:32:22 <dcoutts_> Oejet, I'm reading it now... (btw Gtk2Hs has moved to http://haskell.org/gtk2hs/)
08:34:16 <CosmicRay> @seen shapr
08:34:17 <lambdabot> I saw shapr leaving #haskell 7 days, 23 hours, 34 minutes and 1
08:34:17 <lambdabot> second ago.
08:42:24 <dcoutts_> Oejet, page 7 (half way down the page): "Finally in the  last line those to lists are combined an returned" should be "Finally in the  last line those *two* lists are combined *and* returned"
08:43:42 <Oejet> dcoutts_: Thanks.
08:44:44 <dcoutts_> otherwise it looks ok to me
08:45:09 <Oejet> dcoutts_ I need credits.
08:45:31 <dcoutts_> you mean citations?
08:46:03 <xerox> hiya.
08:46:19 <Oejet> Nah, I need to give crops to the people who helped me.  You amond others.
08:46:34 <dcoutts_> oh, I see
08:46:42 <Oejet> *among
08:47:21 <dcoutts_> (don't credit me too much, I didn't proof read it that carefully!)
08:49:02 <dcoutts_> but it's ok to send to Manuel (except that you didn't mention c2hs!)
08:49:45 <Oejet> Why would I mention c2hs?
08:50:05 <dcoutts_> actually it might be worth mentioning that larger, more sophisticated bindings often use some kind of FFI preprocessor (eg c2hs, hsc2hs, GreedCard, etc)
08:50:21 <Oejet> Ah, I see.
08:50:37 <dcoutts_> you don't need it for bzip but they do quite a bit of the dirty work in other projects
08:51:28 <Oejet> Ok, I'll mention them.
08:51:52 <dcoutts_> you might want your readers to realise that they don't have to do all the bindings by hand and thet there are tools out there that they can explore once they've understood the basic ideas as you've presented in your tutorial
08:52:39 <dcoutts_> eg, c2hs will check the consistency of your ffi import decleraations with the C headers (actually it generates the ffi import declartions for you using the C header files)
08:53:14 <Oejet> Hm, the problem is I don't know them at all.
08:53:19 <dcoutts_> hsc2hs and c2hs will both help you to calculate the size of structures and field offsets which is useful in writing Storable instances
08:54:14 <dcoutts_> I don't think you need to know them, just mention that they exist and help with the larger examples of foriegn library bindings
08:54:57 <Oejet> Maybe you could write a paragraph about that using what you just mentioned?
08:55:00 <dcoutts_> they don't do anything particularly revolutionary, just automate a few things or automatically check things
08:56:51 <Oejet> What is lightsteps real name?
08:57:02 <dcoutts_> Oejet, I don't really have the time at the moment, sorry. But a sentance or two would be enough I'd say, just so your readers know these tools exist (but don't fundamentally change anything that you've already presented)
08:57:40 <Oejet> Ok, that would be a good idea.
09:13:24 <SyntaxNinja> hiya #haskell
09:13:51 <Lemmih> Morning, SyntaxNinja.
09:13:52 <Igloo> Hey ho, Syn
09:25:46 <vincenz> r
09:48:30 * Lemmih battles HSP and hs-plugins.
09:49:32 <xerox> battle :: Army -> Army -> Bool
09:50:10 * aheller feels that anything involving that much death and destruction should involve monads.
09:50:31 * xerox didn't like it either.
09:50:58 <Lemmih> battle :: [Army] -> IO (Maybe Army)
09:51:20 <aheller> :)
09:51:26 <Lemmih> A total of three monads.
09:51:45 <xerox> Hmpf, mine was an ancient-war-like function :P
09:51:50 <SyntaxNinja> and (length army) morons
09:52:40 <Lemmih> Huh?
09:54:37 <SyntaxNinja> shouldn't battle take two armies?
09:55:08 <Lemmih> Wars with only two parties are very rare.
09:56:09 <SyntaxNinja> oh, a list of armies; duh. so I meant (sum (map length armies)) morons
09:57:05 <xerox> SyntaxNinja felt in the same romating view of war as me.
09:57:27 <Igloo> I thought you were only counting the leaders as morons
09:59:02 <Oejet> Who are the morons, the leaders or those who follow them?  Who has the power to carry things out?
09:59:42 <goron> What's the irc name of the maintainer of fbsd Haskell ports?
10:02:43 <reffie> zZzZ:~% grep MAINTAINER /usr/ports/lang/ghc/Makefile                    [13:03]
10:02:43 <reffie> MAINTAINER=     simonmar@microsoft.com
10:03:02 <Oejet> dcoutts_: I just updated the tutorial.  Mind taking a look at the last sections?
10:06:04 <dcoutts_> Oejet,  yep that looks fine
10:06:26 <Oejet> dcoutts_: Great.
10:06:42 <Oejet> dcoutts_: Thank you a bunch.
10:07:06 <dcoutts_> no probs
10:11:05 * SamB wishes ghci could only display foralls when at least one of them mattered
10:11:42 <xerox> SamB, I think 6.4 does what you do.  It depends on -fglasgow-exts IIRC.
10:12:43 <SamB> xerox: yes, I know. but I wish it could omit foralls in types that don't have them in odd places even with -fglasgow-exts on...
10:13:21 <xerox> Hmm... go for it! (?)
10:13:54 <SamB> I would need to expand my /home filesystem, I think...
10:15:51 <vidvandre> dcoutts, http://starcrow.starzinger.net/~vidvandre/arch/ - gtk2hs package for ArchLinux compiled with GHC 6.4 :)
10:18:23 <SamB> speaking of things that would require more space in /home, I wonder if anyone has put up x86 .debs of an mmix-knuth-mmixware toolchain...
10:20:06 <SamB> or tarballs, even...
10:34:16 <dcoutts_> vidvandre, yay! :-)
10:34:16 <dcoutts_> vidvandre, so that's the updated version on http://aur.archlinux.org/packages.php?ID=265&do_Details=1 right? (this is the site we link to from the Gtk2Hs website download page)
10:36:53 <vidvandre> dcoutts, the aur.* only has the pkgbuild file
10:37:02 <vidvandre> not the package itself
10:56:50 * SamB wonders if he could manage to cross-compile one from cygwin...
11:41:45 <glimming> Ok here we go. I have a take-home examination DRAFT and I am in great use of suggestions and proofreading.
11:41:49 <glimming> http://www.nada.kth.se/kurser/kth/2D1456/homeexam-05.pdf
11:42:14 <glimming> TheHunter, shapr, ski, basti_, and others.
11:42:59 <glimming> Also I'd like to know
11:43:00 * Lemmih has won the battle against HSP and hs-plugins
11:43:04 <glimming> if it is "hard" or easy etc
11:44:21 <sylvan> I can't get HSP to compile... Or rather I can't get mysql up and running, and thus not HSQL and thus not HaskellDB and thus not HSP :-(
11:44:50 <Lor> glimming, looks fun.
11:44:57 <glimming> thanks Lor
11:45:09 <glimming> My students will probably hate it.
11:45:14 <Lemmih> sylvan: I'm just using hsp and not hspr.
11:45:28 <Lemmih> sylvan: So no need for a DB.
11:46:20 <glimming> @seen TheHunter
11:46:21 <lambdabot> TheHunter is in #haskell. I don't know when TheHunter last spoke.
11:46:21 <sylvan> ah.. what's the difference? =)
11:46:28 <Lor> Not necessarily too difficult, but it's _big_.
11:46:49 <Lemmih> sylvan: hsp is the base library. hspr is the webserver which can load and serve hsp pages.
11:47:07 <sylvan> so how do  you _use_ hsp pages if you don't have a runtime system to serve them?
11:47:13 <Lemmih> sylvan: I don't need the server since I'm using a Apache module.
11:47:28 <sylvan> ah...
11:47:44 <sylvan> but if I want to mess around writing HSP pages I need hspr right?
11:48:18 <basti_> glimming: your students will hate you
11:48:32 <SyntaxNinja> glimming: what kind of course is this?
11:48:34 <glimming> Why?
11:48:36 <glimming> AFP
11:48:40 <glimming> Is it too hard??
11:48:44 <Cale> This looks like a nice exam
11:48:45 <Lemmih> sylvan: Yes, it's either hspr or my Apache module.
11:48:46 <basti_> glimming: i didnt't learn this stuff though
11:48:56 <basti_> in the formal system
11:49:19 <sylvan> why does hspr need a db anyway? and why doesn't the apache module need it?
11:49:35 <glimming> they only need 50% to pass
11:49:50 <glimming> INCLUDING their homework questions. Many have 5-20 points in stock from homework.
11:50:02 <Lemmih> sylvan: hspr keeps application data in a db.
11:50:06 <basti_> I wouldn't be able to solve Part 1 (never really learned that stuff though). Part 2 is easier on the first glance
11:50:18 <Lemmih> sylvan: Or something like that. I'm not exactly sure.
11:50:58 <glimming> I particularly eager to get comments on 3.5 and 3.4 which are questiona about monads
11:51:15 <sylvan> Lemmih: so how is that solved in the apache module?
11:51:39 <Lemmih> sylvan: Currently by ignoring the application state (:
11:51:44 <sylvan> ah =)
11:51:56 <Lemmih> It's kinda hackish right now.
11:52:19 <sylvan> Well... good luck with the apache module! It's certainly very much needed if it's to be used for a real web site..
11:52:31 <Lor> glimming, it would be nice (at least for us) if the questions were self-contained, i.e. so that the rule E-FixBeta was included in the question.
11:52:36 <glimming> basti_ but Part I is not as hard as it seems.
11:52:45 <glimming> Ok.
11:52:46 <basti_> well then...
11:52:47 <glimming> I will add it.
11:52:52 <Lemmih> I'm thinking about re-implementing Hackage with it.
11:52:55 <basti_> it looks like goobledigook to me ;)
11:53:09 <basti_> you like "shocker" exams it seems to me
11:53:12 <sylvan> that would be cool
11:53:53 <Lor> In 1.4, "(polymorphic)" is repeated.
11:54:28 <glimming> Oh, I was merely instantiating it! ;-)
11:54:33 <glimming> fixed
11:54:38 <basti_> glimming: im 3.1, is it intentional that: f.(foldn g a) = foldn h b?
11:55:05 <basti_> to me it seems that there is no connection between g and h... or is this part of the exercise.
11:55:09 <basti_> ?
11:55:18 <basti_> as in h= f.g?
11:55:29 <glimming> yes it is
11:55:32 <basti_> i see
11:55:41 <glimming> But there are certain assumptiions for fusion to hold namely
11:55:50 <glimming> f (foldn g a undefined) = undefined
11:55:53 <glimming> strictness required
11:55:53 <glimming> i.e.
11:55:55 <glimming> and
11:56:07 <glimming> f.g=h.f
11:56:08 <glimming> f a = b
11:56:11 <glimming> these are the requirements
11:56:16 <basti_> ah ok.
11:56:51 <glimming> so you are right
11:56:57 <glimming> something is missing, namely f.g=h.f I think
11:56:59 <basti_> f.g = h.f is not written there. Is it part of the exercise to discover?
11:57:01 <basti_> i see.
11:57:09 <glimming> Nope, THANKS!
11:57:12 <basti_> :)
11:57:15 <basti_> nP
11:58:24 <glimming> that was a big error
11:58:43 <glimming> There are probably more in dist and SM_1 SM_2 non-dist questions
11:58:50 <glimming> I have to say that
11:59:11 <glimming> I gave that question becaues I am curious to the anwer myself... But I think I know it.
11:59:26 <basti_> i hate "explain why..." assignments. they are so arbitary.... "BECAUSE, JUST BECAUSE" always comes to mind as an answer
11:59:30 <basti_> ;)
11:59:35 <Lor> What's delta in 3.4?
12:00:04 <glimming> Yes
12:00:10 <glimming> But there are good motivations for this one I think
12:00:24 <basti_> :P
12:00:32 <glimming> dist is a so called distributive law
12:00:57 <glimming> like 2*(3+4) = (6+8) in rings
12:01:01 <glimming> e.g. integers
12:01:23 <glimming> This is actually a dist function where *=m and +=n
12:01:30 <glimming> (or the other way around, can't rememer on the fly)
12:01:57 <glimming> special dist properties are sometimes occurring as "strength" in category theory
12:02:00 <basti_> "satisfies a distributive laws"
12:02:06 <Cale> "explain why" means "prove"
12:02:08 <glimming> strength is a distributive property for + and x functor
12:02:57 <basti_> so whats "delta"?
12:02:59 <glimming> basti_ ?
12:03:02 <basti_> Cale: not in this context
12:03:04 <Cale> oh "Explain why such fusion laws are useful..."
12:03:05 <glimming> delta is a polymorphic function
12:03:08 <glimming> in fact a natural transformation
12:03:10 <Cale> that context?
12:03:17 <basti_> glimming: there is an s at the end of laws which doesnt belong there
12:03:22 <basti_> one law, two laws
12:03:38 <Cale> I suppose that's somewhat arbitrary, but there's an obvious answer
12:03:43 <basti_> Cale: yes.
12:03:51 <glimming> where is the 's' ?
12:04:08 <Cale> The hint makes it clear what is desired :)
12:04:12 <glimming> found
12:04:16 <glimming> sorry holds = hold
12:04:16 <basti_> glimming: "...which satifies a distributive laws"
12:04:18 <glimming> Swedish heritage
12:04:28 <Cale> In fact, it almost gives away the solution :)
12:05:15 <glimming> Which?
12:05:39 <jacobian> wow!
12:05:43 <Cale> 3.2.b
12:05:47 <jacobian> This is a fantastically popular channel!
12:06:01 <basti_> mmm brb
12:06:05 <glimming> good programming languages are pppular ;-)
12:06:09 <glimming> for good reasons
12:06:28 <glimming> creative and intelligent people are attracted by them in a sort of Platonic love to life itself
12:06:32 <glimming> to
12:06:32 <jacobian> yeah, well it wasnt that way 4 years ago
12:06:34 <glimming> not by
12:06:38 <Cale> well, Haskell should be more popular than it is, but I suppose it's doing better than when I came upon it.
12:06:42 <Cale> yeah
12:07:10 <Cale> Haskell is getting more practical though, which helps
12:07:12 <jacobian> I think interesting languages are recieving more attention in general.
12:07:50 <Cale> The standard library is in much better shape than when I first looked at Haskell a few years back.
12:08:39 <glimming> yes, well they have earned an easy answer.
12:08:46 <glimming> I think it is impoprtant that they LEARN from the exam
12:09:05 <glimming> I am talking about 3.2b
12:09:08 <Cale> glimming: it seems like a good question :)
12:09:19 <glimming> ;-)
12:12:36 <Cale> That actually seems like a good course
12:13:48 <Cale> Is (polymorphic) supposed to be repeated in question 1.4?
12:14:34 <jacobian> ooo, ooo I want to do homework!
12:15:05 <Cale> glimming: also, you might want to define what happens in question 1.3 when n is odd.
12:15:13 <Cale> er, 1.4
12:15:45 <Cale> jacobian: http://www.nada.kth.se/kurser/kth/2D1456/homeexam-05.pdf
12:17:49 <Cale> I like how question 1.1.b is sufficient to rule out stupid answers to question 1.1.a
12:18:22 <glimming> I doubt it will do so, but anyway! ;-)
12:18:43 <glimming> Also we have _not_ studied the equational rules for PCF so I have to kick them in their ... to get things going
12:18:50 <glimming> We _have_ studied the reduction semantics though.
12:19:05 <glimming> And AFAIK the equational theory can be given by reduction rules, but not the proof system. Is this correct?
12:20:49 <Cale> PCF is an extension of lambda calculus with particular semantics?
12:20:57 <Cale> I haven't run into it
12:21:37 <basti_> back
12:21:46 <glimming> hi basti_
12:21:50 <glimming> yes
12:21:52 <glimming> It has recursion.
12:21:59 <glimming> 1.1 was flawed I am fixing it
12:22:02 <glimming> FIX ing. hehe
12:23:08 <jlouis> Y_{\sigma}'ing it?
12:23:26 <thou> "crashes every time"
12:23:59 <glimming> Yes, jlouis it is
12:24:01 <jlouis> Cale: PCF extends the lambda calculus with a natural numbers structure, types and fixpoints
12:24:12 <glimming> In fact it does not matter which fixpoint combinator one uses so we write FIX
12:24:54 <jlouis> Cale: it even has a nice fully abstract model based upon sequential domains
12:25:07 <jlouis> denotational model, that is
12:26:09 <glimming> and products
12:26:32 <glimming> if you have time to spend, study por in pCF
12:26:43 <basti_> do do do do return() yes? ;)
12:26:51 <glimming> yes
12:26:53 <glimming> That sort of concludes it.
12:27:00 <Lor> That's a bit silly. :)
12:27:09 <basti_> its only 2 credits
12:27:40 <glimming> yes, there's got to be some easy points to catch too you know
12:27:46 <glimming> That keeps the poor buggers motivated.
12:27:48 <glimming> Don't quote me
12:27:53 <glimming> ;-)))))))
12:28:05 <basti_> i think its not a bad question
12:28:09 <basti_> you have to think about it a bit.
12:28:19 <basti_> even though the answer is simple
12:28:29 <glimming> I expect them to look up the do translation, so it has a meaning.
12:29:00 <glimming> I added the line
12:29:07 <glimming> "use the translation of do notation given in lectures"
12:30:12 <dcoutts_> vidvandre, so is the Gtk2Hs  web page linking to the right place? btw, do you subscribe to the gtk2hs-users mailing list? there are some upcomming changes to the way the package is built that you'll want to know about. It'll be described on that mailing list, but if you don't want to subscribe then I'll send build instructions to you seperately.
12:34:51 <vidvandre> dcoutts, you could change the link to http://starcrow.starzinger.net/~vidvandre/arch/ until the arch developers add it to the distro, which may take forever to happen (I'll let you know when/if it happens). I'm not currently subscribed to gtk2hs-users
12:35:46 <glimming> Ok
12:35:49 <glimming> the final version is now here
12:35:56 <glimming> http://www.nada.kth.se/kurser/kth/2D1456/homeexam-05.pdf
12:36:08 <glimming> I think I will go with it unless there are any last minute suggestions. MANY THANKS.
12:37:45 <basti_> hmm ah glimming i'm just seeing, these exercises are to be processed in a number of days yes?
12:37:56 <glimming> 14
12:38:04 <glimming> 2 weeks time
12:38:08 <glimming> too hard?
12:38:10 <basti_> oh then the difficulty is alright
12:38:11 <basti_> no way
12:38:30 <glimming> too easy?
12:38:35 <basti_> (in germany, exams usually are like 2 hours or something! ;)
12:38:41 <glimming> sure
12:38:51 <glimming> but I prefer harder exams, more creativity involved, and a long time to spend
12:38:55 <glimming> This is the Oxford maths style
12:38:55 <basti_> hmm i don't know... depends on how advanced your students are
12:38:58 <glimming> And it is perfect
12:39:06 <glimming> varies
12:39:08 <glimming> some are really bright
12:39:11 <glimming> some are ... less motivatyed
12:39:15 <basti_> -g-
12:39:19 <glimming> one is pissed off at me even
12:39:25 <glimming> Because I had planned their mini projects as follows
12:39:30 <glimming> They have to start ASAP
12:39:38 <glimming> and revise it as they go along e.g. refactor by adding monads
12:39:47 <basti_> no but with time to sleep over it, it's definitely doable...
12:39:52 <glimming> The idea is that they will "see" the motivation for each afp concept by experience
12:40:02 <basti_> i see.
12:40:04 <glimming> their own experience, hands on
12:40:07 <basti_> sure
12:40:08 <basti_> =)
12:40:09 <glimming> But that was not so appreciated it seems
12:40:10 <basti_> how else? ;)
12:40:16 <basti_> bizarre
12:40:24 <glimming> Well, they had preferred to have monads available before starting to code.
12:40:31 <glimming> But I will tell them about "refactoring" soon
12:40:34 <glimming> In the last lecture I think
12:40:38 <basti_> i see
12:40:40 <glimming> Maybe them will understand.
12:40:43 <glimming> Eliza.
12:40:47 <basti_> -g-
12:40:59 <glimming> The teacher's shrink!
12:41:03 <basti_> better than silence huh? ;)
12:41:11 <glimming> absolutely!
12:41:19 <basti_> in IRC i can't nod or make "mmh"
12:41:32 <glimming> I am just explaining what I think it should be like and the fact that students do not understand things from their side. I did not. Now I do.
12:41:36 <glimming> It is bloody hard work to teach.
12:41:43 <basti_> i guess so yes.
12:41:44 <glimming> And not everything is appreciated, while needed and well-motivated.
12:42:12 <glimming> The good thing is that I have some really strong students, 3 of them.
12:42:13 <basti_> well there's always students who don't appreciate things huh
12:42:14 <glimming> That's great.
12:42:46 <glimming> Well, I did not maybe myself for just a few years ago realize the enormous amount of time that is devoted to preparing even a short course of 4 weeks.
12:42:52 <glimming> It takes weekends, nights!
12:43:03 <glimming> Very rewarding to teach.
12:43:07 <glimming> I am new at this you see.
12:43:16 * basti_ nods
12:43:23 <basti_> i never taught formally
12:43:36 <basti_> though im considered being good at explaining things by various people
12:43:45 <basti_> gf. Other students.
12:43:59 <glimming> It is quite fun actually.
12:44:04 <dcoutts_> vidvandre, ok thanks, I've updated the webpage: http://haskell.org/gtk2hs/download/
12:44:06 <glimming> It is a powerful situation
12:44:11 <basti_> yes very
12:44:16 <glimming> People listen to you in this formal rol√©.
12:44:24 <basti_> its great to have someone REALLY listening
12:44:36 <glimming> for once...
12:44:37 <glimming> ;-)
12:44:41 <basti_> most time people just wait that you stop talking so they can talk themselves
12:44:54 <glimming> yes
12:44:56 <basti_> but when they're curious, and you know something, theyre actually listening
12:45:11 <glimming> OK.
12:45:13 <glimming> MANY THANKS!
12:45:17 <glimming> Bye and goodnite!
12:45:21 <basti_> nP
12:45:23 <basti_> goodnight
12:45:36 <glimming> I actually have an extra Haskell CUP reference manual over here
12:45:40 <glimming> I might give it away!
12:45:43 <glimming> Speak to you later
12:53:04 <sylvan> :q
12:53:15 <sylvan> that was for ghci not this channel =)
12:53:39 <SyntaxNinja> maybe lambdabot should respond to @quit with a kick
12:56:26 <basti_> heh
13:01:22 <CosmicRay> SyntaxNinja: think it is possible to built darcs with cabal?
13:01:29 <CosmicRay> might be tricky given all the autoconf stuff it does
13:02:04 <SyntaxNinja> what does it use autoconf for ooi?
13:02:31 <SyntaxNinja> CosmicRay: you could always just write a wrapper script that calls the autoconf/make system, and therefore you have a cabal-conforming tool
13:02:38 <Igloo> Supporting old GHCs, libcurl detection, that sort of stuff
13:02:47 <CosmicRay> SyntaxNinja: detecting things like whether ncurses, wxwindows, etc. are available; various options specific for windows...
13:03:15 <SyntaxNinja> and that impacts whehter it builds or links with certain bits of the system?
13:03:25 <CosmicRay> also it builds quite a few binaries, and the rebuild-everything-for-each-binary behavior of cabal would be rather annoyingly slow
13:03:33 <CosmicRay> SyntaxNinja: right, and also -I paths and stuff
13:03:49 <SyntaxNinja> the defaultUserHooks call ./configure if it exist, fwiw
13:04:07 <CosmicRay> yeah I read about that
13:04:25 <CosmicRay> I could possibly learn enough about autoconf to make that work, but I really don't want to :-)
13:04:28 <SyntaxNinja> you could break it into several packages so it builds a library first and then just links the binaries w/ the library
13:04:49 <CosmicRay> manually link it, you mean?
13:05:03 <stepcut> @seen shapr
13:05:05 <lambdabot> I saw shapr leaving #haskell 8 days, 4 hours, 4 minutes and 49
13:05:05 <lambdabot> seconds ago.
13:05:07 <stepcut> !!!
13:05:11 <SyntaxNinja> no, just make separate packages which build-depend on the library package
13:05:27 <SyntaxNinja> stepcut: yeah
13:06:33 <CosmicRay> SyntaxNinja: but that would require the library package being manually installed first... which would require root, or scratch in areas outside of the build dir (a big no-no for Debian at least)
13:07:36 <Igloo> I don't think that really makes sense for darcs
13:07:36 <Igloo> Especially as some of the programs are only used for building darcs
13:07:39 <SyntaxNinja> CosmicRay: yeah; cabal doesn't handle this well yet; I want it to, though.
13:08:55 <CosmicRay> Igloo: were you speaking to syntaxninja?
13:08:55 <Igloo> In fact, I think I'm of the opinion darcs builds fine already, and libraries are the more important thing to cabalise/get cabal working properly for  :-)
13:09:05 <Igloo> Yes
13:09:32 <Igloo> Well, the first 2 lines. The third was more to you really, I think
13:09:38 <CosmicRay> right :-)
13:10:02 <CosmicRay> Igloo: well, I agree that it builds fine now.  But I think it would be fairly easy to make it into a library, and this would be useful, and cabal is the easiest way to do this normally
13:10:04 * Igloo papers over the zeroth line all the way up there so as not to confuse things further  :-)
13:10:27 <CosmicRay> SyntaxNinja: yes, I have had some difficulty making unit tests for missingh via cabal
13:10:31 <Igloo> CosmicRay: I don't think just making the current source into a library would be useful
13:11:21 <CosmicRay> Igloo: my cursory look at it seems to indicate that all the basic commands have a standard type.  If I can tweak that, as well as adjust how the output works -- should be easily enough doable -- poof, first working prototype
13:11:21 <Igloo> I agree with someone (David possibly?) that the way to get a useful library API is to first have a program that wants to use it
13:11:36 <CosmicRay> I am the one that said that :-)
13:11:53 <CosmicRay> and I had a use in mind for it last week, but I forget what it is just now :-)
13:11:55 <SamB> I think most people would agree after thinking about it...
13:12:52 <Igloo> A fancy GUI would be a good one, if someone wants to work on such a thing  :-)
13:51:17 <SamB> huh, signatures for compiled functions that use implicit vars don't look like they print right in GHCi...
13:51:42 <SamB> not from :b or :i, anyway
13:51:50 <SamB> :t seems to be unaffected
14:08:19 <lispy> SamB: what do you mean by implicit vars?
14:08:47 <lispy> foo = map (+ 1)    sort of thing?
14:09:18 <SamB> er, I think they are called implicit paramaters.
14:09:36 <SamB> they are like a hygenic version of dynamic variables
14:10:04 <lispy> what is an example?
14:11:06 <SamB> let me dig up the docs..
14:14:49 <SamB> the ghc docs are at: http://www.haskell.org/ghc/docs/latest/html/users_guide/type-extensions.html#implicit-parameters
14:15:21 <SamB> some hugs docs are at http://cvs.haskell.org/Hugs/pages/users_guide/implicit-parameters.html
14:25:46 <glimming> here is an exam
14:25:49 <glimming> http://www.nada.kth.se/kurser/kth/2D1456/view.php?arg=exam.h
14:26:09 <glimming> for those that want to do some exercises...
14:26:11 <glimming> ;-)
14:26:14 <glimming> basti_ I am back
14:26:16 <glimming> Hi esap
14:26:18 <esap> Hi
14:31:53 <SyntaxNinja> Fortune is so wise:
14:31:53 <SyntaxNinja> Q:      How does a hacker fix a function which
14:31:53 <SyntaxNinja>         doesn't work for all of the elements in its domain?
14:31:53 <SyntaxNinja> A:      He changes the domain.
14:34:01 <kaol> @fortune
14:34:05 <lambdabot> Tbq vf na ngurvfg.
14:34:33 <kaol> rot13ed: God is an atheist.
14:35:39 <Philippa> if anybody's worried about shapr still, he's been having a good few days hacking around. Just been talking FLM and Flippi modifications with him
14:35:52 <Lemmih> FLM?
14:36:56 <Philippa> Fermat's Last Margin. A project of his - sort of a wiki for making notes on papers
14:36:58 * SyntaxNinja hopes folks weren't worried about Shapr; I think he just is trying to be less distracted
14:37:25 <SyntaxNinja> maybe we should put that in the topic ;)
14:37:31 <Philippa> the idea is you upload a chunk of postscript or a pdf, it converts it all to images then lets you write notes in the margins - the last bit being done wiki-style
14:37:36 <SyntaxNinja> or lambdabot should have a @wheresShapr plugin ;)
14:37:51 <Philippa> SyntaxNinja: exactly that. I wouldn't have emailed him were it not for the fact he's using Flippi as a base for FLM and I'm hacking on Flippi again
14:38:04 <Philippa> I figure he deserves to know about API changes happening under his feet
14:38:36 <TheHunter_> glimming, I don't understand Question 3.5
14:38:55 <Philippa> lambdabot could have an @going <description of where you've gone> command that gives you mebbe 15 minutes to shut up then uses that as a comment on @seen 'til you next speak
14:39:20 <SyntaxNinja> Philippa: always good to know about changes under ones feet
14:39:45 <SyntaxNinja> Philippa: sounds nice
14:40:00 <Philippa> he's using the version in darcs as a base - I wouldn't be as concerned if he were using 0.03 as that's at least easier to reobtain and/or branch from
14:40:36 <Philippa> he seems to be enjoying hacking on it, anyway
14:40:51 <SyntaxNinja> cool
14:41:12 <MachinShin> hey +
14:41:46 <Philippa> 'lo MachinShin
14:46:04 <mr-onionhead> I'm looking at the ghc library sources and am finding some typeclasses (e.g. Num) are defined in .lhs files instead of .hs files.  Anyone know what these are?
14:46:19 <skew> that's Haskell too
14:46:31 <boegel> hey everyone
14:46:36 <skew> except with TeX mixed in, live code is in \begin{code} / \end{code}
14:46:39 <skew> blocks
14:46:56 <mr-onionhead> skew: ahh...  what does the l stand for? literate?
14:47:00 <boegel> I restyled my raytracer code today according to my formal model, and the code looks really nice now (at least I think it does)
14:47:04 <skew> The idea is that you can run it through a preprocessor and TeX and end up with something pretty
14:48:39 <Lemmih> boegel: Care to share?
14:48:40 <SyntaxNinja> mr-onionhead: yeah, literate; also might be ">" at the beginning of the line instead of using \begin{code}
14:48:57 <boegel> Lemmih: not just yet :)
14:49:00 <mr-onionhead> thanks a lot:)
14:49:15 <dcoutts_> skew, that 'preprocessor' is simple ghc, indeed the 2 formats of .lhs files are specified in the Haskell Report and so all implementations work with them "out of the box"
14:49:33 <boegel> Lemmih: I have to finish my thesis text on it by Friday or so, do a presentation on it on the 24th, and the final text is due June 1st
14:49:47 <boegel> I'll release my code after that, so I won't get into trouble
14:49:58 <boegel> I really want to hear your opinions on it
14:49:59 <skew> dcoutts_: ghc will turn a lhs file into a pretty DVI?
14:50:12 <dcoutts_> skew, oh, wait I see what you mean! sorry, misunderstood. :-)
14:50:29 <skew> yes, good point that ghc can still run them fine
14:51:51 <dcoutts_> the paracticals question sheet for our students are often .lhs files (the '>' rather than tex kind) since it allows you mix comments (instructions) with code fragments so easily
14:52:49 <boegel> dcoutts: I mentioned your name in the PixBufInternals module you helped me with, is that ok ?
14:53:33 <dcoutts_> boegel, sure
14:55:12 <dcoutts_> btw the api we're actually implementing for the 0.9.8 release is slightly more general than the code that we gave you but your code should continue to work. Or it can be shortened by rewriting it to use the new api (which bascially exposes the PixBuf as an MArray)
14:55:24 <SyntaxNinja> mr-onionhead: if you pay attention, you may notice that many emails to haskell mailing lists are actuallly valid haskell .lhs programs
14:57:01 <dcoutts_> boegel, ie the PixBufInternals module could be rewritten to be about 4 lines long using the new stuff in 0.9.8 (which will be released shortly)
14:57:53 <boegel> dcoutts_: I'll just stick to the version I have now, and I'll add the gtk2hs version I have with my code
14:58:02 <boegel> so it'll work for sure :)
14:58:25 * boegel leaves to watch some 24, bye everyone
14:58:29 <dcoutts_> yes, you don't want things breaking just before you hand in your final version!
14:59:11 <boegel> dcoutts_: I broke lot's of it today, because I cleaned up my code and forgot to put a - somewhere :)
14:59:17 <boegel> that _really_ sucked
14:59:35 <boegel> but I was able to fix it, and I won't play around with my code until I hand it in now :)
14:59:47 <boegel> bye for now, ttyl
15:00:16 <basti_> glimming: uhm
15:00:18 <basti_> glimming: wb
15:06:45 <skew> glimming: looks pretty good to me
15:06:51 <skew> how long is it supposed to take?
15:08:05 <basti_> its written in the header
15:08:22 <skew> May 17 - May 31?
15:08:32 <basti_> apparently
15:11:35 <skew> I assume the students have some formal definition of these languages, like Pierce?
15:15:10 <skew> glimming: what is a D level course? undergraduate?
15:15:19 <zamez> what's the best way to make a lemon/happy-style grammar out of  declaration? [ ';' declaration? ]*  ?
15:15:33 <zamez> ie. a ; separated list
15:17:13 <skew> zamez: decList = declaration | decList ';' declaration, I think
15:17:43 <zamez> the declarations can be optional though
15:17:52 <zamez> so say  ;;  should match
15:18:16 <skew> oh, then you want to make a maybeDeclaration production, and use that instead
15:18:32 <skew> some parser generators have special cases to make things like that easy
15:19:07 <zamez> ok, I'll try that
15:22:17 <zamez> looks like it's working, thanks skew
15:22:25 <zamez> only 13 conflicts left
15:22:44 <skew> what are you parsing?
15:22:50 <zamez> CSS
15:22:51 <skew> trying out GLR mode can be fun
15:23:09 <zamez> this isn't in Haskell, actually
15:23:21 <skew> oh, no GLR for you then
15:23:25 <zamez> although I'm also doing that in a separate program
15:23:29 <zamez> using happy there
15:24:12 <skew> If the language is designed to be LALR you might want to just follow the grammar
15:24:36 <skew> but it's kind of neat to let the GLR parsing sort out conflicts for you
15:24:40 <zamez> I've just about been doing that
15:24:55 <zamez> problem is that CSS has special rules for handling malformed declarations
15:25:13 <zamez> which aren't in their grammar, just described
15:32:59 <SamB> anyone on debian have time to build a cross-toolchain targetting mmix-knuth-mmixware?
15:34:53 <SamB> it sounds like it is dead-easy using the toolchain-source package...
16:04:11 <FrederikEaton> hey anybody know how to include executables in a cabal package which are not built by default? say only activated with a Setup.hs --configure switch?
16:08:13 <SyntaxNinja> FrederikEaton: can't do it right now; except you could have a userHook that does it after building or something
16:08:57 <SyntaxNinja> hm.  actually...
16:09:09 <SyntaxNinja> you could use the "buildable" flag in a .buildinfo file; if that's false, it won't get built
16:09:28 <SyntaxNinja> http://www.haskell.org/ghc/docs/latest/html/Cabal/authors.html#system-dependent
16:11:11 <FrederikEaton> where .buildinfo is created by ./configure?
16:11:54 <SyntaxNinja> yeah. defaultUserHooks calls configure, if present. look at that URL i sent you
16:12:35 <FrederikEaton> can Setup.hs --configure take custom arguments?
16:12:50 <FrederikEaton> oops i mean "Setup.hs configure"
16:13:37 <SyntaxNinja> yeah
16:13:55 <FrederikEaton> how do i do that?
16:14:12 <FrederikEaton> do they get automatically passed to ./configure by defaultUserHooks?
16:14:48 <SyntaxNinja> yeah
16:15:08 <SyntaxNinja> the cabal can read your mind ;)
16:16:55 * Lemmih longs for profiling support in Cabal.
16:18:35 <SyntaxNinja> Lemmih: your mind can write cabal :)
16:20:51 <Lemmih> Yay. Ported FormData to use the Apache API instead of CGI.
16:21:00 <Lemmih> succ (succ speed).
16:21:51 <_metaperl> without knowing much about what you are doing, shouldn't FormData be able to use either Apache or CGI?
16:23:00 <Lemmih> They have a slightly different API.
16:23:56 <_metaperl> for Perl, CGI.pm works under mod_perl or plain CGI
16:26:34 <Lemmih> Gotta be overloaded. Doing the same thing in both cases would be less than optimal.
16:27:00 <mugwump> don't code to a web-server API!  http://cryp.to/publications/fastcgi/
16:29:55 * Lemmih doesn't care about other web servers.
16:30:52 <_metaperl> mugwump, you like fast cgi?
16:31:25 <mugwump> sure
16:31:46 <mugwump> mainly because I get sick and tired of fucking around with Apache, when other web servers Just Work(tm)
16:32:35 <mugwump> It's slow, it's crufty, its configuration syntax is ugly, it's written in C, and it smells.
16:32:58 <_metaperl> lol
16:33:12 <_metaperl> I certainly like perl handlers over using mod_rewrite
16:34:41 <Pseudonym> Apache may be slow, but it's the most conformant web server there is, and it has no known security issues.
16:34:53 <FrederikEaton> can i only have one one .cabal file in a directory?
16:35:29 <Lemmih> FrederikEaton: Yes.
16:35:48 <FrederikEaton> how do i extract the configure arguments from within Setup.hs...?
16:36:48 <FrederikEaton> so this is pointless by now, but if there can only be one file named *.cabal, then why not only allow a single name?
16:36:51 <SyntaxNinja> FrederikEaton: passing them clear through to configure isn't good enough?
16:37:05 <SyntaxNinja> a single name?
16:37:31 <SyntaxNinja> FrederikEaton: if you want to do something with the configure arguments in setup.hs, then you can use hooks to do it: http://www.haskell.org/ghc/docs/latest/html/libraries/Cabal/Distribution.Simple.html
16:37:43 <FrederikEaton> single name: yeah, like you don't call your makefile ProjectBlah.Makefile, you call it Makefile
16:38:46 <SyntaxNinja> FrederikEaton: we want to extend it in the future to allow multiple .cabal files, but we're not sure exactly how we want it to look yet.
16:39:08 <FrederikEaton> i see
16:39:14 <SyntaxNinja> the idea being that the items in one of the .cabal files can build-depend on one of the other .cabal files
16:39:15 <FrederikEaton> thanks for the references btw
16:39:25 <SyntaxNinja> np
16:39:39 <FrederikEaton> that's actually the behavior i'm looking for, kind of
16:39:50 <FrederikEaton> i want some maintainer executables which aren't built by default
16:40:42 <SyntaxNinja> FrederikEaton: that's probably the most frequently requested feature of cabal... the hardest one anyway
16:41:22 <FrederikEaton> i can (a) have maint/Maint.cabal build these (b) use ./configure, .buildinfo to disable them by default (c) give up on having binaries and use perl or shell or runghc scripts (d) use a different main in Setup.hs which does the configuration
16:41:37 <FrederikEaton> any others? which is the best?
16:41:51 <dcoutts_> SyntaxNinja, but when it's done I'll convert gtk2hs to cabal and ditch automake/autoconf and I will be happy :-)
16:42:36 <Igloo> dcoutts_: What do you use automake/autoconf for that cabal will do in the future?
16:43:14 <FrederikEaton> SyntaxNinja: BTW, you may be interested in http://toastball.net/toast, i just got the author to add cabal support but i don't know how well it works. in particular it doesn't do the register/unregister part so it only works for executable packages
16:43:18 <SyntaxNinja> FrederikEaton: what are the binaries for?
16:43:47 <FrederikEaton> SyntaxNinja: for publishing to a web site. one of the binaries will also be an index.cgi i guess
16:43:51 <dcoutts_> Igloo, apparently in the future cabal will allow distributions that consist of a handfull of .cabal packages with dependencies between them
16:44:20 <FrederikEaton> SyntaxNinja: so actually if the maint scripts are always built but never installed that will be just as good for me
16:44:27 <aFlag> i'm recurssing through a list and i need to know the number of the indices for printing them, is there a better way than having a variable counter as a parameter?
16:44:52 <SyntaxNinja> FrederikEaton: do the maint scripts depend on the rest of the package?
16:45:12 <SyntaxNinja> aFlag: have you looked at "zip"?
16:45:16 <FrederikEaton> SyntaxNinja: i guess not
16:45:24 <SyntaxNinja> @type zip
16:45:25 <dcoutts_> Igloo, we're not using any particularly special features of automake / autoconf, it's just somewhat better than our older hand written makefiles
16:45:29 <lambdabot> zip :: forall b a. [a] -> [b] -> [(a, b)]
16:45:41 <SyntaxNinja> @eval zip [1,2,3] "foo"
16:45:43 <lambdabot> [<<EM Dynamic -> EM Dynamic>>, <<EM Dynamic -> EM Dynamic>>, <<EM
16:45:43 <lambdabot> Dynamic -> EM Dynamic>>]
16:45:49 * SyntaxNinja doesn't grok eval, sorry :)
16:45:57 <skew> @plugs zip [1,2,3] "foo"
16:46:05 <lambdabot> [(1,'f'),(2,'o'),(3,'o')]
16:46:13 <SyntaxNinja> FrederikEaton: then you can make separate Setup file for them
16:46:15 <Igloo> hmm, OK
16:46:30 <FrederikEaton> what if i give lambdabot an infinite list, will i break the channel?
16:46:37 <Pseudonym> No.
16:46:41 <Pseudonym> @plugs length [1..]
16:46:46 <lambdabot> Terminated
16:46:48 <Pseudonym> See?
16:46:48 <aFlag> SyntaxNinja, oh, good one
16:46:56 <SamB> @plugs [1..]
16:46:56 <FrederikEaton> what about plugs [1..]
16:46:57 <lambdabot> [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,
16:46:57 <lambdabot> 26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,
16:46:57 <lambdabot> 49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,
16:46:57 <lambdabot> 72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,
16:46:57 <lambdabot> 95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,
16:46:58 <lambdabot> 113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,
16:47:00 <lambdabot> 130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,
16:47:02 <lambdabot> [24 @more lines]
16:47:17 <aFlag> i knew about it but those things doesn't quite come to mind yet hehe
16:47:19 <Lemmih> [1..] :: Int is finite.
16:47:19 <SamB> @plugs reverse [1..]
16:47:23 <lambdabot> Terminated
16:47:34 <SamB> @type [1..]
16:47:36 <lambdabot> [1..] :: forall a. (Num a, Enum a) => [a]
16:47:43 <Igloo> But [1..] will default to [Integer]
16:47:53 <SamB> @plugs [1..] :: Int
16:47:54 <lambdabot> Couldn't match `Int' against `[t]'
16:47:56 <yosemite> @plugs [1,5..100]
16:47:57 <Lemmih> Igloo: Not in plugs (:
16:47:58 <lambdabot> [1,5,9,13,17,21,25,29,33,37,41,45,49,53,57,61,65,69,73,77,81,85,89,
16:47:58 <lambdabot> 93,97]
16:48:03 <Igloo> Really?
16:48:33 <Igloo> @plugs 2^30*2^4
16:48:34 <lambdabot> 17179869184
16:48:47 <Lemmih> @plugs show (typeOf [1..])
16:48:49 <lambdabot>   Ambiguous type variable `t' in these top-level constraints:
16:48:49 <lambdabot>   `Typeable t' arising from use of `typeOf'
16:48:53 <Igloo> That looks like an Integer to me
16:49:07 <SamB> @plugs 2^128
16:49:08 <lambdabot> 340282366920938463463374607431768211456
16:49:23 <SamB> @plugs 2^1024
16:49:24 <lambdabot> 1797693134862315907729305190789024733617976978942306572734300811577326
16:49:24 <lambdabot> 7580550096313270847732240753602112011387987139335765878976881441662249
16:49:24 <lambdabot> 2847430639474124377767893424865485276302219601246094119453082952085005
16:49:24 <lambdabot> 7688381506823424628814739131105408272371633505106845862982399472459384
16:49:24 <lambdabot> 79716304835356329624224137216
16:49:26 <dcoutts_> @plugs 2^(30*2^4)
16:49:27 <lambdabot> 3121748550315992231381597229793166305748598142664971150859156959625371
16:49:27 <lambdabot> 7388197656201203061030634919711598269311214066228954479756792882853062
16:49:29 <lambdabot> 90176
16:49:33 <dons> @plugs isn't doing any magic with Integers. there's a Show constraint. that's all
16:49:34 <lambdabot> Variable not in scope: `isn't'
16:50:00 <FrederikEaton> SyntaxNinja: a separate Setup file? pointing at a separate cabal file? do setup files point at cabal files?
16:50:05 <SamB> dons: @plugs doesn't support english, either
16:50:11 <dcoutts_> :-)
16:50:11 <dons> hehe
16:50:38 <Lemmih> dons: Why doesn't [1..] get terminated?
16:50:48 <SyntaxNinja> FrederikEaton: yeah basically
16:51:05 <dons> lazy io
16:51:18 <Lemmih> Oh.
16:51:21 <SyntaxNinja> Lemmih needs to go back to lazy school ;)
16:51:34 <SyntaxNinja> I think it's funny that it said 24 more lines, though
16:51:38 <dcoutts_> dons, what timeout do you use then?
16:51:49 <SamB> @plugs reverse [1::Int ..]
16:51:53 <lambdabot> Terminated
16:52:04 <dons> yep, there's an extra constraint that chops the input down to 2048 chars
16:52:10 <mugwump> Pseudonym: no known security holes in Apache?  Standards conformance?  Is this some strange version of Apache not normally distributed?
16:52:19 <dons> even so, [1..] worked without that restriction
16:52:25 <SamB> @plugs reverse [1::Int8 ..]
16:52:30 <lambdabot> [127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,
16:52:32 <lambdabot> 110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,
16:52:34 <lambdabot> 91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,
16:52:36 <lambdabot> 68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,
16:52:38 <lambdabot> 45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,
16:52:40 <lambdabot> 22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1]
16:52:43 <dons> dcoutts, setResourceLimit ResourceCPUTime (ResourceLimits rlimit rlimit)
16:53:01 <dons> rlimit = ResourceLimit 3
16:53:08 <dons> import System.Posix.Resource
16:53:23 <dcoutts_> oh, so it's an OS feature your using, not forkIO + timer and then kill thread?
16:53:48 <dcoutts_> that'd be to easy to subvert I guess
16:53:56 <dons> nope. I think Heffa and I worked out that let f () = f () in f () :: () would break that
16:54:06 <dons> no allocs, no switches
16:54:10 <dcoutts_> right
16:54:42 <dons>  @plugs runs in a separate process, and is just torn down by the OS after 3 secs.
16:54:50 <Igloo> Although presumably that will work when SMP GHC supports a par combinator
16:55:05 <SamB> dons: did you actually try it too?
16:55:23 <dcoutts_> even then probably not since haskell thread killing probably only happens in the scheduler
16:55:40 <dons> SamB, I did try threads when originallly writing plugs early last year. Heffalump also tried a similar thing recently.
16:56:32 <FrederikEaton> SyntaxNinja: using readPackageDescription?
16:57:40 <SyntaxNinja> FrederikEaton: defaultMain calls that function, yeah
16:57:45 <SyntaxNinja> FrederikEaton: I'm not sure what you're really asking
16:57:53 <FrederikEaton> how to point a Setup.hs at a cabal file
16:58:11 <SyntaxNinja> they should be in their own directory togetehr, then just use defaultMain
16:58:43 <thou> FrederikEaton: docs say that there must be exactly one file in the directory with name *.cabal
16:58:55 <skew> dons: what does that break?
16:59:20 <dcoutts_> It's probably not possible for the rts to kill a non-allocing haskell thread (even if we have control in another OS thread on an smp rts) since there is no way to interupt that thread and guarantee that you're at a consistent point wrt. to GC. GC consistent points are only guaranteed when a thread needs to alloc.
16:59:23 <FrederikEaton> thou: but presumably if you use defaultMainNoRead it will be OK right?
17:00:39 <dons> the f () code?
17:01:05 <dons> yep. what dcoutts said.
17:03:05 <SyntaxNinja> FrederikEaton: you can do that.
17:03:24 <SyntaxNinja> but you can't call it .cabal then, because defaultMain from your other Setup file will break
17:04:05 <SyntaxNinja> FrederikEaton: ooi, why not do your "extra binaries" work in the post-install hook?
17:14:16 <FrederikEaton> hmm? because i usually don't want to run them when i install
17:14:40 <FrederikEaton> well i could put them in lots of places. i could put them in the main executable, but i want a method that will also work for libs
17:14:56 <SyntaxNinja> ic
17:15:18 <FrederikEaton> should i alias cabal="runghc Setup.hs"?
17:15:27 <FrederikEaton> e.g. in .zshrc
17:15:59 <TheHunter_> dons, worrying news:
17:16:01 <TheHunter_> @type $(Language.Haskell.TH.runIO (print =<< readFile "/etc/fstab") >> undefined)
17:16:03 <lambdabot> Loading package haskell98-1.0 ... linking ... done.
17:16:03 <lambdabot> Loading package template-haskell-1.0 ... linking ... done.
17:16:03 <lambdabot> "/dev/wd0a / ffs rw 1 1\n/dev/wd0i /home ffs rw,nodev,nosuid 1 2\n/
17:16:03 <lambdabot> dev/wd0e /tmp ffs rw,nodev,nosuid 1 2\n/dev/wd0f /usr ffs rw,nodev 1
17:16:03 <lambdabot> 2\n/dev/wd0g /usr/local ffs rw,nodev 1 2\n/dev/wd0h /usr/src ffs rw,
17:16:04 <lambdabot> nodev,nosuid 1 2\n/dev/wd0d /var ffs rw,nodev,nosuid 1 2\n"
17:16:06 <lambdabot> *** Exception: Prelude.undefined
17:16:58 <Lemmih> haha.
17:17:14 <SamB> @type $(Language.Haskell.TH.runIO (print =<< readFile "/etc/passwd") >> undefined)
17:17:16 <lambdabot> Loading package haskell98-1.0 ... linking ... done.
17:17:16 <lambdabot> Loading package template-haskell-1.0 ... linking ... done.
17:17:16 <lambdabot> "root:*:0:0:Charlie &,,,:/root:/bin/sh\ndaemon:*:1:1:The devil
17:17:16 <lambdabot> himself:/root:/sbin/nologin\noperator:*:2:5:System &:/operator:/sbin/
17:17:16 <lambdabot> nologin\nbin:*:3:7:Binaries Commands and Source,,,:/:/sbin/nologin\
17:17:16 <lambdabot> nsmmsp:*:25:25:Sendmail Message Submission Program:/nonexistent:/
17:17:19 <lambdabot> sbin/nologin\npopa3d:*:26:26:POP3 Server:/var/empty:/sbin/nologin\
17:17:21 <lambdabot> [27 @more lines]
17:17:47 * SamB was assuming shadow passwords to be in use, of course
17:18:01 <SyntaxNinja> FrederikEaton: idono; I have something like this: alias cabal-make-go="cabal-setup configure --prefix=/home/ijones/usr --user && cabal-setup build && cabal-setup install --user"
17:18:25 <FrederikEaton> what is cabal-setup?
17:18:36 <SyntaxNinja> FrederikEaton: but I think that the next version of cabal will come with something like that.  I wouldn't use the 'cabal' name, though, as it's likely to be used by me at some point
17:18:49 <SyntaxNinja> FrederikEaton: it's a defaultMain-based setup script in my path
17:19:06 <dons> hmm....
17:19:07 <SyntaxNinja> I'm actually working on a cabal-make-go that'll compile the Setup.lhs file, thoug
17:19:34 <dons> easy enough to fix. no glasgow exts on @type as well.
17:19:46 <SyntaxNinja> whoa, is that really someone's passwd file?
17:19:52 <TheHunter_> -fno-th should be enough
17:19:54 <dons> unfortunately, yes.
17:19:59 <SyntaxNinja> sux
17:20:22 <dons> yep. we just want to rule out compile time eval
17:20:31 <dons> meta programming is evil!
17:20:48 <dcoutts_> that TH stuff is far too powerful :-)
17:20:48 <SyntaxNinja> hehe
17:20:51 <SyntaxNinja> JaffaCake: hear that?!
17:21:41 <dons> it certainly complicates reasoning about the language.
17:22:10 <Igloo> Oh, does splicing types work now then?
17:22:20 <Igloo> Oh, no
17:22:25 <Igloo> I'm just being dopey  :-)
17:22:41 <dcoutts_> meta programming [in the IO monad] is evil!
17:23:00 <dons> or in the irc monad :}
17:23:01 <dcoutts_> except that quite a bit of my TH work relies on IORefs :-)
17:24:09 <TheHunter_> dons, btw i didn't manage to send lambdabot a '\n', but it may still be worthwhile to strip it in stripComments.
17:24:52 <dons> good to read the logs and see people busily trying to hack my machine..
17:25:03 <dons> TheHunterr, another good point.
17:25:07 <dons> @type $(Language.Haskell.TH.runIO (print =<< readFile "/etc/passwd") >> undefined)
17:25:08 <lambdabot> bzzt
17:25:30 <TheHunter_> great
17:25:32 <SyntaxNinja> dons: maybe you should run it in a chroot
17:26:16 <dons> I should, yes. it's running as a non-privledged user, but chroot would be better of course. then there's the matter of ensuring ghc is available, (and any other tools it needS)
17:27:18 <dcoutts_> can't you chroot just before evaluating the input? ie after loading up ghc libs and stuff?
17:27:56 <dons> @plugs still need to invoke ghc at runtime.
17:28:02 <lambdabot> Variable not in scope: `still'
17:28:08 <dcoutts_> and evaluation can trigger packages to be loaded I suppose :-(
17:28:17 <dons> so it has to be in the path. no big problem though.
17:28:33 <dons> just need a ghc installation in the chroot.
17:28:58 * dons walks back through the logs to see if Lemmih managed to delete any files...
17:29:24 <dcoutts_> I meant have the process that @plugs forks chroot just before the evaluation
17:29:34 * Igloo would hope people weren't (deliberately) being malicious
17:29:56 <dons> dcoutts_: ah! that's a good  idea for @plugs
17:30:16 <dons>  @type might be a bit harder -- weee'd have to hack ghci (?)
17:30:33 <dcoutts_> but the problem that evaluation can trigger packages to be loaded still stands
17:30:37 <dons> Igloo, don't think so. just looks like  exploration.
17:31:05 <Pseudonym> It's a useful exercise to think maliciously, if only to determine how safe Haskell is for running untrusted code.
17:31:23 <Pseudonym> I can think of situations where I might want to do it safely.
17:31:41 <dons> we should of spotted this one earlier, I think.
17:31:51 <SamB> no, I just did the /etc/passwd thing because it is such a common example, and I know that most of them haven't actually got passwords (even cryted) in them...
17:32:20 <Igloo> Pseudonym: Sure, but you can pick commands you don't expect to actually delete files  :-)
17:32:51 <Pseudonym> Sure.
17:32:57 <Pseudonym> _I_ wouldn't be malicions.
17:33:07 <Pseudonym> I have no desire to hAX0R dons' machine.
17:33:29 <Pseudonym> But I really want to know how to ensure that the next guy doesn't as well.
17:33:38 <dons> yep. agreed.
17:33:39 <TheHunter> dons, i'm pretty sure i tried it before, and it didn't work, but maybe i was just missing the obvious.
17:33:48 <dons> hmm.
17:34:44 <TheHunter> of course, if ghc6.2.2 didn't allow to splice types, that would explain everything.
17:35:07 <dons> that's probably it.
17:35:46 <Igloo> It's not a type being spliced, it's an expression
17:36:30 <TheHunter> oh my, of course it is.
17:36:45 <dons> not sure if -fglasgow-exts was set for @type previously
17:38:32 <dons> darcs is weird sometimes:
17:38:33 <dons> Do you want to add a long comment? [yn] y
17:38:33 <dons> sh: emacs: not found
17:38:33 <dons> sh: emacs: not found
17:38:33 <dons> sh: nano: not found
17:38:35 <dons> Finished recording patch
17:38:43 <dons> you'd think 'vi' would be a decent fall back...
17:38:57 <Igloo> I'm sure it tries vi at some point
17:39:44 <Igloo> Ah, it won't try vi if you have DARCS_EDITOR/DARCSEDITOR/VISUAL/EDITOR set
17:40:44 <dons> hmm. not set. I wonder what's going on.
17:41:24 <Igloo> It could be that vi returned a non-zero exit code for buffering reasons I've been ignoring
17:41:41 <Igloo> There was a mail about it recently saying the recent fix didn't work for vi on one of the BSDs I think
17:42:30 <dons> ah. ok. could be.
17:42:42 <dons> I'm certain it has worked previously.
17:43:03 <Igloo> Anyway, shouldn't you have VISUAL/EDITOR set to yi?  :-)
17:43:30 <dons> hehe. TRUE!
17:44:23 <dons> but then again, shouldn't darcs try yi by default??
17:44:28 <dons> :P
17:46:42 <Igloo> :-)
17:47:19 * wagle waits for the yi vs iy religious wars
17:48:28 <Igloo> iy?
17:48:35 <SamB> what is iy?
17:49:06 <SamB> wouldn't it be yi vs emacHS?
17:50:33 <Igloo> hemacs, editor of the universe!
17:50:40 <dons> hmm. adding darcs support/integration to yi would be interesting.
17:51:43 * dons puts this in the todo list
17:51:47 <dcoutts_> since people are talking about it, I thought I'd give yi a go...
17:51:53 <dcoutts_> checking for value of __GLASGOW_HASKELL__... ghc-6.4: not built for interactive use
17:52:07 <dcoutts_> not everyone is blessed with an arch that supports ghci :-)
17:52:24 <dcoutts_> doesn't seem to break anything...
17:52:31 <dons> oh, that's just the configure test. doh.
17:52:38 <dcoutts_> oh, wait, yes it does...
17:52:44 <dons> I should use ghc in that  test
17:52:46 <SamB> how can you possibly use haskell without ghci?
17:52:50 <dcoutts_> hsc2hs -Imk -Icbits  -DGLASGOW_HASKELL=  Yi/Curses/CWString.hsc
17:53:09 <dcoutts_> SamB, I log into my other machine which does have ghci !
17:53:11 <dons> you should set config.h:GLASGOW_HASKELL by hand, I think.
17:53:41 <blackdog> top of the morning to you
17:53:44 <dons> and I shoudln't use ghci to run cpp to get __GLASGOW_HASKELL__ in configure.ac..!
17:53:44 * Igloo rarely uses ghci
17:53:47 <dons> heya blackdog.
17:53:52 <Igloo> hugs loads faster and normally suffices
17:54:23 <dcoutts_> dons, if config.h doesn't exist, I just create it?
17:55:03 <dcoutts_> oh, that config.h :-)
17:56:03 <dons> hmm. I was really trying to make yi portable, and then I stick ghci in configure.ac. brain explosion..
17:56:22 <dcoutts_> but you really mean mk/config.mk
17:56:30 <dons> config.mk, yes.
17:56:39 <dons> config.mk:GLASGOW_HASKELL=604
17:56:45 <SamB> Igloo: you must code in, like, Haskell 98 or something!
17:57:05 <dcoutts_> in my configure I just use GHC_VERSION=`$GHC --numeric-version`
17:57:27 <dons> in Makefiles though, I need a simple number.
17:57:42 <dcoutts_> for that we do something a bit hackish...
17:57:51 <dcoutts_> dnl Calculate a version number with 3 digits (i.e. 502 for 5.2)
17:57:51 <dcoutts_> GHC_VERSION_NUMBER=`echo $GHC_VERSION | $SED "s/[[0-9]*\.\([0-9]]*\).*/0\1/"`
17:57:51 <dcoutts_> GHC_VERSION_NUMBER=`echo $GHC_VERSION_NUMBER | $SED "s/[[0-9]*\([0-9][0-9]]\)/\1/"`
17:57:51 <dcoutts_> GHC_VERSION_NUMBER=`echo $GHC_VERSION | $SED "s/\([[0-9]]\).*/\1/"`$GHC_VERSION_NUMBER
17:57:51 <dcoutts_> __GLASGOW_HASKELL__=$GHC_VERSION_NUMBER
17:57:52 <dcoutts_> AC_DEFINE_UNQUOTED(__GLASGOW_HASKELL__, $GHC_VERSION_NUMBER,
17:57:53 <dons> hence config.h has GHC_VERSION, but .mk files use GLASGOW_HASKELL
17:57:54 <dcoutts_>         [Version number of GHC.])
17:58:03 <Igloo> SamB: Whenever possible
17:58:25 <dons> but we already have __GLASGOW_HASKELL__, so asking ghc for that seems a good idea.
17:58:30 <Igloo> I mainly use it for quickly looking up argument orders, though
17:58:40 <dons> just using ghci was a bit too fancy
17:59:08 <dcoutts_> you can use ghc -E and some magic to do it too
17:59:26 <dcoutts_> there's an example in the ghc manual in the cpp section on how to do it
17:59:36 <dons> ah. cool. thanks.
18:00:06 <SamB> does ghc -e work without ghci?
18:02:17 <dcoutts_> $ ghc -e 3
18:02:17 <dcoutts_> ghc-6.4: not built for interactive use
18:03:11 <dcoutts_> dons, does hs-plugins-0.9.8 work with ghc 6.4 ? (our gentoo ebuild is marked as blocked for ghc-6.4)
18:03:20 <FrederikEaton> SyntaxNinja: can i rely on the layout of the 'dist' directory that "Setup.hs build" creates?
18:03:25 <dons> not with 6.4, no.
18:03:39 <dons> current darcs repo does. i'll release fairly soon as well
18:03:42 <dons> next month or so.
18:04:12 <dcoutts_> ho hum, no yi for me this evening then.
18:05:09 <dcoutts_> do you think yi is ready for packaging? ie should I stick it in the gentoo portage tree? or are you not ready for the bug reports :-)
18:05:23 <dons> duncan, you don't need hs-plugins though...
18:05:27 <dons> gmake way=static
18:05:32 <dcoutts_> ok...
18:06:00 <dons> hmm.. I don't think it's ready for packaging yet. though I think there's a freebsd port
18:06:24 <dons> (and I've tested it in package systems -- but I don't think the features are enough yet)
18:06:59 <dons> then, once it builds: ./yi-static README
18:07:00 <dcoutts_> more portability stuff for you: don't use ghc -fasm since it doesn't work on all ghc's arches :-)
18:07:24 <dons> true. there was a bug in 6.4 and -fvia-C, iirc. i should look into that agian.
18:07:35 <dcoutts_> oh yes I see the comment
18:07:41 <dons> I either needed -Onot -fvia-C, or -O -fasm.
18:08:16 <dcoutts_> I'll try -Onot -fvia-C
18:08:48 <dons> I should rework the portability stuff -- at one point I could run it on mips64, but I haven't tested porting for a while
18:09:46 <dcoutts_> my favourite for breaking my progs is solaris :-) ainchent and non-standard versions of everything
18:09:53 <dons> hehe
18:10:49 <dcoutts_> it broke my gtk2hs because sun shipped a development version of gtk+ ! gtk 2.1.something which obviously had various typos / bugs
18:15:07 <FrederikEaton> it would be nice to be able to have more than one hs-source-dir in cabal
18:16:13 <dcoutts_> dons, -Onot -fvia-C still causes the problem you mentioned: yi-static: user error (Curses[-1]:keypad)
18:17:28 <dons> hmm. maybe it was -fvia-C in general :/
18:17:41 <dons> I will look into this further then.
18:18:09 <dons> this breaks yi entirely on non-fasm archs, I think..
18:18:12 <dcoutts_> if it was the foreign import "&foo" thing then yes it applied to -fvia-C in general
18:18:38 <dons> ok. that's probably the case. I haven't looked tat the problem since that's been resolved.
18:19:07 <dcoutts_> true
18:43:51 <Pseudonym> I love Haskell.
18:43:56 <Pseudonym> Even ugly performance hacks look elegant.
19:09:50 * Igloo looks at http://www.burtonini.com/blog//computers/eds-2005-05-16-16-55 and wonders what the relationship to GHC profiling graphs is. I don't think I know the history of them
19:10:20 <Igloo> Ah, it comes from valgrind. That makes sense, then  :-)
19:13:41 <araujo> mmm...
19:14:11 <araujo> what is a good way to communicate different processes in a box?
19:14:37 <araujo> i was thinking about IPC's , though im not an expert, i would like to know if there is something better....
19:14:47 <wagle> "it depends"
19:15:09 <araujo> wagle: it is sort of simple messaging passing
19:15:24 <wagle> oops, i shouldn't have gotten into this, gotta go
19:15:34 <araujo> hah ok
19:15:50 <wagle> running off to movie
19:16:28 <araujo> :-)
19:17:44 <sh10151> araujo: pipes?
19:18:07 <sh10151> mkfifo
19:18:19 <grebc_> araujo: XMLRPC?
19:18:28 <sh10151> noooo
19:18:29 <sh10151> local
19:18:55 <sh10151> RPC in general is just broken
19:20:08 <grebc_> email?
19:28:56 <sh10151>  /tmp
19:29:05 <sh10151> morse code
19:29:33 <sh10151> --/---/.-./.../. -.-./---/-../.
19:30:06 <dcoutts_> dbus
19:30:34 <grebc_> through sound card?
19:31:00 <dcoutts_> I like that one :-)
19:31:19 <grebc_> i wonder what kind of datarate you could get with that
19:32:47 <thou> dons: about that curses:[-1]keypad error
19:32:58 <thou> dons: i got the same thing several times, and didn't find the exact source of it
19:33:11 <thou> but when i compiled via cabal instead of trying to roll my own, it worked
19:43:01 <araujo> sh10151: pipes.. mm.. yes, i thought about that too, any advantage?
19:43:19 <araujo> grebc_: i'll google for it
19:43:33 <sh10151> simple to use
19:43:43 <sh10151> free parallelism on multiprocessor machines
19:44:21 <sh10151> available out of the box on anything that remotely resembles unix
19:44:37 <sh10151> not sure what the requirements are though
19:44:42 <araujo> mm.. interesting
19:45:05 <araujo> sh10151: you talk about _special_ pipes?, or the standard pipes?
19:45:17 <sh10151> just standard
19:46:05 <sh10151> filters & pipes is great IPC
19:46:51 <araujo> sh10151: what kind of pipes do you talk about?
19:46:57 <araujo> fifo's?
19:47:30 <grebc_> are they easier than using queues?
19:47:31 <sh10151> do you need 2 way communication?
19:47:41 <sh10151> queues like sysv message queues?
19:47:43 <araujo> sh10151: yes
19:48:29 <sh10151> yes you need 2 way communication or yes like message queues?
19:48:35 <araujo> grebc_: i took a look at it... (xmlrpc), well, im looking for something more local
19:49:04 <araujo> sh10151: i need 2 way
19:49:20 <sh10151> well
19:49:25 <dcoutts_> araujo, it's traditional just to use a pair of pipes
19:50:19 <dcoutts_> unless you need to communicate with unrelated processes in which case people usually use unix domain sockets
19:50:27 <araujo> dcoutts_!!!!1
19:50:33 <dcoutts_> hello :-)
19:50:41 <sh10151> that's pretty much the size of it
19:50:47 <araujo> yes, i need to communicate with 2 unrelated processes
19:51:18 <dcoutts_> avoid fifos, use sockets instead
19:51:29 <sh10151> that's good advice I think
19:51:34 <sh10151> more standard
19:51:44 <araujo> yeah, i see
19:51:57 <dcoutts_> and less bonkers in terms of how they operate!
19:52:13 <araujo> dcoutts_: ok, it makes sense to use sockets, i was asking to know if there was something better nowadays
19:52:38 <dcoutts_> then the question is how do you do the message passing, ie the higher level protocol
19:52:48 <sh10151> an abstraction layer over unix domain sockets would be nice
19:53:05 <araujo> yeah, something like that sh10151 , does it exist any?
19:53:10 <dcoutts_> for example, dbus does this
19:53:29 <Gahhh> I suppose there is no corba for haskell ?
19:53:40 <dcoutts_> but if you don't need to interoperate, you can do something simpler
19:53:50 <sh10151> Gahhh: araujo was asking for something *better*...
19:53:58 <araujo> haha
19:54:23 <Gahhh> Is this corba bashing over sockets night ?
19:54:34 <sh10151> every night is corba bashing night
19:55:22 <araujo> dcoutts_: i actually need to pass a few messages, that's all
19:55:32 <dcoutts_> you could have some kind of message data structure and make it 'Show/Read'able
19:55:57 <dcoutts_> the crucial thing is that you need to be able to detect the end of a message, ie find message boundaries
19:56:17 <dcoutts_> otherwise you can end up blocking for more input when none is going to arrive
19:56:46 * sh10151 had a gawk script fail miserably because of that
19:57:07 <dcoutts_> I'm not sure if the default show/read isntances would have this property, I'd have to think about it
19:58:51 <dcoutts_> actually, I think they probably do
19:59:48 <araujo> mm
20:00:01 <araujo> so, at the end, i think sockets is the best choice then?
20:00:30 <dcoutts_> but you can be sure of it if you define some message envelope system
20:00:37 <SyntaxNinja> Lemmih: alive?
20:00:48 <dcoutts_> yes, probably, unless anyone else has a better suggestion
20:01:34 <grebc_> i think /tmp is even easier
20:01:51 <araujo> mmm, yes... pipes work only for related processes right?, unless i use fifo_?
20:02:02 <araujo> grebc_: /tmp?...
20:02:39 <grebc_> araujo: just a file in /tmp indicating some condition
20:03:34 <grebc_> but you needed 2-way communication right? so maybe not a great option
20:03:51 <dcoutts_> araujo, not fifo, unix domain sockets, or you would go mad.
20:04:12 <dcoutts_> not that sockets are great but they're better than fifos
20:04:42 <dcoutts_> what sort of messages are you passing? simple stuff or structured?
20:04:45 <araujo> grebc_: i see.. i also thought about that too, but.. wouldn't it be too insecure?
20:05:01 <araujo> dcoutts_: yeah, i think youre dam right
20:05:30 <dcoutts_> with both the /tmp and sockets you have to make sure the permissions on the file/socket are right or it could be insecure
20:05:53 <dcoutts_> if it's really simple, you can use a line based protocol
20:07:10 <dcoutts_> send a line, recieve a line etc
20:11:07 <sh10151> in the end it all comes down to send a line, receive a line
20:11:09 <sh10151> :)
20:11:33 <araujo> :-)
20:11:47 <araujo> do you know a good site to read about those lines? :-)
20:11:56 <araujo> And yes, it is something really simple.
20:13:28 <dcoutts_> I'd suggest some unix programming book that explains about sockets
20:14:23 <araujo> yeah, i can find one of those :-)
20:14:35 <araujo> Thanks dcoutts_ , sh10151 &rest
20:16:08 <sh10151> much as i don't like citing esr
20:16:10 <sh10151> http://www.faqs.org/docs/artu/ch07s02.html#id2922148
20:18:53 <SyntaxNinja> will anyone complain if I upload DrIFT to debian unstable?
20:22:39 <FrederikEaton> i won't
20:22:54 <FrederikEaton> hey, is there a working version of HSQL for ghc 6.4 yet?
20:28:05 <SyntaxNinja> FrederikEaton: there's at least one on lemmih's home page
20:28:16 <SyntaxNinja> @google packages lemmih scannedinavian
20:28:18 <lambdabot> http://www.scannedinavian.org/~lemmih/packages/
20:29:23 <SyntaxNinja> there might be a more official one, not sure.
20:30:30 <FrederikEaton> he has a cabalized one?
20:30:39 <SyntaxNinja> ja
20:31:08 <FrederikEaton> someone more alive should take over as maintainer of that
20:31:13 <FrederikEaton> like lemmih
20:31:40 <FrederikEaton> no offense to the current maintainer
20:31:44 <SyntaxNinja> lemmih is a great hacker, I'm not sure he can maintain things, though ;)
20:31:49 * SyntaxNinja pokes lemmih
20:33:07 <FrederikEaton> wait he has version 1.2...
20:33:24 <FrederikEaton> current is 1.4
20:35:56 * SyntaxNinja shrugs
20:46:31 <FrederikEaton> now, what am i supposed to do. the code uses 'fromIntegral' on a CTime, but in 6.4 CTime isn't Integral
20:47:33 <SyntaxNinja> what is ctime?
20:47:38 <Gahhh> CPUTime ?
20:47:54 <FrederikEaton> seconds since epoch i believe. C's time_t
20:48:17 <FrederikEaton> returned by localtime, mktime etc.
20:48:26 <FrederikEaton> IOW an integer
20:48:54 <Gahhh> I dont see that in System.Time
20:49:32 <FrederikEaton> Foreign.C.Types
20:49:34 <SyntaxNinja> FrederikEaton: IOW?  Is it a float or something else?
20:49:44 <SyntaxNinja> what is it being converted to there?
20:49:50 <FrederikEaton> IOW= in other words
20:49:52 <FrederikEaton> an integer
20:49:58 <Gahhh> @type System.Time.ClockTime
20:50:00 <lambdabot> bzzt
20:50:02 <Gahhh> err
20:50:50 <FrederikEaton> @plugs (read.show) (1::CTime)
20:50:55 <lambdabot> Type constructor or class not in scope: `CTime'
20:50:58 <Gahhh> data ClockTime = TOD Integer Integer -- The arguments are a number of seconds since 00:00:00 (UTC) on 1 January 1970, and an additional number of picoseconds.
20:51:08 <FrederikEaton> @plugs (read.show) (1::Foreign.C.Types.CTime)
20:51:09 <lambdabot> Type constructor or class not in scope: `Foreign.C.Types.CTime'
20:51:24 <Gahhh> oh, foreign
20:51:40 <FrederikEaton> this is ClockTime without the "lock"
20:52:33 <Gahhh> yeah. Foreign.C.Types
20:52:45 <Gahhh> instance Num, Real
20:52:45 <FrederikEaton> sooo...
20:53:21 <FrederikEaton> you'd think that it would be Integral too, it must have been Integral before since HSQL thinks it is
20:53:49 <Gahhh> It appears that they wanted it in "Real"
20:53:56 <Gahhh> you can use "toRational"
20:55:59 <FrederikEaton> yeah but why'd they take away the Integral instance
20:56:01 <FrederikEaton> makes no sense
21:10:10 <FrederikEaton> OK... WASH uses this custom "GenPKG" script which ghc-pkg now doesn't understand, what should I do?
21:11:45 <SyntaxNinja> what does GenPKG look like?
21:11:57 <FrederikEaton> http://www.informatik.uni-freiburg.de/~thiemann/haskell/GenPKG/README
21:12:06 <FrederikEaton> how do normal packages do this? maybe i should convert it to cabal
21:12:52 <SyntaxNinja> my goodness
21:13:36 <SyntaxNinja> one issue with wash is that it has a number of separate packages. you could always write a quick shell svrpt to instal all of them.
21:13:46 <SyntaxNinja> wash is otherwise pretty easy to cabal-ize.
21:14:34 <FrederikEaton> i challenge you :)
21:14:52 <SyntaxNinja> bah. someone has done it before I swear.  this is an annoying problem.
21:15:07 <SyntaxNinja> if you end up cabal-izing it, please post to libraries@haskell.org and cc peter t about it.
21:18:47 <FrederikEaton> it's also super-annoying that ghc-pkg doesn't give informative error messages
21:18:57 <SyntaxNinja> what does it say?
21:19:28 <FrederikEaton> oh wait it wasn't so bad this time
21:20:04 <FrederikEaton> yesterday just said "parse error". in this case it says "Invalid syntax (no colon after field name)"
21:20:35 <SyntaxNinja> so it's generating a bad package file.  you could try to create a good one by hand... on balance, probably easier to cabal-ize it :)
21:22:01 <FrederikEaton> ugh. but submitting patches is such a pain. half of the time they're ignored
21:22:49 <dons> not with darcs send!
21:23:00 <dons> increase your acceptance rate with DARCS!
21:23:31 * dons tries to sound like @yow
21:24:35 <FrederikEaton> yeah. sorry i'm mr. grouchy today btw
21:25:53 <FrederikEaton> Package {
21:25:53 <FrederikEaton> name = "WASH-CGI",
21:25:53 <FrederikEaton> auto = False,
21:26:03 <FrederikEaton> -- these are the first 3 lines
21:26:12 <FrederikEaton> what's the problem? it needs to be "name:"?
21:26:49 <FrederikEaton> again the error was "Invalid syntax (no colon after field name)"
21:27:48 <SyntaxNinja> FrederikEaton: if you cabal-izxe the package, then announce it publically, then someine might upload it to some secret package database somewhere :)
21:28:01 <SyntaxNinja> FrederikEaton: it's using ghc 6.2's package format, which is not the same as 6.4
21:30:03 <FrederikEaton> i see. the new one is better
21:30:35 <FrederikEaton> so you're saying i should duplicate the effort of this person whose name you don't remember and cabalize it myself rather than fixing GenPKG?
21:32:13 <SyntaxNinja> I think genpkg is probably obviated by cabal, just my opinion
21:32:30 <SyntaxNinja> I definitely cabal-ized it at some point, in the early days of cabal
21:32:48 <SyntaxNinja> but that is probably lost and probably worthless, since cabal has changed so mujch
21:32:58 <SyntaxNinja> I recall conversatinos about cabalizxing it, but I don't remember if anyone has done it
21:33:05 <SyntaxNinja> the reasn I know it's easy is that I've done it a long time back.
21:33:33 <SyntaxNinja> and it's so easy, that you'd probably be done by now if you had started when I first suggested it ;)
21:33:56 <FrederikEaton> i doubt that
21:34:40 <FrederikEaton> so you say it has 4 packages, Utility, WASH, Mail, cgi?
21:34:55 <FrederikEaton> and dbconnect, 5?
21:35:11 <FrederikEaton> and I should make a separate Setup.hs for each or what?
21:35:19 <SyntaxNinja> yeah
21:35:29 <SyntaxNinja> that was how wash was distributed until recently
21:35:58 <FrederikEaton> what do you mean?
21:36:01 <SyntaxNinja> eh, maybe it would take you more than 20 minutes, idono; figuring out the dependencies is one of the tricks.
21:36:25 <SyntaxNinja> wash used to distriubte everything as separate tar files that you had to build in the right order. maybe the dependencies is on the web site or something.
21:37:04 <SyntaxNinja> FrederikEaton: I'd do it myself, but I'm busy with this, which lemmih wrote: http://hackage.haskell.org/cgi-bin/hackage?action=home
21:37:17 <SyntaxNinja> we're trying to solve this problem for everyone :)
21:38:03 <FrederikEaton> well i'm busy with my own thing too :) but i'll try this
21:42:27 <Gahhh> ok, what is "let a = a in a".
21:43:37 <Gahhh> It even runs in ghci. It gives "*** Exception: <<loop>>".
21:44:30 <FrederikEaton> ghc detects some infinite loops
21:44:42 <Gahhh> why does it accept this in the first place ?
21:45:11 <FrederikEaton> well things like "let a = (1:a) in a" are useful
21:45:23 <FrederikEaton> if you're talking about recursiveness in 'let' statements in general
21:46:11 <Gahhh> wow
21:46:21 <Gahhh> that builds an infinite list
21:46:45 <dons> @plugs let a = a in a
21:46:47 <lambdabot> Ambiguous type variable `a' in the top-level constraint
21:46:51 <dons> @plugs let a = a in a :: ()
21:46:53 <lambdabot> Fail: <<loop>>
21:46:53 <lambdabot>  
21:46:58 <SyntaxNinja> Gahhh: quick! stop it before you run out of bits!
21:47:11 <Gahhh> SyntaxNinja: I had used "take 5" heh
21:47:18 <SyntaxNinja> everyone should check this out: http://hackage.haskell.org/cgi-bin/hackage?action=home
21:47:21 <FrederikEaton> SyntaxNinja: so after i've cabalized each sub-package... do i have to install each one before building the next?
21:47:32 <Gahhh> SyntaxNinja: I did. Is it going to be CPAN for haskell or something ?
21:47:40 <SyntaxNinja> FrederikEaton: you have to install whichever ones depend on the one your trying to build, yeah.
21:48:09 <Gahhh> I see. let a = (1:a) makes perfect sense since it has a mathematical solution.
21:50:08 <dons> dcoutts_: mmm. building yi -fvia-C works with today's HEAD. solved I think.
21:50:26 <dcoutts_> good good
21:54:24 <dons> anyone know of the best way to have darcs pushes over ssh to result in summaries to a common mailing list? is there a widely used script?
21:55:13 <jesse99> hmm, does the std lib not have something like strerror?
21:55:41 <Gahhh> strerror ?
21:55:52 <SyntaxNinja> Gahhh: yeah, something like that.
21:55:54 <FrederikEaton> SyntaxNinja: which is the one i'm trying to build? i mean, there is some top-level script which orchestrates this right? what does it look like?
21:56:02 <jesse99> converts a posix error code into a human readable string
21:56:16 <jesse99> socket errors for example...
21:56:17 <dons> in Haskell you mean? there's stuff in Foreign.* for that.
21:56:29 <SyntaxNinja> FrederikEaton: no, you'd have to roll a little shell script to do things in the right order, unless you had hackage / cabal-get
21:57:15 <FrederikEaton> yes, this is the script i'm talking about
21:57:26 <FrederikEaton> what does it look like?
21:58:22 <FrederikEaton> it only has one action, to configure and install each sub-package in order?
21:58:29 <SyntaxNinja> yeah
21:58:33 <SyntaxNinja> just a stright-line script
21:58:45 <SyntaxNinja> or base it on the top-level makefile that comes w/ washngo
21:59:41 <jesse99> hmm, Foreign.C.Error does include errno type stuff, but afaict no way to convert it into a string
22:00:22 <FrederikEaton> SyntaxNinja: i think i'll abort. i don't see such a messy patch being applied
22:01:11 <FrederikEaton> SyntaxNinja: you should be able to build a package without installing it, i think peter thiemann will probably want this to be true of WASH too
22:01:21 <FrederikEaton> SyntaxNinja: like what if the build fails part way through...
22:03:12 <SyntaxNinja> what does wash-n-go do in that case?
22:04:23 <FrederikEaton> uhhh... it can build without installing. so it doesn't matter
22:04:38 <FrederikEaton> things get built in their directories, not in ./dist/build
22:04:56 <SyntaxNinja> ahh.
22:06:33 <FrederikEaton> sorry
22:07:29 <SyntaxNinja> whatever you like. i'm trying to give you the best advice I have. I've devoted a lot of time to trying to make problems like this go away.
22:08:42 <FrederikEaton> well it seems best to wait until you've finished the multiple cabal files thing right?
22:10:14 <dcoutts_> dons, re your darcs push question: I believe that this is a very commonly requested feature and will turn up in a new release sometime via a general system of hooks
22:11:11 <SyntaxNinja> FrederikEaton: if you like. that won't be fore a while, I think.  cabal-get is somewhat of a solution to that, though, and that's likely to appear first.
22:12:48 <FrederikEaton> well either way, i such a large change should be left to peter. it either means splitting WASH up again or merging all the sub-packages into one...
22:13:10 <FrederikEaton> actually i don't know why the latter would be a problem but i've got it working the old way so...
22:15:32 <SyntaxNinja> how did you end up solving it?
22:17:30 <FrederikEaton> fixing GenPKG
22:21:21 <FrederikEaton> SyntaxNinja: well, looked at hackage. neat. uh, how do i install cabal-get? i.e. how to bootstrap?
22:22:10 <SyntaxNinja> right now you have to bootstrap by hand.  we're working on an install procedure for cabal-get
22:23:05 <SyntaxNinja> but the story is 1) install the new cabal (probably have to unregister the old one) 2) install xml-rpc and hackage-client 3) install cabal-get
22:23:39 <FrederikEaton> hmm. toast might be a viable way to do that if i add registering and unregistering. have you tried it out yet?
22:23:50 <FrederikEaton> has anyone :)
22:24:29 <SyntaxNinja> I took a look at the web page. looks neat.
22:24:34 <SyntaxNinja> haven't tried it though
22:25:22 <FrederikEaton> i've only tested it on my own thing
22:25:34 <FrederikEaton> GET http://toastball.net/toast/toast|perl -x - arm http://ofb.net/~frederik/pencilpond/pencilpond-0.1.2.tar.gz
22:25:36 <FrederikEaton> should work
22:26:16 <SyntaxNinja> why doesn't registering work?
22:26:34 <FrederikEaton> hasn't been implemented. toast doesn't really have hooks for arm/disarm
22:26:58 <FrederikEaton> hey, how do i specify that a package should be used when compiling an executable in Cabal?
22:28:05 <SyntaxNinja> with build-depends
22:28:28 <FrederikEaton> i have "Build-Depends: base, WASH" and then it says "Could not find module `CGI'"
22:29:20 <FrederikEaton> ah, need WASH-CGI
22:29:40 <FrederikEaton> no... still can't find it
22:30:31 <FrederikEaton> probably has to do with my changes to GenPKG
22:31:58 <SyntaxNinja> ghc-pkg -l
22:34:10 <FrederikEaton>     rts-1.0, base-1.0, haskell98-1.0, template-haskell-1.0, unix-1.0,
22:34:10 <FrederikEaton>     Cabal-1.0, parsec-1.0, haskell-src-1.0, network-1.0,
22:34:10 <FrederikEaton>     QuickCheck-1.0, HUnit-1.1, mtl-1.0, fgl-5.2, X11-1.1, HGL-3.1,
22:34:10 <FrederikEaton>     OpenGL-2.0, GLUT-2.0, stm-1.0, readline-1.0, (lang-1.0),
22:34:10 <FrederikEaton>     (concurrent-1.0), (posix-1.0), (util-1.0), (data-1.0), (text-1.0),
22:34:10 <FrederikEaton>     (net-1.0), (hssource-1.0), (Utility), (WASHHTML), (WASHMail),
22:34:12 <FrederikEaton>     (WASH-CGI), (WASH)
22:34:34 <FrederikEaton> (oops, starts with /home/frederik/arch/i386/lib/ghc-6.4/package.conf:)
22:35:02 <SyntaxNinja> so is the GCI module in wash-gci?
22:35:50 <FrederikEaton> ghc-pkg describe WASH-CGI
22:36:05 <FrederikEaton> ... says : import-dirs: /home/frederik/arch/i386/lib/WASH-CGI-1.4.37/ghc-6-4/import
22:36:30 <FrederikEaton> and that dir contains a CGI.hi
22:37:27 <SyntaxNinja> is it listed as a hidden module or anything?
22:37:55 <FrederikEaton> not listed in either exposed-modules or hidden-modules
22:38:36 <FrederikEaton> should it be in exposed-modules?
22:38:53 <FrederikEaton> oh it says "exposed: False"
22:39:07 <SyntaxNinja> probably; I'm not an expert in ghc's package format, but I thinmk it should probably be there
22:39:17 <SyntaxNinja> exposed: false probably refers to the package itself, which is why it's in parens
22:39:37 <SyntaxNinja> but cabal should use the -package flag to make it appear. is cabla doing so? run build with -v9 to see.
22:39:43 <SyntaxNinja> also, did you reconfigure this package?
22:40:41 <FrederikEaton>  /home/frederik/arch/i386/bin/ghc -odir dist/build/../pp-web.cgi-tmp -hidir dist/build/../pp-web.cgi-tmp -o dist/build/../pp-web.cgi --make -i.. -O3 -fignore-asserts -fglasgow-exts -package base-1.0 -package WASH-CGI ../maint/webpage.hs -v
22:40:45 <FrederikEaton> yeah, reconfigured
22:41:06 <SyntaxNinja> it's probably the package configuratino file then, I'd guess the exposed / hiddne module list.
22:48:01 <FrederikEaton> can you paste your output of "ghc-pkg describe WASH-CGI"?
22:48:50 <FrederikEaton> what is the new equivalent of 'auto'?
22:48:59 <glimming> kosmikus, what do you make of ! LaTeX Error: Environment code undefined.
22:49:05 <FrederikEaton> and what else changed between 6.2 and 6.4?
22:53:02 <SyntaxNinja> FrederikEaton: I don't have wash-cgi installed
22:53:56 <SyntaxNinja> FrederikEaton: I think auto is the same as exposed
22:54:18 <SyntaxNinja> though some ppl think exposing modules automatically is evil :)
22:56:49 <FrederikEaton> SyntaxNinja: http://www.haskell.org/hawiki/HaskellIrcPastePage?action=show
22:56:53 <FrederikEaton> what should i do now?
22:58:01 <SyntaxNinja> FrederikEaton: add the modules you ant to expose to the exposed-modules list
22:58:24 <SyntaxNinja> you can edit the package file by hand I guess, or add a flag to getpkg
22:58:33 <SyntaxNinja> that's my best guess as to what the problem is
22:58:41 <FrederikEaton> hmm. WASH worked before without explicitly exposing them
22:59:48 <SyntaxNinja> ghc-pkg for 6.4 is different. 6.2 didn't have this concept of hidden packages.
23:00:00 <SyntaxNinja> er, or hidden modules, which is what i meant to say
23:00:26 <FrederikEaton> can you give a summary? like what does exposed: {True,False} mean?
23:01:09 <SyntaxNinja> exposed means that the package is avialable without the -package flag
23:01:14 <SyntaxNinja> it should be false most of the time.
23:01:57 <SyntaxNinja> exposedModules is probably a list of modules like ["Foo", "Fo.bar"] of modules that you want to be able to access.  you can just put all of them here.
23:02:13 <SyntaxNinja> I'm not sure that they're strings, but i would assume so.
23:02:46 <FrederikEaton> so exposed-modules needs to be not empty?
23:02:58 <FrederikEaton> even if the package has exposed: False?
23:03:14 <SyntaxNinja> ja
23:03:28 <SyntaxNinja> they are totally different things.
23:04:22 <FrederikEaton> that would be the problem then...
23:08:45 * You HAVE EXPERIENCED A FATAL ERROR.  PRESS ALT+F4 to REPAIR.
23:09:37 <SyntaxNinja> You:  who are you?
23:10:02 * You HAVE EXPERIENCED A FATAL ERROR.  PRESS ALT+F4 TO REPAIR
23:10:26 <dcoutts_> how can I have experienced a fatal error, I'm still alive!
23:10:34 <Gahhh> the error is dead. not you.
23:10:44 <dcoutts_> :-) oh good
23:10:58 <dcoutts_> it was an odd experience
23:11:02 <Gahhh> wel, at least he keeps his firefox up to date
23:11:33 <Gahhh> #haskell is not a good channel for that kind of lame bait
23:11:58 <Gahhh> #britney maybe
23:12:11 <dcoutts_> heh
23:13:10 <SyntaxNinja> you are you a bot
23:13:27 <Gahhh> let you = you in you
23:14:15 <SyntaxNinja> what does alt f4 do?
23:14:25 <Gahhh> are you serious ?
23:14:37 <SyntaxNinja> yea
23:14:39 <Gahhh> has your debian progressed that far ?
23:14:48 <Gahhh> alt - f4 closes applications in Windoze.
23:15:03 <Gahhh> doesnt it work like that in kde/gnome etc as well ?
23:15:13 <dcoutts_> and in some X window managers too
23:15:26 <SyntaxNinja> I guess I never tried that key combination
23:15:39 <Gahhh> SyntaxNinja: oh man, you were vulnerable for a second there !
23:15:57 <SyntaxNinja> heh
23:16:47 <SyntaxNinja> not being a complete moron is an important aspect to security ;)
23:21:14 <FrederikEaton> SyntaxNinja: where do i find executables after building and before installing? i thought it was ./dist/build but the second one isn't showing up
23:22:27 <FrederikEaton> (btw, i got WASH working now, thanks for the help)
23:46:16 <dons> dcoutts_, ok cool (re. darcs push and mailing lists). maybe I can hack up a script in the meantime to do darcs changes from a cron job
23:46:32 <dons> or did I see a ref to that on the darcs list recently. hmm..
23:49:36 <dcoutts_> yes, it a feature I want too, for a shared gentoo portage overlay, so I know when other devs have changed ebuilds
23:51:07 <dons> I see this: http://www.abridgegame.org/pipermail/darcs-users/2004-December/004868.html
23:51:13 <dons> though it's not ideal.
23:54:13 <dons> or is there some way to do it with darcs apply and its various --sendmail -reply flags.
23:54:59 <dcoutts_> I'm afraid I'm not sufficiently familiar with darcs yet to know these things
