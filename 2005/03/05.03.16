00:40:49 <mayhem> yooh
00:42:04 <lightstep> good morning, mayhem
00:44:45 <kosmikus> hi swiert
00:44:52 <swiert> hi kosmikus
00:45:54 <swiert> how was your winter school?
00:46:50 <kosmikus> great. enjoyed both the talks and the beautiful scenery.
00:47:40 <kosmikus> and you? any news?
00:48:09 <swiert> I will probably be moving to Nottingham soon...
00:48:20 <kosmikus> are you formally a Drs already?
00:48:46 * earthy wonders
00:48:48 <swiert> well, formally I'm a MSc, but yes - I graduated just last week.
00:48:56 <earthy> has he finally handed in his thesis? :)
00:48:58 <kosmikus> congratulations
00:49:08 <earthy> congrats indeed.
00:49:13 <swiert> thanks!
00:49:25 <earthy> well-earned
00:49:27 <kosmikus> and you got/accepted the job in Notthingham?
00:50:12 <swiert> yes, there are a few issues to smooth out (when do I start, accomadation etc) but that shouldn't be a big problem.
00:50:25 <kosmikus> in this case, congratulations again
00:50:58 <swiert> I'm actually expecting a phone call from Thorsten as we speak.
00:51:02 <swiert> thank you again.
00:51:07 <kosmikus> I envy you a bit; lots of chances there; now that you're there and starting to publish papers, maybe I should quit and start gardening or something alike ;)
00:51:36 <kosmikus> send my regards to Thorsten, and tell him he made the right choice ;)
00:52:00 <swiert> you think too highly of me ;-)
00:52:11 <swiert> I'll be sure to pass that on.
00:52:29 <swiert> when are you moving to Bonn?
00:53:08 <kosmikus> in the beginning of June, I hope
00:54:27 <swiert> are you looking forward to moving back to Germany?
01:01:25 <kosmikus> not because it is Germany
01:02:38 <kosmikus> but I kind of like the idea of starting a new job, being at a new university, another city, meeting new people etc.
01:03:09 <kosmikus> I still feel sad about leaving .uu. at the same time
01:04:52 <earthy> it has taken you from diplom mathematiker to doctor and you have spent over 10% of your life here...
01:05:02 <earthy> no wonder you feel sad
01:13:39 <swiert> I feel the same about moving to .nott - kosmikus.
01:14:05 <swiert> lot's of new people, a new subject to work on, new things to learn...
01:14:41 <swiert> at the same time I'll be leaving a lot behind in utrecht.
01:31:54 <boegel> hey cptchaos
01:52:09 <nlv11757__> does reads give more info than read when failing to parse?
01:53:59 <kosmikus> possibly
01:57:38 <lightstep> yes
01:57:43 <lightstep> read crashes your program
01:59:09 <bourbaki> moin
02:09:23 <a5> what should i read for info on ghc's garbage collector. spineless tagless g-machine? is that still up to date?
02:11:21 <boegel> hey bourbaki
02:11:40 <musasabi> there is a paper on the execution model that marks some differences.
02:12:04 <musasabi> www.cs.utah.edu/~wilson/compilers/papers/eval-apply.ps
02:12:07 <bourbaki> boegel: hows your raytraces progressing?
02:12:36 <private> hi
02:13:07 <private> i just have downloaded ghc 6.4 for win32 and now trying to build hxt
02:13:47 <private> but ghc complains that there is no posix package
02:14:58 <boegel> bourbaki: I did a presentation on it on Monday... maybe I should translate it in English for you guys
02:16:28 <bourbaki> sure
02:16:51 <bourbaki> boegel: can you handle triangle meshes?
02:17:07 <boegel> bourbaki: not yet
02:17:23 <boegel> but adding them shouldn't be too hard
02:17:51 <boegel> you only need to define an intersection function for a ray and triangle mesh, and normal function to determine the normal at some point of the mesh
02:18:04 <boegel> if you can do that, you can add triangles meshes
02:18:26 <bourbaki> nah i have got so many things to do atm
02:18:50 <bourbaki> im thinking about how to implement a simple social system simulation like of an ancient city
02:19:03 <private> another question. where can i find examples for Graphics.Rendering.GL? it seems to be quite different from HOpenGL.
02:19:09 <bourbaki> and i am writeing a rt fluid dynamics simulation
02:19:12 <boegel> bourbaki: nice :)
02:20:55 <bourbaki> boegel: and not to forget the usual work :)
02:22:13 <boegel> off course :)
02:22:32 <boegel> how many people would be interested in my raytracing in Haskell presentation ? raise you hand please :)
02:22:52 <musasabi> o/
02:24:24 <boegel> hmm... that's not much :)
02:24:32 <lightstep> me too
02:24:47 <lightstep> but i won't come
02:25:26 <boegel> come ? nono, I mean I can translate it in English, and just throw it online... I don't mean for you guys to come :D
02:25:42 <lightstep> please do
02:26:00 <lightstep> my brother wants to learn haskell, so he asked for interesting stuff
02:26:58 <boegel> hmm, okay, I'll see if I have time today
02:27:23 <autrijus> __stg_split_marker is already defined.
02:27:31 * autrijus has a bad feeling.
02:27:38 <autrijus> that means I have to hack perl5. right?
02:27:43 <autrijus> ok, that's actually my forte :-/
02:30:57 <musasabi> autrijus: or do an unregistered un-split-obj-build perhaps.
02:31:28 <autrijus> sure.
02:31:34 <autrijus> but I like hacking perl5 ;)
02:31:40 <autrijus> say, what does obj splitting buy me?
02:31:53 <autrijus> does it mean I will no longer run into "assembly file too long" errors?
02:31:59 <autrijus> if so, that's worth it
02:32:30 <musasabi> autrijus: it means that you will get reasonably sized executables.
02:32:44 <araujo> Good morning.
02:32:49 <musasabi> and it should probably fix the assembler problems as well.
02:33:26 <autrijus> goody!
02:34:48 <autrijus> let me first get the unregisterized one built...
02:34:59 <autrijus> but I bet I can hack powerpc-* into powerpc-aix
02:35:08 * autrijus finds perl5 easy to grok :)
02:37:29 <musasabi> autrijus: are you using the latest sources from 6.4 branch?
02:37:44 * lightstep thought the grokking is drinking
02:38:03 <a5> musasabi: thanks
02:38:33 <autrijus> musasabi: no, I'm using the release.
02:38:43 <autrijus> significant fixes/
02:38:44 <autrijus> ?
02:38:48 <musasabi> autrijus: I think some powerpc specific fixes went in after the release. (I'll check)
02:39:15 <autrijus> please check. will likely save me some time :)
02:39:19 <autrijus> <- the unfortunate AIX porter
02:40:03 <a5> boegel: interested, i guess. i was working on a lazy radiosity thingy using interval arithmetic but put it on hold
02:41:05 <earthy> perl5 and easy to grok in one sentence
02:41:11 * earthy suddenly fears autrijus
02:41:26 <musasabi> autrijus: http://www.haskell.org//pipermail/cvs-ghc/2005-March/023945.html should be interesting to you.
02:41:36 <autrijus> earthy: I can't help it; I've been coding perl5 since there is a perl 5.
02:41:54 <boegel> nice, that's three... that's worth translating it :)
02:43:18 <earthy> autrijus: then you probably know all the implicit stuff to watch out for
02:43:34 <autrijus> *nod*.
02:43:41 <earthy> and all the options that can be set using those one-character variables such as $[ and such (IIRC)
02:44:05 <autrijus> sure. I was a successful perl golfer ;)
02:44:15 <autrijus> (where it was a requirement to momorize perlvar)
02:44:22 <autrijus> memorize, even
02:44:40 <autrijus> musasabi: hm. that's linux though.
02:45:18 <autrijus> but thanks :)
02:46:04 <musasabi> autrijus: yes, but from GHC perspective that is quite close.
02:46:22 <musasabi> or does AIX have a radically different ABI?
02:48:39 <autrijus> XCOFF.
02:49:01 <autrijus> as radically different as you can get :-/
02:49:20 <autrijus> it's closer to win32 ;)
02:51:46 <tromp> does perl have such things as 64bit ints?
02:52:58 <autrijus> yeah
02:55:52 <tromp> does perl have native code compilers?
02:56:11 <tromp> or just bytecode interpreters?
02:57:17 <Khisanth> there is a very very experimental perlcc
02:57:36 <Khisanth> not sure if it is actively developed
03:14:53 <earthy> umyeah. perlcc. right. yeah
03:15:04 <earthy> tried using that for production once. bad mistkaake.
03:15:09 <earthy> mistake, even
03:34:04 <lightstep> what does Type(...) mean in an export list?
03:34:41 <lightstep> does it import the constructors also? or maybe only for pattern-matching?
03:34:50 <lightstep> (when importing)
03:35:23 <musasabi> lightstep: it export the constructors for both construction and unconstuction (pattern-matching)
03:35:34 <musasabi> or methods if that is a class.
03:35:53 <musasabi> What is the correct way to derive Typeable for an already existing type?
03:36:04 <lightstep> how is an abstract type exported?
03:37:38 <lightstep> musasabi, perhaps there is a compiler pragma that creates default method for a type
03:37:55 <musasabi> module Foo (Bar, ...) where
03:38:36 <lightstep> ty
04:01:13 <autrijus> hey. libraries/base/aclocal.m4 does not check for wchar.h
04:01:20 <autrijus> which results in wint_t not seen on freebsd
04:01:29 <autrijus> which makes unicode broken even though libc has it.
04:02:01 <autrijus> (talking about GHC tree here)
04:02:06 <autrijus> the correct ml is ghc-users?
04:05:14 <tromp> funny; i read that as libraries/base/alcohol.m4 :)
04:05:32 <autrijus> that is not too far off.
04:06:01 <tromp> what does ac stand for?
04:06:41 <musasabi> autoconf.
04:31:43 <boegel> @seen Itkovian
04:31:44 <lambdabot> I saw Itkovian leaving #haskell 6 hours 12 minutes 38 seconds ago.
04:31:45 <nlv11757__> darn, 1. is not a legal float in haskell
04:32:30 <tromp> makes sense
04:33:42 <tromp> as much as requiring the number 0 to be written with at least one digit:)
04:35:33 <nlv11757__> yeah the nasty thing is, string_of_float in ocaml gives "5." which can't be used to 'read' a Float
04:36:34 <boegel> nlv11757__: just add a 0 when you detect a "." at the end ?
04:37:41 <tromp> or just always add a 0
04:39:10 <nlv11757__> i already wrote a modified string_of_float, but it's a nasty big if you are looking at a complete syntax tree of a C program and it fails on that kind of thing :D
05:00:35 <mg_nic> Hi.
05:01:02 <mg_nic> No problems with using haskell to write p2p app?
05:01:11 <nlv11757__> yeahhhh i can read in the mpegdecoder :D
05:01:29 <nlv11757__> :/ shouldnt have done a print of the ast though.....
05:03:17 <shapr> mg_nic: it'll work
05:03:18 <musasabi> mg_nic: should work fine.
05:03:57 <mg_nic> oks
05:28:23 <nlv11757__> doesn someone have good ideas for the following; i have a 'read' of a big structure and want to measure how long it takes. Of course doing a getClockTime before and after doesnt work, because it will only really do something when it needs the 'read' ast
05:28:58 <nlv11757__> should i sequence the two measurements with the read or something like that?
05:28:59 <earthy> then seq the read ast.
05:29:03 <duncan_> you can use 'deepSeq'
05:29:16 <earthy> that's what I meant, ofcourse.
05:29:40 <nlv11757__> ok, i knew there were something like that.
05:30:37 <duncan_> if it's a big structure (or rather lots of mututlly recursive structures) you can get DrIFT to derive the deepSeq isntances for you (though I believe it calls it hnf or similar)
05:31:33 <duncan_> I mean if there are lots of different types in your AST
05:31:53 <nlv11757__> ow you need to do special stuff like that? i thought there was some command forcing the "read aststring :: Ast" to execute
05:32:20 <TheHunter> are derivable type classes still in ghc6.4? they'd be ideal for the job.
05:32:53 <duncan_> there is, but you can only force it to weak head normal form which probably leaves the rest of the AST unforced
05:33:11 <duncan_> unless your AST data types are fully strict
05:34:01 <TheHunter> oh, judging from the generated core, derivable type classes have been removed.
05:36:01 <nlv11757__> duncan_: it will only 'read' a portion then?
05:36:50 <TheHunter> nlv11757__, you can also derive Eq and check ast == ast, i think.
05:38:16 <nlv11757__> ow i already have an Eq instance for that thing, so that would be a very simple solution
05:42:22 <nlv11757__> it seems to be working
05:42:44 <nlv11757__> or at least, it has been rattlin for a minute or so
05:45:02 <duncan_> nlv11757__: yes it may only parse the bit necessary to give back the head of your AST. It depends on the strictness of the 'read' parser. To be sure you'd have to deepSeq it or make your AST data types fully strict in all their children (ie adding '!' on all fields in your AST data type declerations)
05:45:51 <nlv11757__> it is the standard haskell read function
05:46:12 <duncan_> I don't know how strict that is
05:46:31 <nlv11757__> me neither :D
05:46:34 <duncan_> the report might specify it, or it might be up to the implementation
05:46:54 <duncan_> like I say, to be sure you'd need to do something extra
05:46:57 <nlv11757__> huh why on earth does diffClockTimes give 0 minutes and 143 seconds :D
05:47:19 <nlv11757__> shouldn't that be 2 minutes and 23 seconds
05:47:22 <nlv11757__> :)
06:16:22 <nlv11757__> is there a normalized alternative to diffClockTimes?
06:18:09 <nlv11757__> normalizeTimeDiff :/
06:55:13 <bringert> is there a function in the standard libs for printing a string as UTF8?
06:55:50 <musasabi> no, but e.g. xml libraries provide such functions.
06:57:13 <tromp> so what happens if you write a nonascii unicode String to stdout?
06:57:41 <tromp> it truncates to 7 or 8 bits?
06:58:14 <lightstep> Char is a unicode character
06:58:24 <tromp> (not that i know how to create such a string in the 1st place:()
06:58:37 <musasabi> tromp: the current io libraries truncate them to 8 bits.
06:58:50 <musasabi> chr 5000 is one way.
07:14:16 <Lunar^> waow
07:14:23 <Lunar^> O'Caml folks got a new website
07:14:29 <Lunar^> XHTML 1.0 Strict
07:15:46 <CosmicRay> wow indeed.
07:15:51 <CosmicRay> now we look like we suck :-)
07:16:12 <Lunar^> Our manual pages still looks better
07:16:16 <CosmicRay> heh
07:17:23 <musasabi> a new layout for haskell.org would be nice :-)
07:17:44 <nlv11757__> at least the link to the manual works at haskell
07:17:45 <nlv11757__> :P
07:18:15 * Lunar^ find the current one pretty clean and pretty
07:19:21 <musasabi> maybe too much contrast there, but not bad in any sense.
07:20:14 <lightstep> the tables are uncomfortable for text browsing
07:26:20 <ibid> hi vegai :)
07:42:32 * shapr throws lambdas
07:42:38 * autrijus catches a continuation
07:42:38 * CosmicRay yelps!
07:42:53 <autrijus> shapr: guido is dropping lambda in python!
07:42:54 <CosmicRay> those lambdas were undefined!
07:42:59 <autrijus> shapr: come to the perl6 camp! <g>
07:43:04 <shapr> autrijus: are you serious?
07:43:08 <CosmicRay> gah.
07:43:15 <shapr> Is he really?
07:43:28 <autrijus> shapr:     http://www.artima.com/weblogs/viewpost.jsp?thread=98196
07:43:30 <CosmicRay> it wouldn't surprise me too much, but geez
07:43:41 <autrijus> he threatened to do that as early as python 2.5.
07:43:45 <CosmicRay> guido is the "let's remove everything good about python" guy of late
07:43:51 <autrijus> filter, map, reduce and lambda. woosh. all gone
07:44:15 <shapr> That's insane!
07:44:24 <autrijus> he seems very serious.
07:44:34 <autrijus> I mean, he talked about it in ML too, not only as an idle speculation
07:44:43 <shapr> Ok, I officially abandon Python.
07:44:56 <shapr> Sad too, it introduced me to so much good stuff...
07:44:57 <tochiro> so did I a while back with 2.4 .. try Ruby :)
07:45:18 <autrijus> Ruby seems nice :)
07:45:42 <shapr> I've tried Ruby, and I agree it has a better OO model, but I don't like the explicit END, or the lack of first class functions.
07:46:09 <shapr> I haven't tried it in the last year or so, I should give Ruby another chance.
07:46:14 * araujo thinks END is more beautiful than } or ; 
07:46:26 <shapr> I like significant whitespace.
07:46:41 <araujo> shapr, we don't live in a perfect world ....
07:46:48 <autrijus> hrm, why don't you write haskell exclusively then :)
07:46:49 * earthy likes Algol 68's possibility of choosing between BEGIN END and ( )
07:46:51 <araujo> Wait, unless we all used haskell of course 8)
07:47:01 <earthy> then again, IF THEN ELSE FI was ( | |: ) :)
07:47:09 <musasabi> shapr: but ryby has procs which make up for missing functions.
07:47:09 <ingy> I think layout really gets it well
07:47:17 <araujo> I think the best OO stuff is available in Ruby.
07:47:22 <musasabi> of course that is not the cleanest way to do it,
07:47:40 * ingy wonders if Javascript uses an equivalent to layout. it seems to
07:48:00 <shapr> musasabi: yeah, it's the "what a language makes easy to do" factor that I'm thinking about.
07:48:23 <ingy> although whitespace in haskell seems to be a little more significant than javascript
07:48:48 <ingy> iykwim
07:49:06 <musasabi> actually javascript got many things right.
07:49:29 <autrijus> javascript is actually a very nice language.
07:49:34 <shapr> Yeah, I agree.
07:49:53 <boegel> hi FonsDeTelescoopP
07:50:00 <FonsDeTelescoopP> hey
07:50:05 <shapr> hoi FonsDeTelescoopP, hoe gaat het met jou?
07:50:06 <boegel> shapr: give him the tour !
07:50:17 <shapr> FonsDeTelescoopP: are you learning Haskell?
07:50:26 <FonsDeTelescoopP> yes, sir, I am :S
07:50:32 <FonsDeTelescoopP> ma tis van moetes
07:50:42 <araujo> autrijus, it is?...
07:50:43 <boegel> FonsDeTelescoopP: enligsh pls :D
07:50:45 <shapr> matijs?
07:50:49 <shapr> That's me!
07:50:52 <araujo> autrijus, what does it have of nice?
07:51:09 <araujo> I really fail to see something nice in java for instance....
07:51:18 <autrijus> javascript has ~0 to do with java.
07:51:18 <FonsDeTelescoopP> I'm looking for a good tutorial to start with
07:51:19 <araujo> But, hey, that might be probably just me
07:51:32 <boegel> shapr: the tour ! give him the tour !
07:51:33 <autrijus> java is for B&D people.
07:51:37 <autrijus> javascript is cool.
07:51:43 <araujo> i see...
07:51:47 <shapr> FonsDeTelescoopP: would you the short tour of #haskell?
07:52:00 <boegel> FonsDeTelescoopP: say yes :p
07:52:05 <FonsDeTelescoopP> yes please
07:52:14 <FonsDeTelescoopP> always being polite dude ;)
07:52:20 * shapr grins
07:52:34 <tochiro> B&D ?
07:52:42 <autrijus> bondage and discipline.
07:52:45 <tochiro> ah
07:52:45 <shapr> Awright, the first stop on the tour is the channel topic, which links to the learning page and the channel logs.
07:52:47 <autrijus> lots of fun for some people.
07:52:49 <autrijus> not me.
07:52:58 <shapr> Next we have lambdabot with many useful haskell related commands.
07:52:59 <tochiro> me neither
07:53:09 <autrijus> well, at hand of a capable mistress like haskell with sexy types, then it is actually enjoyable
07:53:12 <shapr> Last but not least there's the Haskell Wiki with collected bits of wisdom.
07:53:19 <autrijus> but not so with java.
07:53:32 <shapr> More recently there's the Haskell Sequence community news website.
07:53:32 <ingy> autrijus: Java is B&D without all the fun leather toys
07:53:37 <shapr> @wiki RecentChanges
07:53:37 <lambdabot> http://www.haskell.org/hawiki/RecentChanges
07:53:43 <autrijus> ingy: right. just glass shards and so
07:53:49 <shapr> ouch
07:53:49 <ingy> yep
07:53:56 <FonsDeTelescoopP> allrighty
07:54:22 * ingy laughs
07:54:27 <araujo> i just fail to see any real advantage from java over C++ for example...
07:54:31 <shapr> The news site is http://sequence.complete.org/
07:54:41 <araujo> java OO model is very crappy..
07:54:49 <shapr> FonsDeTelescoopP: any questions?
07:55:13 * araujo better stop interrupting shapr's beginning tour
07:55:15 <FonsDeTelescoopP> what do you suggest I use: HUGS, or GHC?
07:55:38 <boegel> FonsDeTelescoopP: Hugs for implementing your code, GHC for rapid execution
07:55:42 <nlv11757__> ghci also an option
07:55:43 <musasabi> Talking about java and B&D in the same sentence is quite condemming to B&D.
07:55:50 <boegel> or you could use GHCI instead of Hugs
07:55:52 <musasabi> ghci is very nice for interactive things.
07:56:10 <boegel> musasabi: so is Hugs
07:56:17 <FonsDeTelescoopP> I'm going to implement a game http://www.dyson.co.uk/game/playgame.asp
07:57:42 <shapr> oh that looks like fun
07:58:27 <FonsDeTelescoop> yes, it is. You can't stop playing
07:58:51 <FonsDeTelescoop> But I can't start implementing :)
07:58:59 <Lunar^> shapr: With Si\ finished HAIFA, we won't need Python for long now
07:59:15 <duncan_> FonsDeTelescoopP: then you'll want a gui library, like... gtk2hs. We've now got two game-like gui demos using gtk2hs. boegel wrote one (for the first issue of The Monad.Reader) and I'm currently writing a visualiser for a simulator which is kind of similar.
07:59:15 <shapr> That's good to hear.
07:59:46 <FonsDeTelescoop> i'm not going to do a GUI
07:59:58 <FonsDeTelescoop> it will be textbased
08:00:09 <shapr> in that case, curses?
08:00:13 <FonsDeTelescoop> so I'll have to visualize the board as a large string
08:00:16 <nlv11757__> duncan_ does gtk2hs have a lot over WxHaskell? or is it incomparable
08:00:31 <shapr> You could use the shaded consol chars like telescope bits.
08:00:33 <boegel> nlv11757__: it has glade support
08:00:43 <FonsDeTelescoop> shapr:curses?
08:01:34 <duncan_> nlv11757__: it's kind of similar. As boegel says, glade support is really nice because it allows you to use Glade the visual gui builder.
08:01:55 <boegel> FonsDeTelescoop: as in #Ã§Ã Ã§Ã Ã© ! !
08:02:36 * boegel is off, making brownies
08:02:39 <nlv11757__> i dont know glade, but it's the tool you want to have when doing layout, boxes, layoutmanager type stuff?
08:02:47 <nlv11757__> baking brownies ? ;)
08:02:48 <boegel> or at least trying too
08:03:13 <duncan_> It's similar to wxHaskell in that they are both cross-platform with native look and they're both based on mature C/C++ GUI libraries
08:03:15 <boegel> nlv11757__: first making them, then baking them
08:03:18 <musasabi> also getting gtk libraries is easier on *nix than wx.
08:03:52 <nlv11757__> *nix ?
08:03:54 <boegel> duncan_: gtk2hs doesn't have a native look... it uses the Gtk+ theme
08:04:31 <nlv11757__> does it have better documentation and tutorials than wxhaskell?
08:04:47 <duncan_> nlv11757__: right glade allows you to do the layout visually rather than in code which makes it much easier to edit and makes it easier for follow the Gtk/Gnome HIG (human interface guidelines)
08:04:51 <boegel> nlv11757__: there's my article, and a API reference...
08:05:18 <duncan_> boegel: well on unix, the Gtk+ theme is the native look! :-) On windows it uses the native windows theme
08:06:25 <duncan_> nlv11757__: I think the current state of play is that gtk2hs has better reference documentation but wxHaskell has more in the way of introductory tutorials.
08:07:12 <nlv11757__> :O i already thought wxhaskell had nothing but an api
08:08:28 <duncan_> nlv11757__: boegel's introduction is indeed good. We're also planning a very step-by-step introductory tutorial like wxHaskell has, eg introducing hello world
08:08:39 <sond> with wxHaskell, you can allways look at the wxWidgets documentation, but it's not optimal
08:09:15 <earthy> otoh wxHaskell *is* native widgets as far as possible
08:09:24 <sond> yep
08:09:25 <earthy> which gtk2hs is not
08:09:52 <sond> that's why we are using wxHaskell for our IDE-project
08:10:15 <duncan_> sond: right. We've basically converted the Gtk+ C documentation to Haddock documentation and Haskellised it in the process. So it's pretty comprehensive (at least it will be in the next release).
08:10:58 <duncan_> what's a native widget? Are all 4 of the widget toolkits that MS use in their apps native?
08:11:15 <lightstep> no
08:11:28 <lightstep> only the ones with the "windows look"
08:11:35 <lightstep> not flat widgets
08:11:36 <sond> :)
08:11:56 <lightstep> (or so i think)
08:12:15 <vegai> I think I can offer something truly novel to this conversation.
08:12:21 <duncan_> I'm not claiming that gtk is native on windows but the definition should be more to do with the apearance and the behaviour.
08:12:23 <vegai> *cough*  .... Windows sucks.
08:12:55 <lightstep> totally correct
08:13:26 <duncan_> Office 97 uses one toolkit, Office 2000 uses another, VisualStudio.net uses another, each look is different, eg see the toolbar buttons and the menus.
08:13:38 <vegai> also, GNUStep is the native GNU widget :)
08:14:01 <earthy> well, the difference is that where gtk+ provides its own widgets from the drawing primitives up
08:14:36 <earthy> wxHaskell tries to re-use as many widgets as possible from the host toolkit, and tries to stay within the look and feel of that
08:15:02 <duncan_> The windows look is actually not as consistent as you'd think. Windows XP has some dialogs using their new theme engine (the playskool look) and some that use the old grey classic look.
08:15:19 * earthy nods
08:15:39 <earthy> trying to keep up with windows is a strange endeavour
08:16:21 <duncan_> earthy: have you seen the latest version of Gtk on XP? See: http://sourceforge.net/project/screenshots.php?group_id=49207
08:17:01 <earthy> ah. that has changed then. :)
08:17:11 <duncan_> The Gtk+ windows theme uses the MS XP theme drawing dll to do the drawing.
08:17:20 <XTL> Hmm
08:17:32 <tuomov> the windows terminal uses different window style (old) from the rest of it
08:17:39 <tuomov> that's very interesting
08:18:11 <duncan_> yes it has. In Gtk 2.4 it looked pretty out of place on windows, especially XP.
08:21:03 <sond> do you plan on making any higher level abstractions on top of the gtk api?
08:22:11 <duncan_> we're adding a properties & events API similar to te one wxHaskell uses, eg set object [ property := value ]
08:22:25 <sond> okay
08:22:47 <sond> so it will basically be wxHaskell but with a better documented "core" api :)
08:23:11 <duncan_> of course anyone with a good idea for a higher level abstraction is welcome to implement it on top of gtk2hs. We'd provide help.
08:24:11 <duncan_> and a visual gui builder. Yes. :-)
08:24:37 * FonsDeTelescoop is going to read some haskell tutorials
08:24:47 <FonsDeTelescoop> sharp, thx for the info
08:24:53 <FonsDeTelescoop> I'll be back soon ;-)
08:25:11 <duncan_> There are othe reasons people choose between the underlying Gtk and wxwidgets, they are hashed over on many web pages
08:25:32 <duncan_> don't ask me. I'm obiously biased. :-)
08:25:52 <earthy> gtk+ is in C, right?
08:26:05 <lightstep> yes
08:26:05 <earthy> that implies that it'd be easier to make a full haskell binding to it
08:26:44 <earthy> wxHaskell is somewhat hampered by the fact that it is bootstrapped from a slightly incomplete C binding to wxwidgets
08:26:49 <lightstep> not necessarily. there are bindings to wxw for lots of high-level hanguages
08:27:28 <lightstep> i believe the eiffel crowd have an automagic converter
08:27:34 <duncan_> yes, we use c2hs to do the C FFI bindings
08:27:45 <sond> but the eiffel c-binding is incomplete.
08:28:08 <goron> lightstep: Daan generates everything from the wxeiffel binding.
08:28:13 <duncan_> we also use a code generator which processes the C headers and docbook documentation to produce Haskell modules with Haddock documentation
08:28:57 <goron> lightstep: At least one and a half year ago, that is.
08:29:11 <duncan_> we borrowed the header processing api gen stuff from the mono/Gtk# project
08:29:45 <goron> lightstep: Reason: eiffel doesn't have global variables (reminds you of Haskell)?
08:31:16 <lightstep> goron, afaik, haskell has global variables (randomIO). but that doesn't matter, since most ui libraries (even Network.CGI) wrap your main, so they can install any global variable
08:31:22 <duncan_> nasty. We didn't have that problem because the Gtk+ people deliberatly designed their API to be easily bindable by other languages, eg python etc
08:32:00 <sond> that's nice.
08:32:11 <duncan_> so they don't use varargs (or at least provide alternatives), no global vars, no passing structures by value etc.
08:33:08 <goron> lightstep: Well, then it's not pure Haskell anymore.
08:38:59 <lightstep> goron, unsafePerformIO is in the official addendum to the standard
08:42:08 <musasabi> myGlobarVar :: MyType ; myGlobalVar = unsafePerformIO (ioExpressionToInitializeIt)
08:44:26 <goron> lightstep: Ok, it's in the specs, but I think in Haskell it isn't meant to declare eveything globally (therefor it's also more cumbersome to do so).
08:44:39 <lightstep> yup
08:51:56 <musasabi> http://developers.slashdot.org/article.pl?sid=05/03/14/2258219&tid=156&tid=8 ...
08:56:10 <stepcutHM> lame
08:57:36 <duncan_> quite.
08:59:04 <musasabi> and the bit of "I couldn't get a GHC working so I used hugs" and then complaining that haskell is slow as compared to compiled ocaml code.
08:59:14 <duncan_> !
08:59:23 <stepcutHM> haha
08:59:47 <duncan_> I wonder what factor that makes? 20x? 100x?
09:00:04 <duncan_> especially for arrays
09:01:44 <duncan_> We were mulling over some array code the other day on ghc-bugs list, the initial version was rather slow because ghc was not eliminating the intermediate lists but eventually we got it down to only a factor of 6 out from the C code (and remember that C compilers are especially good at optimising imperitive loops & arrays)
09:07:34 <tochiro> I've got a pkgbuild and a package for GHC for the archlinux distro over at http://starcrow.starzinger.net/~vidvandre/arch/ if anyone runs archlinux here
09:14:35 <stepcutHM> http://labs.google.com/googlex/
09:14:44 <stepcutHM> heh, icon zoOOOoming
09:31:40 <xerox> Ã
09:31:47 <xerox> whoops. (hi)
09:40:58 <kosmikus> oh, I had never realized that mrchebas is here, too
11:07:23 * shapr grumbles
11:07:37 <musasabi> hmm?
11:08:52 <shapr> Just grumbling about work stuff.
11:09:24 <shapr> Though working with crappy software is still a lot more fun that digging ditches. Given that sort of choice, I'm happier where I am.
11:10:49 <musasabi> true.
11:12:17 <shapr> I'm still not sure how to abstract control flow in a nice way.
11:12:28 <shapr> Plone has 'workflow' that lets you build explicit FSMs.
11:13:35 <tromp> python3000? what's up uwith that numbering scheme?
11:13:53 <shapr> For example, standard workflow for documents allows any Member to set the publication state to private, visible, and submitted. But only editors can take a document from submitted to published.
11:14:29 <shapr> It's not difficult to do that in Plone's workflow, but it's not at all 'concatenative' (what's the right term here?)
11:15:22 <shapr> tromp: it's a running joke from the late 90s when everything was software 2k, Pythonistas were joking about the fabled 'next version' of Python that would solve all the existing problems, namely the unreachable Python 3k
11:15:54 <shapr> What's the term for code that work nicely and predictable when added together? modular?
11:16:22 <shapr> Anyway, workflow in Plone is not like that at all. Same for most of the pieces of Plone, they're very hard to use outside of what they were written for.
11:16:22 <musasabi> composable?
11:16:33 <shapr> That sounds right to me.
11:16:42 <tromp> robust:-?
11:17:13 * shapr looks for the term the STM paper uses.
11:17:15 * SyntaxNinja notices shapr talking about at least 4 things at once ;)
11:17:25 <tromp> they talk about composable
11:17:30 <shapr> SyntaxNinja: am I?
11:17:53 <shapr> I think I'm talking about the same thing, web publishing in Python, with the subheading of how it sucks, and how it could be better.
11:18:00 <SyntaxNinja> I'm just kidding.
11:18:05 <SyntaxNinja> how's it going?
11:18:06 * shapr grins
11:18:17 <shapr> It could be better. How's it going with you?
11:19:20 <shapr> Aha, "Our main war cry is <italic>compositionality</italic>: a programmer can control atomicity and blocking behaviour in a way that respects abstraction barriers."
11:19:27 <SyntaxNinja> just fine. haven't seen any showstopper bugs w/ cabal yet, sot hat's good news
11:19:35 <shapr> So, yes, composable is the word I want.
11:21:13 <Lemmih> SyntaxNinja: Did you fix the bug that caused Cabal to remove the two first letters in the source dir when packing a source distribution (./Setup.lhs sdist)?
11:21:39 <musasabi> SyntaxNinja: Cabal is very nice when writing libraries currently :-)
11:21:52 <SyntaxNinja> Lemmih: did I know about this bug?
11:22:00 <SyntaxNinja> sdist hardly works in general
11:22:05 <SyntaxNinja> musasabi: yay
11:23:00 <Lemmih> SyntaxNinja: Some guy posted a rant about it on the mailing list some time ago.
11:23:16 <SyntaxNinja> which mailing list?
11:23:19 <SyntaxNinja> libraries@
11:23:22 <SyntaxNinja> got a link?
11:24:04 <Lemmih> glasgow-haskell-bugs.
11:24:37 <SyntaxNinja> I don't read that list...
11:24:53 <Lemmih> I'll forward it to libraries@
11:25:30 <SyntaxNinja> thanks.
11:26:04 <SyntaxNinja> I wish I had had time to fix sdist before the release :(
11:26:41 <Lemmih> Sent.
11:26:52 <tromp> shapr: looks like guido thinks list comprehension obviates most uses of lambda
11:27:10 <shapr> musasabi: I've been thinking about proposing a new category for the shootout, I'd like to add Communication with Humans in addition to the existing Communication with Computers category.
11:27:17 <shapr> tromp: yes, that's what he says.
11:28:33 <shapr> My emotional reaction is that he's full of shit, but I haven't yet sat down and carefully examined what he says. The only logical reaction I had immediately is that once you're past the turing tarpit, the strength or weakness of a language is what practices it encourages, or makes easy to do.
11:28:57 * Lemmih tries to bribe shapr by promising lots of Hackage development if he writes that script which will allow him to use Darcs again.
11:29:27 <shapr> And it seems to me that list comps are a lot more like set theory ops underneath databases.
11:30:03 <Cale> How is the use of list comprehensions able to replace usage of lambda?
11:30:14 <shapr> I think that having list comps in place of map/lambda/filter/reduce would at the least discourage the use of higher order functions.
11:30:38 <tromp> is reduce same as fold?
11:30:40 <Cale> lambda builds functions, list comprehensions build lists
11:30:46 <shapr> tromp: yeah, pretty much.
11:31:04 <tromp> no choice between l and r?
11:31:19 <shapr> Cale: http://www.artima.com/weblogs/viewpost.jsp?thread=98196
11:31:21 <shapr> tromp: nope, none.
11:31:44 <musasabi> shapr: list comprehensions are enough if you use lambdas like an imperative programmer uses lambdas.
11:31:55 <shapr> I think that's an excellent way of putting it.
11:33:04 <shapr> Thing is, I don't do that anymore. I got into Haskell because I discovered on my own the advantages of functional programming. Python's map, reduce, lambda, and filter got me here.
11:33:31 <SyntaxNinja> Lemmih: apparently iavor didn't read the user's manual that says sdist is broken
11:34:05 <shapr> Pseudonym made the interesting point that all the best languages are multi-paradigm. I think that removing those FP pieces from Python will make it overall a weaker language.
11:34:17 <Lemmih> So that's a no on being fixed? (:
11:34:31 <tromp> guido prefers to call it "streamlining"
11:34:36 <SyntaxNinja> Lemmih: right
11:34:39 <Cale> tromp: heh
11:34:49 * Lemmih realizes shapr is impervious to bribes.
11:34:51 <shapr> tromp: but at the same time, he add new syntax for decorators, multi-apply, etc.
11:35:00 <musasabi> On the other hand it looks like perl6 will contain haskell as a subset ;)
11:35:04 <shapr> Lemmih: I'm not impervious to bribes, it just depends on what you offer me ;-)
11:35:31 <tromp> perl6 will be strongly typed:-?
11:35:46 <shapr> Lemmih: seriously though, I don't know when I'll have time to whip up the darcs-gpg-cgi script.
11:35:57 <tromp> i can't imagine perl being the least bit pure or lazy:(
11:36:07 <shapr> I think this particular job will take at least two more weeks, possibly four more weeks.
11:36:55 <musasabi> autrijus should be the one to answer those.
11:37:19 <musasabi> but yes it should infer static types when it can and lists are lazy if I understood things correctly.
11:37:29 <autrijus> perl 6 is optionally strong typed if you add annotations.
11:37:34 <tromp> wonder where guido got the idea of any and all:-)
11:37:45 <autrijus> maybe from reading perl6 specs :)
11:37:59 <autrijus> anyway, perl 6 also does inferencing and compile time dispatch based on types.
11:38:06 <autrijus> which is a lot like haskell's typecasing.
11:38:08 * shapr hugs autrijus
11:38:32 <Cale> People posting to that blog entry seem not to like reduce
11:39:29 <CosmicRay> argh
11:40:03 <Lemmih> SyntaxNinja: How should non-source files be handled? Via an Extra-files field in the .cabal file?
11:40:28 <shapr> Python 1.5 was very easy to teach to people with no prior programming experience. I've been thinking about a simplified version of Python 1.5 that cuts out some ugly bits and adds in some pretty Haskell bits. Dunno if it'd be any prettier though.
11:40:58 <autrijus> tromp: there will also be a functional sublanguage inside perl6.
11:41:09 <autrijus> tromp: based on letrec and lazy evaluation.
11:41:27 <autrijus> so if you write only using those contructs, perl6 is 1)lazy 2)pure.
11:41:28 * shapr waves the lambda and camel pom-poms
11:41:39 <tromp> maybe some1 will be crazy enough to write a haskell interpreter in perl:)
11:42:09 <tromp> otoh, i heard of a project to interpret perl6 in haskell...
11:42:35 <tromp> or at least specify its behaviour
11:43:12 <Cale> Guido always seems to make statements which indicate that he doesn't understand functional programming.
11:43:33 <shapr> Cale: I think that's an understatement.
11:44:08 <shapr> I had to avoid him at EuroPython 2004, I realized I would have flamed him horribly if I had a chance to talk to him.
11:44:34 <tromp> well, you shldve left your flamethrower at home:)
11:45:20 <tromp> i take it you will be dearly missed at europython2005?
11:45:23 <shapr> I had to work to keep my mouth shut quite a few times at EuroPython.
11:45:58 <shapr> Actually, I've been scheduled to give one talk there on methodologies, and it's possible I'll be giving a talk that has the factual parts of my flames as content.
11:46:04 <autrijus> tromp: er. Pugs is my project. it's at pugscode.org
11:46:18 <autrijus> and it runs perl 6 and has a pugscc to produce executables.
11:46:23 <autrijus> and we have some 1500 tests to prove that.
11:46:28 <tromp> ah! that explains why you know all about perl6:)
11:46:34 <Cale> shapr: Give a talk on Haskell there :)
11:46:41 <autrijus> :)
11:47:09 <shapr> Last year I asked Mark Shuttleworth about Haskell during the questions time after his keynote speech.
11:47:31 <Cale> What did he have to say?
11:47:45 <shapr> He gave a very tactful answer, he said "If you like what those languages give you, then use them! But I'm sticking with Python."
11:47:51 <det> shapr, You werent exaretating the avoiding Guido thing, were you?
11:48:01 <shapr> det: exa what?
11:48:06 <det> exagerating :(
11:48:29 <Cale> exaggerating
11:48:34 <det> yeah, that
11:48:49 <det> I dont know *how* I made the first typo
11:49:06 <shapr> oh... No, I really did avoid him at EP2004. I don't think I would be able to not say what I think about Guido's understanding of FP, and I don't think it would serve any useful purpose or help to inform anyone (especially not Guido). So better to keep my mouth shut.
11:49:22 <det> I think for now on I will make up definitions if I mis-spell that badly, just to save face
11:49:25 <CosmicRay> shapr: I think you should post a nice rant about this on the sequence :-)
11:49:27 * shapr grins
11:49:42 <Cale> I wonder how meaningful a monad library in python would be. :)
11:49:52 <shapr> CosmicRay: problem is that this is an instance of the Blub Paradox.
11:50:08 <CosmicRay> damn, ipv6 on freenode sucks today.
11:50:09 <CosmicRay> shapr: eh?
11:50:12 <CosmicRay> Cale: not very, without lambdas
11:50:28 <shapr> I am unable to explain why first class functions are powerful on #plone because my reasoning is completely foreign to the users there.
11:50:38 <CosmicRay> heh
11:50:53 <shapr> http://c2.com/cgi/wiki?BlubParadox
11:51:08 * musasabi goes to spy the discussion
11:51:27 <shapr> musasabi: the discussion was over hours ago, it was very short too.
11:51:29 <Cale> shapr: I (quite surprisingly!) had similar issues with someone on #lisp, who didn't quite understand why I'd ever want the identity function.
11:51:38 <musasabi> shapr: ah.
11:51:59 <CosmicRay> heh
11:52:00 <shapr> <limi|moving> shapr: but as Guido points out, they can be replaced with a nested function <limi|moving> lambdas just obfuscate things <shapr> lambdas can clarify rather than obfuscate. If you use a piece of code like modular wiring, then a lambda shows the shape of the wires you're using.
11:52:01 <Cale> (or constant functions, too)
11:52:10 <musasabi> Cale: well you can do CL programming without understanding anything about FPLs.
11:52:16 <shapr> <shapr> I think that Guido should fix the FP bits of python rather than remove them. I think they would be much nicer if they weren't so hard to use. But that's just my opinion.  <limi|moving> well, you have Haskell ;)
11:52:54 <shapr> hej bringert
11:53:02 <bringert> hej shapr
11:53:15 <musasabi> actually I think most people who do use CL don't use it as a FPL.
11:53:18 <Cale> Yeah, I've started to notice that CL isn't terribly functional-friendly, in that you have to apply funcall or apply just to use functions that you've passed as parameters.
11:53:43 <bringert> shapr: have I shown you the GF translation quiz demo with the stoneage grammar?
11:53:47 <Cale> (which can get sort of awkward)
11:54:06 <shapr> bringert: no, but I've grabbed the darcs repo you created. You said it's in there, right?
11:54:12 <bringert> right
11:54:38 <CosmicRay> Igloo: is there anything else I can do to help troubleshoot the alpha building problem?
11:54:48 <shapr> When I have some spare time that's not taken up with decompressing, I'll try it out.
11:55:10 <bringert> lots of gunzipping going on?
11:55:23 * shapr snickers
11:55:35 <musasabi> Igloo/CosmicRay: do you have an alpha box for testing? (I could setup something up if you need)
11:55:56 <shapr> bringert: ok, does depressurizing sound better?
11:56:39 <shapr> I think I have the svenska national provet imorgon, and I just heard about it. I wonder what I should study...
11:57:50 <musasabi> en/ett (no I don't really know what those exams are about)
11:59:25 <bringert> shapr: you should do the translation quiz :-)
11:59:32 <bringert> no just kidding
11:59:38 <bringert> dunno if it will help you
12:02:59 <shapr> It's a good idea.
12:03:55 <bringert> I've updated the darcs repo to the latest CVS
12:03:58 <shapr> Oh, I had a build problem. I ran configure with --no-java but it still tried to do "target 1.4 -source 1.4 java/*.java"
12:04:02 * shapr updates
12:04:10 <bringert> hmm
12:04:11 <bringert> yes
12:04:23 <bringert> is there a --no-java option?
12:04:44 <shapr> er, --with-java maybe?
12:04:49 <shapr> um, *without*
12:04:55 <bringert> there should be for sure
12:05:11 <bringert> I don't think I put a lot of work into the autoconf script
12:05:26 * CosmicRay returns
12:05:32 <CosmicRay> musasabi: I have an alpha box
12:05:36 <shapr> I used the --without-java. I don't think there's a --no-java option.
12:05:36 <CosmicRay> musasabi: are you needing an account?
12:05:42 <bringert> shapr: just do "make unix" instead of "make"
12:05:47 <bringert> that won't build java
12:05:58 <shapr> ok
12:06:01 <CosmicRay> musasabi: I can even give you an entire virtual machine.
12:06:06 <bringert> I should fix the configure script
12:07:21 <musasabi> CosmicRay: no I have an alpha @ home.
12:07:38 <musasabi> CosmicRay: I was offering the same to you ;)
12:07:43 <CosmicRay> musasabi: ah.
12:07:58 <CosmicRay> musasabi: I very much suspect that this is above my head
12:08:17 <CosmicRay> musasabi: thanks anyway :-)
12:08:53 <CosmicRay> musasabi: fwiw, linux-vserver.org runs great on alpha
12:09:43 <musasabi> I think I used a patch like that in 2001...
12:10:19 <musasabi> CosmicRay: how critical is the alpha problem from the debian perspective?
12:10:21 * shapr waits for make -j3 to chew on GF
12:10:24 <thebug> CosmicRay: does linux/alpha muck with srm at all, or is it perfectly ok to boot into linux then back to VMS ?
12:10:42 <CosmicRay> musasabi: well, ghc 6.4 doesn't build on alpha, so that will keep it out of testing
12:10:50 <thebug> (basically, I don't want to turn my 3000/700 into a linux-only doorstop)
12:10:55 <CosmicRay> musasabi: iow, it's a release-critical bug if we intend to get ghc 6.4 into the next stble release
12:11:08 <musasabi> CosmicRay: is it wanted into sarge?
12:11:15 <CosmicRay> thebug: I think you have to tweak one or two settings in srm, but it should be trivial to go back and forth
12:11:31 <thebug> thanks
12:11:36 <CosmicRay> musasabi: I'm not sure, Igloo and SyntaxNinja were discussing that.  I don't really have a strong opinion either way
12:11:44 <CosmicRay> thebug: the debian install manual should provide some info on that
12:11:55 <CosmicRay> thebug: I think there's a ostype that you have to swith from vms to unix or something
12:12:21 <thebug> ah, that's no big deal then
12:12:23 <CosmicRay> thebug: but it's been a long while since I've messed with srm.  I converted my box from AlphaBIOS to SRM some time back, set it up, and it's just worked since
12:13:01 <thebug> well, i'm not worried about alphabios, I couldn't run it if I wanted to ... my alpha is a Tru64/OSF / VMS only machine
12:13:15 <CosmicRay> that's fine, alphabios sucks anyway
12:13:36 <CosmicRay> I mean, it's powerful enough that it will blow you away if you're used to pc bioses, but it still is crap compared to srm
12:13:38 <musasabi> CosmicRay: if it is really wanted I can try to hack it, but no promises (and I don't have much free time with exams on friday and multiple ones next week)
12:13:42 <thebug> oh yeah, why I would ever want to run NT on that box is beyond me
12:13:54 <CosmicRay> thebug: I tried it once.  painfully, sickly slow.
12:14:19 <thebug> CosmicRay: which alpha model do you have?
12:14:24 <CosmicRay> not to mention there were no NT/Alpha apps that I cared to run.
12:14:30 <CosmicRay> thebug: LX164, 600MHz 21164a
12:14:38 <thebug> ah
12:14:43 <musasabi> CosmicRay: there is putty for NT/Alpha ;)
12:14:48 <thebug> a bit faster than mine
12:14:59 <CosmicRay> musasabi: there wasn't when I tried it about 7 years ago :-)
12:15:18 <CosmicRay> thebug: sorry to hear that.  it's not all that speedy itself. :-)
12:15:26 * shapr reads up on the word teetotal and discovers the Straight Edge movement.
12:15:39 <thebug> 3000/700 -> 225MHz 21064 (A?)
12:15:55 <thebug> nah, a 600MHz one would blaze through VMS
12:16:18 <thebug> I'd love to snag a PWS 600au sometime
12:17:25 <CosmicRay> heh
12:18:05 <CosmicRay> vms looks fast because it takes so long to type any command that the execution time is fast in comparison :-)
12:18:27 <CosmicRay> rm -rf * vs. DELETE /EVERYTHING /YES-I-REALLY-MEAN-IT /ALLVERSIONS *.*;* or whaetver :-)
12:18:40 <thebug> haha
12:19:02 <thebug> nah ... lies I say :)
12:19:07 <CosmicRay> hehe
12:19:12 * Narrenschiff remembers vms... dimly.
12:19:13 <CosmicRay> what's the real command?
12:19:28 <thebug> "delete *.*;*" if you Really Want Stuff Gone
12:19:39 <CosmicRay> thebug: I even have the openVMS hobbyist license for alpha from some vms users group
12:19:43 <CosmicRay> never instaleld it though
12:19:49 * shapr remembers using VMS long ago
12:19:56 <CosmicRay> really?  doesn't need any random carpal-tunnel-inducing args? :-)
12:20:13 <thebug> nah
12:20:17 <shapr> PrimeOS, now that was an incredibly insecure OS.
12:20:22 <CosmicRay> and it's recursive even?
12:20:49 <thebug> oh, not recursive for that one
12:20:59 <CosmicRay> ah ha.
12:21:04 <CosmicRay> I knew it couldn't be that easy.
12:21:47 <thebug> well, one way to just 'delete everything' would be "init <device>" ... that's the really fast way ;)
12:21:58 <CosmicRay> heh
12:22:27 <thebug> one thing that would be exceptionally nice to have in linux would be a versioning filesystem like VMS's
12:22:38 <thebug> ... if nothing else
12:23:16 <thebug> it's like CVS, but without any effort
12:23:48 <mflux> you can have snapshots
12:23:50 <CosmicRay> right
12:23:55 <humasect> darcsfs =D
12:23:57 <humasect> D:
12:23:57 <CosmicRay> there are several interesting approaches to that.
12:23:58 <mflux> with wither lvm (not efficient) or unionfs
12:24:12 <CosmicRay> one is Subversion, which exports a view via DAV, which can be "mounted" in various more-or-less-realistic ways.
12:24:36 <CosmicRay> emacs can be configured to use "~ver" similar to ";ver" in vms
12:24:38 <mflux> EMC's NAS supports automatic, periodical snapshots of each directory in the system
12:24:49 <thebug> I really don't mean snapshots at all
12:24:52 <mflux> old directories can be retrieved with syntax something like cat .snapshots/24-hours-ago/foo
12:24:59 <mflux> well, yeah, they are a bit different
12:25:02 <thebug> that's not how a versioning filesystem works
12:25:04 <CosmicRay> rdiff-backup is a different approach but still quite nice
12:25:12 <shapr> bringert: what's the name of the stoneage grammar?
12:25:15 <mflux> but plain per-file versioning might not be that great either
12:25:18 <CosmicRay> thebug: mounting subversion space is probably the closest you'll get on a *nix
12:25:19 <mflux> without tagging
12:25:33 <CosmicRay> thebug: someone did just release cvsfs for hurd though
12:25:33 <thebug> CosmicRay: is it like an NFS mount or something?
12:25:41 <mflux> clearcase also provides their data as a filesystem
12:25:45 <CosmicRay> thebug: yeah, I think there is a davfs kernel module somewhere
12:25:48 <shapr> doh, examples/stoneage maybe?
12:26:03 <thebug> well, I was looking for it as a general filesystem, not just for stuff already in CVS/SVN ... I use Katie for that already
12:26:07 <CosmicRay> thebug: it's also available as a kio plugin for kde/konqueror
12:26:14 <shapr> Hm, now I want a stoneage-inplace...
12:26:25 <CosmicRay> thebug: what's katie?
12:26:42 <thebug> CVS served up via NFS
12:26:48 <CosmicRay> ah
12:27:00 <CosmicRay> that's got to suck
12:27:09 <CosmicRay> combining a crappy network filesystem with a crappy version control system.
12:27:11 <thebug> err more or less
12:27:13 <CosmicRay> oh yeah, that's my idea of fun.
12:27:26 <CosmicRay> I shudder at what the locking semantics of that must be.
12:28:11 <thebug> well, writing it as an NFS server gets you around having to track the haphazard kernel development of Linux, where you have to rewrite your module regularly to keep it functioning
12:28:20 <CosmicRay> right
12:28:21 <mflux> thebug, you could use FUSE
12:28:29 <thebug> as to how well katie works, I'm not arguing that it's great
12:28:31 <bringert> shapr: bin/gf examples/stoneage/StoneageSwe.gf examples/stoneage/StoneageEng.gf
12:28:42 <CosmicRay> thebug: it's probably as good as it can do under the circumstances
12:28:49 <thebug> mflux: but then you're still relying on kernel modules, you're just pushing it down another level
12:29:16 <thebug> Katie iirc works fine on BSDs as well as Linux, or pretty much anything that has python + sockets
12:29:16 <bringert> shapr: tq -cat=S StoneageEng StoneageSwe
12:29:27 <musasabi> plan9 fossil + venti is an old stable way of doing it.
12:29:31 <mflux> thebug, maybe so, but fuse is already in rc1-mm1
12:29:35 <CosmicRay> thebug: does it require sun rpc libraries?
12:29:38 <mflux> (2.6.11)
12:29:55 <CosmicRay> mflux: nice
12:30:05 <thebug> I haven't poked around with it in a while, but the link appears to be http://www.netcraft.com.au/geoffrey/katie/
12:30:08 <thebug> from google
12:30:25 <mflux> also I believe fuse has a number of modules already using it
12:30:30 <CosmicRay> perhaps I should make a FUSE-to-HVFS implementation.
12:30:36 <CosmicRay> that would be sweet
12:30:42 <mflux> and even if you were further pushing it to another level, it's someone else maintaining the kernel module ;)
12:31:24 <mflux> it's a damn shame that nfs is the only cross-unix method for creating user space filesystems
12:31:27 <thebug> mflux: I actually like the idea of serving it over NFS, because then it's not tied directly to Linux
12:31:41 <mflux> thebug, well, yeah, but nfs has its share of problems
12:32:00 <mflux> that's how its currently done by some projects, such as cfs
12:32:02 <thebug> I'm not disagreeing with that, but it's more cross platform than just writing a FUSE module ;)
12:32:09 <mflux> but for example cfs has serious performance problems
12:32:22 <mflux> (like too much io causing it to stall/nfs-timeout etc)
12:32:30 <mflux> but maybe its only cfs' fault
12:32:54 <mflux> thebug, you could just write a thin layer which would allow you to write the nfs-server later if you want ;)
12:33:15 <CosmicRay> hmm.
12:33:18 <CosmicRay> python has a fuse binding.
12:33:23 <CosmicRay> this is just begging for a haskell binding.
12:33:36 <CosmicRay> then I could finally achieve my objective:
12:33:44 <CosmicRay> gopherspace as a mountable filesystem! :-)
12:33:53 <mflux> ocaml apparently has fuse-bindings too
12:34:13 <thebug> CosmicRay: not sure whether that was facetious or just twisted
12:34:20 <CosmicRay> mflux: the bastards!
12:34:21 <mflux> (or such of alpha-quality exist for ocaml)
12:34:21 <thebug> heh
12:34:40 <CosmicRay> thebug: not facetious, for sure :-)
12:34:59 <CosmicRay> thebug: twisted, quite possibly, though I was at one time goign to port pygopherd to twisted, but discarded that effort
12:35:08 <CosmicRay> <-- gopher evangelist
12:36:01 <SyntaxNinja> down with ocaml!
12:36:11 * SyntaxNinja hopes that sounded like a battle cry
12:36:31 <thebug> CosmicRay: I used gopher a whole lot before www/html became big
12:36:41 <CosmicRay> me too
12:37:51 <CosmicRay> oh, and fuse is based on callback functions too.
12:38:04 <CosmicRay> nice nice nice.
12:40:35 <shapr> thunkee: who'd uh thunk?
12:40:40 * Lemmih looks at the Cabal code and has no idea why it does what it does.
12:41:02 <CosmicRay> Lemmih: that's why it's Cabal, of course!
12:41:14 <CosmicRay> MegaMonad: are you the cabal?
12:41:14 <MegaMonad> CosmicRay: I seem to work :), do i load it into a martial art would mean i had some problems making cabal handle multiple versions of show, for string/html/etc.
12:41:32 <shapr> bringert: thanks!
12:42:09 <shapr> bringert: ah, this is nice.
12:42:12 <thebug> CosmicRay: I'm looking at the u9fs stuff ... that may be a sane way to do this
12:42:24 <thunkee> shapr: hmm? just listening because im interested in haskell
12:42:54 <shapr> thunkee: neat nickname, does it mean no one has ever evaluated you?
12:43:58 <CosmicRay> thebug: by "this" do you mean versioning?
12:44:08 <thebug> yep
12:44:08 <thunkee> shapr: just a silly nick from older times ;)
12:44:21 <musasabi> CosmicRay: plan9 has had that for >10 years.
12:44:22 <thebug> sorry for leaving out context
12:44:38 <CosmicRay> musasabi: interesting.  I've never rnu p9 but I know it has a lot of interesting ideas
12:44:41 <Muad_Dibber> shapr: you been posting something about aspect oriented monads or something?
12:45:00 <shapr> Muad_Dibber: if you're talking about what I wrote on LtU, then yes.
12:45:20 <Muad_Dibber> shapr: i have no idea hwere it was
12:45:25 <Muad_Dibber> and forgot what exactly it was
12:45:37 <Muad_Dibber> just remembered seeing your nick :P
12:46:19 <shapr> c'est moi, http://lambda-the-ultimate.org/node/view/567
12:46:29 <shapr> har du nÃ¥n frÃ¥gor?
12:46:42 <shapr> avez vous question?
12:46:49 <shapr> hebt u.. oh never mind :-)
12:47:39 <shapr> bringert: yay, I'm learning stuff already!
12:48:40 <musasabi> CosmicRay: well it has lots of very nice technical solutions but the community is not very diplomatic...
12:48:41 <bringert> shapr: hehe, don't trust it to much
12:49:03 <bringert> mountains don't actually eat small green dogs
12:49:12 <det> shapr, did you learn Finnish after moving to Finland?
12:49:13 * shapr snickers
12:49:32 <shapr> det: MinÃ¤ en puhu suomea!
12:52:22 <det> shapr, evil.
12:54:03 <musasabi> yes, utf-8.
13:05:08 <lightstep> how do recursive modules work?
13:05:57 <SyntaxNinja> lightstep: http://web.mit.edu/ghc/www/users_guide/separate-compilation.html#MUTUAL-RECURSION
13:20:56 <Oejet> Slow night, eigh?
13:26:37 * Lemmih got lots of things he want to talk about.
13:27:48 <Lemmih> But I doubt people are interested in hearing them.
13:32:53 <Oejet> Lemmih: I agree.
13:34:08 <SyntaxNinja> MegaMonad: what is Lemmih talking about?
13:34:08 <MegaMonad> SyntaxNinja: Lemmih: can i pick examples from earlier testing that i have only seen it before, when you hear me talking about the funmath system talking.
13:35:18 <Lemmih> MegaMonad: How many newbies have you tricked to believe you were a real person?
13:35:18 <MegaMonad> Lemmih: I have you tricked to believe that a c string to the haskell solution is easier to avoid manual polling.
13:36:16 <Oejet> MegaMonad: Nobody wants to hear you talk either.
13:36:17 <MegaMonad> Oejet: Url me on the haskellpastepage, do you talk either.
13:36:55 <Oejet> MegaMonad: I certainly wont url you on the haskellpastepage.  How rude.
13:36:55 <MegaMonad> Oejet: Had an url in the io monad only if you both have to actually work on the haskellpastepage.
13:37:15 <XTL> MegaMonad: Both who?
13:37:15 <MegaMonad> XTL: To wrap it in  do { ... }  ?
13:37:42 <XTL> MegaMonad: Can I lift that, too?
13:37:42 <MegaMonad> XTL: Dons, are you related to gtk2hs clean/distclean targets are way too narrow field of a book "i've thought of it isnt you have a package file and you can lift a value with that lambda abstraction.
13:37:47 <Lemmih> MegaMonad: do { Both who? }
13:37:47 <MegaMonad> Lemmih: 'A') (branch (0,'b') leaf leaf) (branch (2,'c') leaf (branch (3,'d') leaf leaf.
13:37:57 <Lemmih> oh.
13:38:51 <CosmicRay> heh
13:41:15 * Lemmih has mixed feelings for Haste. (haste.dyndns.org:8080)
13:49:32 <Oejet> Prelude Data.Bits> bitSize (4::Integer)
13:49:33 <Oejet> *** Exception: Data.Bits.bitSize(Integer)
13:50:31 <Oejet> Why does that happen.  Integer is an instance of Bits.
13:52:38 <Lemmih> Integer is unbound?
13:52:41 <musasabi> Oejet: what do you think that *should* return?
13:52:52 <TheHunter> http://haskell.org/ghc/docs/latest/html/libraries/base/Data.Bits.html#v%3AbitSize
14:07:29 <Oejet> TheHunter: I am persuaded by your subtle reminder for me to read the description again. Thanks. ;-)
14:12:28 * boegel sniffs
14:12:52 <Oejet> I am looking for a data structure for representing finite sets of sizes ~10^6.  Maybe an unboxed Word32 array?
14:13:44 <Oejet> *size
14:29:32 <boegel> it's _really_ quiet in here again
14:30:29 <XTL> Some people seem to go silent for a part of the day at a time. Odd, that.
14:34:39 <xerox> Someone once said that this moment means people is actually doing something useful.. :D
14:34:40 * Lemmih is trying to grok alpha blending in OpenGL but it's not going very well.
14:35:09 * XTL is just reading and drinking tea
14:37:17 * boegel is trying too keep busy until he's tired enough to go to be
14:37:18 <boegel> +d
14:44:25 <Lemmih> I've posted some malfunctioning code on the wiki for the overly interested souls.
14:46:14 <boegel> Lemmih: what's wrong with it ?
14:48:15 <Oejet> Good night.
14:49:37 <bringert> haskell on /. again
14:49:45 <bringert> pugs to be specific
14:52:03 <Lemmih> I'm trying to draw the last object under the first (translating z to -1). Half of background.png is fully transparent (pink, 0xff00ff) but the second texture disappears when it goes under the first (it should have been visible through the transparent part of the first texture).
14:52:18 <araujo> bringert, link?
14:54:09 <boegel> Lemmih, first you say half of bg is transparent, then you say it's pink ?
14:55:37 <Lemmih> It is pink but I'm setting pink to be transparent (setSurfaceColorKey).
14:55:44 <bourbaki> :)
14:55:47 <boegel> does anyone know how tmr2 is going along ? are there enough authors for a second release of tmr ?
14:55:56 <boegel> Lemmih: oh:)
14:56:35 <lightstep> bringert, i can't find it
14:57:09 <Lemmih> Will there even be a tmr2 now when shapr have left the fighting ranks?
14:57:51 * lightstep found a link: http://it.slashdot.org/article.pl?sid=05/03/16/2151205&tid=145&tid=8
14:58:02 <boegel> Lemmih: shapr has left ?
15:00:13 <Lemmih> He apparently has urgent work for the next 2-4 weeks.
15:01:17 <boegel> Lemmih: oh, that's a shame... I think postponing tmr2 wouldn't be a good thing for it
15:01:51 <Lemmih> Midnight! Time to get my ninja gear and go unicycling. (I'm beginning to understand why some people think I'm weird)
15:02:01 <boegel> heh
15:02:18 <boegel> I'm still trying to get peace of mind before I go to bed
15:02:29 <boegel> but I'm starting to believe I won't succeed in it
15:02:33 <boegel> so I'll go to bed anyway
15:03:03 <boegel> g'night
15:03:04 <Lemmih> Sleep tight.
15:16:53 <humasect> it even links to TMR... almost
16:05:00 <desrt_gabriel> shapr; ?
16:30:57 <TerryHatc> can anyone help me - i have a list of strings which contain filenames, and i want to load them all in and return the contents in those files - how would i do that??
16:32:20 <Lemmih> TerryHatc: Checkout mapM and readFile.
16:32:23 <TerryHatc> with readIt :: [String] -> IO [([String])]
16:33:00 <Lemmih> @type readFile
16:33:07 <lambdabot> readFile :: FilePath -> IO String
16:33:11 <Lemmih> @type mapM
16:33:12 <lambdabot> mapM :: forall b m a. (Monad m) => (a -> m b) -> [a] -> m [b]
16:33:38 <Lemmih> @type mapM readFIle
16:33:39 <lambdabot> bzzt
16:34:02 <Lemmih> @type (mapM readFIle)
16:34:03 <lambdabot> bzzt
16:34:09 <Lemmih> @type mapM readFile
16:34:11 <lambdabot> mapM readFile :: [FilePath] -> IO [String]
16:34:15 <TerryHatc> thanks
16:34:17 <SyntaxNinja> @type mapM . readfile
16:34:18 <lambdabot> bzzt
16:34:25 <Lemmih> SyntaxNinja: huh?
16:34:26 <SyntaxNinja> whatever
16:35:14 * Lemmih has a nagging feeling that he has broken something in Cabal.
16:36:12 <SyntaxNinja> TerryHatc: there's a basic example of 'cat' here: http://blog.syntaxpolice.org/isaac/index.cgi/technology/yourHaskell05.html
16:36:26 <SyntaxNinja> instead of sequence (map readfile) you could use mapM readfile
16:36:29 <SyntaxNinja> Lemmih: what do you mean?
16:36:54 <TerryHatc> thankyou :)
16:38:29 <Lemmih> I deleted the code which caused sdist to drop the two first letters of filepaths.
16:39:44 <Lemmih> But I'm not sure why the code was there in the first place.
16:41:17 <SyntaxNinja> Lemmih: what did it look like?
16:43:41 <Lemmih> Utils.hs function 'smartCopySources' in the sourceLocsNoPref let binding.
16:44:24 <Lemmih> It was supposed to drop a prefix but dropping the "." prefix of "Some/Library.hs" via drop gives "me/LIbrary.hs".
16:45:37 <Lemmih> (It drops the length of the prefix + 1)
16:47:10 <Lemmih> A 'breakPath :: FilePath -> [String]' would be desirable for this.
16:55:47 <SyntaxNinja> don't we have one?
16:55:57 <SyntaxNinja> strange.
16:56:16 <SyntaxNinja> well, smartCopySources is used all over the place, so if your change is in there, it might break stuff
17:08:10 <Lemmih> SyntaxNinja: I hacked up a 'breakPath' and 'stripPrefix' which smartCopySources is now using.
17:09:41 <humasect> will there be a release of gtk2hs windows package for 6.4?
17:09:48 <humasect> (current version of gtk2hs)
17:10:02 <SyntaxNinja> dono
17:10:14 <SyntaxNinja> Lemmih: stripPrefix is just to kill the . and .. ?
17:10:23 <SyntaxNinja> and wasn't there something in FilePath to do that breakPath thing?
17:10:25 <humasect> it should install using the existing GTK+ package for windows ^_^
17:11:12 <Lemmih> SyntaxNinja: I defined 'breakPath' via 'splitFilePath' and 'stripPrefix' does more than that.
17:11:35 <AntyDesk> nas
17:11:37 <Lemmih> stripPrefix "/usr/bin" "/usr/bin/ls" == "ls"
17:11:40 <Lemmih> stripPrefix "/usr/bin/" "/usr/bin/ls" == "ls"
17:11:56 <Lemmih> ^^ _A lot_ better than length+drop (:
17:12:42 * Lemmih renames to breakFilePath and dropPrefix.
17:21:55 <Lemmih> SyntaxNinja: I just rebuild my SDL binding and it appears to work.
17:26:53 <SyntaxNinja> Lemmih: mail me the patch?
17:27:21 <SyntaxNinja> Lemmih: I can run it against my test suite
17:28:32 <SyntaxNinja> Lemmih: so what was it trying to do? get the executable?
17:30:05 <Lemmih> huh?
17:31:15 <Lemmih> Sent.
17:33:32 <Lemmih> It drops a prefix of source files by dropping the length of the specified prefix. Which is wrong since the prefix can be "."
17:35:36 <Lemmih> SyntaxNinja: What's your email again?
18:25:15 <beschmi> hi
18:58:44 <Lemmih> beschmi: Hey.
19:03:33 <stepcutHM> hoo-ray for ram!
19:04:07 * stepcutHM now has 640 MB instead of 128 :)
19:04:16 <Lemmih> Woot!
19:04:25 <stepcutHM> I can build wash without destroying my harddrive
19:04:34 <dons> now you can build ghc on a ram disk!
19:05:16 <stepcutHM> dons: dunno about that -- at one point in the build ar consumes 600-700MB of memory
19:05:56 <dons> argh!
19:06:01 <dons> damn splitObjs
19:06:49 <Igloo> What's ar actually doing, anyway?
19:06:53 * Lemmih hugs his desktop with 1G DDR ram.
19:07:07 * Cale has 1GB of ram too.
19:07:07 <Igloo> I can't think why it needs to hold lots of stuff in memory
19:07:12 <stepcutHM> Igloo: dunno, making .a files I would guess
19:07:15 <wagle> building .a libs?
19:07:30 <metaperl> Cale, can you add an email address to the wiki?
19:07:34 <stepcutHM> as dons proclaimed, it is probably related to splitObjs
19:07:39 <metaperl> or then again, you might get a lot of spam if you do
19:07:40 <Cale> metaperl: for me?
19:07:45 <metaperl> yes,
19:07:49 <Igloo> But it's essentially a slightly fancy concat isn't it?
19:07:52 <Lemmih> Igloo: Maybe it's using a lazy list of 32bit chars to hold binary data (:
19:07:56 <metaperl> just in case I have some questions about the MonadsAsContainers
19:08:00 <Cale> okay
19:08:09 <Igloo> Or does ar have extra magic for lib making?
19:08:32 <Igloo> Lemmih: If they're lazy, why isn't it working in constant space?  :-)
19:08:32 <dons> there's got to be some extra magic in there, surely.
19:08:43 <shapr> I want more magic!
19:08:46 <SeePlusPl> hi could anyone tell me how to convert an Int to a String?
19:08:49 * Igloo thought magic was forked out to ranlib
19:08:59 <Igloo> show
19:09:02 <wagle> indexing
19:09:23 <dons> do we use ar q ?
19:09:26 <SeePlusPl> ahh cool thanks
19:10:02 <Igloo> Indexing ought to be easy given no compression is going on (if I'm wrong about that then that explains my misunderstanding, though)
19:10:25 <dons> no q with splitobjs, it seems.
19:10:29 <Igloo> (well, gives a more reasonable excuse at least  :-)  )
19:11:51 <Igloo> ar q is used here
19:12:41 <Igloo> Then end of such a command is    Text/Show/Functions_split -name '*.p_o' -print) | xargs /usr/bin/ar q libHSbase_p.a
19:12:52 <dons> ah. ok.
19:13:01 <dons> I saw:  xargs $(AR) $@
19:13:03 <Igloo> I have "checking for ar arguments... q" in configure just after ar is detected
19:13:17 <Igloo> It might be put in $(AR) then
19:13:55 <dons> well maybe it just sucks. too bad for that guy wanting to build on a 64M laptop this week.
19:14:49 <dons> maybe invoking it repeatedly with xargs has some penalty over a single invocation with multiple args
19:15:22 <Igloo> Well, xargs will put as many as possible in at once
19:15:50 <dons> ok.
19:16:28 <Igloo> -M allows you to control it via stdin, so if that's the problem that might be a solution
19:17:58 * Igloo suspects a file at a time would be best memory wise, though, but very slow
19:33:21 <Lemmih> Cale: Bored? (:
19:34:16 <Cale> heh
19:34:33 <Cale> watching recentchanges?
19:34:38 <Lemmih> Yep.
19:36:08 * Igloo raises an eyebrow
19:53:15 <tmoertel> isn't "ar q" the same as "ar r" for GNU ar?
19:53:42 <dons> yes
19:54:15 <dons> "too  many different systems assume quick append rebuilds the index, so GNU ar implements q as a synonym for r."
20:05:10 <wagle> woo: Commit by gwright :: proj/darwinports/dports/lang/ghc/ (Portfile files/patch-configure.ac):
20:05:13 <stepcutHM> is there a cool trick to generate the list of exposed-modules to put in a package config file ?
20:05:14 <wagle> Version bump to 6.4.
20:07:44 <wagle> huh..  theres a new hugs too?
20:07:57 <Igloo> There's a new veerything
20:08:38 <dons> 'cept hbc/hbi :}
20:08:47 <dons> is hbc in debian?
20:08:52 <Igloo> No
20:09:01 <Igloo> Hence it obviously can't be part of everything  :-)
20:09:19 <dons> hehe
20:09:25 <dons> typical ;)
20:09:29 <Igloo> Do the BSDs have it?
20:09:51 <CosmicRay> is there any point to using hbc anymore?
20:09:56 <dons> nope. but I should port it.
20:10:05 <CosmicRay> I thought it was pretty much obsolete
20:10:12 <dons> Welcome to interactive Haskell98 version 0.9999.5c Pentium 2004 Jun 29!
20:10:12 <dons> Loading prelude... 1 values, 4 libraries, 200 types found.
20:10:12 <dons> Type "help;" to get help.
20:10:12 <dons> > let x = 1 + 2 in x;
20:10:19 <dons> 3
20:10:26 <Igloo> Malcolm and Sven (I think) did an update not long ago, I think
20:10:32 <dons> yeah, last June
20:10:39 <dons> Jun 28 I think
20:10:40 <Igloo> I wonder if it's more portable than nhc98...
20:10:53 <CosmicRay> hmm, that is a good question
20:10:54 <dons> well, you can compile nhc98 with it, which is interesting.
20:11:18 <CosmicRay> I find it ironic that ghc is more portable than nhc98
20:11:18 <dons> we should really get it in to the ports system anyway.
20:11:28 <Igloo> Yeah  :-(
20:11:31 <CosmicRay> dons, what bsd are you affiliated with?
20:11:35 <dons> OpenBSD
20:12:00 <CosmicRay> ah, well I will just suppress the immediate urge to make snide remarks about theo then :-)
20:12:01 <Igloo> hbc will be further behind on extension, and thus work with fewer libs, though, I assume
20:12:16 <dons> oh, theo's alright. even rms gave him a prize.
20:12:26 <dons> he's a bit scary if you screw up a commit though :}
20:12:37 <Igloo> What prize?
20:12:48 <CosmicRay> dons: or if you happen to ask about netbsd on a netbsd users list in 1995, as I did
20:13:02 <Igloo> Is Theo in the no-GPL-for-us-thanks camp?
20:13:02 <dons> yeah - we don't talk about that :}
20:13:06 <CosmicRay> hehe
20:13:23 <dons> theo won the FSF Free Software Award this year.
20:13:38 <CosmicRay> dons: I was a complete *nix newbie at the time, just asking some on-topic netbsd questions.  theo started a massive netbsd vs. openbsd flamewar, and both sides CC'd me on everything.
20:13:48 <dons> yikes!
20:13:50 <wagle> hahahahaaha
20:13:55 <dons> I think he's mellowed a lot though.
20:13:56 <CosmicRay> dons: then, about three months later, he sent me a form e-mail saying that he still hates me, and I'm now in his killfile.
20:14:05 <dons> argh.
20:14:08 <stepcutHM> haha
20:14:16 <CosmicRay> dons: for about 3 years after that, I'd get another automated e-mail from him every 6 months, reminding me that I'm still in his killfile
20:14:31 <CosmicRay> I should try e-mailing him today.  Wonder if 10 years would have removed me :-)
20:14:31 <dons> oh wow. that's pretty harsh.
20:14:40 <CosmicRay> yeah but it's good for a laugh :-)
20:14:42 <wagle> pretty silly
20:14:57 <CosmicRay> I never had the notion to e-mail him anyway :-)
20:15:24 <stepcutHM> heh, wash has a special tool to generate input files for ghc-pkg, but now the format is all different :)
20:15:27 <CosmicRay> anyway, that discussion drove me to freebsd back then :-)
20:15:48 <wagle> "Dear Theo -- I miss your killfile notifications.  Could you put me back on?  Thanks!"
20:15:52 <CosmicRay> hahaha
20:15:56 <dons> hehe.
20:16:27 <CosmicRay> really, openbsd has done some good things, like openssh for one, and pounding auditing into everyone's head
20:17:35 <CosmicRay> otoh it seems like there is also a certain amount of posturing going on; how the "no holes since" note keeps getting more restrictive, and if you yanked everything useful out of the default debian install, it would be about as secure :-)
20:18:15 <dons> oh well, it's hard to get heard out there, so I don't have a problem with the slogan.
20:18:24 <dons> people remember it.
20:18:54 <halcyon10> hi, is there something i can do about the following Hugs-Error-message? 'ERROR - C stack overflow'
20:19:09 <CosmicRay> yeah, upon checking the page, it seems to be toned down these days
20:19:18 <Igloo> You're probably recursing infinitely
20:19:20 <CosmicRay> it used to be a generic sort of anti-netbsd anti-linux thing :-)
20:19:30 <halcyon10> Igloo: no, just very deep
20:19:43 <Igloo> Ah
20:19:48 <CosmicRay> so uhm, let me just ask you, does openbsd have any cool stuff that netbsd doesn't these days?
20:19:51 <CosmicRay> (honest question)
20:20:07 <CosmicRay> about once a year, I try netbsd and gentoo again, just to see what they're up to
20:20:10 <dons> it has propolice by default in gcc, used in the kernel and all userland.
20:20:25 * Igloo doesn't know, then
20:20:32 <CosmicRay> nice
20:20:37 <halcyon10> :|
20:20:48 <dons> it runs ghc on 3 archs, which netbsd doesn't ;)
20:20:58 <CosmicRay> heh
20:21:03 <Igloo> :-)
20:21:08 <CosmicRay> that's sad on netbsd's part
20:21:14 <dons> despite Lennart being a netbsd kernel hacker.
20:21:18 <CosmicRay> dons: aren't you ashamed that debian runs it on more archs? :-)
20:21:48 <dons> does it? I guess it does these days. but portability is really for netbsd, security is more openbsd.
20:22:19 <CosmicRay> dons: it does as long as the ftpmasters don't get their way :-)
20:22:27 <dons> let me see, there's around 20 archs getting built for openbsd now.
20:22:33 <Igloo> We have it on 9, including amd64
20:22:43 <CosmicRay> we have it on ...
20:22:43 <CosmicRay> yes.
20:22:48 <CosmicRay> what he said :-)
20:22:59 <dons> you guys have a good infrastructure I think.
20:23:02 <Igloo> I think only 2 are registerised currently, but that should become 4 soon
20:23:11 <dons> i have to pester individual hackers to get access to boxes
20:23:15 <CosmicRay> that probably equates to more than 9 archs in openbsd, though; as I recall, net/openbsd count archs differently than linux
20:23:31 <dons> yeah, around 5 of them are m68k
20:23:37 <CosmicRay> heh
20:23:46 <dons> but there's things like mips64 and zaurus
20:23:52 <dons> and vax.
20:24:02 <Igloo> We mostly do, and I think things will get better soon. But currently all the Debian alpha boxes are broken, for example
20:24:02 <CosmicRay> yeah, no debian for vax.
20:24:13 <CosmicRay> zaurus is covered by our arm arch (and I have debian on my zaurus even)
20:24:23 <CosmicRay> Igloo: yeah that sucks
20:24:45 <dons> sgi, 88k, cats. we pick up some of the netbsd archs - but no playstation yet :(
20:24:55 <CosmicRay> heh
20:25:07 <CosmicRay> I think it would be kick-ass to put a *nix on a vax.
20:25:13 <Igloo> Fortunately this gives me a better excuse to appeal to our alpha users for fixes  :-)
20:25:16 <CosmicRay> unfortuantely, I don't think I have a door large enough to get one in my house.
20:25:32 <CosmicRay> Igloo: this situation just gets worse and worse :-)
20:25:40 <Igloo> heh
20:26:02 <Igloo> What's the playstation based on?
20:26:12 <dons> it's a mips, isn't it?
20:26:30 <dons> http://www.netbsd.org/Ports/playstation2/
20:27:42 <Igloo> Ah, yup
20:28:18 <dons> so we could do the ghc port...
20:30:49 <Igloo> Do you know if the BSDs have the multigot/xgot stuff that Linux does on mips(el)?
20:31:13 <dons> don't know. haven't had access to such a machine. just an irix one - which does.
20:32:42 <dons> so, we should have a look at hbc/hbi again I think.
20:33:11 <dons> I think it requires a binary bootstrap.
20:33:22 <dons> hmm, though maybe nhc98 would do
20:34:27 * stepcutHM is exciting for cabal largely because wash continues to be such a pain to install
20:35:43 <CosmicRay> ... and use :-)
20:39:40 <halcyon10> Igloo: ghc seems to be more forgiving than Hugs regarding the stack :)
20:40:35 <stepcutHM> cripe, I forget to add the exposed-modules :-/
20:40:37 * stepcutHM goes to bed
20:42:59 <halcyon10> oh boy, just when i speak of ghc's stability it gives me a stack overflow, too :(
20:43:53 <Igloo> You can increase ghc(i)'s stack - the error should tell you how
20:46:09 <Lemmih> You should probably file a bug report if GHC blows the stack in non-interactive mode.
20:46:20 <halcyon10> sadly it just says: '*** Exception: stack overflow'  but i'll find out about the command-line-option to set the stacksize.
20:46:38 <halcyon10> Lemmih: at the moment i am in interactive mode. is this a drawback?
20:47:26 <halcyon10> i mean, perhaps it will not be as fast as a compiled program, but should it throw stack-overflows earlier?
20:47:39 <Lemmih> Well then it's your code and not GHC which is unstable.
20:48:07 <halcyon10> my code isn't unstable, it's just demanding =)
20:48:25 <Lemmih> Same thing at times.
20:48:52 <halcyon10> hm, perhaps you're right..
21:03:19 <Igloo> Should this be a correct implementation of copy from i to o regardless of any charset issues? import System.IO; main = do hi <- openBinaryFile "i" ReadMode; xs <- hGetContents hi; ho <- openBinaryFile "o" WriteMode; hPutStr ho xs; print xs
21:12:33 <Igloo> Hmm, it seems mapM_ (hPutChar ho) /= hPutStr ho
22:00:23 <musasabi> morning
22:05:47 <Igloo> Hi
22:05:57 <Igloo> Anyone here with a non-Debian ghc 6.4?
22:07:02 <Pseudonym> I can very quickly.
22:07:24 <Igloo> Can you give me the output of this please?   echo 'import System.IO; main = do h <- openBinaryFile "o" WriteMode; hPutStr h "\128"' > run.hs; runghc run.hs; ls -l o
22:09:42 <Pseudonym> Just a moment.
22:09:45 <Pseudonym> Still downloading.
22:09:49 <Pseudonym> It's FC3, by the way.
22:11:18 <musasabi> Igloo: yes.
22:11:31 <musasabi> on gentoo.
22:11:58 <musasabi> on the redhat derived machines I have 6.3.x
22:12:25 <Pseudonym> -rw-rw-r--  1 ajb ajb 0 Mar 17 17:14 o
22:12:37 <Igloo> Thanks
22:13:09 <musasabi> slashdot seems to mention haskell more and more but sadly they have problems getting elementary facts right.
22:13:29 <musasabi> "They're still working on it, and it looks like it's going to be pretty impressive when it's done. But they're writing it in C, which is great for fast code but very bad for rapid development. This is written in Haskell, and therefore has the opposite characteristics: the interpreter is apparently about 100 times slower than Perl5, but on the other hand they developed a working interpreter from scratch in one week."
22:13:35 <musasabi> from the pugs article.
22:14:02 * musasabi wonders why people have trouble learning first things and only after that writing about them
22:14:25 <dons> huh.
22:16:18 <dons> I think there is also plenty of room for improving the speed of pugs - it's doesn't do many of the usual interpreter speed tricks - it's more proof of concept, right?
22:17:03 <musasabi> yes.
22:17:36 <musasabi> But still I wonder where people get the haskell = slow myth.
22:18:40 <dons> it's bizarre. maybe because people thing haskell = hugs interpreter.
22:18:52 <dons> or gofer circa 94
22:19:33 <dons> hehe. there's also a reason there are no compilers the size of ghc written in p5.. :)
22:22:47 <Pseudonym> I think it's because C translated into Haskell is dog slow.
22:23:14 <Pseudonym> You know it's true.
22:23:22 <Igloo> haskell = slow isn't a myth if you want to write beautiful IO or String heavy code
22:23:31 <Pseudonym> This is true.
22:23:38 <dons> yeah yeah. grumble. maybe not dog slow though.
22:23:49 <Pseudonym> Strings and I/O I think need to be junked in Haskell, and replaced with something decent.
22:23:59 <dons> strings are a problem for sure.
22:24:04 <dons> much documented.
22:24:05 <Lemmih> IO is slow?
22:24:05 <Pseudonym> String = [Char] is good if you're a first-year undergraduate.
22:24:19 <Pseudonym> But it's not if you're trying to write darcs.
22:24:32 <Igloo> I think simple copy in perl vs Haskell was somewhere between 1 and 2 orders of magnitude different in speed
22:24:35 <dons> yi too.
22:24:41 <dons> [Char] = [Death]
22:24:45 <Pseudonym> Right.
22:24:45 <musasabi> IO is not slow.
22:24:52 <musasabi> Strings are.
22:25:02 <Pseudonym> Good point.
22:25:12 <Pseudonym> I/O is just badly designed, not slow.
22:25:23 <Igloo> Beautiful code + IO = Strings, though
22:25:30 <dons> it's designed well for teaching.
22:25:43 <musasabi> btw network-alt beat some of my earlier C network code because it is so much easier to write abstractions ni haskell ;)
22:25:51 <dons> that's cool.
22:25:54 <Igloo> Well, I guess you could probably abstract out the nasty bits, but they'd still be there, lurking beneath
22:26:01 <Lemmih> Pseudonym: As in the implementation of the IO monad or the standard libraries?
22:26:12 <musasabi> *in
22:26:35 <Pseudonym> As in the standard libraries.
22:27:45 <Pseudonym> Anyway, gotta go.
22:27:47 <Pseudonym> Nytol!
22:28:11 <Igloo> 'night
22:29:01 <dons> Pseudonym leaves, that means Igloo is doing an all nighter, I think
22:29:23 <Igloo> I got up 3 or 4 hours ago
22:29:27 <dons> hmm 6.30 GMT hehe
22:29:42 <ibid> morning all :)
22:30:09 * Igloo has been ill and got bored of not being able to sleep, so I've been hunting bugs to try to spread the misery
22:30:31 <dons> @karma+ Igloo
22:30:32 <lambdabot> Igloo's karma has been incremented.
22:30:54 <ibid> incremental karma?
22:31:15 <dons> stateful karma, too.
22:31:42 <ibid> impure karma, then
22:31:47 <ibid> or is it in a state monad?
22:32:16 <dons> IORef.
22:32:39 <ibid> which reminds me
22:33:36 <ibid> i love how the transactional memory paper explains that missiles cannot be accidentally launched twice due to implicit restarts because launchMissiles has type IO ()
22:33:39 <ibid> :)
22:34:03 * Lemmih wonders how much overhead where would be if IO functions used a String class instead of [Char].
22:34:33 <dons> presumably we could specialise them to bits, like in the Array types.
22:34:35 <ibid> probably depends on how much the string methods could be inlined
22:35:22 <Lemmih> I'm mostly concerned with code bloat.
22:36:05 <Igloo> Do you mean source code size or compiled size?
22:36:15 <Lemmih> Compiled size.
22:36:54 <Igloo> It shouldn't be any worse if all your functions used a specific instance, should it?
22:38:18 <Lemmih> Wouldn't it double the size if you use CString and other libs/functions uses [Char] for some overloaded function?
22:38:55 <Igloo> By "a" I meant "the same"
22:39:17 <Igloo> Except for errors, I doubt many libraries use strings you don't either give to them or take from them
22:39:48 <Igloo> But I guess libraries would also need to specialise for the common types
22:41:26 * Lemmih tries it.
22:41:59 <musasabi> Lemmih: that is quite undesirable really.
22:42:19 <Lemmih> How so?
22:42:50 <musasabi> Because 1) putStrLn "foobar" would result in type errors (or need new defaulting mechanism) 2) defining typeclass instances for strings would be impossible,
22:43:48 <ibid> the potential problem is that if there are many layers of code between the call site where the concrete string implementation is known and the actual places where the methods are called, specialization may end up generating a lot of code
22:44:24 <musasabi> Using a single more optimized string implementation should do fine in most cases.
22:44:41 <Lemmih> musasabi: One could handle it like Show is defined for strins.
22:44:44 <Lemmih> *strings
22:45:12 <musasabi> Lemmih: but that is a hack.
22:45:39 <musasabi> of course with overlapping instances one could just define instance StringClass a => Foo a ...
22:47:45 <Lemmih> How is it a hack?
22:48:22 <musasabi> Lemmih: needing a special case just for strings in typeclasses is not a very clean solution.
22:49:06 <musasabi> class Foo a where foo :: a -> b; fooList [a] -> b;
22:50:32 <Lemmih> Converting a CString to [Char] before parsing it to a function which immediately converts it to a CString again is even more dirty, IMHO.
22:51:00 <dons> and sometimes prohibitively expensive
22:53:04 <musasabi> Lemmih: I am leaning more in the direction of data String = CString (Ptr a) Int | CList [Char] | Concat [String]
22:54:34 <Lemmih> Then you'll lose the ability to use list functions directly on strings.
22:55:20 <musasabi> Lemmih: unless you make them operate on arbitary sequences ;)
22:55:49 <Lemmih> Huh?
22:55:54 <musasabi> String can be made an instance of MonadPlus? and work from there on.
22:57:24 <Lemmih> Huh?
22:58:48 <Lemmih> Did you mean (Ptr a) or (Ptr CChar)?
22:59:14 <musasabi> Lemmih: one can either generalize strings and use a subset of them as lists or generalize list operations for more generic sequences or define a String->[Char] conversion function.
22:59:21 <musasabi> Ptr CChar really.
23:00:08 <dons> Lemmih: you've looked at Data.PackedString:newtype PackedString = PS (UArray Int Char)
23:01:09 <Lemmih> dons: Huh?
23:01:32 <dons> just suggesting things to look at for inspiration :)
23:02:03 <Igloo> Data.PackedString is quite slow isn't it? I have a feeling darcs' is much better
23:02:09 <Lemmih> I'm trying to avoid a specific String implementation.
23:02:15 <dons> and in GHC, we have utils/PrimPacked, where the strings are data BA    = BA  ByteArray#
23:02:34 <dons> which is fast, I would say.
23:03:00 <dons> Igloo: maybe that's why noone used Data.PackedString
23:03:31 <dons> ghc also has: data StringBuffer
23:03:31 <dons>  = StringBuffer
23:03:31 <dons>      ByteArray#
23:03:31 <dons>      Int#         -- length
23:03:32 <dons>      Int#         -- current pos
23:03:58 <dons> which is a Ptr CChar, in effect.
23:08:48 <SeePlusPl> does anyone know how to convert a String to a Float?
23:08:56 <Lemmih> SeePlusPl: read.
23:09:33 <SeePlusPl> thanks lemmih
23:10:23 <Lemmih> Furtunately I can avoid String IO completely in my line of work. (:
