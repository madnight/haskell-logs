00:00:11 <earthy> connect :: SockAddr -> IO Connection
00:00:24 <shapr> kosmikus: yes, he actually talked to me :-)
00:00:36 <earthy> and then functions to go from stirngs and ints to SockAddr
00:01:09 <earthy> (as really, the connect is to an IP address / TCP or UDP port  pair)
00:01:20 <earthy> (and there's more stuff in a sockaddr as well)
00:01:31 <musasabi> that actually results in uglier code as creating my equavalent of sockaddr must be in IO...
00:01:59 <earthy> then overload connect
00:02:11 * musasabi thinks about going with a class: connect :: Service serv => HostName -> serv -> IO Connection
00:02:43 <earthy> since I'd really also want   connect (10,0,0,138) 80
00:03:30 <musasabi> well there is a lower level api also ;)
00:03:32 <earthy> but what is wrong with connect :: IO SockAddr -> IO Connection ?
00:04:04 <earthy> and then gethost :: String -> IO SockAddr
00:04:18 <earthy> and setport :: IO SockAddr -> Int -> IO SockAddr ?
00:04:34 <viirya> autrijus_: got my patch for exponent expression?
00:05:06 <earthy> (there is a lot of complexity to network programming, and hiding it may not be wise)
00:05:53 <kosmikus> earthy: yes, estonia is nice
00:06:09 <earthy> not too cold, wet and blustery then? :)
00:06:11 <kosmikus> good evening, araujo
00:06:41 <kosmikus> earthy: well, it used to be really nice winter weather; lots of snow, but sunny, and cold but dry
00:06:54 <earthy> that's nice
00:06:58 <kosmikus> earthy: today it seems to get warmer and worse though
00:07:07 <earthy> hm.
00:07:14 <earthy> pity, that
00:16:39 <autrijus_> viirya: just got it. applying
00:18:03 <autrijus> viirya: weird
00:18:08 <autrijus> *Main> eval "10 ** (-2)"
00:18:08 <autrijus> *** Exception: Prelude.^: negative exponent
00:18:38 <autrijus> oh nvm
00:18:45 <autrijus> your patch is for 1e-2
00:19:00 <autrijus> it works! thanks
00:31:39 <viirya> autrijus: yes, it's for 1e-2 expression.
00:32:06 <autrijus> viirya: yup, you can darcs pull now, it's in
00:32:14 <viirya> ok.
00:32:23 <autrijus> I'll write more sample scripts in t/*
00:32:29 <autrijus> and hopefully roll 6.0.3 today
00:32:37 <viirya> cool
00:32:40 <autrijus> it's almost useful now :)
00:32:46 * autrijus considers hooking the regex engine in
01:04:50 <musasabi> Why does getErrno work with the threaded rts?
01:08:08 <musasabi> As far as I understand given two native threads t0 and t1, haskell may be running in t0 and then makes a safe C call in t0. Now haskell threads run on t1. When the C function in t0 is finished are we guaranteeded that 1) the haskell code following the C function gets executed in t0, 2) that no other haskell function calling C is called before that code?
01:27:31 <viirya> autrijus: I got err msg when pull your repo.
01:27:47 <viirya> autrijus: it says, darcs failed:  Unapplicable patch!
01:35:46 <autrijus> !.
01:35:48 <autrijus> retry with "darcs get"
01:35:53 <autrijus> maybe it's because your patch conflicts with mine.
01:36:01 <autrijus> darcs get in another dir may solve it.
01:36:03 <autrijus> darcs--
01:37:14 <viirya> autrijus: I totally rm old pugs dir, then get new one, but it doesn't work.
01:37:34 <autrijus> hmm.
01:38:05 <viirya> change to svk now.
01:38:14 <autrijus> I don't svk push
01:38:27 <autrijus> yet
01:38:31 <autrijus> a sec, I'll fix darcs
01:39:38 <viirya> seems the patch 'extract higher-order function parameters.' has problem
01:40:50 <autrijus> yup.
01:40:57 <autrijus> yeah.
01:42:23 <autrijus> gah, darcs is so fragile
01:42:26 <autrijus> not funny
01:53:35 <autrijus> viirya: re-get?
01:53:48 <viirya> autrijus: doing.
01:58:42 <autrijus> hope it works
01:59:05 <viirya> autrijus: seems no problem now.
01:59:14 <autrijus> coolio.
01:59:26 <autrijus> you can write most of sub () {...} declarations and calls now
02:00:01 <viirya> nice.
02:00:44 <viirya> I did a little patch for 10 ** -2 expression, which sent you already.
02:01:20 <autrijus> oh, it's ^^
02:01:23 <autrijus> thanks so much.
02:01:33 <autrijus> hey, you have account on wagner?
02:01:43 <viirya> yes.
02:01:53 <autrijus> want committer priviledge on pugs?
02:02:17 <viirya> I think better no.
02:02:26 <autrijus> 'kay.
02:02:40 <viirya> thanks. :)
02:03:34 <autrijus> pushed your second patch :)
02:09:17 <wli> btw, any word on darcs linux kernel handling?
02:32:47 <det> wli: what does that mean?
02:55:31 <Lemmih> Good morning, shapr.
02:55:40 <shapr> good morning Lemmih
02:55:59 * shapr hops randomly
02:56:09 <shapr> I love unicycling! w00!
02:56:12 <Svrog> hi shapr and Lemmih
02:56:21 <shapr> roger Svrog
02:56:34 <shapr> je'e .i go'i
03:03:38 <Lemmih> Heh. The Camlers seemed quite surprised of our String as [Char] (:
03:04:04 <Svrog> ?
03:04:23 <Svrog> what do you mean?
03:04:47 <shapr> lightstep: do you have thin shoes?
03:05:03 <Lemmih> > Haskell treats strings as lists of chars by default.
03:05:04 <Lemmih> Just goes to show you that even really smart people can do some amazingly dumb
03:05:05 <Lemmih> things.
03:05:30 <Svrog> yes i knew about strings being lists of chars
03:05:31 <shapr> I really like [Char] == String.
03:05:37 <Svrog> me too
03:05:47 <lightstep> shapr: no
03:05:56 <shapr> lightstep: what does lightstep mean?
03:06:07 <Svrog> the compiler should have to worry about optimizing it :)
03:06:28 <shapr> Yes, I agree. [Char] == String is slow now, but it won't stay that way.
03:06:38 <lightstep> my first exposure to FOSS was litestep, an explorer replacement for win9x, when i was 13
03:06:49 <shapr> oh neat.
03:06:54 <lightstep> since i was 13, i decided to nick myself as lightstep
03:06:59 <shapr> I used litestep for awhile too.
03:07:43 <lightstep> the real problem with String=[Char] is the type clases thingy
03:07:47 <Svrog> yeah i used lightstep for a while too but it kept crashing every time you changed themes.. it seemed a bit dodgy to me
03:08:13 <Lemmih> shapr: Well, a lazy list of pointers to unichars will always be slower than an array of 8bit words.
03:08:16 <Svrog> there is a hack for one of windows dlls that allows you to use custom themes so i ended up using that instead of lightstep :)
03:08:34 <lightstep> Svrog: the name of the software is litestep
03:08:51 <Svrog> my mistake
03:09:42 <shapr> Lemmih: yes, but [Char] doesn't always have to be that. You can still get pattern matching and all the other cool stuff if the compiler optimized smartly.
03:10:23 <Svrog> its pretty stupid that ms made it so you can only use digitally signed themes by default - what possible reason could they have had for doing something like that?
03:10:43 <tuomov> cashing
03:10:53 <Svrog> but they dont sell any skinning software
03:11:01 <lightstep> so what?
03:11:17 <shapr> Personally, I want the most expressive language, even if it's slow. Implementations get faster over their lifetime. Languages rarely get more expressive over their lifetime.
03:11:20 <tuomov> they can get money from signing
03:11:26 <Svrog> so... what did they have to gain by preventing users from making their own themese?
03:11:27 <lightstep> they want to make users think it's a risk to install non-signed software
03:11:29 <Svrog> themes
03:11:38 <Svrog> oh right
03:11:40 <Svrog> good point
03:11:48 <Si\> shapr: Just FYI, I've created cabalized darcs reps for HAIFA and it's dependencies
03:12:07 <Svrog> although seems kinda stupid... especially considering the ugly theme xp ships with
03:12:42 <Svrog> shapr: i agree about expressiveness
03:13:00 <musasabi> Is an algebraic datatype for network locations/addresses really wanted or would an opaque type suffice?
03:13:11 <tuomov> they drank the same weird aqua apple people drink and ended up in teletubby land
03:13:32 <lightstep> is Char a codepoint or a character?
03:14:05 <autrijus> it's supposed to be a codepoint (I think).
03:14:12 <autrijus> however as implemented it's mostly a byte.
03:14:27 <lightstep> if so, you don't really want pattern matching on strings
03:14:50 <musasabi> While one can go from sockaddr_t to an address the reverse is not true...
03:17:35 <Svrog> still though i need some balance between expressiveness, elegance and performance... and i find writing efficient code in haskell somewhat frustrating so i mostly use caml even though its only my 4th programming language of choice
03:18:04 <lightstep> what are the first three?
03:18:11 <Svrog> haskell and scheme being 2nd and 3rd respectively :)
03:18:19 <Svrog> the first is joy but currently joy is just a toy hehe
03:20:42 <lightstep> so where do you have squeak?
03:21:36 <Svrog> i havent played with smalltalk or squeak that much although i would like to learn one of them some time along with prolog or mercury :)
03:21:59 <vikasgp> svrog: squeak is just an implementation of smalltalk
03:22:07 <tintin> refal ? anyone uses that ?
03:23:19 <Svrog> vikasgp: i know
03:24:19 <vikasgp> Svrog, oh ok ... since you said "learn one of them"
03:24:21 <Svrog> well a dialect anyway - to my very limited knowledge, squeak is a bit different from smalltalk although i could be wrong
03:25:15 <lightstep> it's different from Smalltalk-80
03:25:27 <vikasgp> i guess you could say that, since squeak has many things not present in Smalltalk-80
03:25:32 <samc_> Svrog, it's called Yi
03:25:38 <lightstep> it has Morphic, for example. which is about as cool as Fudgets
03:25:58 <Svrog> samc_: ive heard of yi but havent used it
03:27:28 <araujo> Good Morning.
03:27:46 <xerox> morning
03:27:48 <lightstep> is there some "recursive diff" tool, to verify that two directories are the same? (on unix)
03:29:23 <vikasgp> lightstep, diff -r :)
03:29:52 <lightstep> well, stupid me
03:29:56 <lightstep> i didn't notice that
03:30:32 <vikasgp> i've found that <generic-unix-utility> -r usually works
03:31:08 <lightstep> well, i am user to -R, and it doesn't work with diff
03:34:37 <marcot> Hello.
03:34:51 <marcot> I'm having a trouble trying to compile c2hs in cygwin.
03:34:51 <lightstep> happy day
03:34:56 <marcot> It says in make:
03:36:05 <marcot> c/C.hs: can't locate import `Attributes'
03:36:20 <marcot> And before that, a lot of warnings, with:
03:37:00 <marcot> WARNING: error while reading directory /home/user/programas/c2hs-0.13.4/xxxxx
03:37:30 <marcot> with xxxx being a lot of directories, such as admin, errors, general, graphs, state, syms, syntax and sysdep.
03:39:02 <marcot> Can anyone help me?
03:43:17 <lightstep> from google, that error seems to mean that the directory does not exist
03:43:34 <marcot> Yes, it doesn't.
03:43:56 <araujo> create it.
03:44:09 <lightstep> so maybe the cofiguration of Arrtibutes is wrong
03:50:56 <wli> interesting
03:51:48 <wli> I've got an approximation with max error of 5.7E-21 on [0,pi/2] and I get descrepancies with ghc's library functions.
03:53:52 <wli> I think arbitrary-precision floating point is getting to be progressively more of an emergency.
03:55:11 <musasabi> ghc + wine was a fruitless exersise..
03:55:30 <musasabi> *c
03:55:48 <musasabi> the msi doesn't work at all..
03:57:43 <marcot> Does anyone know what could be the cause of that kind of problem?
03:57:59 <wli> For the basic reason of doublechecking algorithms (error bounds can get things bounded above and below, so with sufficient-precision arbitrary-precision floating point arithmetic and upper and lower errors bounds narrowing it below machine precision you can find the error of the approximation you're using).
03:59:25 <marcot> In c2hs-0.13.2 I have the same problem.
04:35:34 <duncan> if anyone feels like telling marcot when he comes back, gtk2hs includes a version of c2hs and we build it on windows so he can check with us if he likes
05:35:05 <musasabi> Do the libraries contain a function like:   withValue :: Storable a => a -> (Ptr a -> IO ()) -> IO a ?
05:40:47 <Lemmih> @type Foreign.Marshal.Utils.with
05:40:49 <lambdabot> Foreign.Marshal.Utils.with :: forall b a.
05:40:49 <lambdabot> 			      (Foreign.Storable.Storable a) =>
05:40:49 <lambdabot> 			      a -> (GHC.Ptr.Ptr a -> IO b) -> IO b
05:49:12 <musasabi> isn't that different?
05:49:26 <musasabi> I defined it as withValue v c = with v (\p -> c p >> peek p)
05:50:25 <Lemmih> What are you using it for?
06:04:30 <shapr> Si\: awesome! can I get that from the HAIFA project?
06:10:24 <Si\> No, sadly Savannah aren't using darcs yet ;)
06:10:38 <Si\> http://repton.no-ip.com/darcs
06:11:07 <Si\> you'll need packages, syb-generics, http, hxt and haifa
06:11:39 <Si\> The XML Serializer in HAIFA is still badly designed, but it works well enough for SOAP
06:12:56 <shapr> You got a nice response from SPJ "You've found an interesting case."
06:13:38 <Si\> yes, that's pretty much messed up my GXS design for the time being ;)
06:14:02 <shapr> I can't get syb-generics
06:14:11 <shapr> neither packages
06:14:15 <Si\> sorry, the directory is SYB3
06:14:23 <shapr> But I did get http, hxt, and haifa
06:14:43 <shapr> I can't browse the server because it's convinced it a dns name that doesn't exist, and tries to forward me there.
06:15:14 <Si\> does SYB3 pull ok?
06:15:31 <shapr> yes, I have SYB3, http, hxt, and haifa. Is that everything?
06:15:49 <Si\> yes
06:16:17 <Si\> SYB3 is Data.Generics2, and very much a WIP
06:17:48 <shapr> looks like another interesting case.
06:17:49 <Si\> it's all cabalized so it should build out of box with GHC 6.4 RC
06:18:33 <shapr> Cool, I'll try it out lateron.
06:18:49 <shapr> Did I already ask you if you want to write about HAIFA or Generics in TMR? :-)
06:19:16 <shapr> Oh, I think I did...
06:19:20 <Si\> TMR?
06:19:29 <Si\> gaaa too many TLAs
06:19:31 <shapr> The Monad.Reader
06:19:34 * shapr grins
06:19:49 <shapr> http://www.haskell.org/hawiki/TheMonadReader
06:19:58 <Si\> no, you didn't
06:20:22 <shapr> Huh I already had you marked on my mental list as "busy"
06:20:36 <shapr> Obviously, I shouldn't be keeping this list in my head.
06:20:38 <Si\> I'm not sure where Generics are going right now, or who is going to maintain that now
06:20:48 <Si\> maybe you asked me when I was away
06:21:33 <Si\> My problem is that my project needs hs-plugin and SYB3 giving my three different versions of the Data class, which I have to somehow use together...
06:21:35 <shapr> You surely know a lot more about Generics than I do, so I was wondering if you'd like to write about in such a way that people would understand the point, and maybe want to try them out.
06:21:52 <Si\> I can try
06:22:10 <shapr> Or if you'd rather write about HAIFA...
06:22:32 <shapr> Or if you're too busy...
06:22:54 <shapr> I'm just trying to get the people in the know to spread their knowledge to those with less clue :-)
06:23:01 <Si\> I'm always too busy, if I wait until I'm not busy I'll never get anything done ;)
06:23:06 <shapr> haha, I understand that!
06:23:34 <shapr> That describes exactly why I'm doing The Monad.Reader now, rather than later.
06:23:53 <Si\> I'd definately like to write about HAIFA though, it's actually turning into something usable finally
06:24:30 <Si\> My current sub-target is to create a Web-Service which can remotely validate and evaluate Haskell code (thus hs-plugin)
06:24:32 <shapr> Once you've decided what you want to write about, send me an outline.
06:24:46 <shapr> What would you use that service for?
06:25:26 <Si\> So you can bind Haskell code to a composite web-service
06:25:53 <shapr> I don't get it?
06:26:05 <samc_> yes
06:26:08 <shapr> Realize I've just been clothes shopping, so maybe it's the trauma ;-)
06:26:39 <shapr> Why would you send code somewhere else to execute it?
06:26:44 <xerox> That's one thing I really don't think of.. :)
06:26:45 <Si\> With the aid of OWL-S we intend to put together an engine written in Haskell which can execute a composite web-services
06:27:12 <Si\> because we can't neccessarily execute haskell code onsite
06:27:28 <shapr> Why not?
06:27:40 <Si\> It's actually a Java frontend which will interface with it
06:27:42 <shapr> ohh
06:27:55 <Si\> the whole workflow needs type-checking
06:27:57 <shapr> I get it!
06:28:03 <shapr> hey I could use this with Zope!
06:28:31 <shapr> That would be spiffy
06:28:53 <shapr> No one understands my python anyway, why not use full-on Haskell to do Zope development?
06:28:59 <Philippa> shapr: clothes shopping is fun! Or at least it would be if I had any actual money...
06:29:02 <Philippa> heh
06:29:33 <shapr> Philippa: I really don't enjoy shopping for clothes. "Do you like this shirt or that other shirt better?" "Um, I already have shirts."
06:29:54 <Philippa> yeah, it shouldn't really work that way. And being asked to be the opinion for somebody else's stuff does suck
06:30:01 <Philippa> needs to go both ways, at the least
06:30:10 <Si\> So we have an editor, written in Java/Eclipse which you use to build a composite Web-Service, which is described in a Semantic Web-Services Markup language (in this case OWL-S with extensions)
06:30:22 <Philippa> I'm more the "that looks nice, I'll have it" type
06:30:46 <Si\> and then the Haskell engine executes this, allowing a sequence of Web-Services to be called which together fulfil some specific task
06:32:06 <vincenz> shopping is funner with a girl
06:32:09 <vincenz> you can see her pose for you
06:32:33 <Philippa> bah. The whole point is to go into the changing room with them :-)
06:32:38 <shapr> TMI!
06:32:47 <shapr> quick back to web services
06:33:08 <shapr> I'd really like to have something vaguely resembling Zope, but written in Haskell.
06:33:13 <vincenz> caml
06:33:14 <vincenz> camlo
06:33:17 <vincenz> ugh
06:33:17 <vincenz> ocaml
06:33:45 <Si\> Ok, you want it in LaTeX, what sort of length?
06:33:45 <Lemmih> OCaml resembles Zope and is written in Haskell? (:
06:33:56 <vincenz> lol
06:34:11 * vincenz goes into a changing room with Philippa 
06:34:13 <shapr> Si\: no clue really... long enough to cover the subject, but with no extra parts?
06:34:27 <shapr> Si\: I guess, begin at the beginning, go to the end, and stop :-)
06:34:35 <shapr> If you don't mind me quoting Lewie.
06:34:37 <Si\> :D
06:34:45 <xerox> This kind of errors aren't meant to be cought at compile-time? dupHead l@(x:xs) = x:l
06:35:16 <Philippa> vincenz: you might want to reconsider that. Or at least bring lube with you.
06:35:16 <shapr> Wasn't it Lewis Carrol who said that?
06:35:40 <shapr> aanyway
06:35:41 <vincenz> lol
06:35:45 <vincenz> Philippa: get a guy name
06:35:51 <Lemmih> xerox: It's not an error. Or is it?
06:35:58 <Philippa> vincenz: I don't need one :-)
06:36:06 <xerox> Lemmih, I mean, the Non-exhaustive pattern
06:36:11 <Philippa> girls fucking guys is fine where I am...
06:36:26 <Lemmih> xerox: You can turn that on with a flag.
06:36:30 <shapr> Philippa: TMI!
06:36:45 <vincenz> Philippa: so why the lube?
06:36:49 <shapr> please no...
06:37:00 <Philippa> you can go without if you prefer
06:37:09 * shapr sighs
06:37:10 <Lemmih> xerox: It's too common to have enabled by default.
06:37:15 <shapr> So, how's that System F?
06:37:20 <xerox> Lemmih, okay.
06:37:29 <Philippa> heh
06:37:35 * vincenz continues reading winskel
06:38:06 <shapr> Ah yes, it was Lewis Carrol.
06:38:26 <Lemmih> xerox: The flags is called -fwarn-incomplete-patterns
06:38:42 <xerox> Lemmih, thank you.
06:39:25 <shapr> I always put "dupHead x = error "dupHead got something unexpected" ++ show x" at the end of my pattern matches.
06:39:36 <shapr> I do wish there were some way to make that automatic.
06:40:37 <xerox> What's the good thing about error returning _|_ ? Why's that, in fact?
06:41:35 <Lemmih> xerox: What else could it evaluate to?
06:43:22 <TheHunter> xerox, i even suggest -Wall. Warnings about missing type signatures or shadowed variables may be annoying, but they're easy to fix and let you find bugs every once in a while.
06:44:54 <xerox> Does it mean having to write down type signatures for everything?
06:45:25 <Lemmih> Whee. I'm a wxHaskell contributor. (:
06:45:30 <shapr> cool!
06:45:38 <xerox> :)
06:45:43 <Lemmih> xerox: No. Just top-level declarations.
07:12:51 <Asta> question on style
07:12:54 <Asta> argh
07:12:58 <jadrian> question on style
07:13:26 <jadrian> I have a module that defines a class and operations on members of that class
07:13:49 <jadrian> now I want to define some instances for types provided in GHC libs
07:13:58 <jadrian> where should I do that?
07:14:08 <jadrian> in the module itself?
07:14:24 <jadrian> or should I make something like,  Module.Instances
07:14:33 <TheHunter> jadrian, i'd put it into the same module
07:14:43 <jadrian> right
07:14:54 <jadrian> thanks TheHunter
07:15:14 <TheHunter> because the user shouldn't define his own overlapping instance anyway.
07:15:40 <jadrian> yes good point
07:45:11 <syntax_syntax> 'ello.
07:45:41 <lightstep> good afternoon
07:47:13 <TheHunter> .quit bye
07:47:17 <TheHunter> oops
07:49:45 <CosmicRay> whoa
07:49:48 <CosmicRay> actual activity.
07:50:34 <ibid> instead of potential activity?
07:59:17 <CosmicRay> heh
07:59:21 <CosmicRay> kinetic activity, eh
08:02:50 * lightstep hates fr.debian.org for not having orbit2
08:03:56 <lightstep> hello cptchaos
08:25:04 * CosmicRay scouts around for haskelldb debs
08:25:06 <shapr> Si\: hey, any changes you see important to Cabal?
08:25:15 <shapr> CosmicRay: don't think there are any
08:25:30 <shapr> CosmicRay: in fact, I have a mental flag that says you're building some?
08:25:33 <CosmicRay> shapr: someone was asking me about my hsql package because he was debianizing haskell db
08:25:39 * shapr blinks
08:25:49 <CosmicRay> I've built hsql
08:25:50 <shapr> pff, my mental list is so screwed.
08:26:05 <CosmicRay> bummer
08:26:16 <shapr> I knew I should have add support for transactions.
08:26:22 <CosmicRay> haha
08:26:46 <CosmicRay> I hate proprietary databases
08:26:50 <shapr> me too
08:26:59 <shapr> Actually, I don't like much of anything proprietary.
08:27:01 <lightstep> bah. gtk2hs requires mozilla-gtkmozembed.pc to compile
08:27:10 <shapr> What's .pc ?
08:27:12 <CosmicRay> shapr: ditto, but proprietary databases are extra sucky
08:27:30 <lightstep> these are the pkg-config files
08:27:40 <shapr> Oh hey, have you seen the cabal discussion on libraries@ ?
08:27:47 <CosmicRay> shapr: progress comes with an odbc driver for linux, but it is: binary-only, buggy (requiring certain very old C++ headers), depends on a certain version of a JVM for some unknown reason
08:27:51 <CosmicRay> shapr: speaking to me?
08:27:58 <shapr> If anybody has any suggestions for Cabal improvements, submit them now!
08:28:00 <esap> proprietary databases are not close to as bad as proprietary implementations of CORBA.
08:28:13 <shapr> CosmicRay: that's nuts
08:28:24 <CosmicRay> shapr: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=293523
08:29:03 <shapr> hmm
08:29:22 <shapr> I wonder if that's all been discussed in the current cabal thread on libraries?
08:29:41 <CosmicRay> I dunno, I don't have time to keep up very well with haskell ml discussions
08:29:53 <CosmicRay> they tend to be very windy
08:29:55 <shapr> ghc 6.4 is being held back only because a coupla people want to get Cabal ready for wider use.
08:30:07 <CosmicRay> argh
08:30:14 <shapr> And they want the Cabal version in ghc 6.4 to be as right as possible.
08:30:19 <CosmicRay> I hate it when people hold back releases because some features aren't there yet.
08:30:36 <CosmicRay> well there is some merit to that, if future compatibility is in question
08:30:40 <shapr> it is
08:30:55 <shapr> So, this is the moment to stretch Cabal and find rough spots.
08:31:03 <CosmicRay> btw, somebody needs to point http://www.haskell.org/haskellDB/ to the sourceforge site.
08:31:11 <CosmicRay> the haskell.org site hasn't been updated in 6 years.
08:31:18 <shapr> That's Daan's site, I'll email him.
08:31:23 <CosmicRay> danke
08:31:43 * CosmicRay tries out his l33t d3utsch sk1llz
08:32:10 * shapr grins
08:33:39 <Si\> shapr: What do you mean, any changes I see important to Cabal?
08:36:06 <lightstep> CosmicRay: there is a news item from ICFP on haskell.org
08:37:45 <CosmicRay> lightstep: the winning teams?
08:38:06 <lightstep> yeah
08:38:26 <CosmicRay> lightstep: that has something to do with haskelldb?
08:38:27 <lightstep> and it also says "Last update: 19 December 2004"
08:38:28 <CosmicRay> I'm confused
08:38:33 <CosmicRay> oh
08:38:45 <CosmicRay> I meant that http://www.haskell.org/haskellDB/ in particular hasn't been updated in 6 years
08:39:03 <lightstep> sorry, i misinterpreted
08:42:42 <lightstep> does the L in cabal stand for libraries or for tools?
08:42:57 <shapr> Si\: just that Cabal is getting some last minute changes in hopes of releasing a really usable and maintainable version with ghc 6.4
08:43:46 <Si\> I just copied the examples, it's dead easy to do
09:08:00 <lightstep> i have a problem with the cabal docs. section 1.2: An example (in the paper) says the Angela wants her package to provide Data.Set and Data.Bag, but Setup.description contaions "Exposed-Modules: A, B, B.C". is this a bug in the docs, or misunderstanding on my part?
09:13:01 <musasabi> windows + sockets seems to be quite nightmarish.
09:13:59 <Lemmih> How is it any different from sockets on a Linux box?
09:14:50 <musasabi> different error handling + multiple ways of doing io.
09:16:05 <MrZylinder> on linux there are also different ways of io
09:16:19 <musasabi> some socket routines use async io, others use non blocking io... and e.g. accept seems to be different on mingwin...
09:17:12 <lightstep> i fuzzily remember about the asyncronious socket operations calling back as window messages
09:25:16 <Lemmih> Hey SyntaxNinja.
09:26:29 <SyntaxNinja> hi Lemmih!
09:29:44 <SyntaxNinja> dons: why no darcs for hs-plugins?
09:30:46 <SyntaxNinja> dons: also, you should cabal-ize them it, along with Yi :) :)
09:46:39 <Lemmih> 7:50. Time to unicycle!
09:47:29 <CosmicRay> shapr: the virus spreads...
09:51:09 <shapr> The unicycle virus?
09:51:19 <shapr> I think Lemmih unicycled before I got to know him.
09:51:35 <CosmicRay> bummer
09:51:55 <CosmicRay> perhaps it's the "announcement of unicycling activities" virus
09:51:57 <shapr> So it's more like the virus gossips.
09:52:02 <shapr> yeah :-)
09:53:18 <SyntaxNinja> I hit the power button, so if dons replied, I missed it.
09:53:39 <SyntaxNinja> dons: I'd be curious to know whether cabal needs anything extra to support the likes of yi and hs-pluggins
09:53:58 <shapr> SyntaxNinja: dons usually awakens about five hours from now.
09:54:59 <SyntaxNinja> ok
09:55:05 <shapr> so, who's doing EuroHaskell?
09:55:06 <SyntaxNinja> shapr: any insight? :)
09:55:16 <SyntaxNinja> ooh, can we have euro-haskell-us this year?!
09:55:30 <shapr> ?
09:55:44 <CosmicRay> SyntaxNinja: oh?
09:55:52 * CosmicRay gets ready to order train tickets
09:56:12 <CosmicRay> SyntaxNinja: where and when?
09:57:06 <CosmicRay> dammit, don't get us all excited and then leave us hanging :-)
09:57:13 * shapr grins
10:02:20 <SyntaxNinja> CosmicRay: hmm
10:02:25 <SyntaxNinja> I think portland would make a good location :)
10:02:44 <CosmicRay> SyntaxNinja: OK.  that just means that the task of organizing everything is yours
10:03:07 <CosmicRay> hhmm, I've always wanted an excuse to take the Empire Builder somewhere
10:03:17 <SyntaxNinja> what's the empire builder?
10:03:28 <CosmicRay> chicago-to-seattle train
10:03:34 <CosmicRay> with a connection to portland
10:03:36 <SyntaxNinja> yeah, we could get the darcs guy here too
10:03:50 <SyntaxNinja> ask me again after the ghc release :)
10:03:59 <SyntaxNinja> maybe we could get Galois to host it
10:04:01 <CosmicRay> uh oh
10:04:02 <duncan> it's takes about 2 days to do chicago to seattle, it's good fun
10:04:20 <CosmicRay> whoa, another amtrak rider?
10:04:25 <duncan> but when it's late, it's really late (eg 6 hours)
10:04:26 <SyntaxNinja> we've got a few euro-haskellers right here in portland
10:04:40 <CosmicRay> usually when I say things like that, people say, "Oh, you can still travel on trains?"
10:04:47 <CosmicRay> SyntaxNinja: nice
10:04:52 <CosmicRay> duncan: that's typical amtrak for ya
10:05:08 <SyntaxNinja> I commute by train all the time :)
10:05:16 <CosmicRay> I don't mean commuter stuff
10:05:42 <CosmicRay> ah dammit, amtrak wants me to take the chief to la and then the coast starlight up the cost
10:05:45 <CosmicRay> err coast
10:05:49 <CosmicRay> I guess that could be nice to
10:05:52 <SyntaxNinja> so does anyone know what the version of hs-plugins required for Yi is? how come he mixes dates and version numbers?
10:06:00 <duncan> CosmicRay: there's no typical. I was in the US last summer and traveled Boston->NY->Chicago->Seattle->SF by train
10:06:39 <CosmicRay> duncan: many americans outside the northeast aren't even aware that amtrak exists
10:06:59 <duncan> CosmicRay: being British I'm used to taking the train (and my girlfirend prefers not to fly)
10:07:26 <CosmicRay> for instance, I live 15 miles from what was once ATSF's largest rail hub in the country, still one of the largest, and a surprisingly popular amtrak stop given the town's population of 15,000
10:07:33 <CosmicRay> still, most people in the area aren't aware that train service is available.
10:07:52 <CosmicRay> duncan: I hope amtrak wasn't to annoying for you
10:08:04 <wli> CosmicRay: hmm, which Amtrak stop is that?
10:08:10 <CosmicRay> wli: Newton, KS
10:08:18 <SyntaxNinja> wli is a haskeller in pdx as well
10:08:22 <CosmicRay> on the route of the Southwest Chief
10:08:24 <duncan> CosmicRay: it was ok :-) the trip through the Rockies is rather nice
10:08:24 <shapr> SyntaxNinja: dates are cvs
10:08:32 <SyntaxNinja> wli: want to help me organize euro-haskell-us?
10:08:53 <SyntaxNinja> but where are we going to find someone to teach unicycle?
10:08:54 * CosmicRay is not so sure about this "Waiting for ghc release before the euro-haskell-us" idea
10:09:08 <shapr> Wouldn't that be Haskell-Us?
10:09:11 <CosmicRay> SyntaxNinja: have to convince shapr that it's worth his while to fly out :-)
10:09:15 <shapr> hah
10:09:25 <shapr> fund my flight and I'll show up ;-)
10:09:27 <CosmicRay> shapr: Haskell-Us-Harder?
10:09:35 <CosmicRay> Haskell-Us-Quicker?
10:09:43 * CosmicRay returns to earth
10:09:44 <samc_> us-haskell
10:09:51 <shapr> us-vs-haskell ;-)
10:09:58 <CosmicRay> heh
10:10:17 <SyntaxNinja> heh
10:10:27 <SyntaxNinja> CosmicRay: GHC is going to be released Real Soon Now, just like Sarge!
10:10:27 <wli> shapr: Careful, or dubya will ship us all to camp X-Ray in Guantanamo.
10:10:31 <Philippa> as opposed to us-vs-IO (and thus world)?
10:10:36 <CosmicRay> SyntaxNinja: if you want something dirt cheap, I can provide camping facilities on our property :-)
10:10:43 <shapr> wli: well, it'd still be AmeriHaskell then :-)
10:10:44 <CosmicRay> SyntaxNinja: Of course it is.  that's why I'm afraid.
10:11:48 <SyntaxNinja> CosmicRay: your property wouldn't be in portland, now would it? :)
10:12:07 <CosmicRay> SyntaxNinja: nah, it's at an undisclosed location in rural kansas :-)
10:12:20 <SyntaxNinja> there's an american haskeller at galois from kansas
10:12:38 <CosmicRay> oh!
10:12:43 <CosmicRay> SyntaxNinja: we could have it at haskell.edu!
10:12:54 <SyntaxNinja> what's that?
10:13:01 <CosmicRay> Haskell Indian Nations University!
10:13:07 <CosmicRay> It's about 2 hours northeast of me
10:13:11 <CosmicRay> close to kansas city
10:13:43 <CosmicRay> of course, the only reason to have it there is the geek factor of being physically at haskell.edu :-)
10:13:43 <goron> It seems to me that logical "and" and "or", are associative. Although, in some languages they are left-associative. Is this pure for performance reasons? Second I am uncertain about the associativity of bi-implication. I would say it's non-associative, because it's a combination of "and" and two implications. What do you think?
10:14:10 * CosmicRay should fire up megamonad solely to get an answer to that question
10:14:16 <samc_> associative
10:14:28 <Philippa> associative
10:14:34 <shapr> dissociative!
10:14:34 <samc_> haha I win
10:14:40 <samc_> you lose
10:14:49 * shapr has no clue really...
10:15:14 <Philippa> associative because it's transitive in both directions - you can neatly sum all the conditions then and the lot
10:15:15 <CosmicRay> syntaxninja: seriously though, portland is fine.  organize something up and I'll be there :-)
10:15:53 <CosmicRay> the problem with having conferences close to home is that you don't get to see anything new while you're at it
10:16:16 * CosmicRay afks for lunch
10:16:28 <samc_> goron, and you're right about the first part
10:16:35 <SyntaxNinja> CosmicRay: OK. will do
10:17:10 <samc_> though I don't like the name 'bi-implication'
10:17:40 <goron> samc_: Two-implication?
10:17:54 <samc_> equivalence
10:18:14 <goron> samc_: "other thingie"-implication ;)
10:18:45 <goron> samc_: Or bi-material implication.
10:19:08 <SyntaxNinja> so how do i get yi to do emacs?
10:19:31 <Philippa> well, for one it'd have to ask emacs really nicely
10:19:34 <samc_> emacs is an os, yi is an editor...
10:19:47 <SyntaxNinja> editorFM = listToFM $
10:19:48 <SyntaxNinja>     [("vi",     Vi.keymap)
10:19:48 <SyntaxNinja>     ,("vim",    Vim.keymap)
10:19:48 <SyntaxNinja>     ,("nano",   Nano.keymap)
10:19:48 <SyntaxNinja> --  ,("emacs",  Emacs.keymap)
10:19:48 <SyntaxNinja>     ]
10:19:49 <SyntaxNinja> :(
10:19:54 <samc_> goron, or just equality
10:20:26 <SyntaxNinja> Philippa: emacs is very promiscuous; yi is the young, innocent one
10:22:26 <shapr> Er, I think I'm assigned the Emacs keymap...
10:22:40 <shapr> But I started by writing a keybindings tutorial, and it's not quite done yet.
10:22:55 <goron> Sat Jan  8 05:56:36 CET 2005  Don Stewart <dons@cse.unsw.edu.au>
10:23:05 <goron> Not very active project anymore, imo.
10:23:13 <shapr> Actually, it's quite active.
10:23:24 <shapr> Just that dons hasn't finished his design of the syntax highlighting.
10:23:47 <shapr> It's going to be real parse tree based syntax highlighting =)
10:23:58 <goron> So really slow ;)
10:24:29 <SyntaxNinja> shapr: I need emacs keybindings now.
10:24:30 <SyntaxNinja> :)
10:24:34 <shapr> it'll allow parse tree macros, I'm looking forward to that.
10:24:45 <shapr> SyntaxNinja: gnumacs is crashing several times a day for me, I need them too.
10:25:57 <shapr> dons described a bit of the synhl already, I'm looking forward to it.
10:26:26 <shapr> I'll build my pyre of elisp once the synhl is working.
10:27:04 <samc_> I too am looking forward to it
10:27:16 <shapr> I should submit the partial keybindings tutorial I have so far.
10:27:39 <Oejet> Hello friendly people of the #haskell channel.
10:27:45 <shapr> hello friendly Oejet
10:27:55 <shapr> Is your name really Eileen?
10:28:54 <Oejet> Tihihi.  No.
10:29:52 <Oejet> It's the name of the account I 0wns on some random w1nd00ze machinery.
10:29:56 <shapr> oh
10:30:01 <Oejet> :-P
10:30:13 <Oejet> Just kidding of course.
10:30:46 <shapr> ok :-)
10:30:59 <goron> Nice version number: yi 0-undefined
10:32:41 <Oejet> I haven't got time to be a l33t 3v1l h4x00r because of studies and Haskell packaging on GoboLinux.
10:34:21 <SyntaxNinja> haskell packaging?
10:35:19 <Oejet> SyntaxNinja: Yes.
10:35:38 <SyntaxNinja> eeeexcelent
10:35:40 <Oejet> Like .dep or .ebuild packagning.
10:38:52 <shapr> speaking of leet haxor, I've been wondering about declarative specification of protocols in Haskell...
10:40:01 <samc_> what about it...
10:41:35 <shapr> I'd like to be able to do it. The only mention of declarative protocols I've seen http://lambda-the-ultimate.org/node/view/518
10:42:18 <shapr> Google hasn't turned up much either. If this sort of ability is already available, maybe the words used are different?
10:43:34 <shapr> A declarative specification would let you switch implementation details easily. You could use select where available, and threads where there's no select. You'd be able to test protocols more easily as well.
10:44:04 <shapr> It seems to me that the one of the flavors of testing in QuickCheckM is just that, declarative specs.
10:45:12 <shapr> I thought about this the first time I read about BNF. Basically, why can't I write a whole protocol in BNF?
10:45:21 <samc_> I don't understand, you want a spec or an implementation?
10:45:34 <shapr> One from the other.
10:45:48 <samc_> Oh I see now
10:46:52 <SyntaxNinja> Oejet: what packages do you maintain?
10:46:58 <shapr> samc_: what do you think?
10:49:24 <samc_> I think I don't know enough about protocol implementation, otherwise I think use haskell to output implementation language like fran
10:50:58 <samc_> build a nice combinator thingy on top ... violin! or am misguided?
10:52:41 <shapr> I don't know. It sounds sensible to me.
10:53:58 <shapr> Sounds like a worthwhile project, from spec to working Yampa output.
10:55:11 <samc_> I do think that declarative specification of protocols is a good idea, It should be standard practice
11:01:51 <Excedrin> isn't it standard practice?
11:02:35 <shapr> Have you seen a BNF equivalent for protocols?
11:02:35 <samc_> it hasn't been in the past, I hope it is by now
11:04:36 <Excedrin> the diagrams in RFCs aren't exactly BNF, but they're equivalent
11:04:56 * CosmicRay returns
11:05:06 * CosmicRay checks again to see if anyone here is maintaining haskelldb for debian
11:05:19 <musasabi> and haskell code ends up looking like those diagrams.
11:06:15 <CosmicRay> shapr: peter has some bnf stuff
11:06:24 <shapr> simons?
11:06:31 <CosmicRay> shapr: are you looking for a bnf parser or utilities for implementing bnf stuff in parsec?
11:06:32 <CosmicRay> yes
11:06:37 <Igloo> CosmicRay: I'm not
11:06:50 <Igloo> Was Heff looking at that a while ago? I forget
11:06:51 <shapr> no, I'm looking for a BNF parser that generates protocol implementations.
11:06:58 <CosmicRay> shapr: He has an an email package
11:06:59 <CosmicRay> shapr: ah
11:07:02 <CosmicRay> shapr: sounds cool
11:07:13 <samc_> musasabi, and that's good then we know the implementation follows a high-level spec
11:07:34 <CosmicRay> shapr: though I don't think you could do that completely automatically
11:07:38 <shapr> why not?
11:07:54 <CosmicRay> shapr: well, at what level of the bnf info do you care about?
11:08:08 <shapr> eh?
11:08:16 <CosmicRay> for instance, in imap, do you care about an entire session?  (the top level), which would basically have a return value of OK or Error?
11:08:33 <CosmicRay> Or do you care that a string starts with whatever and has 1 or more of these particular kinds of chars
11:08:53 <shapr> I guess the entire session?
11:08:58 <CosmicRay> also bnf alone doesn't describe sequence
11:09:02 <musasabi> shapr: the problem is that usually such a grammar contains fewer information than is needed for parsing. Also length prefixes don't translate very easily.
11:09:10 <CosmicRay> that is, what response is expected after a particular request
11:09:12 <musasabi> the end result is something like http://youzen.b2.fi/~musasabi/s.hs
11:09:31 <shapr> Right, but I *want* a BNF-alike that can specify order, etc.
11:10:14 <musasabi> usually sanity checking takes more space than parsing.
11:10:34 <shapr> Would a protocol BNF be that more complicated than BNF?
11:10:52 <shapr> er "much more complicated"
11:11:13 <CosmicRay> well, I guess you'd have to have some sort of notion of state
11:12:11 <CosmicRay> shapr: it depends on the protocol past that.
11:12:25 <CosmicRay> shapr: the RFC* protocols, in large part, tend to share certain attributes...
11:12:32 <CosmicRay> usually TCP-based, often text line-based, etc.
11:13:27 <CosmicRay> other protocols exist, which may make use of things like out-of-band messages, require fixed packet sizes, define specific packet loss handling procedures, etc. that may be more difficult to handle.
11:13:37 <CosmicRay> though probably not too bad if you have a nice design
11:14:14 <CosmicRay> networking is riddled with corner cases
11:14:27 <shapr> but is it that much different from parsing?
11:15:02 <CosmicRay> shapr: what if an element of the parsing is the size of the incoming packet or the way it arrived?
11:15:20 <shapr> that works just fine in Parsec
11:15:36 <shapr> thrilled me when I first discovered that :-)
11:15:38 <CosmicRay> true
11:15:51 <CosmicRay> though you'll have to parse over a custom data type I suppose
11:16:44 <CosmicRay> I don't think handling the actual incoming data is difficult
11:16:50 <shapr> What is difficult?
11:17:00 <CosmicRay> it's finding a bnf-ish way to describe all the cases that would take some work
11:18:20 <shapr> Sounds like a fun project. But I have no time :-)
11:18:30 <CosmicRay> yes, it does
11:20:09 <CosmicRay> I love parsec.
11:20:11 <shapr> Time for sleep, I'll dream of protocol specs...
11:20:20 <CosmicRay> anything that can make gcc consume 250MB of RAM has got to be cool :-)
11:23:30 <syntax_syntax> yikes.
11:24:48 <CosmicRay> yes, and it makes ghc consume 400MB of RAM :-)
11:38:17 <liquidengineer> howdy
11:44:21 <syntax_syntax> http://c2.com/cgi/wiki?GoldenArchesTheoryOfConflictPrevention
11:49:26 <SyntaxNinja> oh man... dons relicensed a bunch of the stuff that I need for the Binary module, so I can't use his work :(
11:53:01 <liquidengineer> relicensed?
11:56:13 * tmoertel must have tea *now*
11:57:35 <wli> hmm, haskelldb ITP
12:01:07 <duncan> SyntaxNinja: what's your Binary module?
12:01:38 <SyntaxNinja> duncan: the binary module from ghc/compiler/utils for reading and writing binary files
12:01:55 <SyntaxNinja> liquidengineer: it's originally a bsd license, but he is using it in hs-plugins and relicensed it in there
12:02:00 <duncan> right, so it's more or less the same one as I use
12:02:24 <SyntaxNinja> duncan: do you have one that's stand-alone?
12:02:39 <duncan> I pulled it out of ghc and now use it in c2hs
12:03:04 <duncan> it's mostly stand-alone.
12:03:04 <SyntaxNinja> so has there been talk of making Data.Binary or something?
12:03:23 <SyntaxNinja> so it's being forked all over is what you're saying ;) :)
12:03:26 <SyntaxNinja> er
12:03:32 <SyntaxNinja> sorry for all those smilies I got carried away
12:03:48 <duncan> It has one dependency on another small module, and needs an autoconf test for sizeof(int)
12:04:03 <duncan> yes, it's being forked all over the place! :-)
12:04:26 <SyntaxNinja> we should make it standalone and cabalize it!
12:04:40 <SyntaxNinja> but which one should I start with? yours?
12:04:43 <SyntaxNinja> is it bsd-style?
12:04:56 <duncan> I also modified it to do string pooling but using ordinary strings rather than ghc's FastString which is a bit low level for my tate
12:05:10 <duncan> bsd? what my derived Binary module?
12:05:19 <SyntaxNinja> the license, I mean
12:06:01 <duncan> So I pulled it out of ghc but it had some liscence note about it originaly coming from somewhere else, do you know if it originally bsd?
12:06:26 <SyntaxNinja> if you pulled it out of ghc and haven't done anything to it, then it should still be BSD
12:07:04 <duncan> I'm using it in an LGPL project but I'm the only one who's modified it and I'd be happy to have my changes be under the same as the original liscence
12:07:39 <SyntaxNinja> cool.  do you know of any effort underway already to make a canonical one?
12:08:12 <duncan> I think having a standard Data.Binary would be a good idea so long as we can all agree on what features it'll have
12:08:51 <duncan> I think it could do with a bit of rewriting however... I've got some ideas
12:10:20 <duncan> There has been intermitent discussion on various haskell lists about a Binary module though it sometimes gets mixed up with the new IO proposal discussions
12:10:54 <SyntaxNinja> yeah
12:11:10 <duncan> I think it should be possible to build an interface that doesn't have to change much if/when the IO system is changed
12:12:14 <SyntaxNinja> I see scattered references to data.binary almost as if it exists or has existed
12:12:43 <SyntaxNinja> where can I find your binary module?
12:12:50 <duncan> there was a version in NHC for quite some time but I don't think there has ever been a standard one
12:13:00 <SyntaxNinja> oh right I remember now
12:13:43 <duncan> http://cvs.sourceforge.net/viewcvs.py/gtk2hs/gtk2hs/tools/c2hs/base/general/Binary.hs?rev=1.2&view=auto
12:14:02 <duncan> and it uses http://cvs.sourceforge.net/viewcvs.py/gtk2hs/gtk2hs/tools/c2hs/base/general/FastMutInt.hs?rev=1.2&view=auto
12:18:02 <duncan> I think the propper way to abstract it is to read/write directly into a memory buffer and have a "block provider" give you a new memory buffer when you run off the end of the current one. That way you could use any kind of stream, in memory storage, files, mmaped files etc.
12:19:52 <duncan> You'd need to distinguish seekable and non seekable underlying medium since the lazy read/write will only work with a seekable medium (eg mmaped file, in-memory data or seekable file but not reading from a pipe)
12:21:34 <SyntaxNinja> yay it compiles!
12:21:49 <duncan> :-)
12:22:08 <SyntaxNinja> I was getting really bored trying to chase down the dependencies in the one from GHC :)
12:22:38 <duncan> Yes, it took me a little while, especially the FastString stuff
12:24:31 <SyntaxNinja> If cabal and hackage were ready, I could cabal-ize it in 5 minutes and upload it to hackage, and we'd have a defacto standard ;)
12:24:35 * SyntaxNinja pokes Lemmih
12:25:24 <Lemmih> Huh?
12:25:27 * Lemmih returns.
12:26:32 <SyntaxNinja> Lemmih: just pointing out how great hackage will be real soon now
12:29:32 <syntax_syntax> but I blogged a man in Reno
12:29:34 <syntax_syntax> just to see replies
12:31:37 <Lemmih> SyntaxNinja: Should I do something about Hackage now or wait for a stable GHC 6.4?
12:32:20 <SyntaxNinja> Lemmih: I thinkt he next basic step is to allow people to upload .tgz files with .cabal files inside them,
12:32:27 <SyntaxNinja> then we need to check to see that they're probably not evil
12:32:32 <SyntaxNinja> (maybe)
12:32:52 <SyntaxNinja> then offer an interface to download the tarfiles based on the package names.
12:33:24 <duncan> gpg signing perhaps? or just overkill?
12:33:35 <SyntaxNinja> so some of that can definitely be done before GHC release
12:33:56 <SyntaxNinja> is there an xml-rpc (or something) interface to hackage yet?
12:35:12 <Lemmih> Nope.
12:35:55 <SyntaxNinja> so you see what i'm getting at, right? I basically want an xml-rpc client (or something) to say "I want this package, gimmy the URLs for the .tgz for it and its dependencies"
12:38:21 * Lemmih wonders if xml-rpc is easy to use with apache.
12:40:34 <Lemmih> Looks that way.
12:47:44 * SyntaxNinja lunch &
12:52:30 <CosmicRay> blat.
12:52:34 <CosmicRay> just found another cabal bug.
12:57:06 <Lemmih> @type System.IO.try
12:57:08 <lambdabot> System.IO.try :: forall a. IO a -> IO (Either IOError a)
13:02:39 <Lemmih> Fooie. Hackage doesn't compile with the new Cabal /-:
13:02:45 <CosmicRay> heh
13:03:45 <roconnor> @type intersperse
13:03:46 <lambdabot> bzzt
13:04:06 <Lemmih> @type Data.List.intersperse
13:04:08 <lambdabot> Data.List.intersperse :: forall a. a -> [a] -> [a]
13:12:03 <Lemmih> SyntaxNinja: Would it be possible for Cabal to export Distribution.PackageDescription.basicStanzaFields ?
13:25:34 * CosmicRay uploads haskelldb to sid.
13:26:28 <Lemmih> @seen bringert
13:26:29 <lambdabot> I saw bringert leaving #haskell.se 1 day 26 minutes 10 seconds ago.
13:27:09 <liquidengineer> what's the difference betwween haskell and haskell.se?
13:27:33 <CosmicRay> presumably haskell.se has conversations in swedish
13:28:48 <liquidengineer> ah
13:28:55 <liquidengineer> why sweedish?
13:29:02 <CosmicRay> why not?
13:29:11 <liquidengineer> I mean, I'm just curious?
13:29:24 <CosmicRay> well, perhaps bringert is from sweden?
13:29:28 <CosmicRay> I know shapr lives there
13:29:41 <liquidengineer> is there such a big chunk of haskell programmers that are sweedish that it outnumbers all other localization?
13:29:43 <liquidengineer> ;)
13:29:54 <CosmicRay> perhaps they are just more motivated to use IRC?
13:30:50 <liquidengineer> perhaps
13:31:00 <CosmicRay> I know there are a number of germans
13:32:42 <tic> .se is the code for sweden, in case you didn't know
13:32:57 <tic> also, John Hughes lives here in Göteborg/Gothenburg..
13:49:36 <SyntaxNinja> Lemmih: your wish is my command
13:50:00 <SyntaxNinja> Lemmih: you don't want the others?
13:53:52 <Lemmih> SyntaxNinja: The others?
13:54:34 <SyntaxNinja> Lemmih: the other stanza fields, for executables and libraries
13:54:58 <SyntaxNinja> CosmicRay: thanks for the bug reports
13:55:14 <Lemmih> I designed Hackage for Cabal before it reached 0.1 (: Maybe it should do some re-thinking.
13:56:10 <Lemmih> I'm current getting xml-rpc to compile with GHC 6.4 and using it looks very easy.
14:02:04 <CosmicRay> SyntaxNinja: no prob..  I hope I didn't miss anything
14:02:33 <Lemmih> Saving the entire package description might be desirable.
14:02:54 * Lemmih mumbles some more and goes back to hacking.
14:04:12 <Heffalump> CosmicRay: haskell-http hasn't appear in the Debian archive yet, has it?
14:04:18 <SyntaxNinja> CosmicRay and Lemmih, much hacking will happen this weekend, so try to get your requests in ASAP :)
14:04:27 <SyntaxNinja> Lemmih: probably best to email me, fwiw
14:22:15 <liquidengineer> ugh
14:22:18 <liquidengineer> this is suck
14:22:41 <liquidengineer> I've spent the last two or three hours typing test cases into my Java program
14:22:47 <liquidengineer> next time I'm doing it with files
14:22:50 <liquidengineer> this is stupid
14:23:27 * SyntaxNinja nods
14:23:34 <SyntaxNinja> files are good for if you want to save the test cases ;)
14:37:07 <liquidengineer> she wanted us to write a "testing environment"
14:37:14 <liquidengineer> so she could test it with her own data
14:37:17 <liquidengineer> I guess
14:37:31 <liquidengineer> thus I wrote an interactive testing environment
14:37:43 <liquidengineer> and now it's too close for me to go back and add file I/O logic
14:37:51 <liquidengineer> too close to deadline, that is
14:39:42 <liquidengineer> this was NOT how I wanted to spend my friday afternoon.
14:39:42 <liquidengineer> :P
14:40:06 <Cale> Well, can't you just use a shell pipe to give it input?
14:42:37 <liquidengineer> not really
14:42:44 <liquidengineer> I wrote this interactive menu thing
14:42:51 <liquidengineer> I guess I COULD'VE used a shell pipe
14:42:58 <liquidengineer> but I'm almost done now
14:43:03 <liquidengineer> only four test cases left
14:43:14 <SyntaxNinja> duncan: why no close for a binhandle?
14:43:28 <liquidengineer> I wonder how much simplier this project would've been in python or haskell
14:43:43 <Cale> what does it do?
14:43:49 <SyntaxNinja> I don't know what it is, but it's only 50 lines in haskell
14:43:56 <Cale> heh
14:44:30 <Cale> you can do really nontrivial things with a few hundred lines of haskell code.
14:44:49 <monochrom> Well, Haskell doesn't come with a GUI library out of the box (there are many but you have to look for them), so right at the beginning you would be inclined to use file/stdio for input, which proves to be a drastic simplification as you have realized.
14:45:06 <duncan> SyntaxNinja: I'm not sure, I'd have to go look at the code. I've got to go just now, I'll take a look some other time, sorry.
14:46:02 <SyntaxNinja> that's OK. I'll assume for now that closing the underlying handle is a great idea.
14:46:52 <liquidengineer> I'm doing everything in the console
14:47:01 <liquidengineer> I haven't got to do anything with GUIs since Intro
14:47:32 <liquidengineer> apparently staring at reams of generated random number sets is more l33t than making usable GUIs
14:55:44 <jadrian> what is the appropriate way to ignore Nothings?
14:55:47 <jadrian> for instance
14:56:02 <jadrian> if I have a list  [Maybe Int]
14:56:14 <Heffalump> catMaybes
14:56:15 <jadrian> and I want to know the maximum of the (Just x) elements
14:56:31 <jadrian> Heffalump: you're fast :)
14:57:59 <Heffalump> used it recently :-)
15:01:10 <jadrian> riht :)
15:01:12 <jadrian> right!
15:02:51 <Oeje1> jadrian: catMaybes = map (\(Maybe x) -> x) . filter (/= Nothing)  ?
15:03:51 <Heffalump> \(Just x)
15:03:52 <Heffalump> but yes
15:04:00 <Heffalump> oh, no
15:04:13 <Heffalump>  /= Nothing has the wrong type, it imposes an Eq constraint on the element type
15:04:27 <Heffalump> you want not . isNothing or the equivalent with pattern matching
15:05:55 <jadrian> yeap
15:06:19 <Oeje1> catMaybes = map unJust . filter (not . isNothing)
15:06:58 <TheHunter> @type (=<<) Maybe.maybeToList
15:07:00 <lambdabot> (=<<) Maybe.maybeToList :: forall a. [Maybe a] -> [a]
15:07:15 <Igloo> isJust
15:07:29 <Igloo> Or just a list comprehension
15:07:29 <jadrian> when I asked the question I was actually wondering if there was a general Monadic (or some of subclass of monad) function for that
15:07:44 <Heffalump> what type would it have?
15:08:00 <jadrian> but it doesn't seem possible in any general setting
15:08:07 <Igloo> sequence is close
15:08:11 <jadrian> Heffalump: don't know I was wandering if I was missing some special class
15:08:22 <Igloo> Oh, no, it does the wrong thing with a Nothing
15:08:27 <Heffalump> I was going to say.
15:08:42 <Heffalump> the type is [Maybe a] -> Maybe [a] which indicates something is wrong somewhere :_0
15:08:49 <Heffalump> s/_0/-)/
15:09:10 <Igloo> I knew it wasn't quite right, hence "close"  :-)
15:09:27 <Heffalump> but the Maybe indicates the possibility of failure
15:12:51 <jadrian> well you could make it return [a]
15:12:57 <jadrian> err
15:13:03 <jadrian> that return is english not haskell
15:13:07 <jadrian> :)
15:14:09 <jadrian> but the problem is that I cannot think of any particular monad class that allows you to have that
15:14:14 <liquidengineer> I just won the lottery
15:14:15 <liquidengineer> neat
15:14:15 <TheHunter> the most general you can probably get is probably maybeToMonad :: Monad m => Maybe a -> m, and then catMaybes = (=<<) maybeToMonad :: Monad m => m (Maybe a) -> m a
15:14:30 <liquidengineer> of course
15:14:35 <liquidengineer> it was only a scratch off
15:14:41 <liquidengineer> but I got two in a row
15:15:15 <jadrian> brb
15:23:54 <syntax_syntax> damn.
15:24:03 <syntax_syntax> grrr.
15:24:07 <liquidengineer> ?
15:24:09 <liquidengineer> problem?
15:24:24 <syntax_syntax> yes, I need to get some social skills implanted into me.
15:24:38 <liquidengineer> uh oh
15:24:40 <syntax_syntax> so I agreed to go out with this friend of mine and her friends.
15:24:51 <liquidengineer> did you butter the cat?
15:24:55 <syntax_syntax> but if I had known beforehand who her friends were, I wouldn't have agreed to.
15:25:02 <syntax_syntax> so now I want to get out.
15:25:18 <liquidengineer> what exactly is undesirable about her friends?
15:25:31 <liquidengineer> (not rying to be invasive...this info can be useful for coming up with excuses)
15:25:32 <syntax_syntax> they went to high school with me.
15:25:38 <syntax_syntax> I don't exactly like the high school me.
15:25:42 <liquidengineer> ah
15:26:19 <liquidengineer> come up with some emergency assignment you need to get done
15:26:22 <liquidengineer> that you'd forgotten about
15:26:26 <SyntaxNinja> syntax_syntax: you should dress in your old clothes from high school and pretend that you're still the same gu
15:26:27 <SyntaxNinja> y
15:26:30 <SyntaxNinja> or girl
15:26:35 <syntax_syntax> guy.
15:26:49 <syntax_syntax> SyntaxNinja why oh why would I do that? I want this girl to like me.
15:26:59 <syntax_syntax> She kinda likes me already.
15:27:29 <Paladin2e> Then just try to be civil, by making it in bad situations you could come out with a win.
15:27:31 <SyntaxNinja> syntax_syntax: hm. this is getting trickier than I thought.
15:27:47 <SyntaxNinja> so the girl is the friend who has the friends?
15:27:55 <syntax_syntax> her friends aren't bound to try to embarass me or anything.
15:27:58 <syntax_syntax> they're both females.
15:28:09 <liquidengineer> what is it about your high school self you didn't like?
15:28:19 <SyntaxNinja> the girl doesn't know the you you were in high school, but the friends do?
15:28:29 <syntax_syntax> uhhh. it's a long long story I don't really want to get to.
15:28:59 <liquidengineer> ah
15:29:00 <liquidengineer> well
15:29:00 <syntax_syntax> SyntaxNinja hmm. I'm not precisely a big consideration in her friend's mind. We were never friendly or anything during high school.
15:29:07 <syntax_syntax> We were just from different planets.
15:29:18 <jlouis> syntax_syntax: this sounds more complex than the type of (.) . (.) . (.)
15:29:48 <syntax_syntax> hahaha
15:29:56 <liquidengineer> are the friends of the perspective partner unit likely to point at you and start yelling "pervert!" "jerk!" "Satan!" or some combination of those three?
15:30:05 <liquidengineer> if not, play it cool and be the new you
15:30:10 <liquidengineer> people grow up
15:30:12 <liquidengineer> they change
15:30:16 <liquidengineer> no one likes to live in the past
15:30:22 <liquidengineer> except porn stars
15:30:23 <syntax_syntax> liquidengineer yes, I intend to.
15:30:32 <syntax_syntax> I'm not exactly having to take tough decisions.
15:30:38 <syntax_syntax> it's gonna be uncomfortable though.
15:30:43 <liquidengineer> hmm
15:30:53 <liquidengineer> I still think buttering the cat is a valid option
15:31:05 <syntax_syntax> what IS buttering the cat?
15:31:15 <Paladin2e> yes, please enlighten us
15:31:47 <liquidengineer> it's when you take a knife, and some butter, and apply the butter to the cagty
15:32:08 <Paladin2e> accomplishing what exactly, past a slippery feline?
15:32:32 <liquidengineer> when combined with toast, you can impress women with your knowledge of quantum metaphysics
15:32:42 <liquidengineer> example: butter toast
15:32:58 <liquidengineer> tie to top of cat body so butter is facing away from the cat
15:33:04 <liquidengineer> drop cat off roof
15:33:18 <Paladin2e> ahh, ok, so its Schrodinger's Cat you're buttering?
15:33:32 <Paladin2e> To be in a quantum flux of which side up?
15:33:37 <liquidengineer> two metaphysical laws will then be at odds (toast lways lands on butter side and cat always lands on feet)
15:33:37 <syntax_syntax> I'm confused.
15:33:45 <syntax_syntax> I have enough knowledge to impress anyone impressionable by knowledge.
15:33:53 <SyntaxNinja> there must be diagrams of this on the interweb
15:34:06 <liquidengineer> the cat will then enter paradox, allowing you to watch a cat spin in midair indefinately
15:34:13 <syntax_syntax> heheheh
15:34:26 <liquidengineer> thjis has certain applications for a perpetural motion machine
15:34:59 <syntax_syntax> that is a good ice-breaker for parties.
15:35:13 <liquidengineer> I can't take credit, unfortunately
15:35:19 <liquidengineer> the base joke was given to me by a friend
15:35:22 <liquidengineer> but I spiced it up a bit
15:36:00 <Paladin2e> I just have this vision of fields of perpetural motion kitties, creating energy for a new generation.
15:36:44 <liquidengineer> sounds kind of like a cat Matrix
15:37:16 <Paladin2e> I'm sorry, would the one be Meo-w?
15:37:21 <Paladin2e> I'm sorry.
15:37:43 <liquidengineer> How would you pronounce that?
15:38:33 <Paladin2e> Hmm.. I would guess Mee 'ow.
15:39:10 <liquidengineer> Then shouldn't that be, Mee-ow?
15:39:28 <Paladin2e> Yeah, hard to do phonetic spelling, oh well.
15:40:10 * liquidengineer imagines little kitty doing Matrix Kung Fu
15:41:17 <liquidengineer> I wonder what the morpheus cat would look like
15:41:44 <Paladin2e> Probably like Mr. Bigglesworth ala Austin Powers.
15:41:53 <liquidengineer> hehe
15:42:03 <liquidengineer> I was thinking a cat version of Mufasa from the Lion King
15:42:14 <liquidengineer> the comparison sort of bogs down when we get to the second movie
15:42:19 <liquidengineer> is there such a thing as a cat orgy?
15:42:54 <Paladin2e> Quite possible, depending on where your location is compared to a bunch of cats in heat.
15:43:03 <liquidengineer> hmm
15:43:10 <Paladin2e> Trust me it would sound similar to the movie.
15:43:17 <liquidengineer> lol
15:43:29 <Paladin2e> though maybe with less base.
15:43:35 <SyntaxNinja> Oo
15:44:31 * Paladin2e slaps hand, Bad hand, stay on topic.
15:45:04 <liquidengineer> lol
15:48:36 <liquidengineer> just found a site that talks in detail abotu the "buttered cat array"
15:49:54 <monochrom> haha
15:51:24 <SyntaxNinja> liquidengineer: is it an unboxed buttered cat array or a boxed buttered cat array? ;)
15:52:17 * SyntaxNinja happily accepts award for combining a joke about butter with a joke about Schrodinger's Cat with a joke about compilers for functional languages.
15:52:44 <liquidengineer> hmm
15:52:45 <liquidengineer> nice
15:52:50 <Paladin2e> unboxed could be quite dangerous, claws flailing and akimbo, slippery butter spots
15:53:03 <liquidengineer> http://www.petting-zoo.net/~deadbeef/archive/2109.html
15:53:14 <liquidengineer> more on the buttered cat phenomenon
15:53:22 <SyntaxNinja> Paladin2e: but it would be so efficient!
15:53:51 <Paladin2e> SyntaxNinja: Yes, you're right.
15:55:19 <liquidengineer> and here is the original buttered cat theorem
15:55:20 <liquidengineer> http://www.ausmall.com.au/geek/cats.htm
15:58:11 <jadrian> weird
15:58:29 <jadrian> in a module I defined
15:58:31 <jadrian> data UniError = Occurs | Pattern
15:58:54 <jadrian> now I'm want to import that to another module
15:59:23 <jadrian> if I just import the type constructor it complains about the value constructors
15:59:36 <jadrian> but when I try to import the value constructors it says they are not exported
15:59:43 <jadrian> I'm not exporting anything explicitely
16:00:12 <jadrian> do value constructors have to be explcitly exported?
16:00:21 <jadrian> for some weird motive?
16:00:23 <SyntaxNinja> do you have an export list at all?
16:00:27 <jadrian> no
16:00:45 <jadrian> and I'm importing with
16:00:57 <SyntaxNinja> are you saying "import Foo (UniError(..))"?
16:01:01 <jadrian> import A (UniError,Occurs,Pattern)
16:01:15 <SyntaxNinja> import A(UniError(Occurs,Pattern))
16:01:19 <jadrian> oh
16:01:28 <jadrian> that's how it is done...
16:01:32 <jadrian> had no idea
16:01:36 <jadrian> SyntaxNinja: thanks
16:01:48 <SyntaxNinja> np :) you can repay me by continuing to use explicit import lists :)
16:02:18 <jadrian> SyntaxNinja: np lol :)
16:03:19 <jadrian> SyntaxNinja: ok, I have to ask... why? :)
16:03:57 <jadrian> SyntaxNinja: is someone thinking about removing that feature and you want to gather followers or something?
16:04:08 <SyntaxNinja> explicit import lists protect you from all kinds of annoying problems, and make your code more readable
16:04:17 <SyntaxNinja> no, I just like them and think everyone should always use them.
16:04:34 <jadrian> SyntaxNinja: ah ok, yes, I use them a lot myself
16:04:40 <jadrian> SyntaxNinja: I think they are great too
16:04:51 * SyntaxNinja high-fives jadrian
16:04:57 <jadrian> yey!
16:53:46 <Lemmih_> Woot Woot. Hackage now support xml-rpc (:
16:54:34 <SyntaxNinja> sweet!
16:57:44 <Lemmih_> I'm not sure I got the TH right in haskell-xml-rpc, though.
16:58:03 <SyntaxNinja> TH was involved? :?
16:58:13 <SyntaxNinja> :-/
16:59:46 <Lemmih_> It's for creating instances of XmlRpcType.
17:02:15 <Lemmih_> Sending '?action=xml-rpc' now enables you to access the DB.
17:04:15 <syntax_syntax> I'm considering the DVORAK keyboard again.
17:05:45 <syntax_syntax> anyone here ever tried?
17:06:52 <SyntaxNinja> syntax_syntax: shapr is a dvorak fan
17:08:49 <dons> moin
17:09:25 <dons> SyntaxNinja: Yi needs the latest snapshots. dates in hs-plugins names indicate snapshots
17:09:49 <dons> haven't tried to cabalize it yet. but it has been suggested. I will eventually.
17:10:31 <SyntaxNinja> OK I see.  the Readme is a little confusing for not mentioning the year of the required snapshot
17:11:28 <dons> oh, I see, yes. It says "Nov 20"
17:11:31 <dons> oopps
17:11:57 <SyntaxNinja> if you said "snapshot greater than 20041120" that would probably be more clear
17:12:14 <SyntaxNinja> even mentioning that none of the releases will do would be nice.
17:12:14 <dons> yep. good idea
17:15:32 <syntax_syntax> shapr is a dvorakie?
17:19:14 <SyntaxNinja> yep
17:19:33 <SyntaxNinja> dons: Yi looks cool. I'll be sure to play with it more; emacs keys would be a big plus, of course :)
17:19:55 <SyntaxNinja> dons: FYI, I grabbed a Binary library from c2hs for my binary-file-writing needs
17:20:40 <dons> yep, we definitely need emacs bindings.
17:21:09 <dons> ah ha. the Binary class is all over the place then..
17:21:23 <SyntaxNinja> dons: yes; I'm sure it'll be fixed some day :)
17:21:36 <dons> Malcolm Wallace even wrote a paper on it originally, I seem to recall
17:21:40 <SyntaxNinja> see, if we had hackage all ready, then I could cabal-ize it in short order and upload it, and we'd have a defacto standard :)
17:22:10 <dons> that's true. hmm, getting cabalised is going to be important in about a week, right?
17:22:49 <dons> I should really get in to hs-plugins to see how distributing plugins would work with Cabal
17:23:57 <SyntaxNinja> dons: yeah, as soon as GHC is released
17:24:06 <SyntaxNinja> cabalizing before then is a little dangerous :)
17:24:15 <dons> hehe. yep seems like
17:24:20 * dons watches the commits fly
17:24:35 <SyntaxNinja> definitely, if there were little features that need to be added to cabal to make it possible to cabalize pluggins, that would be important to know.
17:24:53 <SyntaxNinja> but it's almost too late for that, you'd have to tell me like, before sunday for sure.
17:25:29 <dons> oh, I won't get a chance by then, I think.
17:25:44 <Lemmih> SyntaxNinja: Got time to make some design decisions? I would like to know which functions Hackage should export with xml-rpc. Should we keep it simple or have it do stuff like resolving dependencies?
17:25:51 <SyntaxNinja> too bad.  I doubt there's anything special anyway
17:26:31 <dons> plugins aren't terribly different from normal libraries, so I don't see a big problem
17:26:51 <SyntaxNinja> resolving dependencies, location of tarballs, location of tarballs of dependencies, and maybe  getPackageDescription  or something
17:27:21 <SyntaxNinja> dons: cool.
17:27:54 <SyntaxNinja> unless getPackageDescription is too hard
17:28:26 <Lemmih> So getting fields, single description files and dependencies?
17:29:00 <SyntaxNinja> what do you mean by fields?
17:29:16 <Lemmih> Fields of the package description.
17:29:28 <SyntaxNinja> can you just return the whole PackageDescroption type?
17:29:35 <SyntaxNinja> let the clients disassemble it
17:29:42 <Lemmih> Even better.
17:29:56 <SyntaxNinja> then we can just write a marshalling-unmarshalling thing and be done with it
17:30:11 <Lemmih> SyntaxNinja: That is what the TH is for (:
17:30:14 <SyntaxNinja> that's pretty much the interface to hackage from an rpc perspective, I'd say. at least for now
17:33:24 <SyntaxNinja> and as soon as you can upload tarballs and have it swallow them and mark their URL in the database, one could build a "cabal-get" client :)
17:34:57 <Lemmih> Should I unpack files with System.Process.runProcess "tar" ... ?
17:36:16 <SyntaxNinja> yeah, for now I guess.
17:36:23 <SyntaxNinja> 'till we hav esomething better
17:36:31 <SyntaxNinja> good thing is that on the server side, we don't have to be all that portible.
17:36:40 <SyntaxNinja> OK I gotta head home.  thanks for all your great work :)
17:36:41 <SyntaxNinja> peace.
17:37:15 * monochrom begins using haskelldb
17:37:53 <monochrom> haskell+haskelldb it is somewhat more pleasant than ocaml+whatever
17:38:25 <Lemmih> Yeah, HaskellDB is really neat.
18:16:35 <CosmicRay> good evening
18:20:55 * hi CosmicRay 
18:21:42 <CosmicRay> heh
18:21:46 <CosmicRay> bored? :-)
18:22:01 * Would you like some grey pupon?
18:22:08 <Would> yea
18:24:15 <CosmicRay> jej
18:24:17 <CosmicRay> err
18:24:18 <CosmicRay> heh
18:24:49 * Would you like me to take off my pants?
18:30:44 <shapr> that might have side effects....
18:34:13 <CosmicRay> shapr: http://changelog.complete.org/node/232
18:34:50 <CosmicRay> shapr: oh, and DBDirect from haskelldb is cool.  I ran it, and thought it had hung, but I gave it 5 minutes.  turns out it just took awhile because my database has 842 tables in it.
18:34:50 <shapr> I saw that, looks attractive.
18:35:04 <shapr> Yes, HaskellDB r0xx0rs
18:35:05 <CosmicRay> heh
18:35:32 <CosmicRay> shapr: I uploaded it to incoming
18:35:34 <shapr> SyntaxNinja: I didn't do it!
18:35:40 <SyntaxNinja> y0
18:35:44 <shapr> um, y0
18:35:47 <CosmicRay> he's lying.  we have witnesses.
18:36:04 <shapr> aiee
18:36:25 <CosmicRay> you and your insignificant settlement of zion will be crushed!
18:36:40 <CosmicRay> because....  agents are written in haskell!  bwahahahahaha!
18:37:08 <CosmicRay> ok, so I took the matrix thinga little too far...
18:37:18 <shapr> Haskell has matrix libraries.
18:37:20 <CosmicRay> heh
18:37:24 <SyntaxNinja> what's going on here?!
18:37:31 * You are trapped in the matrix
18:37:36 <CosmicRay> shapr: only someone from sweden would think an ice storm looks attractive :-)
18:37:53 <shapr> The snow is chest deep on our deck.
18:38:04 <CosmicRay> that's cool.
18:38:14 <CosmicRay> I like snow.
18:38:16 <CosmicRay> not ice.
18:38:45 <shapr> I went unicycling on the lake until I heard a cracking sound that spread away from me in both directions.
18:38:53 <CosmicRay> snow just means I can't leave home.  ice means that I can't stay home. :-)
18:39:18 <You> shapr: I rode a unicycle once
18:39:38 <shapr> I suspect unicycles are good for programming.
18:40:16 <fraxtal> Are unicycles popular where you live?
18:40:23 <CosmicRay> the only unicyclers I know are haskell programmers.
18:40:28 <SyntaxNinja> shapr is popular, and that's the same thing ;)
18:40:31 <CosmicRay> therefore, we have empirical proof that you are correct, shapr.
18:40:52 * fraxtal looks for unicycles on ebay
18:41:15 <shapr> No, unicycles aren't popular in Sweden. But I saw one in a bicycle store, and I was compelled to purchase it and learn how to ride it.
18:42:02 <shapr> SyntaxNinja: so, you want to learn to unicycle? :-)
18:42:20 <CosmicRay> SyntaxNinja: this, apparently, is how you get shapr to portland :-)
18:42:31 <SyntaxNinja> shapr: if you come to EuroHaskell-US I'll learn :)
18:43:01 <SyntaxNinja> I, personally, would think it's pretty funny to call it EuroHaskell-US and call it the US branch of the european haskell conference.
18:43:08 * shapr grins
18:43:15 <CosmicRay> SyntaxNinja: I agree
18:43:25 <CosmicRay> SyntaxNinja: I like haskell-us-harder too :-)
18:43:30 * shapr snickers
18:43:47 <CosmicRay> (a spinoff of the POSIX_ME_HARDER #define that some gnu stuff uses)
18:44:09 <SyntaxNinja> heh
18:48:06 <SyntaxNinja> can't I have notElemBy? why are there even non-by functions in Data.List. they're lame
19:23:07 <monochrom> need a function to parse date formats
19:24:40 <monochrom> or else I will have to do a hack.
19:24:48 <SyntaxNinja> monochrom: I wrote something a while back to do some of them
19:25:13 <SyntaxNinja> it's in the hc-pkg prototype from the cabal page int he Version module I think
19:25:47 <monochrom> I have a database table with a date column.  I can manually map that to two haskelldb columns, one of type CalendarTime and the other String.  Then I will win!
19:27:05 <monochrom> insert db mytable (date_as_string <<- "January 8, 2004" # ...)
19:27:44 <SyntaxNinja> mine can do a handful of different formats yyyy.mm.yy, jan 8, 2004, january 8, 2004, etc
19:28:21 <shapr> monochrom: ParseDate.hs from Bringert
19:28:37 <shapr> http://www.dtek.chalmers.se/~d00bring/misc/ParseDate.hs
19:28:54 <shapr> It's the best date parser I've found, I use it with curryspondence.
19:29:42 <monochrom> query db (do t <- mytable; restrict (t!date_as_calendartime .>. ...) ...)
19:33:02 <shapr> check out the timeformats list at the end of http://www.scannedinavian.org/~shae/MboxToDB.hs
19:35:00 <shapr> I use "caltime <- listToMaybe $ catMaybes $ flip map timeformats $ flip pc date" because emails have all sorts of random whacked out date formats.
19:35:11 <shapr> hey heatsink, I came up with a partial solution to your question.
19:35:36 <heatsink> let's hear it!
19:36:02 <monochrom> Yeah, I prefer to have my program guess the format.
19:36:17 <shapr> scientists have discovered how to teleport bits from one part of a quantum chip to another.
19:37:03 <heatsink> http://www.kuro5hin.org/prime-intellect/
19:38:02 <shapr> looks interesting
19:38:09 <shapr> I have some unfinished sci-fi stories lying around.
19:38:32 <heatsink> So, this teleportation would be harnessed how?
19:38:42 <heatsink> Or used how?
19:39:30 <shapr> My favorite recent stories are about one about a human society that's 98% composed of Attention Deficit Disorder people, and another story about a race where novelty and new experiences are a drug.
19:39:50 <heatsink> Novelty and new experiences _are_ a drug.
19:39:52 <shapr> Oh, because then you can beat the 2^n wires. That was your question.
19:40:34 <shapr> My premise is that the high comes from fully integrating new experiences and ideas into their mental map.
19:40:37 <heatsink> Oh, i see.
19:41:12 <heatsink> They sound like humans to me.
19:41:21 <shapr> Interesting extensions of this premise of the mental map high: meeting humans or other high tech would likely kill many of them
19:41:39 <heatsink> they're a low tech society?
19:41:39 <shapr> they'd starve to death while integrating all the new input
19:42:14 <shapr> Periodically, yes. About every generation they discover spaceflight, etc and that kills off most of them.
19:42:45 <heatsink> lol.
19:43:24 <shapr> That's how I want the story to start... finding a moon base that would support one person for a few days, and that moon base is made out of wood.
19:44:18 <heatsink> Could work out to a good story.
19:44:36 <SyntaxNinja> I wonder how important the ./setup sdist feature is
19:44:43 <shapr> Yeah, if I'd ever sit down and finish it. That's true of most of my projects.
19:46:16 <heatsink> You could warm up with mostly self-contained mini-stories set within one of your storyworlds.
19:48:42 <shapr> That's a good idea.
20:12:40 <shapr> heatsink: I see why you gave me that url :-)
20:20:35 <heatsink> yeh :) Good story, no?
20:25:04 <shapr> quite cute, yes
22:13:29 <shapr> jiihaa
22:13:39 <Gahhh> jihad ?
22:13:45 <shapr> no thanks, I just ate.
22:13:48 <dons> yihaa
22:13:53 <shapr> Isn't that some kind of barbecue?
22:14:09 <dons> bbq?
22:14:17 <shapr> jihad bbq?
22:14:30 <shapr> Don't they sell that at those foreign restaraunts?
22:14:35 <shapr> Could my humor get any less PC?
22:14:43 <shapr> I think not.
22:14:49 <Gahhh> you are forgiven by the almight Allah
22:15:10 * shapr is struck by lightning, exploded, and squished
22:15:26 <shapr> aanyway
22:15:31 <shapr> dons: what's the eta on synhl?
22:15:42 <shapr> I mean, not like I've actually contributed anything recently...
22:16:01 <dons> ok. now you've got me. I will try and devote some hours this week, and let you know
22:16:15 <dons> I could set aside 1 or 2 days / 7 I reckon
22:16:34 <shapr> emacs is going down hard several times a day for me.
22:16:40 <shapr> sometimes whenever I move the mouse.
22:16:48 <dons> wow. that is scary.
22:17:02 <shapr> Yeah, I dunno what happened, but I know the solution!
22:17:08 <dons> this sounds like a haskell emergency!
22:17:11 * shapr laughs
22:17:25 <shapr> Where's the lambda superhero costume?
22:17:25 <dons> quick, to the haskellmobile, shapr!
22:17:32 * shapr falls over laughing
22:17:40 <dons> lambdaman will save you!
22:18:05 * shapr coughs
22:18:12 <shapr> ahem, I am mostly recovered now.
22:18:31 <shapr> this sounds like a good theme for EuroHaskell 2005
22:19:04 <dons> will the quantum telporters be in place by the time of EuroHaskell, I wonder?
22:19:07 <autrijus> rehi lambdafolks.
22:19:17 <shapr> greetz autrijus!
22:19:37 * dons says in robot voice: we are all lambdatrons here
22:19:46 <shapr> I keep tripping and falling over every time I use those teleporters. Must be quantum entanglement.
22:20:00 <dons> better than losing an arm or a leg!
22:20:25 <dons> or ending up with a arm _for_ a leg
22:20:28 <shapr> eek!
22:20:37 * shapr can't think of anymore quantum jokes
22:20:46 <dons> you can never be sure of these quantum teleporters
22:20:56 <shapr> too many heisenbugs?
22:21:24 <dons> I reckon. intercontinental transportation still seems a bit risky
22:21:44 <shapr> Well you know, when you're moving something the size of a continent...
22:22:12 <shapr> C'mon, Do you really *need* Adelaide?
22:22:58 <dons> hehe. so true
22:23:23 * shapr snickers
22:38:53 <shapr> hiya vikasgp
22:40:32 <shapr> acm sucks
22:40:54 <shapr> I want to read about declarative protocol description languages, but they want me to pay.
22:41:02 <Gahhh> maybe you shouldnt
22:41:45 <dons> hmm. shapr. maybe I could give you an account on my OpenBSD box, and you could tunnel your traffic through unsw ;)
22:41:52 <dons> then you wouldn't have to pay
22:42:01 <Gahhh> they allow from edu domains ?
22:42:18 <dons> if the uni has payed up
22:42:22 <dons> paid
22:42:51 <Gahhh> I wonder if my company has access
22:43:04 <Gahhh> I bet we dont
22:43:52 <vikasgp> data (Expr a) = Constant a | Variable String
22:44:04 <vikasgp> how can I constrain a to belong to Num?
22:44:06 <vikasgp> hi shapr
22:45:26 <dons> data Num a => Expr a = ... ?
22:46:17 <vikasgp> ok, thanks. I tried putting Num a in all the other places :)
22:46:44 <Gahhh> Haskell Report helps in that regard
22:46:57 <Gahhh> though it can be somewhat hard to read
22:47:18 <dons> hmm. I wonder if we could get some of the grammar printed on a  tshirt
22:47:29 <dons> or even better would be typing rules
22:47:38 <tmoertel> upside down, though
22:48:01 <dons> upside down grammars?
22:48:17 <tmoertel> no, upside down printing on the t-shirt: so you could look down at it while coding :)
22:48:19 <Gahhh> You can fit the First Order Logic grammar on a t-shirt
22:48:30 <dons> tom: oh, of course.
22:48:46 <vikasgp> yes, the Report is a bit hard for me to read right now
22:48:47 <dons> and you can fit HM's 'w' alg on a tshirt too
22:49:31 <vikasgp> wearable refcards!
22:49:31 <dons> what about a ghc source code poster.
22:49:44 <dons> it's about as big as linux kernel..
22:50:10 <Gahhh> on a parachute maybe
22:50:24 <dons> they do have linux kernel posters
22:50:31 <shapr> dons: thanks, but I'll just try to bring down the system from the outside.
22:51:39 <dons> luckily most authors put up preprint versions
22:53:09 <tmoertel> i think the evil mangler source would make for a great printed bed cover
22:53:14 <vikasgp> it's really ironic that *computer* science papers are not on the web
22:53:16 <tmoertel> very cozy, it is
22:53:41 <shapr> some researchers in the US are irritated that the government wants to force them to make their research freely available if it was paid for by taxpayers.
22:54:05 <Gahhh> they can sell that research ?
22:54:08 <dons> that's bizarre
22:54:15 <autrijus> they can (and do) patent it ;)
22:54:26 <dons> but, sometimes  you meet this patent guys, and they're a bit weird generally
22:54:31 <tmoertel> yes, it's "incentive" for doing the research (and entering the field in the first place)
22:54:46 <autrijus> mmm the ethics of greed
22:55:06 <shapr> The US national labs patent their work and make the patents freely available. That means that no one can use them.
22:55:45 <autrijus> how does that follow?
22:55:47 <shapr> companies say there's no point in tooling up to produce stuff if someone can just copy anything they figured out.
22:56:21 <shapr> I knew a guy at Oak Ridge National Labs who had some sort of patent on creating clear uranium, and said he could create clear steel too.
22:56:42 <tmoertel> but not the ever-desired transparent aluminum?
22:56:50 <shapr> I could go for steel windshields.
22:57:08 <vikasgp> they could atleast make the old (~60s) papers free
22:57:19 <shapr> Actually, I'd just make a clear steel car.
22:57:20 <Gahhh> do IBM style
22:58:21 <rtega> damn
22:58:36 <rtega> finally understood how simple and usefull a concept like lambda abstractions is
22:59:04 <shapr> I wish I could create a non-profit research organization.
22:59:17 <gzl> haha
22:59:18 <gzl> good luck
22:59:40 <shapr> I've decided the GPL is a GÃ¶del attack on the copyright system, but I haven't found an equivalent attack on the patent system.
23:00:04 <rtega> shapr: a research organization with a lot of subsidies?
23:00:06 <rtega> ;)
23:00:16 <rtega> good morning you all btw
23:00:20 <shapr> good morning rtega
23:00:23 <autrijus> shapr: GPLv3 of course
23:00:32 <tmoertel> the best attack would be an EU w/o software patents
23:01:04 <shapr> Yeah, if the EU shuts down software patents, the whole system will crumble.
23:01:05 <autrijus> or really, any license that has the "patent peace" clause.
23:01:24 <shapr> patent peace?
23:01:42 <tmoertel> then, in good time, the USA software ecology would be slowed by patent thickets and EU, being comparatively frictionless, would pull ahead enough to show the problems with sw patents
23:02:00 <rtega> it would be nice
23:02:02 <shapr> tmoertel: exactly, and companies are not stupid enough to stick in the US and die, they'll just move.
23:02:09 <rtega> but it remains to be seen if we can get it done here
23:02:10 <autrijus> shapr: http://www.mozilla.org/MPL/MPL-1.1.html section 8.2
23:02:26 <autrijus> similar clauses are found in other licenses.
23:02:40 <Gahhh> in other news, Microsoft is hiring new patent experts (slashdot)
23:05:03 <shapr> autrijus: sounds like, if you sue us, our whole family will come after you and assassinate your pets.
23:05:29 <autrijus> something like that.
23:07:00 <shapr> What part of the Perl6 timeline have you reached now?
23:07:51 <shapr> Why is it that Despair comes right after Implementation Begins?
23:07:51 * tmoertel just build most recent pugs from darcs
23:08:07 <tmoertel> (espresso wears off?)
23:08:13 * shapr snickers
23:08:28 <shapr> speaking of which, have you seen these one cup espresso machines?
23:09:05 <tmoertel> no, do they make real espresso or american-consumer "espresso"?
23:09:36 <shapr> My woman got one for christmas, it's great. You put in one tiny bag of grounds and make sure the small water thingy has enough water. Then you press the button and it makes really good coffee.
23:10:01 <tmoertel> is it like the senseo?
23:10:03 <shapr> It's way better than starbucks espresso. Not like that's a challenge...
23:10:11 <shapr> Er yes, I think that's the name in fact.
23:10:23 <tmoertel> is that the cool-looking curvy machine?
23:10:35 <shapr> That's it, it's really well designed.
23:11:08 <shapr> I do sort of wish it had a place to hang the one and two cup spoons on the machine, but that's the only improvement I can think of.
23:11:22 <tmoertel> it's funny that your lady got you one. if i put another coffee-related machine in the house, *my* lady would hurl me into a ditch
23:11:34 <tmoertel> :)
23:11:55 <shapr> Actually, someone else got one for my lady. I'm not really a fan of coffee, just caffeine.
23:12:20 <shapr> Honestly, I'd prefer a nice IV drip with a range of xanthines available.
23:12:36 * vikasgp notes that haskell is quite a common last name, which doesn't really help googling
23:12:45 <shapr> vikasgp: what are you looking for?
23:12:49 <tmoertel> i'm sure that the good researchers as maxwell house are working on the drip
23:14:52 <vikasgp> shapr: just checking if someone's doing research with Haskell in India
23:15:14 <shapr> Hm, I think so.
23:15:35 <vikasgp> where?
23:15:37 <shapr> I think in two different places in India.
23:16:00 <shapr> I'm pretty sure I saw mention of one of them in the HC&AR - http://www.haskell.org/communities/
23:17:25 <musasabi> morning
23:17:40 <shapr> heippa hei musasabi
23:17:57 <musasabi> huomenta :-)
23:18:09 <autrijus> yay. I figured out how perl6 should do its I/O and yet preserve referential transparency.
23:18:31 <autrijus> but everyone in this channel already know the answer anyway. ;)
23:18:54 <shapr> What's the answer?
23:18:58 <tmoertel> naturally: all input and output shall be defined to be the constant string "hello, world!"
23:19:06 <tmoertel> (works for the demos!)
23:20:09 <tmoertel> autrijus: what's the expected result of 1 < 2 < 3 < 4
23:20:38 <autrijus> #t
23:20:48 <autrijus> but the evaluator currently has a bug. fixing
23:20:53 <autrijus> shapr: the answer is monadic io.
23:21:10 <autrijus> http://aut.dyndns.org/tmp/io.txt
23:21:39 * tmoertel loads page but gets a 403 error
23:21:47 <autrijus> tmoertel: you hit the key too fast :)
23:21:48 <autrijus> try again :)
23:22:10 <tmoertel> still get the error
23:22:19 <tmoertel> got it
23:22:23 <autrijus> k.
23:22:28 <shapr> Truly, this looks familiar. Except for the perl part of the monadic IO.
23:22:47 <autrijus> yeah. the idea is to use destructive assignment "=" as the monadic binding "<-"
23:22:57 <autrijus> everything else follows from that.
23:23:07 <shapr> Yeah, makes sense.
23:23:28 <shapr> Someone once told me that all C functions are in the IO monad.
23:23:46 <shapr> Probably because that person learned Haskell first, and C second.
23:23:54 <autrijus> heh :)
23:24:02 <vikasgp> shapr, found it, thanks
23:24:47 <autrijus> mm, the "void context" in that mail should be "IO context"
23:25:47 <shapr> Strange, the Senseo review I'm reading claims the resulting coffee is too strong. I thought the strong pads were just fine. This might be why no one has ever liked my coffee.
23:27:20 <shapr> What's the part of the question about $! being a junction if the first part fails?
23:27:41 <shapr> Is that a reference to a particular line of demo code or something?
23:27:50 <autrijus> $! is like C's "errno".
23:27:55 <tmoertel> it usually holds the result of the last error
23:27:56 <autrijus> it is a global register-like variable
23:28:00 <autrijus> that holds the last error.
23:28:15 <autrijus> so the question is valid. but I don't really know the answer.
23:28:43 <autrijus> s/last error/last captured exception/
23:29:11 <shapr> How can an exception be a junction?
23:29:33 <shapr> Is it like capturing a continuation?
23:29:36 <autrijus> system("ls"); # $! may be set to ERRNO of "ls"
23:29:53 <autrijus> system(any("ls", "df"));
23:30:10 <autrijus> of course, under my monadic treatment, that line will be meaningless
23:30:18 <tmoertel> (0|0)/1
23:30:33 <autrijus> tmoertel: hmm? junctions are sets
23:30:40 <autrijus> 0|0 is just the same as 0
23:30:43 <tmoertel> (1|1)/0
23:30:51 <autrijus> ah.
23:30:56 <autrijus> (1|2)/0
23:31:06 <shapr> I think Haskell would use something like system("ls") +++ system("df")
23:31:08 <autrijus> but yeah. it will be a junction of VError
23:31:18 <shapr> so that if the first fails, you backtrack to the second
23:31:33 <autrijus> right. but that requires explicit sequencing.
23:31:40 <autrijus> Data.Set provides mapSet
23:31:49 <autrijus> but it guarantees to evaluate it in Ord order
23:31:57 <autrijus> maybe we can also guarantee that in perl6. hmm
23:32:01 <autrijus> but not everything is Ord.
23:32:15 <autrijus> heh.
23:32:16 <autrijus> pugs> (2|1)/0
23:32:16 <autrijus> (*** Error: Illegal division by zero: /
23:32:16 <autrijus>     in App "/" [] [Val (VInt 1),Val (VInt 0)] | *** Error: Illegal division by zero: /
23:32:19 <autrijus>     in App "/" [] [Val (VInt 2),Val (VInt 0)])
23:32:23 <autrijus> see, it is a junction of errors!
23:33:04 <shapr> fascinating...
23:35:21 <tmoertel> the question is, are the two div-by-0 errors equivalent?
23:35:36 <autrijus> I don't think so.
23:35:39 <tmoertel> and, if so, is it appropriate/ok/sane to merge them in thejunction
23:35:52 <autrijus> as VError they capture the sourcepos and operands
23:35:56 <autrijus> not simply the text
23:36:05 <autrijus> so I'd argue that they should not be merged.
23:36:08 <autrijus> open to suggestions though.
23:36:14 <musasabi> Is anyone planning on coming to Debconf5?
23:36:26 <tmoertel> i'd argue that as well, but the rationale is harder to justify
23:36:41 <tmoertel> it could be that, by definition, errors are unique
23:36:51 <autrijus> well, currently it's just a byproduct of definition of instance Val deriving Ord,Eq
23:40:20 * tmoertel is fading into sleep
23:40:29 <tmoertel> g'night, all!
23:41:09 <autrijus> 'nite!
23:41:21 <rtega> 'nite
23:56:58 <musasabi> Where was the module hierarchy spec (saying where each module should be put) ?
23:58:21 <gzl> http://www.haskell.org/ghc/docs/latest/html/libraries/ ?
23:59:31 <autrijus> woot. I managed to explain the MonadIO idea without mentioning monads :)
