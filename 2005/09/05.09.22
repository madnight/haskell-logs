00:00:09 <ski> right .. (additive, not multiplicative ..)
00:00:23 <juhp> dons: what do you want it to look like?  I'm not sure if it is possible
00:01:21 <ski> hm, are global points examples of life-after-terminal-object ?
00:01:24 <dons> well, I'd like it not to blink, firstly
00:01:39 <dons> and then if possible, make it a block cursor
00:01:59 <dons> i.e. like gvim or xemacs
00:02:19 <juhp> dons: I set my xemacs cursor to blink :)
00:02:25 <dons> bad juhp
00:02:31 <juhp> :p
00:02:39 <JohnMeacham> dons: are you porting yi to gtk? by any chance are you writing an interface that transparently uses curses or gtk under the hood :)
00:03:03 <dons> yes, i'm (with Lemmih and dcoutts) porting yi to gtk.
00:03:15 <ski> Cale : e.g. 0 : 1 -> Nat
00:03:28 <dons> screen shot: http://www.cse.unsw.edu.au/~dons/yi+gtk.png
00:03:48 <dons> hopefully we'll end up with something that is independent of curses or gtk
00:03:54 <JohnMeacham> cool. I have been meaning to do that with ginsu at some point. I need it to still work under curses though, and I havn't come up with a good abstraction layer.
00:04:05 <dons> though curses is such a pain it still makes me cry
00:04:28 <JohnMeacham> yeah. but I finally got all the corruption issues worked out.
00:04:58 <dons> it's just too low level. everyone who uses it has to reimplement all the window/gtk.textview-ish stuff
00:05:12 <JohnMeacham> was yi suffering from them too under 6.4? the symptom was just a partially drawn screen or progressive corruption as it changed.
00:05:20 <dons> nope. never saw that
00:05:59 <dons> yi only uses waddnstr though
00:06:22 <dons> well, mostly waddnstr
00:06:29 <JohnMeacham> hmm.. I think perhaps it is because ginsu pumps a lot of data at the screen really fast... you would see it with anything. ghc was placing stdout into non-blocking mode, which confused the heck out of curses
00:06:39 <juhp> JohnMeacham: I saw a partial drawn screen once, but scrolling fixed it
00:06:44 <dons> hmm.
00:07:11 <JohnMeacham> juhp: yeah, that was probably the same thing. it would depend a lot on the timing of things as to whether you saw it and how fast your xterm can draw...
00:07:36 <dons> yeah. interesting. no one even reported it
00:07:37 <juhp> gnome-terminal is slow...
00:07:58 <juhp> dons: not sure I can reproduce it... :)
00:08:28 * dons goes off to teach bit twiddling in C (with a secret lesson about types encoded in the lecture..)
00:08:31 <JohnMeacham> in any case, the fix is simple, 'seq' IO.stdin to be sure it is evaluated, then set fd 1 to blocking mode with the Posix routine. yeat it was intermittent, but very anoying.
00:09:12 <dons> yi has raw mode on, i wonder if that makes a difference
00:09:27 <dons> guess not, by the sounds of it
00:09:37 <JohnMeacham> bad terminal emulators is a pet peeve of mine.. I am doing something about it.. but not in haskell http://repetae.net/john/repos/seven
00:09:59 <JohnMeacham> it only started happening as of ghc 6.4
00:13:15 <JohnMeacham> in any case, I look forward to seeing how you do gtk support as I might pull some code back for ginsu.
00:28:24 <tuomov> juhp: s/gnome-terminal/gnome/
00:29:06 <juhp> tuomov: my machine is fast enough that I don't notice
00:29:18 <tuomov> It's absolutely impossible to run gnome stuff over the network
00:29:25 <juhp> except startup..
00:29:39 <juhp> ah
00:30:00 <tuomov> while e.g. xdvi's zoom works just fine over the same network (8M/1M adsl being the bottleneck at the local end)
00:30:38 <juhp> tuomov: how about vnc?
00:30:44 <tuomov> crap.
00:30:54 <juhp> hm
00:31:06 <juhp> tuomov: kde?
00:31:23 <tuomov> I don't want a separate embedded screen for the remote apps
00:31:40 <tuomov> kde I don't know about... but from experience i would expect it to suck less than gnome
00:32:22 * boegel using gnome and i offended
00:32:36 <juhp> tuomov: is the problem with gnome or gtk, you think?
00:32:54 <tuomov> that's just how it is. gnome tends to override and break everything that is^Wwas good about unix and X, kde not so much
00:33:02 <boegel> okay, that came out all wrong
00:33:10 * boegel uses gnome and is offended
00:33:23 <tuomov> http://modeemi.cs.tut.fi/~tuomov/ion/faq.html#1.13
00:33:34 <tuomov> that pretty much explains my unmeasurable hate for gnome
00:34:01 <sieni> glib, gdk, cairo and pango are quite ok, but after that the trouble starts :-)
00:34:23 <boegel> I've never had any real problems with gnome
00:34:25 <tuomov> gdk is redundant..
00:34:28 <boegel> why is kde so much better ?
00:34:32 <juhp> tuomov: hate is a strong word :)
00:34:40 <tuomov> kde doesn't make my life harder even though I don't use it, unlike gnome
00:34:51 <tuomov> juhp: it's appropriate in this case
00:35:06 <JohnMeacham> raw X11. it is the only way to control latency in a reasonable way. although, I can't wait for the xlib replacement library xdg is working on.. that will make it possible to write a lot snappier x applications.
00:35:25 <tuomov> xcb... but asynchronity is painful in C
00:35:29 <sieni> tuomov: gdk works on windows
00:35:42 <tuomov> you want HOFs/continuations for true async code
00:35:54 <tuomov> sieni: windows is irrelevant
00:36:43 <JohnMeacham> Yeah, but Xlib actually makes it impossible to control latency in certain ways, at least with XCB we can write our awesome concurrent haskell interface without resorting to communicating the raw protocol over sockets like fudgets did.
00:36:49 <juhp> tuomov: I wish that were true... :)
00:37:49 <tuomov> nobody uses gdk directly anyway
00:38:00 <tuomov> so it's just an unnecessarily layer of bloat
00:38:53 <juhp> tuomov: seems to me it is useful for implement new widgets
00:39:01 <juhp> implementing
00:39:03 <tuomov> and who needs to implement them?
00:39:14 <tuomov> apps shouldn't work at the level of widgets after all
00:39:31 <tuomov> widgets is the absolutely crappiest UI abstraction there can be
00:39:34 <juhp> in the ideal world maybe not
00:40:04 <tuomov> it's not abstract at all.. it's very specific
00:40:05 <JohnMeacham> I concur. about widgets.
00:40:18 <Cale> So what's the right UI abstraction?
00:40:21 <juhp> tuomov: take it your not overkeen on gtk either then :)
00:40:30 <tuomov> something like http://iki.fi/tuomov/vis/ :)
00:40:51 <tuomov> I'm not keen on widget sets at all.. but gtk in particular is impossible to use due to gobject
00:41:11 <tuomov> and_other_gtk_very_long_names(AND_VERY_LONG_MACROS_THAT_ARE_PAINFUL_TO_TYPE())
00:42:25 <JohnMeacham> I recently wrote a window manager independent tiling utility. ideally, I'm going to extend it to have all the functionality of ion or ratpoison, without actually having to change your window manager, it will work with any xdg-compliant one. I mean, there is no need for a tiling manager to be reparenting, and it can just read the current geometry when you want to move stuff around. http://repetae.net/john/computer/whaw/
00:42:25 <tuomov> vis summary: apps should expose a set of named command data, some with standardised names, and then an UI backend module for an UI of the user's choice can generate the UI partly perhaps automatically, and partly based on a "stylesheet" for that type of UI
00:42:40 <tuomov> s/command data/commands and data/
00:43:34 <JohnMeacham> I found myself having to switch from ratpoison occasionally so wrote it to make things tolerable.
00:49:10 <JohnMeacham> not that I have anything against ion and ratpoison. I use both :) but I had to use some app that didn't play nice at work so whaw was a nice diversion.
00:50:03 <juhp> JohnMeacham: you didn't try writing it in Haskell? :)
00:51:03 <shapr> dons: pong
00:51:08 <JohnMeacham> juhp: no need. It was only going to take an hour either way. on the haskell side it would have been figuring out how to do low level xlib, and on the c side, it just takes a while to write stuff.
00:51:53 <Cale> tuomov: well, I agree about that, but I'm not so sure you have to get rid of the idea of widgets to do that, perhaps just extend the meaning of "widget".
00:52:25 <tuomov> a widget by definition is a control occupying an area of the screen
00:52:31 <tuomov> you need to get rid of it
00:53:09 <JohnMeacham> but I switch languages around for different projects a lot. ideally, it would be a whole lot easier. like.. I can just drop .c .pl (prolog) and .hs files and compile them against each other...
00:53:15 <shapr> dons, dcoutts : Did you get the group writes perms back?
00:53:15 <tuomov> the UI should in theory work by speech or whatever too
00:53:19 <tuomov> no widgets there
00:53:23 <juhp> JohnMeacham: ok - just thought it would be a nice chance to try the Xlib binding that comes with ghc :)
00:53:44 <tuomov> no widgets on the command line either
00:53:55 <Cale> well, I'd probably define widgets as user-manipulable interfaces to specific pieces of program data and behaviour
00:54:06 <tuomov> but that's not what they're understood to be
00:55:51 <JohnMeacham> but C, Haskell, and perl are my top tier languages. pretty much every project falls into the purview of one of them.
00:55:58 <Cale> I've been using glade a bit, and it's sort of heading toward the idea of separating the visual design of a program from the code.
00:55:58 <shapr> w00, I got a t-shirt for my birthday! "There are only ten types of people in the world: those who understand binary, and those who don't."
00:56:21 <Cale> hehe :)
00:56:29 <Cale> happy birthday
00:56:36 <JohnMeacham> happy birthday.
00:56:54 <shapr> Thanks! I've finally reached maturity and wisdom. Or I just got presents.
00:57:02 <earthy> or both!
00:57:04 <JohnMeacham> felicitous anual birth event.
00:57:07 <tuomov> Cale: it still exposes buttons and checkboxes and so on for the application to connect. the design goes the wrong way.
00:57:14 <earthy> congrats
00:57:22 <tuomov> the app should expose command and data for such a tool to be used to generate just a particular type of ui
00:57:27 * earthy shudders to think he'll turn 30 soonish
00:57:41 <shapr> JohnMeacham: Hey, I'm really interested in QuickCheck for optimizations. I know you can use it to check correctness, but I'm not sure how to use it to check speed improvements.
00:58:02 <shapr> earthy: I just turned 34, I'm not impressed :-P
00:58:04 <Cale> tuomov: Right, I agree with that.
00:58:51 <JohnMeacham> shapr: yeah, was I talking to you about that before? I wanted to use it to heuristically determine the complexity of algorithms.. like throw a bunch of data at different sizes at it and curve fit to find if it is O(ln n) O(n^2) .. etc... it can probably estimate constant factors too.
00:59:55 <shapr> You posted to the list about it. We may have talked about it here on #haskell as well.
01:00:05 <JohnMeacham> using the xml loader is sort of better. I think gtk2hs supports that.
01:00:15 <earthy> shae: :P
01:00:25 <shapr> Igloo suggested scripting ghc-prof to get profiling data.
01:00:34 <Cale> tuomov: I've often thought of extending the concept of the "filesystem" -- essentially in the direction of a system-wide namespace, and programs would mount trees of their functionality into it, which other programs would be able to read and visualise.
01:00:47 <shapr> Cale: Isn't that Inferno/Plan9 ?
01:01:07 <Cale> shapr: Possibly, I'm not terribly familiar with either.
01:01:08 <JohnMeacham> shapr: I have not really made any progress.  mainly I want better ways to introspect on what ghc is doing. like ideally a version of evaluate that also returns amount of heap, reductions, cycles used to evaluate that term to WHNF.
01:01:09 <shapr> This looks nice! http://www.cse.unsw.edu.au/~dons/yi+gtk.png
01:01:20 <shapr> JohnMeacham: Yeah, that would be best.
01:01:43 <JohnMeacham> but something crude with getCPUTime should be doable now without too much effort.
01:01:58 <earthy> that is in fact the plan9 idea
01:02:07 <earthy> extended indeed in inferno
01:02:27 <shapr> Cale: Inferno/Plan9 is free, download it and try it!
01:02:28 <earthy> but it lacks 2 things: - a naming convention
01:02:33 <earthy> - types
01:02:39 <shapr> Yeah, I'd want types.
01:02:52 <JohnMeacham> heck, just spit out the raw data and feed it into gnuplot and a single look will probably tell you the complexity of the function :)
01:03:18 <shapr> JohnMeacham: What about http://urchin.earth.li/~ian/bench/bench-0.2/ghc-6.4.1.html ?
01:03:39 <JohnMeacham> I think the only thing missing is a 'size' argument to the arbitrary routine. perhaps a subclass of Arbitrary..
01:03:52 <shapr> Isn't that what coarbitrary is for?
01:04:08 <JohnMeacham> is it? I have not read the paper in a while.
01:04:34 <JohnMeacham> I think bench just uses getCPUTime though, that is what it looked like when I saw the code.
01:05:00 <shapr> QuickCheck explicitly passes a (size, seed) tuple for every generator call. Arbitrary is designed with sized values in mind.
01:05:12 <JohnMeacham> Although I think that 'bench' is an excellent idea. I'd like to try them against jhc ASAP.
01:05:34 <shapr> Hey, did you see the dataflow via comonads paper from yesterday?
01:06:33 <JohnMeacham> yeah. I read through it once. It will take another couple before I internalize it enough to comment on cogently. But I'd love to see a dataflow library of some sort come out of it..
01:06:39 <shapr> Me too
01:06:55 <ski> :)
01:07:06 <shapr> Afaiu, that would make FRP much more accessible, without the difficulties associated with arrows, right?
01:07:07 <ski> hi shapr
01:07:19 <shapr> hej ski, hur mÃ¥r du?
01:07:24 <ski> bra :)
01:08:29 <JohnMeacham> shapr: I hope so.
01:08:37 <shapr> dons: l **/*(#q^I) doesn't show anything. I guess you fixed it?
01:08:41 * ski got an idea re fold and arrows
01:09:27 <shapr> JohnMeacham: Hey, would you be interested in writing a short summary of the cool features of JHC for TMR?
01:09:42 <ski> (which i think is related to external and internal iteration, somehow)
01:09:44 * boegel is amazed about the activiti on the mailing lists lately
01:09:55 <JohnMeacham> I have never really gotten into arrows. I understand the problems with monads they are trying to solve, and have run into those problems myself, but arrows havn't inspired me as the right solution. I wonder if a 'do' notation for comonads will arrise and what it would look like..
01:10:14 <ski> 'codo' ?
01:10:18 <shapr> don't?
01:10:23 <ski> 'undo' ? :)
01:10:29 * shapr snickers
01:11:06 <ski> the most common comonad is of-course
01:11:08 <JohnMeacham> shapr: I was thinking of cleaning up the documention, if i do that I can most likely come up with a nice summary for TMR while I am at it.
01:11:13 <shapr> spiffy!
01:11:31 <JohnMeacham> heheh. I like 'undo' :)
01:11:49 <shapr> I've gotten partway through transcribing the comonad code out of that paper, I wish they'd have the code as a separate tgz.
01:12:04 * ski thinks Splittable and linear implicit parameters is related to comonads, too
01:12:26 <shapr> ski: Yes,that's mentioned in the paper.
01:12:29 <ski> aha
01:12:39 <ski> not started reading it yet ..
01:12:41 <dblhelix> are we discussing the comonad papers that was announced on the haskell mailing list yesterday?
01:12:46 <shapr> dblhelix: yup
01:12:52 <JohnMeacham> shapr: but don't hold your breath :) I tend to work on jhc like mad for a few days and take off a bit, and repeat the process. I'm already a couple days into this phase. hopefully i will get to the docs. well.. actually hopefully I figure out which one of my transformations is corrupting code :)
01:12:56 <dblhelix> ah, still need to read that
01:13:04 <ski> shapr : do they mention of-course ?
01:13:07 <dblhelix> shapr: do you like the paper?
01:13:13 <shapr> dblhelix: C'mon, read faster ;-) Yes I like it!
01:13:22 <ski> hm
01:13:40 <shapr> I was asked about writing a cell simulator recently, dataflow comonads have some advantages over arrows.
01:14:17 <shapr> I'd use arrows if I understood how to define categories well.
01:14:27 <JohnMeacham> Although I don't fully understand the paper posted just now yet, reading it crystalized the previous paper on comonads I read. next paper I read on comonads will cause this one to integrate.
01:14:49 <dblhelix> shapr: well, I've lost some time this morning explaining on haskell-cafe that the definition of (>>=) for the state monad isn't that hard after all... however, now that I've post that, I'm beginning to think it actually is hard... mmm
01:14:54 <shapr> ski: I don't remember if they mention that.
01:15:08 <JohnMeacham> But musasabi has been working on jhc almost as much as me recently.
01:15:27 <shapr> dblhelix: You could put that sort of info into a wiki page, then people will always read your latest ideas.
01:16:09 <juhp> can someone help me with using Cabal for building yi? :)
01:16:18 <JohnMeacham> I am debating whether to create a jhc mailing list. I worry there is not a critical mass, so the list will languish and people who might be interested would look and think the project was dead.
01:16:26 <juhp> + runhaskell Setup.lhs configure --with-compiler=/usr/bin/ghc-6.4.1
01:16:26 <juhp> Cannot import `Distribution.Simple':
01:16:26 <juhp>   it was found in multiple packages: Cabal-1.0 Cabal-1.1.3
01:16:46 <juhp> I tried to hide Cabal-1.0
01:16:51 <dblhelix> shapr: I've thought of that... but I'm a little careful writing monad tutorials... first I think some smart people should gather to write  a tutorial on how to write monad tutorials... it's really tricky...
01:17:17 <dblhelix> do you know any smart people? :)
01:18:01 <juhp> do I need to rebuild hs-plugins against Cabal-1.1.3 ?
01:18:34 <juhp> dons: can you see the above error?
01:18:40 <dblhelix> I'm actually assisting in a freshman course on fp next winter... it's not likely that'll cover monads though... but maybe I've some time and inspiration then to think about how monads should be teached
01:18:53 * earthy coughs
01:19:22 <earthy> monads shouldn't be teached. they should be adopted by sideways assimilation
01:19:43 * dblhelix advises earthy to wear a sweater... that should stop the coughing
01:20:33 <dblhelix> earthy: I used to think about it that way too... but I've seen it fail too many times now
01:20:52 * earthy grins
01:21:05 <earthy> yeah, monads, like continuations, are not a concept for the faint of heart
01:21:18 <earthy> and not a concept that can be picked up without guidance
01:22:03 <dblhelix> earthy: so I think we should lift the problem a view levels: first find out how to teach monads, then teach how to teach monads, and then, finally, teach monads
01:22:12 <dblhelix> /s/view/few (ouch)
01:22:28 <dblhelix> do not dare to laugh
01:22:29 <ProfTeggy> G'day all.
01:22:32 <earthy> ah, but it doesn't work that way, right
01:22:43 <earthy> you find out how to teach monads by trying to teach monads
01:22:51 <dblhelix> earthy: in practice, it doesn't... I'm aware of that
01:22:57 <earthy> then, once you've found out how, you can teach how to teach monads
01:23:32 <dblhelix> earthy: I already explained my feelings towards empirical research methods to you earlier this week ;)_
01:23:43 * earthy grins
01:23:59 <dblhelix> it's useful... period:.
01:26:30 <shapr> dblhelix: I think it's more likely people start by writing bad tutorials, and then oter people improve those tutorials.
01:26:33 <juhp> hmm - after unregistering Cabal-1.0 I get: Could not find module `Distribution.Simple':
01:27:06 <dblhelix> shapr: that's common practice, indeed
01:27:26 <shapr> earthy: I dunno, I picked up continuations easily, though monads took more work. I taught both of them to myself.
01:27:48 <shapr> earthy: Admittedly, lots of explanations here on #haskell about monads helped.
01:28:04 <shapr> g'day ProfTeggy
01:28:07 <dblhelix> shapr: I think some of the existing monad tutorials aren't that bad at all... the intended audience tends to think about it differently, thogh
01:28:15 <dblhelix> /s/thogh/though
01:28:30 <shapr> I like "All About Monads"
01:28:43 * dblhelix too
01:29:11 <dons> juhp, hmm. not sure. unregister Cabal 1.0, and then try rebuilding
01:29:20 <shapr> I think monads are actually simpler than objects to understand.
01:29:27 <dons> hs-plugins uses Cabal at runtime, so it could be linked agains the wrong version, I guess
01:29:43 <juhp> dons: hs-plugins?  I did already - see above
01:30:32 <dons> what code is saying Could not find module `Distribution.Simple'
01:30:47 <juhp> but I think my plugins requires Cabal-1.0, though ghc-pkg didn't care?
01:32:07 <juhp> dons: runhaskell Setup.lhs configure
01:32:33 <juhp> dons: let me try to rebuild hs-plugin
01:33:38 <juhp> s
01:34:34 <shapr> dblhelix: I think anything is easy if the students are motivated.
01:35:59 <juhp> dons: hmm, that gives me the same error ;)
01:36:57 <juhp> dons: ok, my cabal package cfg is broken - sorry
01:37:03 <dblhelix> shapr: yes, and in a perfect world, they are... but you know what's so funny about this world? indeed, it's not perfect... sorry, I was reading some paper headlines... :(
01:37:09 <shapr> hehe
01:37:20 <shapr> I wish for an RSS feed of FP related papers.
01:37:27 <dons> me too!
01:37:43 <earthy> lambda the ultimate has rss
01:37:47 <vegai> are the binaries created by nhc98 self-sufficient?
01:37:53 <shapr> earthy: Yeah, but not enough papers posted.
01:37:58 <dons> statically linked, vegai?
01:38:11 <shapr> dons: If you tell me about papers you want to see posted to LtU, I'll post 'em
01:38:14 <shapr> I'm an editor there.
01:38:21 <vegai> yes, that. And that they don't need anything Haskell installed on the target?
01:38:40 <shapr> Or if anyone wants to see a paper/thesis/etc posted to LtU, tell me!
01:38:44 <vegai> I guess it might be interesting to know the same about ghc too. Does ghc have an ARM backend, btw?
01:39:06 <shapr> I do wish LtU had an RSS feed of papers, and then a gmane.org feed of matching discussions.
01:39:31 <dons> tuba09$ nhc98 T.hs
01:39:31 <dons> tuba09$ ldd a.out
01:39:31 <dons>         libm.so.6 => /lib/tls/libm.so.6 (0xb7f52000)
01:39:31 <dons>         libc.so.6 => /lib/tls/libc.so.6 (0xb7e1c000)
01:39:31 <dons>         /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0xb7f8b000)
01:39:39 <dons> there's your answer, vegai
01:39:59 <dons> ghc doesn't have an arm backend, though Igloo was looking at it. floating point issues, iirc
01:42:36 <vegai> dons: thanks.
01:43:01 <vegai> then finally, gtk2hs for nhc98? =)
01:43:37 <Heffalump> I don't think Igloo is looking at it any more.
01:43:49 <Heffalump> CosmicRay had a look too, and I plan to if I get some time
01:44:19 <dons> you should Heffalump!
01:45:01 <vegai> " So in general, there is no correlation between program errors and type errors. " claims P. Costanza in LtU
01:45:23 <vegai> he defines things differently, or is just plain wrong?
01:45:37 <vegai> well, I guess the discussion continues there
01:46:09 <dons> hmm. that sounds kind of silly.
01:47:13 <shapr> There's a lot of silly on LtU lately.
01:47:38 <shapr> Or maybe I'm gaining a clue and I need to move to other forums to find new information.
01:47:52 <dons> for example, in C types encode explicit information about data sizes and formats, thus type errors often point to program errors concerning incompatible data
01:48:19 * juhp wonders how to generate a ghc pkg config file for Cabal
01:48:40 <juhp> s/Cabal/a package of Cabal/
01:48:48 <pejo> shapr, I find lots of papers cited in discussions on LtU that I probably wouldn't have come across otherwise.
01:53:51 <Heffalump> dons: well, I might need to get permission from work to do it
01:54:12 <Heffalump> but I guess hacking on ghc is never going to create competition for our compiler.
01:55:19 <Cale> How can a type error not be a program error? The language is defined including the type system. A program is not valid if it's not type valid.
01:55:26 <Heffalump> most ARMs don't even have floating point, so I'm not quite sure what the problem is :-)
01:56:34 <Cale> To me, that's the same as saying a syntax error is not a program error.
01:57:23 <Cale> (well, it's analogous)
01:57:33 <shapr> boegel: Hey, think you can finish your HRay article?
01:58:26 <dons> for your C compiler, Heffalump?
01:59:02 <dons> (not ARM's secret high-performance Haskell compiler...)
01:59:05 <shapr> boegel: poetix and Oleg have articles so far... I can write a testing article pretty quickly. If you finish your HRay article, I'll publish the next issue!
01:59:10 <ski> (Cale : maybe he was thinking of stuff not being possible in statically typed lang without e.g. parametric polymorphism ..)
01:59:16 <pejo> Heffa, just wait until the revolution comes! ;)
01:59:43 <vegai> Cale: I guess they're saying that the type system is kind of a frosting around the program
01:59:48 <vegai> Cale: and the frosting is not the program
01:59:52 <ski> (Cale : i.e. program after type-erasure doesn't go wrong)
01:59:56 <dons> what's floating point good for anyway. real programmers just use words
02:00:15 <boegel> shapr: yeah, I think I should be able to manage
02:00:18 <shapr> spiffy!
02:00:25 <boegel> let me see what needs to be done...
02:00:28 <shapr> Anyone else want to write up a TMR article for the next issue?
02:00:39 <shapr> Cale: Laziness for compositionality? :-)
02:00:48 <shapr> I really want to read that one.
02:00:53 <Cale> yeah, I know
02:00:58 <Heffalump> dons: yes, for our C compiler :-)
02:01:01 <Cale> I also have no excuse not to write it
02:01:03 <boegel> hmm, quite a lot it seems
02:01:03 <Cale> :)
02:01:05 <Cale> hehe
02:01:09 <Cale> so I'd better write
02:01:11 <Heffalump> I'm not allowed to tell you about the secret high performance Haskell one.
02:01:21 <boegel> and it's been a while since I checked out the code... but I'll give it a shot
02:01:22 <dons> you could add support for GHC to compiler via ARM's C compiler.. that would create customers!
02:01:23 <Heffalump> Or even mention its existence.
02:01:34 <dons> hehe
02:01:36 <boegel> I'll work on it on lunch break today, and see how fast it grows
02:01:37 <Heffalump> I guess -fvia-C might work.
02:01:44 <shapr> boegel: cool!
02:01:54 <Heffalump> but since our compiler is $6k, I don't think many Haskellers will be jumping up and down to get it.
02:01:58 <boegel> it'll be quite a large article dough, because I (try to) explain most of my code
02:02:10 <pejo> Heffa, doesn't the RTS need porting and such as well though?
02:02:24 <dons> yeah of course. but it's written in portable C
02:02:49 <pejo> Heffa, as for $6k - no edu discounts?
02:03:07 * shapr can barely afford GHC
02:03:30 <Heffalump> pejo: not sure.
02:03:49 <Heffalump> I suspect not.
02:03:53 <pejo> shapr, ghc should be installed at ltu, free of charge!
02:03:59 <shapr> w00!
02:04:20 <pejo> shapr, (are you in Luleå now?)
02:06:03 <wilx> Ha!
02:06:09 <wilx> New version of GHC went out on my birthday!
02:06:26 <wilx> Anyway.
02:06:43 <wilx> Is there a way to connect to FreeNode without ident running?
02:08:06 <vegai> just do it?
02:08:23 <dons> just do it and wait for the timeout
02:08:40 * boegel mentions his birthday is coming up and everyone should make sure they have a gift :P
02:09:07 <shapr> pejo: Nah, SÃ¤vast.
02:09:21 * juhp is back with a fixed Cabal-1.1.3 package
02:09:23 <shapr> boegel: Happy Birthday!
02:09:33 <wilx> It just disconnects me if it doesn't find the ident.
02:09:41 <boegel> shapr: coming up, as in within 2 weeks ;)
02:10:40 <shapr> g'day JaffaCake
02:10:47 <JaffaCake> mornin'
02:11:30 <juhp> dons: now building hs-plugins with Cabal-1.1.3 give me: src/Language/Hi/Parser.hs:51: error: ../../../config.h: No such file or directory
02:14:53 <sylvan> juhp, try using /.configure -> make -> make install, instead of the cabalised stuff
02:15:18 <sylvan> (I got that error too, IIRC I fixed it by using make and not Setup.hs)
02:16:56 <juhp> sylvan: I'm using the darcs tip though - all the build targets are gone afaict
02:17:16 <sylvan> I did too
02:17:37 * juhp is _not_ enjoying cabal today
02:17:41 <JohnMeacham> Howdy.
02:18:12 <sylvan> I did this just yesterday so it shouldn't be a problem..
02:18:14 <juhp> sylvan: make just runs check for me
02:18:23 <sylvan> hmm
02:18:27 <sylvan> what does ./configure do?
02:18:43 <dons> juhp, did you run runhaskell Setup.hs configure?
02:18:58 <juhp> dons: yes
02:19:00 <dons> do you have the latest hs-plugins?
02:19:11 <juhp> I think so
02:19:29 <juhp> dons: hasn't changed in a few days, has it?
02:19:47 <dons> sylvan, hs-plugins is cabalised, so should only need normal runhaskell commands to build
02:19:59 <sylvan> well that didn't work for me either (same error as juhp)
02:20:13 <dons> juhp, when you ran Setup.hs configure, did you see: config.status: creating config.h
02:20:38 <sylvan> ./configure does create config.h though!
02:20:49 <sylvan> That may be what I did.. ./configure then "runhaskell Setup.hs build"
02:20:52 <juhp> dons: no
02:20:57 <dons> it does, but Setup.hs configure mightn't run configure in older Cabals
02:21:05 <dons> mightn't run ./configure
02:21:18 <dons> if it doesn't create it. run ./configure by hand and pass --prefix
02:21:43 <dons> sounds like that's what sylvan did to work around ./configure not being run
02:22:02 <sylvan> I had the latest cabal at this time, btw, so It's probably not a cabal issue
02:22:10 <juhp> dons: instead?
02:22:22 <dons> oh, is ./configure executable?
02:22:38 <juhp> no
02:23:16 <sylvan> ah... you forgot to DL patches using --set-scripts-executable?
02:23:46 <sylvan> (that's probably what I did too :-))
02:24:05 <juhp> dons: I mean run configure instead of "Setup.hs configure"?  not both right?
02:24:15 <juhp> sylvan: yeah
02:24:18 <sylvan> or just set configure to be executable and then use Setup.hs configure
02:24:34 <sylvan> Cabal doesn't run configure because it isn't executable
02:24:41 <juhp> ah!
02:24:46 <juhp> thanks
02:25:25 <juhp> sylvan: working now :)
02:25:27 <boegel> shapr: writing the HRay article...
02:25:52 <sylvan> juhp, whee!
02:25:53 <juhp> wonder why it working previously though - strange
02:26:01 <juhp> worked
02:28:13 <juhp> wow - finally yi is building :)
02:29:56 <sylvan> okay, yi bugs the crap out of me.. Could anyone else try just excessivly navigating around a document using Home, End, Page Up, Page down? Just generally mashing those keys?
02:30:00 <sylvan> I get this: *** glibc detected *** corrupted double-linked list: 0x0843a550 ***
02:30:00 <sylvan> Aborted
02:30:16 <sylvan> So I'm guessing there's a bug in GTK+ somewhere..
02:30:34 <sylvan> But if so, it seems strange that I'm the only one getting it =/
02:32:54 <juhp> boot/Dynamic.hs:59:14: Not in scope: `loadFunction_'
02:33:57 <dons> sylvan, don't say "bugs the crap out of me" when it's only a few days old (yi+gtk that is)
02:34:00 <dons> ;)
02:34:05 <JaffaCake> dcoutts: when can we expect a GHC 6.4.1 ebuild for Gentoo?
02:34:08 <sylvan> but it's probably GTK right?
02:34:12 <sylvan> which is more than a few days old =)
02:34:18 * boegel swears
02:34:20 <dons> juhp, loadFunction_ is in latest hs-plugins. so I'm not sure why you don't have it
02:34:39 <juhp> hmm
02:34:45 <dons> sylvan, yeah that looks certainly like gtk's fault
02:35:36 <sylvan> dammit.. so why am the only one who gets this? (apparently)
02:35:43 <dons> your gtk is old?
02:36:22 <sylvan> 2.8
02:36:30 <dons> juhp, you're looking for the following patch to the hs-plugins repo: Wed Sep 14 02:54:28 EST 2005  lemmih@gmail.com
02:36:33 <dons>   * Refactored System.Plugins.Load.loadFunction
02:36:56 <dcoutts> JaffaCake, in the next day or two probably, at least the source ebuild, we'll do the ghc-bin one later
02:37:16 <JaffaCake> cool.  will it be unmasked?
02:37:41 <dcoutts> JaffaCake, you mean marked stable?
02:37:59 <JaffaCake> yes, whatever they call it :)
02:38:02 <dcoutts> JaffaCake, it'll start out with the ~x86 and ~amd64 keywords
02:38:20 <dcoutts> JaffaCake, but we hope to get it to stable asap
02:38:54 <JaffaCake> ok, what's the process for getting it to stable? is there a set of criteria?
02:39:07 <dcoutts> JaffaCake, usual time with no bug reports would be a couple weeks or som it's just a judgement
02:39:36 <JaffaCake> thanks.  just updating the Gentoo installation on my laptop
02:39:43 <dcoutts> JaffaCake, but users can emerge it anyway, just: ACCEPT_KEYWORDS="~x86" emerge ghc
02:39:59 <JaffaCake> yeah
02:40:17 <JaffaCake> can't get suspend to work on this laptop :(
02:40:21 <dcoutts> JaffaCake, I didn't know we had you as a user :-)
02:40:36 <musasabi> Is "*** Exception: expectJust upsweep_mod:old_linkable" in ghci fixed in 6.4.1?
02:40:44 <JaffaCake> yes, been using Gentoo on and off for quite a while
02:40:59 <JaffaCake> musasabi: that one sounds familiar
02:41:22 <dcoutts> JaffaCake, you might be interested in our development portage overlay and our dev channel #gentoo-haskell
02:41:47 <JaffaCake> dcoutts: great, thanks
02:42:41 <dcoutts> JaffaCake, we use darcs to manage a portage overlay for all the ebuilds we're currently testing
02:42:54 <JaffaCake> neat
02:43:57 <dcoutts> it makes it easy for our team to share fixes quickly and for people other than the official devs to test our ebuilds and make contributions
02:44:16 <smott> @pl \a b -> (f a b) / (g a * h a)
02:44:17 <lambdabot> ap (flip . ((/) .) . f) (liftM2 (*) g h)
02:45:55 <dcoutts> sylvan, btw I can't reproduce your yi problems, do I have to do anything special? I paste in a bunch of text and then navigate around with the arrow keys & home/end/phup/pgdn etc
02:46:32 <sylvan> I just opened it, typed some text and the navigate around using the home,end,pageup,pagedown.. I guess I might have reached insert and delete as well...
02:46:46 <sylvan> I'll try to find the exact sequence that gives an error
02:48:56 <sylvan> this crashed: "asdf", then backspace all the way to the left, then End twice..
02:52:25 <sylvan> strangely it doesn't crash now...
02:52:29 <sylvan> very random it seems
02:55:24 <dons> C is so great :)
02:55:36 <sylvan> =)
02:56:12 <sylvan> hmm.. I've installed some more GTK stuff (like HTML rendering and GL stuff) and wanted to recompile gtk2hs but I get "tools/c2hs/base/general/GetOpt.hs:1:0:
02:56:12 <sylvan>     Module `GetOpt' is a member of package util-1.0.
02:56:12 <sylvan>     To compile this module, please use -ignore-package util-1.0.
02:56:12 <sylvan> "
02:56:32 * shapr snow crashes sylvan's computer
02:56:44 <sylvan> Compiling gtk2hs worked fine yesterday...
02:56:52 <sylvan> snow?
02:56:57 <dcoutts> sylvan, ah you're using ghc 6.4 and have some package installed which exposes the util package. This breaks everything.
02:57:14 <sylvan> I tried ghc-pkg hide util-1.+
02:57:15 <sylvan> I tried ghc-pkg hide util-1.0
02:57:24 <dcoutts> sylvan, what extra packages have you installed since yesterday?
02:57:45 <sylvan> hide, yi, haskelldb, hsql
02:57:58 <dcoutts> sylvan, that's no good since they're already hidden, it's other packages that indirectly expose them
02:58:26 <dcoutts> hmm
02:58:56 <sylvan> hmm.. mogul-0.9.9 is also here, wonder what that is =)
02:58:57 <dcoutts> ok, for each of thsoe try this:
02:59:06 <dcoutts> ghc-pkg field $PKG depends
02:59:28 <dcoutts> mogul is a gtk2hs package, we're going to drop it however as it's not much good
03:00:02 <dcoutts> sylvan, and if any of them report that they depend on the util package then we've found the culprit
03:01:42 <poetix> @wiki hIDE
03:01:42 <lambdabot> http://www.haskell.org/hawiki/hIDE
03:02:18 <shapr> hiya poetix!
03:02:21 <poetix> http://lambda-the-ultimate.org/node/view/991 <- LtI mentions Visual Haskell
03:02:25 <poetix> So I'm telling them about hIDE
03:02:30 <sylvan> hmm.. none of them depends on util, or so it seems...
03:02:35 <poetix> LtU, that is
03:02:47 <shapr> Isn't that LtU? Or were you saying Lambda the Idiot, refering to some new members?
03:03:14 <sylvan> aha! Cabal-1.1.4
03:03:25 <dcoutts> sylvan, ah yes
03:03:40 <shapr> poetix: Anyway, I don't think you need an arrows intro to read that comonads paper.
03:03:53 <poetix> No, I know. I was just having a poke. ;)
03:03:54 <dcoutts> sylvan, hmm I'd thought that I'd sent in a patch to stop it depending on util, since it doesn't use it
03:04:36 <sylvan> hmm.. it doesn't seem to help if I hide Cabal
03:04:50 <shapr> poetix: Yeah, I'll get around to finish the ArrowsIntroduction at some point :-)
03:04:58 <dcoutts> hmm looking at our cabal-1.1.3 ebuild it looks like we're still manually removing util from the build-depends
03:05:28 <dcoutts> sylvan, so you can rebuild & install cabal after removing util from the build depends
03:05:36 <poetix> There we go - I pimped the hIDE wiki page on LtU
03:05:41 <shapr> yay!
03:05:50 <dcoutts> poetix, well don't raise people's expectations to much, it's still only in early developments!
03:06:03 <poetix> I said "there is work afoot" and pointed them to the wiki page
03:06:09 <dcoutts> ok
03:06:12 <sylvan> but I still have Cabal-1.0 there (came with GHC?) how do I remove it?
03:06:27 <shapr> There's also the RSS feed for the darcs repo if you want to see the foot in action.
03:06:33 <dcoutts> sylvan, you can keep it or use: ghc-pkg unregister Cabal-1.0
03:07:47 <shapr> I shoudl really hammer the QuotesPage into fortune format.
03:08:08 <sylvan> that seemed to do the trick
03:08:34 <poetix> Goodness me, PIDA is a terrible name for an application!
03:08:44 <poetix> What do they called the userbase? PIDA-philes?
03:09:04 <dcoutts> JaffaCake, you put in the fix into 6.4.1 for the building with cabal(s) already instaled? So I don't need to add "GHC+=-ignore-package Cabal" to mk/build.mk anymore?
03:09:39 <JaffaCake> yes, that's right
03:09:58 <dcoutts> ok, I can tidy up our ebuild a bit
03:12:14 <dcoutts> JaffaCake, if you're looking for build system wrinkles you could do worse than looking at our ebuild to see the hacks we're using :-)
03:12:36 * JaffaCake is too scared to look
03:12:58 <dcoutts> JaffaCake, actually it's not so bad
03:13:56 <dcoutts> and we have to cope with some pretty odd setups like people using hardened gcc toolchain which would normally break ghc mangler
03:14:25 <JaffaCake> interesting, what does the hardened gcc do differently?
03:15:09 <dcoutts> stack overflow protector things cause breakage
03:15:45 <dcoutts> and doing position independent executables by default (so progs can be loaded at randomised addresses) causes breakage
03:16:17 <dcoutts> we add to the ghc command line: -optc-nopie -optc-fno-stack-protector -optc-fno-stack-protector-all
03:16:31 <dcoutts> we do that in the /usr/bin/ghc driver script
03:17:09 <dcoutts> so it turns off those features if gcc was using them by default
03:18:38 <shapr> hiya ignas
03:18:46 <ignas> hi
03:18:50 <shapr> how's code?
03:19:39 * shapr ponders how to use QuickCheck with Zope.
03:27:59 <ski> fby :)
03:35:44 <greenrd> @pl \f -> all (not . f)
03:35:44 <lambdabot> all . (not .)
03:45:25 <musasabi> Is OOHaskell going to be packaged up as a Cabal library at some point?
03:50:55 * boegel returns back from lunch early to work on his HRay artcile
03:51:00 <boegel> *article
03:51:41 <sylvan> boegel, do you spawn a new thread for each ray (or cluster of rays)? That could prove useful with the -threaded flag...
03:51:57 <sylvan> raytracing is almost embarassingly parallell so it's easy to use more CPUs
03:56:16 <boegel> sylvan: new thread for each ray
03:56:25 <sylvan> cool
03:56:32 <boegel> sylvan: I kept it fairly simple, but you're free to fiddle around with it
03:56:46 <boegel> sylvan: oh wait no, I misunderstood :) no thread-stuff (yet)
03:56:55 <Igloo> vegai: dons: Heffalump: I'm expecting ghc to just work on arm in Debian when 6.4.1 is packaged
03:56:55 <boegel> sylvan: I kept it fairly simple, but you're free to fiddle around with it
03:56:56 <boegel> ;)
03:56:59 <sylvan> =)
03:57:11 <sylvan> I might do that when I get home later...
03:59:07 <vegai> Igloo: would you guess it to be a reasonble platform for relatively low-mem devices? (64MB ram?)
03:59:15 <boegel> sylvan: cool, be sure to let me know...
04:00:16 <Igloo> Compiling ghc itself in that amount of RAM would probably be painful, but I think it would be fine for smaller things
04:02:34 <Heffalump> igloo: oh, how come?
04:02:47 <Heffalump> is making a cross-compiling ghc feasible?
04:02:52 <Heffalump> (how come re "it just working")
04:03:57 <Igloo> Because it'll use gcc 4 which (unless the plan was changed) uses the same format for floats as everyone else
04:04:04 <Igloo> It'll still need bootstrapping
04:05:34 <Heffalump> how easy is that?
04:06:06 <Igloo> Shouldn't be difficult, just take a while
04:06:38 <vegai> it'd be fun to counter the recent "C# running on Nokia 770" with "Haskell + gtk2hs running on Nokia 770" :P
04:07:17 <Heffalump> vegai: :-)
04:07:33 <Heffalump> how much RAM does a Nokia 770 have? And what ARM core is it?
04:07:56 <vegai> more so because they didn't even show any UI things in their C# demo
04:08:08 <Igloo> . o O (compile Haskell to F#, F# to IL, decompile IL to C#)
04:08:40 <Heffalump> ah, 64MB ARM926.
04:08:54 <Heffalump> igloo: you can compile Haskell to F#?
04:09:18 <Igloo> The compiler implementatino is left as an exercise to the reader
04:09:32 <juhp> dons: thanks - got yi built now :)  - does it run inplace?
04:10:28 <Igloo> Isn't it going to be a fairly straightforward translation, even with the lazy->strict (assuming F# is strict only) though?
04:10:40 <dcoutts> juhp, oh are you helping out with hIDE ?
04:10:41 <juhp> dons: guess not
04:11:05 <juhp> dcoutts: not quite there yet - but trying out gtk yi so far :)
04:11:23 <dcoutts> juhp, are you running it stand-alone or in the context of hIDE?
04:11:43 <juhp> dcoutts: haven't gotten to building hIDE yet :)
04:11:47 <dcoutts> I've only used it when embeded in hIDE so far
04:11:56 <juhp> ah ok
04:12:17 <juhp> dcoutts: as a lib then?
04:12:34 <dcoutts> yes it's a lib and a small static core
04:12:47 <dcoutts> everything is loaded synamically
04:12:54 <dcoutts> synamically/dynamically
04:13:08 <dcoutts> so it needs to be installed/registered
04:13:13 <juhp> yeah only 4MB ;-P
04:13:39 <dcoutts> oh, heh, for some definition of small
04:13:46 <juhp> ok, 3 after stripping :)
04:13:48 <dcoutts> small amount of Haskell code :-)
04:13:54 <juhp> yeah :)
04:14:28 <dcoutts> actually of course that "small" static core depends on hs-plugins which is not so small
04:15:09 * juhp wonders if ghc will support shared libs before cabal has --libdir ;o)
04:16:01 <boegel> wb Itkovian
04:16:31 <dcoutts> juhp, it'll support --libdir if you send in a patch :-)
04:16:43 <Itkovian> mm
04:16:44 <juhp> yeah...
04:16:48 <dcoutts> juhp, actually the Cabal code is quite readable, it shouldn't be hard
04:17:05 <dcoutts> juhp, we (gentoo folk) have sent in a number of patches so far
04:17:44 <juhp> so far I have been lazy and just worked round it in my spec files (for amd64)
04:18:23 <juhp> dcoutts: how does gentoo handle multilib on amd64/x86-64
04:18:25 <juhp> ?
04:18:44 <dcoutts> juhp, it mostly doesn't :-)
04:18:51 <juhp> or 32bit libs?
04:18:58 <juhp> oh
04:19:04 <dcoutts> juhp, I think some core packages come it both, but most just do 64bit
04:19:22 <nothingmuch> http://en.wikipedia.org/wiki/Administrative_Normal_Form
04:19:28 <nothingmuch> can someone please fill that in with a link or two?
04:19:49 <juhp> dcoutts: I mean in terms of install dirs?
04:19:56 <dons> dcoutts, yes, I should look to make hs-plugins down
04:20:27 <juhp> dcoutts: fedora installs 32bit libs in /usr/lib and 64bit in /usr/lib64
04:20:48 <juhp> as a rule
04:21:02 <dcoutts> juhp, gentoo installs 32bit libs in /usr/lib32 and 64bit in /usr/lib (and symlinks lib64 to lib)
04:21:16 <juhp> ok
04:21:32 <juhp> dcoutts: then --libdir is less of a problem for you I guess...
04:21:35 <dcoutts> yes
04:21:52 <dcoutts> the gentoo folk don't think much of the LSB :-)
04:21:54 <raboofX> can I create a wxHaskell program and compile it into binaries for Mac, Windows and Linux?
04:22:06 <dcoutts> raboofX, yes
04:22:17 <Borka> if i have a list like this [0, 2, 3] and i want to match it against [a,b,c,d,e,f] so if i typ function 0 i get a and function 2 i get c and so on ?
04:22:32 <Wilmer> hey, a raboof :-)
04:22:32 <dcoutts> raboofX, and you can do the same with Gtk2Hs :-)
04:22:53 * dcoutts is for ever pushing Gtk2Hs
04:22:56 <raboofX> dcoutts: nice. i should be considering porting my app from c++ then :)
04:23:09 <dcoutts> raboofX, certainly! :-)
04:23:21 <raboofX> dcoutts: how does it compare to wxHaskell?
04:23:40 <dcoutts> raboofX, much the same way Gtk+ compares to wxWidgets
04:23:57 <raboofX> k
04:24:05 <dcoutts> raboofX, at the moment Gtk2Hs has better automatic memory management and unicode support
04:24:25 <dcoutts> raboofX, wxHaskell has better introductory tutorials, Gtk2Hs has better reference documentation
04:24:47 <dcoutts> raboofX, wxHaskell progs do not need X11 on MacOS X
04:25:49 <dcoutts> they are both fairly mature and have been used for medium sized projects
04:27:24 <dcoutts> wxHaskell & Gtk2Hs work on Linux, Windows & MacOS. Gtk2Hs also works on Solaris, FreeBSD and OpenBSD.
04:27:43 * shapr stabs emacs
04:27:55 <shapr> gnu emacs crashes or deadlocks so often :-(
04:28:02 * shapr darcs gets yi+gtk
04:28:08 * dcoutts offer shapr a alpha version of yi
04:30:16 * shapr tries make -j 2 with hs-plugins
04:30:57 * dcoutts offers shapr both pieces of his broken build
04:31:03 * shapr grins
04:31:39 <shapr> aww, "configure: error: cannot find sources (src/plugins/System/Plugins.hs) in . or .."
04:35:54 * juhp repackages
04:36:57 <juhp> hmm register.sh seems to have the wrong prefix
04:37:22 <Itkovian> shapr: use vim.
04:37:37 <Itkovian> btw, anybody tried the HaskellStudio yet?
04:37:48 <juhp> nm - there is a .installed-pkg-config file :)
04:37:53 <dcoutts> juhp, are you using the cabal ./setup rehister --genscript feature?
04:37:59 <Itkovian> erm Visual Haskell I mean
04:38:05 <juhp> dcoutts: I was...
04:38:28 <juhp> relunctantly
04:38:48 <dcoutts> juhp, yes the current hack we use is to replace ghc-pkg in the .setup-config with /usr/bin/true just before running ./setup register
04:39:11 <dcoutts> that then just writes out .installed-pkg-config and then we register that ourselves
04:39:27 <dcoutts> we register that in the post-install action
04:39:54 <dcoutts> so we stash it aways somewhere in the package and register it in the post-install action
04:40:32 <dcoutts> note that the .installed-pkg-config will only get written if there are libs to register, if there are just binaryies then you get nothing
04:40:38 <boegel> shapr: I think my article is finished... I need someone proofreading it though
04:40:58 <dcoutts> juhp, here's the code from our haskell-cabal eclass:
04:40:58 <dcoutts> cabal-pkg() {
04:40:58 <dcoutts>     # This does not actually register since we're using /usr/bin/true instead
04:40:58 <dcoutts>     # of ghc-pkg. So it just leaves the .installed-pkg-config and we can
04:40:58 <dcoutts>     # register that ourselves (if it exists).
04:41:00 <dcoutts>     sed -i 's:ghc-pkg:/usr/bin/true:' .setup-config
04:41:02 <dcoutts>     ./setup register || die "setup register failed"
04:41:04 <dcoutts>     if [[ -f .installed-pkg-config ]]; then
04:41:06 <dcoutts>         ghc-setup-pkg .installed-pkg-config
04:41:08 <dcoutts>         ghc-install-pkg
04:41:10 <dcoutts>     fi
04:41:12 <dcoutts> }
04:41:36 <shapr> boegel: w00! that was fast!
04:41:53 <vegai> those gentoo eclasses are quite nice
04:42:22 <dcoutts> vegai, yes, most of our cabalised ebuilds are now just a dozen lines long
04:42:27 * ski wonders why _ev calls itself in the Rec case, instead of calling ev
04:42:27 <boegel> shapr: I didn't ellaborate on the Perlin noise, UI and parser stuff, I don't think it's necceasary
04:42:32 <boegel> if it is, let me know :)
04:43:06 <vegai> [vegai@kontu haskell-src-exts]$ wc -l PKGBUILD
04:43:06 <vegai> 28 PKGBUILD
04:43:15 <vegai> (Archlinux, no eclassy features)
04:43:23 <dcoutts> vegai, and we've now got a program to generate the ebuilds by querying the hackage server
04:43:50 <dcoutts> hackport merge haskelldb-0.9
04:44:11 <dcoutts> and it asks the hackage server about the package and adds an ebuild to your local portage overlay
04:44:49 <dcoutts> the credit for the prog goes to der_eq
04:54:23 <Itkovian> any idea if hIDE will be able to refactor e.g. variable names?
04:55:11 <dcoutts> if we can integrate with that refactorer from cs.ukc.ac.uk
04:55:20 <dcoutts> what was that thing called?
04:55:24 * dcoutts goes to look it up
04:55:26 <shapr> Not at first, but if it becomes parser based, it'll do that and much more.
04:55:28 <shapr> HaRe
04:55:35 <dcoutts> ah HaRe that it
04:56:07 <dcoutts> HaRe already integrates with GVim. I'd have thoguht that integrating with a Haskell IDE would be easy in comparison :-)
04:57:19 <JaffaCake> the HaRe guys were working on integrating with the GHC API, but I haven't heard anything for a while
04:57:55 <dcoutts> JaffaCake, well that should be a perfect fit then, if hIDE uses/exposes the GHC API too
04:58:08 <JaffaCake> definitely
04:58:29 <dcoutts> and it should provide HaRe with the appropriate info about what modules there are etc
04:58:42 <JaffaCake> right click -> refactor -> "rename variable to..."
04:58:54 <dcoutts> since they had to do that themselfes when integrating with GVim/emacs
04:59:09 <dcoutts> mmm, that'd be nice
04:59:30 <JaffaCake> yes - they were intending to move over to GHC's abstract syntax instead of programmatica
04:59:58 <JaffaCake> but they needed to add all the SYB stuff to GHC's abstract syntax datatypes
05:00:08 <JaffaCake> I think that was the hold-up
05:00:23 <dcoutts> right
05:00:32 <ski> some qbasic did renamed all occurances of a var when changing one, even if one didn't want that :)
05:00:41 <ski> s/did //
05:00:46 <dcoutts> JaffaCake, so you you think we'll get the GHC API with ghc 6.4.2? :-)
05:01:10 <JaffaCake> hardly any chance at all, I'd say :(
05:01:18 <dcoutts> ok :-)
05:01:36 <JaffaCake> sorry - the changes were quite deep
05:01:41 <dcoutts> sure
05:02:07 <dcoutts> we'll make do with Lemmih's hacked version for now, and restrict ourselves to doing front end stuff, parsing renaming type checking
05:04:44 <JaffaCake> you won't be able to do renaming/type checking without libraries
05:06:08 <dcoutts> and they would need to be the ghc-6.5 libs so that the .hi files matched right?
05:06:16 <JaffaCake> yeah
05:06:25 <dcoutts> we'd not be able to do that :-(
05:06:32 <JaffaCake> that's why VH comes with a full GHC-6.5 installation
05:06:38 <dcoutts> yes I see
05:06:57 <dcoutts> well we can do the lexing & parsing I guess
05:07:26 <dcoutts> that'd at least test our infrastructure for running the parsing in the background and displaying errors in the editor window
05:07:35 <shapr> g'day m3ga
05:07:43 <JaffaCake> it's a good reason to push out 6.6 quickly, but I don't think I could maintain two GHC branches at once
05:08:02 <m3ga> howdy
05:08:04 <dcoutts> JaffaCake, sure, that'd be a pain
05:08:27 <JaffaCake> it would be a shame to leave the 6.4 branch behind so soon, it's a good branch
05:08:42 * Itkovian screams
05:08:50 <dcoutts> JaffaCake, anway, we'll see how quickly our ambitions turn into real code :-) we may not need it that quick :-)
05:09:15 <JaffaCake> heh, well good luck
05:09:26 <dcoutts> ta
05:09:38 <JaffaCake> I'm looking forward to it, and I hope I'll have time to help out too
05:09:44 <dcoutts> cool
05:09:56 <dcoutts> ever done any gtk coding in Haskell?
05:10:07 <JaffaCake> I did quite a bit of work on the old grtk+hs
05:10:13 <dcoutts> oh right
05:10:14 <JaffaCake> implemented a few widgets
05:10:20 <dcoutts> well it's pretty similar
05:10:43 <dcoutts> we now generate the code for the widgets sem-automatically so we've got pretty good coverage
05:10:45 <JaffaCake> wrote a little profile viewer utility for GHC, I never got around to finishing it tho
05:10:55 <dcoutts> oh yes that right, I remember
05:11:01 <dcoutts> I wrote one too :-)
05:11:13 <JaffaCake> hehe, you never released yours either :)
05:11:26 <dcoutts> well it's part of the Gtk2Hs demo collection
05:11:30 <JaffaCake> ah
05:11:48 <dcoutts> using the treeviews is still a bit of a pain
05:11:57 <JaffaCake> yeah
05:11:58 <dcoutts> we're working on making it easier and more typed
05:12:42 <JaffaCake> sounds great
05:12:47 <vegai> ach, tell me about it
05:12:57 <vegai> Treeviews in plain GTK are something else...
05:13:26 <dcoutts> vegai, yeah, it's dozens of lines to set up something simple
05:13:40 <dcoutts> vegai, it's somwhat a victim of it's generality
05:13:59 <vegai> yeah
05:14:10 <dcoutts> it's a very flexable system, but it makes setting it up slightly long winded
05:15:15 <musasabi> dcoutts: Having a simple grid with the interface newGrid :: Int -> Int -> IO Grid, setCell :: Grid -> Int -> Int -> String -> IO (), getRep :: Grid -> IO GtkSomething, and getCell :: Grid -> Int -> Int ->IO String would be nice too.
05:15:29 <dcoutts> I'm working on making it possible to implement the model in Haskell, so you can provide a GtkTreeModel interface to your own data structure, rather than haiving to use the two built in store type provided
05:16:09 <dcoutts> musasabi, though not all data is a String
05:16:32 <dcoutts> and there are many attributes of each cell you might want to control rather than just it's value
05:17:07 <dcoutts> it's a sane syste, we just need to make it more natural to use in Haskell
05:19:45 <dcoutts> JaffaCake, vegai, musasabi: well we've now got a darcs mirror of Gtk2Hs and we welcome your patches :-)
05:19:55 <shapr> Where?
05:19:57 <shapr> @where gtk2hs
05:19:58 <lambdabot> http://haskell.org/gtk2hs/
05:20:13 <dcoutts> darcs get http://haskell.org/gtk2hs/darcs/gtk2hs/
05:23:05 <boegel> shapr: testing it too ? :)
05:23:09 <boegel> y0 CosmicRay
05:23:19 <CosmicRay> morning
05:23:52 <shapr> boegel: Just finished reading your TMR article, looks nice!
05:24:16 <CosmicRay> shapr: doing another TMR?
05:24:29 <shapr> boegel: You could do Perlin noise textures as a short article in the future.
05:24:35 <CosmicRay> Igloo: do you have any ideas what is going on with #329589?
05:25:42 <shapr> CosmicRay: Yup, want to put in your article?
05:25:50 <CosmicRay> yeah
05:26:31 <shapr> dcoutts: autoreconf gives "configure.ac: required file `./missing' not found \n Makefile.am: required file `./compile' not found", is this non-fatal?
05:26:40 <CosmicRay> If I send you an OO.o document, are you able to convert that into the format you need?
05:27:02 <dcoutts> shapr, autoreconf -i
05:27:43 <dcoutts> shapr, I'm not sure if we should include those file in the repo, might make life easier though
05:27:52 <shapr> ok
05:28:02 <shapr> CosmicRay: um, maybe?
05:28:07 <CosmicRay> heh
05:28:07 <shapr> CosmicRay: I can reformat it by hand.
05:28:14 <CosmicRay> you want it on the wiki, right?
05:28:16 <shapr> yup
05:28:45 <CosmicRay> ok.  I am going to be offline for a few days after today.  I know I can dig up the OO.o document today, but I'm not sure if I will have the time to reformat it.
05:28:56 <CosmicRay> I'll send you whatever I can then.
05:29:26 <boegel> shapr: yeah, i might, but the implementation is quite simple though
05:29:48 <boegel> there's room for improvement there, I basically translated the C algorithm to Haskell :D ;)
05:30:52 <shapr> Sounds good to me.
05:31:44 <Igloo> CosmicRay: powerpc not splitting objects is probably the reason
05:32:12 <CosmicRay> I don't really know what that means.  (amd64 is even worse)
05:32:13 <Igloo> CosmicRay: If so it will probably be fixed by recompiling with ghc 6.4.1
05:32:16 <CosmicRay> ah
05:32:19 <CosmicRay> nice.
05:32:34 <Igloo> amd64 is probably worse due to the 64bitness
05:32:39 <CosmicRay> Igloo: do you remember why vorlon didn't want you to upload into sid?
05:33:03 <CosmicRay> yeah, but it shouldn't be *that* much worse.  i386 was about 500K, powerpc 5MB, and amd64 7MB
05:33:14 <Igloo> Because it'll mean new uploads for a couple of dozen packages in the gmp transition and lots of opportunities for things to go wrong
05:34:33 <CosmicRay> which packages?
05:34:40 <Igloo> All the libraries
05:35:16 <Igloo> Well, maybe more like a dozen that are actually in testing already
05:35:31 <CosmicRay> hm, I thought they didn't have deps on gmp.
05:35:37 <Igloo> They have deps on ghc
05:35:47 <CosmicRay> but I see what you're saying though, that makes sense.
05:36:10 * Lunar^ should be able to work on packaging riot and Yi again
05:36:20 <shapr> salut Lunar^!
05:36:49 <shapr> Lunar^: Hey, JaffaCake was talking about working on the scheduler, what was the deal with hOp and the scheduler?
05:37:14 <ski> "However, in real life, causality is much more relevant than anticausality!" :)
05:37:57 <CosmicRay> Igloo: do you believe the correct thing on #329589 is to reassign it to ghc6?
05:38:13 <Lunar^> shapr: priority!
05:38:49 <Igloo> I believe the correct thing is to close it with "Yes."
05:39:25 <CosmicRay> heh
05:40:06 <Igloo> I guess someone could file "$arch doesn't have object splitting" bugs against ghc6 for all but a couple of arches, but it seems fairly pointless
05:40:42 <CosmicRay> are most/all of those fixed in 6.4.1?
05:40:45 <Igloo> No
05:40:45 <Heffalump> what is srcinst?
05:40:48 <vegai> are Fudgets still being worked on?
05:40:58 <Igloo> i386, sparc, ppc and amd64 only AFAIK
05:41:04 <CosmicRay> Heffalump: a tool to build a debian package, as well as all of its dependencies and build-dependencies, from source.
05:41:06 <shapr> vegai: sort of, yeah.
05:41:22 <CosmicRay> Heffalump: in a style similar to gentoo or *bsd
05:41:24 <shapr> vegai: Thomas Hallgren accepts patches and puts out new versions occasionally.
05:41:25 <boegel> shapr: any idea when you'll be releasing TMR5 ?
05:41:27 <CosmicRay> though less broken, imho ;-)
05:41:31 <Igloo> And I doubt anything else will be added in the middle-term future
05:41:39 <Heffalump> useful for pine, then? :-)
05:41:42 <shapr> boegel: As soon as I can reformat CosmicRay's article and write my own testing article.
05:41:56 <CosmicRay> Heffalump: heh
05:42:03 <CosmicRay> Heffalump: it only finds sources that your apt knows about ;-)
05:42:18 <boegel> shapr: how many articles will you have then ? 5 ?
05:42:23 <shapr> Yup
05:42:29 <boegel> yaay ! cool
05:42:54 <Heffalump> isn't pine still in Debian as a source package?
05:43:17 <sieni> who cares? ;-)
05:43:42 <Igloo> The binary package will still just have source in if it is, so srcinst wouldn't help
05:43:57 <CosmicRay> right.
05:44:08 <CosmicRay> srcinst will just build the same .deb that already exists in debian
05:46:27 <boegel> heh, funny
05:46:37 <boegel> a virtual virus has been infected WoW :)
05:47:01 <shapr> dcoutts: I only have MozEmbed.chs, not a directory --> TypeGenerator: mozembed/Graphics/UI/Gtk/MozEmbed/Types.chs: openFile: does not exist (No such file or directory)
05:47:11 <shapr> Should I disable MozEmbed?
05:55:49 * ski wants to FLM
05:56:30 <ski> this comonad paper bring up many associations
05:58:27 <shapr> ski: I'll finish it soon :-)
06:00:18 <ski> it got me thinking on 'elacticity of demand' again, e.g.
06:01:36 <ski> @seen esap
06:01:37 <lambdabot> I saw esap leaving #haskell 3 days, 22 hours, 37 minutes and 39
06:01:37 <lambdabot> seconds ago.
06:01:41 <ski> bah
06:03:11 <dcoutts> shapr, ah yes, mkdir mozembed/Graphics/UI/Gtk/MozEmbed
06:03:43 <dcoutts> shapr, I should create a dummy file and stick it in the repo so that cvs actually makes sure the directoyr exists
06:12:31 <CosmicRay> shapr: I would like to perform a quick query on ShaprIndex if you don't mind.  I've decided to port pygopherd to haskell.  pygopherd is not just a gopher server, but also a http server.  I'm wondering if you know if any example code out there for: 1) a http server, or 2) a well-behaved daemon, preferably with load limiting and nice logging, written in Haskell?
06:14:18 <shapr> CosmicRay: JaffaCake wrote hws, it's fast and efficient.
06:14:30 <shapr> It doesn't do load limiting, but I think it does do logging.
06:14:48 <shapr> Peter Thiemann recently extended it to use hs-plugins, you should email him for a copy of that.
06:14:58 <CosmicRay> I just saw that on google
06:15:20 <CosmicRay> http://www.mdstud.chalmers.se/~md9ms/hws-wp/
06:16:09 <CosmicRay> oh, but horrors, the link to the tarball is broken.
06:16:15 <CosmicRay> also this appears to be from Martin Sjogren.
06:16:18 <CosmicRay> hmm.
06:16:18 <shapr> Yeah, but that's a much older version that uses ozone's RuntimeLoader
06:16:29 <shapr> It moved to haskell-libs for awhile, then fell into disrepair.
06:16:45 <CosmicRay> so peter's version isn't available online anywhere?
06:17:23 <shapr> No, but I can slip you a copy if you want.
06:17:35 <CosmicRay> that would be excellent.
06:17:36 <shapr> I'm not sure it's explicitly licensed though.
06:17:44 <Heffalump> why is hws not online?
06:17:48 <CosmicRay> hmm.
06:18:01 <shapr> Heffalump: hws is online, but Peter Thiemann's hws+hs-plugins is not.
06:18:07 <Heffalump> and I'd still like a decent solution to how to make a unix daemon in Haskell
06:18:11 <Heffalump> shapr: where? I looked for it.
06:18:23 <Heffalump> But couldn't find the source anywhere
06:18:55 <shapr> It's in fptools.
06:19:05 * CosmicRay boggles
06:19:27 * shapr scurfles around for his local copy of hws+hs-plugins
06:19:37 <CosmicRay> HWS is in fptools?
06:19:45 <shapr> yup
06:19:49 <Heffalump> ahh.
06:19:51 <CosmicRay> what module?
06:19:59 <Heffalump> fptools has way too much stuff in it.
06:20:08 <CosmicRay> Heffalump: NOT ENOUGH!
06:20:13 <CosmicRay> bah.
06:20:25 <CosmicRay> pull out X11 and opengl, add ftp, imap, email, mime, etc. modules.
06:20:36 <CosmicRay> stuff that can be implemented in terms of the more broad base should be there
06:21:36 <CosmicRay> Heffalump: I don't think that writing a well-behaved Unix daemon is any more difficult in haskell than in other OSs.
06:21:42 <CosmicRay> s/OSs/languages/
06:22:37 <CosmicRay> shapr: oh btw, I was the guest on The Linux Link Tech Show podcast/webcast last night, and had a decent opportunity to plug Haskell ;-)
06:23:02 <CosmicRay> http://www.tllts.info/dl.php?episode=102&submit=Submit
06:24:30 <Heffalump> CosmicRay: well, I do, and I've tried.
06:24:36 <Heffalump> How do you close all open file descriptors?
06:24:55 <CosmicRay> Heffalump: ones that you've opened?
06:25:00 <shapr> CosmicRay: There are libs for some of those (smtp and more) in Fudgets InternetLib.
06:25:01 <Heffalump> yes
06:25:08 <CosmicRay> Heffalump: hClose?
06:25:16 <Heffalump> and "maintaining a global list" is not really a good solution for a pure language :-)
06:25:20 <Heffalump> CosmicRay: hClose on what?
06:25:23 <adept> Heffalump: mapM_ (hClose) [0..1023] :)
06:25:29 <CosmicRay> Heffalump: the handles that you've opened
06:25:37 <CosmicRay> adept: don't give him ideas!!!!
06:25:39 <Heffalump> CosmicRay: and how do you know what those are at the point you want to fork?
06:25:44 <CosmicRay> adept: far too many C programs do that
06:25:44 <Heffalump> adept: I've tried that.
06:25:51 <Heffalump> well, it works in C.,
06:25:57 <Heffalump> and means no global state is needed
06:25:59 <CosmicRay> Heffalump: no it doesn't.
06:26:09 <CosmicRay> Heffalump: it only works in C if you don't use the C stdio library.
06:26:10 <adept> yes, my point exactly. It works in C :)
06:26:11 <Heffalump> not 1023, the right syscall to get the maximum number
06:26:17 <CosmicRay> Heffalump: if you do, you're hosed.
06:26:22 <CosmicRay> Heffalump: same goes for haskell.
06:26:47 <CosmicRay> if you use System.Posix.IO only, you're safe.
06:26:47 <Heffalump> it's worse in Haskell, because you can't do the same loop and leave out specific FDs
06:26:56 <CosmicRay> if you use Handles, you're stuck.
06:26:58 <CosmicRay> why not?
06:27:10 <Heffalump> because if you only have Handles, you don't know which FDs to leave out
06:27:13 * CosmicRay points out the existance of Data.List.filter
06:27:20 <CosmicRay> Heffalump: you can get the Fd of a Handle
06:27:28 <Heffalump> you can, but it destroys the Handle. Read the source.
06:27:29 <CosmicRay> Heffalump: System.Posix.IO.handleToFd
06:27:43 <CosmicRay> Heffalump: the proper thing to do is to close the Handle anyway.
06:27:50 <Heffalump> http://haskell.org/hawiki/HaskellUnixDaemon
06:27:52 <CosmicRay> Heffalump: you're forking because you're about to exec(), right?
06:28:00 <Heffalump> no, forking a daemon
06:28:07 <CosmicRay> oh, then what do you care?
06:28:09 <Heffalump> so I want specific Sockets passed on to the child.
06:28:17 <Heffalump> Because I want the child to stop listening on the port I was listening on.
06:28:33 <Heffalump> Or, in fact, the multiple ports I was listening on in separate Haskell threads.
06:28:35 <CosmicRay> you're talking about a basic forking server, right?  request comes in, accept it, then fork a child to handle it?
06:28:43 <Heffalump> yes.
06:28:51 <Heffalump> But listening on multiple ports using Haskell threads to do this.
06:29:08 <CosmicRay> the canonical thing to do in C -- should work fine in Haskell too -- is to do the fork, then close the child socket in the parent and close the master socket in the child.
06:29:09 <Heffalump> And I don't want the forked children to keep the listening sockets open.
06:29:28 <CosmicRay> Heffalump: Personally, I think it is evil to mix forking and threading in one program.
06:29:36 <Heffalump> Yes, but it's hard to pass all the master sockets to the child, because they were opened in different threads.
06:29:50 <Heffalump> I think it's really elegant.
06:30:05 <Heffalump> Threads + Haskell's non-blocking IO library give you a very elegant compositional select.
06:30:16 <CosmicRay> yes, they do.
06:30:19 <CosmicRay> I'm not against threads.
06:30:22 <Heffalump> multiple threads, each doing a different thing, ignorant of what the other is doing.
06:30:25 <CosmicRay> I'm against combining threading with forking.
06:30:33 <Heffalump> And forking to actually accept a request works very well too.
06:30:34 <CosmicRay> why can't you just use a thread to handle the child activity?
06:30:47 <Heffalump> Because I want to be able to restart the daemon without killing off running sessions.
06:30:52 <Heffalump> Like ssh lets you
06:31:35 * Heffalump is not just trying to be difficult, I have a real use case for what I'm describing that I've stopped work on for now cos of this ugliness (and cos of lack of time)
06:31:56 <Heffalump> I will probably just have to maintain some global list of handles using unsafePerformIO and protected by a MVar, but ICK!
06:32:41 <CosmicRay> Heffalump: well if you are married to that particular design, then juse use a global IORef and by done with it
06:32:57 <CosmicRay> why would you have to use unsafePerformIO?
06:32:57 <Heffalump> it's not that simple, because I have to lock access to it
06:33:00 <CosmicRay> you're in the IO monad already
06:33:11 <Heffalump> because otherwise I will have to pass around the name of the IORef everywhere
06:33:24 <Heffalump> Even in IO Haskell has no truly global variables.
06:33:57 <Heffalump> and I don't want to do this because it's *REALLY* *UGLY*
06:34:11 <CosmicRay> yes, well some would say that combining forking and threading is really ugly ;-)
06:34:31 <Heffalump> well, you'd be wrong :-p
06:34:43 <Heffalump> biaw
06:34:49 <CosmicRay> what if you kept a list of handles you've started, and when you get SIGHUP or whatever, you simply terminate their threads and close the handles
06:36:07 <CosmicRay> Heffalump: I may be wrong on this, but I don't think that the semantics of combining forking with threading are standardized, guaranteed, or in any way safe.
06:36:38 <CosmicRay> Heffalump: actually, in your case, you don't even need threading.
06:37:11 <CosmicRay> you could just use forkIO.
06:38:07 <Itkovian> where did the hsp repos move to? darcs failed:  Not a repository: http://scannedinavian.org/~lemmih/hsp
06:38:22 <Igloo> You shouldn't need to pass the IORef very deeply
06:44:06 <ski> biaw ?
06:44:30 <nnunley> ski:  Probably 'back in a while'
06:44:45 * ski parsed it as 'but i am wrong'
06:46:00 <Itkovian> Lemmih: ping
06:49:25 <Itkovian> ttyl
07:01:12 <gaal> hi! is there a way to use Distribution.Compat.FilePath from a regular app? i get errors about it being "hidden" when i try loading it.
07:03:04 <basti_> gaal: it appears that you need to expose it with ghc-pkg
07:03:56 <gaal> thanks.
07:04:01 <basti_> :D
07:04:11 <basti_> easy problem, easy help ;)
07:05:48 <gaal> :-) not sure it's that easy for me - this is in pugs, and i'd prefer not to ask all pugs hackers to mess with ghc-pkg.
07:06:17 <Heffalump> CosmicRay: forkIO is threading
07:06:22 <Heffalump> Igloo: I still need to get the locking on it right
07:06:39 <basti_> gaal: so is it working now or not?
07:07:16 <gaal> let me actually try it :)
07:07:26 <Igloo> Yes
07:08:55 <gaal> hah, ghc-pkg broke my /usr/lib/ghc-6.4/package.conf (this is debian)
07:09:03 <basti_> ooo?
07:09:08 <basti_> this shouldnt happen at all!
07:09:10 <gaal> it set it with the wrong permissions, it seems.
07:09:10 <basti_> whats wrong with it
07:09:43 <gaal> yes, it's mode 600 now (don't know what it used to be, prolly 644)
07:10:12 <Igloo> What does umask say?
07:10:22 <basti_> mine is 644
07:11:02 <gaal> umask is 77.
07:12:05 <dcoutts> dons, ping
07:12:05 <gaal> anyway, fixing the permissions doesn't fix the error.
07:12:14 <Igloo> That's why, then
07:12:43 <basti_> gaal: how do you compile the program?
07:12:50 <basti_> or, how do you try to?
07:13:21 <gaal> although peeking in the conf file shows it's set as exposed
07:13:36 <gaal> Igloo, something that updates files should presumably preserve permissions.
07:13:42 <basti_> are you using --make or cabal? ("./Setup.hs build")
07:13:49 <gaal> basti_, :m / :l in ghci
07:13:57 <dcoutts> dons, oh actually maybe it's ok, I was using the wrong version of hs-plugins which didn't expose some of it's modules
07:14:43 <basti_> gaal: which ghci?
07:15:06 <gaal> for ghc 6.4
07:15:21 <basti_> hmm
07:15:27 <basti_> then i don't know better
07:16:10 <gaal> are there any other (non-posix) directory tools available? much prefferedly, ones that are bundled in ghc?
07:16:43 <basti_> I don't think it's the tool's fault
07:17:19 <gaal> well, like i said, i looked in the conf file, and it looks like the module has been exposed there at least.
07:17:50 <basti_> you were saying that yes.
07:18:10 <basti_> I still do not believe its a systematic error on FilePath's behalf
07:18:24 <basti_> (which could justify switching to another lib)
07:20:45 <prionic> hi, do you know if hs-plugins uses harp?
07:22:31 <basti_> no.
07:22:36 <basti_> i do not know.
07:24:47 <prionic> i cant load files with xml patternmatching into hspr, cause hs-plugins cannot handle them
07:24:59 <prionic> any idea?
07:26:08 <basti_> what is the error?
07:26:54 <prionic> it failes to compile, because it thinks this line (for example) has a syntax error:
07:27:16 <prionic> transformXML <gold count=(x::Int) story=(y::String) /> = ...
07:27:43 <Lemmih> gaal: Dont use Distribution.Compat.*
07:27:48 <basti_> nothing else?
07:27:53 <boegel> shapr: ping !
07:28:04 <Lemmih> gaal: http://scannedinavian.org/~lemmih/FilePath
07:28:12 <basti_> that looks a lot like you'd have to convince something to use this preprocessor
07:28:26 <basti_> hsprx or whatsitsname
07:28:39 <gaal> Lemmih: thanks, I'll give that a look.
07:28:42 <prionic> basti: hsx support works, but harp doesnt seem
07:29:11 <gaal> Lemmih: ...except that that site is currently down.
07:29:45 <basti_> humh.
07:30:16 <boegel> y0 Oejet
07:31:00 <Oejet> Hey, boegel. :-)
07:31:13 <boegel> anybody else having trouble with scannedinavian ?
07:31:31 <boegel> ah, you guys just mentioned it :) sorry ;)
07:31:50 <Lemmih> scannedinavian.org works for me.
07:32:12 <boegel> doesn't here
07:33:08 <gaal> Lemmih: any idea if the version here is updated? http://darcs.complete.org/missingh/MissingH/Path/FilePath.hs
07:33:16 <Oejet> boegel: Not here either.
07:33:35 <int-e> Lemmih: scannedinavian.org still has DNS problems, they're different though now - the .org nameservers agree on its IP address and it's the old one.
07:33:44 <Oejet> boegel: Try www.
07:34:10 <Lemmih> gaal: I have no idea.
07:34:13 <gaal> Oejet: www doesn't work here either.
07:34:14 <boegel> Oejet: nope
07:34:32 <Oejet> boegel: http://www.scannedinavian.org/output/index.html
07:34:34 <int-e> www.scannedinavian.org is an alias for scannedinavian.org. :-P
07:34:58 <gaal> Lemmih: could you perhaps send me a tarball to gaal at forum2 dot org?
07:35:03 <int-e> try scannedinavian.com?
07:35:30 <int-e> !paste
07:35:48 * int-e pokes lisppaste2 'what's your magic command?'
07:35:55 <gaal> int-e: .com doesn't work for me.
07:36:44 <xerox> @paste
07:36:45 <lambdabot> http://www.haskell.org/hawiki/HaskellIrcPastePage
07:36:52 <Oejet> lisppaste2: url?
07:36:52 <lisppaste2> To use the lisppaste bot, visit http://paste.lisp.org/new/haskell and enter your paste.
07:37:05 <boegel> int-e: Scanned In Avian
07:37:05 <boegel> BEEP
07:37:05 <boegel> the website you have you have typed has been underdeveloped or is no longer in service.
07:37:15 <dcoutts> oh yes! it has a pulse! hIDE can now browse and edit file with multiple views of each editor buffer
07:37:15 <shapr> filter is called reduce in Python, isn't it?
07:37:26 <Igloo> reduce is foldl
07:37:36 <shapr> dcoutts: w00!
07:37:42 <boegel> shapr: ! still problems with scannedinavian !
07:37:42 * dcoutts cackles
07:37:52 <shapr> int-e: It's *still* broken?
07:38:06 <gaal> (hi shapr!)
07:38:14 <int-e> shapr: it's broken differently now
07:38:17 <shapr> hi gaal
07:38:21 <shapr> int-e: That's amazing, it works fine for me.
07:38:36 <vegai> filter is called filter in python, no?
07:38:44 <shapr> int-e: If you're using unix, what does "host scannedinavian.org 194.23.215.164" give you?
07:38:53 <int-e> shapr: actually, it works for me, too; it will stop to in about 8 hours though ;)
07:39:21 <int-e> (that's how long my DNS server will cache his current entry)
07:39:37 <dcoutts> dons, Lemmih: you about?
07:40:09 <shapr> I don't know where you're getting the old info.
07:40:29 <int-e> shapr: dig any scannedinavian.org
07:41:53 <CosmicRay> int-e: your nameserver may have old info cached.
07:42:16 <boegel> shapr: it's broken here... wasn't yesterday
07:42:21 <boegel> wans't this morning even
07:43:12 <CosmicRay> dig @194.23.215.164 any scannedinavian.org seems to be good.
07:43:27 <CosmicRay> as does the gandi.net secondary.
07:44:35 <shapr> boegel: weird
07:44:44 <shapr> boegel: I'll look at it later, when my work is done.
07:45:18 <boegel> shapr: sure
07:46:11 <lisppaste2> int-e pasted "scannedinavian.org DNS exploration" at http://paste.lisp.org/display/11890
07:47:29 <int-e> CosmicRay: exactly - that 'old' information is the one that works. the information from the .org nameservers is flawed.
07:48:28 <int-e> CosmicRay: so if the entry on 'my' dns server expires, it'll go and ask the .org nameserver and get a wrong answer, then cache that for another day.
07:49:05 <int-e> the cached answer has the localhost DNS server problem, as you can see.
08:06:01 <Lemmih> dcoutts: I'm here.
08:07:44 <basti_> so... which magic property makes a sql field become "xid" in haskelldb?
08:08:02 <dcoutts> Lemmih, ah I'm about to commit a bunch of stuff
08:08:16 <dcoutts> Lemmih, and I'm just fixing up the yiBase module so it'll still work
08:08:19 <dcoutts> Lemmih, and I'm just fixing up the yiBase module so it'll still work
08:08:21 <dcoutts> oops
08:08:43 <dcoutts> for the moment I'm just going to have the yi widget in it's own top level window
08:08:56 <dcoutts> just until we get it integrated with the new ide shell stuff
08:08:58 <Lemmih> huh?
08:09:34 <dcoutts> since I'm using a demo editor
08:09:51 <dcoutts> so I need to keep changing the widget where Yi currently sits
08:10:17 <dcoutts> once we adapt yiBase to use the new api it'll be fine
08:10:22 <dcoutts> just a temporary measure
08:10:25 <dcoutts> ok?
08:11:51 <Lemmih> Sure.
08:18:03 <dcoutts> Lemmih, ok pushing...
08:18:22 <dcoutts> Lemmih, you might need to rebuild yi too, notsure about that
08:18:54 * dcoutts drops 600 loc of GUI code into hIDE repo
08:18:58 <shapr> w00
08:19:19 <Lemmih> The ghc2hs thread hack?
08:19:32 <dcoutts> Lemmih, yeah, rather than using -threaded
08:20:01 <dcoutts> Lemmih, we make the app single threaded and get gtk to yield to us regularly so we can run our Haskell threads
08:20:21 <dcoutts> it works reasonably well and doesn't have a big overhead
08:20:46 <Lemmih> Ah.
08:21:13 <dcoutts> it is technically a polling solution, however the overhead is so low that it's not detectable with 'top'
08:22:16 <dcoutts> and it means we can use threads as much as we like, including ones that update the GUI
08:22:35 <dcoutts> we don't have to delegate all GUI code back to the main thread, which is rather convenient
08:23:01 <dcoutts> Lemmih, so does it build for you ?
08:23:08 <Lemmih> Yeah.
08:23:33 <dcoutts> I need to make the default size of the various widgets more sensible :-)
08:23:40 <dcoutts> it starts off rather squashed :-)
08:24:12 <dcoutts> you need to pull the vertical splitter window down to see the editor pane
08:24:26 <dcoutts> so are you getting the multi-view experience?
08:25:00 <dcoutts> open two top level windows and browse to the same file and edit it in one and see the same changes reflected in the other
08:26:52 <dcoutts> Lemmih, is it working then?
08:26:58 * dcoutts is rather excited
08:27:37 * dcoutts is high on too many cups of tea (and the warm glow of new code)
08:28:30 <Heffalump> so can I use it yet? :-)
08:28:38 <dcoutts> ha ha ha!
08:28:41 <Heffalump> awww.
08:28:58 <dcoutts> well just as soon as someone implements file saving :-)
08:29:02 <Lemmih> dcoutts: Looks good.
08:29:28 <dcoutts> Lemmih, so you think we can do that with Yi?
08:29:45 <dcoutts> we should be able to, I think
08:30:42 <dcoutts> Lemmih, the code's a bit messy at the moment, but look at the ideShell/src/Hide/EditorPage.hs module
08:30:55 <dcoutts> and the ideShell/src/Hide/DemoEditor.hs one
08:31:23 <dcoutts> that has the interface for editor pages
08:31:44 <dcoutts> and a simple one for files using GtkTextBuffer/GtkTextView
08:32:06 <dcoutts> I quite like the ideShell/src/Hide/EditorPage.hs idea
08:32:40 <dcoutts> you provide some functions for opening a 'page' and opening a 'view' onto a page
08:33:00 <dcoutts> and the system keeps track of your per-page and per-view state
08:33:29 <dcoutts> so the actual bit that connects up the editor is quite short
08:33:31 <Lemmih> 'view'?
08:33:56 <dcoutts> hm, we need some consistent terminology :-)
08:34:09 <dcoutts> that's part of the reason my code is somewhat messy at the moment
08:34:31 <dcoutts> so the model for an editor and the view/window for the editor
08:34:50 <dcoutts> yi uses 'window' so we should follow that I guess
08:35:15 <dcoutts> see the textEditorPage function in Hide.DemoEditor, as you can see it's very short :-)
08:36:16 <dcoutts> Lemmih, so each open editor page has a model and one or more windows
08:36:52 <dcoutts> so the EditorPage thingy allows you to have state for both
08:37:17 <dcoutts> and the ide shell is resonsible for threading that state around
08:37:32 <dcoutts> and matching up the right state with the right top level window etc
08:37:36 <Lemmih> Nice.
08:38:34 <dcoutts> so in the demo editor case the model state is just an GtkTextBuffer instance and the window/view state is a GtkTextView
08:39:24 <dcoutts> each editor page window can be hidden shown multiple times as the user browses between differnt pages
08:40:42 <dcoutts> so the editor page implementation can do things like storing and retreiving expesive state when the editor page window is hidden/shown
08:40:59 <manulito_> from a list, if i want the n'th value, is there a better way then "drop (n-1) take 1 mylist" since it looks kinda bad =)
08:41:11 <Lemmih> manulito_: (!!)
08:41:13 <manulito_> ok!
08:41:19 <Lemmih> @eval [1,2,3] !! 1
08:41:41 <Lemmih> @arr
08:41:45 <lambdabot> 2
08:41:45 <lambdabot> May the clap make ye incapable of Cracking Jenny's Tea Cup.
08:42:17 <sethk> @arr
08:42:17 <lambdabot> I'd like to drop me anchor in her lagoon
08:42:24 <dcoutts> Lemmih, the idea of course is that we want to be able to browse large collections of files without using too much resources
08:42:33 <dcoutts> so we need an api that will support that
08:42:36 <sethk> @arr
08:42:36 <lambdabot> I heard andersca is a pirate
08:42:53 <dcoutts> this api isn't quite perfect yet, but it's a reasonable first stab
08:43:41 <dcoutts> Lemmih, so do you think this gives you enough to play with for the moment?
08:43:58 * Lemmih should stop playing civilization and start hacking on hIDE.
08:44:05 <dcoutts> heh :-)
08:44:27 * dcoutts deleted civ since it sucked too much of his time
08:45:10 <dcoutts> Lemmih, my next steps will probably be in improving the cleanlyness of the code/design of the ide shell bits
08:45:39 <dcoutts> so I probably won't move on to features like menus toolbars yet
08:46:29 <sethk> dcoutts, I finished installing 6.4.1.  I need to rebuild and reinstall gtk2hs, correct?
08:46:46 <dcoutts> sethk, yeah, libs are not compatabile across ghc versions
08:47:04 * dcoutts is off now
08:47:22 <sethk> k, doing that now.  So far no mysterious seg faults, so my gcc install must have been weird.
08:52:09 <manulito_> are there any similar function to (!!) that looks through a list for a certin value and returns it index?
08:52:46 <Lemmih> @type List.elemIndex
08:53:04 <lambdabot> forall a. (Eq a) => a -> [a] -> Maybe Int
09:01:24 <rep> vinna kinky roligt
09:01:27 <rep> hatten ar din hatten ar din
09:04:11 <ski> Azar Habib !
09:06:21 <ski> (rep : possibly you understand the song without translation .. ?)
09:06:25 <ski> hi esap
09:06:29 <esap> hi ski
09:06:47 <ski> esap : seen http://lambda-the-ultimate.org/node/view/988 ?
09:08:55 <esap> ski: hmm.. no I haven't.
09:11:14 <araujo> There exist a way to take a Char to a number? , '2' -> 2
09:12:28 <basti_> ski: hey that link is great!
09:13:01 <basti_> araujo: either via read, or via ord and subtraction of the ascii value of '0'
09:14:15 <ski> basti_ : indeed :)   (some of it i have already read in an earlier paper, though)
09:14:39 <araujo> basti_, mm.. read isn't working
09:14:57 <basti_> araujo: how about \x->read [x]?
09:16:17 <araujo> Thanks basti_
09:16:30 * araujo hits his head with the desk
09:16:38 <basti_> araujo: whats up? ;)
09:17:32 <araujo>  always forget strings are [Char] when most i need it
09:17:52 <basti_> :(
09:18:24 <basti_> write it on a post-it and stick it to the border of your monitor.
09:18:52 <basti_> then you'll never forget, and you'll think that you never needed the post-it in the first place
09:19:18 <Muad_Dibber> yeah
09:19:26 <Muad_Dibber> or your monitor is all over with post-its' :P
09:19:45 <Lemmih> autrijus: Char.digitToInt
09:19:51 <Korollary> araujo: see Char.digitToInt
09:20:06 <basti_> stereo morons is what we call that on another channel.
09:20:22 <Korollary> we were talking to different people ;)
09:20:56 <basti_> Korollary: that was a completion artifact i think
09:21:03 <Lemmih> Bah. Stupid tab-completion /-:
09:21:22 <Korollary> I know
09:21:35 <basti_> that was just phase difference so to say
09:22:01 <araujo> basti_, haha
09:22:05 <araujo> Thanks Lemmih Korollary
09:26:54 <araujo> @hoogle hFlush
09:26:55 <lambdabot> IO.hFlush :: Handle -> IO ()
09:29:59 <CosmicRay> shapr: TMR article sent.
09:30:16 <shapr> w00
09:57:04 <gaal> i still can't access scannedinavian.org. can someone please send me a tarball of http://scannedinavian.org/~lemmih/FilePath ?
09:57:43 <araujo> @hoogle find
09:57:46 <lambdabot> List.find :: (a -> Bool) -> [a] -> Maybe a
09:57:46 <lambdabot> List.findIndex :: (a -> Bool) -> [a] -> Maybe Int
09:57:46 <lambdabot> List.findIndices :: (a -> Bool) -> [a] -> [Int]
09:58:37 <gaal> eh, never mind, i used the IP address.
10:08:57 <sethk> Hey, all, I upgraded to 6.4.1.  I know that I have to rebuild anything that was built with 6.4.  is the compiler smart enough to rebuild the appropriate things if I just remake, or do I have to separately delete things?  That is, delete the individual .o files, the .hi files, and such?
10:09:17 <sethk> the stuff I've been building lately is with ghc --make .....
10:12:23 <raver> hi
10:12:24 <basti_> haskelldb: I'm getting this error at run-time:
10:12:25 <basti_> Forum: user error (The type of board field can't be converted to SqlDouble type)
10:12:33 <basti_> though i did not mention anything double
10:14:04 <ski> good evening, raver
10:14:20 <basti_> I tried changing the type of values that have explicit mentions
10:14:31 <basti_> in the specification, it's an IntT column
10:15:29 <basti_> kinda stuck there now
10:20:14 <Lemmih> sethk: GHC will figure it out on its own.
10:21:29 <sethk> Lemmih, good, thanks.
10:25:00 <basti_> shapr: are you there?
10:33:09 <basti_> anyone there who can help me with that haskelldb problem? I'm not making any progress
11:14:17 <sylvan> basti_ chucky's here, he wrote it!
11:14:23 <basti_> -?-
11:14:28 <sylvan> haskelldb
11:14:31 <basti_> ohh
11:14:39 <basti_> chucky: are you here?
11:14:53 <sylvan> looks like he's lurking
11:15:04 <basti_> thats stupid, then
11:15:30 <chucky> yeah I'm here
11:15:47 <basti_> chucky: i keep getting this error like "Forum: user error (The type of board field can't be converted ..."
11:16:14 <chucky> I have to admit it's been a while since I touched haskelldb.
11:16:43 <basti_> i do not know how i can help this. the field in question is a IntT
11:17:06 <basti_> I was comparing it to an Int. (though other types dont give a different massage)
11:17:27 <chucky> hmm
11:18:11 <basti_> and then, even more bizarre: " can't be converted to SqlDouble type"
11:18:15 <basti_> i never mentioned SqlDouble
11:18:40 <basti_> the field is Int in the database too btw.
11:18:51 <basti_> and i don't use a single value that could force double
11:19:14 <Lemmih> Itkovian: Pong.
11:21:10 <chucky> hmm no I'm sorry I don't remember anything that could help right now. I'm a bit too tired I'm afraid
11:21:17 <basti_> chucky: no prob.
11:21:45 <basti_> chucky: it just struck me as "uh?" and i cant find places to start digging anymore. It's not in a hurry or something
11:21:52 <basti_> I'll sure find it out some day
11:23:14 <Itkovian> Lemmih: i can't pull from scannedinavian/~lemmih/hsp
11:24:48 <Lemmih> Itkovian: I think scannedinavian is having DNS problems. Try 194.23.215.164 instead.
11:25:10 <Itkovian> ic.
11:25:13 <Itkovian> thx
11:30:35 <beelsebob_> evening
11:30:56 <prionic> anyone had problems loading the same .o twice with hs-plugins?
11:33:05 <Lemmih> Unload it before reloading it.
11:33:22 <prionic> reload does it already
11:33:44 <Lemmih> Then you shouldn't have a problem (:
11:41:04 <lrrr> hi there
11:41:26 <lrrr> i wrote two functions that do the same thing, but one MUCH faster that the other
11:41:38 <lrrr> can anybody explain me why?
11:42:05 <basti_> lrrr: uhm. they're implemented differently?
11:42:21 <lrrr> well, yes, but they're very simple
11:42:35 <lrrr> i wondering why the difference is so big
11:42:40 <basti_> paste them somewhere maybe?
11:42:44 <basti_> lisppaste2: @url
11:42:44 <lisppaste2> To use the lisppaste bot, visit http://paste.lisp.org/new/haskell and enter your paste.
11:43:30 <lisppaste2> lrrr pasted "two functions" at http://paste.lisp.org/display/11895
11:44:24 <lrrr> http://www.elecdesign.com/Files/29/1154/Figure_01.gif -- here's the picture of what they actually do
11:44:50 <lrrr> it is a linear shift feedback register, used for pseudorandom sequence generation
11:45:05 <basti_> lrrr: uhm, basically the first one is recursing it's ass off afaics.
11:45:30 <basti_> the first one is the slower one isnt it?
11:45:38 <lrrr> yes, it is
11:45:53 <lrrr> is there some basic guidelines to write fast code in haskell?
11:46:15 <basti_> besides common sense? ;)
11:46:37 <lrrr> i suggest that so much recursion isn't good, but i think there must be some more clear rules
11:46:53 <Lemmih> lrrr: Be aware of the complexity of the functions.
11:47:01 <basti_> well for example, your second function just recurses once and utilizes the result several times
11:47:31 <basti_> that's certainly better than recursing several times for the same effect
11:48:08 <lrrr> is there some articles/tutors/books on the subject?
11:48:18 <lrrr> i mean writing more efficient code in haskell
11:48:22 <basti_> ircnet #haskell is a good starting point if you have questions
11:48:35 <wilx> Well...if you want raw speed then Haskell is not imho the best choice.
11:48:43 <basti_> uhm freenode
11:49:03 <basti_> basically, the algorithmic complexity can be the same as in any other language, if you keep some stuff in mind
11:49:11 <basti_> for example, what you did is not specific to haskell
11:49:32 <lrrr> specific in what sense?
11:49:40 <basti_> if you did the same in C, you would get the same result.
11:50:02 <ski> lrrr : if you always have same fixed small number of elements in list, you could try a tuple instead
11:50:22 <basti_> (one being slower than the other)
11:50:44 <JohnMeacham> morning.
11:50:51 <ski> lrrr : also, another idea that springs to mind is trying to not shift around elements, instead adjusting indices appropriately ..
11:51:04 <ski> night, JohnMeacham
11:51:50 <lrrr> you mean mantaining some list of indices or something?
11:51:56 <Lemmih> wilx: I disagree. 'length' and '(!!)' have the same complexity in Haskell as it would in any other language.
11:52:04 <ski> you are just rotating, right ?
11:52:13 <wilx> Sure. I don't dispute that.
11:52:18 <lrrr> yes
11:52:57 <ski> so you can try have a current offset, and when you need to index, you first add offset to index and modulo that with number of elements in list
11:53:32 <ski> of course you need to increment the offset when rotating (i.e. on recursive call, i think you need it)
11:54:08 <stepcut> so, I want to build ghc6 againsts libreadline5-dev, but the only old ghc6 I have available to build new ghc6 with depends on libreadline4-dev, which conflicts with libreadline5-dev :(
11:54:11 <Lemmih> wilx: The speed of algorith X wouldn't change significantly if you changed the implementation langauge from Haskell to (say) C++.
11:54:14 <lrrr> why it will be faster?
11:54:23 <ski> well, increment or decrement, depending on in which direction you rotate, and whether you add or subtract offset
11:54:44 <ski> well, it might avoid creating new list cells
11:54:57 <ski> just a thought, really
11:55:36 <lrrr> ok, thanks
11:57:04 <wilx> Lemmih, that imho depends on what you mean by significant. :)
11:57:28 <lrrr> another question: do you know anything about any digital signal processing projects (or image processing) based on functional programming languages?
11:57:40 <lrrr> except Pan and haskelldsp
11:57:40 <basti_> i only know csound.
11:58:53 <lrrr> i'm trying to find some fp-related theme for my master's thesis in digital signal processing :)
11:59:18 <wilx> To code in Haskell so that things are fast is imo real programming voodoo.
11:59:24 <basti_> how about "we recreate csound in haskell"? ;)
11:59:34 <basti_> no, haskell is a hll.
11:59:42 <basti_> it's not intended to be any "fast" or something
11:59:49 <int-e> wilx: in case of doubt, use Haskell to generate code that's fast.
12:00:13 <wilx> Heh.
12:01:30 <lrrr> problem is that it should be something a bit new to dsp :)
12:02:17 <ski> lrrr : not sure how relevant this is http://draves.org/cmu-research/diss/main.html
12:03:09 <CosmicRay> I'm curious about the state of HSP
12:03:15 <CosmicRay> where could I go to download it
12:03:19 <CosmicRay> and does it have a built-in http server?
12:06:26 <lrrr> ski: yeah, that's seems to be really interesting
12:06:43 <basti_> CosmicRay: there is some server, but it sucks
12:06:55 <basti_> the main parts seem to be running smooth.
12:07:10 <CosmicRay> basti_: hmm, ok.
12:07:20 <ski> (lrrr : found http://draves.org/cmu-research/bit-addr/bit-addr.html on same site now .. i found the other some time ago, so possibly he has more recent work)
12:07:20 <basti_> it sucks secondarily though
12:07:25 <basti_> i've heard it sucks.
12:10:44 <lrrr> i was thinking to implement something like FFTW library, where ocaml code generates most efficient C code for given parameters and current platform and then compiles it with gcc... but this paper looks much more interesting
12:12:14 <basti_> lrrr: there was this link about a paper that explained the theory of datastreams
12:12:20 <basti_> (as comonads, if that tells you anything)
12:13:04 <basti_> (streams go well with synthesis/dsp)
12:14:45 <lrrr> well yeah, i think i should find out something about comonads first ;)
12:14:53 <basti_> oh theyre easy
12:14:57 <basti_> like monads, just the other way round
12:15:03 <wilx> http://www.cse.ogi.edu/PacSoft/publications/phaseiiiq10papers/codata.pdf
12:15:04 <wilx> This?
12:15:23 <wilx> Heh, "like monads, just the other way round?" What is this supposed to mean?
12:15:50 <basti_> well like: a comonad function is  m a -> b, not a -> m b
12:16:08 <basti_> http://www.cs.ut.ee/~varmo/tday-koke05/uustalu-slides.pdf no this
12:16:26 <wilx> Ah.
12:17:42 <Lunar^> Coucou,
12:21:53 <ski> wilx,basti_,lrrr : or this
12:21:58 <ski> http://lambda-the-ultimate.org/node/view/988
12:22:07 <ski> (re comonads)
12:22:44 <ski> ya
12:24:33 * ski goes to sleep
12:24:37 <basti_> night ski
12:24:46 <ski> night
13:21:49 <araujo> @hoogle Uppercase
13:22:40 <Lemmih> @eval (Char.toUpper 'x', Char.isUpper 'x')
13:22:43 <lambdabot> ('X',False)
13:23:15 <araujo> Thanks Lemmih
13:28:43 <Oejet> Good night, everybody.
13:30:05 <Lemmih> 'night, Oejet.
13:31:26 <adept> 'night
13:31:35 <adept> any python-literate people here? :)
13:32:21 <adept> I need an equivalent of 'let dates=<list od dates> in take 1 (dropWhile isCurrentDate dates)
13:44:18 <prionic> for d in dates:
13:44:23 <prionic> 	if not isCurrentDate(d):
13:44:28 <prionic> 		x = [d]
13:44:32 <prionic> 		break
13:45:08 <adept> wont work, imo
13:45:16 <prionic> why not?
13:45:18 <adept> d in not a list, dates is
13:45:44 <adept> no, sorry
13:45:48 <adept> wrong remark
13:45:55 <adept> but wont work nevertheless
13:46:13 <prionic> ill bet it does
13:46:20 <adept> x should be the next list elem after d that is (not isCurrentDate)
13:46:59 <poetix> (d for d in dates if not isCurrentDate(d)).next()
13:46:59 <adept> ... after d, which is not isCurrentDate, even
13:47:12 <adept> wow
13:47:17 <adept> will try, thanks
13:47:23 <shapr> @yow !
13:47:24 <lambdabot> Everywhere I look I see NEGATIVITY and ASPHALT ...
13:47:30 * adept wishes for zope with haskell inside
13:48:09 <shapr> adept: me too!
13:49:53 <prionic> poetix: you sure about this?
13:49:53 <Cale> hmmm... scanl is to comonads what concatMap is to monads. :)
13:50:09 <Cale> rather, scanl1
13:50:10 <poetix> Works in Python 2.4
13:50:23 <prionic> new syntactic sugar?
13:50:35 <shapr> set also works in 2.4, but most zopes run 2.3.4
13:50:37 <poetix> Generator comprehensions
13:50:49 <shapr> I wanted to use set in a python script a coupla hours ago.
13:51:22 <adept> shapr: aha! so you are python-literate too!
13:51:25 <poetix> If I still cared about Python, I could probably quote you the PEP number
13:51:43 <poetix> #haskell is full of Python refugees ;)
13:52:01 * Itkovian would like to know Python a bit better
13:52:42 <poetix> It is still a cool little language
13:52:49 <prionic> dont know why adept did not like my listing, it does exactly what the haskell line does, imo
13:53:48 <poetix> But it tempts people into doing weird hacky things with it, and lacks disciplined mechanisms for making those weird hacky things really work as part of the language
13:54:18 <poetix> Philip Eby's predicate dispatch via decorators would be a case in point
13:54:26 <adept> poetix: this one I do like: (d for d in dates if not isCurrentDate(d)).next()
13:55:05 <adept> poetix: IMO, python (like perl) is very ideomatic language. And when you dont kow _current_ set of idioms, you are doomed
13:56:40 <shapr> adept: Yes, but I had about six mistakes in the Python script I just wrote. All of the mistakes would have worked in Haskell though :-)
13:57:19 <adept> shapr: :)))
13:57:24 * adept wrote an ugly hackish hack for zope
13:58:05 <shapr> nested list comprehensions?
13:59:09 <adept> well, not that ugly
14:00:02 <adept> but I wonder wether it's me or my hand was forced by available API and language limitation. Code just looks UGLY
14:01:45 <shapr> Python feels dirty after I've used Haskell so much.
14:04:00 <musasabi> Is there a good idiom for saying "anyM :: Monad m => [m a] -> m a" which would return the first computation in the list that does not fail?
14:04:29 <Heffalump> don't use Monad :-)
14:04:39 <Heffalump> you can't catch failure in an arbitrary monad.
14:04:59 <Heffalump> with MonadPlus, anyM = foldr1 mplus
14:05:20 <Heffalump> or foldr mplus mzero if you want failure on an empty list
14:06:09 <musasabi> Heffalump: does that work if the list is infinite?
14:06:26 <Heffalump> I think so.
14:06:39 <Heffalump> cos success `mplus` anything = success
14:06:57 <Heffalump> though I think you are reliant on the monad to have a well-behaved mplus
14:07:09 <Heffalump> but any sane monad with mplus I can think of would have that
14:07:43 * Heffalump tries to remember what mplus does for List, if anything
14:08:20 <musasabi> But e.g. IO is not in MonadPlus...
14:08:42 <Heffalump> write an instance using catch
14:08:56 <dcoutts> @plugs Monad.mplus "abc" "123"
14:09:03 <lambdabot> 18: Not in scope: `Monad.mplus'
14:09:15 <musasabi> How about anyM :: MonadIO m => ?
14:09:16 <Heffalump> @plugs Control.Monad.mplus "abc" "123"
14:09:18 <lambdabot> "abc123"
14:09:37 <Heffalump> musasabi: ok, write a combinator with catch that behaves like mplus I described
14:09:42 <Heffalump> @type Control.Exception.catch
14:09:44 <dcoutts> so @plugs doesn't have haskell98 modules?
14:09:45 <lambdabot> forall a. IO a -> (GHC.IOBase.Exception -> IO a) -> IO a
14:10:19 <Heffalump> foldr (\m1 m2 -> m1 `catch` (\_ -> m2)) (throw someerror)
14:16:24 <musasabi> seems easy enough although I used explicit recursion.
14:16:40 <musasabi> What is the status of ghc 6.4.1 and Debian?
14:17:25 <adept> Debian: unstable, ghc: unknown ;)
14:18:37 <Itkovian> @seen boegel|home
14:18:38 <lambdabot> boegel|home is in #haskell. I don't know when boegel|home last spoke.
14:20:10 <boegel|home> Itkovian: ?
14:20:43 <Itkovian> uhu
14:21:09 <boegel|home> need me ?
14:21:43 <Itkovian> brb
14:21:47 <Igloo> musasabi: There's a deb in Haskell Unsafe
14:25:21 <boegel|home> Itkovian: make it quick, I want to go to bed
14:25:31 <Itkovian> nvm then ...
14:25:34 <Itkovian> ttyl
14:26:42 <boegel|home> Itkovian: :s oh come, what did you want to ask/say
14:27:08 <Itkovian> erm, good question
14:27:19 <boegel|home> :|
14:27:21 <Itkovian> tmr finished?
14:27:28 <boegel|home> my article is yeah
14:27:43 <Itkovian> publishing date?
14:27:59 <boegel|home> when shapr is done with his and CosmicRay's :)
14:28:15 <shapr> I got CosmicRay's article.
14:28:49 <shapr> Realistically, I think the next TMR will happen on Saturday.
14:28:56 <shapr> I don't think I'll have time tonight or tomorrow.
14:29:16 <boegel|home> shapr: okay, fine with me :)
14:29:26 <shapr> Itkovian: The article is viewable though, I think.
14:29:44 <boegel|home> I've postponed my article long enough, a few days more won't matter ;)
14:29:57 <Itkovian> shapr: ok
14:30:43 <shapr> Do you need the article for a particular reason?
14:31:09 <boegel|home> shapr: I guess he's just being curious
14:31:12 <Itkovian> just curious
14:31:22 <boegel|home> Itkovian: I'm thinking about sending a link to Hannes, good idea ?
14:31:42 <Itkovian> btw, boegel|home that old guy this morning ... he wobbled at least ten times to the toilet
14:31:52 <Itkovian> boegel|home: yes!
14:31:57 <boegel|home> ten times ? :) hehe :)
14:32:06 <boegel|home> we had a good laugh with him :)
14:32:07 <boegel|home> he was funny
14:33:29 <boegel|home> well, I'm off to bed
14:33:32 <boegel|home> g'night everyone
14:34:31 <Itkovian> night
14:34:42 <Itkovian> i'll be working at hoem tomorrow
14:34:43 <shapr> cya!
14:34:49 <shapr> boegel|home: thanks for the article!
14:35:33 <boegel|home> Itkovian: see you on Monday then
14:35:48 <boegel|home> shapr: no problem, you've waited long enough, I hope I get loads offeedback on it ;)
14:35:50 <boegel|home> *off
14:40:10 <adept> what's the name of the site where you can paste code snippets for showing them around?
14:41:55 <vegai> @paste
14:41:56 <lambdabot> http://www.haskell.org/hawiki/HaskellIrcPastePage
14:42:21 <vegai> then there's lisppaste2, but I don't remember how that works
14:42:28 <adept> and for non-haskell code? It was something really short and simple ...
14:43:22 <Itkovian> Lemmih: there seems to be an issue pullign from the hsp repos. darcs seems to either hang or take very long, but in any case it's burning battery power.
14:44:08 <gour> dcoutts: ping
14:44:29 * gour is back.
14:44:39 <Lemmih> Itkovian: Can you access scannedinavian.org?
14:44:54 <Itkovian> via the ip, yes
14:46:06 <Itkovian> maybe i should simply check ot a new version, and wipe the old one
14:46:48 <Itkovian> done
14:46:49 <Itkovian> :-)
14:47:17 <Itkovian> anyway,  i'm off to sleep.
14:47:18 <Itkovian> ttyl
14:47:56 <gour> @seen dcoutts
14:47:58 <lambdabot> dcoutts is in #haskell-blah and #haskell. Last spoke 38 minutes and
14:47:58 <lambdabot> 13 seconds ago.
14:49:43 * adept is off to sleep too
14:50:16 * shapr is working...
14:51:35 <gour> Lemmih: ping
14:51:45 <Lemmih> gour: pong.
14:52:22 <gour> Lemmih:hi, i just returned back after travelling (aka driving) and pulled latest code from hIDE..
14:52:57 <gour> Lemmih: had to install gtk2hs-0.9.9.5 since 0.9.9 is not enough..
14:53:22 <gour> Lemmih: then i had to register sourceview-0.9.9..
14:53:37 <gour> Lemmih: finally I executed build.sh script and it gives:
14:53:54 <dcoutts> heh trying to build hIDE I see :-)
14:53:59 <gour> Preprocessing library hide-yi-0.1.0...
14:53:59 <gour> Building hide-yi-0.1.0...
14:53:59 <gour> ghc-6.4.1: ghc-6.4.1: panic! (the `impossible' happened, GHC version 6.4.1):
14:54:00 <gour>         unknown exception
14:54:00 <gour> Please report it as a compiler bug to glasgow-haskell-bugs@haskell.org,
14:54:00 <gour> or http://sourceforge.net/projects/ghc/.
14:54:14 <dcoutts> interesting
14:54:15 <gour> maybe it's interesting to both of you
14:54:43 <Lemmih> Try cleaning it.
14:54:44 <gour> i'm too tired to do any more debugging, but if you are staying awake, maybe you can make yourselves busy
14:55:28 <gour> is it already known to you?
14:55:57 <dcoutts> nope, not to me
14:56:49 <dcoutts> did you try ./build.sh clean
14:56:50 <gour> dcoutts: is there anything i can try to do i.e. test, pls. send me email
14:57:11 <gour> dcoutts: yes i did clean before build
14:57:42 <gour> now i'm going to sleep - too tired for any intellectual work :-)
14:57:49 <dcoutts> ok, g'night
14:58:23 <gour> so you can send me email with some instructions what to test, ok?
14:58:43 <dcoutts> I really can't think of anything at the moment
14:58:59 <gour> ok,good night, see you tomorrow
14:59:12 <dcoutts> yep :-)
15:00:56 <shapr> hiya likens
15:01:15 <shapr> likens: Are you related to Derek Elkins?
15:01:21 <likens> hi, no
15:01:30 <shapr> Ah ok.
15:01:57 <shapr> Do you have any questions about Haskell?
15:02:42 <monochrom> perhaps likens has answers about Haskell looking for questions :)
15:02:43 <neadjneki> he must be a permutation of derek
15:02:46 <likens> oh yes (I'm a newbie) but nothing specific right now.
15:05:03 <shapr> ok
15:05:34 <lispy`> shapr: do you do any hosting at scannedinavian? specifically darcs repo hosting
15:06:17 <lispy`> and if so, what is the price
15:18:44 <Heffalump> lispy`: what do you need it for?
15:24:44 <araujo> An if clause needs to have both 'then and else' ?
15:24:59 <shapr> Yup, it's just syntactic sugar on case.
15:25:11 <araujo> mm...
15:25:29 <Igloo> shapr: You can leave out the else clause in a case expression  :-)
15:25:31 <araujo> shapr, which value could i return from the else clause if i don't care?
15:25:53 <shapr> oh right
15:25:56 <Igloo> araujo: What are you trying to do?
15:25:57 <shapr> my mistake
15:26:10 <shapr> I misread that as "if and then"
15:26:24 * shapr is too sleepy to answer Haskell questins
15:26:35 <araujo> Igloo, just checking if a variable is equal to a number
15:26:50 <araujo> If it is, then do something, if not, do nothing
15:27:00 <Igloo> do what?
15:27:22 <araujo> Show the number
15:27:27 <Igloo> Use when
15:27:35 <Igloo> @type Control.Monad.when
15:27:42 <lambdabot> forall (m :: * -> *). (Monad m) => Bool -> m () -> m ()
15:28:11 <araujo> Good
15:28:15 <araujo> Thanks Igloo
15:29:08 <stepcut> Igloo! How do I build a deb of ghc6 against libreadline5-dev if I only have a ghc6 build against libreadline4-dev ?
15:29:44 <Igloo> stepcut: Why do you need to do that?
15:30:17 <stepcut> Igloo: I am backporting ghc6 to a snapshot of sid that had ghc6 built against libreadline4-dev
15:30:38 <stepcut> and I need to have ghc6 and libreadline5-dev installed at the same time
15:31:02 <Igloo> OK, I'm sure you have your reasons  :-)
15:31:26 <Igloo> Basically yes, you ened to install them together, either by forcing dpkg or by manually unpacking ghc6
15:32:04 <stepcut> why is the libreadline5-dev depends needed? The changelog just said you were unhappy about it :p
15:33:17 <Igloo> Back when my name was Michael Weber, you mean?  :-)
15:33:23 * shapr grins
15:33:25 <stepcut> :p
15:33:30 * stepcut should read more closely
15:33:43 <Igloo> Because if you use the readline package you need to link against it
15:34:01 <Igloo> Err, the util package, rather, or wherever readline lives
15:35:19 <stepcut> I figured as much. But would a dependency of libreadline-dev work better, so you can choose libreadline4-dev or libreadline5-dev ? Or does the compiler need the version it was built against ?
15:35:45 <Igloo> You need the versin you compiled against
15:37:21 <stepcut> But, it is ok to install the wrong version when trying to build ghc6 against libreadline5-dev when using a compiler built with libreadline4-dev ?
15:37:53 <stepcut> (I would assume that the part of the build process that needs the old ghc6 does not required libreadline..)
15:38:39 <Igloo> Yes
15:38:55 <stepcut> ok, thanks for your time.
15:39:04 <Igloo> np
15:39:23 <stepcut> Out of curiosity, any idea how hard it would be it split the readline stuff out into a seperate deb ?
15:39:41 <Igloo> It's on my TODO list
15:39:45 <stepcut> ah :)
15:42:17 <dcoutts> Lemmih, pushed some more hIDE gui tweaks, so the demo editor now use GtkSourceView
15:43:28 <dcoutts> Lemmih_, (just in case you didn't see) pushed some more hIDE gui tweaks, so the demo editor now use GtkSourceView
15:45:40 * Lemmih_ is still stuck in a game of civ3.
15:46:25 <Lemmih_> Think I might be winning this time! (:
15:46:50 <dcoutts> heh heh
15:47:38 <dcoutts> I think I might keep the GtkSourceView/Buffer based editor around, just to provide you and dons with some competition :-)
15:48:15 <davve> i'm excited about the hIDE project
15:48:37 <dcoutts> davve, cool :-) so are we
15:48:56 <davve> when i'm done writing this stupid ruby presentation i will download the src
15:49:33 <dcoutts> well at this point hacking is probably what we need
15:49:47 <dcoutts> we have a surplus of testers :-)
15:49:50 <davve> yeah.. ok
15:50:13 <dcoutts> but feel free to downlaod it, try it and look at the code etc
15:50:14 <davve> i guess there will have to be a lot of thinking on the plugin API
15:50:21 <dcoutts> yes indeed
15:50:32 <davve> before things start going in the right direction
15:51:02 <dcoutts> that sort of thinking would indeed be helpful
15:51:07 * dcoutts is off to bed now
15:51:21 * Lemmih is still deeply disappointed that we probably wont get to use the GHC api any time soon.
15:51:27 <dcoutts> davve, feel free to add your thoughts to the wiki
15:51:31 <dcoutts> @where hIDE
15:51:32 <lambdabot> http://www.haskell.org/hawiki/hIDE
15:51:52 <dcoutts> Lemmih, we can use it for parse errors at least
15:51:52 <davve> i will try to think about it when i'm not hungover writing a 30 min ruby presentation for tommorow
15:51:56 <davve> :)
15:52:04 <Lemmih> dcoutts: No we can't.
15:52:05 <davve> the more i read about ruby the more i dislike it
15:52:09 <dcoutts> Lemmih, really?
15:52:26 <davve> Lemmigh, why can't we use the GHC API?
15:52:28 <Lemmih> dcoutts: Well, we can if we copy the parsing code.
15:53:02 <Lemmih> davve: Linker issues.
15:53:32 <davve> oh
15:53:37 <dcoutts> Lemmih, oh we can't load the whole ghc api package? how about jsut the bits we'll use?
15:54:02 <dcoutts> Lemmih, so JaffaCake pointed out that we can't use the renaming or typechecking phases because we'd need the ghc-6.5 libs, but he reckoned parsing would be ok
15:54:54 <dcoutts> and just parsing would be a good initial test of our background/idle parsing/typechecking infrastructure and the display of error messages within the editor
15:54:58 <sethk> davve, of the oo things around, I like ruby.
15:55:09 <sethk> davve, anything I dislike about ruby is really something I dislike about oo
15:55:18 <sethk> davve, what don't you like?
15:55:19 <Lemmih> dcoutts: We can't load the package. It uses symbols from the RTS which aren't recognized by the linker.
15:55:24 <dcoutts> eg underlining parse errors in red
15:55:41 <dcoutts> Lemmih, ok, can we hack out the modules we need?
15:55:47 <davve> sethk, the block stuff
15:56:26 <sethk> davve, not sure there is a better alternative to it.  it's one dimensional, but that's more or less a given
15:56:29 <Lemmih> dcoutts: Yeah, but that's not as neat.
15:56:42 <davve> sethk, i don't understand why they don't just use first class functions
15:57:13 <dcoutts> Lemmih, true but it's a good start
15:57:40 <dcoutts> Lemmih, and we can always start hacking on it with ghc-6.5
15:57:40 <sethk> davve, it would be a major complication of their run time system.
15:57:54 <davve> sethk, why?
15:58:10 <dcoutts> Lemmih, the VS Haskell folk are using 6.5, we could at least do development with it too
15:58:13 <sethk> davve, all the scoping would be a lot more complex, I think.
15:58:35 <sethk> davve, and lot's of things that are untyped would have to have at least some type info
15:58:46 <dcoutts> Lemmih, it'd make it harder to play with and for others to test, but its not so bad
15:58:47 <Lemmih> dcoutts: The users would have to use 6.5 also to get the advantages.
15:59:05 <dcoutts> Lemmih, yeah, so it's only for development
15:59:08 <Heffalump> is there a rough timescale for 6.6?
15:59:22 <dcoutts> Lemmih, but JaffaCake said 6.6 would be "a few months"
15:59:27 <Lemmih> Using 6.5 would be _really_ bad, IMHO.
15:59:57 <davve> sethk, hm.. okay. i don't understand why at all but then i don't know ruby.. and i'm probably still not sober ;)
15:59:58 <dcoutts> so that's probably an ok time frame, ie by the time it's really ready 6.6 will probably be nearly out
15:59:59 <Lemmih> 6.5 can break at any time (and it does).
16:00:10 <dcoutts> true, we jsut pick a snapshot and stick
16:00:23 <sethk> davve, I'm not an expert on ruby's run time system, although I think I more or less understand how it works.
16:00:33 <dcoutts> sorry, I've really got to go to bed (gf calling!)
16:00:41 <dcoutts> g'night folk
16:00:51 <davve> night
16:00:52 <Lemmih> Goodnight, dcoutts.
16:02:59 <davve> sethk, are there any noticable restrictions on the blocks that i could understand that makes them easier to implement? :)
16:03:37 <sethk> davve, let me take a look and refresh my memory a bit.
16:04:05 <sethk> davve, last time I looked in detail was before 1.8
16:05:47 <davve> okay.. to me the restrictions are these: they are a different syntactic category than methods and objects (but can sort of convert them to an object), and you can only pass one block to a method
16:23:02 <araujo> hey guys
16:23:15 <araujo> What is the function to test if a value is an Int ?
16:24:14 <Lemmih> All types are known at compile time.
16:25:01 <monochrom> isInt :: Int -> Bool
16:25:05 <monochrom> isInt _ = True
16:25:18 <monochrom> It even works for isInt(0/0) :)
16:26:07 <Lemmih> @eval let isInt :: Int -> Bool; isInt _ = True in isInt (0/0)
16:26:12 <lambdabot> <Plugins.Eval>:1:70:
16:26:12 <lambdabot>   No instance for (Fractional Int)
16:26:12 <lambdabot>   arising from use of `/'
16:26:31 <araujo> Thanks guys
16:26:32 <monochrom> err, my bad, use `div` instead
16:26:35 <araujo> }:-]
16:27:14 <Lemmih> araujo: Maybe you want a 'isInt :: Char -> Bool'?
16:27:24 <monochrom> class CanTestForInt t where {isInt :: t -> Bool; isInt _ = False}
16:27:45 <monochrom> instance CanTestForInt Int where { isInt _ = True }
16:27:48 <araujo> Lemmih, mm , well i want to do something more crazy, a isInt :: String -> Bool
16:28:20 <monochrom> Look for the function "read" and friends.
16:28:39 <araujo> yeah, was thinking to use read
16:28:40 <monochrom> @type read
16:28:41 <Lemmih> @eval let isInt = all Char.isDigit in (isInt "123", isInt "123b")
16:28:42 <lambdabot> forall a. (Read a) => String -> a
16:28:42 <lambdabot> (True,False)
16:29:05 <monochrom> @type reads
16:29:06 <lambdabot> forall a. (Read a) => ReadS a
16:30:04 <monochrom> isInt s = case reads s of { [x] -> True ; _ -> False }
16:30:20 <monochrom> Don't forget isInt "-123" hee hee hee
16:30:31 <araujo> haha
16:30:48 <monochrom> My code has mistakes.
16:31:02 <monochrom> @eval reads "123"
16:31:03 <lambdabot> <Plugins.Eval>:1:12:
16:31:03 <lambdabot>   Ambiguous type variable `a' in the constraints:
16:31:03 <lambdabot>   `Show a' arising from use of `show'
16:31:10 <araujo> read ?
16:31:26 <monochrom> @eval (reads :: ReadS Int) "123"
16:31:28 <lambdabot> [(123,"")]
16:31:59 <monochrom> isInt s = case reads s of { [(x,[])] -> True ; _ -> False }
16:32:24 <araujo> haha, perfect
16:32:28 <monochrom> read will just abort if you have like read "abc" :: Int
16:32:29 <araujo> Thanks a lot monochrom
16:32:38 <araujo> yeah
16:32:44 * Igloo ponders what to do with nhc98 and hat and notes popcon like them about as much as ghc5
16:45:43 <prionic> how is possible that a module is hidden by cabal but cabal is not registered... can i manually remove the hiding?
17:00:29 <sethk> hey, anyone know this answer?  I've install gtk2hs, and wxhaskell.  building with --make, the gtk2hs samples build.  The wxhaskell samples don't find their imports.  As far as I can see, both packages installed to /usr/local/lib
17:01:04 <Lemmih> prionic: What's the problem?
17:02:51 <Lemmih> sethk: Does ghc-pkg mention wxhaskell?
17:03:00 <sethk> Lemmih, let me see...
17:04:16 <sethk> Lemmih, no.  mentions gtk and glib, but nothing with wx in the name.  Let me see if wx is actually in the import
17:04:41 <Lemmih> If ghc-pkg doesn't mention the package then it's not installed.
17:04:46 <sethk> Lemmih, yes, and no.  Do I need to do a register with ghc-pkg?
17:05:05 <sethk> Lemmih, let me see if make install in wxhaskell does anything with ghc-pkg
17:05:13 <Lemmih> Yes. The wxhaskell installer should probably have done it.
17:05:47 <sethk> Lemmih, it does run it.  Let me do make install for real and get the exact line (I did make -n which gives only part)
17:07:04 <sethk> Lemmih, it does, it does reading package info, saving old package config, writing new package config.  Let me see what it writes into it.
17:07:15 <sethk> Lemmih, if I can.  I didn't save the package config before the first make install
17:08:26 <sethk> Lemmih, this is interesting.  It does a bunch of exposed modules, such as Graphics.UI.WXCore, but the first sample file, HelloWorld.hs, imports Graphics.UI.WX, and there is no such module.
17:08:39 <sethk> Lemmih, well, thanks for the pointer, now I know what, I'll have to figure out why
17:09:52 <sethk> Lemmih, no, that's not it.  I tried one with Graphics.UI.WXCore and it still doesn't find it.  Must be related to the packages, though; ghc-pkg list doesn't show any wx stuff
17:11:35 <Lemmih> Oh well. Gtk+ is cooler than wxWidgets, anyways. (:
17:11:59 <sethk> Lemmih, I do find wx in the package.conf file, but I don't see it in ghc-pkg list
17:14:34 <sethk> is it normal to see the same package name multiple times in package.conf?
17:16:22 <Lemmih> It's not even normal to manually look in the package.conf.
17:16:49 <sethk> Lemmih, yes, I know, but I'm fumbling here.
17:18:18 <sethk> Lemmih, it's definitely not right.  However make install of wxhaskell does write stuff into the file.  I'm not sure how to go about troubleshooting this; that's why I was looking at the conf file
17:19:28 <sethk> Lemmih, should I try to run ghc-pkg register?
17:19:43 <sethk> Lemmih, I have the file that the wxhaskell make install uses to do that
17:19:54 <Lemmih> I'm unfamiliar with wxHaskell.
17:19:56 <sethk> Lemmih, of course, if that worked I wouldn't be asking  :)
17:20:13 <Lemmih> Normally you would just let Cabal deal with it.
17:20:33 <sethk> Lemmih, yes, and from the output of make install, it looks like that's exactly what happened.  Except that it didn't
17:20:48 <sethk> Lemmih, I did want to compare it to gtk2hs
17:45:42 <sethk> Lemmih, did you say something about haddock a while back?  about this package issue?
17:46:00 <Lemmih> I did?
17:46:19 <dons> moin
17:46:21 <sethk> Lemmih, I'm not sure.  Maybe it was cabal.  Something related to package management
17:46:26 <Lemmih> Hi dons.
17:48:09 <dons> btw Lemmih, I'm heading off in an hour, and won't be available till I find some wireless in estonia in a couple of days. hopefully i can get some yi/hIDE hacking done on the plane though :)
17:50:55 <Lemmih> I wish I could attend the conferences in Tallinn *sigh*
17:51:46 <dons> yeah. we need a haskell.org fund
17:52:18 <dons> or at least a haskell.org organisation, to supervise google-style projects and take donations
17:53:18 <dons> Lemmih, you're at which university?
17:53:46 <Lemmih> That would be great since I'm most likely gonna be broke for at least a half decade. (:
17:54:16 <dons> i know the feeling, having been broke myself for the last half a decade
17:54:50 <sethk> short-timers  :)
17:55:01 <Lemmih> I'm not a student. Currently trying to convince them to let me apply.
17:55:11 <dons> ah, right. that's what I thought.
17:55:37 <dons> ever though about studying in .au? www.cse.unsw.edu.au/~pls ;)
17:55:56 <dons> we provide a good environment for haskell hackers :)
17:56:25 <sethk> dons, hey, you've _heard_ of haskell.  That's a big step up.
17:57:10 <sethk> dons, I get so tired of people who think _I'm_ weird, because they've never heard of it and I try to use it out here in what we laughably call the real world
17:57:25 <dons> yeah, I'm in one of the, umm, 8 groups in the world that actually do full time haskell work :}
17:57:44 <dons> @karma+ sethk
17:57:45 <lambdabot> sethk's karma raised to 1.
17:57:59 <dons> but I think many people do use it, but just don't tell their bosses
17:58:02 <sethk> dons, 9, since my last contract ran out last week.
17:58:16 <dons> heh
17:58:30 <Lemmih> dons: Isn't Australia even more anal about requirements than Denmark?
17:59:18 <dons> hmm, what requirements do you mean? what would you be applying for?
17:59:21 <Lemmih> I've even heard you guys have to pay for the education.
17:59:29 <dons> nah
17:59:42 <dons> they pay me!
17:59:45 * Lemmih is a high school drop out.
18:00:02 <sethk> Lemmih, you must be rich.  :)
18:00:25 <dons> well, for research students, getting the support of a supervisor with project money is about all it takes
18:01:07 <dons> without a uni degree, probably much harder, unless you've got e.g. code to back up your status
18:01:34 <sethk> dons, hey, I've got lot's and lot's of code and I'm tired of the real world.  :)
18:01:36 <dons> depends on how hacker-friendly the supervisor is, I'd think
18:01:58 <sethk> dons, you are correct, by the way, I do use haskell without telling anyone
18:02:28 <Lemmih> In Denmark the government pay for your education from high school to Ph.D.
18:02:46 <sethk> Lemmih, then why in the world are you a dropout?
18:03:20 <dons> right, same in .au sort of. uni is actually an interest-free loan you pay back maybe 30 years later
18:03:42 <dons> maybe Lemmih was busy hacking :)
18:03:52 <Lemmih> sethk: High school was _extremely_ boring.
18:04:24 <sethk> Lemmih, yes, well...
18:04:47 <dons> right. I know the feeling. many excellent hackers get bored by school and undergrad work. that's why decent supD[D[Dervisors don't take marks into account
18:05:28 * Heffalump thinks that's a mistake, if you can't cope with being bored with some work you are unlikely to do well at a research degree
18:05:44 <Heffalump> dons: where are you staying?
18:05:53 <dons> RevalExpress hotel
18:06:24 <dons> you?
18:06:32 <Heffalump> Mihkli.
18:07:14 <dons> ok, and Igloo is at L'Ermitage, SyntaxNinja is at the meriton(?)
18:07:22 <dons> looks like we're scattered around
18:07:36 <araujo> monochrom, there?
18:07:42 <monochrom> yes
18:08:00 <araujo> i am getting this:
18:08:02 <araujo> <interactive>:1:19:
18:08:02 <araujo>     Ambiguous type variable `a' in the constraint:
18:08:02 <araujo>       `Read a' arising from use of `reads' at <interactive>:1:19-23
18:08:02 <araujo>     Probable fix: add a type signature that fixes these type variable(s)
18:08:10 <araujo> With the isInts code
18:08:11 <Lemmih> Heffalump: There's a big difference between high school 'this-is-completely-idiotic'-boring and 'software-management'-boring.
18:08:51 <monochrom> I think an explicit type declaration "isInt :: String -> Int" will fix that.
18:09:02 <Lemmih> Heffalump: If college contains the former than I'll most likely drop out from there too.
18:09:26 <Heffalump> hmm. I need a decent map of Tallinn.
18:09:34 <araujo> monochrom, would taht be isInt::String -> Bool ?
18:09:45 <monochrom> oops!
18:10:14 <Heffalump> Lemmih: they're not all that different. I suggest you learn to deal with it.
18:10:23 <dons> Heffalump, the bus timetable has a zoomable, printable map
18:10:31 <araujo> monochrom, i tried that too, but i keep getting the same error
18:10:44 <dons> but I haven't found a nice .pdf-ish map yet
18:10:49 <sethk> Lemmih, you make sacrifices.  Believe me, this particular sacrifice (going through some drudgery to get to the good stuff) is _well_ worth it.
18:11:04 <monochrom> isInt s = case reads s :: [(Int,String)] of { [(x,[])] -> True ; _ -> False }
18:11:40 <monochrom> I have to be innovative in sneaking in a type constraint. :)
18:11:47 <araujo> Ohh...
18:11:54 <Heffalump> dons: ahah, ta.
18:11:54 <araujo> mm...
18:12:02 <araujo> i don't get it
18:12:28 <araujo> monochrom, why do i specifically need type constraints there?
18:12:41 <monochrom> The text "case reads s of { [(x,[])] -> True ; _ -> False }" does not suggest in any way that x has to be Int.
18:13:08 <monochrom> There is no way to say that in "isInt :: String -> Bool" either.
18:13:14 <Heffalump> lol, NaN% of the map has now loaded
18:13:28 <dons> cool!
18:13:30 <Heffalump> and now it's started again.
18:13:33 <araujo> Oh, i see
18:13:36 * Heffalump decides to give up and find a map when he arrives
18:13:53 <monochrom> Saying [(x::Int,[])] is disallowed in the standard.  (Some extension may allow it.)
18:14:14 <monochrom> The only standard places are reads or reads s.
18:14:21 <Lemmih> sethk, Heffalump: Doing stupid stuff because that's how the system works is not my style. I'd rather keep hacking and eventually gain respect for the things I've done and not how much mental torture I can withstand.
18:15:06 <Heffalump> Lemmih: well, the system also creates a framework within which you can do interesting stuff.
18:15:13 <monochrom> I could also write [(x,[])] -> const True (x::Int)  but that's too geeky.
18:15:13 <araujo> Ok, i will have to read more closely about this reads function
18:15:16 <araujo> Thanks monochrom
18:15:18 <sethk> Lemmih, understood, but there is a tradeoff, and you shouldn't underestimate the advantages of being with smart people with similar interests
18:15:25 <Heffalump> You can do interesting stuff outside the system too, like you say, but it'll be harder.
18:15:56 <Heffalump> it's nice getting paid a decent salary to do interesting stuff, for example
18:16:01 <sethk> Lemmih, and it isn't like you have to give up hacking.  :)
18:17:24 <araujo> monochrom, Good, i like more that one
18:18:15 <monochrom> @type reads
18:18:17 <lambdabot> forall a. (Read a) => ReadS a
18:18:39 <monochrom> The third choice is (reads :: ReadS Int) s.  It's probably the shortest.
18:19:36 <araujo> Nice
18:23:03 <syntaxfree> Larry Wall's "State of the Onion" mentions Haskell.
18:23:44 <syntaxfree> "Mind you, Autrijus's idea of fun is to learn Haskell and then write a prototype of Perl 6 in it. Now, for those of you who don't know, Haskell is one of those pure functional languages that doesn't allow any side effects (except, of course, when it does). Really way-out-there stuff, compared to the thinking of the average Perl programmer."
18:23:50 <araujo> syntaxfree, what he says....?
18:23:54 <araujo> Ok :-]
18:24:28 <syntaxfree> "Furthermore, Autrijus thinks it's fun to persuade other functional programmers that it would fun to bootstrap Perl 6 in Haskell. These folks proudly call themselves the "lambdacamels.""
18:24:39 <araujo> haha
18:25:52 <juhp> lol
18:26:01 <KrispyKringle> There are people running Perl in Haskell?
18:26:01 <syntaxfree> apparently Pugs is an actual Perl implementation written in Haskell.
18:26:07 <KrispyKringle> Jesus.
18:26:07 <KrispyKringle> Why?
18:26:28 <KrispyKringle> That's like implementing a C compiler in Python.
18:26:33 <dons> cause you don't write compilers in perl
18:26:38 <syntaxfree> Slashdot comment: "Pugs is a Perl 6 implementation. It is written in Haskell. I recently fooled around with it. What did I learn? Haskell is powerful. Perhaps even more powerful than Perl. Indeed, as a long time Perl programmer I think that I will soon be abandoning Perl in favor of Haskell. Its functional capabilities are extremely useful when writing software that needs to work (think automated verification and such). And that's just the beginning. 
18:26:48 <araujo> i don't think that is a good analogy KrispyKringle
18:26:53 <monochrom> because Haskell is a good tool for implementing interpreters for ungodly languages
18:27:18 <KrispyKringle> araujo: Yeah, I'm just talking out of my ass. But it seems, for the most part, somewhat counter productive.
18:27:35 <araujo> Why?
18:27:37 <KrispyKringle> On the other hand, Haskell isn't necessarily my first choice for text processing, so there's something to be said for using Perl.
18:27:43 <syntaxfree> wow. The State of the Onion discussion in Slashdot is heavy on Haskell.
18:27:49 <dons> not all languages are good for all things, KrispyKringle
18:27:55 <KrispyKringle> dons: Of course.
18:27:59 <syntaxfree> I think it's the first time I've read it discussed in Slashdot beyond "huh, I should learn Haskell, someday".
18:28:11 <syntaxfree> "Why is it taking over now? It's because we hit the limits of imperative languages years ago, and we're at the point of hitting the limits of object-oriented programming. That's why we're seeing applications that were traditionally implemented in C (such as a Perl implementation) being implemented using Haskell."
18:28:12 <KrispyKringle> That's why my analogy about C in Python is partly talking out of my ass.
18:28:13 <dons> compiler implementation is something haskell is really really good for (think pattern matching on abstract syntax)
18:28:31 <dons> so it was an excellent idea to implement pugs in haskell. it meant they got it done, and it worked
18:28:45 <KrispyKringle> dons: That wasn't my point at all.
18:28:52 <syntaxfree> the Pugs thing might be a huge step towards making Haskell more popular.
18:28:58 <KrispyKringle> dons: My point, mostly meant as a joke, was that it was like implementing a worse language in a better language.
18:29:01 <araujo> dons, have you used pugs?
18:29:09 <dons> oh, then it surely is that, KK :)
18:29:15 <dons> araujo, yep, had a look at it
18:29:22 <KrispyKringle> dons: Didn't think you'd argue ;)
18:29:52 <monochrom> Perl Interpreter is a good killer app.
18:30:02 <araujo> Indeed.
18:30:37 * dons catches a plane. see you in a few days!
18:30:38 <syntaxfree> maybe not because it's a killer app, but because it showcases the possibilities.
18:30:55 <araujo> Later dons
18:31:24 <syntaxfree> Darcs is cool and all, but a few more mainstream applications should help the Haskell community a lot.
18:31:50 <Heffalump> dons: when do you arrive?
18:32:03 <Heffalump> I'll be at CUFP on Saturday
18:32:37 <sethk> Heffalump, hey, quit rubbing it in.   :)
18:32:50 <Heffalump> sorry :-)
18:33:12 <Heffalump> I'm spending my own money on going, if that makes you feel any better..
18:33:16 <monochrom> unfortunately, most real-world problems are profane.
18:33:34 <sethk> Heffalump, not much better.  Maybe I'll manage next year.  :)
18:35:17 <Heffalump> I probably won't, since forking out for a transatlantic flight personally is painful
18:37:10 <sethk> anyone arrive recently who uses wxhaskell?
18:39:53 <sethk> hmm., this is very strange.  I installed wxhaskell.  Then I tried to build a sample program.  I get "package wx" not found.  I start a new shell, and I can build it.  I go back to the build shell, I still can't.  The build must set an environment variable that breaks package finding.
18:40:35 <blackdog>  might be a FAQ, but i can't find the answer anywhere: how do
18:41:14 <blackdog> you make a table with all columns equal width?
18:41:38 <Heffalump> in what?
18:42:11 <blackdog> ... damn this is haskell, isn't it...
18:42:37 <blackdog> sorry. (HTMl question.)
18:42:57 <Heffalump> I don't think it's very easy.
18:43:08 <Heffalump> you could specify width=n in each column
18:43:23 <Heffalump> but that's not standard, IIRC
18:43:44 <blackdog> really? that's annoying.
18:44:11 * Heffalump goes to bed
18:44:17 <Cale> blackdog: <colgroup span="(# of columns)" width="(width)">
18:44:23 <Cale> </colgroup>
18:44:40 <Cale> http://www.w3.org/TR/REC-html40/struct/tables.html#edef-COLGROUP
18:44:52 <int80_h> after two hours of installing ghc using darwintools, it ends this way: Attempting to fetch ghc-6.4-darwin-bootstrap.tar.bz2 from http://www.haskell.org/ghc//dist/6.4/MacOSX/
18:44:52 <int80_h> Error: Target com.apple.fetch returned: fetch failed
18:45:09 <blackdog> so that gives me a fixed table width... (I read that page too :)
18:45:10 <int80_h> I meant darwinports
18:45:20 <int80_h> has anyone used darwinports to install ghc?
18:45:27 <sethk> int80_h, sorry, but that's almost certainly a server problem.
18:45:39 <sethk> int80_h, I've had problems with darwinports, although i haven't tried ghc with it.
18:45:47 * int80_h sobs
18:45:49 <likens> I just gave up on it after a few hours.
18:45:50 <int-e> . o O ( the file there is called ghc-6.4-darwin-bootstrap-tiger.tar.bz2 )
18:46:09 <int80_h> sethk did you install on OSX?
18:46:09 <sethk> int80_h, perhaps there is a resume download capability?
18:46:18 <sethk> int80_h, ghc?  Yes, a while ago.
18:46:18 <Cale> blackdog: you can set the width proportionally
18:46:21 <int80_h> seth I can yes but it gives same error
18:46:21 <int-e> . o O ( or ghc-6.4-darwin-bootstrap-v01.tar.bz2  ?! )
18:46:31 <Cale> blackdog: try width="1*"
18:46:55 <likens> it got as far as --->  Building ghc with target all and ran a few hours.
18:47:05 <int80_h> sethk what did you use?
18:47:23 <blackdog> thanks Cale, shall try that
18:47:35 <sethk> int80_h, I downloaded a binary.  google for it.
18:47:51 <int80_h> heh I went to the ghc page and they said to use darwinports
18:48:00 <Cale> or even just width="*" should work the same way
18:48:08 <int80_h> well good news is, it installed all the dependencies
18:48:10 <sethk> int80_h, well, that's perfectly good advise, but if darwinports is having problems...
18:48:27 <sethk> int80_h, yes, that is very good news, if you can find a binary tarball
18:48:35 <sethk> s/advise/advice/
18:48:40 <int80_h> I think I can
18:48:41 <sethk> I can't talk goodly today
18:48:54 <int80_h> me so well talker if you
18:50:41 <sethk> anybody seen the bouncing balls sample app in wxhaskell?  very neat
18:50:45 <juhp> finally, yi runs!
18:50:57 <juhp> sethk: yes
18:54:05 <juhp> yi doesn't seem to like cursor movement though ;o)
18:54:15 <juhp> Xlib: unexpected async reply (sequence 0x11b6)!
18:54:34 <juhp> dons: including Backspace, etc
19:02:25 <juhp> does hIDE really need gtk2hs-0.9.9.5?
19:03:43 <juhp> hmm, seems so
19:03:57 <juhp> Module `Graphics.UI.Gtk' does not export `AttrOp(..)'
19:06:14 <juhp> and it doesn't build without cairo? :-/
19:08:40 <Cale> unexpected async reply has to be one of the more irritating error messages I've ever encountered.
19:09:58 <sethk> what does it mean?
19:10:14 <Cale> Usually that two different threads are making X calls.
19:10:54 <Cale> (that's not permitted)
19:15:05 <juhp> hm
19:15:39 <int-e> [means xlib can't deal with it]
19:18:17 <juhp> yes!  ghc-6.4.1 is now in Fedora Extras :-)
19:31:52 <sethk> juhp, excellent.
20:56:38 <genneth> last night i reduced the QC part of a pharmaceutical company to a map . fold
20:56:49 <genneth> type theory 1 real world 0
20:59:02 <palomer> oh where oh where could my shapr be
20:59:12 <palomer> QC?
21:02:11 <genneth> quality control department
21:02:17 <genneth> @seen shapr
21:02:19 <lambdabot> I saw shapr leaving #haskell-blah, #haskell and #webwitches 2 hours,
21:02:19 <lambdabot> 47 minutes and 50 seconds ago.
21:07:01 <sieni> palomer: anywhere but here?
21:09:43 <palomer> oh why have you forsaken us?
21:31:45 <sethk> @seen sethk
21:31:46 <lambdabot> You are in #haskell. Last spoke just now.
21:31:52 <sethk> know it all
21:34:00 <palomer> @seen shaper
21:34:01 <lambdabot> I haven't seen shaper.
21:37:38 <genneth> it lies!
21:37:49 <genneth> oh wait
21:37:52 <genneth> @seen shapr
21:37:53 <lambdabot> I saw shapr leaving #haskell-blah, #haskell and #webwitches 3 hours,
21:37:53 <lambdabot> 23 minutes and 25 seconds ago.
21:40:49 <sethk> @seen something sort of like shaper
21:40:50 <lambdabot> I haven't seen something.
21:40:58 <sethk> @seen nothing
21:40:59 <lambdabot> I haven't seen nothing.
21:41:09 <sethk> somebody should do something about lambdabot's grammar
21:43:42 <int-e> @seen grammar
21:43:43 <lambdabot> I haven't seen grammar.
21:44:47 <sethk> he sure ain't seen it
21:51:57 <genneth> i thought lambdabot was a girl?
21:57:17 <sethk> genneth, no wonder I can't get anywhere with it (her)
21:57:35 <genneth> :-p
23:25:23 <musasabi> Why is Foreign.C.Types.CTime not a member of Integral?
23:26:29 <JohnMeacham> because posix doesn't require it to be integral
23:26:36 <JohnMeacham> or.. c99 I mean.
23:26:55 <musasabi> hmm it is Enum however.
23:27:13 <musasabi> I can use fromEnum to get an Int but that feels even more like cheating.
23:42:38 <JohnMeacham> I think 'round' in RealFrac is what you want.
23:58:42 <musasabi> Is there a reason "(,)1" and "(1+) are valid but "(1,)" is not valid?
