00:00:00 <mwc> dibblego, even then, isn't the max value 2^31 - 1?
00:00:01 <dons> the tutorial?
00:00:06 <dibblego> mwc, yep :)
00:00:07 <dons> ?go simple unix tools
00:00:09 <lambdabot> http://haskell.org/haskellwiki/Simple_unix_tools
00:00:10 <lambdabot> Title: Simple unix tools - HaskellWiki
00:00:12 <dons> that one?
00:00:17 <bd_> dons: I was looking for that, yes :)
00:00:25 <bd_> found it about half a second before you pulled it up there
00:00:29 <bd_> >.>
00:00:32 <dons> heh
00:01:01 <dibblego> mwc, that's for Java's int type; but I am free to define my own type of course that has a max value of a gazillion, just with 2^32 representations
00:01:19 <dibblego> mwc, I can assume that this fool is referring to int
00:01:42 <goltrpoat> heh, i was about to say.  in *my* 32 bit type, 0x2 stands for ten trillion quintijillion.
00:01:53 * Mehdi passes popcorn to robby
00:02:06 <mwc> Thou shalt not abuse the number system for thine own twisted perversions!
00:02:17 <dibblego> goltrpoat, lol, somehow I don't think I'll get that far in the conversation - it's taken 10 minutes just to work out the initial mistake
00:02:23 <goltrpoat> hehe
00:02:46 <dibblego> goltrpoat, silly me for discussing isomorphism in ##java
00:02:57 * dibblego slaps /me
00:03:45 <dons> mmm. so where do we go now with the tutorial. more libraries, I guess
00:03:56 <mwc> dons, what tutorial?
00:03:58 <dons> i should just work through everything in System* and Data.* :)
00:04:07 <dons> http://programming.reddit.com/info/v34f/details
00:04:09 <lambdabot> Title: Programming Haskell - Part 2 (reddit.com)
00:05:23 <sjanssen> dons: afraid of Control.* ? ;)
00:05:31 <dons> ah good idea.
00:05:41 <dons> and it gives me an excuse to play with the applicative functors
00:05:53 <goltrpoat> dons:  chat server maybe?  motivates some data structures, and pulls in some libraries
00:06:03 <sjanssen> alphabetically, Control.Applicative and Control.Arrow come first, good luck . . .
00:07:56 <goltrpoat> and the whole thing can be developed in a few pages' worth of tutorial+code
00:08:14 <dons> i think i can write maybe 2000 words twice a week, and just walk through the base libs, the extra libs, and then some other things like haxml, hxt, ...
00:08:27 <dons> its what made perl easy to pick up: examples for everything
00:08:52 <mwc> hey dons, you say you're using Control.Concurrent to run multiple threads which will scale across multiple cores on 6.6 and later?
00:09:01 <mwc> but from the Control.Concurrent docs you linked
00:09:02 <mwc> Concurrency is "lightweight", which means that both thread creation and context switching overheads are extremely low. Scheduling of Haskell threads is done internally in the Haskell runtime system, and doesn't make use of any operating system-supplied thread packages.
00:09:03 <dons> yeah
00:09:08 <mwc> that's from latest
00:09:13 <dons> ah old docs :)
00:09:30 <dons> if the runtime underneath supports smp, i.e. ghc 6.6, you get multiple processors
00:09:34 <dons> i.e. see the 111% cpu figure
00:09:44 <mwc> yeah, I knew you were right, but I figure you might want to yell at the doc guys
00:09:50 <mwc> who has commit rights who can fix that?
00:09:53 <dons> with a better problem, i've got up to 350% cpu on the machine, with the new smp
00:10:06 <dons> mwc, yeah, just drop a line on libraries@hsakell.org
00:10:11 <dons> and I or someone will get around to it
00:10:14 <dons> ?bug <-- even better
00:10:15 <lambdabot> http://hackage.haskell.org/trac/ghc/newticket?type=bug
00:10:24 <dons> just submit that now
00:10:34 <dibblego> > 2^32 -1
00:10:35 <lambdabot>  4294967295
00:10:39 <dibblego> > 2^31 -1
00:10:40 <lambdabot>  2147483647
00:10:50 <dons> sjanssen: want to make add multithreading to Cale's nice rss feed puller?
00:10:51 <goltrpoat> i think the major niche that hasn't been explored very well is presenting haskell to imperative programmers with 15-20 years of experience who are used to learning a language while working on a big non-trivial project
00:10:56 <dons> i'm about ready to ditch snownes
00:11:24 <dons> goltrpoat: if you got any suggestions for how to introduce that , i'm all ears :)
00:12:38 <dons> mmm, ok, too much blogging,    10343 total
00:12:42 <dons> words in 4 days
00:12:52 <goltrpoat> well.. it might be worth it to pick a project that would span 4-5 tutorials, but be modular enough that it can be split into 4-5 relatively self-contained pieces
00:13:08 <dons> mmm. ok.
00:13:16 <mwc> goltrpoat, have you seen Build a Scheme in 48 hours?
00:13:19 <mwc> Tha'ts hardly trivial
00:13:22 <dons> reimplementing snownews would be good
00:13:27 <mwc> is that what you're looking for/
00:13:37 * dons wants an hmp3-like rss client
00:13:40 <goltrpoat> mwc:  that's a good point actually, i remember liking that one a lot
00:13:43 <sorear> dons: I build ghc in 60 minutes, by using -j2
00:13:57 <dons> sorear: ok. on what box?
00:17:18 <sorear> 1-core 2Ghz P4, ~5 GBy/s memory, 384 MB ram, ~100 MBy/s disk;  90 -> 60 using -j2
00:17:37 <dons> ah nice.
00:17:49 <dons> i guess you've seen my 7 minute build settings?
00:17:58 <dibblego> he is refusing to honour his USD50 bet
00:18:04 <dibblego> how did I predict it!?
00:18:05 <sorear> yes :)
00:19:05 <dons> > length [minBound .. maxBound :: Word32]
00:19:09 <lambdabot> Terminated
00:19:19 <dons> oh, that's a pity ;)
00:19:26 <dons> > length [minBound .. maxBound :: Word8]
00:19:27 <lambdabot>  256
00:20:04 <dons> ?scheck length [minBound .. maxBound :: Word8] == 2^8
00:20:05 <lambdabot>   Completed 1 test(s) without failure.
00:20:16 <dons> dibblego: :)
00:20:42 <dons> ?scheck length [minBound .. maxBound :: Word16] == 2^16
00:20:43 <lambdabot>   Completed 1 test(s) without failure.
00:20:55 <goltrpoat> ghci's still chugging on the Word32 one..
00:20:55 <goltrpoat> hehe
00:21:02 <dons> hehe might take a while ;)
00:21:45 <litb> haskell seems interesting enough to for me to gain more focus
00:22:12 <dons> litb, hehe nice :)
00:22:21 <sorear> Something happened and vty building broke - on both 6.6 and HEAD I get undefined symbol errors from the c-compiler.
00:22:21 <dons> to focus on the language more than you already have?
00:22:29 <litb> it's impressive how small a quicksort implementation is in haskell
00:22:34 <dons> sorear: missing #includes ?
00:23:21 <sorear>      error: gwinsz.h: No such file or directory
00:23:35 <goltrpoat> hmm
00:23:44 <goltrpoat> why is ghci memory usage staying constant during this, btw
00:23:52 <dons> sorear: yeah, so -#includes or some such
00:23:53 <sorear> deforestation?
00:23:58 <dons> yep
00:24:07 <dons> the length is fused with the enumFromTo
00:24:12 <goltrpoat> ahh i see
00:24:36 <dons> so you end up with a single traversal over a lazily generated structure, with each node allocated and freed as it appears
00:24:40 <dons> hence O(1) space
00:24:46 <goltrpoat> -nod-
00:25:18 <mwc> Well, I'd hope the GC lets a whole whack of nodes collect before compacting and collecting, but htat's an implementatoin issue
00:25:26 <mwc> the live set should be constant though
00:25:37 <paolino> dons, nice work with tae tutorial, thanks
00:25:42 <dons> yeah, its 1*k for some GC-dependent k
00:25:53 <dons> paolino: cheers
00:26:01 <sorear> why does Cabal need to install headers?  (cross-library inlining of foreign imports?)
00:26:09 <goltrpoat> i remember bulat posted a pretty comprehensive writeup on the gc in ghc on haskell-cafe
00:26:14 <goltrpoat> i should re-read that at some point
00:26:55 <dons> sorear: the gcc is trying to link the generated C code with stuff with headers
00:26:58 <dons> sorear: try -fasm ;)
00:27:08 <dons> (which won't check the headers)
00:27:35 <sorear> I assume mkcabal knew what it was doing when it stuck -O in my .cabal :)
00:27:54 <sorear> will try, tho
00:27:59 <dons> yeah, I guess you want -fasm -O
00:28:06 <dons> or... set the proper include path!
00:28:18 <dons> e.g
00:28:19 <dons> include-dirs:        cbits
00:28:21 <dons> c-sources:           cbits/fpstring.c
00:28:39 <sorear> (compilation successful with include-dirs + install-includes)
00:28:55 <sorear> do I need to list my headers in install-includes?
00:31:28 <gour> morning
00:31:45 <gour> now even ocaml has IDE :-( http://camelia.sourceforge.net/
00:31:46 <lambdabot> Title: Camelia: An IDE for OCaml
00:32:34 <sorear> is it any more functional than hIDE?
00:32:55 <gour> sorear: is hIDE functional?
00:32:58 <araujo> gour, let's go for our own!
00:33:18 <gour> araujo: it's right time...
00:33:55 <gour> araujo: i'm using pida but it's gvim + darcs only, nothing haskell specialized
00:34:42 <notsmack> i think yi's got potential
00:34:42 <araujo> gour, i use emacs+haskell-mode myself
00:34:52 <araujo> mm...
00:35:07 <araujo> Thoguh i started writing a small haskell editor a few month ago
00:35:20 <araujo> gotta have the code around somewhere
00:35:24 <gour> araujo: gui?
00:35:29 <araujo> yes gour
00:35:35 <araujo> Using gtk2hs
00:35:35 <gour> gtk2hs?
00:35:37 <araujo> yup
00:35:55 <gour> nice
00:36:37 * gour responded on cafe on suggestion to use C# instead of Haskel for GUI+DB app
00:38:44 <pzpz> isn't there that visuall haskell plugin for vsnet?
00:38:46 <cptn> mmm gtk2hs is nice
00:40:14 <gour> pzpz: we want something for linux too
00:40:54 <Excedrin> I wonder if Helium's GUI could be used to talk to GHCI
00:40:57 <dibblego> runhaskell file - is there a way to run without a .hs (or any) file extension?
00:42:11 <araujo> mm, i think i even made some screenshots
00:42:27 <araujo> nothing big ; just wanted to be able to edit my files on a haskell editor.
00:42:36 <dons> dibblego: not that i know of. its a open ticket issue, iirc
00:42:38 <pzpz> gour: what's wrong with emacs + haskell-mode?
00:42:48 <dibblego> dons, ok thanks
00:51:33 <geckosenator> i have been using haskell-mode
00:52:38 <araujo> gour, http://dev.gentoo.org/~araujo/heditor.png
00:52:42 <dibblego> dons, did you come up with a strategy for the "yeah, it's all good in theory" people?
00:53:01 <araujo> just one afternoon coding, so it is just initial code
00:53:25 <psykotic> dibblego: the only way to shut those people up is to produce more apps that people take notice of
00:53:39 <dibblego> I guess
00:55:31 * araujo wonders if an IDE can be considered an administration system
00:55:35 <psykotic> darcs and pugs did more for that angle than any "strategy" ever will :)
00:57:54 <araujo> i agree psykotic
00:58:11 <araujo> though as i read somewhere ; ther eis some kind of egg-chicken problem with haskell
00:58:12 <dibblego> you like to explain the world that I live in using formalities and a deeper understanding than a level with which I am comfortable, therefore, I will explain your behaviour by describing you as "religious"
00:59:40 <araujo> we will be able to get more attention for haskell with 'real' world applications ; but we still need libs and tools
01:00:36 <araujo> which are usually brought by these applications too.
01:01:38 <Cale> araujo: e17?
01:02:02 <araujo> Cale, ?
01:02:08 <Cale> Or just a theme that was copied from it? :)
01:02:12 <araujo> oh
01:02:15 <araujo> yes, e17 Cale
01:02:46 <Cale> nice - how is it coming along? There hasn't been much news.
01:03:36 <araujo> Cale, it has been very stable for me since many months now
01:03:53 <araujo> though they keep committing new stuff and bug fixes everyday
01:04:11 <araujo> there are also several nice themes around
01:04:25 <Cale> They really ought to report about it :)
01:04:39 <dons> dibblego: yeah, like psykotic sys,just write the code
01:04:46 <araujo> well, you can check the commit messages
01:04:51 <araujo> that's what i do sometimes
01:07:08 <Cale> @tell lispy I (Cale) would like to get syntax colouring for Haskell working on MediaWiki. If you could give me any information or code for doing that, it would be cool.
01:07:08 <lambdabot> Consider it noted.
01:08:25 <shankys> Can someone tell me how I might use GHC6.6 to specify that I need a .dylib library to work? I'm trying to get libpq.dylib on Mac OS X 10.4 to work for some web programming I'm doing with Haskell using Network.FastCGI.
01:11:15 <Lemmih> shankys: -lpq?
01:13:15 <shankys> lemmih: Ack, I still get an error: "can't load .so/.DLL for: pq (dlopen(libpq.dylib, 10): image not found)". I'm trying to get Bjorn Bringert's dyn-cgi library working with my web framework, and that's the error message that I get in the browser.
01:14:50 <mwc> shankys, is that error when you run your app?
01:14:59 <shankys> mwc: Yes.
01:15:01 <gour> pzpz: emacs? life is too short...
01:15:09 <mwc> what directory is that dylib in?
01:15:21 <shankys> mwc: /usr/local/pgsql/lib
01:15:44 <mwc> try running your program with DYLD_FALLBACK_LIBRARY_PATH=/usr/local/pgsql/lib
01:15:53 <gour> araujo: nice shot
01:16:08 <mwc> if that doesn't work, check the man page for dyld because I've gotten the exact name of the env var wrong
01:16:18 <shankys> mwc: Set that in the path or do something with GHC options?
01:16:18 <cptn> why is there no base binary for freebsd?
01:16:23 <mwc> shankys, set that in the path
01:16:29 <shankys> mwc: I'll give it a shot.
01:16:33 <mwc> I mean, set it in the environment
01:16:38 <mwc> export FOO=BAR
01:16:46 <mwc> or just FOO=BAR ./myAPP
01:18:21 <shankys> mwc: Still get the same error message...
01:20:36 <mwc> look up dyld in the man apges
01:20:53 <mwc> also, what is the exact name of the dylib you're trying to open?
01:21:21 <shankys> mwc: The file's name is libpq.dylib
01:21:55 <araujo> gour, it already does the basic editing things ; open file, save, save as .....
01:21:59 <shankys> mwc: Though lemmih told me that -lpq might work so I'm not sure what it's technical "name" is
01:22:23 <mwc> Well, it seems to be looking for the proper file
01:23:13 <gour> araujo: do you plan some integration for haskell?
01:23:30 <mwc> try DYLD_LIBRARY_PATH=/usr/local/pgsql/lib/ ./myApp
01:23:55 <shankys> mwc: I actually already tried adding that to the path and it didn't work
01:24:12 <shankys> mwc: The other thing is that I'm outputting a .fcgi file for Lighttpd to run
01:24:22 <shankys> mwc: So I can't just ./myApp
01:25:38 <mwc> shankys, you tried adding that to your PATH?
01:25:53 <shankys> mwc: Yeah, I tried that too.
01:26:01 <mwc> we need to set a totally diff't environment variable
01:26:40 <shankys> mwc: That's what I was thinking, but I'm kind of stumped as to what that might be...
01:27:43 <Lemmih> shankys: You should be able to run it even if it's an fcgi application.
01:27:44 <mwc> lol, the variable is called DYLD_LIBRARY_PATH That's how it resolves libraries that it links at on load, if the runtime is trying to dlopen the file like it appears to be, that might be a little different.
01:28:46 <mwc> On mac os x, dlopen first tries LD_LIBRARY_PATH then DYLD_LIBRARY_PATH then DYLD_FALLBACK_LIBRARY_PATH then it tries to resolve it as is, ie, relative to the cwd
01:30:19 <araujo> gour, yeah, that's what i am planning to do
01:31:03 <gour> araujo: good luck. now i've to go out of the city. i'll be back sometime in the evening
01:31:03 <araujo> gour, i got some ideas ; though i am still not really sure where to start at
01:31:10 <araujo> later gour
01:31:19 <gour> araujo: hIDE has good ideas...
01:31:23 <dibblego> "my favorite haskell program: darcs. A great theory on patch management for revision control, a magnificent edifice of mathematics and logic" -- where does this idea come from?
01:31:30 <shankys> mwc: Yeah, LD_LIBRARY_PATH was the first thing I tried because I thought that ought to do it...
01:33:48 <dibblego> "except that on our lowly real computers, it turns into a double exponential algorithm"
01:34:57 <shankys> lemmih: Oh, wow. I had no idea you could do that!
01:36:52 <shankys> lemmih: Can you pass useful stuff to your .fcgi files? For example, can I pass a path?
01:46:03 <Lemmih> shankys: A path?
01:47:09 <shankys> lemmih: I need to go to localhost/dynhs_root/vruit/Vruit.hs to get anything actually interesting. Can I make it go to this on the command line?
01:48:10 <shankys> lemmih: Otherwise when I just run my .fcgi file, I get uninteresting "Not Found" XHTML source.
01:48:47 <Lemmih> shankys: I don't know.
01:56:01 <dudemeister> hello, can i ask a question, not about haskell but about graph algorithms?
01:59:02 <dons> dudemeister: you can always try :)
02:05:08 <dons> ?yow
02:05:09 <lambdabot> It's OKAY -- I'm an INTELLECTUAL, too.
02:05:14 <dons> heh
02:07:26 <goltrpoat> Sunday, December 17 2006, 10:02am GMT:  lambdabot becomes self-aware.
02:08:17 <Heffalump> dibblego: double exponential?
02:08:40 <dibblego> Heffalump, beats me - I'm just quoting someone else (a subversion developer)
02:09:25 <Heffalump> ah
02:09:55 <dibblego> I'm just wondering where the idea comes from
02:10:13 <Heffalump> what idea?
02:10:18 <dibblego> about darcs
02:10:32 <Heffalump> the idea of designing it the way it is?
02:10:42 <goltrpoat> Tuesday, December 19 2006, 3:10pm GMT:  the first human falls prey to the pl plugin.  shocked bystanders struggle to describe the horrific scene in words other than "not genus preserving."
02:10:59 <dibblego> well, the idea that it is "a magnificent edifice of mathematics and logic except that on our lowly real computers, it turns into a double exponential algorithm"
02:11:25 <Heffalump> a subversion developer bitter about the success of darcs in the face of its obvious flaws? ;-)
02:11:35 <dibblego> well, is it a flaw?
02:11:51 <Heffalump> AFAIK, it never goes double exponential.
02:11:51 <dibblego> I don't think it is bitterness; perhaps a misunderstanding
02:11:55 <Heffalump> But it does go exponential.
02:12:05 <Heffalump> which is really not good
02:12:19 <dibblego> is it that LCS based delta algorithm with worst case exponential?
02:12:42 <goltrpoat> the "lowly real computers" thing seems to be a joke about quantum computers
02:12:53 <goltrpoat> and the "double exponential algorithm" thing might be a joke about shor's factorization algorithm
02:13:48 <goltrpoat> (polynomial on quantum computers, exponential or worse on "real" computers)
02:13:49 <Heffalump> dibblego: no, it's the conflict handling algorithm
02:14:01 <goltrpoat> of course it could be just a stab at darcs.
02:14:16 <dibblego> I suspect it is a stab at darcs
02:15:29 <dons> there's a bit of FUD around about 'common' exponential cases
02:15:33 <dons> its disappointing
02:16:00 <dons> good thing we have the entire .hs community pushing darcs's use. its not going to disappear any time soon :)
02:16:35 <dons> the time before darcs we refer to as 'the dark ages'
02:16:36 <mwc> I've even got some non-haskell types converted to it
02:16:47 * Heffalump wouldn't ever recommend it to anyone for large scale use
02:16:50 <dons> it was a scary time where we never sent ptches to each other
02:17:08 <mwc> Heffalump, fwiw, Roundy maintains a mirror of the linux repo in darcs
02:17:16 <Heffalump> mwc: and does anyone ever use it?
02:17:22 <dons> Heffalump: is ghc too big for it?
02:17:30 <dons> or is the limit higher than that
02:17:39 <dibblego> how do you measure it?
02:17:48 <Heffalump> dons: I don't just mean in terms of code size, I mean in terms of the number of developers and level of activity.
02:17:54 <mwc> I think darcs and pugs need to get a nice new trojan horse logo :)
02:17:56 <dons> yeah, that's what I was thinking.
02:17:59 <Heffalump> And I think ghc is a good example of darcs going badly wrong for people.
02:18:04 <dons> if you had 100 devs it'd get a bit scary
02:18:09 <mwc> I haven't heard about this
02:18:12 <dons> and if they were all on windows....
02:18:18 <mwc> darcs dropped the ball on ghc?
02:18:31 <dons> the use by ghc has exposed some bugs in the windows port
02:18:37 <dons> (which I think are being fixed)
02:18:40 <Heffalump> mwc: ghc has run into the exponential conflicts problem repeatedly
02:18:52 <Heffalump> it essentially makes long-term development on a separate branch impossible.
02:18:52 <dibblego> anyone happen to know how to get the full path to a bash script within the script itself?
02:19:01 <Heffalump> unless you merge frequently
02:19:07 <dons> how often? i don't think i've seen more than 5 complaints?
02:19:10 <dons> or do people know to merge
02:19:35 <Heffalump> dons: AFAIK all the people doing long-term development on a separate branch have had the problem.
02:19:37 <mwc> dibblego, can you get a "zeroth" arg that's the name the script was run as, and then append it to the cwd?
02:19:42 <dons> i mean, chilli managed to merge the FC branch in after 6 months or so
02:19:52 <Heffalump> dons: err, yeah, after lots of pain, AFAICT
02:19:56 <dons> that's about the biggest merge I remember
02:20:15 <dons> anyway, good to see the 'trial by fire' going on
02:20:29 <araujo> morning
02:20:34 <Heffalump> yeah, but we're not really fixing the conflicts problem. Hopefully we will at some point, but noone has the time to work on it properly :-(
02:20:39 <dibblego> mwc, I just want the directory that contains the script; but it might not be `pwd`
02:22:20 <dons> good thing 98% of the projects around seem to have <5 devs, and ~1.3 branches :)
02:22:27 <Heffalump> yeah, and it's great for that
02:23:41 <Heffalump> But it's (a) constant-factor slow and memory-hungry compared to say svn, (b) relatively buggy in the core code, (c) really buggy on Windows and (d) has exponential conflicts
02:23:42 <dons> pjd, oh, you're in .za! nice, I think you might be the first #haskell person with that domain :)
02:23:51 <Heffalump> dons: I doubt it
02:24:08 <Heffalump> I couldn't swear to it, but I'm sure I've talked to people from .za before
02:24:13 <pjd> dons: i'm working on changing that :)
02:24:13 <dons> ah ok.
02:24:22 <dons> ?map
02:24:22 <lambdabot> http://www.haskell.org/hawiki/HaskellUserLocations
02:24:27 <dons> none on the map :)
02:25:17 <araujo> this puts haskell in all the continents now? :-)
02:25:46 <Cale> who is nostrademons?
02:25:53 <dons> oh, looks like jewel was in .za a while back, and 2 or 3 others
02:26:25 <dons> Cale: ah, now, I know this... hmmm
02:26:36 <ph8> ?where yaht
02:26:36 <lambdabot> http://darcs.haskell.org/yaht/yaht.pdf
02:26:49 <Heffalump> araujo: only if I get my friend in .aq to visit. And he's a Perl hacker, not a Haskell hacker.
02:27:41 * dons ponders .aq
02:27:54 <dons> i guess its not actually antarctica?
02:28:29 <dons> hmm. there's flights down to the australian antartic territories now, 4 hours or so. i could duck down, log on to irc, and we'd have the full set :)
02:28:35 <Heffalump> dons: yes, it is
02:28:45 <Heffalump> he's working on Halley base
02:28:56 <dons> oh, cool.
02:29:41 <araujo> Heffalump, oh, that might be easy .... perl hackers are also moving to haskell!
02:29:43 <Heffalump> so they'll take anyone down on those flights?
02:29:57 <dibblego> env - /usr/bin/runhaskell Foo.hs -- why does this fail with "runhaskell: PATH: getEnv: does not exist (no environment variable)"? so what if there is no PATH?
02:29:59 <Heffalump> araujo: he knows of pugs and has shown no signs of getting involved :-)
02:30:06 <dons> Heffalump: doubt it (so far). there are commerical flights from chile, iirc
02:30:25 <dons> dibblego: where's your runhaskell ?
02:30:37 <dibblego> /usr/bin/runhaskell
02:31:04 <dons> ah, that's your getEnv cal failing?
02:31:25 <dibblego> I'm never calling it
02:31:27 <dons> :t getEnv
02:31:28 <lambdabot> Not in scope: `getEnv'
02:31:38 <dibblego> it works if export PATH=; first
02:32:30 <dons> I usually use getEnvironment
02:32:33 <araujo> Heffalump, he might just need a friend who talks him into it :-)
02:32:35 <dons> which gives you the entire env.
02:32:41 <dibblego> I'm not even using it
02:32:57 <dons> where'as silly getEnv tosses out a exception :/
02:32:57 <dibblego> it simply won't start the script
02:33:53 <dons> ?paste the code
02:33:53 <lambdabot> http://paste.lisp.org/new/haskell
02:34:27 <edi> ?fly me to the moon
02:34:28 <lambdabot> Maybe you meant: faq ft pl
02:34:44 <edi> 'lo.
02:34:54 <dibblego> main = return ()
02:35:02 <dons> ?faq can Haskell solve the halting problem?
02:35:02 <lambdabot> The answer is: Yes! Haskell can do that.
02:35:10 <dons> dibblego: hmm. very strange
02:35:23 <dons> dibblego: what does ghci do?
02:35:37 <edi> ?faq how can I convert IO Int to Int?
02:35:38 <lambdabot> The answer is: Yes! Haskell can do that.
02:35:47 <dibblego> ghci is happy
02:36:34 <dons> can you work out more info about you environment, possibly to submit a bug report/
02:36:43 <dibblego> ok
02:36:46 <dons> looking at the runhaskell.hs src, I can't see anything obviously evil
02:36:59 <Cale> http://vedantmisra.blogspot.com/2006/11/mathematicians-dont-do-arithmetic.html -- hehe, it's true
02:37:02 <lambdabot> Title: A Farrago of Ideas: Mathematicians Don't Do Arithmetic., http://tinyurl.com/y8p74n
02:37:05 <dibblego> gah actually
02:37:12 <dibblego> I think I need to take it back
02:37:15 * dibblego runs and hides
02:37:27 <dons> heh ok
02:37:29 <Cale> I like how it suggests that this quote: "Last year there were over twenty thousand applicants, but only 11% were accepted. You can ask one of your math major friends to do that out for you, but it's not a large number of people."
02:37:40 <Cale> be corrected to: "Last year there were over twenty thousand applicants, but only 11% were accepted. Let us talk about something entirely different. Consider a (pseudo-)Riemannian manifold (M, g). Show that there exists a unique symmetric connection (viz. the Levi-Civita connection) compatible with the metric g. You can ask one of your math major friends to do that out for you, but it's not a very difficult proof."
02:38:16 <geckosenator> when did this become #math?
02:38:34 <dibblego> the day it became #haskell?
02:38:37 <dons> its always been a colony
02:38:37 <dons> or the other way around :)
02:38:41 <Cale> This channel and #math have a large intersection :)
02:38:48 <geckosenator> oh
02:39:20 <geckosenator> can you diff whois both channels or something then pipe it through wc?
02:39:36 <dons> > "#haskell" `intersect` "#math"
02:39:37 <lambdabot>  "#ha"
02:39:43 <geckosenator> that way you could calculate the percentage and the total number, then compare to other channels
02:39:59 <dons> ah that's an intersting idea
02:40:01 <geckosenator> #ha?
02:40:13 <dibblego> dons, it was the directive I had at the top of the file: #!/usr/bin/env runhaskell
02:40:39 <dons> geckosenator: the intersection between "#haskell" "#math"
02:40:54 <geckosenator> dons: oh, I want the percentage of users intersection
02:41:38 <geckosenator> > intersect [1, 2, 5, 6] [2, 3, 4, 5]
02:41:39 <lambdabot>  [2,5]
02:41:42 <geckosenator> cool
02:41:53 <geckosenator> > union [1, 2, 5, 6] [2, 3, 4, 5]
02:41:54 <lambdabot>  [1,2,5,6,3,4]
02:42:38 <geckosenator> how do I make that work in ghci?
02:43:42 <dibblego> speaking of math, my son is asleep on the lounge with 2 moebius strips on his arm
02:45:37 <dibblego> dons, actually it wasn't that - it is still a problem
02:52:03 <edi> ?index intersect
02:52:03 <lambdabot> Data.List, Data.Set
02:52:06 <edi> ?index union
02:52:07 <lambdabot> Data.IntMap, Data.IntSet, Data.List, Data.Map, Data.Set
02:52:18 <edi> geckosenator: :m + Data.List.
02:54:43 <kfish> does anyone know of a lazy wrapper around sendfile() ?
03:00:56 <MarcWebe1> How to use greencard with cabal? It doesn't seem to be enough to have the line main-is:  test.gc  in the cabal file.
03:01:53 <Lemmih> MarcWebe1: Try mentioning the greencard files in other-modules.
03:02:15 <Cale> geckosenator: :m + Data.List
03:02:32 <Cale> ah, already been answered :)
03:53:19 <vegai> dons++
03:53:35 <vegai> for his "Programming Haskell" blog series..
03:54:45 * pjd cheers
03:55:47 <profmakx> @karma dons
03:55:48 <lambdabot> dons has a karma of 102
03:56:37 <_matthew-> @karma God
03:56:37 <lambdabot> God has a karma of 0
03:56:43 <_matthew-> \o/
03:56:49 <jacobian_> ;)
04:14:55 <ndm> @seen gour
04:14:55 <lambdabot> gour has changed nick to gour|afk.
04:14:56 <lambdabot> gour|afk is in #haskell and #gentoo-haskell. I last heard gour|afk speak 2h 43m 40s ago.
04:17:45 <vegai> @karma Buddha
04:17:46 <lambdabot> Buddha has a karma of 0
04:18:16 <vegai> the Middle Way, eh...
04:19:01 <pjd> @karma dogma
04:19:02 <lambdabot> dogma has a karma of 0
04:22:00 <MarcWeber> Lemmih: You were right. This change made cabal invoke greencard which now complaining about missing --libdir. Which is the way to tell greencard it using cabal?
05:22:48 <Botje> !paste
05:24:23 <lisppaste2> Botje pasted "trying to solve "blocks world" with the State monad" at http://paste.lisp.org/display/32691
05:24:52 <lisppaste2> Botje annotated #32691 with "getting these errors" at http://paste.lisp.org/display/32691#1
05:25:01 <Botje> anyone got a few minutes to spare?
05:25:03 <ndm> hello everybody!
05:25:14 <Botje> hello
05:25:14 <ndm> some SYB questions :)
05:25:56 <ndm> Botje: looks like type errors to me, with MPTC and functional dependancies - well over my head i'm afraid
05:26:10 <ndm> with SYB, how would i get the children of a data structure?
05:26:35 <ndm> i.e. Add (Val 1) (Mul (Val 2) (Val 3)) gives me [Val 1, Mul (Val 2) (Val 3)]
05:27:01 <ndm> and whats the best SYB tutorial stuff?
05:27:16 <ndm> a million papers and lots of higher ranked folds is not a good introduction :)
05:27:48 <Botje> i'm equally clueless wrt syb :)
05:28:03 * integral didn't find an easy intro last time he tried syb
05:28:24 <ndm> i'm writing an SYB "competitor", but it would be nice to wrap mine with their underlying stuff, since its built into the compiler
05:28:57 <ndm> so people can use something easier, but alas, that means me figuring it out once
05:32:44 <integral> I think you might need gmapQ with listify and mkQ False (const True)
05:33:36 <ndm> mm, i think Data.Typeable might do what i want
05:33:42 <ndm> and that seems to be more obvious in what it does
05:33:49 <integral> quite :-)
05:36:20 <integral> Botje: You've got the type of withState wrong. (clearAbove $ read a) :: Blocks -> Blocks and withState just lifts this to a State Blocks Blocks -> State Blocks Blocks function
05:37:20 <Botje> and I need a Blocks -> State Blocks Blocks for >> to work, right?
05:37:32 <integral> err, no...
05:37:43 <Botje> hmm
05:37:47 <integral> >> combines monads not kleisli arrows
05:38:23 <integral> I think withState is the wrong thing for you to use
05:38:31 <integral> modify seems to make more sense
05:39:06 <integral> such as in 'move': modify (moveBlocks (read a) (read b))
05:39:30 <integral> modify f = get >>= put . f
05:39:46 <Botje> ah.
05:39:51 <Botje> that's the glue I was looking for
05:40:14 <Botje> the MonadState threw me off
05:40:15 * Botje tries
05:56:43 <ndm> i think i want gmapTM
05:57:08 <ndm> i.e. i want different a and b terms, but i also want it in a monad
05:57:14 <ndm> can such a thing be constructed?
06:49:10 <kfish> http://blog.kfish.org/software/haskell/intro-haskell-unix.html
06:49:11 <lambdabot> Title: Conrad Parker
06:54:29 <Masklinn> hello everyone
06:55:34 <augustss> hello
06:57:32 <br1> hi
06:57:55 <Botje> hello!
06:59:36 <Heffalump> 'lo
07:03:01 <Vq^> g'day
07:13:31 <allbery_b> greet
07:27:43 <ray> :t sqrt
07:27:48 <lambdabot> forall a. (Floating a) => a -> a
07:41:45 * nmessenger yawns and stretches
07:53:54 * Botje stretches nmessenger 
07:55:23 * nmessenger struggles violently
07:55:55 <Botje> it only makes it worse *cackle*
08:01:51 <roconnor> @slap them
08:01:52 * lambdabot slaps them
08:03:02 <merritt47> hmm, one n00b question: i have a tupel containing a string and a pretty simple function f, and i want to define a "show" function for f (that displays it as a string), such that the tupel can be displayed. how can i do that?
08:03:46 <roconnor> you will have to make your own data type if you want to use the Show class
08:04:10 <merritt47> so there's no other way than defining a new data type?
08:04:21 <roconnor> basically
08:04:23 <nmessenger> to anyone smarter than me: could he: 'instance Show (a -> b) where show _ = "blah"' provided f :: a -> b ?
08:04:32 <roconnor> using newtype counts as a new datatype
08:05:24 <roconnor> nmessenger: for all a b or for particular a and b?
08:05:47 <nmessenger> roconnor: the particular a and b in his example
08:06:05 <roconnor> nmessenger: you will have to make your own data type if you want to use the Show class
08:06:19 <roconnor> using newtype counts as a new datatype
08:06:33 <nmessenger> roconnor: but isn't (->) a datatype, kinda sorta?
08:06:42 <roconnor> (->) is a data type constructor
08:06:49 <nmessenger> Ah
08:07:17 <Saizan> so newtype Func = Foo -> Bar, istance Show Func where show _ = "asd"
08:07:20 <Saizan> ?
08:07:25 <nmessenger> would this compile: 'instance Show (Int -> Int) where show _ = "Int -> Int function"' ?
08:07:27 <roconnor> Saizan: that would work
08:08:03 <roconnor> nmessenger: nope, because all the type parameters must be type variables IIRC
08:08:17 <roconnor> (in Haskell 98)
08:08:29 <nmessenger> I'll check, just to satisfy myself.
08:09:36 <merritt47> ok, thx
08:11:10 <nmessenger> Indeed, 'tis not Haskell 98, but -fglasgow-exts allowed it.
08:14:00 <Saizan> and if I want something like newtype Func = a -> b forall a b?
08:18:04 <hyrax42> ?type Data.Map.lookup
08:18:06 <lambdabot> forall a (m :: * -> *) k. (Ord k, Monad m) => k -> Data.Map.Map k a -> m a
08:18:44 <hyrax42> ?fptools Data.Map
08:18:45 <lambdabot> http://darcs.haskell.org/packages/base/Data/Map.hs
08:20:06 <nmessenger> Saizan: I'm not sure you can use forall in a newtype.
08:20:18 <Saizan> actually newtype Func = Int -> Int doesn't compile
08:20:49 <nmessenger> Saizan: newtype Func = Func (Int -> Int), (you forgot the constructor)
08:22:12 <Saizan> uhm, sure
08:22:18 <nmessenger> given 'newtype F = F (Int -> Int); instance Show F where show _ = "<F>"' the expression 'show (F $ (negate :: Int -> Int))' evaluates to '"<F>"'
08:22:40 <Saizan> not very useful
08:23:25 <Saizan> better a type synonim and -fglasgow-exts as your first example
08:24:37 <merritt47> Saizan: I agree...
08:25:32 <Saizan> well neither showing functions is very useful i suppose..
08:27:38 <ndm> @seen bringert
08:27:39 <lambdabot> bringert is in #haskell-blah and #haskell. I don't know when bringert last spoke.
08:27:44 <Saizan> it's nnice that with type Func a b = (a -> b) you match avery function :D
08:27:53 <bringert> ndm: evening
08:27:55 <Saizan> s/avery/every/
08:28:24 <ndm> bringert: i have another version of my Composition functions stuff if you want to take a look, including how to do section 7.1 - the SYB stuff, with it
08:28:28 <merritt47> :) actually, i have a specific a and b
08:29:21 <bringert> ndm: nice. can you send e-mail to aarne and me?
08:29:34 <ndm> bringert: sure
08:30:18 <nmessenger> ndm: are those your initials?! 'Cause they are mine!
08:30:19 <ndm> i'll send it tomorrow when i've got the code checked into the repo (can't push from home)
08:30:26 <ndm> nmessenger: yes, they are
08:30:50 <nmessenger> *squee*
08:31:42 <hyrax42> ?type fail
08:31:43 <lambdabot> forall (m :: * -> *) a. (Monad m) => String -> m a
08:35:38 <ndm_> pejo: can't PM as ndm_, since i'm not registered under than, want to take it to #haskell-overflow
08:35:49 <pejo> Doh. Sure.
08:36:20 * monochrom summons pejo back
08:42:12 <MarcWeber> How do I set the required --libdir option of the greencard preprocessor when using cabal? Or isn't --libdir required but I've a wrong greencard version?
08:56:43 <george--> what is wrong with: "> data ngram = MkN {word :: String, precursors :: [String]}" im getting the error: ERROR "/home/george/haskell/ngrams.lhs":4 - Syntax error in data declaration (unexpected `=')
08:56:43 <george--> "
08:58:07 <scodil> haskell has an aversion to scientology. its probably choking on the name "ngram"
08:58:24 <dcoutts__> george--: type names need to start with an upper case letter
08:58:51 <dino-> ?paste
08:58:51 <lambdabot> http://paste.lisp.org/new/haskell
08:59:17 <george--> dcoutts, Doh!! thank you =)
08:59:43 * ski_ . o ( hm, this actually reminds of prolog )
08:59:45 <lisppaste2> dino- pasted "monad problem" at http://paste.lisp.org/display/32698
09:00:04 <dino-> Having a problem with monads. Perhaps someone can help.
09:00:36 <dino-> In that code, the sumThem function has a problem because my ns in the Foo is an IO [Int].
09:00:39 <fabiim> differentCheck (x:xs) = all (/=x) xs && differentCheck xs
09:00:51 <fabiim> how could i do that with fold?
09:01:05 <dino-> Not sure what to do.
09:01:59 <ski_> dino- : try something like 'sumThem (Foo io_ns) = Foo $ do ...'
09:02:33 <dcoutts__> fabiim: it's not obvious to me as you're using xs at each stage not in the recursive call
09:02:55 <dino-> Inside that do block, the io_ns will be like 'io_ns <- blahblah', with the IO stripped off?
09:03:09 <ski_> no
09:03:11 <fabiim> dcoutts_ : excuse me?
09:03:45 <ski_> dino- : inside that 'do'-block, you will need to do something like 'ns <- <- io_ns'
09:04:01 <dino-> Two 'drawn from' arrows?
09:04:48 <dcoutts__> fabiim: the normal foldr is:
09:04:51 <dcoutts__> foldr f z []      = z
09:04:51 <dcoutts__> foldr f z (x:xs)  = f x (foldr f z xs)
09:05:05 <dcoutts__> fabiim: you note that f doesn't get xs as an arg
09:05:19 <dcoutts__> only x and the result of the recursive call
09:05:34 <dcoutts__> but you use x and xs at each stage
09:05:43 <dcoutts__> fabiim: see what I mean?
09:06:02 <dcoutts__> so it's not a simple instance of foldr
09:06:27 <ndm_> dcoutts__, can you deforest a foldl as a producer in any circumstances
09:06:32 <dino-> I thought about making the entire function a do block, from the = onward, but I need it to :: Foo -> Foo, not something -> IO () or whatever. :/
09:06:47 <dcoutts__> ndm_: as a consumer you mean
09:06:54 <dcoutts__> ndm_: yes we can.
09:07:10 <fabiim> yes , but i'm trying to do something like foo x = foldl ( \x y->  all (/=x)  x && y) True x
09:07:12 <dino-> But I kind-of can barely see, construct a Foo with results of a do.
09:07:14 <ndm_> dcoutts__, no, as a producer, i.e. map . foldl or something
09:07:31 <fabiim> that should do the trick ? right? if i managed to put it correct ....
09:07:34 <ndm_> i can deforest it as a consumer, but my termination condition means it can never be a producer
09:07:44 <ndm_> i think it can't ever be a producer anyway, but just wanted to check
09:07:49 <dcoutts__> ndm_: so your foldl is producing a list
09:08:04 <dcoutts__> ndm_: in that case no we can't fuse it as a producer, only as a consumer
09:08:13 <[d-_-b]> It is possible: I creat a random number in my program and I save it in a file like a variable... and then when i need that variable I go get that value on the file ??
09:08:21 <ndm_> dcoutts__: in general, no, but i was wondering if there were some cases where it can be deforested, given specific functions
09:08:31 <dcoutts__> ndm_: reverse = foldl (:) []  iirc
09:09:01 <ski_> s/<- //
09:09:04 <ndm_> dcoutts__, can anyone deforest that?
09:09:10 <dcoutts__> ndm_: but no, we make no attempt at that
09:09:29 <dcoutts__> ndm_: possibly the thing that is being presented at popl could do it
09:09:50 <ndm_> i'm not convinced that you can semantically deforest that, without changing the semantics
09:09:55 <dino-> Thanks for helping.
09:10:17 <dcoutts__> ndm_: really? what's the semantic problem?
09:10:43 <ndm_> dcoutts__, if you take away the intermediate list, it must be producing on [1..], which changes the semantics
09:11:10 <dcoutts__> ndm_: example?
09:11:25 <dcoutts__> map f . foldl (:) []
09:11:50 <ndm_> actually, i guess you're right
09:12:05 <dcoutts__> it's certainly hard to spot
09:12:25 * Igloo hasn't been following, but foldl (:) [] isn't well-typed
09:12:30 <ski_> dino- : sorry .. very bad connection (got disconnected again) .. i'm seeing what i type seconds after :/
09:12:32 <ndm_> its hard to spot, i'm still not convinced its valid either
09:12:37 <dcoutts__> Igloo: ok flip
09:12:40 <ndm_> foldl (flip (:)) [] is what dcoutts__ meant
09:12:49 <dcoutts__> it need a general technique or something to transform it to something that is naturally a producer
09:13:04 <ski_> dino- : that's not a problem, since the argument of the returned 'Foo' constructor application is an IO-action
09:13:19 <ndm_> i think its only valid because map is a mapping, would probably also be valid on a filter, but not a fold or any type
09:14:43 <george--> can anyone help me... im trying to write a function that flattens a list of list of things into one list... ie. if it takes say [["foo", "bar"], ["foo", "bar"]] it returns ["foo", "bar", "foo", "bar"]
09:15:03 <ndm_> george--: its called concat
09:15:10 <ndm_> @hoogle [[a]] -> [a]
09:15:11 <lambdabot> Prelude.concat :: [[a]] -> [a]
09:16:10 <lisppaste2> dino- annotated #32698 with "monad problem ann01" at http://paste.lisp.org/display/32698#1
09:16:21 <george--> ndm_, hehe, thanks =)
09:16:27 <dino-> ski_: Ok, I suspect this is closer, but still not quite right.
09:17:07 <ski_> dino- : so, make the entire body a 'do'-block, just as you were thinking .. except you need to wrap all of that in a 'Foo' call
09:18:04 <ski_> dino- : .. i.e. either 'sumThem (Foo io_ns) = Foo (do ...)' or 'sumThem (Foo io_ns) = Foo $ do ...'
09:18:05 <dino-> ski_: I don't understand, and I need the function to be -> Foo, not a Foo in some monad.
09:19:16 <ski_> but the argument of the 'Foo' data constructor is of type 'IO [Int]'
09:19:59 <ski_> so you can make your 'do'-block, of that type
09:20:01 <dino-> Yes, not sure why this isn't the right type: Foo $ do { ns <- io_ns; return $ sum ns }
09:20:02 <lisppaste2> scodil pasted "text rendering example" at http://paste.lisp.org/display/32700
09:20:19 <ski_> one problem
09:20:23 <dino-> The error isCouldn't match expected type `[Int]' against inferred type `Int'
09:20:27 <scodil> dcoutts__:  the text flicker example is on that paste
09:20:30 <dino-> For that 'return $ sum ns' line
09:20:55 <dino-> It's saying the ns <- io_ns isn't pullin the [Int] out of the IO [Int], it seems like.
09:21:03 <ski_> in your first solution you had a singleton list in the body .. that was good
09:21:05 <ski_> no
09:21:13 <dino-> ah
09:21:20 <dino-> I see what you're saying.
09:21:28 <ski_> it's saying that 'sum ns' isn't a list of ints
09:21:28 <dino-> The evaluation of that do block is a single Int
09:21:35 <ski_> right
09:22:49 <ski_> of course, you should be aware that none of this summing will actually happen until you extract the IO-action from inside the 'Foo' constructor and actually run it, in some IO-action that will ge called from 'main'
09:23:35 <dino-> ok, like the 'ns <- numbers bar' part will execute this action.
09:24:00 <dino-> Where this bar came from sumThem foo
09:24:42 <dino-> ski_: Thank you, I appreciate this help.
09:24:52 <ski_> yes
09:25:04 <ski_> np
09:27:46 <SamB_XP_> > map isAlphaNum ['\0'..]
09:27:50 <lambdabot>  [False,False,False,False,False,False,False,False,False,False,False,False,Fal...
09:27:56 <dcoutts__> scodil: ta
09:27:56 <SamB_XP> oops.
09:28:03 <SamB_XP> > filter isAlphaNum ['\0'..]
09:28:03 <lambdabot>  "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\170\178\179\...
09:28:24 <SamB_XP> > filter isDigit ['\0'..]
09:28:26 <lambdabot>  "0123456789"
09:28:43 <SamB_XP> > filter isLetter ['\128'..]
09:28:44 <lambdabot>  "\170\181\186\192\193\194\195\196\197\198\199\200\201\202\203\204\205\206\20...
09:36:36 <ski_> > '\NULL'
09:36:37 <lambdabot>  Improperly terminated character constant
09:36:40 <ski_> > '\NUL'
09:36:41 <lambdabot>  '\NUL'
09:41:27 <scodil> so, i read here and there that tuples are slow, slower than say, a custom ADT. 1) is this true? 2) if it is, should I write my own Index2D, Index3D types for big 2D and 3D arrays?rrays
09:41:51 <SamB_XP> scodil: slower than which ADT?
09:41:59 <scodil> (MyIndex Int Int)
09:42:08 <Heffalump> that sounds like complete rubbish
09:42:10 <Heffalump> where did you read it?
09:42:21 <scodil> yeah it sounds implausible, but i saw it in some email
09:42:23 <scodil> maybe it was old
09:42:24 <SamB_XP> what does MyIndex look like?
09:42:30 <scodil> two ints
09:42:35 <scodil> just like (Int,Int)
09:42:40 <Heffalump> something like MyIndex !Int !Int might be better in some situations
09:42:42 <SamB_XP> data MyIndex = MyIndex Int Int -- is that all?
09:42:53 <scodil> yeah, maybe with the bangs, like Heffalump said
09:43:20 <ndm> but might also be slower in some cases
09:43:25 <SamB_XP> yes, with bangs it could be faster sometimes
09:43:28 <SamB_XP> ndm: with Ints?
09:43:45 <ndm> SamB_XP: with anything, you might end up evaluating something thats never needed
09:44:12 <SamB_XP> considering that in all likelyhood it will be used mostly for array indexing, and will therefore need both parts at the same time anyway?
09:44:13 <scodil> i guess what I'm asking is, is it generally the case that a tuple behaves (performance wise) just like the equivalent single-constructor adt?
09:44:20 <scodil> or is there something fundamentally different about them
09:44:30 <Heffalump> I don't know for sure, but I'd be very surprised.
09:44:35 <SamB_XP> scodil: it *is* a single constructor ADT
09:44:44 <ndm> scodil: in most compilers they are exactly the same, certainly Yhc defines data (,) a b = (,) a b
09:44:50 <SamB_XP> so does GHC
09:44:55 <SamB_XP> probably JHC does too
09:44:58 <SamB_XP> not sure about Hugs
09:45:00 <MarcWeber> Is the way to go writing your own preprocessor code adding the  --libdir argument when preprocessing .gc files?
09:45:07 <scodil> ok well that settles it then, doesn't it
09:45:19 <SamB_XP> scodil: yeah.
09:45:28 <SamB_XP> except maybe with some !s, you could do better.
09:45:55 <SamB_XP> (also, maybe Haskell systems at the time this statement was made were not as good with polymorphism as they are today?)
09:59:39 <dcoutts__> dons: nice haskell intro, after the IO are you moving onto GUIs? :-)
10:02:59 <Masklinn> @seen dones
10:03:00 <lambdabot> I haven't seen dones.
10:03:01 <Masklinn> @seen dons
10:03:03 <lambdabot> dons is in #ghc, #haskell.hac07, #haskell-overflow and #haskell. I last heard dons speak 7h 22m 34s ago.
10:07:59 <george--> any links for this haskell intro that explains IO well :) ?
10:09:10 <SamB_XP> http://programming.reddit.com
10:09:12 <lambdabot> Title: reddit.com: programming - what&#39;s new online
10:10:01 <SamB_XP> "Programming Haskell - Part 2"
10:10:23 <Masklinn> http://cgi.cse.unsw.edu.au/~dons/blog/2006/12/17#programming-haskell-part-2
10:10:25 <lambdabot> Title: Haskell hacking, http://tinyurl.com/y852um
10:11:00 <chessguy> 'afternoon haskellers
10:11:04 * SamB_XP looks for a redditfox plugin
10:11:31 <george--> ty
10:12:09 <Masklinn> SamB > what's redditfox supposed to do?
10:12:29 <dcoutts__> scodil: I can reproduce the flicker and have tried a few things and not found any solution yet
10:12:34 <SamB_XP> Masklinn: it is supposed to make it easy for me to mod things up/down and get to the comments
10:13:10 <dcoutts__> scodil: I'd look for some demo that uses pango with OpenGL for some sample C code (which should translate fairly easily)
10:13:13 <SamB_XP> i.e., it would basically put the entry from reddit at the bottom of the window, if there was one for the URL I was visiting
10:14:05 <SamB_XP> unfortunately I don't think there is such a program
10:14:31 <chessguy> @type count
10:14:33 <lambdabot> Not in scope: `count'
10:14:46 <Masklinn> Smb_XP > so basically if you're on a page and the page has already been submitted to Reddit the Reddit entry shows up in the browser?
10:16:41 <Masklinn> s/Smb_XP/SamB_XP/
10:16:57 <Masklinn> well that should be possible with Greasemonkey, I think
10:17:12 <Masklinn> no need for a full-fledged extension
10:17:31 <Masklinn> I'm pretty sure GM's xmlHttpRequest actually works in cross-site situations
10:18:12 <glguy> LOL at Digg for showing its true colors when a post about ZFS was made
10:18:29 <Masklinn> glguy > ?
10:18:38 <glguy> http://digg.com/apple/What_the_Hell_is_ZFS
10:18:39 <lambdabot> Title: digg - What the Hell is ZFS?
10:18:52 <glguy> The comments really demonstrate the calibre of people on Digg :)
10:19:02 <glguy> when an interesting techincal thing comes along
10:19:23 <Masklinn> I really like the typo in the very intro
10:19:37 <Masklinn> "what ever it is it seams very important to Apple"
10:19:40 <Masklinn> god
10:20:03 <ray> my personal favorite digg moment is when someone replied to a comment to the effect that os x is better than linux with "os x is based on darwin, dumbass"
10:20:18 <ray> as a bsd geek, i find that very offensive :)
10:20:37 <glguy> OS X isn't "based on FreeBSD", it borrows its userland
10:20:55 <ray> i'm offended by the insinuation that darwin is linux
10:20:58 <glguy> ah
10:21:03 <Masklinn> ray > hey at least with Darwin some people are using a BSD :D
10:21:05 * Masklinn ducks
10:21:10 <ray> hehe
10:24:00 <monochrom> The Internet demonstrate the calibre of people on Earth.
10:25:08 <bacek> the internets
10:25:10 <Masklinn> Anyway, glguy, thanks for linking this stuff, now I know why I don't use digg
10:25:26 <Masklinn> bacek > the series of tubes or the dumptrucks?
10:25:35 <bacek> hehe
10:25:40 <bacek> dumptrucks?:)
10:25:50 <monochrom> Sadly I still have to use the Internet, for example to reach smart people such as all of you.
10:26:34 <_matthew-> wow, haskell is amazing
10:26:36 <_matthew-> the lazyness is incredible
10:26:37 <_matthew-> it's made it faster for me to completely rebuild a tree each tick because the rebuild and subsequent lookup is lazy and so ends up being faster than updating the tree which forces evaluation of the whole of the previous tree
10:26:41 <monochrom> Perhaps I now understand why Knuth and Dijsktra minimize Internet usage.
10:26:58 <Masklinn> bacek > Yes, the internet is not a dump truck, the internet is a series of tubes, as Sen. Ted Sevens taught us
10:27:23 <bacek> so whats the glue~
10:27:31 <bacek> that glues the tubes together
10:27:36 <Masklinn> pikmins
10:27:45 <Masklinn> Nintendo sells them at low rates
10:28:00 <monochrom> The Internet is a lot of tubes and dumptrucks.  Why should there be a dichotomy?  Is this the only thing Americans ever understand, dichotomy?
10:28:00 <Masklinn> the internets are pikmins powered
10:28:27 <Masklinn> monochrom > wow careful there, Ted Stevens being an idiot doesn't mean everyone in the us is
10:28:46 <Masklinn> (i mean i'm not american, but that's still not a generalization you should make)
10:29:18 <monochrom> Who elected this idiot into office?
10:29:32 <glguy> Masklinn: No no, it's OK, we don't expect much from the rest of the world either
10:29:57 <scodil> alaskans, i think
10:30:19 <scodil> just about the only people in favor of drilling the arctic nat'l wildlife refuge, cause they get a cut
10:30:31 <monochrom> Now I understand.  Alaskans prefer tubes. :)
10:30:49 <Masklinn> monochrom > very slightly more than 50% of the american voter, which is a far cry from half the american population, which is an ever further cry from the whole population of the USA
10:30:54 <Masklinn> so what's your point?
10:31:13 <_matthew-> compulsory voting is a good thing?
10:31:13 <chessguy> soo....how 'bout that haskell stuff
10:31:18 <Masklinn> I mean if you want to go mad on someone, we french elected Chirac with 80%
10:31:23 <monochrom> My point is to examine the calibre of people of the Earth.
10:31:41 <_matthew-> ?karma people of the Earth
10:31:42 <lambdabot> people has a karma of 0
10:31:44 <_matthew-> done
10:31:50 <scodil> can you partially abbreviate a type? Like, type Array2D e = Array (Int,Int) e
10:31:56 <Masklinn> 80% should be shot, and the 20% left should be shot twice just to be sure they don't get up again, so what?
10:32:23 <glguy> scodil: I don't believe that that works
10:33:18 <Masklinn> ooh a firebug update ^^
10:33:34 <glguy> Masklinn: what version just came out?
10:33:42 <Masklinn> 1.0b6
10:34:18 <Masklinn> auto update was added to 1.0b5
10:35:17 <Saizan> does anyone have built hmake or Hat on windows?
10:35:30 <chessguy> so does the concept of stream-processing exist in haskell? and if so, how is it usually modelled?
10:36:00 <scodil> there are stream libraries, no?
10:36:11 <Masklinn> glguy > seems like he fixed more bugs, improved the debugger somewhat (the breakpoint-setting part), and included a taiwanese locale
10:39:53 <lisppaste2> glguy pasted "is there a better way to write this? (pre reddit post in response to Haskell's cat with filename arguments)" at http://paste.lisp.org/display/32704
10:40:25 <road_> Is it possible to transform [IO [a]] into [IO a]?
10:40:39 <glguy> what are you trying to do?
10:41:05 <monochrom> It's as good as it gets
10:41:13 <allbery_b> glguy: both dons's and yours annoy me slightly in thatthere's no provision for switches, actually
10:41:28 <allbery_b> if nothing else, one should support a simple usage message
10:41:29 <road_> glguy: I have two streams which read from each other and do IO
10:41:29 <monochrom> what if a file is not found?
10:41:56 <glguy> I guess it needs to report that to stderr
10:41:56 <road_> glguy: the streams have the type [IO [a]]
10:41:58 <glguy> and move on
10:42:10 <allbery_b> and exit nonzero
10:42:25 <sjanssen> glguy: which reddit discussion is this?
10:42:25 <kermitthehermit> question about installing on slackware
10:42:29 <allbery_b> (ideally, 0 => success, 1 => one or more files unreadabvle, 2 => usage error)
10:42:29 <monochrom> need to catch and handle an except for file not found
10:42:37 <glguy> http://programming.reddit.com/info/v34f/comments/cv3d1
10:42:39 <lambdabot> Title: Programming Haskell - Part 2 (reddit.com)
10:43:08 <glguy> how do you write out to stderr anyway in Haskell?
10:43:08 <edi> :t sequence (undefined :: [IO [a]])
10:43:10 <lambdabot> forall a. IO [[a]]
10:43:16 * allbery_b thinks you can safely ignore nonsense like the -v and -n options, though :)
10:43:17 <edi> road_ -^
10:43:24 <Trevion> glguy: I always used hPutStr stderr
10:43:29 <glguy> kk
10:43:29 <monochrom> System.IOhPutStrLn System.IO.stderr
10:43:51 <road_> edi: thanks
10:43:53 <monochrom> In the end you decide what to neglect.
10:43:53 <edi> :t join (sequence (undefined :: [IO [a]]))
10:43:55 <lambdabot>   Couldn't match `[]' against `IO'
10:43:55 <allbery_b> dropped a dot there, I think
10:43:55 <lambdabot>    Expected type: [[a]]
10:43:57 <edi> ops.
10:44:01 <edi> :t fmap join (sequence (undefined :: [IO [a]]))
10:44:02 <lambdabot> forall a. IO [a]
10:44:06 <edi> there you go
10:44:37 <monochrom> Then again demonstrating that haskell can handle errors fine is also good.
10:44:50 <kermitthehermit> how do you install on slack?  ghc & hugs don't provide tarballs.
10:45:10 <monochrom> I think there are binaries?
10:45:27 <edi> kermitthehermit: yes they do
10:45:31 <monochrom> I use their binaries.
10:45:38 <sjanssen> kermitthehermit: as monochrom suggests, there are generic Linux binaries on GHC's website
10:45:41 <sjanssen> @where ghc
10:45:41 * edi too - or sources sometimes
10:45:41 <lambdabot> http://haskell.org/ghc
10:46:09 <edi> maybe you'd like to start from sources too, augmenting the code with the -extralibs tarball, for opengl goodness.
10:46:40 <sjanssen> edi: kermitthehermit needs a GHC install before he can build GHC ;)
10:47:38 <glguy> since the whole program is IO based... would it make sense that cat's return code be stored in an IORef, or would a StateT Int IO () still be better?
10:47:51 <monochrom> true enough. hard to suggest "bootstrap from C" these days :)
10:48:02 <edi> sjanssen: oh right.
10:48:33 <monochrom> I would go for IORef since it's one-shot
10:49:04 <glguy> I suppose that I could actually just have the hadnleFile function return True andFalse
10:49:18 <glguy> and then have: and (forM files handleFile)
10:49:37 <sjanssen> glguy: I like that approach
10:49:42 <monochrom> don't over-engineer it :)
10:49:53 <glguy> which one is over engineering?
10:50:02 <monochrom> StateT is over-engineering for now
10:50:03 <edi> sjanssen: well, install the binary, then compile the sources with that, that's what I did.
10:50:41 <glguy> ?hoogle exit
10:50:42 <lambdabot> System.Exit :: module
10:50:42 <lambdabot> System.exitFailure :: IO a
10:50:42 <lambdabot> System.exitWith :: ExitCode -> IO a
10:51:00 <sjanssen> edi: right.  I just didn't want kermitthehermit's head to explode when he considered the cyclic dependencies.  Now, where is that hilarious mailing list message . . .
10:51:02 <monochrom> I think http://www.haskell.org/ghc/download_ghc_66.html  will work fine for kermitthehermit
10:51:03 <lambdabot> Title: GHC: Download version 6.6
10:51:33 <monochrom> Oh, perhaps kermitthehermit is not familiar with tar.bz2, having only seen tar.gz? :)
10:51:43 <kermitthehermit> I'm sorry, yes I have the ghc binary.
10:51:47 <kermitthehermit> It needs realine4 which
10:51:50 <glguy> ?docs exitWith
10:51:51 <lambdabot> exitWith not available
10:51:56 <glguy> ?docs System.exitWith
10:51:56 <lambdabot> System.exitWith not available
10:52:03 <glguy> ?docs System.Exit.exitWith
10:52:04 <lambdabot> System.Exit.exitWith not available
10:52:08 <monochrom> Yes, you'll have to hunt for readline4.
10:52:13 <kermitthehermit> ghc needs readline4, which they only have in rpm,
10:52:13 <glguy> ?docs System.Exit
10:52:14 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/System-Exit.html
10:52:21 <kermitthehermit> which isn't on my system,
10:52:47 <monochrom> sorry, don't know how to acquire that for slack.
10:53:52 <kermitthehermit> and I can't figure out how to download from rpm.org. :(
10:54:01 <sjanssen> I'm tired of Bulat's misinformation
10:54:33 <glguy> pop-quiz, how to I check the return code of a command?
10:54:35 <sjanssen> "Haskell can't provide fast execution speed unless very low-level programming style is used (which is much harder to do in Haskell than in C, see one of my last messages for example) AND jhc compiler is used"
10:54:41 <glguy> it's a $something
10:54:42 <sjanssen> does jhc even work?
10:54:56 <Heffalump> not really
10:55:12 <integral> glguy: $? ?
10:55:31 <glguy> integral: thanks, that worked
10:55:37 <Trevion> Heffalump: does it work for H98?
10:55:47 * integral is surprised
10:55:52 <sjanssen> and I think GHC produces fairly quick code in plenty of places
10:56:00 <kermitthehermit> I don't see a generic binary for hugs.
10:56:12 <Heffalump> Trevion: nafaik
10:56:20 <Heffalump> well, it has lots of missing bits, I believe
10:56:21 <kermitthehermit> only "x86 binary" for openSUSE
10:56:28 <monochrom> $? is exit code of last command
10:56:45 <integral> monochrom: umm, in haskell?
10:56:54 <monochrom> in unix shells
10:57:11 <allbery_b> in bourne-like shells.  csh/tcsh calls it $status
10:57:15 <allbery_b> fwiw
10:57:23 <monochrom> more precisely, bourne, korn, bash.  I have long forgotten csh,tcsh.
10:57:42 <integral> and perl.
10:57:45 <lisppaste2> glguy pasted "getting bigger" at http://paste.lisp.org/display/32706
10:57:51 <monochrom> (everyone should use the same shell I use)
10:58:05 <Trevion> As long as you're using zsh, that's true
10:58:08 <Trevion> (-;
10:58:13 <lisppaste2> glguy annotated #32706 with "oops (minor)" at http://paste.lisp.org/display/32706#1
10:59:12 <glguy> Does haskell have a command line argument parsing library?
11:00:03 <Trevion> I think there is at least a Haskell version of GetOpt out there
11:00:55 * glguy ponders a Parsec implementation using parsec to parse the allowed argument string, which would return a parser to parse the command line arguments
11:01:22 <monochrom> I saw a really slick one.
11:01:37 <allbery_b> I can't see getopt being all that complicated in Haskell
11:03:04 <sjanssen> glguy: looks pretty good to me
11:03:27 <sjanssen> I don't think argument parsing is really necessary to respond to the reddit post
11:03:31 <glguy> heh
11:03:56 <monochrom> http://www.haskell.org/haskellwiki/Libraries_and_tools/Operating_system#Environment  does that help?
11:03:59 <lambdabot> Title: Libraries and tools/Operating system - HaskellWiki, http://tinyurl.com/yhvr5j
11:04:18 <monochrom> If you include too many features in your cat, you may risk over-engineering it.
11:04:45 <glguy> http://programming.reddit.com/info/v34f/comments/cv3d1
11:04:46 <lambdabot> Title: Programming Haskell - Part 2 (reddit.com)
11:04:51 <edi> monochrom: like a bell?
11:04:55 <glguy> now I just need ot fix the < bug :)
11:05:05 <monochrom> I have not read the relevant reddit post and find out what purpose your haskell cat is, but do optimize for that purpose rather than completeness.
11:05:22 <glguy> 
11:05:44 * edi ducks
11:05:51 <monochrom> hmm how can a bell be over-engineered?
11:06:01 <edi> I was wondering how to over-engineer a cat.
11:06:17 <glguy> and then you saw my reddit post?
11:06:34 <glguy> )=
11:07:25 <monochrom> You can add quantum mechanics to a cat.  That will over-engineer it.
11:07:46 <edi> monochrom: AH! Penrose says the exact same thing.
11:07:56 * edi smacks his forehead
11:08:37 <monochrom> Damn, Penrose tries to mimick me.
11:09:54 <allbery_b> I mentioned argument parsing, because I get ticked off when program -h doesn't tell me something useful
11:10:23 <kermitthehermit> So no hugs for slackware?  All I want is something to learn with.
11:10:39 <kermitthehermit> I tried the hugs source distro, but it didn't install correctly.
11:10:52 <kermitthehermit> Then I installed nhc, but it couldn't find one of its own files at compile time.
11:10:55 <kermitthehermit> wtf?
11:11:07 <glguy> kermitthehermit: the 90s called ,they want their Linux distro back
11:11:09 * glguy kids
11:11:37 <sjanssen> kermitthehermit: how did the hugs build fail?
11:11:42 <kermitthehermit> glguy:  they haven't found a better one. :)
11:12:05 <sjanssen> did you make sure you fulfilled all the dependencies?
11:12:42 <kermitthehermit> The hugs build didn't install any binaries anywhere that I could find.
11:13:31 <kermitthehermit> All I did was follow the default INSTALL instructions
11:13:41 * glguy realizes that he hasn't found a better linux distro either ;)
11:14:03 <glguy> (I'm not usually this abrasive)
11:14:23 <kermitthehermit> That's okay, I'm not usually this frustrated.
11:14:31 <monochrom> I have found ubuntu.
11:14:55 <monochrom> do you find anything in /usr/local/bin ?
11:15:44 <glguy> find / -iname "*hugs*"
11:15:44 <glguy> ?
11:16:03 <kermitthehermit> Nothing in /usr/bin;/usr/local/bin;/bin.....
11:17:09 <monochrom> is there any error message?
11:19:31 <glguy> just by looking at these two images, I would have picked ubuntu also: http://www.arouse.net/despair-linux/ubuntu.jpg http://www.arouse.net/despair-linux/slackware.jpg
11:19:37 <edi> monochrom: the conferences by Penrose for the MSRI are *really* funny. One can even download them, as well as *many* other lectures. The MSRI rocks.
11:19:40 <allbery_b> hm, guess I get to wait for the nightly drop to poke at the new debugger, darcs ghc and HFS+ don't get along too well
11:20:02 <allbery_b> or maybe I have a use for the spare partition on the firewire HD :)
11:20:22 <monochrom> I didn't choose ubuntu just by two images!
11:21:16 <monochrom> I chose it by a two-hour lecture by an ubuntu guy.
11:21:47 <kermitthehermit> monochrom: I don't think there was any error msg on install.
11:22:38 <monochrom> do the intermediate and success messages indicate where things are installed?
11:22:53 <monochrom> have you done "make install" or the equivalent?
11:23:38 <shankys> bringert: Are you there by any chance? I have dyn-cgi working in some cases (i.e. your examples are working now), but I'm getting a "can't load .so/.DLL for: pq (dlopen(libpq.dylib, 10): image not found)" error in some of my code in the browser that won't go away even after I change my PATH and LD_LIBRARY_PATH to point to the right places.
11:24:00 <bringert> shankys: I'm here
11:24:58 <bringert> shankys: dyn-cgi uses the same mechanisms as GHCi. can you load your program into ghci without link errors?
11:25:04 <monochrom> So, I chose it by a two-hour lecture, and it was really just one sentence I based it on.  He said here is how the ubuntu team improves laptop support.  Clearly the laptop vendors are reluctant to release insider info on device driving.  But the ubuntu team asks the vendors to give away free laptops for testing and hacking, and the vendors are more than happy to.
11:25:42 <glguy> that's cool
11:25:56 <glguy> I don't actually care either way on the linux distros, I was just playing around
11:26:23 <glguy> but i'm glad to see them able to support laptops better
11:26:31 <glguy> since that benefits the whole OS community
11:26:55 <newsham> hi
11:27:11 <shankys> bringert: Loading it into ghci works
11:27:58 <bringert> shankys: what about running in ghci? I think ghci does some sort of lazy linking
11:27:58 <glguy> This is actully a pretty nifty getopt interface; http://cvs.haskell.org/Hugs/pages/libraries/base/System-Console-GetOpt.html
11:28:01 <lambdabot> http://tinyurl.com/uw42x
11:28:07 <glguy> ?version
11:28:08 <lambdabot> lambdabot 4p302, GHC 6.5 (OpenBSD i386)
11:28:09 <lambdabot> darcs get http://www.cse.unsw.edu.au/~dons/lambdabot
11:28:25 <glguy> I was starting to wonder if lambdabot was alive... she's been quiet
11:28:37 <kermitthehermit> monochrom:  monochrom: sorry, error 2 on install.
11:29:09 <kermitthehermit> that's when I ran make install just now.
11:29:20 <kermitthehermit> I still don't think there was an error the first time.
11:29:29 <monochrom> something got aborted.
11:29:29 <edi> monochrom: two hour lecture by an ubuntu guy on ... ?
11:29:38 <kermitthehermit> But there's a whole bunch of stuff configure couldn't find
11:29:42 <monochrom> on ubuntu and gnome
11:29:50 <shankys> bringert: Yeah, when I try to run the main part that runs everything I get "can't load .so/.DLL for: fcgi (dlopen(libfcgi.dylib, 10): image not found)" which is the same error message.
11:30:03 <edi> Is it available anywhere except that in the past?
11:30:12 <monochrom> some of those things configure couldn't find may be important. (some other may be negligible)
11:30:31 <kermitthehermit> including happy, alex, haddock, runghc, greencard, and some other stuff.
11:30:54 <monochrom> I don't know where the lecture is available.  The guy did a world tour repeating this lecture, is all I know.
11:31:03 <edi> Dang.
11:31:43 <bringert> shankys: that looks like a different error. it's complaining about libfcgi.dylib now, before it was libpq.dylib
11:31:56 <shankys> bringert: Oh, yeah I actually just noticed that...
11:32:03 <monochrom> Hmm, I can't believe hugs needs happy and alex to boot.  I mean of course configure looks for them, but their absence should be ok.
11:32:03 <bringert> shankys: did you give ghci the right -package flags?
11:33:00 <monochrom> maybe I should try building hugs and see :)
11:33:21 <edi> I never ever used hugs.
11:33:34 <bringert> shankys: you might have to add a -package flag in a OPTIONS_GHC pragma in your source file
11:33:42 <bringert> shankys: like source.hs does
11:33:53 <monochrom> The lecture was just about the ubuntu philosophy and community, and some projects and wish lists at that time.  It was two years ago.
11:33:58 <shankys> bringert: I actually tried that already, and it didn't work
11:34:06 <bringert> hmm
11:34:16 <shankys> bringert: Oh wait. Let me try something.
11:34:46 <monochrom> About the ubuntu philosophy and community you can find out by lots of means.  About the projects, that was two years ago and so now you don't need to know anyway.
11:36:45 <edi> I hope that some day in the near future the ubuntu installation will work on this intel iMac.
11:37:03 <shankys> bringert: Ok, so I tried adding "{-# OPTIONS_GHC -package ghc -package fastcgi -package HDBC -package HDBC-postgresql #-}" to the top of my file, but I still get the same error
11:37:14 <shankys> bringert: *I actually hadn't tried that before*
11:37:25 <retybok> ?user dons
11:37:26 <lambdabot> Maximum users seen in dons: 1, currently: 0 (0.0%), active: 0 (NaN%)
11:37:32 <edi> The other option is buying some more RAM and run it in a virtualization program.
11:37:32 <bringert> shankys: did you get it working in ghci?
11:37:42 <shankys> bringert: Nope.
11:38:08 <bringert> shankys: ghc doesn't consider package flags in OPTIONS_GHC, it's a special hack in dyn-cgi. does it work if you give ghci those flags on the command line?
11:38:42 <edi> And in fact it does seem a very practical option, looking at the informations one finds on the web.  For example there are many videos showing animated switch between two (or more) usable (for the little they show) operating system in realtime.
11:39:05 <shankys> bringert: It still doesn't work in ghci even when I pass it -package flags
11:39:42 <shankys> bringert: "ghci -package fastcgi -package HDBC -package HDBC-postgresql Vruit.hs" still gives me "Loading package fastcgi-2006.10.9 ... ghc-6.6: can't load .so/.DLL for: fcgi (dlopen(libfcgi.dylib, 10): image not found)"
11:40:27 <edi> Like this one: http://youtube.com/watch?v=Py81-HZj9A8
11:41:11 <glguy> allbery_b: still around?
11:41:15 <monochrom> kermitthehermit: are you building the september 2006 version?
11:41:47 <dons> moin
11:41:54 <dons> ?users
11:41:54 <lambdabot> Maximum users seen in #haskell: 291, currently: 275 (94.5%), active: 35 (12.7%)
11:42:45 <ctkrohn|sleep> hey, is there a way to force the XHTML library to output more conventional-looking code, instead of having tags written as ><h1 or ></body or the like?
11:43:01 <bringert> shankys: ok, the difference could be because dyn-cgi already has libfcgi linked in. Can you run my examples in ghci?
11:43:05 <lisppaste2> glguy annotated #32706 with "added the -h flag :)" at http://paste.lisp.org/display/32706#2
11:43:20 <shankys> ctkrohn: Yeah, there are different html rendering functions that do it differently in Text.XHtml
11:43:22 <glguy> ctkrohn: prettyHtml
11:43:25 <retybok> dons: just wanted to say, awesome tutorials, thanks man! When do you publish the next one? ;-)
11:43:31 <ctkrohn> thanks
11:43:35 <glguy> ctkrohn: renderHtml, showHtml and prettyHtml all do it differently
11:43:36 <shankys> bringert: Yeah, those work.
11:44:08 <bringert> shankys: does you code import Network.FastCGI?
11:44:14 <shankys> bringert: Yes.
11:44:23 <bringert> shankys: why?
11:44:29 <ctkrohn> ah, prettyHtml does exactly what I want.  thanks.
11:44:42 <shankys> bringert: I'm outputting a .fcgi file for Lighttpd to run.
11:45:01 <shankys> bringert: Everything works out fine when I'm not using dyn-cgi with my web application though.
11:45:03 <kowey> hey dons: you know about creating haskell-related mailing lists?
11:45:07 <kowey> the French are interested
11:45:28 <kowey> (euh... potentially interested)
11:45:30 <bringert> shankys: dyn-cgi expects to run Network.CGI apps, not Network.FastCGI apps
11:45:44 <shankys> bringert: Ooohhhh.....
11:45:45 <bringert> shankys: if you look at my examples, they only import Network.CGI
11:46:11 <bringert> shankys: though if you use runFastCGIOrCGI it should still work, except for possible linking issues
11:46:28 <bringert> shankys: but it might be a good place to start
11:46:36 <shankys> bringert: I'll give it a shot
11:47:35 <retybok> kowey: les franais?
11:48:04 <bringert> shankys: if you want to keep the ability to run them as stand-alone fcgi apps you can put a main in a different file which uses runFastCGI
11:48:47 <glguy> ?fptools showString
11:48:47 <lambdabot> showString not available
11:48:58 <shankys> bringert: Ok. I still get the same error with runFastCGIorCGI, but I'll try having two different main's in different files
11:49:06 <glguy> ?fptools Prelude
11:49:07 <lambdabot> http://darcs.haskell.org/packages/base/Prelude.hs
11:49:20 <kowey> retybok: et oui! un haskellien franais, a existe...
11:50:02 <glguy> is this always the case?
11:50:02 <glguy> showString   :: String -> ShowS
11:50:02 <glguy> showString    = (++)
11:50:07 <bringert> shankys: your program doesn't even need a main when run with dyn-cgi, just cgiMain :: CGI CGIResult
11:50:16 <retybok> kowey: :) ben voil, t'es plus tout seul :) enfin quoique, haskellien c'est encore un bien grand mot pour moi :)
11:50:36 <bringert> shankys: that's what dynhs.hs looks up and runs after loading the file
11:51:19 <shankys> ?paste
11:51:19 <lambdabot> http://paste.lisp.org/new/haskell
11:51:53 <kowey> #haskell.fr - on est plus que 3! (il y avait moi, mux, lambdabot)
11:52:10 <retybok> lambdabot :)
11:52:18 <lisppaste2> shankys pasted "dyn-cgi cgiMain" at http://paste.lisp.org/display/32708
11:52:23 <kermitthehermit> Is there a way to read old msgs? I was out for a while.
11:52:40 <SamB_XP> you mean the logs?
11:52:42 <bringert> @where log
11:52:43 <lambdabot> I know nothing about log.
11:52:48 <bringert> @where logs
11:52:48 <lambdabot> http://tunes.org/~nef/logs/haskell/ http://meme.b9.com/cdates.html?channel=haskell
11:53:11 <shankys> bringert: That's the file I've been trying to load in. If it just finds cgiMain, then it wouldn't have even been using FastCGI anywhere?
11:53:40 <bringert> shankys: it would still try to link in libfcgi I think, since you import it
11:53:46 <monochrom> kermitthehermit: are you building the september 2006 version?  I just built it.  I chose the "essential" one (with fewer libraries).  "make", then "sudo make install".
11:53:50 <shankys> bringert: Ah, I see.
11:54:30 <lisppaste2> bringert annotated #32708 with "try this" at http://paste.lisp.org/display/32708#1
11:55:05 <bringert> shankys: do you use the ghc package?
11:55:12 <mnislaih> Igloo: ping
11:55:23 <[d-_-b]> I have a file with many lines, and I want go get only the third one. how can i do that??
11:55:32 <Igloo> pong
11:55:49 <mnislaih> I noticed that HEAD is not building since my patches got there :S
11:55:59 <shankys> bringert: I put that in there for my paste, but I actually don't
11:56:01 <bringert> shankys: maybe dyn-cgi should have a config options for which packages to load, that way every top-level file doesn't have to specify it
11:56:14 <mnislaih> I mean, here it builds, but the nightly build does not
11:56:46 <glguy> [d-_-b]: fmap (lines . (!! 2)) (hGetContents youHandle)
11:56:54 <Igloo> Yeah, I'll have a look tonight. I suspect it't a permission problem that I can't fix myself, though
11:57:00 <glguy> errr
11:57:08 <glguy> [d-_-b]: fmap ((!! 2) . lines) (hGetContents youHandle)
11:57:10 <monochrom> kermitthehermit: I don't have alex or happy. I have haddock but it shouldn't matter
11:57:13 <allbery_b> glguy: back now
11:57:36 <glguy> allbery_b: did you see the version with -h for you (=
11:58:26 <allbery_b> haven't been watching, sorry.  it's "catch up on all the upgrades etc." day, shortly to be followed by "catch up on cleaning the apt. etc." day :/
11:58:36 <glguy> http://paste.lisp.org/display/32706#2
11:58:37 <bringert> shankys: you saw my paste, right?
11:58:41 <glguy> if you care (=
11:58:55 <shankys> bringert: Oh, hehe I didn't. Let me check it out.
11:59:13 <kermitthehermit> monochrom:  It was september plus.  Downloading essential now.
11:59:21 <shankys> bringert: Hehe, that's exactly what I was coding up :)
11:59:37 <shankys> I'm creating two different versions like you did in Hope.
12:00:15 <bringert> shankys: yeah, I did that so that you don't have to link in libfcgi if you're not using it
12:00:22 <SamB_XP> monochrom: how come you don't have alex or happy?
12:00:25 <[d-_-b]> thanks glguy
12:00:34 <monochrom> because of lazy installation
12:00:57 <SamB_XP> did you start over lately?
12:01:15 <monochrom> Yes. Last summer old hard disk failed.
12:01:21 <dons> retybok: i hope to write another article today :)
12:01:23 <SamB_XP> ah
12:01:29 <jlouis> what would be a good on-line material for playing around with category theory?
12:01:42 <glguy> [d-_-b]: Do you understand what that line is doing?
12:01:44 <dons> covering command line args, exceptions, and some more strings and parallelism stuff
12:01:57 <dons> kowey: ok. cool! the best idea would be to ask simon marlow
12:01:59 <monochrom> I swear by Fokkinga's "a gentle introduction to category theory"
12:02:08 <monochrom> because it's calculational
12:02:18 <[d-_-b]> glguy, humm.. nop :(
12:02:28 <[d-_-b]> I'm new in haskell
12:02:28 * allbery_b can't help but "interpret" that name...
12:02:35 <jlouis> monochrom, I am more of an algebraist ;)
12:03:02 <[d-_-b]> I have a file like that:
12:03:02 <[d-_-b]> 3
12:03:03 <[d-_-b]> 4
12:03:04 <[d-_-b]> 5
12:03:05 <kowey> dons: I'll send him a  mail, thanks
12:03:05 <[d-_-b]> ...
12:03:14 <monochrom> I'm a Dijkstraist. (As is Fokkinga, it seems.)  I don't believe in proofs written in English.
12:03:21 <[d-_-b]> and want to go get some lines
12:03:29 <glguy> [d-_-b]: does: do { contents <- hGetContents yourHandle; let fileLines = lines contents; return (fileLines !! 2) }
12:03:34 <glguy> make any more sense?
12:03:46 <jlouis> monochrom, is the thing from a summer school in 1992?
12:03:55 <monochrom> I don't know.
12:04:18 <jlouis> monochrom, I think I have it. Thanks
12:04:28 <[d-_-b]> glguy, but it isn't necessary I call the name of the file??
12:04:38 <monochrom> Ah, yes, it says the STOP 1992 summer school
12:04:48 <treitter> is there any way to get a String representation of a variable's name?
12:04:52 <jlouis> check. Then i certainly got it
12:05:12 <jlouis> treitter, that is a very dynamic and un-haskellish approach
12:05:40 <Masklinn> @seen dons
12:05:41 <lambdabot> dons is in #ghc, #haskell.hac07, #haskell-overflow and #haskell. I last heard dons speak 3m 43s ago.
12:05:42 <glguy> [d-_-b]: do to it from a filename:
12:05:49 <dons> > let str = ["a","b","c","d","e","f"] str !! 2 -- [d-_-b]
12:05:50 <glguy> [d-_-b]: contents <- readFile filename
12:05:50 <lambdabot>  Parse error
12:05:55 * jlouis conjures up a demon to exorcise the Pythonistic and CommonLispic thoughts out of treitter 
12:05:58 <dons> > let str = ["a","b","c","d","e","f"] in str !! 2 -- [d-_-b]
12:06:00 <Masklinn> Dons, did you write your blog software yourself?
12:06:00 <lambdabot>  "c"
12:06:12 <treitter> jlouis: yeah. I'm just using it in some practice code to display the names and values of variables side by side
12:06:13 <dons> Masklinn: nope, its actually blosxom, which i run out of a darcs repo
12:06:14 <jlouis> treitter, I don't know of any way
12:06:21 <dons> the syntax highlighting is done via HsColour
12:06:28 <treitter> jlouis: it's not a big deal. It's not like any other language handles that :)
12:06:38 <dons> mmm. reimplementing blosxom might make a good blog article :)
12:06:43 <jlouis> treitter, try Common Lisp ;)
12:06:55 <treitter> jlouis: after I get a decent handle on Haskell
12:06:58 <jlouis> (it can do exactly such stuff)
12:07:05 <dons> ?users
12:07:06 <lambdabot> Maximum users seen in #haskell: 291, currently: 278 (95.5%), active: 38 (13.7%)
12:07:07 <Masklinn> dons > would it be possible to put a link to the articles on the title of the article? Because the current version where you have to go to the bottom is annoying, especially since you tend to write *very* long posts
12:07:17 <dons> Masklinn: ah yes
12:07:22 <Masklinn> (when displaying the posts listing I mean)
12:07:23 <dons> sure. I can do that right now :)
12:08:09 <_matthew-> dons: does hs-plugins work with ghc6.6?
12:08:19 <Masklinn> Also an other cool thing would be to have the post's title display in the page's title, but since Blosxom handles the posts by day and not post by post I guess it's not really possible
12:08:30 <jlouis> treitter, you can just load the code into, say, hugs or ghci and then type in the variable to get its value. You can even type in expressions
12:08:37 <dons> _matthew-: not yet!
12:08:43 <dons> _matthew-: but we're getting there
12:08:45 <newsham> hmm..  if you had a "whileM" you could   whileM (liftM not (hIsEofh)) (liftM read (hGetLine h))
12:08:58 <dons> Masklinn: yeah, I wonder..
12:09:09 <dons> I guess there's a blosxom plugin for that
12:09:20 <[d-_-b]> dons, glguy, thank :)
12:09:40 <newsham> wow dons up early/late.
12:09:52 <jlouis> lines . getContents h ?
12:09:56 <dons> Masklinn: how's that now?
12:09:57 <_matthew-> does newIORef e force the evaluation of e?
12:10:02 <sorear> no
12:10:10 <newsham> jlouis: need a lift in there, no?
12:10:13 <dons> i've put the links under the titles, and at the bottom
12:10:25 <sorear> (newIORef undefined is a standard idiom, ergo newIORef is non-strict)
12:10:27 <jlouis> newsham, probably, if its not inside IO
12:10:33 <_matthew-> awesome
12:10:43 <_matthew->  /that's/ why it works... ;-)
12:10:45 <Masklinn> dons > better, but I think you should also add a "/permalink" link to posts' title itself it that's possible
12:10:51 <dons> ah ok
12:10:53 <_matthew-> sorear: tnx
12:11:04 <george> are there any intrinsic functions to pick from a list every item between say the nth and mth item
12:11:23 <glguy> use drop and then take?
12:11:24 <newsham> besides from take and drop?
12:11:45 <george> i will play with these two =) thanks
12:11:48 <treitter> when I define:       showSomeList [a] = putStrLn $ show a
12:11:55 <Masklinn> dons > and somehow link to yourself too, the "Haskell Hacking" headline should link to the blog's root (http://cgi.cse.unsw.edu.au/~dons/blog/)
12:11:56 <lambdabot> Title: Haskell hacking
12:12:03 <newsham> > take 3 $ drop 4 "this is a test"
12:12:04 <lambdabot>  " is"
12:12:04 <treitter> I get "No instance for (Show a)"
12:12:09 <Masklinn> since most blogs work like that, it's less confusing
12:12:09 <glguy> ugly xs m n = map (xs !!) [m..n]
12:12:27 <jlouis> glguy, I pondered on that too
12:12:39 <jlouis> its damn slow
12:12:46 <glguy> > let ugly xs m n = map (xs !!) [m..n] in ugly "this is a test" 4 7 -- totally aware that this is the wrongway
12:12:48 <lambdabot>  " is "
12:12:58 <newsham> takeFromTo n m | m >= n = drop n $ take (m - n)
12:13:08 <jlouis> treitter, you need to add a Type class constraint to its type
12:13:13 <newsham> err..  backwards..   take (m-n) $ drop n
12:13:22 <dons> Masklinn: like that?
12:13:32 <jlouis> showSomeList :: Show a => [a] -> IO ()
12:13:56 <dons> ?users
12:13:56 <lambdabot> Maximum users seen in #haskell: 291, currently: 280 (96.2%), active: 40 (14.3%)
12:14:00 <newsham> > let takeFromTo n m | m>=n = take(m-n) (drop n) in takeFromTo 5 8 "this is another test"
12:14:05 <lambdabot>    Expecting a function type, but found `[a]'
12:14:05 <lambdabot>    Expected type: [a]
12:14:05 <lambdabot>   ...
12:14:25 <newsham> > let takeFromTo n m xs | m>=n = take(m-n) (drop n xs) in takeFromTo 5 8 "this is another test"
12:14:25 <lambdabot>  "is "
12:14:30 <Masklinn> dons > Yep, just like that, now the only thing left would be to edit the CSS to get the color back to your "title" blue (which is lighter than the link blue)
12:14:35 <glguy> > let takeFromTo n m | m>=n = take(m-n). (drop n) in takeFromTo 5 8 "this is another test"
12:14:37 <lambdabot>  "is "
12:14:39 <dons> yeah :)
12:14:46 <treitter> jlouis: ah. So "bar :: foo a => [a] -> String" means "bar is a function that takes a list of 'foo' Type and returns a String"?
12:15:03 <jlouis> treitter, no
12:15:08 <glguy> treitter: takes a list of things that are instances of Foo
12:15:22 <sorear> a list of a specific instance of foo
12:15:27 <treitter> right
12:15:31 <jlouis> treitter, the Constraint Show a means that a is an instance of the Show class. Hence it must have a show function
12:15:41 <dons> Masklinn: done.
12:15:52 <Masklinn> dons > By the way, an other think that I noticed is that it doesn't seem possible to get to your blog from the rest of the site (except front page, and it's quite non-obvious) since you didn't put the blog in the top menu
12:15:54 <newsham> ?type putStrLn
12:15:56 <lambdabot> String -> IO ()
12:15:57 <sorear> so bar :: Show a => [a] -> String  can be passed [1,2,3] or [True,False]  but not [2,True,3]
12:16:02 <glguy> ?type print
12:16:02 <treitter> jlouis, glguy: Got it. Thanks!
12:16:03 <lambdabot> forall a. (Show a) => a -> IO ()
12:16:04 <newsham> ?type \x -> putStrLn (show x)
12:16:05 <dons> Masklinn: ah I should yse.
12:16:05 <lambdabot> forall a. (Show a) => a -> IO ()
12:16:36 <glguy> print = putStrLn . show
12:16:42 <treitter> sorear: is there a way to use heterogenous lists anywhere?
12:16:56 <newsham> ?type show
12:16:58 <lambdabot> forall a. (Show a) => a -> String
12:17:03 <glguy> ?type shows
12:17:04 <lambdabot> forall a. (Show a) => a -> ShowS
12:17:31 <shankys> bringert: Awesome... ghci didn't complain after I switched stuff over from Network.FastCGI to Network.CGI :)
12:17:38 <jlouis> treitter, there are several ways to make those. One should think hard before wanting one though
12:17:41 <treitter> glguy: ah. What's the point of the ShowS type?
12:17:49 <jlouis> and the ways are not that simple
12:17:53 <glguy> ShowS takes a String, and returns a String
12:17:53 <allbery_b> treitter: haskell doesn't support heterogeneous lists natively.  you can define your own, but you can't use the handy list syntax with it
12:17:57 <treitter> jlouis: yeah. Nothing really comes to mind. I'm just curious
12:17:57 <newsham> treitter: you could create a unifying type and then have a homogenous list with different items in it.   there is already a big unifying type in the std libs
12:18:06 <allbery_b> or pass it to standard list operations
12:18:21 <bringert> shankys: great. on to the dyn-cgi problem then. if it still exists
12:18:32 <shankys> bringert: Yup.
12:18:35 <newsham> > [toDyn "test", toDyn 23, toDyn [1,2,3]]
12:18:36 <lambdabot>  Add a type signature
12:18:42 <glguy> treitter: the idea is that you can implement it such that showing a bunch of stuff isn't an O(n^2) operation
12:19:02 <treitter> so True and 3 are both instances of Show, but you can't just   show [True, 3]
12:19:24 <treitter> glguy: ah, yeah
12:19:30 <allbery_b> well, also that but I think it ends up just as ugly or uglier
12:19:33 <augustss> treitter: the first question you should ask yourself is why you need a hetergenous list
12:19:33 <glguy> Show a => a -> String -- means, pick an a that is an instance of Show, that's what we are using
12:20:36 <lightstep> ?where wxhaskell
12:20:36 <lambdabot> http://wxhaskell.sourceforge.net/
12:20:51 <newsham> hmm..  can you make a "showD" that will show any dynamic when Typeable a and Show a?
12:21:37 <newsham> and then map that across a [Dynamic] ?
12:22:51 <newsham> ?type (liftM show) . fromDynamic
12:22:53 <lambdabot> Dynamic -> Maybe String
12:23:22 <bringert> newsham: not exactly like that, no
12:23:26 <bringert> newsham: but you can make your own existential type that lets you do that
12:23:32 <newsham> > map ((liftM show) . fromDynamic) [toDyn "test", toDyn 123, toDyn [4,3,5]]
12:23:34 <lambdabot>  Add a type signature
12:23:59 <glguy> newsham: fromDynamic doesn't know what type you are tryign to make them
12:24:36 <newsham> so I cant make a showD that is generic across all (Typeable a, Show a) ?
12:25:00 <sorear> but, if all you want to do is show them, you can use partial applications of shows as your existential
12:25:05 <shankys> bringert: I still get the "can't load .so/.DLL for: pq (dlopen(libpq.dylib, 10): image not found)" error :(
12:25:08 <glguy> bringert: would that be something like: data ShowD = ShowD { showFunction :: s -> String, thing :: s } ?
12:25:22 <shankys> bringert: Everything works fine in ghci though...
12:25:26 <sorear> > foldr (.) id [ shows "foo", shows 1, shows [True,False] ]
12:25:28 <lambdabot>  <[Char] -> [Char]>
12:25:32 <sorear> > foldr (.) id [ shows "foo", shows 1, shows [True,False] ] []
12:25:33 <lambdabot>  "\"foo\"1[True,False]"
12:25:50 <dons> Masklinn: ok. I think I've taken care of the issues you've raised
12:25:54 <newsham> now do that on a list of dynamics?
12:25:54 <dons> Masklinn++ thanks!
12:25:55 <sorear> partial applications are a useful kind of existential type.
12:26:06 <bringert> shankys: hmm, interesting
12:26:09 <Masklinn> dons > my pleasure :)
12:26:20 <lightstep> any wxhaskell developers around here? i can't get it to compile
12:27:14 <newsham> ?type [toDyn "test", toDyn 123]
12:27:15 <lambdabot> [Dynamic]
12:27:29 <newsham> sorear: let x = [toDyn "test", toDyn 123] in ....
12:27:36 <Excedrin> is it correct that Hugs doesn't show values of IO a at the top level? In the 99 problems, someone says rnd_select doesn't display anything, so does it seem reasonable to change the example to: rnd_select "abcdefg" 3 >>= putStr
12:27:43 <bringert> glguy: that would work, but you could make it more elegant: data ShowD = ShowD (forall a. (Show a,Typeable a) => a)
12:27:51 <retybok> dons: what's this "chunk" function you use in your latest tutorial? Hoogle doesn't seem to know about it...
12:28:04 <dons> retybok: its an exercise for the reader ;)
12:28:05 <bringert> the Typeable is only needed if you also wan to use it like a Dynamic
12:28:07 <dons> just to get you thinking
12:28:17 <dons> hint, use splitAt
12:28:20 <dons> :t splitAt
12:28:21 <lambdabot> forall a. Int -> [a] -> ([a], [a])
12:28:24 <retybok> dons: maybe you should say it somewhere... :)
12:28:28 <dons> hehe ok.
12:29:02 <bringert> shankys: you say you set LD_LIBRARY_PATH. how did you do that?
12:29:24 <SamB_XP> yeah, that makes it clear that they aren't supposed to look in libraries or scour your blog for it ;-)
12:29:39 <dons> mmm, anyone looking for a job/career: http://www.haskell.org/pipermail/haskell/2006-December/018916.html
12:29:41 <lambdabot> Title: [Haskell] PhD Position, the University of Nottingham, http://tinyurl.com/wgpfc
12:29:44 <yaarg> does anyone happen to know if hs-plugins will be compatible with ghc 6.6 soon? thanks
12:29:45 <shankys> I put "export LD_LIBRARY_PATH=/usr/local/pgsql/lib:$LD_LIBRARY_PATH" in my .bash_profile
12:29:54 <dons> yaarg: yes soon. at least by the new year
12:30:05 <_matthew-> lol, a PhD is a "job"?! ;)
12:30:06 <shankys> bringert: Whoops. I put "export LD_LIBRARY_PATH=/usr/local/pgsql/lib:$LD_LIBRARY_PATH" in my .bash_profile
12:30:13 <glguy> > let f :: Dynamic -> Maybe Int; f x = fromDynamic x in map f ([toDyn "test", toDyn (123 :: Int)] :: [Dynamic])
12:30:14 <lambdabot>  [Nothing,Just 123]
12:30:36 <bringert> shankys: I don't think that helps. does lighttpd run your fcgis in bash?
12:30:54 <shankys> bringert: Come to think of it, probably not...
12:31:02 <dons> ok, I think david roundy is officially now a haskell hacker, not a physicist:
12:31:04 <george> on this line: > 		  | (x < ngram_size)	= MkN(word = (getNth x a), precursors = (take (x-1) a)) ... i get the error: ERROR "/home/george/haskell/ngrams.lhs":69 - Haskell 98 does not support extensible records
12:31:05 <george> ... could anyone possibly help me understand this?
12:31:06 <dons> class WitnessMonad wm where
12:31:07 <dons>    (>>=) :: wm w w' a -> (a -> wm w' w'' b) -> wm w w'' b
12:31:24 <glguy> george: nonogram?
12:31:33 <dons> george: you mean to use MkN { } ?
12:31:57 <dons> or, if you really mean to use extensible records (do you?) you need to turn on --trex or something, to hugs
12:32:00 <dons> but that's a hugs only thing
12:32:08 <george> glguy: no =)
12:32:11 <dons> I guess you just mean MkN { word = getNth  x a }
12:32:18 <george> dons: i do indeed mean that!
12:32:22 <george> ty =)
12:32:24 <yaarg> dons: okay i see, thanks for the info
12:33:27 <treitter> I thought of a good reason for a heterogeneous list: implementing C-style printf
12:33:50 <treitter> is there any way to do condensed string formatting like in printf()?
12:34:15 <shoffsta> Is there any nicer way of pattern-matching something like: f ('l':'o':'n':'g':'s':'t':'r':'i':'n':'g':xs) = f xs
12:34:19 <glguy> treitter: you could just use printf
12:34:24 <shoffsta> so that I don't have to type all the ':'?
12:34:24 <SamB_XP> > printf "Hello, %s!" "world"
12:34:25 <lambdabot>  Add a type signature
12:34:29 <SamB_XP> > printf "Hello, %s!" "world" :: String
12:34:30 <lambdabot>  "Hello, world!"
12:34:39 <glguy> shoffsta: f xs | "longstring" `isPrefixOf` xs =
12:34:49 <shoffsta> ah, thanks!
12:35:03 <dons> > printf "Hello, %s, %s size = %d world!" "fun" "hairy" (7::Int) :: String
12:35:03 <glguy> (don't forget to drop 10 xs)
12:35:04 <lambdabot>  "Hello, fun, hairy size = 7 world!"
12:35:06 <treitter> glguy: that works :)
12:35:29 <dons> treitter: it uses type classes to suck in the n-ary args statically
12:35:41 <dons> but you can also do it with heterogenous lists, of course
12:36:29 <glguy> dons: how does printf know when to stop eating args?
12:36:38 <SamB_XP> glguy: return type
12:36:58 <SamB_XP> @hoogle printf
12:36:59 <lambdabot> Text.Printf.printf :: PrintfType r => String -> r
12:36:59 <lambdabot> Text.Printf :: module
12:36:59 <lambdabot> Text.Printf.hPrintf :: HPrintfType r => Handle -> String -> r
12:37:01 <glguy> ahh, that makes sense
12:37:09 <Excedrin> you can also do it with something combinator based, but your format strings look like "Hello, " S "!"
12:37:20 <SamB_XP> @instances-importing Text.Printf PrintfType
12:37:21 <lambdabot> (a -> r), IO a, [c]
12:37:37 <retybok> ?hoogle take
12:37:38 <lambdabot> Prelude.take :: Int -> [a] -> [a]
12:37:38 <lambdabot> Prelude.takeWhile :: (a -> Bool) -> [a] -> [a]
12:37:38 <lambdabot> Data.PackedString.takePS :: Int -> PackedString -> PackedString
12:37:57 <_matthew-> ?type (printf "Hello, %s, %s size = %d world!")
12:37:58 <SamB_XP> see, the (a -> r) instance eats an arg, the IO a instances prints to stdout, the [c] instance is actually for Strings and it just returns the formatted text
12:37:58 <lambdabot> forall r. (PrintfType r) => r
12:38:06 <glguy> > printf "like this?" :: IO ()
12:38:09 <lambdabot>  <IO ()>
12:38:16 <_matthew-> ew. no nice dependant types... ;-)
12:38:19 <Excedrin> when did GHCI start displaying IO values?
12:38:33 <glguy> SamB_XP: quite nifty
12:38:34 <sorear> when dons mutated it into lambdabot!
12:38:46 <augustss> _matthew-: there are no nice dependent types in Haskell
12:38:47 <treitter> > let [a] = ["fun", "hairy", 7] ; printf "Hello, %s, %s size = %d world!" a
12:38:47 <SamB_XP> Excedrin: sometime after it started displaying function values, I guess
12:38:47 <lambdabot>  Parse error
12:38:57 <sorear> > not
12:38:58 <lambdabot>  <Bool -> Bool>
12:38:59 <Excedrin> sorear: lambdabot isn't GHCI
12:39:02 <_matthew-> augustss: I am aware of that ;)
12:39:03 <edi> treitter: s/;/ in /
12:39:13 <glguy> Epigram's type system has fully dependent types?
12:39:19 <glguy> (I'm trying to think of the terminology)
12:39:26 <treitter> > let [a] = ["fun", "hairy", 7]  printf "Hello, %s, %s size = %d world!" a
12:39:26 <lambdabot>  Parse error
12:39:32 <augustss> glguy: yes
12:39:34 <george> if I have a list of type maybe a. how can i use the intrinsic filter to obtain a list of a (i.e. get rid of all the nothings)
12:39:42 <treitter> edi: like?
12:39:50 <treitter> oh
12:39:51 <glguy> augustss: the difference being that values are allowed at the type level?
12:39:57 <treitter> > let [a] = ["fun", "hairy", 7] in printf "Hello, %s, %s size = %d world!" a
12:39:58 <lambdabot>  add an instance declaration for (Num [Char])
12:39:58 <dons> catMaybe
12:39:58 <lambdabot>   In the list element: 7
12:39:58 <lambdabot>   ...
12:40:03 <sorear> > mapMaybe id [ Just "foo", Nothing, Just "bar" ]
12:40:04 <lambdabot>  ["foo","bar"]
12:40:11 <dons> > catMaybe [Nothing, Just 1, Nothing, Just 2]
12:40:12 <lambdabot>  Not in scope: `catMaybe'
12:40:13 <augustss> glguy: yes, types can depend on values
12:40:14 <edi> treitter: at least one error, lists are homogenous
12:40:25 <edi> catMaybes
12:40:30 <_matthew-> augustss: was just testing to see if lambdabot would come back with String -> String -> Int -> IO() ;)
12:40:35 <dons> > catMaybes [Nothing, Just 1, Nothing, Just 2]
12:40:37 <lambdabot>  [1,2]
12:40:40 <treitter> edi: is there any way to get around that, for something like this?
12:40:49 <dons> its mapMaybe, but catMaybes. weird
12:40:53 <augustss> > [ x | Just x <-  [Nothing, Just 1, Nothing, Just 2]]
12:40:54 <edi> > [ x | (Just x) <- [Just 1, Nothing, Just 2]]
12:40:54 <lambdabot>  [1,2]
12:40:54 <lambdabot>  Not in scope: data constructor `'
12:40:56 <_matthew-> augustss: you're the Cayenne author no?
12:40:58 <edi> uhu
12:41:04 <augustss> _matthew-: yes
12:41:06 <george> these two functions are also intrinisic?
12:41:15 <edi> treitter: what do you want to do exactly?
12:41:18 <dons> george: they're in Data.Maybe
12:41:27 <_matthew-> augustss: is that receiving any development any more?
12:41:38 <augustss> _matthew-: nope
12:41:40 <sorear> > concatMap maybeToList [ Just 2, Nothing ]
12:41:41 <lambdabot>  [2]
12:41:46 <augustss> not that I'm aware of
12:41:51 <treitter> edi: just testing what's possible
12:41:59 <edi> Play along
12:42:22 <sorear> > transpose $ map maybeToList [ Just 2, Nothing ]
12:42:23 <lambdabot>  [[2]]
12:42:27 <lightstep> george, they are standard library functions
12:42:38 <_matthew-> augustss : your paper seemed quite positive about getting round the undecideable-ness (err, or rather, it's not really a problem). Why has it not gone anywhere do you think?
12:43:27 <SamB_XP> what about Agda?
12:43:29 <augustss> _matthew-: Well, turning on undecidable instances in ghc seems popular, so it has gone somewhere.
12:43:49 <augustss> Agda is still being developed, as far as I know.  But the goal is different.
12:44:03 <treitter> dons: do I have to import anything to use printf? Ghci says it isn't in my scope (of Prelude)
12:44:38 <augustss> the biggest flaw with Cayenne was that I didn't include GADTs
12:44:41 <allbery_b> :m +Text.Printf -- IIRC
12:44:44 <_matthew-> augustss: ok. Have you looked at Epigram or Omega (or are involved in them)? Do you see them doing anything fundamentally different to what was achieved with Cayenne ?
12:44:45 <SamB_XP> does Agda?
12:45:01 <_matthew-> augustss: Ahh! so Omega is better because it's all GADTs then?
12:45:09 <SamB_XP> _matthew-: heh
12:45:16 <augustss> Omega doesn't have true dependent types
12:45:19 <_matthew-> true
12:45:26 <augustss> but it's very close
12:45:30 <allbery_b> yep
12:45:34 <_matthew-> and decidable
12:45:40 <SamB_XP> it seems to not quite let you do what you want...
12:45:42 <augustss> And I've looked at both Epigram and Omega.
12:45:56 <SamB_XP> is Omega turing complete?
12:46:02 * SamB_XP thinks yes
12:46:06 <augustss> Epigram doesn't allow general recursion in its full glory
12:46:21 <SamB_XP> or hazard, depending on how you look at it
12:46:22 <_matthew-> right - it has to be on the structure of terms
12:46:29 <augustss> SamB_XP: turing complete on what level?
12:46:46 <SamB_XP> any level
12:46:56 <SamB_XP> type, value, kind...
12:46:57 <george> What is the difference between an Int and a Integer
12:47:03 <augustss> So I think the Epigram way with confining general recursion to a monad (or something) is the right way
12:47:08 <SamB_XP> > 2^32 :: Int
12:47:09 <lambdabot>  0
12:47:10 <Excedrin> Integer is infinite precision
12:47:13 <SamB_XP> > 2^32 :: Integer
12:47:15 <lambdabot>  4294967296
12:47:19 <glguy> (I really don't know that much advanced type hackery, but) isn't the problem with fully dependent types that you can't guarentee that the program will ever stp compiling?
12:47:19 <SamB_XP> > 2^10000 :: Integer
12:47:21 <lambdabot>  1995063116880758384883742162683585083823496831886192454852008949852943883022...
12:47:30 <SamB_XP> > 2^10000 :: Int
12:47:32 <lambdabot>  0
12:47:33 <_matthew-> glguy: yeah
12:47:42 <augustss> glguy: only if you allow general recursion
12:47:52 <glguy> augustss: at the type level you mean?
12:48:01 <augustss> yes
12:48:03 <glguy> ok
12:48:05 <sorear> why do we care?
12:48:06 <george> so... what should I use in my program... im getting a type error
12:48:10 <SamB_XP> doesn't GHC support non-termination of type-checking?
12:48:24 <augustss> SamB_XP: with the right flag
12:48:32 <sorear> it's not like we're angry about nonterminating value programs
12:48:39 <_matthew-> lol
12:48:42 <_matthew-> FUMING!
12:48:42 <glguy> ?
12:48:43 <Excedrin> george: paste your code, what's the context, do you need large integers?
12:48:46 <george> *** Expression     : take (x - 1) a-------*** Term           : x - 1-------*** Type           : Integer -------*** Does not match : Int
12:48:46 <sorear> so why do we care about nonterminating type programs?
12:48:49 <augustss> a little angry
12:49:00 <Excedrin> @type take
12:49:01 <lambdabot> forall a. Int -> [a] -> [a]
12:49:06 <george> i do not need large Integers
12:49:08 <Excedrin> george: take requires an int
12:49:11 <glguy> sorear: because a nonterminating value program can still do "work"?
12:49:22 <mauke> george: why is x an Integer?
12:49:24 <kermitthehermit> monocrhom re hugs essential install:  OMG, I can hardly believe that worked.
12:49:27 <george> so i replace all instances of Integer with Int?
12:49:33 <SamB_XP> if they produce values that don't terminate, is okay
12:49:53 <kermitthehermit> monochrom, glguy, et al:  thanks for the help.
12:50:05 <SamB_XP> IO () actions that don't ever end are pretty much the same thing
12:50:07 <george> mauke: because when i started i wrote integer?
12:50:12 <_matthew-> augustss: Am I confused then - I thought that with Omega, because of its index types, compilation was always terminating?
12:50:15 <sorear> What if a nonterminating type program could produce a partial program?
12:50:22 <mauke> george: oh. you could use fromInteger to convert it
12:50:35 <SamB_XP> sorear: well, you'd have to use some kind of dynamic typing, I guess...
12:50:47 <augustss> _matthew-: Omega har terminating type checking, but not true depedent types
12:50:58 <Syzygy-> Is the NaN implementation in the Prelude types a wheel?
12:51:03 <glguy> sorear: I would not be satisfied with an arbitrary fractional compile process
12:51:15 <_matthew-> augustss: gotcha. tnx. So are you still working in the same area?
12:51:17 <augustss> (Well, Omega would have terminating type checking if all the checks were implemented)
12:51:19 <SamB_XP> Syzygy-: Prelude doesn't actually implement floating-point
12:51:20 <kermitthehermit> I must have gotten discouraged.  hugs+ took a long time to build, so maybe I just gave up on it.
12:51:26 <SamB_XP> Syzygy-: ask your CPU vendor
12:51:31 <SamB_XP> and compiler-vendor
12:51:35 <augustss> _matthew-: not at all.  I work at an investment bank now
12:51:39 <SamB_XP> well, the latter would be GNU
12:51:41 <_matthew-> yikes!
12:51:48 <SamB_XP> or maybe GHC...
12:52:04 <dons> ?users
12:52:05 <lambdabot> Maximum users seen in #haskell: 291, currently: 285 (97.9%), active: 45 (15.8%)
12:52:05 <SamB_XP> oh, also ask your kernel vendor ;-)
12:52:07 <augustss> _matthew-: programming haskell, of course
12:52:55 <_matthew-> augustss: I see. ok. Well thanks for your time. I've just started a PhD and am spending some time looking at dependent type languages and similar
12:52:59 <SamB_XP> or maybe you could just read the IEEE spec for floating point
12:53:26 <augustss> _matthew-: they are cool.  and it seems the time for them is slowly arriving.
12:53:29 <_matthew-> did you ever spend time considering how such type systems could aid concurrency and writing concurrent programs?
12:53:47 <augustss> _matthew-: can't say that I have
12:54:11 <SamB_XP> _matthew-: concurrency is still in its infancy, honestly
12:54:29 <_matthew-> SamB_XP: oh yes, I appreciate that one!
12:54:42 <augustss> _matthew-: I think GADTs are paving the way for true depedent types
12:55:11 <dons> mmm. now that's an interesting idea.
12:55:18 <dons> since people sort of 'get' GADTs
12:55:25 <dons> so they're the gateway drug
12:55:28 <sorear> Super powerful type systems will not arrive overnight.
12:55:31 <augustss> exactly ;)
12:55:31 <SamB_XP> mmm
12:55:33 <SamB_XP> yeah.
12:55:57 * _matthew- ponders
12:55:58 <sorear> They will sneak up on us, one tiny inconsequential extension at a time.
12:56:20 <SamB_XP> we also need people to learn how fp and concurrency work together
12:56:21 <augustss> but no one was interested in GADTs 15 years ago.  their time has just arrived
12:56:31 <dons> yep. and then, before you realise, you'll be hooked on the hard stuff
12:56:38 <sorear> 15 years ago they gave us type classes.
12:56:58 <augustss> 15 years ago I suggested GADTs as an extension to Haskell :)
12:57:15 <bringert> http://web.cecs.pdx.edu/~sheard/papers/silly.pdf
12:57:16 <sorear> now we have fundeps, ats, gadts, mptcs, etc, etc.
12:57:19 <augustss> actually, 12 years
12:57:29 <Syzygy-> SamB_XP: Ok. More specifically, then. When using GHCi, I can provoke Infinity and NaN as instances of some type of class Fractional. Is Fractional defined so as to produce a wheel?
12:57:38 <dons> yeah, the type hackery revolution, where its finally acceptable to try to make type programming easier and mainstream, is fairly new
12:57:43 <SamB_XP> after we start to understand those things (concurrency and dependant typing), we can move on to trying to combine them...
12:57:55 <dons> so its all in the timing
12:57:55 <augustss> Syzygy-: a wheel?
12:58:02 <Syzygy-> augustss: Yup. A wheel.
12:58:12 <_matthew-> bringert : right, but Sheard's comments was that the authors of silly.pdf didn't quite get at the time how to best use GADTs
12:58:28 <Syzygy-> As in http://en.wikipedia.org/wiki/Wheel_theory
12:58:30 <lambdabot> Title: Wheel theory - Wikipedia, the free encyclopedia
12:58:39 <sorear> wait... nondeterministic concurrent parallel type theory!?!?
12:58:58 <SamB_XP> sorear: you were hoping for something deterministic?
12:58:59 <_matthew-> mmm. we're going to need bigger keyboards
12:59:01 <augustss> _matthew-: well, we knew pretty well what GADTs could be used for.  The type theory people had shown that for a long while.
12:59:10 <dons> mmm. and I was reading a Sulzmann paper on type checkers that used STM just a few days ago
12:59:10 <SamB_XP> and isn't "concurrent parallel" redundant?
12:59:23 <SamB_XP> dons: backwards!
12:59:36 <_matthew-> concurrency and parallelism are distinct
12:59:41 <SamB_XP> we want concurrency that uses the type system, not type checkers that use concurrency...
12:59:57 <dons> oh, not concurrency _in_ the type system? :)
12:59:58 <beschmi> > Maybe.catMaybes [Nothing, Just 4, Nothing]
12:59:59 <SamB_XP> _matthew-: oh?
13:00:00 <lambdabot>  [4]
13:00:02 <dons> for when your hlists aren't fast enoug
13:00:06 <sorear> Oh - I was thinking concurrent extentions *to* the type system
13:00:12 <dons> yeah :)
13:00:16 <bringert> People are doing crazy type-level programming stuff in Haskell today that would be much nicer in a dependently typed language. With dependent types, we don't have to distribute Oleg implants to everyone.
13:00:22 <augustss> Syzygy-: Fractional can do whatever you like.  But the standard definition is just to do IEEE arithmetic on the floats
13:00:27 <SamB_XP> _matthew-: I realize they don't mean quite the same thing
13:00:35 <_matthew-> SamB_XP: ah ok
13:00:41 <dons> yeah, its like the days before awk when you wrote everything in sed :)
13:00:47 <Syzygy-> augustss: I was under the impression that the IEEE leaves things like NaN+3 undefined.
13:00:49 <dons> and it was kinda hard on the head
13:01:00 <augustss> Syzygy-: NaN + 3 is NaN
13:01:02 <sorear> isn't NAN+3 NAN?
13:01:06 <Syzygy-> Whereas, if NaN is a valid input to arithmetic, but "sticky", then it actually ends up being (more or less) a wheel.
13:01:23 <Syzygy-> With NaN = _|_ (in the notation of Carlstrm)
13:01:25 <SamB_XP> but, I think if you say "concurrent" that implies "possibly parallel"...
13:01:29 <SamB_XP> with todays CPUs and all
13:01:31 <augustss> If that's all it takes, then I guess we have a wheel :)
13:02:17 <sjanssen> concurrent typechecking?!
13:02:23 <Syzygy-> augustss: More or less, yeah. You need an element that pops up whenever something unhandleable (such as 0/0 and oo-oo etc) pops up, and works stickily. With that you can get a consistent theory built; which is precisely what gets called a wheel.
13:02:27 <_matthew-> SamB_XP: I largely agree, but don't forget most CPUs are not P4 Core Duo class - most CPUs are ARM or MIPs and sit in microwaves or PDAs or ...
13:02:34 * sorear keeps looking at bottom and expecting the blinkers to rotate...
13:02:34 * sjanssen waits patiently for HFork
13:02:58 <SamB_XP> _matthew-: yes, but anyway the parallism need not show up in the types
13:03:12 <_matthew-> SamB_XP: ahh yes, I finally see your point :)
13:03:18 <SamB_XP> er, that is, the types should not depend on hwo many CPUs you have
13:03:20 <sorear> Type level `par` vs. Type level forkIO
13:03:30 <_matthew-> yup yup
13:03:31 <dcoutts__> dons: got much response to your popen proposal yet? did you find out if that hClose errh works ok?
13:03:34 <augustss> Syzygy-: but a wheel needs associative +, which fp doesnt have
13:03:49 <Syzygy-> It doesn't?
13:03:50 <SamB_XP> `par` can not use the typesystem more than it already does
13:03:52 <sorear> Reals + _|_ is associative
13:03:59 <Syzygy-> Does Fractional have associative?
13:04:03 * shapr boings
13:04:03 <sorear> > (1 + 1e-50) - 1
13:04:05 <lambdabot>  0.0
13:04:05 <Syzygy-> sorear: You'll want oo if you have _|_.
13:04:06 <augustss> Syzygy-: no, fp doesn't have any nice properties really :)
13:04:11 <sorear> > (1e-50 + 1) - 1
13:04:13 <lambdabot>  0.0
13:04:18 <sorear> > 1e-50 + (1 - 1)
13:04:20 <lambdabot>  1.0e-50
13:04:28 <Syzygy-> augustss: But surely there's a difference between fp and Fractional?
13:04:28 <sorear> ^^^ not associative
13:04:29 <SamB_XP> these types would be for dealing with mutable things and effects and whatnot...
13:04:41 <Syzygy-> > (1/(10^50) + 1) - 1
13:04:43 <lambdabot>  0.0
13:04:50 <dons> dcoutts__: not yet. got a couple of emails
13:04:51 <augustss> Fractional is a type class.  you can populate it with whatever you want
13:04:59 <Syzygy-> > 1/(10^50) + (1-1)
13:05:00 <lambdabot>  9.999999999999999e-51
13:05:13 <sorear> isn't instance Fractional BigFloat ?
13:05:14 <dons> its just a prototype really. i'm really waiting to hear from JaffaCake
13:05:17 <SamB_XP> (also, parallel arrays don't seem to require any special typing from being parallel)
13:05:25 <sjanssen> > fromRational (1/(10^50) + (1-1))
13:05:26 <augustss> no bigfloats, sorry
13:05:26 <Syzygy-> augustss: Yeah, but I would have expected the typeclass to have specified expected behaviour (such as associativity)
13:05:26 <lambdabot>  1.0e-50
13:05:32 <SamB_XP> anyway...
13:05:42 * bringert read fp in "augustss: Syzygy-: no, fp doesn't have any nice properties really" as "functional programming"
13:05:48 <SamB_XP> Syzygy-: have you read Seminumerical Algorithms?
13:05:53 <Syzygy-> SamB_XP: Not really.
13:05:55 <augustss> Syzygy-: Haskell says very, verry little about properties of class operations
13:06:05 * Syzygy- isn't really very interested in numerics ... to concrete for my taste.
13:06:09 <sorear> Syzygy-: the Haskell committee must've thought hardware FP was more important than associativity.
13:06:15 <augustss> And rightly so, imo.  Since the compiler can enforce the properties
13:06:27 <dons> Syzygy-: spoken like a true mathematician :)
13:06:27 <Syzygy-> And thus, what little I have read of Knuth has not been from seminumerical.
13:06:29 <Syzygy-> sorear: Ok.
13:06:33 <SamB_XP> augustss: you mean "cant't"?
13:06:34 <Syzygy-> dons: Oh yes!! :)
13:06:48 <augustss> I mean "can't"
13:07:06 <sorear> see, the EvilIx debacle
13:07:12 <littledan> this is sort of a beginner question, but how do you load files in GHCi? I tried doing :load filename.h but it told me the module wasn't recognized
13:07:21 <SamB_XP> Syzygy-: if you had, you would maybe know that floating-point numbers may not even be worthy of being called numbers
13:07:21 <sorear> :load filename.hs?
13:07:32 <SamB_XP> augustss: oh, oops
13:07:47 <sjanssen> speaking of EvilIx, I need to make a plan for fixing that bug
13:08:03 <sorear> is MCMLXXXVII worthy of being called a number?
13:08:28 <Syzygy-> SamB_XP: I had that suspicion to a certain extent already... I don't really think about floats anyway. Ever. The few times I actually end up dealing with numbers, something as banal as a fixed-bit decimal representation seems to be such an absurd thing to deal with that I don't bother.
13:08:34 <Syzygy-> If I need numbers, they tend to be integers.
13:08:38 <Syzygy-> Preferably bignums.
13:08:47 <Syzygy-> Or elements of finite fields.
13:09:13 <augustss> I have a version of David Lester's real number package available
13:09:16 <int-e> sorear: it represents an integer, so, why not?
13:09:39 <littledan> sorear: oh, thanks, I had the extension wrong
13:10:09 <augustss> but real numbers don't fit too well into the haskell class hierarchy
13:12:09 <Syzygy-> Which is one reason I like the NumericPrelude.
13:13:03 <sorear> We should start HaskellTwo back up on the new wiki.
13:13:43 <augustss> where is NumericPrelude?
13:13:55 <Syzygy-> darcs.haskell.org/numericprelude/
13:14:26 <sorear> ?where NumericPrelude
13:14:26 <lambdabot> I know nothing about numericprelude.
13:14:36 <sorear> ?where+ NumericPrelude darcs.haskell.org/numericprelude/
13:14:37 <lambdabot> Done.
13:14:40 <Syzygy-> Great.
13:16:30 <jcreigh> hmm, del.icio.us is down. a "scheduled upgrade". As if that makes it okay.
13:18:59 <augustss> NumericPrelude looks pretty nice.  Maybe I should start using it
13:19:14 <dcoutts__> @seen nometa
13:19:15 <lambdabot> I haven't seen nometa.
13:20:03 <dcoutts__> this is cool, Joachim Breitner has sent me his Gtk2Hs GUI for his student database.
13:20:16 <allbery_b> you mean nomeata?
13:20:20 <dcoutts__> yep
13:20:42 <dcoutts__> he wants me to review it and blog about top 10 beginners
13:20:42 <dcoutts__> mistakes
13:20:49 <Excedrin> I don't get that thread, why wouldn't Haskell be a great language for GUI -> DB stuff?
13:20:55 <dcoutts__> which is a good idea
13:20:59 <allbery_b> maybe lambadabot needs a typo checker :)
13:21:19 <dcoutts__> Excedrin: mostly because people haven't done it much
13:21:40 <dcoutts__> Excedrin: so not much existing easy to pick up infrastructure or examples etc
13:21:53 <dcoutts__> so it just needs some people to develop the area
13:22:05 <jlouis> no, its rather because there is no "framework-this-or-that" for doing ORM mapping, heh
13:22:31 <Excedrin> right, but it sounds like Niel and Bulat were saying "Haskell the language will be inferior to C#, regardless of the lack of libraries and tools"
13:22:39 <sorear> ?spell checler
13:22:41 <lambdabot> checker chicle checkers heckler chuckle
13:22:46 <dcoutts__> I don't think that's what they meant
13:23:05 <jlouis> It is not true either. C# is extremely verbose compared to Haskell
13:23:18 <allbery_b> bulat seemed to be saying that gui->db is intrinsically procedural and haskell can't really compete in that arena
13:23:35 <allbery_b> which strikes me as unimaginative at best
13:23:40 <augustss> bulat is wrong, if that's what he meant
13:23:50 <sorear> ?go Haskell is the ultimate imperative language
13:23:52 <lambdabot> http://lambda-the-ultimate.org/node/1506
13:23:53 <lambdabot> Title: Linspire chooses Haskell as preferred language | Lambda the Ultimate
13:24:18 <augustss> Haskell is a really powerful procedural language.
13:24:39 <allbery_b> I may have misunderstod him but that was how I read it.  I had quite a wtf? moment over it
13:24:41 <augustss> Since statements are first class you can do much cooler abstractions
13:24:55 <augustss> allbery_b: I read it the same way as you
13:25:46 <sorear> try implementing STM as a library in any other language.
13:26:09 <ToRA__> STM?
13:26:32 <dcoutts__> allbery_b: imho Bulat tends to think in an procedural way
13:26:35 <allbery_b> not only can you do procedural with it, but I can imagine (if not actually design) a non-procedural interface
13:26:54 <sorear> Memory transactions.  atomically (readTVar a >>= \x -> writeTVar a (x*2))
13:27:15 <Excedrin> looks like there's a lot of existing STM libraries for other languages
13:27:17 <sorear> ?doc Control.Concurrent.STM
13:27:18 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/stm/Control-Concurrent-STM.html
13:27:21 <lenbit> is it possible to define variables in ghci?
13:27:26 <allbery_b> transactions certainly introduce some level of procedural state, but no reason you can't use lazy eval within a transaction
13:27:29 <dcoutts__> lenbit: yep, use let
13:27:36 <lenbit> let, ok. thanks!
13:27:55 <dcoutts__> lenbit: as in: Prelude> let x = 3
13:28:02 <dons> i find i often have 'wtf?' moments when reading bulat's posts :)
13:28:04 <allbery_b> and functional, vs. procedural
13:28:11 <lenbit> gotcha, dcoutts__
13:28:24 <dcoutts__> dons: or reading the haddock docs of his libs
13:28:25 <lenbit> it's the littlest things
13:29:13 <dons> ?users #haskell
13:29:13 <lambdabot> Maximum users seen in #haskell: 291, currently: 284 (97.6%), active: 48 (16.9%)
13:29:19 <dcoutts__> noooo too imperative! I think he goes procedural as a premature optimisation
13:29:30 <dcoutts__> eg in his streams or compression libs
13:29:40 <dons> yeah. lots of weird IORef based code and so on
13:30:02 <augustss> there is rarely a need for IORefs
13:30:15 <dons> and then makes general claims from there, despite writing such strange, un-idiomatic code :/
13:30:27 <allbery_b> hm, yeh, he did toss in a comment about needing to do procedural stuff to get performance (and someone wtf?ed at him for it)
13:31:07 <augustss> well, he also claimed you needed to write low level code AND use jhc
13:31:19 <augustss> I thought one or the other was sufficient :)
13:31:33 <augustss> not that I have ever managed to build jhc
13:31:38 <Excedrin> why aren't there pure procedural languages that focus on referential transparency?
13:32:08 <sorear> In the time it takes you to write fast code, wouldn't it be more productive to flip burgers and spend the pay on a faster processor?
13:32:47 <augustss> Excedrin: check out John Reynolds work
13:33:11 <Vq^> sorear: not necessarily
13:34:06 <Vq^> sorear: and besides, writing code is less boring than flipping burgers or kttbullar
13:35:20 <augustss> mmmmm, kttbullar
13:35:45 <lenbit> h, gott
13:35:59 <Excedrin> sorear: if the program in question is supposed to run on a large cluster of machines, it could require years of burger flipping to replace all those CPUs
13:37:10 <Excedrin> then the electricity bills after running machines with cpus that consume more power is a serious problem...
13:37:11 * allbery_b reads bulat's latest and becomes cfirmly convinced that he just Doesn't Get It
13:37:15 <sorear> point taken...
13:40:22 <lightstep> what is bulat's blog?
13:40:53 <Heffalump> does -fno-implicit-prelude cause syntactic sugar to bind to whatever values of the underlying functions happen to be in scope (e.g. do notation and (>>=))?
13:41:14 <dons> lightstep: his mailing list entries
13:41:56 <dons> i.e. http://search.gmane.org/?query=&author=Bulat+Ziganshin&group=&sort=date&DEFAULTOP=and&query=
13:41:59 <lambdabot> Title: Gmane -- Mail To News And Back Again, http://tinyurl.com/y877b2
13:42:18 <dons> he's got some quite strange (and prolific) views on how to program haskell
13:43:00 <dons> sometimes he's very sensible, sometimes bizarre :)
13:43:21 <augustss> Heffalump: yes
13:43:50 <Heffalump> augustss: thanks (and just doing import Prelude hiding (...) isn't enough, right?)
13:44:08 <augustss> no, that's not enough
13:45:20 <augustss> But -fno-implicit-prelude doesn't do enough, imo.  it should allow you to override all syntacic sugar, like if, lists, etc
13:47:29 <Heffalump> oh, it doesn't change what [ , , ] means even if you've redefined (:) and [] ?
13:48:27 <augustss> I don't think so.  but I could be wrong
13:49:31 <ihope> Redefined (:) and []?
13:49:45 <ihope> > let (:) = 3 in (:)
13:49:46 <lambdabot>    Constructor `:' should have 2 arguments, but has been given 0
13:49:46 <lambdabot>   When c...
13:49:50 <int-e> Heffalump: right it doesn't.
13:50:04 <ihope> How do you plan on redefining those?
13:50:44 <SamB_XP> ihope: well, first you'd have to have them be identifiers...
13:50:52 <Heffalump> oh, they're not in the Prelude, good point
13:54:00 <augustss> "Illegal binding of built-in syntax:".  bah!
13:54:25 <augustss> feeble
13:54:27 <augustss> :)
13:54:59 <george> ok, im playing with a test function that takes a list of list of strings and returns a list of strings... in this case regardless of input it returns ["foo", "bar"]. When i pass it as an argument [["foo"],["bar"]] though it gives a type error. though i check the type of this argument and it comes [[[char]]]... ie. list of list of strings. can someone advise?
13:55:44 <augustss> george: char or Char?
13:55:49 <george> Char
13:56:00 <george> Main> :t [["foo"],["bar"]]
13:56:01 <george> [["foo"],["bar"]] :: [[[Char]]]
13:56:34 <george> if i enter say: Main> niceOutput [["foo"]]
13:56:34 <george> ["foo","bar"]
13:56:38 <george> it works
13:56:41 <mauke> > let foo :: [[String]] -> [String]; foo _ = ["foo", "bar"] in foo [["foo"],["bar"]]
13:56:42 <lambdabot>  ["foo","bar"]
13:56:47 <ToRA__> \msg lambdabot @type (\(x::[[String]]) -> ["foo", "bar"]
13:57:36 <Saizan> george what's the rype of niceOutput?
13:58:05 <george> sorry, wasting your time. i can look at a function 100x then i ask a question and the reason is obvious =)
13:58:19 <george> > niceOutput [a] instead of [[a]]
13:58:20 <lambdabot>  Parse error
13:58:25 <allbery_b> george: that's a natural law, far as I can tell :)
14:01:02 <ihope> george: what was the reason?
14:01:25 <allbery_b> see his last comment
14:03:19 <george> infact even my last comment is wrong... i mean [a] instead of a
14:12:05 * SamB_XP wants to see something like ripple payments for filesharing -- except with eMule credit
14:12:59 <Shimei> So, I was working on the "Scheme in 48 hours" tutorial and came across this code: "parseNumber = liftM (Number . read) $ many1 digit". An exercise was to rewrite that using (>>=). I came up wtih "parseNumber = many1 digit >>= \x -> return $ Number . read $ x". Is there a more idiomatic way of expressing that?
14:13:39 <mauke> yeah, liftM :-)
14:13:54 <Shimei> Oh. Bah, exercises. :P
14:13:56 <augustss> @pl many1 digit >>= \x -> return $ Number . read $ x
14:13:56 <lambdabot> (Number . read) `fmap` many1 digit
14:14:27 <bringert> shankys: how is it working out?
14:15:03 <augustss> @pl \x -> return $ Number . read $ x
14:15:03 <lambdabot> return . Number . read
14:15:29 <augustss> Shimei: that's a little more idiomatic
14:15:35 <kermitthehermit> ERROR "/usr/local/lib/hugs/packages/hugsbase/Hugs/ST.hs":51 - Syntax error in type expression (unexpected `.')
14:15:45 <kermitthehermit> Is this in my code or in hugs?
14:15:52 <bringert> kermitthehermit: use hugs -98
14:16:18 <Shimei> augustss: Ah, I see. Thanks. Cool bot.
14:16:19 <kermitthehermit> wow that was fast.
14:16:35 <shankys> bringert: I actually got things working! I had to add LD_LIBRARY_PATH in fastcgi.server in a "bin-environment" variable, and that did it :)
14:17:15 <bringert> shankys: great! what is fastcgi.server? some lighttpd-specific config?
14:17:17 <shankys> bringert: Lighttpd uses it's own PATH, LD_LIBRARY_PATH, etc...
14:17:23 <shankys> bringert: Yeah, basically.
14:17:32 <augustss> Does "Scheme in 48 hours" do call/cc?
14:18:20 <Shimei> augustss: I don't think it does, but I'm not that far. (http://halogen.note.amherst.edu/~jdtang/scheme_in_48/tutorial/overview.html)
14:18:23 <lambdabot> Title: Write Yourself a Scheme in 48 hours, http://tinyurl.com/l986o
14:18:46 <bringert> shankys: so you've got your own programs running now? with db stuff?
14:19:09 <shankys> bringert: Yup. My paths are broken, but that shouldn't be hard to fix, just annoying.
14:19:26 <bringert> shankys: what db library are you using?
14:19:37 <shankys> bringert: Database.HDBC
14:19:59 <shankys> bringert: I thought about using HaskellDB, but there's something I just don't like about it...
14:20:44 <bringert> shankys: yeah, I don't think it's really ready for critical production use
14:20:53 <shankys> bringert: I wrote some nice wrappers for Database.HDBC, and then my friend is almost done improving them so we have a mini DSL.
14:21:22 <bringert> shankys: if you use persistent connections in your programs (like hope does), remember that the connection can shut down if it's unused for a long time
14:22:14 <shankys> bringert: Right now we're opening and closing connections a lot which isn't good, but I was going to switch to a persistent connection like Hope. I didn't know about the possibility of the connection shutting down so thanks for the tip :)
14:22:54 <bringert> just check the connection at the beginning of each request and reestablish if it's gone
14:23:11 <shankys> bringert: Yeah, that just what I was thinking.
14:23:28 <bringert> maybe you could add a connect function which uses persistent connections to you wrappers
14:23:33 <bringert> your
14:24:09 <dons> bringert, btw, were we going to book a hotel  room for the hackathon?
14:25:00 <bringert> ah, right
14:27:31 <bringert> dons: do you think we should go for youth hostel or hotel?
14:27:59 <bringert> nice hac project: "Darcs does look sexy"
14:28:13 <augustss> where is the hackathon?  cambridge?
14:28:17 <dons> augustss: yes!
14:28:27 <dons> no!
14:28:28 <dons> oxford!
14:28:29 <bringert> I thought it was in Oxford
14:28:31 <dons> ?wiki Hac_2007
14:28:32 <lambdabot> http://www.haskell.org/haskellwiki/Hac_2007
14:28:33 <bringert> yeah
14:28:40 <dons> augustss: will you be in the uk in early Jan?
14:29:01 <dons> just before POPL
14:29:16 <dons> here's the current attendee list, http://www.haskell.org/haskellwiki/Hac_2007/Attendees
14:29:19 <lambdabot> Title: Hac 2007/Attendees - HaskellWiki
14:29:30 <augustss> probably, but not 10-12.  I'm going to Aruba on the 12th
14:29:37 <dons> oh nice
14:29:40 <dons> lucky augustss
14:30:00 <augustss> but from feb i'll be in London
14:30:52 <Heffalump> is that definite now?
14:31:05 <augustss> i've signed the papers
14:31:16 <Heffalump> cool
14:31:28 <Heffalump> got somewhere to live yet?
14:31:34 <augustss> nope
14:31:55 <augustss> but the bank will house us for a month while we are looking
14:32:08 <Heffalump> ah, nice
14:32:56 <augustss> we'll have quite a task ahead of us
14:34:03 <augustss> GMAG is gonna start using Paradise big time
14:34:10 <Heffalump> Paradise?
14:34:27 <augustss> that's name of the DSEL i've been implementing
14:34:30 <Heffalump> ah, ok
14:34:36 <dons> bringert: unless we can get hold of 3 or 4 others, for a hostel dorm, I think we should just book a hotel room.
14:34:40 <augustss> probably didn't have a name when you were there
14:34:46 * Heffalump will find out about all this stuff in a couple of weeks :-)
14:34:56 <jlouis> monochrom, That Fokinga paper is way cool!
14:36:29 <bringert> dons: do you know any hotels?
14:36:37 <bringert> Igloo: can you recommend anything?
14:36:52 <augustss> there must be some b&b's there
14:36:58 <Heffalump> B&B is probably best
14:37:03 <Heffalump> the central hotels are quite expensive
14:37:18 <Heffalump> the cheaper ones are designed for car use and are about three miles out of town
14:37:36 <bringert> good tip
14:38:58 <dons> bringert: I don't know of any. Can you check the web page, and query Igloo or dcoutts about something close and walkable from the hackathon?
14:39:26 <Heffalump> something in Norham Gardens would be ideal
14:39:46 <Heffalump> well, in terms of closeness to Comlab. Not so close to the centre of town.
14:40:45 <dons> yeah, i'm more interested in being close to the Comlab, since I hope to get a lot of code written and don't fancy wandering the streets at midnight :)
14:41:22 <Heffalump> Banbury Road and Woodstock Road might also have some places, but make sure you find ones at the right end
14:42:35 <Heffalump> http://www.cotswoldlodgehotel.activehotels.com/BBA&subid=R1543223 looks ok location-wise
14:42:40 <lambdabot> Title: Bed and Breakfast
14:42:45 <Heffalump> not sure whether the prices are reasonable or not
14:43:30 <dons> thanks for the tips, Heffalump
14:43:43 <Heffalump> http://www.lintonlodge.activehotels.com/BBA&subid=R1543223 is a bit further away and apparently a bit cheaper
14:43:46 <lambdabot> Title: Bed and Breakfast
14:46:30 <bringert> 80 / night for 2 ppl
14:46:56 <dons> so 40 each?
14:47:42 <bringert> yeah. is there any good way to express that unambiguously?
14:48:03 <dons> 40/night is fine with me
14:48:31 <dons> that's with two beds, right? :)
14:48:38 <augustss> 40/(night*person)
14:49:15 <dons> how far from the comlab is this place?
14:49:25 <Heffalump> about 15-20 mins walk (just under a mile)
14:49:48 <bringert> augustss: well, if you're only one person, it's not 40
14:49:48 <Heffalump> if you're looking at the second place
14:49:57 <Heffalump> about half that for the first palce
14:50:00 <Heffalump> s/palce/place/
14:50:13 <bringert> the first place cost 85
14:50:16 <Heffalump> the first place is on a main road so more vulnerable to traffic noise
14:50:26 <dons> ah ok. that sounds good walking distance
14:52:06 <dons> bringert: if its ok with you, then that's good for me. shall we book a room?
14:52:18 <dons> and we can put the detail on the website in case other people are wondering where to stay
14:52:33 <bringert> I'm probably paying out of my own pocket, so I wouldn't mind paying less. but it seems hard in oxford
14:53:11 <dons> that's fair enough. if you can find somewhere cheaper?
14:53:15 <bringert> dons: it says Double/ Twin Room, but the form doesn't let you choose
14:53:34 <Heffalump> My guess, not based on much personal experience, is that you won't get much lower.
14:54:16 <Heffalump> you guys know about travel, btw? (from Heathrow, just go to the bus station and get on the express coach to Oxford)
14:54:20 <bringert> ah, "This room can be set as a double or a twin; please state your preference at time of booking in the comments/ request section."
14:54:54 <bringert> dons: the closer place (cotswoldlogde) only has double, not twin
14:55:10 <dons> ok.
14:55:58 <dons> bringert: ah, you're arriving on the same morning at  Heathrow too, so we can catch the bus up
14:56:07 <dons> same morning as me. that's convenient
14:56:31 <bringert> yeah, you'll just have to hang out at Heathrow for a while.
14:56:34 <bringert> :-)
14:56:51 <Heffalump> is either of you arriving at terminal 4?
14:56:59 <wy> hi Cale
14:57:18 <bringert> terminal 3 for me
14:57:22 <dons> Heffalump: yeah, I am at 4
14:57:31 <Heffalump> ok, those are on two quite different sites
14:57:41 <dons> ah ok
14:57:50 <Heffalump> dons: but since you're arriving first, you could just get the tube or train to T1-3 - it's free
14:57:57 <dons> ok.
14:58:07 <dons> yeah, i've got 2 hours on bringert, so that should be doable
14:58:08 <bringert> Heffalump: where does the oxford bus leave from?
14:58:18 <fusion> hello all
14:58:19 <Heffalump> otherwise you'd have to communicate with bringert to make sure he got on the same bus you were on
14:58:27 <Heffalump> bringert: the "Central Bus Station"
14:58:32 <Heffalump> it's pretty easy to find
14:58:34 <bringert> is UK airport security still ridiculuously tight?
14:58:39 <_matthew-> anyone know of any good audio libraries for haskell?
14:58:52 <bringert> there's ALUT I think
14:58:55 <Heffalump> the last time I used it, the bus stop was towards the far end of the bus station after you come out of the lift
14:58:56 <bringert> never used it though
14:59:03 <_matthew-> bringert : tnx
14:59:05 <Heffalump> bringert: I haven't flown recently, but I get that impression
14:59:10 <fusion> I have a quick question about UTF-8 sources with GHC
14:59:26 <fusion> If anyone's used it, I heard this feature was added to 6.6 but haven't been able to make it work
14:59:46 <boulez> wy: http://paste.lisp.org/display/32657#1
14:59:52 <kfish> fusion, what's the question?
15:00:02 <bringert> dons: just checking, is this correct: "Check In: Wednesday 10 January 2007 for 2 nights Check Out: Friday 12 January 2007"
15:00:08 <dons> _matthew-: have a look on the 'Audio' page of haskell.org
15:00:14 <fusion> basically, does it work, or do I have to do something special to make it work?
15:00:27 * bringert messed up the dates for his and kosmikus' reservation for icfp
15:00:27 <kfish> fusion, http://bother.kfish.org/wiki/HaskellUTF8
15:00:29 <lambdabot> Title: HaskellUTF8 - kfish - Trac
15:00:29 <Heffalump> how are you going to get to the B&B from the bus?
15:00:38 <dons> bringert: I need to check out on Saturday
15:00:45 <fusion> thanks kfish
15:00:59 <fusion> that pretty much explains the situation. :)
15:01:03 <kfish> heh
15:01:11 <dons> so check in Wednesday 10 January 2007, checkout Saturday morning. i can pay for the extra night if you need to leave on Friday
15:01:21 <kfish> i'd like to be able to write function names in japanese, but alas :-)
15:01:23 <bringert> dons: yeah, I fly out on friday
15:01:30 <dons> ok. that's fine.
15:01:33 <fusion> kfish, is this an anticipated future feature?
15:01:40 <fusion> it's not a deal-breaker, but it would be nice
15:01:51 <beschmi> this one seems to be the cheapest, but about 1.5 mile to Cotswold:  http://www.activehotels.com/servlet/xmlbrochure/index.do?hotelid=116496&  59 per night, per room
15:01:54 <lambdabot> Title: Active Hotels - Eurobar Cafe & Hotel, Oxford, http://tinyurl.com/y66afu
15:02:00 <kfish> fusion, i dunno, i'm just a user of ghc too :-)
15:02:13 <dons> hey beschmi
15:02:22 <beschmi> hi dons
15:02:22 <Heffalump> beschmi: oh, that's quite close to Comlab too, in the other direction
15:02:24 <Heffalump> and quite central
15:02:37 <fusion> fair enough. :) well, thanks for your help
15:03:11 <beschmi> Heffalump: cool
15:03:23 <Heffalump> I wouldn't have expected that location to be cheaper.
15:03:50 <bringert> and it includes breakfast
15:04:31 <bringert> Heffalump and beschmi: thanks!
15:04:55 <bringert> ah, shared bathroom
15:05:02 <bringert> dons: is that a problem for you?
15:05:18 <Heffalump> if you go there, it's right by the coach station too
15:05:25 <bringert> great
15:05:25 <dons> bringert: no, not really.
15:05:30 <dons> and its near the bus stop, which looks good
15:05:42 <dons> beschmi: you looking to stay there too, then?
15:05:57 <beschmi> yes, looks fine for me
15:06:19 <dons> small number of rooms, so we better check they've got space
15:06:54 <syntaxfree> http://en.wikipedia.org/wiki/23_skidoo
15:08:43 <dons> ok. good. they even have a triple room?
15:08:59 <dons> 3 people + ensuite,  93 ?
15:09:46 <dons> http://www.activehotels.com/servlet/xmlbrochure/roomdetails.do?hotelid=116496&roomid=32521&trkref=BBA&language=en  ?
15:09:48 <lambdabot> Title: Room Details - Triple Room Ensuite, http://tinyurl.com/yaj9q3
15:09:50 <bringert> should we get that?
15:10:03 <dons> beschmi: what do you think?
15:10:09 <beschmi> sounds fine
15:10:18 <dons> ok. good. i'm happy with that too
15:10:25 <bringert> it doesn't say what the bed config is
15:10:48 <dons> they distinguish it from the 'family room'
15:11:26 <bringert> dons: do you want to book it, since you're staying the whole time
15:11:29 <dons> beschmi: when are you departing?
15:11:35 <dons> bringert: ok. i'll try
15:12:16 <Heffalump> google finds a phone number for them if you want to check about the bed config
15:12:43 <beschmi> dons: have to check my flight info, one moment please
15:14:01 <hyrax42> hmm
15:14:19 <hyrax42> how do I get ghc profling to give me usage by library functions?
15:15:07 <beschmi> dons: saturday morning too
15:15:36 <dons> ok good
15:15:46 <dons> i'll book the room now
15:16:03 <beschmi> dons: that would be great
15:16:47 <bringert> dons, beschmi: are you guys ok with just you two paying for the last night?
15:17:02 <beschmi> bringert, ok for me
15:17:28 <ihope> Can I import everything except Monad and its members from the Prelude easily?
15:17:28 <dons> yep. fine for me too
15:17:43 <Heffalump> ihope: yep, I've just done it
15:17:53 <Heffalump> import Prelude hiding (Monad (..))
15:18:18 <ihope> That exact line?
15:18:21 <Heffalump> yep
15:18:32 <ihope> And then import qualified Prelude (Monad (..)) as P?
15:18:34 <hyrax42> or a better question, still on profling
15:18:38 <Heffalump> with -fno-implicit-prelude, that lets me use my own >>= with do notation
15:18:45 <Heffalump> I guess so, if you want the real Monad too.
15:18:49 <hyrax42> with profiling enabled, with the agressive inlining of ghc be reduced?
15:18:58 <bringert> dons, beschmi: thanks!
15:19:06 <hyrax42> *will the ~
15:19:16 <ihope> Doesn't that import line implicitly -fno-implicit-prelude?
15:19:17 <bringert> maybe you can find someone to take that bed the last night
15:19:22 <bringert> in the pub
15:19:56 <dons> ok. booked!
15:20:00 <dons> i'll forward you the details
15:20:08 <bringert> thanks dons
15:20:23 <Heffalump> btw, on the bus, make sure you get a return, it's much cheaper than two singles
15:20:54 <dons> beschmi: is your mail address the @cloaked one?
15:21:25 <beschmi> yep
15:21:30 <dons> ok. good
15:22:38 <hyrax42> how can a funciton that just looks something up in an unboxed array count for 20% of time and allocation
15:22:42 <hyrax42> ug
15:23:08 <dons> hyrax42: could be bounds checks?
15:23:16 <hyrax42> hmm
15:23:21 <hyrax42> maybe I'll make it unsafeRead?
15:23:31 <dons> yeah, try that, if you know the bounds are safe
15:23:52 <hyrax42> ?type unsafeRead
15:23:53 <lambdabot> Not in scope: `unsafeRead'
15:23:57 <hyrax42> where does it live
15:24:10 <dons> Data.Array.Base
15:24:11 <hyrax42> I've never written a single "unsafe" thin in Haskell
15:24:22 <hyrax42> ?type Data.Array.Base.unsafeRead
15:24:24 <lambdabot> forall e (a :: * -> * -> *) (m :: * -> *) i. (Data.Array.Base.MArray a e m, Ix i) => a i e -> Int -> m e
15:24:38 <wy> boulez: Just back from house work... thanks a lot!
15:24:46 <hyrax42> hmm it's an immutable array
15:25:01 <hyrax42> ?docs Data.Array.Base
15:25:02 <lambdabot> Data.Array.Base not available
15:25:27 <hyrax42> ?fptools Data.Array.Base
15:25:27 <lambdabot> Data.Array.Base not available
15:25:40 <hyrax42> ?type Data.Array.Base.unsafeAt
15:25:41 <lambdabot> forall e (a :: * -> * -> *) i. (Data.Array.Base.IArray a e, Ix i) => a i e -> Int -> e
15:25:45 <hyrax42> that's what I need
15:27:19 <wy> boulez: I have yet to understand your comments. It seems to be correct. But does this have something to do with fixpoints?
15:27:34 <dons> hey droundy . welcome
15:27:42 <droundy> hey dons!
15:28:16 <dons> bringert: , beschmi, the hackathon hotel details should be in your mail box :)
15:28:31 <boulez> wy: I don't know
15:28:43 <dons> droundy: I hear you were hanging out with my supervisor, Manuel, last week (or the week before)? :)
15:28:47 <bringert> dons: got it. thanks!
15:28:56 <wy> boulez: OK. I think I understand now!
15:29:00 <droundy> And I didn't even know it!! :)
15:29:18 <droundy> I'm actually looking for more phantom types advice...
15:29:21 <beschmi> dons: thanks, got the mail too
15:29:21 <Heffalump> oh, hi droundy
15:29:32 <Heffalump> I was just experimenting with changing the prelude Monad
15:29:40 <droundy> Hi Heffalump, I was just coming here to ask about that.
15:29:50 <droundy> And was finishing off a response to your email.
15:30:02 <Heffalump> cool
15:30:23 <Heffalump> it's a bit late here so I can't stop for too long
15:30:41 <boulez> wy: well maybe I explained it badly; I remember reading that part of the book a while ago and I didn't understand it either, so of course I should be skeptical of my answer now
15:30:43 <droundy> With a higher-kinded monad and phantom existential witness types, darcs would be very fun... (not that it isn't already...)
15:31:05 <hyrax42> dons: do you know a quick way to get profiler to report stats for certain library functions?
15:31:09 <sjanssen> @remember droundy With a higher-kinded monad and phantom existential witness types, darcs would be very fun... (not that it isn't already...)
15:31:35 <sjanssen> a quote notable for it's extreme use of Haskell jargon :)
15:31:38 <droundy> I keep wishing we could make IO an instance of WitnessMonad, but can't see how to do that when it's got the wrong kind.  :(
15:31:41 <Heffalump> it's no more higher kinded than it was before, AFAIK
15:31:54 <Heffalump> I think it could be wrapped.
15:31:55 <wy> boulez: I think you are right. When we do the lookup, we don't actually need the addr of the value
15:32:04 <Heffalump> just import the real one qualified
15:32:35 <droundy> class WitnessMonad (m w w' ())  so m :: * -> * -> * -> *
15:32:46 <droundy> vs IO :: * -> *
15:32:59 <Heffalump> yes, but we could just wrap IO
15:33:15 <Heffalump> but I don't see the benefit
15:33:21 <droundy> but then all calls would need to be wrapped, right? That's what annoys me.
15:33:39 <Heffalump> with something like liftIO, yeah
15:33:51 <droundy> you don't see what benefit? the benefit of WitnessMonad?
15:33:56 <wy> boulez: addr is something packaged up inside "instantiate val heap (if isrec then (bindings++env) else env)"
15:33:57 <Heffalump> no, the benefit of using it for IO
15:33:57 <Igloo> droundy: Any idea OTTOYH why darcs get --partial of the GHC repo might break with a failure to read patch in get_extra??
15:34:19 <Heffalump> (except that we might want to use IO in the same file as something using WitnessMonad)
15:34:35 <droundy> Igloo: is there a --tag flag on the darcs get?
15:34:46 <Igloo> Nope
15:34:54 <Heffalump> WitnessMonad is useful essentially only for a state monad that holds a repository
15:34:57 <wy> boulez: So you've finished reading this book?
15:35:13 <droundy> Heffalump: that's the idea, WitnessMonad will almost always be used in darcs command files (e.g. Pull.lhs).  Not just state monads...
15:36:15 <Heffalump> I'm not sure if we're on the same wavelength - my point is (a) that it's only actually useful for state monads holding a repo but (b) using it with do notation in a file forces all other do notation in the same file to use the same monad class
15:36:27 <droundy> I'd want something like  withRepoLock to put us into a WitnessMonad so that we could safely modify the repository, and as we make changes we're always sure that we're still putting correct patches into it.
15:36:28 <boulez> wy: yes, it's a 'thunk', I guess. no, I did not get very far with the book
15:36:37 <Heffalump> ok
15:36:40 <droundy> Heffalump: Yes, that's the trouble.
15:36:58 <droundy> We almost always want to do IO in same file where we use WitnessMonad.
15:37:15 <droundy> Igloo: No idea.  It seems very wrong.
15:37:43 <Heffalump> I suggest simply having a module that wraps all the IO operations that are needed into a replacement IO type
15:37:50 <Igloo> Yeah, but then so does the unrecord failure
15:37:53 <Heffalump> it'll be a pain, but it won't infect the main code using it
15:38:19 <droundy> Actually, I have another idea.  What if we make (>>=) accept polymorphic actions in a class?
15:38:26 <Heffalump> alternatively, it might be possible to use Template Haskell
15:38:29 <wy> boulez: But this thunk seems have to be take apart, because instantiate val heap (if isrec then (bindings++env) else env) returns a pair, and only the second part is needed.
15:38:38 <Heffalump> what type do you suggest it should have?
15:38:42 <MarcWeber> Is anyone using c2hs with cabal? How do I specify which header file is used corresponding to a .chs file?
15:39:58 <droundy> Heffalump: one moment...
15:41:07 <droundy> (>>=) :: (Witness m w w' m' , Witness m w' w'' m'') => m' a -> (a -> m'' b) -> m w w'' b
15:41:11 <sorear> The major problem I see is that the Haskell class system appears to only be able to express affirmatives (YYou CAN do this), in much the same way that the strictly polymorphic lambda typesystems (no F or forall) seem unable to express negation.
15:41:23 <boulez> wy: at what point do you think the second part is needed?
15:41:43 * Heffalump 's head explodes
15:41:55 <droundy> Heffalump: That's going to require scary functional dependencies or type-level functions...
15:42:05 <Heffalump> but m w w'' doesn't look like it could be IO
15:42:18 <droundy> No, here m'' or m' would be IO
15:42:25 <Heffalump> but the result type needs to be IO too
15:42:36 <sorear> With only affirmatives, it appears neccessary to force strict nesting; for example in RIO region allocation must be nested because the only constraints are of the form Elem (ReadRef a) o.
15:43:12 <droundy> No, the result type will be a related WitnessMonad as I'm thinking at the moment.  So we'd need wrapping, but just at the very outside.
15:43:41 <droundy> instance Witness RepositoryIO w w IO (or something like that)
15:43:57 <droundy> Maybe that's not best...
15:44:02 <Heffalump> I think just having a module to wrap all the standard IO operations would be much simpler.
15:44:09 <droundy> Or how about...
15:44:46 <droundy> (>>=) :: (Witness m w w' m' , Witness m w' w'' m'', Witness m w w'' m''') => m' a -> (a -> m'' b) -> m''' b
15:44:46 <sorear> droundy: is *all* you want to do, restricting repository access to specific functions?
15:45:23 <Heffalump> sorear: no. The key point is to track repository states in the type system to reduce the chances of doing bad things to them.
15:45:26 <droundy> No, I want to restrict repository access to the use of functions applied to patches that are valid when applied to that repository, which is something that will change with each change to the repository.
15:45:57 * Heffalump goes off to experiment with droundy's type, against his better judgement
15:46:38 * droundy likes having friends like Heffalump who will are willing to try crazy things...
15:47:57 <dons> hehe
15:48:11 <Heffalump> oh, wait. I don't know what should be in the actual type class Witness.
15:48:22 <droundy> I'm thinking something like
15:48:31 <Heffalump> (>>=) isn't just a simple member of Witness, because it relies on three different Witness constraints.
15:48:43 <dons> kowey++ http://koweycode.blogspot.com/2006/12/its-alive.html
15:48:46 <droundy> Witness doesn't have any functions in it, it's a phantom class.
15:48:48 <lambdabot> Title: koweycode: It's alive!
15:48:48 <Heffalump> oh, maybe I can make those constraints preconditions for WitnessMonad
15:49:48 <droundy> Or perhaps:  instance Monad m => Witness (m () () m)
15:50:07 <Heffalump> that's an instance, not a class
15:50:56 <droundy> Witness doesn't have any functions.
15:51:04 <droundy> I'm thinking now I prefer:
15:51:48 <droundy> (>>=) :: (Witness m w w' , Witness m' w' w'', Witness m'' w w'') => m a -> (a -> m' b) -> m'' b
15:52:36 <droundy> where I'm not sure what class (>>=) should live in.
15:52:36 <Heffalump> that doesn't tie m,m',m'' to the underlying monad type
15:52:43 * Heffalump has a rough idea and is experimenting
15:52:54 <droundy> Okay, I'll shut up and experiment myself.
15:53:07 <sorear> I understand there is a project to add last-use types to Haskell.  What if you had repo handles, which have state information in there types; each mutilator is the last use of the repository, and creates a new one with a related (fundeps) type.
15:54:08 <droundy> What are last-use types?
15:54:27 <Heffalump> ok, my rough idea falls at the first hurdle because class preconditions appear not to allow variables that aren't in the class being defined
15:55:05 * Heffalump returns to his original position that this idea is too complicated when we could just have a module to wrap IO or even use Template Haskell.
15:55:35 <Pupeno> [OT] Does anybody know about any project, group or person who have been thinking about something better that can replace 'the web' ? (everytime I have to do something with it I end up wanting to jump of a bridge)
15:55:37 <wy> boulez: When it's variable is looked up
15:55:53 <Heffalump> Pupeno: Tim B-L and web 2.0?
15:56:09 <wy> boulez: How do you like this book? Actually I don't like too much about his style
15:56:37 <Pupeno> Heffalump: if by web 2.0 you mean ajax, I'd still want to jump of the bridge but I'll vomit first.
15:56:38 <sorear> Clean, a lazy functional language that predates monads, did IO using an extension called 'uniqueness types', which were designed such that *at the type level* you had to use RealWorld tokens in a single-threaded way.
15:57:02 <Heffalump> web 2.0 is the semantic web stuff AFAIK
15:57:07 <Heffalump> not AJAX
15:57:28 <wy> boulez: some functions are seperated into too small modules and for every module he will write a type declaration
15:57:47 <droundy> Heffalump: what I want is type-level functions.  Manuel is just too slow...
15:58:25 <Pupeno> Heffalump: what most people mean with web 2.0 is this new trends to give some more power to the users... I don't think they mean the semantic web... at any rate, I am talking about not using HTML... maybe not even HTTP.
15:58:42 <boulez> wy: when you look up the address of 'x' in the environment, you'll point to the thunk that, when evaluated, will contain x's address. If you had 'let x = y; y = 3 in body' and body never used 'x', you'd never have to evaluate x's address
15:58:50 <Heffalump> droundy: :-)
15:59:03 <Heffalump> Pupeno: hmm, ok. Well I meant the semantic web, then.
15:59:19 <droundy> class WitnessMonad wm where { type W wm a b; (>>=) :: W wm a b -> W wm b c -> W wm a c; }
15:59:38 <Heffalump> ah, yes.
15:59:43 <Heffalump> That's exactly what we want.
15:59:51 <droundy> instance WitnessMonad IO where { W IO _ _ = IO; }
16:00:37 <Heffalump> well, how about a nice simple module to wrap IO until we get that? :-)
16:01:05 <boulez> wy: if you had 'let x = y; y = 3 in x' and you evaluated this entire expression, then you will need to evaluate 'x's address; but in doing that you need 'y's address, and you don't need 'y's address to evaluate 'x's; and as I said, you can search the entire environment without actually evaluating any addresses
16:01:10 <droundy> oops... class WitnessMonad wm where { type W wm a b; (>>=) :: W wm a b x -> (x -> W wm b c y) -> W wm a c y; }
16:01:30 <droundy> Heffalump: But that's so ugly!!!
16:01:44 * droundy cries like a baby having a tantrum when he can't get his way...
16:01:46 <wy> boulez: Yes. When x is used in body, it will try to find y. And consequently evaluate (y, the-thunk-produce-y's-address)
16:01:47 <boulez> wy: the problem I had the book was that sometimes the concepts were explained with code
16:01:53 <Heffalump> well, I don't think it's that ugly, but more to the point any ugliness can be hidden in one place
16:02:00 <droundy> True.
16:02:14 <boulez> wy: yes, and the-thunk-that-produce's-y's-address won't refer to the-thunk-that-produces-x's-address
16:02:15 <Heffalump> I certainly think it's less ugly than using unsafeCoerce# in the bowels of the patch code
16:02:18 <hyrax42> hmm I'm feeling a little unsafe
16:02:40 <droundy> And it could serve as a sort of policy-enforcer, since we wouldn't wrap any code we thought was inappropriate for use in darcs (e.g. readFile)
16:02:44 <hyrax42> I think when I get back from dinner I'll go all out and unsafeFreeze/Thaw some goodness
16:02:48 <boulez> wy: it all depends on laziness of pairs as far as I can tell
16:02:49 <Heffalump> right
16:03:05 <wy> boulez: I'm thinking about that doesn't this have some connection with fixpoints?
16:03:17 <Heffalump> but you would lose the modularity of the existing set of IO functions
16:03:29 <Heffalump> (in the sense of different IO functions being imported from different places)
16:03:46 <Heffalump> oh, I guess the structure could be duplicated
16:03:52 <droundy> Right.  And we'd have to risk duplicating some things.
16:04:11 <wy> boulez: If fixpoints can be implemented this way, that'll be very good
16:04:25 <droundy> The worst thing is that the choice of monads has to be made at a file-level granularity.  :(  I don't like that at all.
16:04:43 <Heffalump> yeah, that's ugly.
16:04:51 <Heffalump> Template Haskell could be used to work around that, I think.
16:05:11 <wy> boulez: however this book is all I have. I guess I'll continue reading, but I must modify his code as I go
16:05:20 <boulez> wy: afraid I don't know enough about fixpoints. How do you know about them?
16:06:00 <droundy> i'll play with it a bit and see if I can come up with something clever.  I do wish I had more clever Haskell people around I could talk with in person.
16:06:05 <boulez> wy: does the book mention fixpoints at all?
16:06:32 <wy> boulez: We were taking a programming class last semester and letrec is implemented with fixpoint operators. But we never touched laziness or call-by-need in our class
16:07:35 * hyrax42 needs help coming up with a decently nerdy haskellish name for his AI bot
16:07:42 <wy> boulez: Do you have some suggestions about other books?
16:07:48 <hyrax42> the game is called Smess or All the King's Men
16:08:08 <hyrax42> hsmess ?  lambdabot ? ;)
16:08:38 <ray> some play on 'king'
16:08:46 <ray> the possibilities are endless
16:08:59 <hyrax42> also I'm hoping to have an unsafe variant
16:09:07 <hyrax42> well a mutable state variant
16:09:49 <hyrax42> the possibilities are endless indeed
16:11:50 <boulez> wy: Peyton-Jones also has a book called 'The Implementation of Functional Programming Languages' (yes, similar title), which is a lot longer. It doesn't have much code for the back-end (but it does have some for type-checking and pattern-matching)
16:11:52 <scodil> so, if i've got a string that's a white-space delimited list of numbers (floats, lets say), whats the best way to parse it? i'm thinking some combination of scan and reads, but its not coming to me at the moment
16:13:06 <hyrax42> (map read) . words?
16:13:13 <boulez> wy: http://research.microsoft.com/~simonpj/papers/slpj-book-1987/index.htm
16:13:15 <lambdabot> Title: The Implementation of Functional Programming Languages, http://tinyurl.com/fvgtw
16:13:38 <boulez> wy: might want to try looking at 'Y combinator' in the index
16:13:50 <hyrax42> scodil: (map read) . words?
16:14:18 <scodil> hyrax42: thats it. thank you
16:14:41 <hyrax42> np :)
16:15:06 <sorear> is System.IO supposed to be threadsafe?
16:16:09 <Lemmih> sorear: I believe so, yes.
16:18:15 <boulez> wy: both books use a simple language to compile (in your book, Core), but they're slightly different, so you might have to be careful when combining information from both books
16:18:21 <Heffalump> right, bed
16:21:09 <xpika> I've installed ghc
16:21:22 <xpika> where is the runhaskell program?
16:22:04 <Pseudonym> Try "runghc".
16:22:22 <Saulzar> They should both be in the path...
16:22:44 <Pseudonym> "Run GHC", by the way, is a lesser-known 80s kip hop group.
16:22:56 <monochrom> "ghc", "ghci", "runghc", and "runhaskell" are in the same place
16:23:13 <Pseudonym> hip hop, of course
16:28:54 <xpika> i thought it was rundmc.
16:29:31 <Randroid> xpika: That's the joke. Play on words.
16:29:56 <jlouis> run-GHC added more STATIC noise to their tracks than run dmc
16:30:37 <xpika> Randroid: Tricky Tricky
16:30:40 <Randroid> Later there was Run GHB, and in Korea there's Run DMZ.
16:31:02 <Randroid> I'll stop now.
16:31:58 <xpika> see ghc, see ghc run, run damn you ghc, run!
16:32:13 <wy> boulez: Thanks. I was away doing more house work... I hate Sundays
16:33:14 <Adamant> hey, does anyone remember the name of those exercises, originally in Ruby, that were ported to Haskell and were on Haskell.org a while back?
16:33:28 <Adamant> my search-fu is weak, and I'm trying to find them for a friend.
16:34:10 <sorear> Ruby Quiz
16:34:24 <Adamant> thanks! :)
16:34:35 <sorear> ?go Ruby Quiz
16:34:36 <lambdabot> http://rubyquiz.com/
16:34:36 <lambdabot> Title: Ruby Quiz
16:39:04 <hyrax42> ?type fromMaybe
16:39:05 <lambdabot> forall a. a -> Maybe a -> a
16:39:26 <hyrax42> ?type maybe
16:39:28 <lambdabot> forall b a. b -> (a -> b) -> Maybe a -> b
16:39:34 <hyrax42> I always get those confused :/
16:39:55 <droundy> ?type fromJust
16:39:57 <lambdabot> forall a. Maybe a -> a
16:40:07 <droundy> Ah, I see the difference...
16:40:14 <int-e> @index fromNothing
16:40:15 <lambdabot> bzzt
16:40:17 <hyrax42> yeah, and all very similarly named
16:40:35 <hyrax42> fromNothing = erorr "you're stupid" ? ;)
16:40:44 <droundy> :)
16:41:04 <droundy> or fromNothing :: a -> Maybe a -> a
16:41:21 <int-e> hyrax42: no, fromNothing Nothing = (); fromNothing (Just _) = error "fromNothing (Just _)"
16:41:29 <int-e> ;)
16:41:34 <hyrax42> ?type fromMaybe
16:41:36 <lambdabot> forall a. a -> Maybe a -> a
16:41:41 <hyrax42> droundy: ^^
16:41:48 <hyrax42> see, they all have confusing names
16:41:53 <hyrax42> anyway, I'm out for now
16:42:22 <bd_> :t fromNothing
16:42:24 <lambdabot> Not in scope: `fromNothing'
16:42:25 <bd_> tsk
16:42:47 <bd_> @hoogle Monad a => Maybe a -> m a
16:42:48 <sorear> how'd you get the unit :)
16:42:48 <lambdabot> Maybe.fromJust :: Maybe a -> a
16:42:49 <lambdabot> Maybe.fromMaybe :: a -> Maybe a -> a
16:42:49 <lambdabot> Prelude.maybe :: b -> (a -> b) -> Maybe a -> b
16:43:12 <sorear> bd_: Data.Generics.Serialization.Standard.fromMaybeM
16:44:04 <bd_> Kind of an obscure place for that oO
16:45:01 <sorear> it belongs in base; but I had to rewrite it, and so it's in genericserialize's domain specific utility library.
16:45:08 <bd_> is that MissingH?
16:45:31 <sorear> No, it probably should be moved there
16:54:29 <reppie> did you know that there are exactly 23000 primes less than 2^18?
16:56:30 <dons> Igloo: thanks for the feedback on that popen stuff
16:57:44 <kfish> dons: just reading that, where do you get the exit value from?
16:58:16 <kfish> ie. is that using the processes exit code to determine success or failure?
16:58:24 <dons> waitProcess or what it is
16:58:37 <dons> and yeah. it is. just a little hack
16:58:55 <kfish> because the meaning of exit codes is application specific
16:59:07 <kfish> there are conventions, like 0 meaning success, but not everything follows them
16:59:12 <reppie> did you know that 3^3+4^3+5^3=6^3?
16:59:20 <dons> kfish: right . so we should just return the exitCode
16:59:24 <kfish> yeah
16:59:25 <dons> and not map it to faiure
16:59:43 <kfish> and being haskell, i think returning the output as a lazy string would be kinda neat
16:59:48 <dons> so the generic interface would return a tiple of (Stdout, Stderr , Exitcode)
16:59:50 <kfish> rather than waiting for termination before printing anything
17:00:00 <dons> yeah, I was thinking about that
17:00:04 <kfish> that sounds a bit more useful, yeah
17:00:16 <dons> start returning a lazy string, and have an hClose kick in at the end
17:00:16 <monochrom> reppie: interesting!
17:00:28 <allbery_b> anything that doesn't exit nonzero on failure and zero on success is broken and should be fixed.
17:00:36 <kfish> i've used that kind of thing in some python web apps a bit, that pretty up the output of cmdline programs
17:02:14 <kfish> dons: eg a similar thing in python: http://trac.annodex.net/browser/annodex-validator/trunk/anxvalidator/pipeoutput.py
17:02:18 <lambdabot> Title: /annodex-validator/trunk/anxvalidator/pipeoutput.py - Annodex.net - Trac, http://tinyurl.com/y63os6
17:02:59 <dons> ah right. nice.
17:03:32 <kfish> dons: that example is from a program that validates media files from a remote URL, hence it streams in MBs of data
17:03:57 <kfish> dons: which is the kind of situation where a lazy interface is nice :-)
17:04:46 <dons> yeah
17:16:58 <shankys> Could someone help me understand Data.IORef? It's used in some code I want to hack on, but I don't really understand what it's for or what it does (something with monads I know)...
17:19:05 <Saulzar> shankys: It's like a mutable variable essentially
17:19:43 <Saulzar> shankys: You create one with: x <- newIORef 10   (of type IORef Integer - for example)
17:20:16 <notsmack> what's the haskell DB library of choice?
17:20:26 <allbery_b> my understanding is that you use them for things like thread synchronization which can't be done any other way (except they can), unless you're Bulat in which case you use them to turn haskell into python-minus-minus :)
17:20:28 <Saulzar> shankys: Then you can read/write to them with readIORef/writeIORef, for example:   value <- readIORef x  (value = 10)
17:20:50 <shankys> Saulzar: Ok, thanks. That's actually pretty simple...
17:21:30 <Saulzar> MVars are for thread synchronization, IORefs are just a simple mutable variable
17:22:43 <allbery_b> "except you can" --- I'm hard put to come up with many legitimate reasons to use global vars, really
17:24:22 * allbery_b disapproves of mutable global state in general, even in something like a perl script
17:24:38 <Saulzar> Well, they're not global unless you're doing unsafePerformIO nasties too :)
17:25:05 * emu has an unsafePerformIO $ newTVar in a logging module :/
17:25:29 <emu> can't think of a way to get rid of it though
17:26:37 <allbery_b> threadsafe i/o foo?  that's legit.
17:58:23 <wy> What's the command that shows which files are managed by darcs?
17:59:00 <notsmack> darcs query manifest?
17:59:47 <wy> Thanks! This is it
18:04:36 <jcreigh> parsec++
18:05:08 <jcreigh> Parsing shouldn't be this easy. :)
18:11:21 <wy> Is there a way to find all list operation functions?
18:12:16 <kfish> ?docs Data.List for example?
18:12:16 <dylan> @hoogle [a] -> [a]
18:12:17 <lambdabot> Data.List for example? not available
18:12:17 <lambdabot> Prelude.cycle :: [a] -> [a]
18:12:18 <lambdabot> Prelude.init :: [a] -> [a]
18:12:18 <lambdabot> Prelude.reverse :: [a] -> [a]
18:12:28 <kfish> ?docs Data.List
18:12:29 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Data-List.html
18:12:40 <shankys> bringert: I'm changing some stuff around in dyn-cgi, but I was wondering if you could tell me how the handleRequestion function works. I'm not really sure what `thenCGIE` does.
18:13:15 <shankys> *handleRequest
18:13:55 <bringert> thenCGIE is just a cheesy >>= as far as i remember
18:14:19 <shankys> bringert: Ok.
18:17:57 <shankys> bringert: I actually just want dyn-cgi to only find one .hs file, and then continually interpret it without looking at the browsers path. I want to then use that one .hs file to do all the redirecting. That way you could have nice URLs like localhost/vruit/login. I was thinking I'd change around handleRequest to do that. Do you have any pointers for me?
18:18:38 <bringert> shankys: where does it redirect to?
18:19:02 <bringert> ah, does it load the handlers has haskell modules?
18:19:13 <bringert> s/has/as/
18:19:13 <shankys> bringert: I have functions in various .hs files that I run renderHtml on.
18:19:49 <bringert> ok, so you don't want to care about PATH_INFO. that should make dynhs a bit simpler
18:20:45 <shankys> bringert: Yeah, I figured I should take out some stuff.
18:21:31 <shankys> bringert: So would changing stuff around in handleRequest be enough?
18:22:23 <bringert> shankys: I think so, but you could get rid of a lot more stuff
18:22:48 <shankys> bringert: Like what else could I get rid of?
18:23:30 <bringert> shankys: I really like this idea. it simplifies dynhs.hs a lot, and gives you more flexibility
18:24:08 <shankys> bringert: Yeah, I thought this was cleaner too. We're writing a routing system for the framework that takes care of some of this other stuff.
18:25:47 <bringert> shankys: you can drop att the Sessions stuff, findFile and getProg can be removed. Instead, do initGHC packageDir at start-up and loadProg on ever request
18:26:51 <bringert> so basically handleRequest s = loadProg s "handler.hs" >>= runProg
18:27:10 <shankys> bringert: Yup, that's a whole lot simpler.
18:27:22 <bringert> and initGHC packageDir instead of newSessions
18:28:06 <bringert> you should be able to drop the current directory and CGI vars messiness
18:28:32 <bringert> one issue is how to handle showing source code, if you want to keep that
18:29:02 <bringert> you could have source.hs compiled into source.fcgi and use that directly
18:29:27 <bringert> that doesn't have to be run interpreted I guess
18:30:05 <shankys> bringert: Yeah, it doesn't matter to me if some of this stuff is slow. I just really want this dyn-cgi idea to work for ease of development.
18:32:32 <Lemmih> Marc Weber, are you on IRC?
19:02:22 <jcreigh> dons++ that typeOf script sure is handy
19:03:25 <fridim> Hi, i'am a newbie in haskell \o/
19:04:15 <fridim> "As part of this we welcome newbies [...]"  :]
19:06:15 <jbalint> i see ord and chr as functions called in craft2e (http://www.cs.kent.ac.uk/people/staff/sjt/craft2e/Code/Chapter3.hs) , but that doesnt seem to be a standard function, how can i access it?
19:06:17 <dons> welcome!
19:06:19 <lambdabot> http://tinyurl.com/y6j4kz
19:06:29 <jcreigh> fridim: Hi. I'm fairly new to Haskell as well. The cool thing about Haskell is that the languague is so rich, almost everybody is a newbie. :)
19:06:31 <dons> jbalint: there's in Data.Char now
19:06:46 <dons> so import Data.Char (or use :m + Data.Char in the interpreter)
19:06:49 <jbalint> dons: perfect, thanks!
19:07:38 <brent[]> hi, reading dons tutorial, the part i dont grok is  "foldr insert empty pairs"
19:08:02 <brent[]> that's to make a hash / map from a list of pairs??
19:08:23 <Eidolos> dons has a tutorial? Where! :)
19:08:31 <brent[]> s/tutorial/blog/
19:08:45 <brent[]> http://cgi.cse.unsw.edu.au/~dons/blog/2006/12/16#programming-haskell-intro
19:08:46 <lambdabot> Title: Haskell hacking, http://tinyurl.com/yz4kdc
19:08:56 <Eidolos> Thanks
19:09:46 <jcreigh> brent[]: Yes, that's what it does. How familar are you with folds?
19:10:24 <brent[]> so-so, i'm less confident with the empty
19:10:32 <brent[]> i looked up the def
19:10:52 <brent[]> empty :: Map k a
19:11:22 <brent[]> what does that mean?
19:11:24 <jcreigh> brent[]: I believe "empty" here is Data.Map.empty (ie, a map with no elements, like [] is a list with no elements.)
19:12:08 <brent[]> so empty creates the key value pair and then the fold r fills it?
19:12:12 <brent[]> foldr
19:12:15 <Excedrin> something that doesn't have "->" in the type signature is a value, as opposed to a function
19:13:13 <brent[]> Excedrin: so that means that empty _is_ the key,value
19:14:51 <sorear> jbalint:
19:15:00 <sorear> > fromEnum 65
19:15:02 <lambdabot>  65
19:15:03 <sorear> > fromEnum 65 :: Char
19:15:04 <lambdabot>  Couldn't match `Char' against `Int'
19:15:05 <brent[]> ?
19:15:12 <sorear> > toEnum 65 :: Char
19:15:14 <lambdabot>  'A'
19:15:34 <jcreigh> empty is used as the starting value for the fold. for instance, if you wanted to sum up a list, you might say foldr (+) 0 [1,2,3] which expands to (1 + (2 + (3 + 0)))
19:15:47 <jbalint> sorear: thanks
19:16:47 <brent[]> jcreigh: ahh, thanks.
19:16:51 <jcreigh> so foldr here expands to something like (insert pair1 (insert pair2 (insert pair3 empty)))
19:20:45 <Eidolos> dons: You might like to mention that interact is a lot like Perl's -p switch. :)
19:21:24 <Eidolos> Oh wait, not quite.
19:21:31 <brent[]> ok. and why cant that line just read    grades = fromList pairs ?
19:21:33 <Eidolos> interact takes all the input, not line-by-line.
19:22:26 <allbery_b> interact takes all the data however you swallow it.  perl does the same if you $/ = undef
19:22:39 <allbery_b> or other convenient setting
19:22:57 <Eidolos> nod
19:24:08 <jcreigh> brent[]: I think it's because the same student can have multiple grandes, so it's not just a simple insert...
19:25:07 <jcreigh> *grades
19:25:12 <brent[]> that's what i thought, but i get an error when i run as is with multiple grades.
19:25:26 <brent[]> and an error when i run with fromList with only 1 grade
19:25:49 <jcreigh> hmm, that's odd. I'll try it out.
19:26:01 <sorear> perl + $/=undef swallows all the data and processes it.
19:26:15 <sorear> Haskell + interact uses lazy IO
19:26:30 <Eidolos> Ah, dons does eventually mention perl -p :)
19:26:57 <shankys> bringert: How do the paths for loadProg and runProg work? I'm having some trouble getting those to work for me...
19:28:33 <brent[]> jcreigh: does that split line look like it supports multiple scores?
19:28:39 <jcreigh> brent[]: Works For Me(TM) How are you running it?
19:29:03 <brent[]> runhaskell grades.hs
19:29:08 <Eidolos> ?hoogle mapM_
19:29:09 <lambdabot> Prelude.mapM_ :: Monad m => (a -> m b) -> [a] -> m ()
19:29:09 <lambdabot> Data.FunctorM.fmapM_ :: (FunctorM f, Monad m) => (a -> m b) -> f a -> m ()
19:29:22 <jcreigh> brent[]: it supports multiple grades by multiple occurences of the same student in a file, not multiple grades on the same line.
19:29:33 <jcreigh> @paste
19:29:33 <lambdabot> http://paste.lisp.org/new/haskell
19:29:42 <brent[]> jcreigh: doh! ok. that's it.
19:30:13 <lisppaste2> jcreigh pasted "Here's what my input/output looks like" at http://paste.lisp.org/display/32756
19:35:55 <kermitthehermit> Is there a point-free way to compose foo::c->d with bar::a->b->c ?
19:36:15 <augustss> yes
19:36:18 <kermitthehermit> So you can say something like gak::a->b->d = foo . bar ?
19:36:37 <augustss> Use the power of @pl :)
19:37:17 <augustss> @pl \ a b -> foo (bar a b)
19:37:18 <lambdabot> (foo .) . bar
19:37:49 <kermitthehermit> What a smart bot.
19:37:59 <augustss> it is indeed
19:38:39 <jcreigh> @pl \a b c -> foo (bar a b c)
19:38:40 <lambdabot> ((foo .) .) . bar
19:39:00 <augustss> @pl \ a b -> a b b b b b b b b b b b b
19:39:15 <lambdabot> join . join . join . join . join . join . join . join . join . join . join
19:39:16 <lambdabot> optimization suspended, use @pl-resume to continue.
19:43:26 <scodil> if I declare a constant, say "x = 5", what is the type of x? I've got "root3 = sqrt 3" and the the type checker is complaining when I try to match it with a Float, 'cause it thinks its a Double
19:43:59 <dylan> try
19:44:03 <dylan> x :: Float
19:44:05 <dylan> x = 5
19:44:21 <scodil> yeah sure but I'd like it to be more general
19:44:39 <scodil> same as if i substituted the literal in every instance of x
19:44:39 <augustss> x :: (Num a) -> a; x = 5
19:44:55 <scodil> so why would the typechecker complain then?
19:44:56 <dylan> x :: Num a => a?
19:45:00 <augustss> except that should be =>
19:45:59 <augustss> scodil: you have run into an ugly wart called the monomorphism restriction
19:45:59 <scodil> oh ok that did it. why do I need to provide that type annotation? why doesn't it default to the most general type?
19:46:08 <scodil> oh
19:46:26 <augustss> There is also a compiler flag to turn it off
19:46:38 <scodil> is there a one sentence explanation of the monomorphism restriction?
19:47:13 <augustss> if what you are defining is not a function it will not be overloaded (by default).
19:47:31 <scodil> lame
19:47:36 <augustss> yep
19:47:37 <scodil> so what about undefined?
19:47:50 <augustss> it's not overloaded, it's polymorphic
19:48:06 <augustss> it has type a
19:48:38 <augustss> it's only types (...) => t that it refuses to assign to non-functions
19:49:02 <augustss> so [] has type [a]
19:49:41 <augustss> it's a bit lame, even if there are reasonable performance arguments for the monomorphism restriction
19:50:01 <sorear> *gives up* Does anyone here understand the interactions between concurrency and signals?  I've got a terminal interface library, and my SIGCONT handler isn't being called while a blocking keyboard read is in progress.
19:53:37 <Excedrin> does strace reveal anything?
19:54:29 <Mehdi> could anyone recommend me with a good book on haskell/functional programming?
19:54:54 <Mehdi> i'm a second semester senior, comp sci major... so i'm looking for something that is introductory, but isn't totally for noobs
19:59:50 <sorear> strace reveals... that the program is constantly waking up with SIGALRM when all threads should be asleep (threaded RTS), but no information on why the handler is waiting for the IO to finish before interrupting the IO.
20:01:13 <sorear> ah, I've found -debug + +RTS -Ds ; back soon...
20:02:10 <sieni> sorear: in general concurrency and signals suck together if you want something to work on all platforms
20:03:15 <sieni> you probably should have one os thread waiting in sigwait() and to process the received signals and block the signals from all other threads
20:03:16 <scodil> Mehdi: I liked haskell school of expression, but thats the only one i read. it will only be 2/3rds useful if you're all at familiar with lisp/fp, but its still good
20:04:44 <sorear> how do I call sigwait from Haskell? how do I block signals from an OS thread? (I assume you are referring to forkOS as opposed to GHC capabilities)
20:05:51 <sieni> No I'm referring to Posix :-)
20:06:22 <kfish> brent[], dons, i agree that foldr line probably isn't obvious to that tutorial's audience -- probably could be explained by saying that the one line foldr is similar to a complete for loop :-)
20:06:27 <sieni> man sigwait, man pthread_sigmask, man sigprocmask
20:07:31 <sorear> I'd wanted to do as much as possible from Haskell :)
20:08:05 <sorear> Now that I know I need to rewrite my input routines in C... <shudder> <deep breath> <hold nose>
20:10:33 <SamB_XP> forkOS does fork an OS thread...
20:10:43 <SamB_XP> or rather, start...
20:10:43 <brent[]> kfish: true, there is a lot in that line. but all in all, i like the style of the post.
20:11:27 <sorear> but how do I implement the "block signals from all other threads"?
20:12:32 <SamB_XP> those SIGALRMs -- aren't they from the GHC RTS?
20:12:44 <SamB_XP> or for it, anyway?
20:13:23 <Mehdi> scodil: i took a course on programming paradigms, where we learned scheme/lisp, though i only retain the general concepts behind it
20:13:25 <sorear> I think so
20:13:30 <sorear> I didn't set an alarm.
20:13:37 <sieni> sorear: If I remember correctly, you can first block all signals with sigprocmask() before forking any threads (so that the mask gets inherited by any new threads) and then use pthread_sigmask() to set the mask properly in the thread that's going to be sigwait()ing
20:13:38 <Mehdi> scodil: do you still recommend it then?
20:13:42 * SamB_XP doesn't think mucking with signals from GHC is a good idea...
20:15:13 <sorear> according to the documentation, there is no correspondence at all between Control.Concurrent threads and POSIX threads, and all forkOS does is create a thread that is used only for foreign calls.
20:15:49 <SamB_XP> have you seen http://hackage.haskell.org/trac/ghc/wiki/Commentary/Rts/Signals ?
20:15:51 <lambdabot> Title: Commentary/Rts/Signals - GHC - Trac
20:16:07 <SamB_XP> sorear: the documentation might be bad
20:16:14 <beschmi> Mehdi: are there any haskell books you can check out in the library?
20:18:02 <sorear> I assumed the commentary was for GHC hackers, and portable haskell hopefuls wouldn't need it :(
20:18:44 <SamB_XP> @doc System.Posix.Signals
20:18:44 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/System-Posix-Signals.html
20:18:52 <kermitthehermit> Mehdi:  I don't know about any books, but there's a list of online refs here:
20:18:58 <kermitthehermit> http://www.md.chalmers.se/~rjmh/tutorials.html
20:19:00 <lambdabot> Title: Tutorial Papers in Functional Programming
20:19:13 <SamB_XP> sorear: probably signal handling is a black art?
20:19:32 <scodil> Mehdi: yeah I was in the same boat. only 1 real class on lisp. never really _used_ any fp before haskell.  there's a small amount of explanation on things like map, fold, currying, etc. in SOE, which will be review, but I still recommend it
20:19:40 <goltrpoat> http://homepages.cwi.nl/~atanasso/ref is good too
20:19:42 <lambdabot> Title: PLT Online
20:20:02 <scodil> oh wait i forgot... i took a grad course on ML
20:20:05 <scodil> that probably helped alot
20:20:07 <reppie> have you ever given your penis a name?
20:20:18 <SamB_XP> sorear: anyway, before even considering messing with this stuff in C, it would be important to know what GHC's RTS is doing...
20:20:36 <Mehdi> thank you everyone, you were extremely helpful =)
20:20:53 <glguy> I call mine "The Octagon"
20:20:54 <Mehdi> i'm going to check those references out, and try to find a suitable book
20:21:12 <reppie> fuck, wrong channel.
20:21:34 <scodil> Mehdi: i don't think the definitive haskell book has been written yet, so try the library first and read whatever is there
20:21:49 <Mehdi> well, even if its not haskell
20:21:49 <scodil> chances are, it won't be more than half as bad as the best haskell book
20:21:55 <SamB_XP> sorear: so how have you been installing the handler?
20:22:00 <Mehdi> a book on FP would be my main concern
20:22:13 <scodil> oh, well, there's tons of stuff on lisp and scheme
20:22:22 <Mehdi> lisp/scheme = /slit my wrists
20:22:41 <Mehdi> hehe
20:22:54 <Mehdi> isn't lisp/scheme technically not a FP language though?
20:23:04 <scodil> yeah, but the actual lisp/scheme specific content of these books is minimal
20:23:15 <Mehdi> also, i thought its not as practical as haskell and a few others
20:23:15 <scodil> other than library functions, which tend to be the same across FP langs
20:23:47 <Mehdi> oh i see
20:23:54 <scodil> the actual languages of lisp and scheme are practically nothing. sexprs, cons cells, atoms.  one chapter at the most
20:24:00 <dibblego> dons, done :) http://blog.tmorris.net/maybe-monad-in-java/
20:24:00 <scodil> the rest of it will be applicable to haskell
20:24:02 <lambdabot> Title:  Tony&#8217;s blog   Blog Archive  Maybe Monad in Java
20:24:07 <Mehdi> oh i see
20:24:46 <Mehdi> now, this is  a totally noob question, and forgive me, but my main motivation to learn about FPs and Haskell is because its efficiency and usefulness in parallel processing
20:24:49 <scodil> i can't say for certain though, cause i've never really read a lisp or scheme book, beyond what was needed for the one class i took, which wasn't much
20:25:01 <Mehdi> am i heading in the right direction in this case
20:25:06 <dibblego> Mehdi, definitely
20:25:07 <scodil> yeah, kind of
20:25:17 <scodil> if you look at the larger definition of efficiency,
20:25:26 <scodil> which includes programmer efficiency
20:25:51 <scodil> haskell doesn't have very good MPI support, but the SMP support in GHC is great
20:25:59 <Mehdi> MPI, SMP?
20:26:06 <scodil> yeah, haskell will work for you :)
20:26:22 <sorear> SamB : System.Posix.Signals.installHandler
20:26:28 <scodil> SMP = multicore, MPI = cluster
20:26:36 <scodil> MPI is a lot more complicated
20:26:41 <SamB_XP> sorear: hmm. report it as a bug?
20:26:45 <reppie> MPI is overrated
20:26:45 <sorear> (but I think I've found the problem, so don't worry about me for a few minutes)
20:26:54 <scodil> not where i work its not
20:27:00 <SamB_XP> if it isn't a functionality bug, it might be a doc bug!
20:27:03 <scodil> show my a 1024 core cpu
20:27:03 <dons> today's tutorial: http://cgi.cse.unsw.edu.au/~dons/blog/2006/12/18#ph-3
20:27:03 <dons> :D
20:27:04 <lambdabot> Title: Haskell hacking
20:27:05 <scodil> show me
20:27:07 <beschmi> Mehdi: so you're interested in optimizing parallel code?
20:27:27 <beschmi> or in writing code that gets optimized?
20:27:38 <Mehdi> beschmi, optimized parallel code
20:27:44 <glguy> dons: where are the channel statistics on your site?
20:27:47 <dons> Cale, around? want to post it to the programming subreddit?
20:27:49 <glguy> ?version
20:27:49 <lambdabot> lambdabot 4p302, GHC 6.5 (OpenBSD i386)
20:27:49 <lambdabot> darcs get http://www.cse.unsw.edu.au/~dons/lambdabot
20:27:57 <dons> glguy: i've had about 70k hits in the last 5 days :)
20:28:01 <Mehdi> since non-parralel code would probably be best written in something else (assumption)
20:28:08 <glguy> dons: why?
20:28:09 <dons> not sure how many are uniq though
20:28:11 <SamB_XP> @where irc
20:28:12 <lambdabot> I know nothing about irc.
20:28:13 <dons> maybe half or so?
20:28:16 <SamB_XP> @where stats
20:28:17 <lambdabot> http://www.cse.unsw.edu.au/~dons/irc/
20:28:24 <dons> glguy: oh, sorry. you mean the irc stas :)
20:28:31 <SamB_XP> glguy: you mean those?
20:28:36 <glguy> dons: what had 70k hits?
20:28:38 <glguy> SamB_XP: yes, thank you
20:28:47 <SamB_XP> glguy: probably his haskell blog entries
20:28:53 <beschmi> Mehdi: because you could use implementing functional languages as a sort of haskell intro
20:28:56 <SamB_XP> the tutorial ones
20:28:59 <dons> yeah
20:29:20 <Mehdi> to give you an idea, i love computer science and want to keep learning and doing research, but ultimately i see myself working on gaming engines, which is my dream, and seeing that parallel programming is soon to be the make/break, I want to learn everything i can about it
20:30:00 <scodil> oooh... gaming in haskell... there's a sore spot
20:30:02 <Mehdi> beschmi, i'm not following your last statement
20:30:03 <sieni> Mehdi: the way to learn parallel programming is to write software that takes advantage of it
20:30:10 <Mehdi> right
20:30:38 <beschmi> Mehdi: http://research.microsoft.com/~simonpj/Papers/pj-lester-book/
20:30:39 <lambdabot> Title: Simon Peyton Jones: book
20:30:45 <dons> ?where Frag
20:30:46 <lambdabot> http://www.haskell.org/haskellwiki/Frag
20:31:05 <Mehdi> beschmi, thank you
20:31:07 <dons> ^^ 3d game
20:31:28 <Mehdi> schodil, well the way i look at it is this... a gameing engine is the core of what makes a game
20:31:43 <Mehdi> at this time, no engine really utilizes multiple courses, minus maybe the upcoming UT2k7 engine
20:31:45 <sorear> SamB: problem solved!
20:31:53 <SamB_XP> sorear: what was the problem?
20:32:06 <sorear> SamB: I don't think I should bugreport that Handles are locked!
20:32:08 <Mehdi> however as time goes by, much of the processing will need to be spread across multiple cores in order to increase performance
20:32:14 <SamB_XP> sorear: heh
20:32:28 <scodil> Mehdi, i've done a lot of 3D graphics / interactive programing, and I'd say that haskell isn't the "perfect" language for the job, even though there is no perfect. the parallel facilities are nice, but the community has a very negative attitude towards mutable state, which gaming uses a lot of. and don't get me started on records.
20:32:36 <sorear> hGetChar holds the lock, changing the buffer settings in the signal handler was hanging on the lock.
20:32:40 <SamB_XP> you might want to suggest it be added to some documentation?
20:32:44 <goltrpoat> plenty of engines utilize multiple cores -- the issue is that the current numbers of cores lend to very low-grain task allocation:  you can literally say "run the game loop on this hardware thread, run the renderer on this hardware thread, run async file i/o and sound on this third hardware thread"
20:32:47 <SamB_XP> that would probably be a good idea.
20:32:53 <goltrpoat> as the number of cores continue to grow, you won't have the nice breakdown anymore
20:33:01 <goltrpoat> which is where parallel programming is going to shine
20:33:25 <sorear> I've rearranged the code so that the buffer settings are changed in the main I/O thread and the signal handler just pokes a MVar.
20:33:27 <SamB_XP> Haskell 98 doesn't mention locking anywhere, probably because it would be silly to mention locking when dealing with unthreaded programs...
20:33:29 <Mehdi> scodil, thats totally understandable, but there are plenty of pieces of data that don't need to be mutable, but still must be calculated
20:34:04 <SamB_XP> @hoogle Handle
20:34:05 <lambdabot> System.IO.Handle :: data Handle
20:34:05 <lambdabot> Control.Exception.handle :: (Exception -> IO a) -> IO a -> IO a
20:34:05 <lambdabot> System.Win32.Types.HANDLE :: type HANDLE
20:34:06 <scodil> sure, yeah its do-able. i'm doing it right now. but it doesn't feel "right" the way that other applications of haskell do
20:34:12 <dibblego> nothing uses mutable state
20:34:16 <SamB_XP> @doc System.IO.Handle
20:34:16 <lambdabot> System.IO.Handle not available
20:34:22 <SamB_XP> @doc System.IO
20:34:22 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/System-IO.html
20:34:39 <dibblego> except compilers of course
20:35:02 <Mehdi> the idea that the core of the engine is written in c++ or something, while the heirarchy of the engine may be written in a FP language, which simply returns values to the core engine for whatever reason
20:35:14 <glguy> Is dibblego stupid or just asking too many questions? 24.6% lines contained a question!
20:35:17 <glguy> newsham didn't know that much either. 23.7% of his/her lines were questions.[1~
20:35:23 <glguy> seems like that could be worded nicer (-;
20:35:39 <dons> there you go, guys: http://programming.reddit.com/info/v6bg/details
20:35:40 <lambdabot> Title: Programming Haskell 3: IO, environment and argument handling (reddit.com)
20:35:49 <Mehdi> now, my assumptions and ideas may be totally off base and i may be in a state of confusion, but i'm sure as time goes on, and we 32 core processors, we will inevitably need to know FPs to be successful
20:35:58 * SamB_XP thinks we need an overview for Control.Concurrent, that mentions things like HAndles being locked
20:36:02 <SamB_XP> er. Handles.
20:36:10 <SamB_XP> thats what I get for typing blind...
20:36:25 * SamB_XP had an always-on-top window in the way
20:36:31 <dibblego> glguy, I can take it. I'll remember not to punctuate from now on :)
20:36:41 <sorear> SamB: Haskell 98 doesn't mention thread safety locking, mainly because haskel programs are a fortori single threaded.
20:37:05 <SamB_XP> sorear: yeah, thats what I meant to say ;-)
20:37:16 <sorear> Lambdabot needs a ?spelling-nazi plugin :)
20:37:32 <scodil> Mehdi: you may not be fully considering dedicated hardware. what really needs to be done in a game engine? all the rendering these days is done on the gpu, and soon you'll see dedicated hardware for physics type stuff too. so whats left? just organizing, moving state around, coordinating, etc.
20:37:38 <SamB_XP> lambdabot doesn't know how to spell everything
20:37:53 <Mehdi> scodil, good point
20:37:56 <dons> ?spell forga
20:37:57 <lambdabot> forge forgo fog forger fora
20:38:01 <notsmack> what's the term for "data X = X { y :: Int, z :: String}" style data types?
20:38:03 <sorear> lambdabot already has an aspell interface
20:38:03 <SamB_XP> @spell protricity
20:38:04 <lambdabot> protract periodicity protractor prolixity protracts
20:38:08 <SamB_XP> see!
20:38:09 <notsmack> with the named members
20:38:12 <Mehdi> though, i think you can only divide and conquer so much
20:38:15 <SamB_XP> it doesn't even know remixers!
20:38:37 <sorear> notsmack: records
20:39:23 <scodil> that's true, but if you're really serious about gaming, you can't get away from c++. well, I should clarify that, if you're really serious about short term results in gaming, then c++. there's plenty of potential for 3D/gaming in haskell, but its an uphill battle
20:39:54 <Mehdi> oh totally, but like i said, not everything would need to be purely c++
20:40:07 <Mehdi> for example, and this is totally abstracting many concepts, but...
20:40:29 <SamB_XP> haskell is all about totally abstracting things
20:40:36 <scodil> anything you can push to C-land, can probably be pushed to the GPU/stream processor/whatever
20:40:39 <SamB_XP> (not that you have to do that -- its just a very nice feature)
20:40:43 <goltrpoat> scodil:  keep in mind that haskell has a lot of uses in this context that don't have anything to do with the engine.  DSL compilers, tools, prototyping, etc.
20:41:44 <Mehdi> ya, but lets say you are living in a world where we now have 9 cores in our GPU
20:41:55 <sorear> Step 1.  Write your 3D uber-game in haskell (it is painfully slow)
20:42:01 <Mehdi> now, our first instinct would be to use each core for something serperate
20:42:04 <sorear> Step 2.  Rewrite the game in C++.
20:42:15 <Mehdi> ohh, i see what you are saying
20:42:48 <sorear> Note that step 1 took care of all design issues, so step 2 should be quite a bit faster than writing a game from scratch in C++.
20:43:00 <Mehdi> that is a great point
20:43:14 <goltrpoat> that's what i meant by prototyping..  writing the whole engine in haskell and porting it might be going overboard though
20:43:41 <Mehdi> right, but we get the point behind his statement =)
20:44:03 <goltrpoat> -nod-
20:44:24 <SamB_XP> Mehdi: the GPU would probably not expose the fact that there were nine cores?
20:45:00 <Mehdi> sorear: so, let me clear this area of confusion i might have then about FPs/Haskell... the reason for their effectiveness in parrallel processing is due to the fact that because data is unmutable and such, we can send off function calls to multiple processes without worry of corruption or whatnot
20:45:14 <Mehdi> but the core reason for the effectiveness is due to the constraints the language puts on us
20:45:17 <beschmi> seems like MS already uses F# for prototyping in the games group: http://blogs.msdn.com/dsyme/archive/2006/04/01/566301.aspx
20:45:21 <Mehdi> which means, when it is translated, the constraints remain
20:45:23 <lambdabot> Title: Don Syme's WebLog on F# and Other Research Projects : F# for games and machine l ...
20:45:49 <scodil> Mehdi: you can program in that style in C++, just make all your pointers/refs const
20:45:59 <scodil> its alot clumsier, without higher order functions, but you can do it
20:46:13 <scodil> and then you can use pthreads (or whatever) with out any locks/mutexes
20:46:39 <Mehdi> sounds challenging :P
20:47:16 <scodil> it actually makes things a lot easier
20:47:27 <scodil> compared to normal pointer-laden c/c++ programing
20:47:32 <Mehdi> SamB: was that a question, or a statement... i would assume that the GPU would expose there are multiple cores
20:48:06 <SamB_XP> Mehdi: why would it?
20:48:20 <scodil> GPU's don't have "cores" per say. they are SIMD, so they do massive parallelism with a fewer number of functional units
20:48:38 <scodil> per se, even. i hate when i do that
20:49:02 <Mehdi> for vector calculations?
20:49:05 <scodil> yeah
20:49:07 <SamB_XP> scodil: well, they could have corish things, but the concurrency would probably be handled in the firmware?
20:49:11 <scodil> all values are vectors of four floats
20:49:23 <scodil> and all pixels are processed four at a time
20:49:33 <scodil> at least, last time i checked
20:49:38 <Mehdi> wouldn't someone writing the engine want access to the cores though?
20:49:39 <scodil> it changes rapidly
20:49:42 <sorear> how about DpH?  couldn't that be effectively offloaded to the GPU?
20:50:02 <scodil> Mehdi: you can't. GPU programming is miserable. everything you do is a perversion of the API
20:50:05 <SamB_XP> I'd assume that the number of cores would similarly not be exposed, if there was such a thing
20:50:10 <scodil> i don't wish it on anybody
20:50:14 <Mehdi> scodil, oh i see now
20:50:16 <SamB_XP> sorear: sometimes
20:50:18 <Mehdi> that makes sense
20:50:24 <Mehdi> though, thats kinda awful
20:50:29 <SamB_XP> well, at least, some people have used GPUs for non-graphics...
20:50:43 <scodil> at great pains
20:51:04 <Mehdi> however, what about doing physics calculations and stuff on the GPU... which is what Havok2 is aiming at
20:51:19 * sorear wonders how effectively in the post-STG era a chip could be optimized for lazy FP
20:51:34 <scodil> the top-level function is always rendering. so, multiplying a matrix (or whatever) always boils down to drawing a rectangle in OpenGL
20:51:41 <SamB_XP> aren't you supposed to just tell the GPU what you want done, maybe including shader programs, and it will do them?
20:51:44 <goltrpoat> you can treat shader units as cores, for all intents and purposes, where inter-"core" communication from a pixel shader to a vertex shader is either readback or render to vertex buffer, communication from a vertex shader to pixel shader is by design, etc
20:51:59 <goltrpoat> with unified shader model, that becomes fairly flexible
20:52:04 <Mehdi> oh, man, that is totally disappointing and i never really had the idea cross my mind
20:52:52 <Mehdi> i thought gpu's were a little more flexiable then that
20:53:16 <goltrpoat> mehdi:  scodil is exaggerating.
20:53:23 <scodil> what goltrpoat said, except it all has to be synchronized is monolithic rendering passes, where you draw rectangles in a non existant window
20:53:25 <goltrpoat> http://www.gpgpu.org/
20:53:26 <lambdabot> Title: GPGPU
20:53:57 <scodil> goltrpoat: I do this stuff, for my PhD. In my opinion, it sucks
20:53:57 <Mehdi> man... i have a lot of bookmarking to do/reading for this week :D
20:54:06 <sorear> There are ~200 million transistors in a P4, operating at 4 billion cycles per second.  Therefore, if programming was 100% efficient, you could do 8 x 10^17 boolean operations per second.  The wastage is awe-inspiring.
20:54:08 <Mehdi> too bad i have an AI final tommarow, or i would read it all tonight
20:54:24 <hyrax42> dons: example of getOpt! sweet
20:54:37 <SamB_XP> sorear: silly
20:54:47 <goltrpoat> scodil:  i do this stuff in the industry.  it sucks, but the tools are getting better, and the architectures are moving towards general-purpose vector units, imo
20:55:21 <hyrax42> isn't a P4 significantly less than 200M?
20:55:23 <hyrax42> more like 50?
20:55:41 <dons> a getopt example is useful, hyrax42 ? good!
20:55:49 <scodil> goltrpoat: true. i started avoiding gpgpu projects shortly before FBOs became well supported.  I don't know anything about how DirectX handles it. I'm sure its better
20:55:50 <SamB_XP> isn't it only a matter of time before you basically give the GPU a functional program? (or is that already what you do?)
20:55:53 <sorear> for comparison the fastest computer (Blue Gene L) IIRC has 65536 commodity processors, or roughly 4 x 10^14 operations per second
20:56:15 <hyrax42> dons: I want to use it for my project code, but was leaning towards not due to having to learn how
20:56:21 <hyrax42> and I have limited time left
20:56:24 <hyrax42> to be spent learning things
20:56:31 <hyrax42> but nwo I can just follow along :)
20:56:43 <dons> hehe.
20:56:46 <dons> yeah, its pretty simple
20:56:52 <hyrax42> you have good timing... the roll your own IRC bot was at the same time I needed to do some sockets based thing
20:56:52 <dons> but you need a concrete example, for it
20:56:53 <hyrax42> for the same project
20:56:59 <dons> nice :)
20:57:06 <goltrpoat> scodil:  it's getting to the point where scene capture is a reasonable thing to do, making physics processing, visibility culling, etc, on the gpu rather viable
20:57:14 <sorear> So, if your desktop processor was completely efficient, it would be on the same order of magnitude performance as the world's fastest computer, which fills a room, has an MTBF of 6 hours, and consumes many kilowatts.
20:57:26 <goltrpoat> it'll be getting more and more interesting in the coming years, i think.
20:57:55 <SamB_XP> sorear: wouldn't that also make blue gene more efficient?
20:58:05 <sorear> yes
20:58:13 <goltrpoat> (it also makes dedicated scene capture cards like ageia's phys-x and that ai card, a very bad idea)
20:58:27 <SamB_XP> aynway, I assume it does more than just boolean ops at that rate?
20:59:02 <Mehdi> the phys-x card makes me cry
20:59:05 <SamB_XP> GPUs don't already do culling?
20:59:07 <Mehdi> i don't like the idea of more components
20:59:12 <sorear> I assume boolean -> integer/fp would approximately cancel out the 1000x difference in operation counts.
20:59:14 <scsibug> dons: brilliant timing on the article about arg handling...I just started adding that to a program, and you've saved me some time :)
20:59:25 <Mehdi> which is why i am supporting both ATI and Nvidia all the way
20:59:43 <scodil> SamB_XP: there's a few points along the pipeline where you can cull
21:00:07 <sorear> dons et al: Who should I beg for a portable (Control.Concurrent.*) interface to GHC.Conc.labelThread?
21:00:22 <scodil> but I think what goltrpoat was referring to was general visibility queries, which you can use for multiple things, like hitscanning
21:00:23 <goltrpoat> samb:  sure, but you still have the cost of submissions and overdraw.  if you're staring at a wall with a million poly model behind it, then you're still rendering the model, unless you somehow detect the fact that the former occludes the latter
21:00:50 <dons> sorear: hmm. simonM
21:01:34 <SamB_XP> okay, bed time now
21:01:41 <goltrpoat> samb:  we're approaching the point of diminishing returns for visibility queries on the cpu, but doing it on the gpu may or may not make more sense
21:02:05 <goltrpoat> and like sorear said, general-purpose visibility queries are useful in things other than rendering
21:02:13 <goltrpoat> er pardon.. like scodil said, i mean
21:02:39 <Mehdi> i'm sorry, but who was the one who has experiance with graphic engines and such
21:02:45 <Mehdi> i had a quick question
21:02:52 <SamB_XP> so, you could just ask the GPU to tell you what the mouse is pointing at (by coordinates, of course)
21:03:00 <Mehdi> scodil?
21:03:09 <scodil> yes?
21:03:19 <Mehdi> sec, i got something for you to look at real quick
21:03:20 <SamB_XP> oh, right, but bed now
21:03:57 <Mehdi> http://www.cs.umass.edu/~ruiwang/teaching/2007/intro.spring/
21:03:59 <lambdabot> Title: Untitled Document
21:04:06 <Mehdi> how does that course look, in your opinion
21:04:13 <scodil> SamB_XP: yeah, and also higher levels of culling, like, beyond isThisTriangleInView but isThis(Room/City/Continent)InView
21:04:44 <hyrax42> is System.Console.GetOpt the easiest to use getopt implementation?
21:04:54 <hyrax42> anyone have experience with say Python or Ruby's versions?
21:04:55 <SamB_XP> scodil: well, I would kind of expect the app to have to help with that last one ;-)
21:05:05 <wy> boulez: Have finished the chapter with the template machine? I've got another question about updates.
21:05:08 <SamB_XP> you didn't mention "building", by the way...
21:05:14 * SamB_XP really goes to bed now
21:06:02 <scodil> Mehdi: i'm actually TA'ing a course exactly like that in a few weeks. Those are great courses, responsible for more career-path-adjustments than any other CS courses
21:06:24 <scodil> the major factor will be whether they teach you to use OpenGL, or _write_ OpenGL
21:06:27 <scodil> ask the prof
21:07:34 <sorear> There must be a better way to do this : for x in clean configure build; do ./Setup.lhs $x ; done
21:07:44 <hyrax42> scodil: career-path-adjusting in which direction?
21:07:54 <scodil> towards graphics/games
21:08:03 <hyrax42> kk
21:08:16 <scodil> like, students who have no idea what to do, then take that course and suddenly they are the most motivated people you've met
21:08:31 <hyrax42> are they particularly good beyond what you could learn yourself?
21:08:43 <scodil> security/PL/databases don't quite have the same effect, at least not among people I've met
21:09:18 <scodil> if its a teach-to-write-openGL course, then yes. a teach-to-use-openGL course is as good as google
21:09:19 <Mehdi> scordil: word
21:09:36 <Mehdi> i want to be his pet so i can learn under him in grad school
21:09:41 <Eidolos> Man, I wish someone mentioned this earlier, or at least as clearly (from a comment on reddit):
21:09:45 <Eidolos> Haskell uses a Maybe. Maybe is an implementation of a Monad. It's like OOP: Monad is the superclass and Maybe is the child. Monads support various functions (methods). Two interesting functions are return and fail. All monads support these functions. Monads are like an interface: they state which methods the deriving classes have to implement.
21:09:50 <Mehdi> but i have a 2.7 due to a wasteful freshmen/sophmore year
21:10:14 <araujo> Eidolos, mmm...
21:10:33 <araujo> Not the whole story ; but it's true. :-)
21:11:33 <Eidolos> :)
21:11:38 <scodil> eek. yeah I had a 3.2, because I didn't take the course you mentioned until late 3rd year. from then on it was 4.0 :)  2.7 is tough though.  get started buttering people up
21:12:11 <scodil> 3.2 at graduation, i mean, which is doable for you
21:12:21 * dylan had a 4.0 until recently.
21:12:35 <hyrax42> scodil: teach-to-write-openGL meaning you learn to handle all the world-view space transofrmations, the texture filterings, shadings yourself yes?
21:13:12 <hyrax42> Eidolos: that comment was in reply to something i wrote that was unclear :)
21:13:27 <hyrax42> so I'm partly to thank, for writing obtuse jargon-filled nonsense ;)
21:13:32 <Eidolos> :)
21:13:42 <scodil> hyrax42: yeah. projective transformations and rasterization are the two biggest things, imo.  teach-to-use-opengl courses gloss of these parts, and just point you to the man pages for glScale/Translate/Rotate
21:14:25 <scodil> a good course will have a question on the final like, "given a transform that is rotateX/translateY/scaleX/rotateW , what are the screen space coords of model coords  a b and c
21:15:05 <hyrax42> so linear algebra?
21:15:15 <hyrax42> it's all unitary matrices, isn't it?
21:15:24 <scodil> unitary?
21:15:29 <hyrax42> orthogonal
21:15:40 <goltrpoat> not necessarily
21:15:44 <scodil> no, its in projective space
21:15:57 <hyrax42> oh rotates are, but scales don't have to be, nor translates
21:16:24 <scodil> there's also the projection transform, which makes your gun take up more screen space than the monster
21:16:27 <hyrax42> hmmm.... yes, remidns me of SVD now
21:16:38 <hyrax42> except you throw in a transaltoin
21:16:42 <goltrpoat> SVD??
21:16:54 <goltrpoat> oh you mean the similarity transform
21:17:14 <glguy> Suppose all I know about GADTs is what I've seen on http://haskell.org/haskellwiki/GADT#Motivating_example ... what paper would someone recommend that I read to understand more
21:17:15 <lambdabot> Title: Generalised algebraic datatype - HaskellWiki
21:17:31 <goltrpoat> most game programmers have never heard of SVD
21:18:01 <hyrax42> well a way to look at SVD is a rotation in one space, a scaling along the new axes, and another rotation to the new axes
21:18:02 <scodil> singular value decomposition?
21:18:15 <hyrax42> scodil: yeah
21:18:43 <hyrax42> at least I think so
21:18:52 <hyrax42> as in I think that's a valid interpretation
21:18:56 <scodil> makes sense
21:19:20 <hyrax42> unforunately graphics class here is not offered this year
21:19:27 <hyrax42> so I don't even know what it's like
21:19:43 <kermitthehermit> How do you tell read what type you want?
21:19:59 <hyrax42> kermitthehermit: is it not doing what you want?
21:20:04 <TSC> > (read 5) :: Int
21:20:05 <lambdabot>  add an instance declaration for (Num String)
21:20:11 <TSC> > (read "5") :: Int
21:20:12 <glguy> kermitthehermit: either by using the return value, or explicitly typing it
21:20:12 <lambdabot>  5
21:20:31 <glguy> let x :: Int; x = read y
21:21:26 <goltrpoat> i think the only place ive ever actually had to use SVD in graphics programming was a BRDF factorization deal
21:21:46 <scodil> its good for least-squares fitting
21:21:52 <goltrpoat> er.. i'm lying, i used QMR since i had it handy
21:22:16 <hyrax42> QMR?
21:22:18 <hyrax42> what is M
21:22:23 <goltrpoat> quasi-minimal residual
21:23:21 <Pupeno> Lemmih: Hello.
21:23:31 <hyrax42> oh hm
21:23:42 <hyrax42> I though maybe you meant some variation on QR factorisation
21:24:39 <goltrpoat> nah.. QMR is a nicer friendlier version of BCG
21:24:48 <goltrpoat> (biconjugate gradient)
21:25:07 <kermitthehermit> I'm trying to pull an int out of getLine in main
21:25:16 <hyrax42> oh... I aws about to say "isn't that a vaccine?"
21:25:23 <goltrpoat> hehe
21:25:41 <hyrax42> read `fmap` getLine :: IO Int
21:25:44 <hyrax42> oops
21:25:48 <hyrax42> hm might work
21:26:35 <Pupeno> @time Lemmih
21:26:37 <lambdabot> Local time for Lemmih is Mon Dec 18 06:23:03 2006
21:29:35 <seba> dons: great tutorial!
21:29:56 <dons> cheers
21:30:44 <scodil> so, anywho, someone needs to write a haskell-to-(GLSL/CG) compiler and integrate it with the runtime. then we can honestly tell Mehdi that haskell is the right tool for the job
21:31:12 <goltrpoat> heheh
21:31:17 <kermitthehermit> Oh well, I guess it's time to read up on IO.
21:31:55 <goltrpoat> haskell itself might be too big for shader programming.. a shader DSEL in haskell makes a ton of sense though
21:32:12 <goltrpoat> brb
21:32:25 <notsmack> DSEL == EDSL?
21:32:38 <scodil> == LESD
21:32:45 <beschmi> http://conal.net/Vertigo/ seems like a start
21:32:47 <scodil> language embedded in a specific domain
21:32:47 <lambdabot> Title: The Vertigo GPU compiler
21:32:50 <scodil> thats the one i prefer
21:33:18 <dons> sean lee is working on a ghc backend to the gpu right now
21:33:25 <dons> i should ask him how's it going
21:33:37 <scodil> gpus have backends?
21:33:47 <dons> ghc does
21:34:01 <dons> so you dump your parallel arrays on a stream^h^^h gpu
21:34:04 <dons> http://cgi.cse.unsw.edu.au/~seanl/index.cgi/Research
21:34:06 <lambdabot> Title: Research - Sean's Wiki
21:34:12 <dons> here, we've got a phd student working on it
21:36:30 <scodil> his gpgpu page is internal-only
21:37:49 <scodil> dons: is it going to be a directx thing? or do the rest of us get to use it
21:38:20 <dons> opengl, iirc
21:38:29 <dons> and CG
21:38:41 <scodil> rad
21:38:42 <dons> and yeah, should be free for all
21:38:50 <dons> but might be a year or two
21:38:58 <dons> he's got a C library binding to the gpu now
21:39:03 <dons> to do map, filter, foldl, scanl, and so on
21:39:20 <dons> we just have to hook that into ghc, and work out how to commpile higher order functions into gpu code :)
21:39:27 <scodil> hah
21:39:30 <scodil> good luck
21:39:39 <scodil> last time i looked, gpus didn't even have integers
21:39:58 <dons> sure they do :)
21:40:02 <scodil> not exposed
21:40:10 <dons> they're just about generally usable in the latest versions
21:40:49 <scodil> latest version on what? cg?
21:41:41 <dons> the latest nvidia cards
21:41:47 <dons> come with a nvdida-written C compiler
21:41:57 <dons> ie. very very latest
21:42:04 <dons> and remove more of the old hardware limitations
21:42:07 <scodil> whats this compiler called?
21:42:21 <scodil> i'm fishing for a google query here
21:42:21 <dons> check for gpu on reddit in the last month or so
21:42:25 <dons> i don't have the link handy
21:42:37 <dons> ?google nvidia gpu compiler C
21:42:39 <lambdabot> http://www.nvidia.com/object/IO_37226.html
21:42:39 <lambdabot> Title: Press Release
21:43:31 <glguy__> ?pl is pointless
21:43:31 <lambdabot> is pointless
21:46:37 * glguy__ is reading some old IRC logs (from the first time he was in channel asking questions)
21:48:21 <glguy__> found the first time I wondered this:  <glguy> so how do I get an IO String to a [Char]
21:53:45 <reppie> given that negative one is resperesented in two's complement by an infinite string of 1s: ...111111 = -1, describe what value is represented by an infinite string of alternating 0s and 1s (...010101010101 = ?)
21:55:05 <arcatan> why nobody ever tells newbies that you can't escape IO
21:56:54 <glguy__> they explained it after I asked
21:56:58 <scodil> sure you can. unsafePerformIO. I don't think its helpful to hide this from people. the existence of the 'where' clause is enough to scare people away from using unsafePerformIO when they shouldn't
21:57:02 <Smokey``> scodil: nVidia's 8800 has integers.  though before that, it was all fp.
21:58:45 <scodil> awesome. i had a program that did some looping/branching and getting the loop-exit condition right was hell without integer. i got it working just in time to write the paper, then nvidia updated the drivers and broke it, and it hasn't worked since. thank god it was a journal and not a conference, because I wouldn't have been able to demo it
22:01:30 <Smokey``> hmm actually even the 6800 should have some form of integer representation... (though not to the level the 6800 does...)(
22:01:39 <Smokey``> err, later 6800 = 8800
22:02:22 <scodil> i don't think its a hardware issue, but an api issue
22:02:40 <scodil> cg/glsl don't have integers, let alone bitwise/logical operators
22:02:59 <Smokey``> Cg has integers. (not sure about GLSL, I use Cg personally)
22:03:15 <scodil> well its been about a year since i used it. and things move fast in graphics
22:03:30 <Smokey``> depends on the profile you're using though
22:04:11 <Smokey``> anything pre VP/FP30 probably doesn't support integers directly (it'd only support looping, x-many times, where x is a constant integer... which would then be unrolled at compile time)
22:04:39 <Smokey``> but VP/FP 30 and 40 definately have integers...        same with SM 2.1/3.0  (2.1 not entirely sure about, but should) if you're a DX kinda guy
22:05:03 <scodil> but can you do anything integer-specific with them? like bitwise operations. floats can represent whole numbers just fine, if all you need is arithmetic and comparisons
22:05:25 <Smokey``> hmmm, good question.  give me a sec :)
22:06:01 <scodil> unless they've made a major revision to the api in the past year or two, i don't think you can.
22:08:07 <Smokey``> they have made a relatively big revision ot the Cg API, but looking at this... it seems Cg would compile integers into floats at assembly level. (which adds extra instructions for division, modulo, etc operations), and it seems the G80 chipsets are the only GPUs (from nVidia) that have true integer support for now :)
22:09:17 <Smokey``> as for how the integer pipelines are exposed in the GPU vp/fp instructions, and how it'll be exposed in higher level langauages such as Cg, i'm not sure to be honest...  I suspect there'll be another minor release of Cg to accomodate for a profile which supports said features...
22:09:57 <scodil> the 8xxx press releases keep talking about using plain ol C, so maybe it will just be a library, like altivec
22:10:17 <Smokey``> that's all CUDA stuff, not Cg
22:10:50 <scodil> yeah i was just talking about gpu programming in general
22:11:11 <Smokey``> CUDA compiles C code (well, more or less... it's C, with a few standard functions (though afaik not an entire CRT lib), and some GPU specific libs), into a far more low-level, direct application for GPUs
22:11:21 <Smokey``> I dont know much about CUDA besides that though, I'm not a registered developer...
22:12:28 <scodil> Cg, as it is, is fine for 99% of graphics/games applications. its the 1% of academics and nutjobs who keep pushing gpgpu that have a problem with it. cuda should keep them satisfied, so I don't know why they would need to mess with cg
22:13:51 <Smokey`> I think the whole GLSL/Cg/HLSL phase for GPGPU was exactly because they didn't have something like CUDA,  untill ATI released their low level API, and now nVidia has released CUDA
22:14:39 <Smokey`> but on that note, using high level shading languages & OpenGL / DirectX for GPGPU does increase the userbase (CUDA will only work on 8800 series and beyond, from my understanding), where as using Cg & OpenGL, you can target many more cards
22:15:25 <scodil> yeah, totally. That's part of the reason why I stopped tinkering with gpgpu. it was to hackish and clumsy, these stop-gap APIs. when we get access to the real-deal, I'll take it up again
22:15:39 <Smokey`> *nods*
22:16:02 <scodil> it was like API-by-focus group, where the focus group was from electronic arts, and so if you weren't doing games you were shit outta luck
22:18:00 <scodil> i know a few people who've put a lot of work into writing really complicated libraries to put a nice interface on cg, and it going to suck for them when the cuda stuff becomes widely available, because it will have all been for naught.
22:18:19 <scodil> well, one person, and he's already got a "real job" so i guess he doesn't need any pitty
22:23:56 <goltrpoat> dons:  oh that's pretty cool (the gpu backend for ghc)
22:25:18 <goltrpoat> dons:  i know folds/maps/etc for gpu have been around for a while (eg brook), but a full-fledged backend for a full-fledged compiler would be a very cool thing indeed
22:25:44 <goltrpoat> scodil:  i think C-like languages map very poorly to shader programming
22:26:03 <goltrpoat> shaders are inherently rather functional beasts, imo
22:29:34 <xpika> > m: + Data.Map
22:29:34 <lambdabot>  Parse error
22:30:16 <xpika> > Data.Map.lookup 'm' (fromList [('m','n'),('g','h')])
22:30:17 <lambdabot>  Not in scope: `fromList'
22:30:27 <xpika> > Data.Map.lookup 'm' (Data.Map.fromList [('m','n'),('g','h')])
22:30:28 <lambdabot>  Not in scope: `Data.Map.fromList'
22:30:50 <goltrpoat> > M.lookup 'm' (M.fromList [('m','n'),('g','h')])
22:30:51 <lambdabot>  add an instance declaration for (Show (m Char))
22:31:50 <xpika> Data.Map.lookup "m" (Data.Map.fromList [("m","n"),("g","h")])
22:32:10 <seba> is there a Haskell library for generating random numbers according to distributions, like uniform and gaussian?
22:32:15 <goltrpoat> > M.lookup 'm' (M.fromList [('m','n'),('g','h')]) :: [Char]
22:32:16 <lambdabot>  "n"
22:33:54 <goltrpoat> > M.lookup 'm' (M.fromList [('m','n'),('g','h')]) :: Maybe Char
22:33:55 <lambdabot>  Just 'n'
22:33:59 <goltrpoat> etc
22:35:26 <xpika> what does the mean?
22:35:48 <goltrpoat> hmm?
22:35:50 <xpika> is it an alias for Data.Map?
22:36:06 <goltrpoat> oh.. yeah, lambdabot imports Data.Map as M
22:38:50 <glguy__> dons, you there?
22:41:38 <dons> thanks for the code, glguy :)
22:41:45 <glguy__> heh, thanks for the +1
22:42:12 <glguy__> My comment used to include: chunk n = unfoldr (liftM2 (>>) (guard.not.null) (return.splitAt n))
22:42:26 <glguy__> but I figured that would invite too many "haskell is ugly" comments
22:42:56 <glguy__> dons: why did you choose to explicitly include the 'n' parameter in your helper function?
22:43:06 <glguy__> instead of referring to 'i'
22:43:54 <glguy__> OH, at least I understand what you wer edoing now
22:43:55 <dons> oh, did I? hmm
22:44:02 <glguy__> chunk n returns n chunks
22:44:04 <glguy__> not chunks of n
22:44:08 <dons> yeah :)
22:44:14 <dons> since i have n threads
22:44:19 <dons> and i want to give them equal work
22:44:43 <glguy__> I've updated my comment
22:45:06 <dons> ?let chunk n xs = chunk' i xs where chunk' _ [] = [] ; chunk' n xs = a : chunk' n b where (a,b) = splitAt n xs ; i = ceiling (fromIntegral (length xs) / fromIntegral n)
22:45:07 <lambdabot> <local>:1:20: Not in scope: `i'
22:45:20 <dons> ah heh
22:45:41 <glguy__> > map (\x -> ceiling (fromIntegral x) / 3) [1..10]
22:45:42 <lambdabot>  Add a type signature
22:46:08 <glguy__> > map (\x -> ceiling (fromIntegral x) / 3) [1..10] :: [Int]
22:46:09 <lambdabot>  add an instance declaration for (Fractional Int)
22:46:10 <lambdabot>   In a lambda abstractio...
22:46:13 <tibbe> :t fmap
22:46:14 <glguy__> > map (\x -> ceiling (fromIntegral x) / 3) [1..10] :: [Float]
22:46:15 <lambdabot> forall (f :: * -> *) b a. (Functor f) => (a -> b) -> f a -> f b
22:46:15 <lambdabot>  add an instance declaration for (Integral Float)
22:46:23 <glguy__> OH
22:46:31 <glguy__> > map (\x -> ceiling $ (fromIntegral x) / 3) [1..10] :: [Int]
22:46:33 <lambdabot>  [1,1,1,2,2,2,3,3,3,4]
22:46:50 <tibbe> :t liftM
22:46:51 <lambdabot> forall r (m :: * -> *) a1. (Monad m) => (a1 -> r) -> m a1 -> m r
22:46:53 <glguy__> > map (\x -> (x + 1) `div` 3) [1..10]
22:46:54 <lambdabot>  [0,1,1,1,2,2,2,3,3,3]
22:47:02 <glguy__> > map (\x -> (x) `div` 3) [1..10]
22:47:04 <lambdabot>  [0,0,1,1,1,2,2,2,3,3]
22:47:11 <glguy__> > map (\x -> (x -1) `div` 3) [1..10]
22:47:12 <lambdabot>  [0,0,0,1,1,1,2,2,2,3]
22:47:20 <glguy__> > map (\x -> (x + 1) `div` 3 + 1) [1..10]
22:47:22 <lambdabot>  [1,2,2,2,3,3,3,4,4,4]
22:47:31 <glguy__> > map (\x -> (x - 1) `div` 3) [1..10]
22:47:32 <lambdabot>  [0,0,0,1,1,1,2,2,2,3]
22:47:43 <glguy__> > map (\x -> (x - 1) `div` 3 + 1) [1..10]
22:47:44 <lambdabot>  [1,1,1,2,2,2,3,3,3,4]
22:48:28 <glguy__> where i = (length xs - 1) `div` n + 1
22:48:30 <dons> kfish, the only thing i can think of is that you have another instance of mpg321 or hmp3 running in the back ground (or as a zombie) ?
22:48:34 <dons> kfish: check top?
22:48:43 <dons> kfish: or possibly mpg321 isn't in your path?
22:49:11 <LordBrain> @help
22:49:12 <lambdabot> help <command>. Ask for help for <command>. Try 'list' for all commands
22:49:18 <dons> btw, was it you glugy using <- arrows in unicode in your cmments?
22:49:24 <glguy__> > let xs = [1..10] in (length xs - 1) `div` 3 + 1
22:49:26 <lambdabot>  4
22:49:33 <glguy__> dons: yeah, I switched to unicode arrows
22:49:38 <dons> yeah, i like it
22:49:55 <dons> i should write a little blog plugin that does the colour + unicode markup :)
22:49:57 <glguy__> thanks
22:50:21 <LordBrain> Does `ap` have a precedence assignment?
22:51:00 <xpika> yo dons. for some reason i have to add ":: Maybe String" to "Data.Map.lookup "Tue" days" in your tutorial
22:51:08 <sjanssen> LordBrain: no
22:51:15 <LordBrain> I'm reading: sequence (c : cs) = return (:) `ap` c `ap` sequence cs
22:51:15 <glguy__> > (-1) `div` 3
22:51:17 <lambdabot>  -1
22:51:23 <xpika> or else i get no output
22:51:29 <xpika> Data.Map.lookup "m" (Data.Map.fromList [("m","n"),("g","h")])
22:52:33 <glguy__> dons: and for the record, my posting that code was not intended to suggest yours wasn't acceptable (=
22:52:58 <LordBrain> if there is no precedence.. then its highest, associated left to right... but that means return (:) is applied... so wait.. maybe thats right, so ap applies IO (a->b)  to a  and returns IO a
22:53:04 <LordBrain> @type ap
22:53:06 <lambdabot> forall b (m :: * -> *) a. (Monad m) => m (a -> b) -> m a -> m b
22:53:50 <LordBrain> er returns IO b
22:53:54 <xpika> list
22:54:19 <xpika> 'list'
22:54:22 <xpika> help list
22:54:31 <xpika> > list
22:54:32 <lambdabot>  Not in scope: `list'
22:54:37 <xpika> > 'list'
22:54:38 <lambdabot>  Improperly terminated character constant
22:54:47 <xpika> help 'list'
22:54:52 <LordBrain> what are you trying to do?
22:55:02 <xpika> list all the commands for lambdabot
22:55:06 <kfish> hmm ... dons, mpg321 and mpg123 are in my path, and no other processes running ...
22:55:06 <LordBrain> oh
22:55:14 <kfish> dons: and i get "<file descriptor: 122>: hFlush: resource vanished (Broken pipe)"
22:55:15 <LordBrain>  you need to preface the triggor with an @
22:55:20 <xpika> @list
22:55:20 <lambdabot> http://www.cse.unsw.edu.au/~dons/lambdabot/COMMANDS
22:55:52 <xpika> @dice
22:55:53 <lambdabot> unexpected end of input: expecting number
22:55:58 <xpika> @dice 2
22:55:59 <lambdabot> 2 => 2
22:56:04 <xpika> @dice 3
22:56:04 <lambdabot> 3 => 3
22:56:09 <xpika> @dice 4
22:56:10 <lambdabot> 4 => 4
22:56:10 <dons> kfish: usually that means the binary wouldn't run
22:56:12 <glguy__> @dice 1d6
22:56:13 <lambdabot> 1d6 => 1
22:56:23 <dons> sometimes i've seen that when there's an existing mpg321 or hmp3 running
22:56:28 <dons> locking the sound device
22:56:28 <sjanssen> xpiki: the bot responds to commands in /msg
22:56:45 <sjanssen> s/xpiki/xpika
22:57:21 <kfish> dons: hmm ... i'm running it now in -R mode manually, seems to work fine ... and is installed in /usr/bin/mpg123 and /usr/bin/mpg321
22:57:40 <dons> mmm.
22:57:57 <Excedrin> @dice 1d100
22:57:58 <lambdabot> 1d100 => 66
22:58:18 <kfish> dons: mpg123 is a symlink to /etc/alternatives/mpg123, which is a symlink to /usr/bin/mpg321
22:59:24 <Excedrin> did anyone read the article related to: http://programming.reddit.com/info/v4kx/comments ?
22:59:26 <lambdabot> Title: What Makes Good Code Good? (reddit.com)
22:59:33 * glguy__ did
22:59:47 <dons> mm. I suppose that's possibly an issue, though no one's reported it before
22:59:48 <Excedrin> it seems like most of the qualities listed are properties of functional code
22:59:58 <dons> kfish: maybe set the path to the mpg321 binary by hand in Core.hs ?
23:00:01 <dons> just to check
23:00:30 <Excedrin> the only one in the list that's odd is "design... spend half your time on design"
23:00:34 <glguy_> Excedrin: at +3 , my comment to that article is the highest rated (which tells you about the quality of ocmments that article got (=)
23:01:15 <glguy_> Excedrin: I believe it was Greenspun who said that "SQL, Lisp, and Haskell were the only languages that he knew where you spent more time thinking than typing
23:01:28 <glguy_> but I could be repeating someone else's misquote
23:02:22 <kfish> dons: as usual, i'm an idiot -- i didn't have mpg321 installed when i configured hmp3, but installed it after -- hence it wasn't found during hmp3 configure
23:02:37 <kfish> clean, reconfigure, rebuild, reinstall, works fine
23:02:39 <sjanssen> dons: your "Programming Haskell" blogs are picking up a lot of bookmarks on del.icio.us
23:03:08 <kfish> dons: so i suggest a fatal configure error if mpg321 isn't found, rather than a warning :-)
23:03:10 <Excedrin> according to advocates, one of the positive properties of CL/Scheme/etc is that they support interactive, iterative development, where you easily throw something together, see how it works, then throw it away or refine it etc
23:03:21 <LordBrain> hmmm, you could spend more time thinking on other languages... maybe its more optional tho, or less fun.
23:03:41 <Excedrin> does Haskell support that development style or is it better to spend more time on design?
23:04:48 <LordBrain> hmmm.. I have a sort of intuition that may be wrong that when you have strong types, you have to devote more to design.
23:05:49 <sorear> Maybe it's just a problem with me, but - I've spent the last 2 years learning that most design is actively counterproductive...
23:06:08 <LordBrain> after all types mean there are some restrictions, dont they? and if those arent hte restrictions you want, oops
23:06:30 <sorear> OTOH, I've spent the last three days re-re-re-rewriting the keyboard handling in vty...
23:06:56 <LordBrain> i think it depends on how you measure productivity
23:07:06 <sorear> Darcs means you don't have to worry about keeping track of the number of re's before writing. :)
23:10:56 <LordBrain> i think if you want to spend less time on design, you might like a short development cycle and a weakly typed language.  Of course, the trade off is you spend more time on debugging.
23:12:38 <LordBrain> in practice, it may be that we're better off at refactoring tho, than trying to design things correctly from the beginning anyway... maybe that is what you are thinking of
23:13:05 <sorear> My usual workflow: Sit down. Type a program. C-c C-l. Fix all type errors. C-c C-l. Fix all newly introduced type errors. C-c C-l. Stare dumbfounded at a working program.
23:13:21 <LordBrain> lol
23:13:36 <LordBrain> those emacs keys?
23:13:53 <LordBrain> compile link?
23:14:06 <sorear> yes, specifically haskell-mode inferior-haskell send-buffer-to-ghci
23:15:16 <sorear> Before emacs: :q ^J <up> <up> enter
23:16:02 * notsmack still rocks the <up> <up> enter
23:16:17 <sorear> but the shell makes you do funny stuff, like wonder why your program doesn't work after using the wrong number of <up>s and recalling a 'rm MyProgram' command.
23:16:28 <LordBrain> maybe design is really just programming at a higher level of abstraction that may or may not be expressable in your language.
23:16:36 <Excedrin> I wrote wc after reading one of dons' tutorials today and it was that straightforward... even though wc is very simple it sort of surprised me that 3 lines is equal to 40 lines of C
23:16:56 <Excedrin> I used :w C-n :r
23:17:01 <LordBrain> i think thats it...
23:17:07 <Excedrin> C-n = next window
23:17:47 * sorear never noticed :rel could be abbreviated further
23:18:31 <LordBrain> some of the design phase in haskell is transferred to the programming phase, simply because the langauge is very expressive for abstractions... so you think you're designing less than you are, because its mixed into the coding.
23:21:08 <LordBrain> but if you compare the level you are thinking at while programming in haskell to the drawing board stage of another langauge its similar.  Does this sound right to you?
23:22:02 <Excedrin> yea, it's like writing an executable spec
23:22:08 <LordBrain> yeah
23:22:47 <sorear> The reason designing is counterproductive is that it delays coding indefinitely.
23:23:10 <sorear> With Haskell, you can design all you want and coding happens as an automatic side-effect.
23:23:21 <LordBrain> yeah
23:23:42 <notsmack> you're saying coding is in the IO monad?
23:24:31 <LordBrain> lol
23:25:49 <dons> kfish: hmm. it should really just grab mpg321 from the path
23:26:00 <dons> sjanssen: ah good!
23:27:38 <dons> what I hope is that some other people in the community start writing similar practical articles :)
23:28:08 <ozone> dons: speaking of, you free in jan to chat about haskell memory stuff? :)
23:28:11 <glguy> dons: does your cat program start numbering from 1 for each new file?
23:28:21 <ozone> (i think the rest of dec is tied up for me, unless you can do it later this week sometime)
23:28:28 <dons> ozone: after jan 23 when I get back from .fr
23:28:29 <LordBrain> i want to start a haskell blog
23:28:38 <dons> glguy: yeah, like the normal cat does
23:28:43 <LordBrain> what site should i use for that?
23:28:50 <ozone> dons: ooh, cool.  i might be in france in feb
23:28:53 <LordBrain> blogspot?
23:28:55 <dons> LordBrain: they're all good :)
23:29:13 <glguy> dons: ah, OK
23:29:35 <dons> it supposed to be functionally identical (modulo where I got lazy) to bsd cat
23:29:39 <dons> it doesn't quite do everything
23:29:43 <dons> for example cat - - -
23:29:47 <dons> doesn't reopen stdin 3 times
23:30:03 <dons> and it doesn't show visible chars in quite the same way
23:30:06 <dons> (I got lazy there)
23:30:24 <dons> sort of shows how bizarre the existing cat.c is ...
23:31:43 <dons> kfish++ Mon Dec 18 16:02:21 JST 2006  Conrad Parker
23:32:39 <dons> kfish, it should really use findExecutable :: String -> IO (Maybe FilePath) at runtime
23:32:48 <dons> though to first try mpg321, then mpg123
23:33:06 <kfish> right
23:33:32 <dons> oh, it sort of does:
23:33:33 <dons>     mmpg <- findExecutable (MPG321 :: String)
23:33:33 <dons>     case mmpg of
23:33:33 <dons>       Nothing     -> quit (Just $ "Cannot find " ++ MPG321 ++ " in path")
23:33:40 <dons> but that MPG321 is a full path
23:34:03 <LordBrain> you could use mp3-decoder
23:34:05 <ozone> MPG321 :: String?
23:34:11 <ozone> that looks... arcane :)
23:34:20 <LordBrain> that's the etc/alternatives name
23:34:24 <dons> just so I remember :)
23:34:35 <dons> its not semantically significant
23:34:51 <LordBrain> is /etc/alternatives part of FHS or is that just debian?
23:34:58 <kfish> as opposed to ... whatever the haskell equivalent of execlp is ...
23:35:04 <kfish> LordBrain, i think it's just debian
23:35:23 <dons> oh there'd be execlp stuff too, but that wouldn't fly on win32 I guess?
23:35:41 <kfish> win32 has paths doesn't it?
23:35:47 <LordBrain> yeah
23:36:12 <kfish> (that was half-rhetorical, i rememeber using DOS once ;-)
23:36:32 <LordBrain> i remember using dos without a hard drive
23:36:39 <LordBrain> and only one floppy
23:36:43 <LordBrain> haha
23:37:31 <LordBrain> i suppose it had a PATH variable back then... but I don't think I used it until I actually had a hard drive...
23:37:55 <goltrpoat> pfft.  i remember using dos with a stone tablet and a used set of styluses.
23:38:12 <ozone> yes, it still has paths
23:38:22 <goltrpoat> oh hey ozone
23:38:42 <kfish> dons: as for also being able to use ogg123, we'll have to find a way to not only find ogg123 and *.ogg files, but also detect if the version of ogg123 supports -R
23:38:48 <ozone> herro poltrgoat
23:40:10 <pjd> is it possible to define something like a "positive integer" type in Haskell?
23:40:14 <kfish> dons: preferably at runtime, so hmp3 will magically work with an ogg123 upgrade, and before offering *.ogg files for playback :-)
23:40:15 <sorear> yes!
23:40:20 <notsmack> pjd: yes
23:40:28 <sorear> data Nat = Zero | Succ Nat
23:40:29 <goltrpoat> data Nat = Zero | Succ Nat
23:40:31 <goltrpoat> doh!
23:40:36 <dons> kfish: ok. at least some parts of that sound pretty easy
23:40:42 <goltrpoat> sorear:  k, that was spooky.
23:40:45 <pjd> ah, ok
23:40:49 <goltrpoat> i guess there aren't that many ways to write it though
23:41:01 <kfish> dons: hehe -- let me know if any changes are needed from the ogg123 side of things :-)
23:41:05 <pjd> i'm guessing that won't perform quite as well as Int or Integer, though :)
23:41:08 <sorear> newtype Nat = Nat Integer {- do *not* export Nat -}
23:41:37 <notsmack> what happens if you export Nat?
23:41:44 <notsmack> just no guarantee that it's positive?
23:42:00 <pjd> sorear: newtype?
23:42:14 <sorear> what about it?
23:42:25 <sorear> newtype Nat = Nat Integer {- do *not* export Nat -} deriving(Semiring)
23:42:30 <dons> newtype Nat = Nat Integer ; nat n | n < 0 = undefined | otherwise = Nat n
23:42:43 <sorear> of course, that will not work in haskell. (wrt my line)
23:42:43 <dons> only export the Nat type, and the smart constructor
23:42:44 <LordBrain> newtype approach will let you use machine integers, or in this case gmp integers
23:42:48 <pjd> sorear: anything about it :)  where can i read about it?
23:42:51 <dons> then dervive Num
23:42:55 <dons> or something like that :)
23:43:09 <sorear> if you derive Num, ppl can say nat 1 - nat 2
23:43:22 <dons> "or something like that :"  ;)
23:43:25 <sorear> if you only derive <semiring>, (-) is unavailable
23:43:37 <sorear> Unfortunately, there is no class for semirings.
23:43:41 <dons> == "don't derive Num"
23:43:55 <dons> nothing in NumericPrelude?
23:44:05 <sorear> Haven't checked.
23:44:17 <LordBrain> @hoogle ring
23:44:18 <lambdabot> Data.PackedString :: module
23:44:18 <lambdabot> Foreign.C.String :: module
23:44:18 <lambdabot> IO.hGetBuffering :: Handle -> IO BufferMode
23:44:27 <LordBrain> hmm
23:44:32 <LordBrain> @hoogle Ring
23:44:33 <lambdabot> Data.PackedString :: module
23:44:33 <lambdabot> Foreign.C.String :: module
23:44:33 <lambdabot> IO.hGetBuffering :: Handle -> IO BufferMode
23:44:48 <LordBrain> I guess case dont matter with hoogle
23:45:06 <LordBrain> (doesn't, you know what i mean...)
23:45:19 <pjd> sorear: ah, found something
23:46:03 <pjd> cool
23:46:46 <dons> ?users
23:46:47 <lambdabot> Maximum users seen in #haskell: 291, currently: 263 (90.4%), active: 31 (11.8%)
23:47:07 <LordBrain> if you include 0, you could derive Monoid...
23:47:38 <pjd> so, stupidly speaking, a newtype is like an alias of a data type, which you can "attach" a different set of functions to
23:47:41 <sorear> why? all semirings are monoids
23:47:48 <LordBrain> yeah
23:47:49 <sorear> pjd: exactly
23:47:51 <LordBrain> thats right pjd
23:48:09 <pjd> wooh :)
23:48:13 <dons> yeah, you get a new type in the type system, but with the same representation as some existing type
23:48:24 <goltrpoat> how does NumericPrelude manage to have Algebra.Module and no Algebra.Ring, anyway
23:48:35 <goltrpoat> (rhetorical question)
23:49:03 <LordBrain> @hoogle Group
23:49:04 <lambdabot> List.group :: Eq a => [a] -> [[a]]
23:49:05 <lambdabot> List.groupBy :: (a -> a -> Bool) -> [a] -> [[a]]
23:49:05 <lambdabot> System.Console.Readline.beginUndoGroup :: IO ()
23:49:18 <LordBrain> none of those are relevant either
23:50:01 <LordBrain> hmmmm
23:50:09 <LordBrain> array indexes are like positive integers
23:51:34 <sorear> array (-100,0) ?
23:52:21 <dons> :t array
23:52:22 <lambdabot> forall e i. (Ix i) => (i, i) -> [(i, e)] -> Array i e
23:52:46 <sorear> yeah, I know I left off the initializer :)
23:52:48 <dons> > array (-100,0) (zip [1..100] (replicate 100 ()))
23:52:49 <lambdabot>  Exception: Ix{Integer}.index: Index (1) out of range ((-100,0))
23:52:50 <LordBrain> or bounded...
23:53:08 <goltrpoat> > listArray (-5,-1) "hello"
23:53:10 <lambdabot>  array (-5,-1) [(-5,'h'),(-4,'e'),(-3,'l'),(-2,'l'),(-1,'o')]
23:53:19 <dons> there we go
23:53:28 <LordBrain> a versino of boudned without a maxbound
23:56:42 <glguy> > listArray (-100,0) (repeat ())
23:56:43 <pjd> so Haskell' is getting Nat/Natural?
23:56:43 <lambdabot>  array (-100,0) [(-100,()),(-99,()),(-98,()),(-97,()),(-96,()),(-95,()),(-94,...
23:57:45 <glguy> ?scheck \xs -> unlines (lines xs) == xs
23:57:46 <lambdabot>   Failed test no. 2. Test values follow.: "a"
23:58:22 <sorear> glguy: unlines always leaves a \n at the end
23:58:27 <glguy> yup
