00:03:26 <scodil> anyone ever use glut and readline in the same program? its leaving my terminal in an unusable state. not sure if its a haskell specific thing or not.
00:03:48 <dons> hmm.
00:03:56 <dons> its almost certainly a library issue
00:04:05 <dons> is there a reset function in readline?
00:04:10 <scodil> tried it
00:04:37 <dons> if you can try to produce a minimal program that illustrates this, send it to haskell-cafe@
00:04:44 <dons> someone who knows either might be able to offer advice
00:04:50 <dons> and check the readline FAQs
00:05:04 <scodil> well... see in order to let glut run its event loop, you have to use the alternative callback-based interface
00:05:21 <scodil> and I have quit from within that callback
00:05:22 <dons> ok, so how do you ensure readline resets the terminal mode on exit?
00:05:27 <dons> ah.
00:05:43 <dons> so perhaps it should be all wrapped in a `finally` reset readline wrapper?
00:05:44 <scodil> but readline manages to write a prompt after the callback gets called
00:06:03 <dons> have a look at bracket and finally
00:06:09 <dons> ?docs Control.Exception
00:06:10 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Control-Exception.html
00:07:51 <scodil> that would be :  main = finally oldMain resetTerminal    ?
00:07:59 <scodil> where oldMain is what I've got currently
00:08:01 <dons> that'd do
00:08:16 <dons> or main = oldMain `finally` resetTerminal -- :)
00:08:50 <dons> ?type Control.Concurrent.finally
00:08:51 <lambdabot> Not in scope: `Control.Concurrent.finally'
00:08:57 <dons> ?type Control.Exception.finally
00:08:59 <lambdabot> forall a b. IO a -> IO b -> IO a
00:09:26 <scodil> no dice
00:09:37 <dons> did it run?
00:09:48 <scodil> yeah it runs but it still messes up the terminal
00:09:51 <thou> scodil: how are you quitting in your callback?
00:09:54 <dons> try `finally` print "Running finazlier" >> .... ?
00:10:04 <scodil> GLUT.leaveMainLoop
00:10:08 <scodil> not exitWith
00:10:09 <thou> hmmm
00:10:17 <dons> main = oldMain `finally` print "Running finazlier" >> resetTerminal
00:10:29 <dons> might need parens in there.
00:11:46 <scodil> dons: the finalizer does get run
00:12:15 <dons> maybe you have to do something else to get the terminal set. glut might be messing with it?
00:12:21 <scodil> i'll try to get it to work in C. if it does, i'll post it to haskell-cafe
00:12:33 <dons> you'll have to chase down preceisely what kind of thing you're supposed to run to reset the terminal
00:12:34 <scodil> yeah i dunno. if i don't go into the glut main loop, then it works fine
00:12:41 <dons> so glut does something
00:12:45 <dons> better read some glut docs :)
00:13:17 <scodil> why would it touch the terminal, though. so weird..
00:13:40 <dons> to grab raw keyboard input? not sure.
00:13:48 <dons> it does seem odd, I agree.
00:14:55 <scodil> nah it would have to get the key events through X
00:25:12 <scodil> yeah it works fine in C
00:25:59 <scodil> wait nevermind
00:26:32 <scodil> same thing happens in C. ok haskell's off the hook
00:26:37 <scodil> night
00:42:31 <scodil> ok i figured it out. there's no Readline.callbackHandlerRemove function in the haskell bindings
00:42:39 <scodil> and thats what needs to be called at exit
00:43:08 <scodil> normally in C you're fine if you don't call this, but for some reason if you use glut, then you have to call this.
00:43:29 <scodil> so this is haskell-cafe material? where do these types of bugs/feature requests usually go?
00:44:16 <Cale> yeah, I suppose so, perhaps also libraries
00:44:58 <scodil> that's a mailing list? google seems to think nabble is the best place to post this
00:45:50 <scodil> is it a ghc problem per se? or do hugs and nhc implement these bindings also?
00:46:26 <Cale> http://www.haskell.org/mailman/listinfo/libraries
00:46:28 <lambdabot> Title: Libraries Info Page, http://tinyurl.com/y75aoh
00:47:23 <Cale> http://haskell.org/mailman/listinfo is a list of lists :)
00:47:25 <lambdabot> Title: haskell.org Mailing Lists
00:47:44 <Cale> cafe would probably do
00:49:01 <scodil> cafe it is.  adios
00:50:16 <dons> scoyeah, i'd just write a foreign import to pull in this function you need
00:50:18 <dons> and then call it
00:50:21 <dons> oh, gone. too late
00:58:33 * roconnor doesn't get Stone Duality
02:03:07 <dons> ?yow!
02:03:07 <lambdabot> You mean you don't want to watch WRESTLING from ATLANTA?
02:06:02 <Pete_I> in "sum :: Num a => [a] -> a
02:06:07 <Pete_I> " what does => mean?
02:07:59 <Pete_I> hmm, everybody leave?
02:09:32 <mux> => means there is a constraint
02:09:50 <mux> in that case, the type of sum is [a] -> a, with the constraint that a is in the Num type class
02:10:49 <Pete_I> ok, thanks
02:29:42 <lispy> ?quote
02:29:42 <lambdabot> DanaXu says: Program errors are common in software systems, including those that are constructed from advanced programming languages, such as Haskell
02:30:26 <lispy> isn't she the one implementing extended static checking right now?
02:30:33 <lispy> that's stuff's gonna be cool
02:36:12 <jewel> what's that?
02:48:46 <Lajexander> @pl (\ (x,y) -> x^2 /y^3 )
02:48:46 <lambdabot> uncurry ((. (^ 3)) . (/) . (^ 2))
02:49:02 <Lajexander> @type uncurry
02:49:03 <lambdabot> forall c b a. (a -> b -> c) -> (a, b) -> c
02:49:35 <Lajexander> @type curry
02:49:36 <lambdabot> forall c b a. ((a, b) -> c) -> a -> b -> c
03:04:23 <Lajexander> @pl (\ (y,x) -> x^2 /y^3 )
03:04:23 <lambdabot> uncurry (flip ((/) . (^ 2)) . (^ 3))
03:05:51 <Lajexander> what's "pl" short for?
03:07:06 <der_eq> pointless, I guess
03:08:03 <dons> ?wiki Pointfree
03:08:03 <lambdabot> http://www.haskell.org/haskellwiki/Pointfree
03:08:07 <dons> explains the story :)
03:09:17 <dons> it translates code into pointfree style, trying to find a minimal expression. its an automatic golfing tool, in that sense, but also uses a lot of theory: term rewriting and so on
03:18:06 <Cale> an interesting thing to note about @pl is that it is untyped
03:18:43 <JohnMeacham> happy thursday!
03:18:45 <Cale> @pl \x -> x x
03:18:45 <lambdabot> join id
03:18:49 <JohnMeacham> or is it friday?
03:18:55 <Cale> Friday here
03:18:58 <JohnMeacham> let's talk about type theory.
03:19:06 <JohnMeacham> I heart type theory.
03:19:11 <Cale> :)
03:19:25 <JohnMeacham> how is it going?
03:19:42 <Cale> All right, I should probably be asleep, but my hours are messed up :)
03:19:47 <Cale> @localtime Cale
03:19:48 <lambdabot> Local time for Cale is Fri Oct 20 06:15:11
03:20:39 <Cale> (I haven't slept)
03:21:46 <Cale> Seems like I fall into about a 32 hour cycle when I don't regulate my sleep.
03:24:04 <Pete_I> i prefer a 30hr cycle :)
03:29:44 <Pete_I> is there a reason Prelude.id exists?
03:30:04 <Cale> because it's the identity function?
03:30:31 <Pete_I> .....why does it exist though?
03:30:38 <Maddas> It is the identity function, therefor it exists!
03:30:39 <Pete_I> why would you need an identity function?
03:30:43 <Cale> It's useful whenever you have a higher order function and you need to fill in a spot with something that doesn't do anything
03:30:49 <Pete_I> and whynot just use (\x->x)
03:30:59 <Maddas> Pete_I: Why not just use id?
03:31:01 <beelsebob> > all id [True, True, True]
03:31:03 <lambdabot>  True
03:31:07 <beelsebob> that's why it exists
03:31:09 <Cale> consider writing the function which takes a list of functions and produces their composite
03:31:26 <Cale> foldr (.) id
03:32:08 <JohnMeacham> @localtime JohnMeacham
03:32:09 <lambdabot> Local time for JohnMeacham is Fri Oct 20 03:32:05
03:32:14 <Cale> It's basically important as a function for the same reason that 0 is important as a number (or 1)
03:32:16 <ValarQ> > (map . (id &&&)) (+5) [0..5]
03:32:17 <lambdabot>  [(0,5),(1,6),(2,7),(3,8),(4,9),(5,10)]
03:32:38 <beelsebob> @localtime
03:32:43 <beelsebob> @localtime beelsebob
03:32:45 <lambdabot> Local time for beelsebob is 2006-10-20 11:25:12 +0100
03:32:51 <beelsebob> shiny
03:32:58 <beelsebob> how does it know my time zone?
03:33:11 <Cale> > map (ap (,) (+5)) [0..5]
03:33:13 <lambdabot>  [(0,5),(1,6),(2,7),(3,8),(4,9),(5,10)]
03:33:16 <JohnMeacham> I think I have this: http://en.wikipedia.org/wiki/Delayed_sleep_phase_syndrome
03:33:16 <Pete_I> @localtime Pete_I
03:33:19 <lambdabot> http://tinyurl.com/rkgsc
03:33:20 <lambdabot> Local time for Pete_I is Fri Oct 20 05:32:53 2006
03:33:33 <Pete_I> good question, how's it know my timezone?
03:33:36 <beelsebob> JohnMeacham: don't we all?
03:33:41 <mux> Pete_I: CTCP TIME
03:33:43 <Cale> It CTCP TIMEs you
03:33:47 <Pete_I> JohnMeacham, we all think we have that
03:33:50 <JohnMeacham> well. it is a bit more than normal.
03:33:53 <Pete_I> Cale, ok :)
03:33:59 <Cale> and your IRC client gives it a string which it displays :)
03:34:10 <Maddas> Pete_I: I doubt it.
03:34:10 <Pete_I> I see that. just didn't pay attention :)
03:34:18 <JohnMeacham> who is an expert on associated types here?
03:34:32 <Pete_I> Maddas, some of us atleast
03:34:46 <Maddas> Pete_I: Yes, but that's true of every disease, isn't it...
03:34:55 <Pete_I> yes
03:35:18 <Cale> every disease is carried by some member of #haskell?
03:35:27 <beelsebob> o.O
03:35:37 <Maddas> I was thinking of a more inclusive 'us', and a less strict 'every'.
03:35:47 <Cale> hehe
03:35:48 <beelsebob> no... every disese is carried by all members of #haskell
03:35:49 <dcoutts> JohnMeacham, ask ChilliX
03:38:04 <Pete_I> beelsebob, uh, that'd mean a large percentage of the idlers have died.
03:38:14 <beelsebob> yep
03:38:30 <beelsebob> mmm... syphilis
03:38:32 <Pete_I> and there's more than 221 diseases
03:38:41 <beelsebob> i know
03:38:44 <Maddas> ...only?
03:39:13 <Pete_I> Maddas, only what?
03:39:34 <beelsebob> I said ∀d∈disises.∀m∈#haskell.has(d,m)
03:39:50 * beelsebob pokes Twigathy just to highlight him
03:39:51 <Pete_I> uh, i can't read that
03:40:03 <beelsebob> get an IRC client that can deal with unicode then :P
03:40:09 <Pete_I> hmm
03:40:31 <Pete_I> damn thing said it was fixed in the last version
03:40:40 <binrapt> mIRC displays it properly but I still can't write Unicode, pain
03:40:41 <beelsebob> it said $\forall d\in disises.\forall m\in #haskell.has(d,m)
03:40:42 <Maddas> The IRC client isn't the problem for me.
03:40:45 <beelsebob> $
03:40:46 <binrapt> I love the client otherwise
03:40:53 <beelsebob> binrapt: buy a Mac :P
03:41:01 <Maddas> I'm using a mac, and it doesn't work.
03:41:02 <binrapt> Uh, no?
03:41:18 <beelsebob> Maddas: use Colloquy then
03:41:35 <binrapt> The only client it actually worked with fine but which I hated otherwise was X-Chat
03:41:39 <Maddas> beelsebob: Colloquy won't run in a 'screen' session, so no thanks. It's neat, though :-)
03:41:57 <Maddas> (I'm not sure whether this font has the required symbols)
03:42:10 <beelsebob> true that - Maddas use irssi in proxy mode, then use Colloquy
03:42:38 <beelsebob> then you can connect all your colloquys to the same IRC session
03:43:01 <Maddas> beelsebob: My connection is too unreliable to keep proxy mode usable, unfortunately. I used a setup like that earlier
03:43:09 <beelsebob> :(
03:43:11 <beelsebob> shame that
03:43:14 <Maddas> Yeah
03:43:45 <beelsebob> because colloquy is by far the best IRC client I've ever seen (other than the fact that you can't have one session accessable from lots of computers)
03:45:09 <beelsebob> but from the point of view of competing with mIRC... Colloquy will offer all the same features and more
03:45:14 <Maddas> Hmm, perhaps I should try it again someday. I stopped using it partly because it didn't allow me to connect to the same server twice, just on different ports.
03:45:39 <beelsebob> hmm, interesting... time to try
03:45:52 <Maddas> (Both connections to my proxy)
03:46:08 <beelsebob> Maddas: it does allow two connections to the same server on different ports now
03:46:16 <Maddas> Ah, neat. :-)
03:46:44 <beelsebob> I'm using the most recent intel build - so I don't know whether the latest "release" does or not
03:46:56 <Maddas> Grr, an intel mac.
03:47:01 * Maddas turn envious :-)
03:47:11 <Maddas> Turns, even.
03:47:24 <beelsebob> lol
03:47:27 <beelsebob> I got it free too
03:47:50 <beelsebob> bought an iBook about a year ago
03:47:57 <beelsebob> motherboard failed 3 times
03:48:09 <beelsebob> rang them up and said "this motherboard is shit, give me a refund"
03:48:15 <beelsebob> battered at them for a week
03:48:20 <beelsebob> threatened lawyers
03:48:24 <beelsebob> got sent a free MacBook
03:50:02 <Maddas> Ugh... sounds like a rather painful experience, though.
03:50:23 <beelsebob> true... but I got a MacBook
03:50:30 <Maddas> Right.
03:50:39 <beelsebob> hehe... they said on the phone "how do you know the motherboard fails often"
03:50:45 <Pete_I> .....
03:50:51 <Pete_I> i'd think that's fairly obvious
03:51:06 <Maddas> Wouldn't work for me, my case is broken in far too many places to make them believe that any of the defects weren't because my laptop keeps on falling on the floor ;-)
03:51:44 <Maddas> (They did replace the broken backlight after a particularly nasty drop, though, so I can't complain.)
03:51:53 <beelsebob> to which I replied "because mine has failed 3 times, I have 5 friends with iBook G4s of which 4 of them have had failed motherboards, 2 of them have failed twice, and I have a pettition with over 1000 signatures saying people have iBook G4s with failed motherboards, considering that's about 1% of iBook G4s produced have had owners bothered to go find the petition and sign it, I'd say probably about 20 or 30% of them fail"
03:51:55 <Pete_I> laptops should be more resilient.
03:52:21 <beelsebob> hmm, I've always found the apple ones very resiliant... if not reliable
03:52:39 <beelsebob> I dropped my iBook G4 a few times and it never left a mark
03:52:41 <Pete_I> I should be able to throw it a few times and it still work
03:52:54 <beelsebob> true dat
03:53:09 <beelsebob> I seem to remember someone testing TiBook G4 against an 18wheeler truck
03:53:10 <Pete_I> they call them "laptops", so if you get up fast, they shouldn't break :/
03:53:13 <beelsebob> and found that the TiBook one
03:53:26 <Pete_I> cool
03:53:32 <Pete_I> it break the truck?
03:53:35 <beelsebob> Pete_I: actually they call them notebooks now - because people used that logic on them
03:53:43 <beelsebob> Pete_I: no, but after being run over, it wasn't dead
03:53:53 <beelsebob> the screen was cracked, but it still booted and worked perfectly
03:54:07 <Pete_I> my paper notebook is more resilient than any of those.
03:54:13 <Pete_I> :)
03:54:17 <beelsebob> hehe
03:54:37 <Pete_I> I can bend, crease, throw, run over it, etc, and it still works fine
03:54:42 <Pete_I> just a few scuffs of dirt
03:54:44 <beelsebob> hehe
03:54:46 <beelsebob> *g*
03:58:28 <roconnor> Pete_I: Does your notebook come with a search button?
03:58:30 <Pete_I> hmm, can even light it on fire and it might still survive.
03:58:36 <Pete_I> roconnor, I only wish
03:58:50 <Pete_I> that's what the invented sticky notes for
03:58:51 <roconnor> bah, useless
03:58:59 <roconnor> ah
03:59:47 <Pete_I> paper ftw! :)
03:59:56 <Pete_I> (accept in fires)
04:03:26 <beelsebob> Pete_I: http://www.cs.kent.ac.uk/people/rpg/tatd2/doom.png
04:03:29 <lambdabot> http://tinyurl.com/ybntez
04:05:15 * Maddas just has a text editor window open for notes.
04:05:55 <beelsebob> I tend to find stickies much more useful... they get saved automagically, they don't need you to switch apps, they get out of the way easily
04:06:31 <beelsebob> that and calculator are the only two dashboard widgets I actually use though
04:06:36 <roconnor> my sticky notes just end up on the floor
04:06:42 <roconnor> maybe they aren't sticky enough
04:06:51 <Pete_I> I use a whiteboard for notes :)
04:07:03 <Pete_I> it's about 1m x .5m
04:07:29 <Pete_I> comes in handy for code and stuff too
04:07:47 <roconnor> oooh, a whiteboard that can execute code.
04:13:32 <Pete_I> <.< it can't execute code
04:13:45 <Pete_I> it's not digital
04:14:46 <Maddas> I don't like dashboard. I use virtual desktops anyway, so the text editor gets of the way just as well :-)
04:29:05 <kzm> Anybody know if the programs used in the language shootout are available?
04:29:18 <vegai> kzm: Yes.
04:29:25 <kzm> Preferably as a huge tarball and a makefile with a target names 'time_all'
04:29:32 <kzm> Where?
04:29:41 <vegai> Ah, that I don't know.
04:29:51 <vegai> would be nice
04:30:00 <kzm> Right.  I found obscure references to the availability, but no real links to anything.
04:32:31 <vegai> well, for instance
04:32:34 <kzm> I guess I can manually click on each benchmark to view the source, copy, paste, get the test data, etc etc.
04:32:38 <vegai> http://shootout.alioth.debian.org/gp4/haskell.php
04:32:43 <lambdabot> http://tinyurl.com/y3kvjm
04:32:49 <vegai> Ah, right. That wasn't what you mean either :)
04:33:02 <vegai> mailing the author might work
04:36:58 <beschmi> kzm: there is a cvs repo with the sources: http://cvs.alioth.debian.org/cgi-bin/cvsweb.cgi/shootout/?cvsroot=shootout
04:37:00 <lambdabot> Title: shootout/, http://tinyurl.com/y4fa9p
04:39:57 <kzm> Thanks, beschmi.
05:31:40 <Dreadshoot> @seen foxy
05:31:40 <lambdabot> I saw foxy leaving #haskell 12h 28m 53s ago, and .
05:34:37 <Pete_I> @seen lambdabot
05:34:37 <lambdabot> Yes, I'm here. I'm in #ScannedInAvian, #perl6, #oasis, #darcs, #ghc, #gentoo-haskell, #haskell_ru, #haskell.es, #haskell.se, #haskell.it, #haskell-overflow, #haskell-blah and #haskell
05:34:49 <Pete_I> quite a few channels
05:35:07 <Pete_I> why not #perl?
05:35:22 <Pete_I> it's in perl6
05:40:28 <ventonegro> in monadic code, what's the difference between x <- and let x = ?
05:42:14 <ventonegro> nevermind
05:48:19 <ChilliX> JohnMeacham: What do you want to know about associated types?
05:57:23 <Itkovian> Pete_I: #perl has nothing to do with haskell.
06:05:19 <jmmv> hi
06:07:14 <yip> do closures have anything to do with haskell?
06:07:19 <dcoutts_> yes
06:08:12 <roconnor> heh, even values can be closures in haskell I think.
06:08:24 <dcoutts_> yep
06:09:20 <velco> in what sense? not yet eveluated ones ?
06:09:27 <yip> well, i'm writing some javascript, and i'm writing it the way i would write haskell, but it seems that i have to do some kind of "closure" shit in javascript where in haskell it wouldn't be necessary
06:09:51 <dcoutts_> velco, right
06:13:24 <arjanoosting> @seen Igloo
06:13:25 <lambdabot> Igloo is in #darcs, #ghc and #haskell. I last heard Igloo speak 21m 14s ago.
06:13:31 <Igloo> Hi
06:14:04 <roconnor> > 3 :+ 4
06:14:05 <lambdabot>  3.0 :+ 4.0
06:14:21 <roconnor> shouldn't that constructor be called :+i ?
06:14:34 <Igloo> That's not a valid name
06:14:36 <vincenz> what's :+
06:14:41 <arjanoosting> Igloo: on which architectures does ghci work by now?
06:14:51 <vincenz> @hoogle (:+)
06:14:52 <lambdabot> Did you mean: (:+)
06:14:52 <lambdabot> Prelude.undefined :: a
06:14:52 <lambdabot> Control.Monad.Reader.ask :: MonadReader r m => m r
06:14:54 <Igloo> arjanoosting: x86 and amd64
06:14:56 <dcoutts_> it can either be symbols or not, but it can't be both
06:14:56 <vincenz> o.O
06:14:59 <vincenz> > 1 :+ 3
06:15:01 <lambdabot>  1.0 :+ 3.0
06:15:05 <vincenz> where does :+ come from
06:15:05 <Igloo> arjanoosting: In 2 GHC uploads time it may also work on powerpc and sparc
06:15:17 <nominolo> ok, probably a stupid Q again, but anyways:  how do i get out of the IO monad?  I am working in another monad (basicly an error monad) and possibly need to open some file, parse it, and return some results back into my error monad. any ideas?
06:15:20 <roconnor> :+!
06:15:25 <roconnor> kinda close
06:15:28 <roconnor> :+|
06:15:30 <dcoutts_> arjanoosting, Igloo, you mean on debian or in general? I think it works on sparc, ppc and ppc64 too.
06:15:43 * Igloo assumed we were talking about Debian
06:15:44 <arjanoosting> dcoutts: in Debian
06:15:51 <vincenz> roconnor: what's :+
06:15:59 <vincenz> @type (:+)
06:16:01 <lambdabot> Not in scope: data constructor `:+'
06:16:13 <dcoutts_> nominolo, you can layer your other monad on top of IO
06:16:49 <roconnor> > (0 :+ 1)^2
06:16:50 <lambdabot>  (-1.0) :+ 0.0
06:16:57 * CosmicRay notes that updated versions of all his packages will be uploaded within an hour
06:17:02 <CosmicRay> I got most of them done yesterday already
06:17:52 <roconnor> > sqrt (1 :+ 0)
06:17:52 <nominolo> dcoutts_: like data ErrM a = Ok IO a | Error String ?
06:17:52 * arjanoosting cheers!
06:17:53 <lambdabot>  1.0 :+ 0.0
06:18:00 <roconnor> !
06:18:03 <roconnor> oops
06:18:06 <roconnor> > sqrt (-1 :+ 0)
06:18:06 <lambdabot>    precedence parsing error
06:18:06 <lambdabot>     cannot mix prefix `-' [infixl 6] and `(...
06:18:14 <roconnor> > sqrt (-(1 :+ 0))
06:18:15 <lambdabot>  -0.0 :+ 1.0
06:18:21 <monstre> why are && and || right-associative in haskell?
06:18:50 <roconnor> > True && undefined
06:18:51 <lambdabot>  Undefined
06:18:54 <dcoutts_> nominolo, probably it needs layer the other way around, eg data ErrM a = IO (Either a | Error String)
06:18:59 <roconnor> > False && undefined
06:19:00 <lambdabot>  False
06:19:07 <dcoutts_> nominolo, check out monad transformers
06:19:17 <nominolo> k
06:19:39 <arjanoosting> Igloo: should we bribe one of the ftp-masters to get all the new packages through NEW ? :-)
06:20:07 <roconnor> monstre: I assume the direction of associativity is arbitrary.
06:20:07 <CosmicRay> arjanoosting: careful, that might spawn a flurry of GRs!
06:20:36 <Igloo> I might mention it to vorlon once everything else is fixed
06:20:51 * arjanoosting sends a proposal to dunc-tank 
06:20:51 <dcoutts_> nominolo, it'd be newtype ErrM a = ErrM (ErrorT String IO a) deriving (Monad, MonadError, MonadIO)
06:20:56 <arjanoosting> ;-)
06:20:58 <roconnor> monstre: Actually I suppose False && (...) will evaluate faster than ((((False && ...))))
06:21:06 <CosmicRay> hehe
06:21:36 <nominolo> dcoutts_: whew, now i need some time to analyse this :) - thx
06:22:38 <arjanoosting> Igloo: hmm quite  a lot of packages need libghc6-mtl-dev etc. to build though
06:23:46 <gds> > undefined && False
06:23:48 <lambdabot>  Undefined
06:24:07 <Igloo> arjanoosting: I don't suppose you've been making a list of what needs to be updated and what is waiting on mtl et al, have you?
06:24:29 <arjanoosting> I have a little list
06:25:11 <CosmicRay> arjanoosting: I am working from http://bjorn.haxx.se/debian/testing.pl?package=ghc6
06:25:14 <lambdabot> Title: ghc6 - Why is package X not in testing yet?, http://tinyurl.com/yys8qw
06:25:22 <CosmicRay> doesn't seem to have been updated with yesterday's flurry of uploads, but it's helpful
06:25:27 <monstre> I don't understand how (False && _|_ && _|_) evaluates to False if && is right-associative
06:25:37 <Igloo> CosmicRay: Doesn't help with programs though, right?
06:25:49 <CosmicRay> Igloo: right
06:25:56 <arjanoosting> ?paste
06:25:57 <lambdabot> http://paste.lisp.org/new/haskell
06:26:23 <Igloo> monstre: The associativity doesn't matter, the important thing is it pattern matches on the left
06:26:27 <CosmicRay> heh: Lisppaste pastes can be made by anyone at any time. Imagine a fearsomely comprehensive disclaimer of liability. Now fear, comprehensively.
06:26:53 <lisppaste2> arjanoosting pasted "arjan's little list" at http://paste.lisp.org/display/28362
06:27:31 <roconnor> monstre: um, which way does right-assocaitve bracket?
06:27:48 <roconnor> False && (undefined && undefined)?
06:27:56 <monstre> right
06:28:00 <Igloo> Hmm, did I not upload haddock?
06:28:01 <roconnor> so the first && is short circut
06:28:15 <roconnor> so False && ... always immediately returns False.
06:28:29 <Igloo> Ah, good, I did
06:28:41 <roconnor> > undefined <= True.
06:28:42 <lambdabot>  Parse error
06:28:47 <roconnor> > undefined <= True
06:28:48 <lambdabot>  Undefined
06:28:51 <roconnor> bah!
06:28:57 <roconnor> stupid <=
06:28:57 <arjanoosting> Igloo: did not update my list yet
06:29:11 <Igloo> arjanoosting: np, it's the sort of thing I'd do  :-)
06:29:16 <roconnor> oh wait
06:29:18 <Igloo> Especially as I had to do by-hand builds for mips/mipsel
06:29:25 <roconnor> > False <= undefine
06:29:26 <lambdabot>  Not in scope: `undefine'
06:29:27 <roconnor> > False <= undefined
06:29:28 <lambdabot>  Undefined
06:29:38 * roconnor wants short-circut <=
06:29:43 <Igloo> so I was just checking I hadn't been stupid
06:31:08 <norpan> roconnor: why stop there, how about 0*undefined?
06:31:38 <norpan> > 0*undefined
06:31:40 <lambdabot>  Undefined
06:31:46 <roconnor> indeed
06:32:00 <roconnor> maybe some rewrite rules are all that is needed
06:32:11 <roconnor> I expect 0*undefined to be optimized to 0.
06:32:13 <norpan> if you have short circuit <=, then a <= b is not equivalent to b >= a anymore
06:33:00 <roconnor> norpan: >= shouldn't be used :)
06:33:05 <gds> unless it does some kind of prolog like search, and hence short circuits both ways ;)
06:33:05 <norpan> unless you want reverse-short-circuit >=
06:34:09 <ventonegro> > iterate ((+) dt) 0.0 where dt = 1.0 / (realToFrac 10)
06:34:10 <lambdabot>  Parse error
06:34:32 <ibid> where cannot be used in expressions
06:34:45 <ventonegro> hmmm
06:34:54 <ibid> only with pattern matching
06:35:05 <monstre> maybe I'm dense, but I still don't understand why (False && (_|_ && _|_)) doesn't diverge
06:35:07 <ibid> use let
06:35:14 <ventonegro> > let dt = 1.0 / (realToFrac 10) in iterate ((+) dt) 0.0
06:35:15 <lambdabot>  [0.0,0.1,0.2,0.30000000000000004,0.4,0.5,0.6,0.7,0.7999999999999999,0.899999...
06:35:16 <monstre> why isn't the rightmost && evaluated first?
06:35:27 <dylan> hmm. I wonder if I can get work to switch from svn to darcs... and if darcs is easy to get install on a RHEL(L) 4 system.
06:35:27 <roconnor> hmm, apparently 0*undefined isn't optimized.
06:35:39 <ibid> monstre: because && is nonstrict in  its right argument
06:35:49 <roconnor> ah, 0# *# would be optimised.
06:35:58 <ibid> monstre: the right operand is only evaluated if the left is True
06:36:29 <norpan> roconnor: unboxed values cannot be undefined :)
06:36:46 <monstre> but isn't the left operand of the second && evaluated first?
06:37:13 <norpan> monstre: no, haskell only evaluates what it needs
06:37:17 <ibid> monstre: no, because the second && is not evaluated at all, because it is the second operand of the first &&
06:38:07 <ibid> monstre: note that it is a mistake to think that parentheses control evaluation order. they only control parsing
06:38:21 <ibid> monstre: (a common mistake, and not just in haskell)
06:39:00 <monstre> *light bulb goes on*
06:39:04 <monstre> thanks, ibid
06:39:08 <ibid> np
06:39:53 <Pete_I> how do you get an anonymous function to recurse?
06:39:56 <Pete_I> can you?
06:40:05 <ibid> you need a fixpoint iterator for that
06:40:21 <ibid> s/iterator/combinator/
06:40:28 <roconnor> What letters can types begin with?
06:40:35 <gds> Pete_I: use "where" and name it? ;)
06:40:41 <psi> Pete_I: send the same function as an argument
06:40:41 <ibid> roconnor: capital ones?
06:40:51 <roconnor> what are capital letters?
06:40:56 <norpan> ABCDE...
06:41:03 <ibid> roconnor: huh? isn't that a grade 1 question?
06:41:04 <roconnor> and that is it?
06:41:15 <norpan> ABCDEFGHIJKLMNOPQRSTUVWXYZ
06:41:26 <ibid> roconnor: technically iirc any capital letter in unicode
06:41:31 <Pete_I> ['A' .. 'Z']
06:41:37 <roconnor> and Tupples and lists are magic Haskell types.
06:41:52 <gds> Capital ascii letters with unicode accents?
06:42:06 <norpan> > filter Char.isUpper [minBound .. maxBound]
06:42:08 <lambdabot>  "ABCDEFGHIJKLMNOPQRSTUVWXYZ\192\193\194\195\196\197\198\199\200\201\202\203\...
06:42:20 <gds> :)
06:42:30 <roconnor> norpan: perfect
06:42:52 <Pete_I> lot of letters
06:43:07 <norpan> > length $ filter Char.isUpper [minBound .. maxBound]
06:43:09 <lambdabot>  1221
06:43:37 <roconnor> > length $ filter Char.isUpper [256..maxBound]
06:43:38 <lambdabot>  add an instance declaration for (Num Char)
06:43:38 <lambdabot>   In an arithmetic sequence: [...
06:43:43 <Syzygy-> > minbound
06:43:44 <lambdabot>  Not in scope: `minbound'
06:43:46 <Syzygy-> > minBound
06:43:47 <roconnor> > length $ filter Char.isUpper [fromEnum 256..maxBound]
06:43:47 <lambdabot>  Add a type signature
06:43:48 <lambdabot>  Couldn't match `Char' against `Int'
06:43:54 <roconnor> > length $ filter Char.isUpper [toEnum 256..maxBound]
06:43:55 <lambdabot>  1165
06:43:59 <Syzygy-> > toInt minBound
06:44:00 <lambdabot>  Not in scope: `toInt'
06:44:13 <Syzygy-> @type minBound
06:44:14 <lambdabot> forall a. (Bounded a) => a
06:44:21 <norpan> i remember one program we had in haskell that got 100 times slower when migrating from ghc 4 to 5 (i think it was)
06:44:28 <resiak> Hmm, ghci doesn't want to actually spit out unicode :(
06:44:44 <norpan> it turned out that somebody (not me) had used [minBound .. maxBound ::Char] as index to an array
06:45:00 <roconnor> someone needs to write a comprehensive unicode character library.
06:45:01 <norpan> all of a sudden that array became quite big
06:45:11 <Pete_I> ....why would you use maxBound as an index to an array?
06:45:19 <ChilliX> norpan: lol
06:45:20 <roconnor> unicode/utf8 character/string library.
06:45:42 <norpan> Pete_I: it was a lookup table
06:45:44 <norpan> for Chars
06:45:52 <Pete_I> ah
06:48:15 <ventonegro> > let blend1 t = 1 - t^2; dt = 1.0 / (realToFrac 10) in map blend1 $ iterate ((+) dt) 0.0
06:48:16 <lambdabot>  [1.0,0.99,0.96,0.9099999999999999,0.84,0.75,0.64,0.51,0.3600000000000001,0.1...
06:49:38 <ventonegro> > let blend1 t = 3*t*(1-t^2); dt = 1.0 / (realToFrac 10) in map blend1 $ iterate ((+) dt) 0.0
06:49:40 <lambdabot>  [0.0,0.29700000000000004,0.5760000000000001,0.8190000000000001,1.008,1.125,1...
07:07:39 <roconnor> http://scholar.google.com/url?sa=U&q=http://www.santafe.edu/~walter/Papers/lambda_gp.A4.ps.gz
07:07:42 <lambdabot> http://tinyurl.com/y3q8ga
07:15:40 <ventonegro> @index Points
07:15:41 <lambdabot> Graphics.Rendering.OpenGL.GL.BeginEnd, Graphics.Rendering.OpenGL.GL, Graphics.Rendering.OpenGL, Graphics.UI.GLUT
07:16:14 * Syzygy- tries his hardest to outgeek everyone on Planet Haskell....
07:16:40 <Syzygy-> Just posted an explanation of why, in one example of an A_oo-algebra, the A_oo-property is equivalent to some map being a Hochschild cocycle.
07:17:30 <Patterner> URL?
07:17:47 <Syzygy-> blog.mikael.johanssons.org
07:17:53 <Syzygy-> It'll be on the planet in an hour.
07:18:13 <ventonegro> Syzygy-, aha, the guy of the OpenGL tutorial
07:18:17 <Syzygy-> This is on the far end of theoretical content of my blog. There are posts there that are much more accessible..
07:18:20 <Syzygy-> ventonegro: Yup, that's me.
07:18:39 <ventonegro> Syzygy-, could you help me a little?
07:18:45 <Syzygy-> ventonegro: I post about life in Jena, about highly theoretical homological algebra, about OpenGL programming in Haskell and about cookies. :)
07:18:49 <Syzygy-> ventonegro: Sure. What's up?
07:18:52 <Patterner> accessible isn't fun :)
07:19:13 <Patterner> Jena? Do you know The Lutz?
07:19:22 <Syzygy-> Patterner: As I say at the end of the post: If you actually grok what I'm talking about, you're in my field to the extent that we're due to run into each other sooner or later on a conference...
07:19:23 <ventonegro> i'm trying to draw something based upon code from the tutorial
07:19:30 <Syzygy-> Patterner: Lutz? No, not straight off... Should I?
07:19:36 <Syzygy-> ventonegro: Yeah?
07:19:45 <Patterner> Lutz Donnerhacke, the only person in Jena i know of :)
07:19:47 <Syzygy-> Pastebin it?
07:19:54 <ventonegro> Syzygy-, but the drawing only flashes when i resize the screen, and when i stop it desappears :-(
07:20:14 <Syzygy-> ventonegro: Pastebin it. Please.
07:20:20 <ventonegro> @paste
07:20:21 <lambdabot> http://paste.lisp.org/new/haskell
07:20:31 <Syzygy-> Patterner: Nope. Don't know him.
07:21:05 <lisppaste2> ventonegro pasted "flashing drawing" at http://paste.lisp.org/display/28365
07:23:45 <SamB_XP> @type LT
07:23:46 <lambdabot> Ordering
07:24:01 <SamB_XP> there isn't a Data.Ordering or Data.Comparing module is there?
07:24:04 <Syzygy-> ventonegro: Care to give me the CubicCurve module as well?
07:24:11 <ventonegro> sure
07:24:12 * Syzygy- can't build it at all right now...
07:25:02 <lisppaste2> ventonegro pasted "cubic curve module" at http://paste.lisp.org/display/28366
07:26:17 <arjanoosting> Igloo: updated list at http://wiki.debian.org/GhcTransition
07:26:18 <lambdabot> Title: GhcTransition - Debian Wiki
07:26:35 <Igloo> arjanoosting: Cool, ta!
07:30:47 <lisppaste2> Syzygy- annotated #28365 with "Better?" at http://paste.lisp.org/display/28365#1
07:31:13 <Syzygy-> That displays well on my box at least.
07:33:14 <ventonegro> Syzygy-, hmm, mine was compiling here
07:33:20 <ventonegro> let me see this version
07:34:10 <Syzygy-> I cleaned up your sequence of lets, and after that it wouldn't compile anymore. May be that I screwed something up, but then again, this works, it would seem, more stably.
07:34:11 <kpreid> they look equivalent to me
07:34:18 <kpreid> perhaps you need a swapBuffers
07:34:22 <Syzygy-> kpreid: Nope.
07:34:34 <Syzygy-> kpreid: It isn't written with double buffering enabled.
07:34:40 <kpreid> ah
07:34:42 <Syzygy-> And doesn't animate anything either for that matter.
07:34:44 <kpreid> flush, then?
07:34:57 <Syzygy-> Flush may be an idea, but doesn't seem to always be needed...
07:35:05 <Syzygy-> @hoogle flush
07:35:06 <lambdabot> GHC.ConsoleHandler.flushConsole :: Handle -> IO ()
07:35:06 <lambdabot> System.Win32.File.flushFileBuffers :: HANDLE -> IO ()
07:35:06 <lambdabot> IO.hFlush :: Handle -> IO ()
07:35:09 <ventonegro> Syzygy-, the problem is still here :-(
07:35:16 <Syzygy-> Ah. Then you probably will want to flush.
07:35:17 <kpreid> Syzygy-: perhaps your cleanup confused do-let with expression-let?
07:35:18 <Syzygy-> Hang on....
07:35:30 <Syzygy-> kpreid: Possible.
07:35:41 <Syzygy-> kpreid: OTOH, the post-cleanup code looks saner to me in several ways.
07:35:45 <Syzygy-> Aaaanyway.
07:36:53 <Syzygy-> ventonegro: Try tacking on a call to flush last in the display function.
07:37:42 <ventonegro> flush seems to need a handle
07:38:59 <kpreid> hm, no glFlush?
07:39:21 <kpreid> ah, hoogle doesn't have it
07:39:27 <kpreid> Graphics.Rendering.OpenGL.GL.FlushFinish.flush
07:39:35 <Syzygy-> Yup, that's the one.
07:39:37 <ventonegro> kpreid, OpenGL has no flush
07:39:45 <ventonegro> kpreid, GLX has
07:39:49 <Syzygy-> Ah.
07:39:54 <kpreid> no, flush is in OpenGL
07:40:09 <krmkrl> how do I make the extra libraries for ghc6.6-1 available on my debian system? I am specifically interested in Control.Monad.Identity
07:40:13 <ventonegro> kpreid, yeah, my bad
07:40:45 <ventonegro> ok guys, it's ok now
07:40:52 <Igloo> krmkrl: You can get them from http://urchin.earth.li/~ian/new/ for now
07:40:53 <lambdabot> Title: Index of /~ian/new
07:41:22 <ventonegro> the nvidia drivers probably do a lot of buffering
07:43:36 <Syzygy-> ventonegro: I'm sorry, but I was completely unable to reproduce the problem, and don't really see what could cause it either...
07:44:11 <ventonegro> Syzygy-, my card must buffer a lot
07:45:05 <Syzygy-> This is something that even software acceleration or very early cards should be able to do without hesitation, I think...
07:45:08 <Syzygy-> It seems weird.
07:45:33 <kpreid> Syzygy-: it's not speed, it's telling it you're done
07:46:06 <ventonegro> it just buffers to increase performance
07:46:29 <Syzygy-> kpreid: I know perfectly well what it's about. I still think that flickering when displaying a dynamically calculated, but basically static curve is weird, and more or less unrelated to flushing the buffer.
07:46:48 <Syzygy-> ventonegro: You could try to introduce double buffering though, to see whether it really is calculating the bloody pointset that eats all the time.
07:47:21 <ventonegro> Syzygy-, but it's fast enough to not flick even in single buffered mode
07:47:45 <Syzygy-> But you don't see anything in single buffered mode except for when you resize it?
07:47:52 <ventonegro> now I do
07:47:54 <Syzygy-> Or did I misunderstand your problem description?
07:47:55 <Syzygy-> Ah.
07:48:01 <ventonegro> flush solved it
07:48:11 <Syzygy-> right.
07:48:38 <Syzygy-> I probably was too sloppy excluding flush in my tutorials. It worked without a hitch on my box without it as well... *goes to fix it*
07:48:56 <ventonegro> it's direct rendering on Linux, FWIW
07:49:16 <Syzygy-> So am I doing. Shouldn't really be a difference...
07:49:57 <ventonegro> i got to go, thank you guys for the help
07:50:00 <ventonegro> c ya later
07:50:00 <krmkrl> Igloo, how do I make them available if I don't have an amd64 machine?
07:50:06 <krmkrl> I have downloaded ghc-6.6-src-extralibs.tar.bz2
07:50:44 <krmkrl> from haskell.org/ghc
07:51:32 <Igloo> krmkrl: Get the tar.gz, diff.gz and dsc of the library you want. dpkg-source -x whatever.dsc; cd whatever; dpkg-buildpackage -rfakeroot -us -uc
08:01:50 <dcoutts_> Igloo, you know about build systems...
08:02:24 <dcoutts_> when installing files from your build tree to your tmp dir or to the live file system, what do we do with permissions ?
08:02:54 <dcoutts_> Cabal currently tries to preserve the permissions that the files had in the build tree
08:03:14 <dcoutts_> but this borks if you have your umask set so that other is not readable
08:03:18 <Igloo> dcoutts_: You just let dh_fixperms fix it afterwards  :-)
08:03:24 <dcoutts_> hah hah hah
08:03:38 <dcoutts_> since then when we install as root, we end up with root owned files that no one else can read
08:04:05 <dcoutts_> if we don't preserve then I think it should work, so long as we at least preserve executable status
08:04:07 <kosmikus2> Cabal should create the files in the build tree with uniform permissions
08:04:22 <dcoutts_> kosmikus2, it just uses your current umask
08:04:29 <dcoutts_> ie it doesn't do anything special
08:04:33 <Igloo> Other languages just call install with fixed perms presumably?
08:04:44 <dcoutts_> that's what I was wondering
08:04:52 <dcoutts_> what does automake do ?
08:05:00 <kosmikus2> yes, so either installation should just do the right thing and change permissions, or permissions should be changed upon file creation
08:05:08 <kosmikus2> using umask doesn't seem sensible in this situation
08:05:49 <kosmikus2> I think what Igloo said. the "usual" way is just to give permission arguments to "install".
08:06:15 <dcoutts_> so doing the right thing here means just installing using all readable ?
08:06:23 <dcoutts_> and +x for binaries of course
08:06:49 <dcoutts_> so let it use the umask of the installing user and override that it's readable
08:06:57 <kosmikus2> I believe preserving the build tree permissions, but creating the files with sensible permissions is the better approach for Cabal, because then, if you want to fix anything, you can just add permission changes to the post-build hook.
08:07:00 <dcoutts_> so you still get to control writable with the umask ?
08:07:26 <Igloo> I'd ignore the umask completely, but allow the perms to be overridden
08:07:33 <Igloo> which I assume is what install-using things do
08:07:48 <kosmikus2> I agree with Igloo.
08:07:54 <dcoutts_> allow them to be overridden how ?
08:08:09 <Igloo> Dunno. With an --XXX fixme override   will do for now
08:08:30 <kosmikus2> what's the problem of using a hook?
08:08:33 <dcoutts_> so we should copy preserving permissions but override that it's readable by all ?
08:08:55 <Igloo> Wouldn't you have to rewrite all the copying code then?
08:09:01 <dcoutts_> possibly yes
08:09:11 <Igloo> No, don't preserve anything
08:09:15 <Igloo> Just install 644 or something
08:09:35 <dcoutts_> so ignore everyone's umask and just use 644
08:09:36 <kosmikus2> why? copying just copies the build tree, right? so you can change permissions in the build tree using a hook without rewriting any of the copying code.
08:10:06 <Igloo> Ah, ISWYM
08:10:07 <dcoutts_> kosmikus2, the problem currently is that by default it breaks if you umask doesn't include o+r
08:10:25 <dcoutts_> if your user's umaks doesn't include o+r
08:10:30 <dcoutts_> http://hackage.haskell.org/trac/hackage/ticket/93
08:10:33 <kosmikus2> that's why I think you should run a fix-perms on the build tree at the end of the compile step.
08:10:34 <lambdabot> Title: #93 (Incorrect permissions on library install) - Hackage - Trac, http://tinyurl.com/s9vl7
08:10:35 <dcoutts_> http://hackage.haskell.org/trac/hackage/ticket/94
08:10:36 <lambdabot> Title: #94 (./Setup.hs install should reset umask) - Hackage - Trac, http://tinyurl.com/y5u36j
08:10:41 <kosmikus2> the you let the user change permissions if she wants to
08:10:42 <Igloo> I was thinking there would be a   copyFile 644 src dest in the copying code
08:10:53 <kosmikus2> finally you copy the build tree preserving permissions exactly as you do now.
08:12:03 <dcoutts_> that's probably harder to implement
08:12:30 <dcoutts_> preserving/changing perms at install time is easier
08:12:57 <kosmikus2> why?
08:13:05 <Igloo> It's easier to implement, but harder to override
08:13:11 <dcoutts_> right
08:13:17 <dcoutts_> just one bit of code to change rather than adding a new phase
08:13:24 <kosmikus2> why is it more difficult to call "chmod" than to call "install"?
08:13:48 <dcoutts_> well, perhaps it's just a bit of copy'n'paste
08:13:55 * Igloo would just add the phase now, as we'll probably want it at some point in the future anyway
08:14:11 <dcoutts_> Igloo, for what ?
08:14:28 <dcoutts_> do we ever want to be able to install non readable files?
08:14:33 <dcoutts_> perhaps we do
08:14:34 <Igloo> Well, I'd view the other way as a temporary hack, ignoring the possibility of overriding
08:15:08 <dcoutts_> well currently it's broken for people with umask 077
08:15:25 <dcoutts_> I was looking for a quick fix to include in 1.1.6.1
08:16:04 * Twigathy prods beelsebob to highlight him back
08:16:11 <Twigathy> fail, not in channel
08:17:22 <kosmikus2> dcoutts_: a quick fix would probably be to just reset umask to a sensible value?
08:17:58 <dcoutts_> kosmikus2, I was thinking of just forcing readable when copying stuff
08:18:08 <dcoutts_> that avoids posix vs win32 issues
08:19:35 <kosmikus2> dcoutts_: what about x permissions?
08:19:46 <dcoutts_> kosmikus2, those would be preserved
08:19:54 <dcoutts_> just add +r
08:20:18 <kosmikus2> so you'd still get broken installations
08:20:33 <kosmikus2> or am I missing something?
08:21:10 <dcoutts_> we just copy the files preserving perms, but override and make it readable by all
08:21:26 <dcoutts_> other perms like +x +w whatever get preserved
08:21:34 <kosmikus2> yes, but what's it worth to be able to read a binary?
08:21:51 <dcoutts_> if it's not readable you can't use it
08:21:58 <dcoutts_> same with libs and .hi files
08:22:02 <kosmikus2> if it's not executable you can't use it either
08:22:10 <dcoutts_> we preserve +x !
08:22:18 <kosmikus2> what do you mean, preserve?
08:22:28 <dcoutts_> it was executable in the build tree
08:22:31 <kosmikus2> if umask is 077, nothing is executable, right?
08:22:55 <dcoutts_> ghc makes binaries executable irrespective
08:23:20 <kosmikus2> ah.
08:23:29 <dylan> whee, ticket #94 is mine.
08:24:24 <kosmikus2> dcoutts_: not on my machine
08:24:33 <dcoutts_> kosmikus2, oh, no you're right
08:24:46 <dcoutts_> kosmikus2, but we don't care about people with very silly umasks
08:24:50 <dcoutts_> 077 is ok
08:24:56 <dcoutts_> 007 is ok
08:25:01 <kosmikus2> dcoutts_: ?
08:25:05 <dylan> 000 is insane.
08:25:10 <dcoutts_> right
08:25:27 <dylan> I've seen people with 070 before.
08:25:43 <kosmikus2> 077 is what's causing the problems right now, isn't it?
08:26:04 <dylan> I gave up on 077 recently, makes stuff harder to do. :P
08:26:10 <dcoutts_> kosmikus2, not in the build tree
08:26:46 <dcoutts_> kosmikus2, the problem is that 077 makes it not readable by other. so when it gets copyied to /usr/local/bin it's owned by root and still not readable
08:26:54 <kosmikus2> yes
08:27:25 <kosmikus2> I get this. And all I'm saying is that if you override it to be readable anyway, you should also override it and make it executable anyway (if it's executable for the owner).
08:27:53 <dcoutts_> ah, hmm
08:28:44 <dcoutts_> yes othwerwise it ends up with -rwx------
08:29:18 <kosmikus2> or -rwxr--r-- ...
08:29:21 <dcoutts_> right
08:29:35 <dcoutts_> ugg
08:30:32 <dcoutts_> kosmikus2, so you reckon the right thing to do is to do a pass before install / setup and modify the perms in place, then let install hooks change them again. And then install?
08:30:49 <ex0r> hey could anyone help me with an error im getting with some code?
08:30:56 <dcoutts_> modifying them in place seems to go against what the user intended with their umask
08:31:05 <mauke> ex0r: paste error, code
08:31:25 <kosmikus2> dcoutts_: umask doesn't really make sense here, I think.
08:31:36 <gds> @paste
08:31:37 <lambdabot> http://paste.lisp.org/new/haskell
08:31:45 <gds> ex0r: Paste it there, if it's big :)
08:31:50 <dcoutts_> kosmikus2, for a build tree ? it makes some sense doesn't it ?
08:32:11 <ex0r> http://rafb.net/paste/results/wa2pjA73.html
08:32:39 <ex0r> im still trying to get my head around moving from Java/C++ to Haskell, some of it still doesnt click yet so bare with me :)
08:32:59 <kosmikus2> dcoutts_: I'd be surprised if, say, portage would respect the umask of the user executing it
08:33:47 <ex0r> namely the format more than anything else
08:33:47 <dcoutts_> kosmikus2, aye, but this isn't being done in a sandbox, this is in someone's home directory
08:34:22 <mauke> ex0r: 'nub' requires the list elements to be comparable with == and /=
08:34:24 <dcoutts_> kosmikus2, if they're on a multi-user machine doing a programming practical then having their files not readable by other might be necessary.
08:34:38 <ex0r> oh right
08:35:02 <kosmikus2> dcoutts_: that's not a problem if you make the directory inaccessible
08:35:05 <mauke> == is a method of Eq, so you need to implement that
08:35:13 <mauke> and put it in the function type
08:35:21 <dcoutts_> kosmikus2, true true, but least surprise and all that
08:36:26 <kosmikus2> dcoutts_: hmm. I'm not really convinced, but I see your point. But then you have to come up with another way of overriding the permissions of specific files without rewriting the whole copying code.
08:37:05 <kosmikus2> dcoutts_: and if possible, without changing the permissions in the live file system after the copying ...
08:37:30 <dcoutts_> kosmikus2, yeah, we don't do that atomically atm
08:37:45 <dcoutts_> kosmikus2, we copy and then set perms :-(
08:38:28 <Igloo> Isn't there a copy command that takes the permissions? I'm sure I remember one
08:38:34 <Igloo> Possibly posix-only, of course
08:38:57 <kosmikus2> dcoutts_: oh, I didn't even mean that. this is not so good, but at least it's code by the cabal developers and can more or less be trusted. I'd rather not have cabal package authors do modifications in the live file system if not absolutely necessary though.
08:39:00 <dcoutts_> Igloo, if you can find it, do tell
08:39:21 <dcoutts_> kosmikus2, yes, right
08:40:51 <Igloo> Ooo, source code links in haddock docs
08:41:50 <Igloo> OK, I think I was probably thinking of createFile
08:43:47 <Igloo> dcoutts_, kosmikus2: Do you hav any cheme for making pre-release or RC version numbers for testing in gentoo?
08:44:08 <dcoutts_> Igloo, foo-1.1_rc1
08:44:16 <dcoutts_> or foo-1.1_pre1
08:44:28 <dcoutts_> and pre < rc
08:44:36 <kosmikus2> yes, but that's still supposed to reflect upstream version numbers
08:44:37 <Igloo> Is that the syntax for tags?
08:44:53 <kosmikus2> Igloo: there's a fixed number of allowed tags
08:45:01 <Igloo> I'm asking about cabal version numbers, not gentoo versino numbers
08:45:17 <dcoutts_> Igloo, no idea about Data.Version tags
08:45:18 <kosmikus2> oh
08:45:34 <dcoutts_> it's totally up to who's reading it to interpret it
08:45:39 <dcoutts_> it's a set of tags too
08:45:56 <dcoutts_> so we could establish some convention I guess
08:49:13 <vincenz> funny comment on #scheme
08:49:28 <vincenz> < foof> my implementation reformats the hard drive on ERROR < foof> it makes people more careful of the code they write
08:49:38 <ex0r> mauke: So, I need to define instances of Eq for CardValue & CardSuit, then I can use Eq in the function? I'm a bit lost :S
08:49:52 <mauke> ex0r: you can let the compiler do it for you
08:50:03 <mauke> data Foo = ... deriving (Eq, Show)
08:50:26 <ex0r> hmm I did that first and it still errored
08:50:26 <ex0r> odd
08:50:38 <mauke> did you change the type signature?
08:50:40 <mauke> er, wait
08:51:08 <ex0r> I just added deriving on the data structures
08:51:17 <ex0r> type structures stayed the same
08:51:37 <mauke> works here
08:52:18 <ex0r> wait I am putting Eq in the right place arent I -> validateHand :: Eq CardHand -> Bool
08:53:11 <mauke> nope
08:53:25 <ex0r> arse
08:53:39 <lisppaste2> mauke pasted "working version" at http://paste.lisp.org/display/28369
08:54:30 <ex0r> ohhhh
08:54:35 <ex0r> good call
08:54:44 <ex0r> didn't know it worked like that
08:56:09 <Igloo> dcoutts_: Does sparc work registerised for you ATM?
08:56:18 <ex0r> would it work if I derived Ord aswell, and it would presume the correct order (<,>) would be as its defined in the data structure, or would I need to explicitly tell it
08:56:19 <dcoutts_> Igloo, no
08:56:24 <dcoutts_> Igloo, there's a bug on it
08:56:27 <ex0r> im just wondering if I can make less work for myself
08:56:46 <dcoutts_> Igloo, same bug on sparc solaris and linux, scheduler re-entered unsafely
08:57:20 <mauke> ex0r: yes, deriving Ord uses the order in the data definition
08:57:58 <mauke> hmm, you could also derive Enum and Bounded
08:58:14 <CosmicRay> arjanoosting: Two questions... 1) where did you get HaXML 0.17 when 0.13 is the latest on the author's site, and 2) did you know that libghc6-haxml-dev doesn't install?
08:58:14 <ex0r> oh excellent
08:58:21 <CosmicRay> oh, and 3) what is haxml.deb for?
08:58:38 <ex0r> im just planning to do some ordering of the cards later and it would make it much easier if Ord was derived
08:58:50 <dcoutts_> Igloo, http://hackage.haskell.org/trac/ghc/ticket/951
08:58:53 <lambdabot> Title: #951 (stage2 on sparc dies with &#34;schedule: re-entered unsafely&#34;) - GHC - ..., http://tinyurl.com/y5jveq
08:59:06 <arjanoosting> CosmicRay: 0.17 is the development version, just look a little bit harder
08:59:08 <Igloo> *nod*, ta
08:59:22 <arjanoosting> CosmicRay: 2) no I did not
08:59:28 <CosmicRay> @paste
08:59:29 <lambdabot> http://paste.lisp.org/new/haskell
08:59:44 <arjanoosting> CosmicRay: 3) constains Dtd2Haskell etc
08:59:58 <lisppaste2> CosmicRay pasted "haxml install failure" at http://paste.lisp.org/display/28370
09:00:12 <CosmicRay> arjanoosting: I sent a bug report, but see that URL for info
09:00:16 <CosmicRay> arjanoosting: hpodder is blocked on this
09:00:39 <CosmicRay> arjanoosting: are you sure it's wise to use the development version?
09:00:57 <arjanoosting> It is in experimental right?
09:01:17 <arjanoosting> or did I screw up?
09:01:19 <CosmicRay> ah.
09:01:21 <CosmicRay> perhaps I did.
09:01:43 <CosmicRay> ah.
09:01:45 <CosmicRay> I screwed up.
09:01:57 <CosmicRay> I just went straight to the ftp site and didn't check packages
09:02:18 * CosmicRay kicks self
09:03:06 <CosmicRay> did you hack 1.13.2 to not use finitemap?
09:03:23 * arjanoosting did not, upstream did
09:03:35 <arjanoosting> i think :-)
09:03:38 <CosmicRay> oh good.
09:03:48 <arjanoosting> don't you trust me?
09:03:59 <CosmicRay> no, I was going to bitch at upstream if they hadn't ;-)
09:08:50 <CosmicRay> hrmm
09:08:56 <CosmicRay> [ 5 of 19] Compiling FeedParser       ( FeedParser.hs, dist/build/hpodder/hpodder-tmp/FeedParser.o )
09:08:56 <CosmicRay> FeedParser.hs:34:0:
09:08:56 <CosmicRay>     Bad interface file: /usr/lib/ghc-6.6/imports/HaXml/Text/XML/HaXml.hi
09:08:56 <CosmicRay>         Something is amiss; requested module  HaXml-1.13.2:Text.XML.HaXml differs from name found in the interface file HaXml:Text.XML.HaXml
09:09:01 <CosmicRay> that's with your 1.13.2 deb
09:09:57 <dcoutts_> was that built with Cabal or with the Makefile ?
09:10:10 <dcoutts_> cabal should build it using the versioned package name
09:10:13 <CosmicRay> this feedparse with cabal
09:10:17 <CosmicRay> don't know about haxml
09:10:44 <dcoutts_> haxml-1.13.x is cabalised but still has it's old makefile
09:10:58 <dcoutts_> the makefile probably doesn't work properly with ghc-6.6
09:11:09 <CosmicRay> yeah it's being build with the makefile
09:11:15 <CosmicRay> arjanoosting: do you want a bug on this ?
09:11:45 <arjanoosting> CosmicRay: file it, I will fix it tonight
09:11:50 <dcoutts_> CosmicRay, it's almost certainly using -package-name HaXml rather than -package-name HaXml-$(VERSION)
09:11:57 <dcoutts_> use Cabal and it works :-)
09:13:04 <CosmicRay> arjanoosting: done
09:17:34 <CosmicRay> ok, that does it for all my packages except hpodder and washngo.
09:17:56 <CosmicRay> I have updated the wiki page appropriately
09:20:37 <dmhouse> Any tutorials anywhere for building tutorials using Text.(X)Html?
09:20:38 <lambdabot> dmhouse: You have 1 new message. '/msg lambdabot @messages' to read it.
09:22:52 <dcoutts_> SyntaxNinja!
09:22:58 <dcoutts_> SyntaxNinja, ugg, file permissions...
09:23:23 <dcoutts_> SyntaxNinja, I was hoping to fix one or two 'easy' bugs before releasing cabal 1.1.6.1
09:23:45 <dcoutts_> SyntaxNinja, bugs #93 and #94 about umasks.
09:24:08 <dcoutts_> SyntaxNinja, but it's trickier than I thought, if you have any time I'd like to talk it over.
09:25:45 <arjanoosting> CosmicRay: yeah
09:26:20 * arjanoosting goes shopping. will be back later
09:29:22 <ex0r> if I were to derive a data structure with Ord, would the first element be the highest or the lowest?
09:29:40 <mauke> lowest, I think
09:31:15 <ex0r> ok
09:31:27 <ex0r> just realised one of my lists goes lowest to highest, the other vice versa
09:31:32 <ex0r> could get confusing :D
09:31:33 <roconnor> offtopic: Can I get TLA to list the patches that touched a particular file?
09:41:39 <SyntaxNinja> dcoutts_: sure.
09:42:02 <dcoutts_> SyntaxNinja, ok, so currently we preserve the permissions of the files in the build tree when we install them.
09:42:20 <glguy> fuck google
09:42:58 <dcoutts_> SyntaxNinja, so if the user's umask is such that files in the build tree are not readable by other, then when installing as root (eg with sudo) then we end up with files that are not readable by anyone except root.
09:43:25 <SyntaxNinja> dcoutts_: ok
09:43:35 <dcoutts_> SyntaxNinja, make based systems use install and usually specifically the -m mode
09:43:47 <dcoutts_> ie they do not respect the umask of the installing user
09:44:05 <glguy> What isn't using install?
09:44:12 <dcoutts_> glguy, cabal
09:44:15 <glguy> ew
09:44:25 <dcoutts_> glguy, because it doesn't exist on windows for example
09:44:42 <dmhouse> How does one use Text.(X)Html.Table then?
09:44:56 <dmhouse> All the functions are given no Haddock documentation whatsoever.
09:44:56 <glguy> dcoutts_: neither does cp(1) (c:
09:44:57 <SyntaxNinja> dcoutts_: OK
09:45:14 <dcoutts_> glguy, quite, and we don't use that either :-)
09:45:14 <glguy> google bought youtube and wrecked it!
09:45:19 <dcoutts_> SyntaxNinja, so what to do...
09:45:35 <dcoutts_> SyntaxNinja, we could do the same, and just install everything with fixed perms
09:45:39 <SyntaxNinja> dcoutts_: it would be nice if we had an "install" function that behaved kinda like the install program
09:45:54 <SyntaxNinja> dcoutts_: parameterized by the permissions
09:45:56 <vincenz> anyone have an orkut account?
09:46:00 <dmhouse> Oh, I think I get it. </> = above and <-> = beside.
09:46:05 <dcoutts_> SyntaxNinja, indeed, but it needs to distinguish between data files, binaries and possibly other executable scripts
09:46:07 <SyntaxNinja> vincenz: orkut is SO last year
09:46:19 <vincenz> SyntaxNinja: what is this year then
09:46:21 <dcoutts_> SyntaxNinja, but we currently don't know about scripts
09:46:22 <glguy> isn't install used because it set the permissions at the time of install avoiding the security race condition?
09:46:31 <SyntaxNinja> vincenz: video podcasts
09:46:34 <vincenz> meh
09:46:39 <dcoutts_> SyntaxNinja, so if Setup.hs sets some script to be executable then we don't know about it
09:46:44 <SyntaxNinja> dcoutts_: what do people usually do w/ scripts? set them as data files?
09:47:00 <dcoutts_> SyntaxNinja, at the moment I guess that's all they can do
09:47:04 <osfameron> evenin'
09:47:12 <osfameron> where can I download the libraries pertaining to http://www.haskell.org/ghc/docs/latest/html/libraries/HGL/Graphics-HGL.html
09:47:15 <lambdabot> http://tinyurl.com/yk65ez
09:47:20 <dcoutts_> SyntaxNinja, and then either make them executable in the .tar file or do so as a custom action in the Setup.hs hooks
09:47:22 <osfameron> each page has a link to the source for the particular module
09:47:23 <SyntaxNinja> dcoutts_: we could use non-overriding kind of chmod like +x, which sets it if its not set, but don't use -x
09:47:26 <osfameron> but I want the whole distribution
09:48:12 <SyntaxNinja> dcoutts_: that is, don't explicitly set the permissions, but just add 'x' and 'r' to things we think should have those permissions
09:48:55 <SamB> osfameron: well, you could go grab a copy of the ghc repo and then use darcs-all to grab the libraries you want...
09:49:04 <dcoutts_> SyntaxNinja, so the base set of permissions should come from where? the umask of the installing user (ie root) or copy the perms from the build tree (ie from the user's umask + and customisations done by setup.hs)
09:49:15 <osfameron> SamB: oh, that's handy :-)
09:49:37 <SamB> or, well, not a copy of the *whole* repo
09:49:43 <dcoutts_> SyntaxNinja, and we'd make it +rx for owner, group and other? and for other files +r for owner, group and other?
09:49:55 <osfameron> it's not very clear how those docs (via google) relate to the info on the standard libraries linked from the front page of haskell.org...
09:50:00 <dmhouse> Is there a handy function observationally equivalent to group . sort (or groupBy f . sortBy f) but that doesn't involve two traversals of the list?
09:50:03 <SyntaxNinja> dcoutts_: hm.
09:50:07 <SamB> osfameron: hmm?
09:50:19 <SyntaxNinja> dcoutts_: I'd say that the base set should come from the build tree, as it does now, right?
09:50:35 <osfameron> SamB: as in http://www.haskell.org/haskellwiki/Libraries_and_tools/Graphics
09:50:38 <lambdabot> Title: Libraries and tools/Graphics - HaskellWiki, http://tinyurl.com/y7w4lv
09:50:43 <dcoutts_> SyntaxNinja, right, and we add +r and +rx depending on the file type.
09:50:49 <osfameron> SamB: I'm not clear which of those count as Graphics-HGL
09:50:50 <SyntaxNinja> dcoutts_: wait hmm. I was thinking that that would allow ppl to set the perms in the build tree, but maybe that's not necessary
09:51:14 <osfameron> aha!  it's in the standard libraries
09:51:17 <SyntaxNinja> dcoutts_: I guess +x is kinda an exception
09:51:33 <SyntaxNinja> (for scripts)
09:51:41 * SyntaxNinja is thinking out loud
09:51:54 <SyntaxNinja> speaking of which, the Vlad Putin is nuts. don't tell him I said that.
09:51:55 <SamB> osfameron: well, those libraries are actually not standard, only de-facto standard ;-)
09:52:02 <dcoutts_> SyntaxNinja, hah hah hah
09:52:35 <SamB> osfameron: but that is nearly as good
09:52:55 <SyntaxNinja> dcoutts_: hm. is there a security problem w/ accepting the build permissions from the build tree, such as the setuid bit?!
09:52:56 <SamB> (if not better)
09:53:07 <dcoutts_> SyntaxNinja, probably, yes.
09:53:26 <dcoutts_> SyntaxNinja, though currently there is a bug whereby those kinds of permissions are not preserved anyway.
09:53:37 <SyntaxNinja> whew ;)
09:53:41 <dcoutts_> SyntaxNinja, but that bug might get fixed some time and then we'd preserve setuid
09:53:43 <glguy> what's the SOE function for reading a keypress in a window?
09:53:53 <osfameron> SamB: most importantly, are they already installed?  and if not how do I install them?
09:53:58 <dcoutts_> glguy, check the docs
09:54:14 <SamB> osfameron: you have GHC?
09:54:15 <dcoutts_> http://haskell.org/ghc/docs/latest/html/libraries/HGL/Graphics-SOE.html
09:54:17 <lambdabot> http://tinyurl.com/ymovqo
09:54:20 <osfameron> SamB: yarr
09:54:50 <SamB> I think they should be installed if you got a full binary distribution
09:55:03 <osfameron> sorry I'm asking clueless questions :-)  I want to play along to School of Expression over weeknd, and I'll be offline so won't be able to add additional libraries
09:55:12 <dcoutts_> SyntaxNinja, so the Q is, who gets to decide the permissions in the build tree and the installed tree, and are they at all customisable but the Setup.hs hooks.
09:55:37 <osfameron> from ghci I can't:  :load Graphics.SOE  as it says it's a package module... or maybe that's a good thing?
09:55:47 <SamB> yes that is good
09:55:52 <dcoutts_> SyntaxNinja, eg for hssh I might want to install config files that are only readable by user, not other.
09:56:01 <SamB> :m Graphics.SOE
09:56:18 <SyntaxNinja> dcoutts_: how does gentoo solve this?
09:56:20 <osfameron> oh, cool
09:56:22 <osfameron> thanks
09:56:25 <glguy> sweet, runGraphics (openWindow "test" (100,100) >>= liftM2 (>>) getKey closeWindow)  worked out in my fresh install
09:56:30 <SamB> you are most welcome
09:57:03 <SyntaxNinja> I guess debian just uses the permissions from the build tree
09:57:31 <dcoutts_> SyntaxNinja, it installs into a temporary directory and then merges into the live file system. It presumably preserves perms because it is legit to have setuid things.
09:57:56 <SyntaxNinja> dcoutts_: right.
09:57:59 <dcoutts_> SyntaxNinja, it mostly relies on the build to set the perms right, but the ebuild can override if necessary.
09:58:00 <SyntaxNinja> same with debian
09:58:19 <dcoutts_> and it always uses some sensible umask
09:58:28 <SamB> Debian does the same thing, except instead of merging with the filesystem it makes a tarball ;-)
09:58:40 <Igloo> SyntaxNinja: dh_fixperms sorts out most things if you use debhelper
09:58:44 <dcoutts_> SamB, aye, gentoo can do that too
09:59:01 <dcoutts_> but as I said, most make based things use install with some -m flag
09:59:12 <SyntaxNinja> Igloo: any advice on the current dilemma
09:59:23 <SamB> you can use fakeroot to let it set the perms on things in the tarball correctly without actually building as root
09:59:27 <dcoutts_> but that does mean the build can customise things or set scripts executable
09:59:46 <SyntaxNinja>   dh_fixperms makes all files in usr/share/doc in the package build
09:59:46 <SyntaxNinja>        directory (excluding files in the examples/ directory) be mode 644. It
09:59:46 <SyntaxNinja>        also changes the permissions of all man pages to mode 644. It makes all
09:59:46 <SyntaxNinja>        files be owned by root, and it removes group and other write permission
09:59:46 <SyntaxNinja>        from all files. It removes execute permissions from any libraries that
09:59:46 <SyntaxNinja>        have it set. It makes all files in bin/ directories, /usr/games/ and
09:59:48 <SyntaxNinja>        etc/init.d executable (v4 only). Finally, it removes the setuid and
09:59:50 <SyntaxNinja>        setgid bits from all files in the package.
09:59:59 <Igloo> Yes, I think a fixperms pass in the build tree is the way to go
10:00:14 <dcoutts_> remember that we don't know that we're root
10:00:22 <dcoutts_> we have to be able to install as a user
10:00:36 <dmhouse> ?hoogle String -> Html
10:00:37 <lambdabot> Text.Html.afile :: String -> Html
10:00:37 <lambdabot> Text.Html.clickmap :: String -> Html
10:00:37 <lambdabot> Text.Html.itag :: String -> Html
10:00:51 <dcoutts_> well, we could find out that we're root I guess
10:01:05 <SamB> dcoutts: so, the fixperms pass could just bail if it isn't root
10:01:17 <Igloo> What do you want to do that needs root?
10:01:22 <SamB> since an ordinary user can set the perms how they like anyway...
10:01:51 <SamB> Igloo: well, you don't *want* to set all those files to be owned by root if you aren't root...
10:02:04 <dcoutts_> Igloo, it's not that we need it. Suppose I'm installing as myself, is it not reasonable to be able to install all the files and executables so that only I can read them.
10:02:26 <dcoutts_> Igloo, but usually when installing globally you want to make it available to non-root users.
10:02:38 <dcoutts_> perhaps it should be controled by the --user flag
10:02:52 <SamB> perhaps.
10:03:08 <dcoutts_> if you use --user then it uses the user's umask for installed files and without then it makes them readable by all.
10:04:11 <SamB> there should be a way to specify that certain config or data files be set differently...
10:04:40 <dcoutts_> aye, that's another thing, customisation by the package itself
10:05:46 <dcoutts_> SyntaxNinja, so there's two things: is there a quick fix I should use for 1.1.6.1 and what's the right longer term fix.
10:05:47 <Tom__> hi, quick question: is it correct that there is no predifined function that returns true if all elements of a list are equal and false otherwise?
10:05:48 <SamB> a file with a user column, a mode column, and a filename column might be nice...
10:06:03 <dcoutts_> SamB, sounds very unixy
10:06:07 <SamB> yes I know
10:06:20 <SamB> but probably you'd want to be OS-specific for this anyway?
10:06:42 <SamB> you could have a different file with long-winded ACL specs for NT...
10:07:15 <dcoutts_> or SELinux, the possabilites go on and on and on
10:07:37 <SamB> how does that work?
10:07:54 <dcoutts_> dunno, to complicated for me to figure out
10:08:07 <SamB> so, let them figure out what to do ;-P
10:08:10 <glguy> dons: you about?
10:08:50 <dfranke> dcoutts_, the gtk2hs "concurrent" demo doesn't seem to do anything.
10:09:00 <dfranke> the progress bar doesn't move.
10:09:12 <dcoutts_> dfranke, what OS ?
10:09:16 <dcoutts_> and what GHC version ?
10:09:20 <SyntaxNinja> dcoutts_: so what are our options?
10:09:43 <dcoutts_> SyntaxNinja, a quickish fix might be to use fixed installation permissions
10:09:52 <dfranke> dcoutts_, I've tried it on all four combinations of 6.4.2 and 6.6, Linux x86 and AMD64.
10:10:36 <dcoutts_> dfranke, ok, i'll take a look later. Remind me some time.
10:10:39 <dfranke> 6.6 using the latest darcs tree, 6.4.2 using 0.9.10
10:12:10 <SyntaxNinja> dcoutts_: fixed by what?
10:12:35 <glguy> Does anyone know what the primary differences in wmii and dwm are?
10:12:52 <dcoutts_> SyntaxNinja, I mean readable by all for ordinary files and executable by all for binary executables
10:13:13 <dcoutts_> SyntaxNinja, no idea about scripts
10:13:42 <dcoutts_> hmm, perhaps if it's executable for the installing user then make it executable for all
10:13:44 <dcoutts_> or something
10:13:46 <dcoutts_> I dunno
10:13:48 <SyntaxNinja> dcoutts_: so we could use the current permissions in the tree (which we attempt to set correctly for executables). if the setup file changes them, so be it. we set the owner as the installer, and if it's --user, leave it at that, if it's --global, project the user permissions for group and global
10:14:07 <dcoutts_> right
10:14:22 <SyntaxNinja> how's that sound?
10:14:36 <dcoutts_> so long as that works. If I'm root and some file belongs to joe and is only u+x, then can I as root run it ?
10:14:58 <SyntaxNinja> why would the file belong to joe and root is trying to run it?
10:15:02 <dcoutts_> ie is extending the user permissions feasible?
10:15:12 <dcoutts_> if joe built it and root is installing it
10:15:21 <SyntaxNinja> if root is installing it, we change the owner to root
10:15:32 <dcoutts_> yes ok
10:15:41 <dcoutts_> sounds reasonable :-)
10:15:46 <dcoutts_> want to code it up :-)
10:15:51 <SyntaxNinja> and if the user permission is 'r' then we project that onto group and global, so even if it was u+r go-r, it then becomes ugo+r
10:15:59 <SyntaxNinja> hehe
10:16:18 <dcoutts_> so I'll release 1.1.6.1 as is then with no quick fix ?
10:16:36 <SyntaxNinja> yeah, I do, sounds fun... I might get some time to hack on saturday, but can't promise. can you document the decision?
10:16:45 <SyntaxNinja> OK so let's back up, what's the quick fix?
10:17:06 <dcoutts_> SyntaxNinja, I'm not sure there is one that doesn't break executable scripts
10:17:10 <dcoutts_> lets add it to http://hackage.haskell.org/trac/hackage/ticket/93
10:17:10 <mauke> .oO( all this talk about u+x and go-r is confusing me. can't you just use octal? readable, user friendly, insert nonsensical rant, etc )
10:17:13 <lambdabot> Title: #93 (Incorrect permissions on library install) - Hackage - Trac, http://tinyurl.com/s9vl7
10:17:39 <araujo> morning!
10:19:38 <SyntaxNinja> dcoutts_: cool, thanks. I'll try to attack it tomorrow if I get a chance. here's hoping
10:20:14 <dcoutts_> SyntaxNinja, I'll add your note to that bug. BTW, I don't think that changes in trac bugs are getting sent to the cabal-devel list are they?
10:21:26 <SyntaxNinja> dcoutts_: no
10:21:29 <dcoutts_> SyntaxNinja, I've just been through and closed a bunch of old bugs (for things that are now fixed) but there's no email through to the mailing list.
10:21:39 <dcoutts_> it'd help I think in noticing new bug reports etc
10:21:51 <SyntaxNinja> I agree. I use RSS for this, btw.
10:22:30 <dcoutts_> ah yes, though it'd help other people on cabal-devel too I think
10:22:40 <SyntaxNinja> right.
10:22:57 <erider> cabal-devel?
10:22:58 * dcoutts_ will stop whining
10:23:09 <dcoutts_> erider, the cabal development mailing list
10:23:23 <erider> ah ok
10:26:04 <dcoutts_> SyntaxNinja, one more trac thing. I can't create new milestones (though I can create new versions and similar admin things).
10:31:09 <FransE> Hi, when using ghc, "x = 5" works, while using ghci I must use the 'let' keyword. Why is that?
10:32:09 <marcot> Hello there.
10:32:28 <marcot> ghc --make -package HDBC-postgresql -fno-implicit-prelude -fglasgow-exts -Wall -O2 -ihaskell -o haskell/urban haskell/Main.hs
10:32:28 <marcot> Chasing modules from: haskell/Main.hs
10:32:28 <marcot> Could not find module `Data.Eq':
10:32:52 <marcot> Why can't he find Data.Eq?
10:33:54 <dcoutts_> no -package base
10:34:07 <dcoutts_> erm, no, that's ok
10:34:22 <dcoutts_> ah, -fno-implicit-prelude perhaps
10:34:37 <dcoutts_> why do you need that ?
10:35:05 <marcot> dcoutts_: I tried the three options.
10:35:23 <marcot> dcoutts_: Even without -fno-implicit-prelude works.
10:35:23 <dcoutts_> what three?
10:35:31 <marcot> With -package base
10:35:35 <marcot> The way it was.
10:35:44 <marcot> And without -fno-implicit-prelude.
10:35:57 <dcoutts_> you're not being clear
10:36:02 <marcot> Sorry.
10:36:14 <marcot> ghc --make -package HDBC-postgresql -package base -fno-implicit-prelude -fglasgow-exts -Wall -O2 -ihaskell -o haskell/urban haskell/Main.hs
10:36:14 <marcot> Chasing modules from: haskell/Main.hs
10:36:14 <marcot> Could not find module `Data.Eq':
10:36:32 <dcoutts_> and when you don't use -fno-implicit-prelude it gives the same ?
10:36:42 <marcot> ghc --make -package HDBC-postgresql -fglasgow-exts -Wall -O2 -ihaskell -o haskell/urban haskell/Main.hs
10:36:43 <marcot> Chasing modules from: haskell/Main.hs
10:36:43 <marcot> Could not find module `Data.Eq':
10:36:46 <marcot> Yes.
10:36:52 <Syzygy-> @hoogle Data.Eq
10:36:54 <lambdabot> No matches, try a more general search
10:37:12 <lisppaste2> Lajexander pasted "need help with where and curry" at http://paste.lisp.org/display/28375
10:38:01 <marcot> Where does @hoogle search?
10:38:06 <dcoutts_> marcot, well perhaps your ghc doesn't have Data.Eq in the base package
10:38:12 <Lajexander> is the canDo function a valid function? what I want to do here is to improve readability
10:38:39 <araujo> dons, ping
10:38:47 <marcot> But it's in the doc.
10:38:47 <dcoutts_> marcot, try ghc-pkg field base exposed-modules | grep Eq
10:39:11 <Lajexander> oh, missed in the type for action; ...-> (World, String)
10:39:20 <Syzygy-> Oooh. Neat command, dcoutts_
10:39:25 <araujo> dons, it looks like http://www.haskell.org/haskellwiki/HWN/es/2006-10-19 got the character encoding wrong
10:39:27 <lambdabot> Title: HWN/es/2006-10-19 - HaskellWiki, http://tinyurl.com/y6mxy2
10:40:02 <marcot> dcoutts_: Nothing...
10:40:14 <marcot> hum..
10:40:18 <marcot> I'm reading the 6.6 doc.
10:40:22 <marcot> That's the problem.
10:40:28 <SyntaxNinja> dcoutts_: try now
10:40:35 <marcot> 6.4.2 doesn't have Eq.
10:40:38 <marcot> ?
10:40:46 <marcot> The module..
10:41:36 <Lajexander> anyone: please look at latest lisppaste2's link
10:41:56 <dcoutts_> SyntaxNinja, ta. I can give myself permissions to do it now :-)
10:42:30 * glguy could get used to wmii
10:42:33 <SyntaxNinja> dcoutts_: you should have permission to do it
10:42:37 <SyntaxNinja> dcoutts_: admin is all you need
10:43:03 <SyntaxNinja> dcoutts_: btw, did  you talk w/ xerox about merging cabal-install changes into mainline?
10:43:18 <dcoutts_> SyntaxNinja, I did briefly, he's very very busy.
10:43:34 <dcoutts_> SyntaxNinja, speaking of which we've now got cabal-branches/
10:43:48 <SyntaxNinja> oh cool :)
10:44:00 <dcoutts_> SyntaxNinja, and I moved the cabal repo to $top/cabal, with a symlink from the previous location of $top/packages/Cabal
10:44:19 <dcoutts_> there's currently a cabal-1.1.4 and cabal-1.1.6 branch
10:44:36 <dcoutts_> I'll be making the 1.1.6.1 release off the 1.1.6 branch
10:46:49 * tessier wonders why one would choose to use perl6 over haskell... There must be a reason or no haskeller would bother to implement perl6 in haskell.
10:47:13 <yip> cpan
10:47:19 <glguy> They are bothering to implement Perl6 in Haskell because they could not implemented it in Perl5
10:47:34 <chessguy> i've always liked perl regexes
10:47:39 <SyntaxNinja> tessier: that's what I always thought.
10:47:56 <SyntaxNinja> cpan is the reason Audrey gives. that's why we need hckage! (and hackers to work on it)
10:48:03 <SyntaxNinja> dcoutts_: makes sense.
10:48:24 * tessier is reading Audrey's slides 
10:49:11 <tessier> SyntaxNinja: But if that were the case wouldn't the past however many years have been better spent building a CPAN equivalent for haskell instead of implementing perl6? And is perl6 backwards compatible with perl5?
10:49:20 <tessier> Otherwise you just have to make cpan over again anyway.
10:49:50 <mauke> it's not language compatible, but you can load perl5 modules in perl6 and use them
10:50:21 <tessier> mauke: How does that work then? Do you need perl5 installed also which compiles it to compatible bytecode or something?
10:50:36 <SamB> tessier: many of the perl people don't understand Haskell. Also, perl *is* better for some things than Haskell is.
10:50:39 <SamB> I think.
10:50:50 <mauke> SamB: yeah, like writing servers :/
10:51:03 <tessier> Perl is better for writing servers? How so?
10:51:13 <SamB> I was thinking more along the lines of the evil mangler ;-)
10:51:30 <mauke> perl supports inet_ntoa and select
10:51:58 <SamB> don't tell me you seriously *want* to call select in your program?
10:52:07 <mauke> sometimes I do
10:52:13 <SamB> why?
10:52:28 <mauke> ok, it's actually a library
10:52:48 <SamB> I mean your Haskell program, btw!
10:53:15 <mauke> yeah. I had this nice idea for an IO multiplexing library and wrote a first version in OCaml
10:53:37 <mauke> it's usable but the syntax isn't optimal
10:54:05 <ValarQ> hello shapr
10:54:09 <emu> the presence of some FFI makes perl more suitable?
10:54:22 <shapr> hej
10:54:23 <mauke> I know two languages that could support the syntax I'm thinking of, Haskell (with monads) and C (horrible hack with multiple stacks, etc)
10:54:44 <SamB> emu: well actually mauke is only complaining that Haskell RTSes tend to use select for their own purposes...
10:55:03 <emu> CL implementations make available an interface to select even if they use it themselves
10:55:09 <SamB> yeah
10:55:22 <SamB> feel free to suggest something...
10:55:30 <mauke> I'm currently working on a Haskell version of OCaml's Unix module
10:55:34 <Lemmih> Hejsa shapr.
10:55:40 <ValarQ> are you talking about using select(2) in functional languages?
10:55:45 <xerox_> Hiya people.
10:55:50 <emu> what does happs do? multithreaded?
10:55:58 <mauke> however, ghci seems to have some bugs in the FFI area
10:56:11 <Lemmih> Hello busy xerox_.
10:56:13 <mauke> ValarQ: sure
10:56:16 <shapr> greetz Lemmih
10:56:16 <tessier> Seems like coroutines and an event loop or something would be the way to go instead of select
10:56:27 <ValarQ> mauke: isn't there a better way to solve the problem?
10:56:31 <mauke> that's pretty much what my lib does
10:57:07 <mauke> ValarQ: I want to be able to handle multiple connections in a single process
10:57:14 <SamB> I'm sure if you can come up with reasonable way for the GHC RTS to offer a reasonable interface for select, and write it up, or hack it up, something good could come of it...
10:57:14 <xerox_> Lemmih!  How's things?
10:57:21 <ValarQ> mauke: single OS process?
10:57:25 <mauke> ValarQ: yes
10:57:31 <xerox_> Lemmih: I'm in Genova for a conference on Alan Turing and his work.
10:57:37 <SamB> mauke: forkOS
10:57:42 <SamB> no
10:57:43 <ValarQ> mauke: can't you just use lightweight threads then?
10:57:43 <SamB> forkIO
10:57:50 * SamB got it backwards :-P
10:57:54 <ValarQ> mauke: and bind it together with STM
10:58:01 <mauke> ValarQ: can I use inet_ntoa with threads? safely, I mean?
10:58:10 <SamB> mauke: oh, point
10:58:13 <SamB> what does it do though?
10:58:23 <mauke> pretty-print an ip address
10:58:40 <emu> one of the most difficult problems in all of CS!
10:58:43 <SamB> you can hack up a safe one that will work for now...
10:58:50 <dcoutts_> xerox, you, so what's the status of the cabal-with-install branch that we have in darcs ? where is your current branch for that stuff?
10:58:51 <ValarQ> mauke: shouldn't that function be threadsafe?
10:58:57 <SamB> ValarQ: it ain't!
10:59:01 <ValarQ> ow
10:59:06 <dcoutts_> xerox, I've been organising the various cabal branches
10:59:09 <mauke> ValarQ: apparently the haskell version is a simple wrapper around the C version, which uses a static buffer
10:59:31 <emu> i haven't looked at haskell bit twiddling functinos
10:59:51 <SamB> emu: we have the full complement.
10:59:58 <SamB> and the bit shifting.
11:00:02 <mauke> btw, I think I know how to do inet_ntoa in haskell now
11:00:03 <SamB> and bit testing and setting.
11:00:18 <tessier> I am SO far behind on perl...
11:00:23 <ValarQ> mauke: feels weird to have a separate thread to do such calls in... :/
11:00:25 <tessier> Perl is a totally different language from when I learned it
11:00:26 <mauke> you need alloca, castPtr and raw byte access
11:00:29 <SamB> also .|., .&., and `xor`
11:01:01 <SamB> mauke: why don't you give that treatment to the wrapper in the libs, instead?
11:01:04 <xerox_> (dcoutts_: we are both nick_)  I haven't got access to my computer now, I'm in Genova, I *think* the last branch is ...
11:01:05 <tessier> When I read Learning Perl back in 95 or 96 it never mentioned functional stuff or OO stuff or any of this crazy notation
11:01:05 <SamB> or in addition?
11:01:15 <mauke> SamB: what treatment?
11:01:20 <emu> why not just implement inet_ntoa in haskell then
11:01:46 <xerox_> dcoutts_: http://darcs.haskell.org/~paolo/darcs/Cabal/
11:01:47 <mauke> emu: I didn't know how to access raw bytes in haskell before I started writing the Unix lib
11:01:48 <lambdabot> Title: Index of /~paolo/darcs/Cabal
11:02:05 <SamB> mauke: if you can do it that way, why not send a patch to do that in the libs themselves?
11:02:13 <dcoutts_> xerox_, so I can get rid of http://darcs.haskell.org/cabal-with-install/ ?
11:02:15 <lambdabot> Title: Index of /cabal-with-install
11:02:25 <SamB> or is your library a suggested replacement anyway?
11:02:32 <dcoutts_> xerox, or perhaps I should move it to http://darcs.haskell.org/cabal-branches/cabal-with-install/
11:02:34 <lambdabot> http://tinyurl.com/y3ypp9
11:03:00 <dcoutts_> xerox_, when you get back, we should move your current branch under http://darcs.haskell.org/cabal-branches/  too
11:03:01 <lambdabot> Title: Index of /cabal-branches
11:03:18 <xerox_> dcoutts_: I'm not sure, Isaac asked me to move the things in and out a few times
11:03:27 <xerox_> dcoutts_: I'll be back tomorrow, ok.
11:03:31 <dcoutts_> xerox_, ok
11:03:33 <mauke> SamB: my library is just a private collection of useful unix functions
11:03:49 <mauke> it's not even half done yet
11:10:58 <emu> is there a literal syntax for binary numbers
11:11:42 <mauke> yes, in perl
11:11:51 <emu> in many languages
11:11:56 <emu> i'm asking about haskell
11:12:13 <mauke> apparently not
11:15:55 <FransE> Hi, when using ghc, "x = 5" works, while using ghci I must use the 'let' keyword. Why is that?
11:16:29 <dcoutts_> you can think of ghci as you being in the IO monad
11:16:47 <FransE> k, that makes no sense to me.
11:16:58 <dcoutts_> in a do ... context
11:17:00 <FransE> I need to learn more then.
11:17:08 * FransE is a haskell newbie.
11:17:13 <dcoutts_> so you only get to evaluate expressions or use let
11:17:24 <dcoutts_> you don't get to make top level declerations like new types
11:17:46 <FransE> k
11:21:59 <yip> do you guys read ltu?
11:25:54 <lisppaste2> emu pasted "binary literal" at http://paste.lisp.org/display/28378
11:26:41 <mauke> ouch
11:27:08 <emu> probably a better way
11:28:19 <mauke> > readInt
11:28:24 <lambdabot>  Add a type signature
11:28:45 <emu> hmm maybe i should do least significant first like the bits library does
11:29:01 <sjanssen> @hoogle readIntAtBase
11:29:02 <lambdabot> No matches found
11:29:13 <sjanssen> @hoogle readIntBase
11:29:14 <lambdabot> No matches found
11:29:29 <mauke> > readInt 2 (`elem` "01") ((flip (-) (ord '0')) . ord) "101"
11:29:32 <lambdabot>  [(5,"")]
11:29:41 <sjanssen> oh, it's just called readInt
11:30:02 <sjanssen> showIntAtBase and readInt are inconsistent
11:31:37 <emu> @type readInt
11:31:38 <lambdabot> forall a. (Num a) => a -> (Char -> Bool) -> (Char -> Int) -> ReadS a
11:31:45 <emu> @hoogle readInt
11:31:45 <lambdabot> Numeric.readInt :: Integral a => a -> (Char -> Bool) -> (Char -> Int) -> ReadS a
11:31:46 <lambdabot> Numeric.readInt :: Num a => a -> (Char -> Bool) -> (Char -> Int) -> ReadS a
11:31:46 <lambdabot> Text.Read.Lex.readIntP :: Num a => a -> (Char -> Bool) -> (Char -> Int) -> ReadP a
11:31:50 <mauke> > let bin = (\(n, "") -> n) . readInt 2 (`elem` "01") ((flip (-) (ord '0')) . ord) in bin "1101"
11:31:51 <lambdabot>  Couldn't match `(a, [Char])' against `[(a1, String)]'
11:31:59 <mauke> > let bin = (\[(n, "")] -> n) . readInt 2 (`elem` "01") ((flip (-) (ord '0')) . ord) in bin "1101"
11:32:01 <lambdabot>  13
11:33:00 <emu> @hoogle ord
11:33:00 <lambdabot> Char.ord :: Char -> Int
11:33:01 <lambdabot> Prelude.Ord :: class Eq a => Ord a
11:33:01 <lambdabot> Text.Html.ordList :: HTML a => [a] -> Html
11:38:23 <emu> @pl ((+ (- (ord '0'))) . ord)
11:38:24 <lambdabot> (subtract (ord '0') +) . ord
11:38:32 <xerox_> What are you doing, hehe
11:39:01 <mauke> ah, I keep forgetting about subtract
11:39:14 <sjanssen> that's wrong
11:39:20 <sjanssen> oh wait, it isn't
11:39:22 <sjanssen> I'm dumb
11:39:34 <yip> is awk any good?
11:39:35 <mauke> > let bin = (\[(n, "")] -> n) . readInt 2 (`elem` "01") ((`subtract` ord '0') . ord) in bin "1101"
11:39:37 <lambdabot>  -13
11:39:40 <emu> @type (subtract (ord '0') +) . ord
11:39:41 <lambdabot>   Couldn't match `Int -> Int' against `Int'
11:39:41 <lambdabot>    Expected type: Char -> Int -> Int
11:39:54 <int-e> @pl (- (ord '0') +) . ord
11:39:54 <lambdabot> (line 1, column 2):
11:39:55 <lambdabot> unexpected "-"
11:39:55 <lambdabot> expecting lambda abstraction or expression
11:39:57 <mauke> > let bin = (\[(n, "")] -> n) . readInt 2 (`elem` "01") ((ord '0' `subtract`) . ord) in bin "1101"
11:39:58 <lambdabot>  13
11:40:07 <mauke> there we go
11:40:11 <kpreid> > digitToInt '1'
11:40:12 <lambdabot>  1
11:40:20 <int-e> > (- (ord '0') +) . ord $ '3'
11:40:20 <kpreid> -- better than char code arithmetic
11:40:21 <lambdabot>  3
11:40:48 <mauke> @type ( -ord'0'+ )
11:40:50 <lambdabot> Not in scope: `ord'0''
11:40:51 <emu> yea, indeed
11:40:54 <chessguy> > read '1'
11:40:54 <lambdabot>  Couldn't match `String' against `Char'
11:40:55 <mauke> @type ( -ord '0'+ )
11:40:56 <lambdabot> Int -> Int
11:41:03 <chessguy> read "1"
11:41:08 <chessguy> > read "1"
11:41:08 <lambdabot>  Add a type signature
11:41:28 <emu> binLit = fst . head . readInt 2 (`elem` "01) digitToInt
11:41:30 <mauke> yip: dunno, I use perl for all my awky needs
11:41:39 <emu> > let binLit = fst . head . readInt 2 (`elem` "01) digitToInt in binLit "1110"
11:41:39 <lambdabot>  Improperly terminated string
11:41:45 <emu> > let binLit = fst . head . readInt 2 (`elem` "01") digitToInt in binLit "1110"
11:41:46 <lambdabot>  14
11:43:16 <symlink> could somebody look at some code?
11:43:25 <symlink> It's supposed to convert a tree into a list
11:43:28 <symlink> but it won't compile
11:43:35 <symlink> it's at http://wadon.sch.bme.hu/~konfettigyar/blog/Tolist.hs
11:43:38 <lambdabot> http://tinyurl.com/yx5ss2
11:44:00 <astrolabe> what is the error?
11:44:23 <symlink> It says, "Tolist.hs:16:15:
11:44:24 <symlink>     Couldn't match `F a' against `[a1]'
11:44:26 <symlink>       Expected type: F a
11:44:27 <symlink>       Inferred type: [a1]
11:44:29 <symlink>     In the definition of `bejar':"
11:44:37 <sjanssen> symlink: for one thing, you're giving too many paramters in the "(A tipus fej)" match
11:44:43 <mauke> what is (A tipus fej) supposed to do?
11:45:37 <int-e> try  A (fej:farok)  ?
11:46:36 <symlink> The problem with A (fej:farok) is that the list is not composed of A's
11:46:41 <symlink> or at least not necessarily
11:47:00 <int-e> you don't have a list there, you have something of type F a
11:47:04 <sjanssen> symlink: also, in the first two matches you're matching a value of type "F a", but the others match "[F a]"
11:47:08 <int-e> A is the outermost constructor
11:47:14 <symlink> sjanessen: I corrected that, but same error. Thanks though
11:48:20 <astrolabe> The error is because it's expecting an F a, but you give it a list
11:48:52 <mauke> foldr :: ([b] -> b) -> ([a] -> b) -> b -> F a -> b;  foldr f g h (A x) = f (map (foldr f g h) x); foldr f g h (B x) = g x; foldr f g h C = h
11:48:59 <astrolabe> (A tipus fej):farok is a list
11:49:16 <int-e> of something that has a data constructor A with two arguments
11:49:26 <int-e> so it is definitely wrong in several ways
11:50:08 <int-e> you'll notice that the problem occurs in a different place if you use  A (fej:farok)
11:50:16 <int-e> and it's a different problem, too.
11:50:20 <symlink> yeah, I did notice that
11:50:37 <int-e> namely it'll complain about  (bejar farok)
11:51:00 <int-e> which is to be expected because farok is a list but bejar wants an F a.
11:51:33 <symlink> well, the idea behind this is that F a *can* be a list
11:51:46 <astrolabe> So when you have a line like 'bejar x = y', x should be of the type F a
11:51:48 <symlink> namely, it can be a list with constructor A or B
11:51:50 <mauke> no, F a is never a list
11:51:51 <int-e> but it doesn't work that way.
11:51:58 <mauke> a list has only two constructors, : and []
11:52:03 <int-e> you can make and F a from a list [F a] by using the A constructor
11:52:39 <symlink> aight, thanks
11:52:54 <symlink> I still don't see the fix, but you guys are definitely helping me clear stuff up
11:52:59 <int-e> so if farok is a list of type [F a], (A farok) has type F a.
11:54:35 <astrolabe> you should change the last three lines, probably to have the forms:
11:55:04 <chessguy> what's a farok?
11:55:08 <astrolabe> bejar (A (fa:fas)) = ...
11:55:26 <astrolabe> bejar (B (a:as)) = ...
11:55:28 <astrolabe> and
11:55:36 * vincenz received his drawing tablet today \o/
11:55:38 <astrolabe> bejar C = ....
11:55:59 <astrolabe> vincenz: is it cool?  I want one of those!
11:56:30 <vincenz> yep :)
11:56:32 <vincenz> works in ubuntu
11:57:04 <vincenz> time to learn hwo to draw
11:57:15 <astrolabe> heh.  Yeah, same with me.
11:57:29 <int-e> . o O ( the pointy end goes on the tablet )
11:57:45 <vincenz> int-e: it even has an eraser
11:58:55 <arjanoosting> CosmicRay: Fixed version: dget http://moonshine.dnsalias.org/debian/unstable/haxml_1.13.2-3_i386.changes
11:58:58 <lambdabot> http://tinyurl.com/y8tywp
11:59:00 <glguy> what program would you guys recommend to replace xterm if the primary criteria is scalable fonts
11:59:31 <symlink> eterm?
11:59:37 <symlink> thanks for the help guys
12:00:14 <CosmicRay> arjanoosting: sweet.
12:00:43 <arjanoosting> Could you try if this one does work for you?
12:00:59 <CosmicRay> yes, I'm going to right now.
12:04:41 <vincenz> woo this is fun
12:04:52 <vincenz> astrolabe: gimp, 3 pixel circle, fade out in 100 pixels :)
12:05:45 <astrolabe> you should talk to bourbaki and xerox.  You're just making me jealous ;)
12:06:26 <CosmicRay> whoa, why is it that cabal is now rebuilding the entire library for each binary that uses it?
12:06:39 <glguy> removed code is debugged code, and it certainly doesn't use any memory or CPU time; so even better if you don't write it.
12:06:41 <CosmicRay> some builds are 10 times slower than they used to be because of that
12:06:55 <dcoutts_> CosmicRay, actually that's not cabal's fault, it's a change in ghc
12:07:12 <CosmicRay> oh?
12:07:25 <dcoutts_> CosmicRay, perhaps what cabal should do there is register the lib package locally and then build the binaries specifying -package Foo
12:07:30 <CosmicRay> it seemed to be cabal's fault as it is compiling the modules individually for each binary in its own dist/build dir
12:07:54 <arjanoosting> CosmicRay: that is needed with the new ghc
12:07:56 <dcoutts_> well if it is, then it's always done that
12:08:07 <dcoutts_> ie if it's using a whole new build tree
12:08:14 <dcoutts_> but what I was thinking of was...
12:08:31 <dcoutts_> that with ghc-6.6 it uses -package-name and is really means something
12:08:41 <arjanoosting> ghc can not link binaries if called with -package-name
12:08:56 <dcoutts_> the binaries use package main/null or something
12:08:59 <arjanoosting> that is sine 6.6
12:09:32 <dcoutts_> and the package names must match up the name and version is included in the linker symbols etc
12:09:55 <dcoutts_> so if it's imported via -package then it expects the package prefix,
12:10:22 <dcoutts_> if it's imported into the binary via -i srcdir/ then it has to have the same ie null package name
12:10:55 <CosmicRay> I don't understand; why can't it still use the .hi/ho/o that was already compiled?
12:10:59 <dcoutts_> so what cabal should do is build the lib, register it in the build tree and then build the binaries referenceing the package
12:11:11 <dcoutts_> CosmicRay, because the names are wrong
12:11:16 <dcoutts_> because of the package prefix
12:11:27 <dcoutts_> the names of everything now includes the package name and version
12:11:31 <CosmicRay> ah, ugh.
12:11:42 <CosmicRay> all so that we could have the same name in two packages, eh?
12:11:44 <dcoutts_> the existing .hi/.o files have 'foo-1.0-' preix
12:11:49 <CosmicRay> that "feature" seems more trouble than it's worth.
12:11:57 <dcoutts_> but the Main has no prefix
12:12:14 <dcoutts_> so if it's imported via -package then it'll work
12:12:29 <Igloo> It's got a prefix of main or something IIRC
12:12:40 <dcoutts_> otherwise it either breaks or requires recompiling the .hi/.o files
12:12:49 <dcoutts_> Igloo, right, main or something special
12:13:03 <dcoutts_> the point is, it's not the same as the lib you just built
12:13:22 <Igloo> CosmicRay: Do you really mean it rebuilds them for /each/ binary?
12:13:37 <dcoutts_> that's a bit odd
12:13:43 <dcoutts_> I'd expect it to rebuild once
12:13:44 <CosmicRay> Igloo: yes
12:13:53 * Igloo doesn't understand that
12:13:53 <CosmicRay> Igloo: I saw it with darcs-buildpackage, and again just now with haxml.
12:14:10 <Igloo> CosmicRay: But for multiple binaries in the same package?
12:14:17 <CosmicRay> yes.
12:14:38 <dcoutts_> so it does build each binary in it's own dir. Perhaps it used to reference the lib's .hi files
12:14:43 <dcoutts_> and now it can't so rebuilds
12:14:56 <dcoutts_> but puts all the new .hi files in a per-binary build dir
12:14:57 <Igloo> Oh, if each is in its own directory then that makes sense
12:15:32 <dcoutts_> CosmicRay, if you look in the dist/ dir you should be able to see if we're getting duplicate .hi .o files for each binary
12:15:44 <dcoutts_> duplicates of all the modules in the lib
12:16:30 <CosmicRay> $ find . -name Logging.hi
12:16:30 <CosmicRay> ./darcs-buildpackage/darcs-buildpackage-tmp/Logging.hi
12:16:30 <CosmicRay> ./dbp-importorig/dbp-importorig-tmp/Logging.hi
12:16:30 <CosmicRay> ./dbp-importdsc/dbp-importdsc-tmp/Logging.hi
12:16:30 <CosmicRay> ./dbp-markdeb/dbp-markdeb-tmp/Logging.hi
12:16:31 <CosmicRay> ./dbp-get/dbp-get-tmp/Logging.hi
12:16:45 <CosmicRay> this was in the dist/build dir
12:16:51 <lisppaste2> emu annotated #28378 with "inetNtoA" at http://paste.lisp.org/display/28378#1
12:17:35 <dcoutts_> CosmicRay, right.
12:17:53 <dcoutts_> CosmicRay, yep, so we need to make it register locally and use -package.
12:18:12 <dcoutts_> CosmicRay, however! then we would not be able to use hidden modules in the binaries.
12:18:20 <dcoutts_> only the exposed modules
12:18:30 <dcoutts_> so less good for test progs or internal utils
12:18:51 <dcoutts_> someone should write to cabal-devel about this
12:18:52 <CosmicRay> if you're registering locally, you could just register the hidden modules
12:18:57 <CosmicRay> but this seems so complex
12:19:01 <dcoutts_> mm
12:19:03 <CosmicRay> ghc --make just gets it right
12:19:14 <dcoutts_> that's what we're using
12:19:35 <CosmicRay> but with different build dirs each time
12:19:38 <dcoutts_> you'll note that it gets it right by recompiling
12:20:08 <dcoutts_> so we could do better perhaps by sharing the build dirs of the different binaries
12:20:19 <dcoutts_> then we'd only get two full builds
12:20:40 <CosmicRay> right, that would be better at least.
12:21:03 <CosmicRay> arjanoosting: everything is cool with the new haxml.
12:21:18 <CosmicRay> hpodder build with it.
12:21:23 <Igloo> I think it would be better if GHC just didn't object to deps of package main being compiled with a different package name
12:21:33 <arjanoosting> nice, i will upload it to ftp-master then
12:24:14 <arjanoosting> Igloo: any reason why mips is not in ghc6_arches in /usr/lib/haskell-utils/ghc6_vars?
12:24:39 <Igloo> arjanoosting: It will be in the next upload
12:25:20 <arjanoosting> Igloo: ok.
12:26:21 <dcoutts_> Igloo, so you've got mips working. Unregisterised at the moment right?
12:26:30 <Igloo> Yup
12:26:39 <dcoutts_> Igloo, is that vanilla ghc-6.6, or any other patches ?
12:28:20 <Igloo> I'm building it with BEWARE_LOAD_STORE_ALIGNMENT defined in the patch at http://ftp.debian.org/debian/pool/main/g/ghc6/ghc6_6.6-1.diff.gz but I'm not 100% sure if that's necessary or not
12:28:25 <lambdabot> http://tinyurl.com/y2nvep
12:32:17 <dcoutts_> Igloo, ok, ta. We might have a go too.
12:32:50 <shapr> @yow !
12:32:50 <lambdabot> Let's send the Russians defective lifestyle accessories!
12:34:27 <CosmicRay> @yow
12:34:28 <lambdabot> GOOD-NIGHT, everybody ... Now I have to go administer FIRST-AID to my
12:34:28 <lambdabot> pet LEISURE SUIT!!
12:34:34 <CosmicRay> @yow !
12:34:34 <lambdabot> I guess you guys got BIG MUSCLES from doing too much STUDYING!
12:34:38 <shapr> Igloo, CosmicRay: thanks for all the work you guys put into debs!
12:34:44 * shapr boings happily
12:34:51 <CosmicRay> shapr: no problem, and arjanoosting too
12:34:58 <roconnor> @spell dramatic
12:34:58 <lambdabot> dramatic
12:35:08 <CosmicRay> arjanoosting: I lost the url for the wiki page, but hpodder is uploaded
12:35:11 * dcoutts_ tries to tempt people to the Gentoo side of the source
12:35:14 <shapr> arjanoosting: yes, thanks to you too
12:35:16 * shapr grins
12:35:31 <shapr> dcoutts_: Thanks for the work you put into Gentoo packaging :-) I don't benefit directly, but I do get indirect benefits.
12:35:36 <CosmicRay> dcoutts: all my packages are now ghc6.6-clean, so upgrade away ;-)
12:35:59 <dcoutts_> CosmicRay, great.
12:36:26 <CosmicRay> dcoutts: or you can use my DFS (Debian From Scratch) CD and srcinst package (written in Haskell of course) and install Debian the gentoo way and install packages from source the gentoo way
12:36:37 <dcoutts_> heh :-) cool
12:36:41 <CosmicRay> while still not having the upgrade mess, the masked-on-some-archs mess, etc.
12:36:59 <dcoutts_> we're nearly ready to release ghc-6.6 and all the updated packages into the main gentoo portage tree
12:37:01 <CosmicRay> oh, btw, the program that builds the DFS CDs is also written in haskell
12:37:49 <dcoutts_> CosmicRay, you should check out exi, it's a gentoo-style dependency thingie written in Haskell
12:37:57 <CosmicRay> url?
12:38:00 <dcoutts_> erm...
12:38:10 <CosmicRay> I will say that your gentoo wiki puts debian's to shame
12:38:28 <dcoutts_> CosmicRay, what gentoo wiki ?
12:38:48 <dcoutts_> CosmicRay, http://haskell.org/~andres/repos/exi
12:38:49 <lambdabot> Title: Index of /~andres/repos/exi
12:39:18 <dcoutts_> CosmicRay, put it all together and we could have a complete OS distro using tools written in haskell :-)
12:39:47 <DataBoi_0> hi anyone know were i can get a example of a simple Kwic in haskell keyword in contect system?
12:39:59 <Igloo> For anyone who's interested, early indications are that an arm bootstrap from x86 is going to go through, BTW
12:40:15 <CosmicRay> Igloo: sweet.
12:40:18 <dcoutts_> nice
12:40:23 <CosmicRay> Igloo: the floating-point issues are finally resolved?
12:40:24 <Igloo> At least, it doesn't seem to suffer from the problems the from-amd64 one did
12:40:37 <Igloo> yes, that's the easy bit  :-)
12:41:25 * CosmicRay now proceeds to write an apt-like status line module for missingh
12:41:41 <sjanssen> dcoutts_: is this an implementation of emerge in Haskell?
12:41:51 <dcoutts_> sjanssen, yes.
12:42:01 <DataBoi_0> anyone?
12:42:10 <sjanssen> well hot damn!
12:42:40 <dcoutts_> sjanssen, emerge exi-darcs
12:42:51 <CosmicRay> wow.
12:43:03 <CosmicRay> is there interest from the wider gentoo community
12:43:04 <CosmicRay> ?
12:43:15 <dcoutts_> not really been announced there
12:43:25 <dcoutts_> there are certain political issues
12:43:34 <Patterner> dcoutts_: good work
12:43:38 * Patterner is a gentoo user
12:43:44 <dcoutts_> Patterner, it's not my work
12:44:00 <Patterner> dcoutts_: still good work :)
12:44:08 <Patterner> does yi work now?
12:44:29 <CosmicRay> hrm.
12:44:35 <CosmicRay> AnsiColor should be in MissingH ;-)
12:44:45 <dcoutts_> sjanssen, file bugs with kosmikus
12:44:54 <dcoutts_> Patterner, somewhat
12:45:00 <CosmicRay> dcoutts: is there a copyright statement in there somewhere?
12:45:09 <CosmicRay> dcoutts: and is there anythign in missingh that could be useful to you?
12:45:14 <dcoutts_> CosmicRay, no idea. ask kosmikus
12:45:16 <CosmicRay> or anything in there that could be generalized into missingh?
12:45:22 <CosmicRay> dcoutts: he's not here and you are :-)
12:45:33 <dcoutts_> heh, ok ask kolmodin, he used exi at least
12:45:39 <dcoutts_> used/uses
12:47:07 <DataBoi_0> anyone have a simple tutorial on how to make a KWIC in haskell
12:47:07 <DataBoi_0> ?
12:48:38 <shapr> What's a kwic?
12:49:08 <DataBoi_0> keyword in context system
12:49:32 <DataBoi_0> thought u heard bout it before iam a haskell newbie just started haskell
12:50:07 <_velco> is there a function to generate a String with n identical chars, foo :: Int -> Char -> String
12:50:17 <Lemmih> > replicateN 10 'c'
12:50:18 <lambdabot>  Not in scope: `replicateN'
12:50:26 <Lemmih> > replicate 10 'c'
12:50:28 <lambdabot>  "cccccccccc"
12:50:38 <_velco> thanks
12:51:12 <Lemmih> DataBoi_0: Good questions get good answers.
12:51:19 <sylvan> _velco, just to be clear, that's not a string specifc function. Works on all lists.
12:51:29 <_velco> yeah
12:51:38 <_velco> I've read the docs
12:51:42 <DataBoi_0> Lemmih: what u mean buy that u go some infomation for me, sumfin that be usefull
12:51:50 <mauke> @hoogle Int -> Char -> String
12:51:51 <lambdabot> No matches, try a more general search
12:52:00 <DataBoi_0> or u mean my question no good
12:52:04 <_velco> yeah, I searche like this
12:52:06 <mauke> @hoogle Int -> Char -> [Char]
12:52:07 <lambdabot> No matches, try a more general search
12:52:15 <_velco> @hoogle Int -> a -> [a]
12:52:16 <lambdabot> Prelude.replicate :: Int -> a -> [a]
12:52:17 <AStorm> mauke: what do you want to find?
12:52:20 <AStorm> Heh :>
12:52:40 <Lemmih> DataBoi_0: I don't think we're all clear on what a KWIC is.
12:53:14 <AStorm> Some part of search engine?
12:54:12 <DataBoi_0> Lemmih to be honest i have no idea either properly, iam practising old exam paper question and it goes, make a txt processing app, particular appliction is to generate a kind of index keyword in context (KWIC) index..also known as permuted term index
12:55:05 <DataBoi_0> then gives me hints
12:55:54 <Lemmih> @google kwic index
12:55:55 <lambdabot> http://en.wikipedia.org/wiki/KWIC
12:55:58 <AStorm> Huh, does anyone have something OCaml-like, but strict?
12:56:18 <AStorm> Haskell is close, but still, lack of structures hurts sometimes :P
12:56:28 <Igloo> DYM "but lazy"?
12:56:52 <CosmicRay> Igloo: hrmm, ghc6-doc seems to leave off some packages
12:57:00 <Igloo> CosmicRay: Which ones?
12:57:02 <CosmicRay> Igloo: the haskell.org library reference has, for instance, mtl
12:57:05 <AStorm> Igloo: whoops, yes, lazy :P
12:57:11 <Igloo> CosmicRay: ghc6 doesn't have mtl
12:57:15 <CosmicRay> Igloo: I have noticed mtl and time so far
12:57:29 <CosmicRay> Igloo: http://www.haskell.org/ghc/docs/6.6/html/libraries/index.html does
12:57:29 <AStorm> It's almost there, except that one point. Though I can get laziness there in special cases.
12:57:31 <lambdabot> http://tinyurl.com/yy5urx
12:57:41 <CosmicRay> Igloo: it is much more useful to have all that in one big manual
12:57:41 <Igloo> CosmicRay: But ghc6 doesn't...
12:58:02 <CosmicRay> Igloo: if it's good enough for upstream, why is it not good enough for us?
12:58:31 <Igloo> How do you expect the docs to be generated? Why should ghc6 document things it doesn't contain?
12:58:34 <AStorm> Also, some syntactic "features" of OCaml are ugly and not quite intelligent.
12:58:49 <Igloo> I did briefly think about this, but decided we can't do anything sensible in the Etch timeframe
12:58:53 <CosmicRay> Igloo: how do they generate it upstream
12:59:02 <CosmicRay> Igloo: and the libghc6-mtl-dev package doesn't have docs either
12:59:10 <CosmicRay> Igloo: so, in debian, large parts of the api are effectively undocumented
12:59:16 <Igloo> It might be worth writing some sort of doc merging doodah so we get complete docs for all installed Haskell packages
12:59:32 <Igloo> CosmicRay: Why should ghc6-doc document mtl but not missingh?
12:59:41 <DataBoi_0> lemmih lambadot has provided some info on wat kwic is
13:00:10 <CosmicRay> Igloo: it doesn't bug me, and it's fine if it documents ghc+ghc's extras
13:00:35 <CosmicRay> Igloo: don't drop mtl because you're afraid I'll be offended about missingh
13:00:36 <Lemmih> DataBoi_0: Yeah, lambdabot is full of good information (:
13:01:02 <Igloo> I don't think we're on the same wavelength  :-)
13:01:21 <Igloo> mtl is no more part of ghc6 6.6 than missingh is
13:01:21 <CosmicRay> Igloo: I'm at 24m, where are you? ;-)
13:01:28 <DataBoi_0> http://en.wikipedia.org/wiki/KWIC anyone know how make one of these in haskell? i mean this cant be that hard?
13:01:46 <CosmicRay> Igloo: I understand, but it's part of the ghc 6.6 extralibs
13:01:49 <Lemmih> DataBoi_0: Can't you write it?
13:01:57 <CosmicRay> Igloo: so the upstream doc site includes ghc+extralibs.  why can't ours?
13:02:14 <Igloo> Because we use the core tarball and build only core
13:02:26 <DataBoi_0> nah i dunno man iam a newbiw haskell hard for me
13:02:30 <DataBoi_0> do u know how to man
13:02:39 <DataBoi_0> just like do example with few words
13:02:59 <CosmicRay> Igloo: that's not a problem.  ghc6.6-doc simply has its own source package that includes both tarballs then
13:03:04 <Lemmih> DataBoi_0: I think you're meant to write it yourself.
13:03:11 <CosmicRay> they're not that large
13:03:45 <SyntaxNinja> y0
13:03:47 <shapr> DataBoi_0: Sounds to me like you have homework and you want us to do it for you.
13:03:49 <pejo> AStorm, did you mean something O'Caml like, but non-strict?
13:03:59 <shapr> DataBoi_0: That's unethical, so it won't happen. But we can help you learn Haskell.
13:04:04 <shapr> DataBoi_0: Then you can do it for yourself.
13:04:04 <CosmicRay> hey syntaxninja
13:04:08 <Lemmih> DataBoi_0: There are several good Haskell tutorials. We'd love to help you with Haskell questions.
13:04:09 <shapr> y0 SyntaxNinja
13:04:09 <SyntaxNinja> tessier: you asked:  SyntaxNinja: But if that were the case wouldn't the past however many years have been better spent building a CPAN equivalent for haskell instead of implementing perl6? And is perl6 backwards compatible with perl5?
13:04:17 <DataBoi_0> OK ppl yeah everyone says this, so wat bout book example these books dont have answers in them, they dont provide answers to past exam papers
13:04:25 <DataBoi_0> so what iam suppose to
13:04:25 <CosmicRay> Igloo: I think a 6MB source package is well worth having extralibs documented coherently
13:04:27 <DataBoi_0> do
13:04:32 <SyntaxNinja> tessier: but it was the perl community that implemented perl6, not the Haskell community, by-and-large.
13:04:34 <AStorm> pejo: yes
13:04:38 <shapr> DataBoi_0: You're supposed to learn Haskell, learn KWIC, and then implement KWIC with Haskell.
13:04:51 <shapr> DataBoi_0: C'mon, you can probably already use Visual Basic, yeah?
13:04:52 <AStorm> Except still supporting type classes or something equivalent
13:04:57 <Igloo> CosmicRay: I don't think anything inbetween ghc6 core and all Haskell libs makes sense
13:05:08 <DataBoi_0> but its good learn from examples that how i learnt java
13:05:09 <SyntaxNinja> hi shapr
13:05:12 <DataBoi_0> no i only know java
13:05:26 <shapr> DataBoi_0: http://www.haskell.org/hawiki/HaskellDemo
13:05:28 <lambdabot> Title: HaskellDemo - The Haskell Wiki
13:05:39 <CosmicRay> Igloo: do you really believe that that ghc6-doc is *more* useful than http://www.haskell.org/ghc/docs/latest/html/libraries/index.html?
13:05:41 <lambdabot> http://tinyurl.com/yn59dd
13:05:46 <pejo> AStorm, O'Haskell is one attempt to put objects in "Haskell". OOHaskell is one where they are coded.
13:06:04 <AStorm> Another option: give me a _good_ guide to Haskell's FFI.
13:06:10 <Igloo> CosmicRay: I believe documenting things that may not exist is not necessarily better, yes
13:06:42 <CosmicRay> Igloo: they exist in debian and it could be pretty clearly stated in index.html where to find them
13:07:04 <CosmicRay> Igloo: documenting code that is optional is far better than not documenting that code which exists
13:07:14 <dmhouse> musasabi: around?
13:07:29 <Igloo> CosmicRay: I'll agree it's a bug that the extralibs don't include their own docs
13:07:32 <CosmicRay> Igloo: don't make me go out and ITP ghc-6.6-doc-comprehensive ;-)
13:07:40 <shapr> AStorm: http://www.haskell.org/hawiki/FfiTutorial http://www.haskell.org/hawiki/FfiCookbook http://www.haskell.org/hawiki/FfiExample
13:07:41 <lambdabot> Title: FfiTutorial - The Haskell Wiki
13:07:45 <shapr> dmhouse: He's in Tampere
13:07:50 <AStorm> shapr: hmm...
13:07:56 <dmhouse> Anyone else around knowledgeable of HAppS? shapr?
13:08:00 <AStorm> I thought I've checked the wiki already, but...
13:08:05 <shapr> dmhouse: What do you need to know?
13:08:17 <shapr> I have some minor clue about HAppS, and I'm learning more.
13:08:29 <dmhouse> Can it serve flat files straight off the server?
13:08:35 <dmhouse> If so, where are the paths relative to?
13:08:39 <dmhouse> Say, a CSS file.
13:08:50 <CosmicRay> Igloo: well I guess we'll have to agree to disagree for now, but this is highly annoying.  I'll have to somehow download a copy of the docs from the website then, since ghc6.6-doc is pretty much useless as it is
13:08:51 <shapr> Yes, it can do that, look at the xslt example in the tutorial.
13:09:14 <dmhouse> Great.
13:09:27 <CosmicRay> Igloo: a less-than-perfect solution (where the perfect solution is unifying everything in one place) exists, is better than what we have now, and is doable for etch
13:09:39 <AStorm> Aha! So I was missing the -fffi option. Stupid me :P
13:10:05 <Igloo> CosmicRay: That also breaks the ability to upgrade extralibs separately
13:10:27 <CosmicRay> nah, you just rev ghc6.6-doc whenever ghc or extralibs revs
13:10:38 <CosmicRay> you've got it in its own source package, so you just update it as needed
13:12:28 <AStorm> Hmm... so how does one add an autofinisher to void*?
13:12:36 <AStorm> I mean ForeignPtr
13:15:08 <AStorm> Oh, now I got it, though I've some compile/link errors. Upgrades and all :P
13:22:24 <AStorm> Blah, my ghc system is totally horked now. :/
13:22:42 <AStorm> That's what I get for trying 6.5.x :P
13:22:59 <CosmicRay> why not use 6.6? ;-)
13:23:29 <AStorm> I did install it :P
13:23:39 <AStorm> That's why the build system is totally FUBARed :P
13:23:54 <AStorm> Mixed libs.
13:24:14 <AStorm> It'll take a while to bring that to some semblance of order.
13:25:29 <AStorm> And now I have to install that (...) ghc binary.
13:34:11 <chessguy2> @hoogle hash
13:34:12 <lambdabot> Data.HashTable.hashInt :: Int -> Int32
13:34:12 <lambdabot> Data.HashTable.hashString :: String -> Int32
13:34:12 <lambdabot> Data.Unique.hashUnique :: Unique -> Int
13:34:44 <chessguy> @where Data.Unique.hashUnique
13:34:44 <lambdabot> I know nothing about data.unique.hashunique.
13:35:05 <chessguy> hmm, how do i find out more info about that function?
13:35:17 <AStorm> @where hashunique
13:35:18 <lambdabot> I know nothing about hashunique.
13:35:22 <AStorm> Hmm...
13:35:39 <Lajexander> i have a tuple (x,y)::(a,b) and a list ((x',y'):zs)::[(a,b)] and if x==x' i would like to get y' back... what higher order function is most suitable here?
13:36:02 <Lajexander> or do I do this by recursion?
13:36:46 <AStorm> snd head that_list
13:36:56 <AStorm> According to what you've typed.
13:37:16 <AStorm> If you want every second item, there's a function for that too.
13:37:17 <Lajexander> the thing is, a x==x' might not be obtained...
13:37:48 <AStorm> Ah, right. filter it first :>
13:37:52 <dmhouse> Lajexander: lookup
13:38:00 <dmhouse> lookup does it in one step.
13:38:02 <AStorm> @hoogle lookup
13:38:02 <Lajexander> @type lookup
13:38:03 <lambdabot> Prelude.lookup :: Eq a => a -> [(a, b)] -> Maybe b
13:38:03 <lambdabot> Data.HashTable.lookup :: HashTable key val -> key -> IO (Maybe val)
13:38:03 <lambdabot> Data.IntMap.lookup :: Key -> IntMap a -> Maybe a
13:38:04 <lambdabot> forall b a. (Eq a) => a -> [(a, b)] -> Maybe b
13:38:28 <dmhouse> > lookup "foo" [("foo", 5), ("bar", 10)]
13:38:29 <lambdabot>  Just 5
13:38:32 <dmhouse> > lookup "foop" [("foo", 5), ("bar", 10)]
13:38:34 <lambdabot>  Nothing
13:38:37 <AStorm> :D
13:39:22 <Lajexander> dmhouse: u r teh r0xx ;)
13:39:36 <Lajexander> gotta love h4xx0r =)
13:39:39 <dmhouse> Lajexander: why, thankyou.
13:39:44 <dmhouse> ?elite no problem
13:39:44 <lambdabot> No pRO81em
13:40:01 <AStorm> > lookup "foo" [("foo", 5), ("foo", 6), ("bar", 7)]
13:40:03 <lambdabot>  Just 5
13:40:16 <AStorm> Just don't forget about that case.
13:40:18 <chessguy> hmm. so, any ideas how i would find more info on a particular function?
13:40:25 <chessguy> @where hashUnique
13:40:26 <lambdabot> I know nothing about hashunique.
13:40:26 <AStorm> Use google? :P
13:40:36 <AStorm> Browse ghc docs?
13:40:38 <AStorm> @docs
13:40:39 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/index.html
13:40:39 <dmhouse> chessguy: what kind of info?
13:40:43 <dmhouse> chessguy: in general:
13:40:49 <dmhouse> ?hoogle nub
13:40:49 <lambdabot> List.nub :: Eq a => [a] -> [a]
13:40:49 <lambdabot> List.nubBy :: (a -> a -> Bool) -> [a] -> [a]
13:40:54 <dmhouse> ?docs Data.List
13:40:54 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Data-List.html
13:41:02 <chessguy> ah, ?docs
13:41:11 <Lajexander> AStorm: the first elemnt will always only occur once
13:41:18 <dmhouse> Now, my question. :) How do you add attributes to an HTML element using Text.(X)Html?
13:41:18 <AStorm> Lajexander: yep
13:41:19 <chessguy> ?docs Data.Unique.hashUnique
13:41:20 <lambdabot> Data.Unique.hashUnique not available
13:41:27 <AStorm> Otherwise it's not the first :P
13:41:28 * chessguy finds the closest large object and gives lambdabot a slap with it
13:41:41 <chessguy> ?docs Data.Unique
13:41:42 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Data-Unique.html
13:42:48 <chessguy> ?docs Data.HashTable
13:42:48 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Data-HashTable.html
13:44:15 <chessguy> hmm, shame those docs don't have examples attached
13:44:35 <AStorm> They're good enough.
13:44:51 <chessguy> maybe if you're not a complete n00b like me
13:45:28 <AStorm> Well, I almost am.
13:45:31 <AStorm> ;-)
13:47:20 <chessguy> > golden
13:47:21 <lambdabot>  Not in scope: `golden'
13:49:43 <AStorm> ?hoogle golden
13:49:43 <lambdabot> No matches found
13:49:49 <AStorm> What's that?
13:51:16 <chessguy> they mention it in an example for Data.HashTable
13:51:24 <chessguy> http://haskell.org/ghc/docs/latest/html/libraries/base/Data-HashTable.html
13:51:26 <lambdabot> http://tinyurl.com/y47x6e
13:52:21 <dmhouse> chessguy: see the documentation for hashInt.
13:52:33 <AStorm> Ah, you mean the golden ratio?
13:53:12 <chessguy> yes
13:53:21 <chessguy> ?docs hashInt
13:53:21 <lambdabot> hashInt not available
13:53:27 <chessguy> @where hashInt
13:53:28 <lambdabot> I know nothing about hashint.
13:53:34 <dmhouse> chessguy: on that page you linked to.
13:53:38 <AStorm> Other than that, I'd define it rather than approximate as its infinite series.
13:53:41 <chessguy> oh
13:54:02 <chessguy> oh, lol
13:54:26 <chessguy> > round ((sqrt 5 - 1) * 2^31) :: Int
13:54:27 <lambdabot>  -1640531527
13:54:42 <chessguy> uh
13:55:04 <AStorm> Hmm.
13:55:40 <AStorm> > 1 + (sqrt 5) / 2
13:55:42 <lambdabot>  2.118033988749895
13:55:50 <AStorm> Hmm, wrong arity
13:55:54 <AStorm> > (1 + (sqrt 5)) / 2
13:55:55 <lambdabot>  1.618033988749895
13:56:10 <chessguy> you mean wrong fixity
13:56:17 <AStorm> Sure, yes.
13:56:55 <chessguy> @remember
13:56:55 <lambdabot> Incorrect arguments to quote
13:56:59 <chessguy> @remember::usage
13:57:00 <lambdabot> Unknown command, try @list
13:57:03 <chessguy> @list
13:57:03 <lambdabot> http://www.cse.unsw.edu.au/~dons/lambdabot/COMMANDS
13:57:36 <AStorm> You know, you can also /msg the lambdabot
13:57:39 <AStorm> @yarr!
13:57:39 <lambdabot> Prepare to be boarded!
13:58:05 <chessguy> yes, i shouldn't be disrupting all the many conversations going on in here
13:58:32 <AStorm> ;-)
13:59:20 <chessguy> dons, you around?
14:05:07 * monochrom <3 Haskell
14:05:28 <chessguy> :)
14:05:34 <chessguy> hi monochrom
14:05:41 * monochrom ♥ Haskell
14:07:25 <monochrom> Someone needs to write a "Practical Haskell" or "Practical GHC" to counter "Practical OCaml"
14:07:49 <chessguy> what is it?
14:07:51 <chessguy> a book?
14:07:54 <monochrom> I think by now by and far GHC is more practical than OCaml, if only because of all the libraries.
14:07:56 <AStorm> Yes, and a good one.
14:07:57 <monochrom> Yeah, book.
14:08:04 <AStorm> YAHT is close, but not there yet.
14:08:22 <AStorm> We need something which describes the library well.
14:08:39 <monochrom> What does the first chapter do in "Practical OCaml"?
14:08:46 <chessguy> hey monochrom, what's the syntax for ?remember
14:09:06 <monochrom> It's @remember nick sentence
14:09:14 <chessguy> ah
14:09:26 <monochrom> or ?remember I don't know the symbol of the day
14:09:49 <chessguy> thanks
14:10:02 <monochrom> @quote monochrom
14:10:02 <lambdabot>  Do you know how godawful it is the 21st Century already and 2 out of 3 mainstream languages don't have nested functions, and the remaining 1 has it but only by way of an even more godawful construct?
14:10:19 <AStorm> What's the third language?
14:10:26 <AStorm> Java?
14:10:27 <monochrom> Java
14:10:37 <AStorm> Hmm.
14:10:46 <AStorm> And the fourth language is...
14:10:51 <chessguy> @remember dons can you send me a privmsg next time you see me? got a question for you
14:11:13 <chessguy> awww. monochrom borked the bot
14:11:16 <monochrom> Oh, that is not the application of @remember.
14:11:26 <AStorm> @tell
14:11:27 <lambdabot> tell module failed: IRCRaised Prelude.head: empty list
14:11:32 <AStorm> Use that.
14:11:47 <monochrom> @quote dons
14:11:47 <lambdabot>  xerox: what analogy or metaphor did you use? monad-as-garbage-bin? monad-as-refrigerator? monads-as-unicycle?
14:12:01 <monochrom> Anyway, @remember is for later @quote retrievals.
14:12:07 <chessguy> oh, silly me
14:12:25 <monochrom> And now you have stuffed stuff into dons's mouth! XD
14:12:33 <chessguy> ughage
14:12:53 <AStorm> @let phi = 1 + 1/phi
14:12:55 <lambdabot> Defined.
14:13:00 <monochrom> Have you enjoyed the two solutions to the 9-digit problem?
14:13:03 <AStorm> > L.phi
14:13:03 <chessguy> > phi
14:13:04 <lambdabot>  Exception: <<loop>>
14:13:05 <lambdabot>  Not in scope: `phi'
14:13:08 <AStorm> Hmm.
14:13:26 <AStorm> Wait a while, we have to reform it into a list of approximations :>
14:13:37 <chessguy> monochrom, yes, very nice. i must say, i prefered dolio's. probably because i don't know monads
14:13:45 <AStorm> @let phi x = 1 + 1/(phi x-1)
14:13:46 <lambdabot> <local>:15:0:     Multiple declarations of `L.phi'     Declared at: <local>:1...
14:13:51 <AStorm> @unlet phi
14:13:52 <lambdabot>  Parse error
14:13:55 <AStorm> @forget phi
14:13:56 <lambdabot> Unknown command, try @list
14:13:59 <AStorm> @forget L.phi
14:14:00 <lambdabot> Unknown command, try @list
14:14:04 <AStorm> What was the syntax?
14:14:04 <monochrom> I wrote in do-notation what could be list-comprehended
14:15:08 <AStorm> @let phix x = 1 + 1/(phi x-1)
14:15:09 <lambdabot> <local>:14:11:     No instance for (Fractional (t -> a))       arising from u...
14:15:11 <AStorm> @let phix x = 1 + 1/(phix x-1)
14:15:13 <lambdabot> Defined.
14:15:21 <AStorm> > L.phix 10
14:15:22 <lambdabot>  Exception: <<loop>>
14:15:26 <AStorm> Hmm...
14:15:29 <AStorm> Ah, forgot about 0
14:15:38 <AStorm> @let phix 0 = 1
14:15:39 <lambdabot> <local>:15:0:     Warning: Pattern match(es) are overlapped              In t...
14:15:46 <AStorm> > L.phix 10
14:15:48 <lambdabot>  Exception: <<loop>>
14:15:56 <AStorm> @list
14:15:57 <lambdabot> http://www.cse.unsw.edu.au/~dons/lambdabot/COMMANDS
14:15:59 <chessguy> you have to have phix 0 before phix x
14:16:03 <AStorm> Yes.
14:16:24 <twanvl> >let phy 0 = 1 ; phi x = 1 + 1/phi (x-1) in phy 10
14:16:32 <AStorm> Exactly.
14:16:49 <AStorm> Except the syntax error :>
14:16:53 <AStorm> @undefine phi
14:16:55 <lambdabot> Undefined.
14:16:55 <AStorm> @undefine phy
14:16:57 <lambdabot> Undefined.
14:16:58 <AStorm> @undefine phix
14:17:00 <lambdabot> Undefined.
14:17:08 <AStorm> @let phi 0 = 1
14:17:10 <lambdabot> Defined.
14:17:11 <chessguy> what is this, a harmonic series?
14:17:16 <AStorm> @let phi x = 1 + 1/(phi x-1)
14:17:17 <lambdabot> Defined.
14:17:20 <lisppaste2> monochrom annotated #28243 with "same thing comprehensibly" at http://paste.lisp.org/display/28243#1
14:17:21 <AStorm> chessguy: golden ratio
14:17:35 <AStorm> > L.phix 10
14:17:36 <lambdabot>  Not in scope: `L.phix'
14:17:41 <AStorm> > L.phi 10
14:17:43 <lambdabot>  Exception: stack overflow
14:17:45 <AStorm> Hmm...
14:17:49 <AStorm> Hates me? :>
14:18:49 <chessguy> comprehensibly...nice pun :)
14:18:56 <AStorm> That shouldn't happen, it's just 11 divisions :P
14:19:31 <chessguy> monochrom, that is probably more efficient than dolio's solution
14:19:33 <twanvl> > let phi x = case x of 0 -> 1 ; x -> 1 + 1/phi (x-1) in phi 10
14:19:34 <lambdabot>  1.6179775280898876
14:19:49 <monochrom> YES!
14:19:50 <AStorm> Weird. So why didn't mine work?
14:20:29 <nick8325> > let phi x = 1 + 1/x in iterate phi 1 !! 10
14:20:31 <lambdabot>  1.6179775280898876
14:20:35 <chessguy> what's the 10 for? just the number of terms to use to approximate?
14:20:41 <AStorm> Yes.
14:21:32 <int-e> > (sqrt 5+1)/2
14:21:32 <AStorm> What about redefining it with Rational? ;] [; ;]
14:21:33 <lambdabot>  1.618033988749895
14:22:13 <twanvl> > iterate ((1+) . (1/)) 1 !! 10
14:22:14 <lambdabot>  1.6179775280898876
14:22:22 <AStorm> Or as an infinite list of approximation?
14:22:24 <int-e> > let fib = 1:scanl1 (+) 1 fib in fib !! 11 / fib !! 10
14:22:25 <lambdabot>    The function `scanl1' is applied to three arguments,
14:22:25 <lambdabot>   but its type `(...
14:22:27 <AStorm> *...s
14:22:36 <int-e> > let fib = 1:scanl (+) 1 fib in fib !! 11 / fib !! 10
14:22:38 <lambdabot>  1.6179775280898876
14:22:53 <AStorm> Yes, the other approximation method. :>
14:23:00 <int-e> it's the same.
14:23:04 <glguy> by the look of the decimal values
14:23:19 <glguy> yeah, what int-e said
14:23:24 <int-e> well, it's the same if you do it with exact rational numbers
14:23:36 <twanvl> > iterate (succ . recip) 1 !! 10
14:23:37 <lambdabot>  1.6179775280898876
14:23:47 <int-e> cute.
14:23:51 <AStorm> twanvl: bonus points for speed
14:24:02 <AStorm> ?hoogle recip
14:24:03 <lambdabot> Prelude.recip :: Fractional a => a -> a
14:24:07 <AStorm> Hehe
14:24:16 <chessguy> and cuteness
14:24:28 <int-e> > iterate (succ . recip) (1%1) !! 10
14:24:29 <AStorm> > iterate (succ . recip) 1 !! 25
14:24:29 <lambdabot>  144%89
14:24:30 <lambdabot>  1.6180339887802426
14:24:46 <AStorm> And so on, and so forth.
14:25:08 <chessguy> hmm, is that more or less accurate than the previously given values?
14:25:08 <AStorm> > iterate (succ . recip) 1
14:25:10 <lambdabot>  [1.0,2.0,1.5,1.6666666666666665,1.6,1.625,1.6153846153846154,1.6190476190476...
14:25:15 <AStorm> chessguy: more accurate
14:25:46 <int-e> 1.618033988749895 was presumably more accurate.
14:25:53 <AStorm> > iterate (succ . recip) (1%1)
14:25:55 <lambdabot>  [1%1,2%1,3%2,5%3,8%5,13%8,21%13,34%21,55%34,89%55,144%89,233%144,377%233,610...
14:25:56 <AStorm> More fun :>
14:26:04 <glguy> > foldl (*) 1 (iterate (succ . recip) 1)
14:26:09 <lambdabot> Terminated
14:26:15 <chessguy> pwnd
14:26:17 <AStorm> Infinite series, impossible
14:26:22 <glguy> i'm aware :)
14:26:29 <glguy> > scanl (*) 1 (iterate (succ . recip) 1)
14:26:31 <lambdabot>  [1.0,1.0,2.0,3.0,5.0,8.0,13.0,21.0,34.0,55.0,89.0,144.0,233.0,377.0,610.0,98...
14:26:47 <int-e> > map denominator $ iterate (succ . recip) (1%1)
14:26:48 <lambdabot>  [1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,17...
14:27:06 <AStorm> ?hoogle denominator
14:27:07 <twanvl> > map denominator $ iterate (succ . recip) 1
14:27:07 <lambdabot> Ratio.denominator :: Integral a => Ratio a -> a
14:27:08 <lambdabot>  [1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,17...
14:28:48 <glguy> screen sessions within screen sessions make for trickery
14:29:03 <AStorm> http://en.wikipedia.org/wiki/Continued_fraction
14:29:07 <lambdabot> http://tinyurl.com/y7ojve
14:29:29 <sieni> > et l = 1 : (map (\x -> (1 + 1/x)) l) in fst $ head $ dropWhile (\x -> fst x /= snd x) $ zip l $ tail l
14:29:29 <lambdabot>  Parse error
14:29:35 <sieni> > let l = 1 : (map (\x -> (1 + 1/x)) l) in fst $ head $ dropWhile (\x -> fst x /= snd x) $ zip l $ tail l
14:29:36 <lambdabot>  1.618033988749895
14:30:21 <AStorm> sieni: slooow
14:30:29 <chessguy> so is the example in the docs just wrong?
14:30:38 <AStorm> No, entirely correct
14:30:53 <AStorm> Though maybe less accurate if your FPU is weak
14:30:59 <chessguy> but it gave a bizarre answer
14:31:14 <AStorm> It's something else entirely.
14:31:20 <chessguy> oh
14:31:24 <int-e> > sqrt(1.25)+0.5
14:31:25 <lambdabot>  1.618033988749895
14:31:29 <chessguy> > let golden = round ((sqrt 5 - 1) * 2^31) :: Int in golden
14:31:31 <lambdabot>  -1640531527
14:31:48 <AStorm> It's golden ratio converted to integer.
14:32:03 <int-e> > let golden = round ((sqrt 5 - 1) * 2^30) :: Int in golden
14:32:04 <lambdabot>  1327217885
14:32:04 <chessguy> ohhh, they're using it to make a hash
14:32:36 <AStorm> Yes, because it's a nice number. Makes hash collisions less likely.
14:32:44 <chessguy> gotcha
14:33:18 <xerox_> Do you know of series that are convergent to the golden ratio?
14:34:11 <AStorm> Hmm... not yet.
14:34:45 <AStorm> @let euler n = (1 + 1/n) ** n
14:34:47 <lambdabot> Defined.
14:34:56 <AStorm> > L.euler 15
14:34:58 <lambdabot>  2.6328787177279187
14:34:59 <sieni> just sum the differences of the consecutive terms in the continued fraction thingie
14:35:02 <sieni> ;-)
14:35:24 <AStorm> > L.euler 1000
14:35:26 <lambdabot>  2.7169239322355936
14:37:25 <AStorm> > e
14:37:26 <lambdabot>  Not in scope: `e'
14:37:32 <AStorm> ?hoogle e
14:37:33 <lambdabot> Data.Graph.Inductive.Example.e :: Gr Char ()
14:37:33 <lambdabot> Array.elems :: Ix a => Array a b -> [b]
14:37:33 <lambdabot> Directory.executable :: Permissions -> Bool
14:37:42 <Cale> > sum [1 / product [1..n] | n <- [0..20]]
14:37:43 <lambdabot>  2.7182818284590455
14:37:43 <AStorm> ?hoogle pi
14:37:44 <lambdabot> Prelude.pi :: Floating a => a
14:37:44 <lambdabot> Language.Haskell.TH.ClassOpI :: Name -> Type -> Name -> Fixity -> Info
14:37:44 <lambdabot> Data.Map.lookupIndex :: (Monad m, Ord k) => k -> Map k a -> m Int
14:37:53 <Cale> > exp 1 - sum [1 / product [1..n] | n <- [0..20]]
14:37:54 <lambdabot>  -4.440892098500626e-16
14:38:03 <lisppaste2> thou annotated #28273 with "Simpler program (using StateT and basic IO) demonstrating same problem" at http://paste.lisp.org/display/28273#8
14:38:28 <AStorm> ?hoogle product
14:38:29 <lambdabot> Prelude.product :: Num a => [a] -> a
14:39:08 <AStorm> Now, what does this thing do?
14:39:15 <Cale> product?
14:39:22 <thou> > product [3, 4, 5]
14:39:23 <lambdabot>  60
14:39:25 <Cale> product = foldr (*) 1
14:39:37 <sieni> > sum $ takeWhile (/= 0) $ map (\x -> 1 / (product [1..x])) [0..]
14:39:38 <lambdabot>  2.7182818284590455
14:39:39 <Cale> so product [1..n] = n!
14:39:39 <glguy> I just found out that if I press Fn+F3, my laptop's BIOS menu comes up
14:40:25 <AStorm> Ah.
14:40:29 <chessguy> my 6-month old nephew found a keyboard combination that rotated everything on my brother's laptop screen by 90 degrees :)
14:40:41 <sieni> chessguy: haha
14:40:51 <thou> :-)
14:41:04 <chessguy> why on earth you would want that as a keyboard shortcut is beyond me
14:41:15 <AStorm> For reading ebooks? :P
14:42:00 <SamB> chessguy: because that is the easiest way to allow the user to do something funky with a laptop?
14:42:08 <SamB> that is, easiest to engineer.
14:42:17 <AStorm> > L.euler 10**10
14:42:18 <lambdabot>  13780.612339822394
14:42:28 <AStorm> Uh, bad fixity :>
14:42:30 <SamB> not easiest for anyone but the laptop maker...
14:42:30 <chessguy> SamB, :)
14:42:32 <AStorm> > L.euler (10**10)
14:42:33 <lambdabot>  2.7182820532347876
14:42:50 <AStorm> Though it's not a true limes
14:42:56 <SamB> oh, except it also doesn't need driver support
14:43:14 <AStorm> > L.euler inf
14:43:15 <lambdabot>  Not in scope: `inf'
14:43:18 <AStorm> > L.euler infinity
14:43:19 <lambdabot>  Not in scope: `infinity'
14:43:22 <AStorm> ;-)
14:43:49 <AStorm> ?hoogle infinity
14:43:50 <lambdabot> No matches found
14:43:53 <AStorm> ?hoogle inf
14:43:54 <lambdabot> Prelude.infix :: keyword
14:43:56 <lambdabot> Prelude.infixl :: keyword
14:43:58 <lambdabot> Prelude.infixr :: keyword
14:44:03 <AStorm> Hmm.
14:44:06 <AStorm> > 1/0
14:44:12 <lambdabot>  Infinity
14:44:27 <AStorm> > L.euler Infinity
14:44:28 <lambdabot>  Not in scope: data constructor `Infinity'
14:44:33 <AStorm> Bad.
14:44:40 <mauke> > (10**10 `L.euler`)
14:44:41 <lambdabot>    The operator `L.euler' [infixl 9] of a section
14:44:41 <lambdabot>     must have lower p...
14:44:51 <glguy> > L.euler (1/0)
14:44:53 <lambdabot>  NaN
14:45:02 <mauke> > (42 `L.euler`)
14:45:03 <lambdabot>  add an instance declaration for (Floating (t -> t1))
14:45:03 <lambdabot>   In the definition ...
14:45:22 <glguy> > [-1/0,0..]
14:45:23 <lambdabot>  [-Infinity,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,N...
14:45:41 <AStorm> Unfortunately, Haskell isn't that smart (yet?)
14:45:51 <SamB> heh
14:45:55 <SamB> its floating point
14:45:58 <SamB> what did you expect?
14:46:00 <AStorm> Should be: [-Infinity,NaN,Infinity,...]
14:46:25 <glguy> if anything, -Inf,0,Inf
14:46:33 <AStorm> 2/0
14:46:37 <AStorm> > 2/0
14:46:39 <lambdabot>  Infinity
14:46:43 <SamB> well.
14:46:52 <mauke> it shouldn't, -inf + inf isn't 0
14:47:02 <AStorm> Yes, -inf + inf = nan
14:47:11 <glguy> nan + inf /= inf
14:47:18 <AStorm> Yes.
14:47:19 <AStorm> :>
14:47:20 <_velco> len xs = sum $ map length xs   <-- this is ok
14:47:36 <_velco> can understand why  len = sum $ map length   is not ok
14:47:54 <mauke> yeah, that would have to be len = sum . map length
14:47:58 <glguy> sum . map length
14:47:58 <_velco> (and Iknow len = sum . (map length) is ifne
14:48:08 <SamB> > let x = -1/0; delta = 0-x; y = x + delta; z = y + delta in (x,y,z)
14:48:09 <lambdabot>  (-Infinity,NaN,NaN)
14:48:12 <mauke> len = fmap sum $ fmap length
14:48:22 <SamB> > let x = -1/0; delta = 0-x; y = x + delta; z = y + delta in ((x,y,z), delta)
14:48:23 <lambdabot>  ((-Infinity,NaN,NaN),Infinity)
14:48:45 <mauke> > let len = fmap sum $ fmap length in len (words "where is your god now?")
14:48:46 <lambdabot>  18
14:48:52 <monochrom> ...
14:48:59 <AStorm> mauke: should be 42
14:49:05 <_velco> yeah, I can find many different ways to do this thing
14:49:17 <_velco> bu aopparently I don;t understand what $ is
14:49:18 <glguy> and mauke pulls out a (->)r as instance of Functor
14:49:23 <_velco> and that;s what I'm asking
14:49:24 <AStorm> ?hoogle ($)
14:49:25 <lambdabot> Did you mean: ($)
14:49:25 <lambdabot> Prelude.undefined :: a
14:49:25 <lambdabot> Control.Monad.Reader.ask :: MonadReader r m => m r
14:49:31 <mauke> _velco: ($) is id :-)
14:49:32 <AStorm> ?hoogle (\$)
14:49:33 <lambdabot> Did you mean: (\$)
14:49:33 <monochrom> OK, suppose you have "f x = (blah blah blah) x", then you can simplify that to "f = blah blah blah".
14:49:33 <lambdabot> Prelude.undefined :: a
14:49:33 <lambdabot> Control.Monad.Reader.ask :: MonadReader r m => m r
14:49:34 <glguy> _velco: mauke is trying to confuse you, for his own sick pleasure
14:49:41 <AStorm> What the...
14:49:47 <mauke> _velco: f $ x = f x, nothing more
14:49:50 <AStorm> Fix that bug.
14:49:55 <AStorm> ?hoogle $
14:49:56 <lambdabot> Prelude.($) :: (a -> b) -> a -> b
14:49:56 <lambdabot> Prelude.($!) :: (a -> b) -> a -> b
14:49:56 <lambdabot> Control.Parallel.Strategies.($|) :: (a -> b) -> Strategy a -> a -> b
14:50:01 <monochrom> But here you have "f x = (stuff) $ (blah blah x)"  See how you can't factor x out?
14:50:17 <AStorm> It's non-trivial, yes.
14:50:24 <mauke> _velco: the only reason it exists is its low precedence
14:50:46 <_velco> hmm
14:50:54 <AStorm> To factor X out, you'd have to know stuff takes only 1 argument
14:51:01 <chessguy> it saves you typing a paren
14:51:04 <mauke> f $ g $ h x == f $ (g $ (h x)) == f (g (h x))
14:51:19 <_velco> that means that ``sum $ map length'' is just ``sum map length'' which is apparently b0rked ...
14:51:24 <_velco> right ?
14:51:28 <monochrom> To factor x out, you have to rewrite: stuff $ (blah blah x) = (stuff . blah blah) x
14:51:30 <mauke> no, it's sum (map length)
14:51:40 <AStorm> Which is incorrect Haskell.
14:51:41 <_velco> oh, I see
14:51:47 <mauke> which is borked because sum wants a list of numbers, not a function
14:51:48 <_velco> thanks
14:52:15 <glguy> sum `fmap` fmap length
14:52:17 <monochrom> It's important to know that x y z = (x y) z
14:52:44 <monochrom> Anyway put in a whole lot of parentheses everywhere and you will know how to be a parser.
14:53:00 <mauke> > (((((((())))))))
14:53:01 <lambdabot>  ()
14:53:26 <monochrom> Look at things from the computer point of view.
14:53:36 <glguy> additionally, () has nothing to do with parenthesis :)
14:53:38 <_velco> I really prefer writing f $ g $ h x instead of f (g (h x))
14:53:51 <monochrom> I prefer f . g . h  no x.
14:53:56 <AStorm> Yes, () is a Unit
14:53:58 <AStorm> > Unit
14:53:59 <lambdabot>  Not in scope: data constructor `Unit'
14:54:00 <glguy> (h >>> g >>> f) x?
14:54:04 <AStorm> > Unit 1
14:54:05 <lambdabot>  Not in scope: data constructor `Unit'
14:54:08 <AStorm> Hmm.
14:54:24 <AStorm> monochrom: pointless programming? ;-)
14:54:30 <glguy> > ( (+1) >>> (*2) ) 4
14:54:31 <_velco> haha
14:54:31 <lambdabot>  10
14:54:34 <monochrom> Unix shell pipelining
14:54:45 <mauke> > (return 42 >>> sqrt >>> negate) undefined
14:54:46 <lambdabot>  -6.48074069840786
14:54:59 <AStorm> Now that's some pipeline.
14:55:06 <AStorm> Why the "undefined" though?
14:55:09 <monochrom> >>> is krad
14:55:11 <mauke> to apply the function
14:55:16 <AStorm> ?hoogle >>>
14:55:17 <lambdabot> Control.Arrow.(>>>) :: Arrow a => a b c -> a c d -> a b d
14:55:23 <monochrom> Need an argument afterall :)
14:55:27 <AStorm> Ah, yes.
14:55:32 <glguy> mauke was using return 42 as const 42
14:55:47 <monochrom> If you use arrows you should use returnA
14:55:59 <AStorm> Anyway, that's almost an IOHCC entry...
14:56:12 <mauke> > let pipe = flip id undefined in pipe $ return 42 >>> sqrt >>> negate
14:56:13 <lambdabot>  -6.48074069840786
14:56:29 <Lajexander> @type (>>>)
14:56:30 <lambdabot> forall (a :: * -> * -> *) d b c. (Arrow a) => a b c -> a c d -> a b d
14:56:35 <monochrom> >>> makes a lot of sense
14:56:45 <AStorm> Yes, but is unreadable :P
14:57:01 <monochrom> It is as readable as Unix shell pipelines.
14:57:07 <glguy> > let pipe = ($ undefined) in pipe $ return 42 >>> sqrt >>> negate
14:57:09 <lambdabot>  -6.48074069840786
14:57:14 <AStorm> Except you have to stick a monad in the pipeline.
14:57:29 <monochrom> That's why I say use returnA.
14:57:30 <mauke> flip id > ($ ...)
14:57:37 <AStorm> ?hoogle returnA
14:57:37 <lambdabot> Control.Arrow.returnA :: Arrow a => a b b
14:57:42 <AStorm> Hmm.
14:57:52 <monochrom> No monad necessary.
14:58:03 <AStorm> > returnA 42
14:58:05 <lambdabot>  42
14:58:07 <Lajexander> > ((+5) >>> (*10)) 1
14:58:09 <lambdabot>  60
14:58:09 <blsecres> Is there a simple way to replicate an argument? i.e. a point free version of something like mean xs = sum xs / (fromIntegral (length xs)).  lambdabot suggests using Monad.liftMX
14:58:10 <mauke> return == liftM0
14:58:13 <AStorm> > return 42
14:58:14 <lambdabot>  add an instance declaration for (Show (m a))
14:58:23 <Lajexander> ok, so what did i do there?
14:58:37 <glguy> blsecres: mean = liftM2 (/) sum genericLength
14:58:55 <monochrom> (1+5)*10 you did there
14:58:56 <mauke> or (fromIntegral . length)
14:58:57 <glguy> blsecres: or, do { a <- sum; b <- genericLength; return (a/b) }
14:59:16 <xerox_> glguy: are you sure?
14:59:20 <Lajexander> > ((*10) >>> (+5)) 1
14:59:21 <lambdabot>  15
14:59:26 <Lajexander> aight =)
14:59:27 <glguy> xerox_: about what
14:59:38 <mauke> @pl \x -> f x `c` g x
14:59:38 <AStorm> glguy: yuck
14:59:39 <lambdabot> liftM2 c f g
14:59:47 <Lajexander> why not just f(g(x)) ?
14:59:52 <monochrom> mean = sum &&& (fromIntegral . length) >>> uncurry (/)
15:00:10 <glguy> > (do { a <- sum; b <- genericLength; return (a/b) }) [1,3,7,10]
15:00:12 <lambdabot>  5.25
15:00:13 <mauke> Lajexander: huh?
15:00:25 <glguy> AStorm: that's exactly what liftM2 is doing
15:00:31 <AStorm> glguy: yes, it's correct, but ugly like hell.
15:00:39 <glguy> AStorm: so?
15:00:47 <monochrom> f(g(x)) is just fine too.
15:00:47 <blsecres> I've tried that but get a complaint about 'No instance for (Monad ((->) [b]))
15:00:48 <AStorm> I don't want to see that - that's what liftM* are for
15:01:01 <mauke> blsecres: import Control.Monad.Reader
15:01:04 <glguy> AStorm: well, the point is to show what liftM2 is doing
15:01:08 <Lajexander> all >>> seems to do is to apply the rightmost function to the variable and the applying the other function
15:01:09 <AStorm> YEp.
15:01:25 <AStorm> Not to the "variable"
15:01:33 <Lajexander> so why not just (f.g) x?
15:01:42 <int-e> @type liftM2 (/) sum genericLength
15:01:44 <lambdabot> forall i. (Fractional i) => [i] -> i
15:02:04 <monochrom> No, all >>> seems to do is .
15:02:11 <int-e> ah, missed glguy's line above.
15:02:11 <SamB> > (Just . Left) "Hi!"
15:02:12 <lambdabot>  Add a type signature
15:02:26 <SamB> @type (Just >>> Left) "Byte!"
15:02:27 <Lajexander> AStorm: I know they're not technically "variables", but what should i call x then?
15:02:27 <lambdabot> forall b. Either (Maybe [Char]) b
15:02:33 <monochrom> Err, >>> is . flipped.  f>>>g = g.f
15:02:38 <SamB> @type (Just . Left) "Bit!"
15:02:39 <lambdabot> forall b. Maybe (Either [Char] b)
15:02:39 <glguy> if we had Applicative notation:
15:02:46 <SamB> but...
15:02:48 <glguy> iI (/) sum genericLength Ii
15:02:54 <SamB> @type (>>>)
15:02:55 <lambdabot> forall (a :: * -> * -> *) d b c. (Arrow a) => a b c -> a c d -> a b d
15:02:56 <Lajexander> but why does it even exist?
15:03:05 <monochrom> Does anyone actually know Unix shell pipelining?
15:03:06 <SamB> Lajexander: well, it isn't really just for functions
15:03:10 <SamB> monochrom: hmm?
15:03:21 * SamB knows a fair bit
15:03:25 <Lajexander> @Hoogle Arrow
15:03:25 <lambdabot> Maybe you meant: google hoogle
15:03:25 <glguy> monochrom: know what about it
15:03:29 <Lajexander> @hoogle Arrow
15:03:30 <lambdabot> Control.Arrow :: module
15:03:30 <lambdabot> Control.Arrow.Arrow :: class Arrow a
15:03:30 <lambdabot> Control.Arrow.ArrowMonad :: a () b -> ArrowMonad a b
15:04:06 <monochrom> If I write "unix shell command: sort | uniq | grep ^haha" does anyone need me explain what that means?
15:04:08 <blsecres> thanks all, now to decide which is cleaner/more readable
15:04:39 <glguy> monochrom: | redirects the stdout file descriptor of the left side into the stdin file descriptor of the right side
15:04:42 <AStorm> (sort . uniq . grep) "^haha"
15:04:42 <AStorm> :>
15:05:00 * monochrom beats up AStorm
15:05:08 * monochrom violently beats up AStorm
15:05:16 <dcoutts> kids kids
15:05:22 <monochrom> heehee
15:05:30 <AStorm> (sort . uniq . grep) = awk
15:05:34 <AStorm> :P
15:05:34 <mauke> grep "^haha" . nub . sort
15:05:34 <thou> ?what h4sh
15:05:35 <lambdabot> http://www.cse.unsw.edu.au/~dons/h4sh.html
15:05:38 <mauke> plz
15:05:51 <sjanssen> mauke: not quite
15:06:11 <sjanssen> mauke: actually, exactly right
15:06:17 * sjanssen is an idiot
15:06:29 <AStorm> Exactly right.
15:06:35 <AStorm> (both)
15:06:38 <monochrom> So, why is it a big fuss needing a lot of "intuitive explanation" when I write "sort >>> uniq >>> grep ^haha"?
15:06:48 <monochrom> I mean, what is even there to explain?
15:06:53 <AStorm> ?hoogle >>
15:06:54 <lambdabot> Prelude.(>>) :: Monad m => m a -> m b -> m b
15:06:54 <lambdabot> Prelude.(>>=) :: Monad m => m a -> (a -> m b) -> m b
15:06:54 <lambdabot> Control.Arrow.(>>>) :: Arrow a => a b c -> a c d -> a b d
15:07:04 <AStorm> That's the problem.
15:07:06 <mauke> because >>> is bitwise right shift
15:07:23 * monochrom violently _____s mauke
15:07:33 <AStorm> Actually, >> is the right shift in most languages
15:07:45 <monochrom> You people are fun :)
15:07:50 <Cale> mauke: what?
15:07:56 <int-e> >>> is signed shift right in Java?
15:08:03 <mauke> unsigned, I think
15:08:05 <int-e> sorry, J*va?
15:08:07 <monochrom> Ah, yeah, now I remember.
15:08:25 <int-e> @karma java
15:08:25 <lambdabot> java has a karma of -11
15:08:28 <int-e> java--
15:08:32 <AStorm> @karma- java
15:08:33 <lambdabot> java's karma lowered to -13.
15:08:37 <araujo> java--
15:08:41 <sieni> @karma- java
15:08:42 <lambdabot> java's karma lowered to -15.
15:08:46 <sieni> @karma- Java
15:08:46 <lambdabot> Java's karma lowered to -3.
15:09:03 <sieni> @karma- php
15:09:03 <lambdabot> php's karma lowered to -2.
15:09:06 <mauke> you know what's fun?
15:09:09 <mauke> instance (Num a, Monad m, Eq (m a), Show (m a)) => Num (m a)
15:09:19 <monochrom> Heresy
15:09:21 <sjanssen> mauke: ewwww
15:09:36 <monochrom> Why do you need Show there?
15:09:42 <mauke> because Num is retarded
15:09:51 <sjanssen> at least IO won't fit the constraints
15:09:59 <glguy> mauke: hear hear!
15:10:04 <sieni> you can't show the world?
15:10:14 <sjanssen> the class hierarchy is unjust
15:10:19 <glguy> *I* can show you the world
15:10:23 <mauke> class  (Eq a, Show a) => Num a  where ...
15:10:37 * glguy now has the Alladin song in his head
15:10:37 <sjanssen> Num is a subclass of Show, but Monad isn't a subclass of Functor
15:10:41 <mauke> which means I have to define a dummy show instance for functions
15:10:54 <mauke> but otherwise 1 2 3 compiles just fine
15:11:21 <xerox_> mauke ewww
15:11:24 <xerox_> mauke: no ord?
15:11:29 <mauke> nope
15:11:42 <monochrom> "It's as easy as 1 2 3"?
15:11:47 <mauke> fromInteger = return . fromInteger; abs = liftM abs; (+) = liftM2 (+)
15:11:51 <mauke> exactly!
15:11:51 <xerox_> that's right
15:11:53 <sjanssen> what is the justification for the Show constraint?
15:12:01 <sjanssen> I know Eq is there for k/n+k patterns
15:12:11 <xerox_> sjanssen: Num needs it
15:12:13 <int-e> sjanssen: performance I think.
15:12:16 <glguy> death to k / n + k patterns!
15:12:33 <mathewm> with Haskell ( GHC specficially ) is there a function to evaluate another function with some time-limit? ( for a unit-test that might loop )
15:12:41 <sjanssen> xerox_: right, why does Num need it?
15:12:49 <sjanssen> int-e: performance?
15:13:05 <int-e> sjanssen: but I don't really know, I'm guessing. It saves some dictionary passing in heavily used functions
15:13:28 <xerox_> mauke: do you have it written completely somewhere? I want to try that out
15:13:29 <sjanssen> mmm, I suppose
15:13:33 <int-e> sjanssen: of course that only applies if there are actually dictionaries to be passed around.
15:13:47 <mauke> xerox_: sec
15:13:58 <lisppaste2> mauke pasted "fun.hs" at http://paste.lisp.org/display/28401
15:14:16 <monochrom> Postulate: Everyone has a fun.hs lying around
15:14:17 <sjanssen> int-e: the overhead of a dictionary is quite small.  Shouldn't be more than a single pointer
15:15:10 <int-e> sjanssen: anyway. it's the only explanation that I have, but as I said, I'm guessing :)
15:15:46 <monochrom> mathewm: need to do it in the IO monad and multithreading.  Spawn a child thread to do the testing.  The mother thread sleeps then kills child.  Control.Concurrent has the stuff.
15:17:00 <xerox_> mauke: example usage? I can't use IO Integer for example
15:18:05 <mauke> xerox_: try 1 2 3
15:18:18 <xerox_> mauke: what do you mean?
15:18:36 <monochrom> Prelude> 1 2 3
15:18:37 <xerox_> Eeeek
15:18:39 <mauke> xerox_: in ghci, enter 1 2 3
15:18:43 <xerox_> I saw.
15:18:48 <monochrom> It's as easy as 1 2 3.
15:18:49 <xerox_> Now this is scary.
15:18:58 <mauke> (1 + sqrt) 2
15:18:59 <LiquidEngineer> What?
15:19:00 <lambdabot> LiquidEngineer: You have 1 new message. '/msg lambdabot @messages' to read it.
15:19:02 <monochrom> Happy Halloween!
15:19:17 <xerox_> It's nonsense!!!
15:19:55 <monochrom> We should make a Halloween movie out of it!
15:20:00 <LiquidEngineer> dgoldsmith: thanks for the message. :)
15:20:01 <xerox_> Meeeh
15:20:08 <mauke> I saw a differential equation, then I thought "wait, pi has to be a function for that to work"
15:20:23 <mauke> so I tried making (a -> b) an instance of Num
15:20:32 <xerox_> OK.
15:20:40 <LiquidEngineer> noting happens when I put 1 2 3 in. :(
15:20:43 <mauke> while doing so, I noticed that this works for all monads
15:20:45 <xerox_> consts?
15:21:37 <mauke> LiquidEngineer: you're supposed to get 1
15:21:56 <AStorm> > 1 2 3
15:21:56 <mauke> and (1 + sqrt) 2 should be 2.414213562373095
15:21:57 <lambdabot>  add an instance declaration for (Num (t -> t1 -> a))
15:21:57 <lambdabot>   In the definition ...
15:22:22 <mauke> maybe we should add it to lambdabot :-)
15:22:28 <mauke> > id
15:22:29 <lambdabot>  Add a type signature
15:22:35 <mauke> > id :: Int -> Int
15:22:36 <lambdabot>  <Int -> Int>
15:22:44 <mauke> see? it already has Show (a -> b)
15:22:45 <AStorm> > 1 2 3 :: Int
15:22:46 <lambdabot>  add an instance declaration for (Num (t -> t1 -> Int))
15:22:46 <lambdabot>   In the expressio...
15:22:51 <AStorm> > 1 2 3 :: Int -> Int -> Int
15:22:52 <lambdabot>     add an instance declaration for (Num (t -> t1 -> Int -> Int -> Int))
15:22:52 <lambdabot>  ...
15:23:02 <monochrom> The DE people face equations like "du/dx + du/dy = pi*u".  They are fond of factoring things out "d/dx + d/dy = pi".  They are pioneers of point-free!
15:23:09 <AStorm> > 1 2 3 :: Int -> Int
15:23:10 <lambdabot>  add an instance declaration for (Num (t -> t1 -> Int -> Int))
15:23:11 <lambdabot>   In the ex...
15:23:29 <LiquidEngineer> > 1 2 3
15:23:31 <lambdabot>  add an instance declaration for (Num (t -> t1 -> a))
15:23:31 <lambdabot>   In the definition ...
15:23:38 <LiquidEngineer> that's not normal, I take it?
15:23:39 <mauke> excuse me wtf r u doin
15:23:43 <AStorm> monochrom: what?
15:23:52 <AStorm> d/dx? :P
15:23:58 <AStorm> Fix your syntax
15:24:00 <mauke> if you want to try this stuff, download http://paste.lisp.org/display/28401 and load it in ghci
15:24:16 <LiquidEngineer> cool
15:24:18 <LiquidEngineer> thanks
15:24:19 <monochrom> what's wrong with d/dx?
15:24:25 <LiquidEngineer> Is this some sort of serious bug?
15:24:29 <AStorm> d 1 = 1
15:24:32 <mauke> LiquidEngineer: no, feature
15:24:40 <AStorm> It's superfluous
15:24:42 <LiquidEngineer> oh
15:24:43 <LiquidEngineer> good
15:28:45 <dmhouse> HAppS: inside the Ev monad, if I wanted to get the current time, do I need addSideEffect?
15:34:08 <xerox_> ski: hiya
15:35:11 <xerox_> Help me understanding this phrase, please: "Another thing that results from this is that it allows you to write a function that applies something to the self application of something else:"
15:35:45 <dmhouse> xerox_: what's the context?
15:36:11 <dmhouse> I guess it means you can write a function f = (g g) x
15:36:30 <xerox_> That is a property of the combinator SII in the SKI calculus.
15:36:43 <Lajexander> @hoogle (a,b) -> (b,a)
15:36:44 <lambdabot> Data.Graph.Inductive.Query.Monad.(><) :: (a -> b) -> (c -> d) -> (a, c) -> (b, d)
15:36:46 <mauke> @type ap id id
15:36:47 <lambdabot>   Occurs check: cannot construct the infinite type: a = a -> b
15:36:47 <lambdabot>    Expected type: (a -> b) -> a
15:37:01 <dmhouse> mauke: _untyped_ SKI calculus :)
15:39:12 <Azmo> > :t Data.Array.getBounds
15:39:13 <lambdabot>  Parse error
15:39:18 <ihope_> SKI calculus is for wimps. We use SKIBCKW.
15:39:31 <Azmo> @hoogle getBounds
15:39:32 <ihope_> Or just BCKW when we're in a bad mood.
15:39:32 <lambdabot> No matches found
15:39:56 <ihope_> SKI + BCKW = SKIBCKW actually...
15:40:09 <ihope_> Wimps use less tools than non-wimps, see.
15:40:11 <mathewm> can GHCi list running threads?
15:43:06 <expwiz> Hi. I'm new to haskell and wonder if it is possible to overload operators, e.g. so I can enable the expressions: floatVar * myDatatype  and   intVar * myDatatype..?
15:44:23 <ihope_> expwiz: classes.
15:44:40 <ihope_> Well, it'd be a bad idea to use * as your operator, probably.
15:44:56 <mathewm> wouldn't the args need to be of the same type for the (*) function?
15:45:09 <mathewm> : 3 * 3.3
15:45:16 <mathewm> :type 3 * 3.3
15:45:21 <mathewm> ?type 3 * 3.3
15:45:22 <lambdabot> forall a. (Fractional a) => a
15:45:25 <expwiz> I've tried making myDatatype an instance of Num, but that only enables the expression: 12 * myDatatype.. not intVar * myDatatype (where intVar is of type Int)
15:45:42 <ihope_> Well, what's myDatatype?
15:46:19 <expwiz> A custom datatype. In my case a vector (that I want to be able to multiply with a scalar).
15:47:01 <int-e> expwiz: the (*) in the Num class can't be applied to arguments of different types.
15:47:19 <int-e> that is, in a * b, a and b always have the same type.
15:47:40 <mathewm> ?eval 3 * 3.3
15:47:41 <expwiz> then how come 1 * 2.3 works?
15:47:52 <ihope_> 1 is converted into a Fractional.
15:48:01 <ihope_> 1.0 is a "subset" of 1.
15:48:02 <mathewm> type inference causes the parser to man 1 into a Fractional ?? (guessing)
15:48:16 <int-e> @type 1
15:48:17 <lambdabot> forall t. (Num t) => t
15:48:24 <int-e> 1 is polymorphic
15:48:32 <ihope_> If you want to multiply this with a scalar, you could use a class called Scalar or something.
15:48:38 <int-e> @type 1.1
15:48:39 <lambdabot> forall t. (Fractional t) => t
15:48:52 <expwiz> hm.. ok.
15:48:52 <int-e> > 1.1 :: Rational
15:48:53 <lambdabot>  11%10
15:48:58 <ihope_> class Scalar a where (*|) :: a -> Vector -> Vector
15:49:08 <ihope_> instance Scalar Int where x *| y = ...
15:49:18 <expwiz> Ah..
15:50:00 <expwiz> Sounds like a good idea..
15:51:52 <xerox_> (S(Kα)(SII))β → Kαβ(SIIβ) → α(SIIβ) → α(ββ)
15:51:55 <xerox_> Hmmm.
15:52:06 <xerox_> Beats me how that is a property of SII.
15:54:09 <xerox_> Maybe it is the only function that applied to S(Ka) returns a combinator that reduces to a(bb)...
15:54:44 <dmhouse> xerox_: perhaps it's not possible to write \a b -> a(bb) without using SII?
15:55:03 <xerox_> That would be strange
15:55:24 <xerox_> Hm, it's the doubling of the argument, maybe, the core thing of SII.
15:56:06 <xerox_> SII = \x y -> x y ?
15:56:17 <xerox_> S = \f g x y -> f x (g x)
15:56:22 <xerox_> I = \x -> x
15:56:22 <expwiz> Is there any good linear algebra libraries for haskell, that includes vectors, matrices, quaternions, stuff useful for 3d/geometric programming?
15:57:30 <xerox_> SII = (\f g x y -> f x (g x)) I I = \x y -> I x (I y) = \x y -> x y = \x -> x = id
15:57:37 <xerox_> Hm.
15:59:23 <xerox_> Hmm.
15:59:39 <astrolabe> Hmmm
16:00:16 <mauke> what's the y doing there?
16:00:52 <xerox_> Nothing!
16:00:57 <xerox_> I wonder what I was thinking
16:01:20 <sjanssen> > 'h' : fix ('m':)
16:01:22 <lambdabot>  "hmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm...
16:01:34 <dmhouse> Why does Data.Sequence contain no map?
16:01:35 <xerox_> (\f g x -> f x (g x)) I I = \x -> x x
16:01:41 <xerox_> Join!
16:01:57 <mauke> @pl (\f g x -> f x (g x))
16:01:57 <lambdabot> ap
16:02:00 <mauke> @pl (\f g x -> f x (g x)) id id
16:02:01 <lambdabot> join id
16:02:05 <xerox_> Hmpf.
16:02:28 <xerox_> Hmpf. Hmpf.
16:02:30 <dmhouse> ?pl (\f g x -> f x (g x)) (\x -> x) (\x -> x)
16:02:30 <lambdabot> join id
16:02:32 <xerox_> I don't like "join id"
16:02:34 <int-e> > let l = concat . transpose [repeat 1, map (+1) l] in l
16:02:34 <lambdabot>    Expecting a function type, but found `[[a]]'
16:02:35 <lambdabot>    Expected type: a1 -> ...
16:02:40 <xerox_> I think it's not well typed
16:02:45 <xerox_> ?type join id
16:02:46 <int-e> > let l = concat . transpose $ [repeat 1, map (+1) l] in l
16:02:47 <lambdabot>   Occurs check: cannot construct the infinite type: a = a -> a1
16:02:47 <lambdabot>    Expected type: a -> a -> a1
16:02:47 <lambdabot>  [1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,6,1,2,1,3,1,2...
16:02:50 <xerox_> See.
16:03:06 <dmhouse> xerox_: but then, neither is SII.
16:03:17 <xerox_> So what is join id in SKI.
16:03:24 <xerox_> SII.
16:03:24 <dmhouse> ?type (\f g x -> f x (g x)) (\x -> x) (\x -> x)
16:03:26 <lambdabot>   Occurs check: cannot construct the infinite type: t = t -> t1
16:03:26 <lambdabot>    Expected type: t
16:03:56 <xerox_> What's the easier way to understand a not typed expression?
16:04:11 <int-e> SKK = I
16:04:21 <dmhouse> Ignoring types, as SKI is typeless, join id = id id = (\x -> x) (\x -> x) = \x -> x = id
16:04:29 <dcoutts> for some reason I was reading about IBM mainframes (I still can't find out what CPU type they use). I conclude that they're all mad. They have this complex system to remove certain instructions or run CPUs slower, so that customers don't have to pay so much on software licensing.
16:05:01 <dcoutts> "This is widely known as  kneecapping , although IBM prefers the term  capacity setting, or something similar. It is done by using microcode to insert null cycles into the processor instruction stream. The purpose, again, is to control software costs by having the minimum mainframe model or version that meets the application requirements."
16:05:09 <dcoutts> Madness I tell you!
16:05:10 <xerox_> dmhouse: I don't like this explanation.  If that id comes from a non-typed expression, how should I believe it?
16:05:17 <mauke> dmhouse: why is id id == id?
16:05:26 <mauke> er, why is join id == id id?
16:05:27 <dmhouse> > id id 4
16:05:28 <lambdabot>  4
16:05:36 <dmhouse> mauke: join x = x x
16:05:54 <dmhouse> (In Reader, at least.)
16:06:01 <mauke> I thought join f = \x -> f x x
16:06:11 <int-e> hmm, isn't join \f x -> f x x = \f -> S f I = S S (K I) ?
16:07:00 <dmhouse> > join (+) 4
16:07:01 <lambdabot>  8
16:07:06 <dmhouse> Oops, you're right.
16:07:09 <xerox_> How do you do the last step int-e?
16:07:59 <xerox_> Do you have some mental trick to reason about S ?
16:08:06 <int-e> xerox_: wrong, I guess.
16:08:15 <dmhouse> join id = \x -> (\y -> y) (\z -> z) x = \x -> (\z -> z) x = \x -> x = id, though.
16:08:46 <pejo> dcoutts, do you consider the kneecapping any differnt from having a machine full of CPU's, and not right to use more than a handful?
16:08:50 <dmhouse> Oops, I'll get this right eventually :)
16:08:50 <xerox_> ill-typed expression => expression ?!
16:09:13 <dmhouse> join id = \x -> (\y -> y) x x = \x -> x x = join
16:09:27 <int-e> xerox_: actually, no, that should be right: \f -> S f I = \f -> S f (K I f) = S S (K I)
16:09:32 <dmhouse> So join id = join, therefore both ?pl and xerox were right.
16:09:44 <int-e> xerox_: by definition of S. but I wasn't consciously doing that.
16:09:50 <dmhouse> Gah.
16:09:56 <dcoutts> pejo, apparently the price of mainframe software licenses are proportional to the number and speed of CPUs in the system, not the number on which the software is run.
16:09:56 <dmhouse> Ignore everything I've ever said.
16:10:09 <pejo> dcoutts, much like Oracle. :-)
16:10:12 <dmhouse> SII is join id = \x -> x x
16:10:18 <AStorm> dcoutts: simple :>
16:10:18 <xerox_> join = \f x -> f x x = \f -> S f I = I can't go further
16:10:28 <xerox_> Can you do steps in-between, conceptually, int-e?
16:10:30 <AStorm> Remove the CPUs and leave the free expansion slots :P
16:10:31 <dcoutts> pejo, but normally you'd run Oracle on all the CPUs at once
16:10:51 <dcoutts> pejo, here a prog only uses 1% of the system but that's not what you pay
16:11:03 <pejo> dcoutts, nah, you used to be able to bind it to a couple of CPU's and only pay the license fee for that, but they changed their license so it's the number of CPU's in the machine that matters.
16:11:21 <yip> has anyone seen flapjax?
16:11:21 <int-e> xerox_: \f -> (S f) I = S (\f -> S f) (\f -> I) = S S (K I)
16:11:26 <AStorm> I wonder then, how does that work in a distributed environment
16:11:37 <AStorm> What is their definition of "system"
16:11:53 <dcoutts> pejo, right, so it beng the number in the machine rather than the number used is bonkers
16:12:06 <int-e> xerox_: in general, \a -> X Y = S (\a -> X) (\a -> Y) and some obvious shortcuts.
16:12:18 <dcoutts> pejo, in fact the whole concept of this knobbling hardware to make the software cheeper is bonkers
16:12:40 <AStorm> Yes, just remove the damn CPUs! :P
16:12:41 <xerox_> int-e: I like that!!
16:12:45 <dcoutts> it's all comples expensive nonsense from the proprietary software world
16:12:47 <xerox_> int-e: I came to the same conclusion.
16:13:14 <AStorm> I'll be running the app on one multicore CPU.
16:13:22 <AStorm> Does that count as different CPUs, or just one?
16:13:26 <AStorm> (think MIPS)
16:13:32 <shapr> dcoutts: I agree
16:13:42 <dcoutts> AStorm, my reading was that even if those cpus were doing something else you were still paying for the privleedge of them not running said piece of software
16:13:58 <monochrom> Woah, you're saying if I have 10 ALUs I have to pay 10 fees?
16:14:03 <AStorm> Fortunately, that doesn't extend to cores :P
16:14:08 <shapr> AStorm: It gets more exciting when you look at the Cell cpu that has weenie helpe cores, they're not much better than a coprocessor, but they are real CPUs.
16:14:12 <AStorm> Way to go with 64x MIPS
16:14:17 <AStorm> (not there yet)
16:14:24 <shapr> I've only seen 16x MIPS.
16:14:27 <xerox_> int-e: I wonder who had this tweaked idea of S
16:14:38 <xerox_> ...and why.
16:14:53 <int-e> xerox_: and due to some Unlambda coding I have these pretty much wired up in my brain.
16:15:24 <xerox_> You are a nerd ;)
16:15:56 <dmhouse> shapr: The HAppS forum's coming along nicely.
16:16:01 <shapr> dcoutts: Another step in that excitement will be the future virtual execution layers that are planned to make a bunch of cores look like one single really fast core.
16:16:04 <shapr> dmhouse: Cool, is there a demo?
16:16:20 <dmhouse> Programming in HAppS is reasonable. Haskell web dev has a way to go yet.
16:16:25 <dcoutts> shapr, sounds tricky.
16:16:33 <xerox_> In a positive way, hehe.
16:16:43 <dmhouse> shapr: not yet, 1) I don't have a server running Haskell 2) It's not really sufficiently functional yet.
16:16:46 <shapr> dmhouse: Ideas/suggestions?
16:16:48 <int-e> xerox_: Haskell Curry was one of the people who introduced the combinatory logic. So that's a hint who came up with S and K :)
16:17:02 <shapr> dmhouse: HAppS is its own server, so you only need to scp a binary.
16:17:18 <dmhouse> Oh, true.
16:17:27 <pejo> AStorm, a multicore is several CPU's, atleast according to Oracle. Unsure about HT, SMT and whatever they all call it.
16:17:34 <dmhouse> Still, I'm not sure I have permissions to run arbitrary binaries in my web space.
16:17:47 <AStorm> pejo: evil! ;-)
16:17:55 <xerox_> int-e: hummmm.
16:17:56 <AStorm> So I'll produce a "distributed-core"
16:18:13 <dmhouse> My comments re: Haskell web dev so far are that 1) Text.(X)Html is way underdocumented, and needs better table support.
16:18:19 <AStorm> With only singly non-functional sub-microcores.
16:18:21 <xerox_> int-e: want to play hunt-and-peek in citeseer?
16:18:22 <pejo> AStorm, shrug. It is several CPU's. There's always the choice of either getting a smaller machine, or not running the software.
16:18:24 <Lajexander> What's an easy way to remove a constructor and get the goodies inside? is there a function for that?
16:18:44 <AStorm> The OS will see them as separate cores, though.
16:18:55 <AStorm> But there will be no real separate "cores"
16:19:00 <dmhouse> 2) Linking takes too long. I'm used to the PHP cycle: make a chance, C-x C-s, refresh browser. GHCi has helped but it weirds out with strange thread errors with HAppS. I need to check this out more.
16:19:02 <AStorm> everything interwined :P
16:19:24 <int-e> xerox_: no.
16:19:27 <mauke> Lajexander: what would be the type of that function?
16:19:32 <dmhouse> 3) Failing early with type errors is better than wasting time going to the browser and refreshing to find out you've made a syntax error.
16:19:58 <monochrom> Suppose C is a constructor and you have a value x = C y.  You can write: case x of C y -> ... here you can use y ...
16:20:03 <AStorm> Except type error messages could be better :P
16:20:19 <Lajexander> mauke: mabe some clever way of generalising constructors so that would make it :: Constructor a -> a
16:20:26 <dmhouse> 4) HAppS naturally supports a nice MVC without it being forced onto you (think Rails). As Haskell is über-expressive I've been able to use Haskell itself as my DSL for the templates, which is nice :)
16:20:43 <int-e> xerox_: actually wikipedia says it was Schönfinkel, in 1924.
16:20:44 <dmhouse> s/Haskell itself/Haskell itself, with the Text.(X)Html combinators/
16:20:58 <mauke> Lajexander: that doesn't even work for []
16:21:02 <dmhouse> So a mixture of positives and negatives.
16:21:04 <pejo> AStorm, an exciting area indeed!
16:21:05 <mauke> [] has two constructors, : and []
16:21:10 <xerox_> int-e: cool where did you find that information?
16:21:17 <pejo> Astorm, field, I mean.
16:21:18 <int-e> xerox_: http://en.wikipedia.org/wiki/Combinatory_logic
16:21:21 <lambdabot> http://tinyurl.com/y47ol7
16:21:26 <Lajexander> i'll write something up then
16:21:45 <dmhouse> It's nice not to worry about databases, but I'm interested how that'll scale/work on systems where I don't control the permissions.
16:22:20 <xerox_> The aim of eliminating variables from mathematical logic is what is behind both Haskell and the @pointless points-freeing plugin for lambdabot.  Yuck!
16:22:51 <dcoutts> shapr, pejo, it gets funnier, they have these special CPUs that don't count as 'real' CPUs when it comes to calculating software licensing.
16:22:55 <dmhouse> shapr: that's about it. :)
16:23:40 <dcoutts> They're normal CPUs with a couple instructions needd to run z/OS removed. So you can only run linux or JVM stuff on these CPUs.
16:24:15 <dcoutts> special hardware all to avoid having normal cpus that would then count towards your software costs
16:24:23 <xerox_> int-e: don't you find that strange that this compulsory need of us random haskellers to points-free Haskell code was preceded by this project of eliminating variables from logic, runned partly by this Haskell guy?!
16:24:40 <dcoutts> they get counted as 'special application accelerators' as if they were co-processors. Bonkers.
16:24:44 <int-e> xerox_: no.
16:25:06 <xerox_> int-e: i.e. you think @pl is rational?
16:25:30 <int-e> xerox_: I just take the relationship of the SK calculus and the lambda calculus for granted and the rest more or less follows from that.
16:25:30 <AStorm> pl is function, not a rational :P
16:25:36 <dmhouse> xerox_: what are these ^P I keep seeing in your lines?
16:25:43 <xerox_> I'm not sure dmhouse
16:25:53 <xerox_> It's not my computer
16:26:00 <int-e> xerox_: the only funny thing is that in Haskell, pointfree code contains so many dots.
16:26:10 <xerox_> hehe, that's right.
16:26:19 <AStorm> Not necessarily - arrows :P
16:26:42 <xerox_> int-e: do you mean that you know something about SKI that makes @pl an abvious idea?
16:27:09 <AStorm> SKI has no variables... pointless too
16:27:11 <int-e> sure. if you translate lambda terms to the SK calculus, you get pointfree code.
16:27:30 <xerox_> Makes sense.
16:27:31 <int-e> because you eliminate all lambda abstractions on the way.
16:27:37 <xerox_> That's right.
16:28:09 <xerox_> That's the whole point of SK...
16:28:18 <xerox_> Are there equivalent systems?
16:28:23 <xerox_> Or is it unique?
16:28:25 <int-e> and with S = ap, K = const, I = id, that translates directly to haskell. add some more rewrite rules, and you can even get reasonable code. and that's @pl as far as I understand it.
16:29:01 <xerox_> Ah, that's exactly how it does work. I see. I didn't ever investigated, but I always wanted to.
16:29:23 <AStorm> int-e: except it's still useless without a large library :P
16:29:40 <xerox_> You mean having many known combinators?
16:29:46 <AStorm> No.
16:29:56 <AStorm> A large library of composed functions/operators.
16:30:10 <AStorm> Think hundreds of lines of combinators :P
16:30:17 <int-e> AStorm: I don't find @pl particularily useful. It's often entertaining though :)
16:30:37 <AStorm> That's why it's "pointless" :P
16:31:00 <int-e> @pl \a b c d e f g -> g a c d f e b
16:31:04 <lambdabot> flip . ((flip . ((flip . ((flip . (flip .)) .) . flip . (flip .) . flip) .) . flip) .) . flip . flip id
16:31:24 <AStorm> And it's certainly readable ;-
16:31:27 <AStorm> ;-€)
16:31:35 <AStorm> (damned Euro :> )
16:31:56 <AStorm> ;-)
16:32:24 <xerox_> @pl \i n t e p l a y s -> l a y s i n e p t
16:33:25 <xerox_> zZzZ
16:33:38 <int-e> mind the space
16:33:38 <AStorm> It's limited unfortunately.
16:34:22 <xerox_> @pl \i n t e p l a y s -> l a y s i n e p t
16:34:25 <lambdabot> ((flip . ((flip . (flip .)) .)) .) . ((((flip .) .) .) .) . (((((flip .) .) .) .) .) . ((((((flip .) .) .) .) .) .) . ((flip .) .) . (((flip .) .) .) . ((((flip .) .) .) .) . (((((flip .) .) .) .) .)
16:34:26 <lambdabot>  . (flip .) . ((flip .) .) . (((flip .) .) .) . ((((flip .) .) .) .) . flip . (flip .) . ((flip .) .) . (((flip .) .) .) . flip (flip . ((flip . (flip .)) .))
16:34:27 <xerox_> This client isn't showing me the space.
16:34:28 <lambdabot> optimization suspended, use @pl-resume to continue.
16:34:40 <AStorm> Yuck.
16:34:45 <xerox_> It isn't my computer :-(
16:34:47 <mauke> @pl \m o n a d -> \m a s t e r -> a m a d m o n s t e r
16:34:49 <lambdabot> const (((const . ((const . const) .)) .) . flip flip id . ((flip . (ap .)) .) . flip . (flip .) . flip (flip . join . flip (join (join id))))
16:35:52 <AStorm> @ pl \a b -> b a a b b a
16:36:01 <AStorm> Ghr...
16:36:05 <AStorm> @pl \a b -> b a a b b a
16:36:06 <lambdabot> flip =<< join . join . (flip =<< flip id)
16:36:52 <xerox_> @pl \m a u k e -> (m e) h a i k u
16:36:53 <lambdabot> ((flip . (flip .) . flip) .) . flip flip i . (flip .) . flip . flip flip h
16:36:56 <xerox_> ;-)
16:37:10 <xerox_> Ops :-)
16:37:22 <xerox_> @pl \m a u k e -> \i -> (m e) h a i k u
16:37:23 <lambdabot> ((flip . ((flip . (flip .)) .) . flip . (flip .)) .) . flip . flip flip h
16:37:43 <xerox_> Oh, still works hehe
16:37:50 <xerox_> @pl \m a u k e -> \h i -> (m e) h a i k u
16:37:52 <lambdabot> ((flip . ((flip . ((flip . (flip .)) .)) .) . flip . ((flip . (flip .)) .)) .) . flip . (flip .)
16:37:54 <xerox_> ok? :P
16:37:56 <int-e> @pl \a b c d e f -> a (b (c (d (e f))))
16:37:56 <lambdabot> (. ((. ((. (.)) . (.) . (.))) . (.) . (.) . (.))) . (.) . (.) . (.) . (.)
16:37:59 <AStorm> @pl \a b c -> \c a b -> \b c a -> \a c b
16:38:00 <lambdabot> (line 1, column 37):
16:38:00 <lambdabot> unexpected end of input
16:38:00 <lambdabot> expecting pattern or "->"
16:38:13 <AStorm> @pl \a b c -> c a b -> b c a -> a c b
16:38:14 <lambdabot> (line 1, column 17):
16:38:14 <lambdabot> unexpected ">" or "-"
16:38:14 <lambdabot> expecting variable, "(", operator or end of input
16:38:22 <AStorm> Blah.
16:38:54 <xerox_> @pl \y e s -> \m e t e r -> s y m m e t r y
16:39:01 <lambdabot> const . (((const . (const .)) .) .) . (flip =<< ((flip . ((flip . (flip .)) .)) .) . flip flip id . ((flip . ((flip . (ap .) . flip) .)) .) . flip flip id . (ap .) . flip id)
16:39:06 <xerox_> haha this is fun.
16:39:23 <AStorm> @pl \a b c -> \c a b -> \b c a -> \a c b -> \b a c -> a b c
16:39:24 <lambdabot> const (const (const (const (const (const (const (const (const (const (const (const (const (const (join (join id)))))))))))))))
16:39:36 <AStorm> It's stupid :P
16:40:09 <int-e> > join (.) (join (.)) succ 1
16:40:10 <lambdabot>  5
16:40:23 <int-e> > join (.) (join (.)) (join (.)) succ 1
16:40:24 <lambdabot>  17
16:40:39 <xerox_> Either give a list of arguments \xs -> ..., and find a suitable expression that uses all of it as a word, or give a word expression \... -> w o r d, and find a suitable list of arguments that covers all the letters, with words.
16:40:54 <xerox_> Nice int-e.
16:41:16 <AStorm> int-e: build a portable BTree while you're at it.
16:42:09 <int-e> @pl \p o r t a b l e -> b - t r e e
16:42:09 <lambdabot> const (const (((const . (const .) . flip ((.) . (-))) .) . flip flip id . (ap .) . flip id))
16:42:29 <ihope_> @pl \b a c -> a b c
16:42:29 <lambdabot> flip id
16:42:44 <ihope_> @pl \a c b b a c -> a b c
16:42:44 <lambdabot> const (const (const (const (const (join (join id))))))
16:43:00 <ihope_> join id, eh?
16:43:12 <AStorm> ?hoogle join
16:43:13 <lambdabot> Monad.join :: Monad a => a (a b) -> a b
16:43:13 <lambdabot> Control.Monad.join :: Monad m => m (m a) -> m a
16:43:13 <lambdabot> Data.PackedString.joinPS :: PackedString -> [PackedString] -> PackedString
16:43:17 <ihope_> @type join (.)
16:43:19 <lambdabot> forall c. (c -> c) -> c -> c
16:43:29 <ihope_> Self-composition!
16:43:35 <int-e> @pl (\x -> x x) (\x -> x x)
16:43:46 <AStorm> ihope_: AKA duplication?
16:43:47 <lambdabot> ap id id (ap id id)
16:43:47 <lambdabot> optimization suspended, use @pl-resume to continue.
16:44:04 <ihope_> > join (.) (join (.)) (join (.)) (join (.)) succ 0
16:44:05 <lambdabot>  65536
16:44:14 <ihope_> AStorm: maybe, dunno.
16:44:24 <ihope_> > join (.) (join (.)) (join (.)) (join (.)) (join (.)) succ 0
16:44:26 <lambdabot>  Exception: stack overflow
16:44:32 <ihope_> Oof.
16:44:54 <AStorm> Poor (whoever's running lambdabot)'s machine
16:44:57 <int-e> 2^65536 is quite big ;)
16:45:15 <AStorm> @pl \p o o r -> r o p e
16:45:16 <lambdabot> const . const . flip flip e . flip (join id)
16:45:37 <ihope_> @pl \a a -> a
16:45:37 <lambdabot> const id
16:45:41 <ihope_> Oh.
16:46:03 <ihope_> @pl \a a b -> a b
16:46:04 <lambdabot> const (const (join id))
16:46:08 <ihope_> Weird.
16:46:22 <ihope_> Very weird.
16:46:24 <AStorm> @pl \x y z z y -> x*y + x*z - z*y
16:46:25 <lambdabot> const . const . const . (`ap` join (*)) . ((-) .) . ap (ap . ((+) .) . (*)) (*)
16:47:54 <ihope_> @pl \a b c d e f g h i j k l m n o p q r s t u v w x y z -> t h e (q u i c k) (b r o w n) (f o x) (j u m p s) (o v e r) (t h e) (l a z y) (d o g)
16:48:14 <lambdabot> flip (flip . (flip .) . (((.) .) .) . ((flip .) .) . (((flip .) .) .) . (((((.) .) .) .) .) . ((((flip .) .) .) .) . (((((flip .) .) .) .) .) . ((((((flip .) .) .) .) .) .) . (((((((flip .) .) .) .)
16:48:16 <lambdabot> .) .) .) . ((((((((flip .) .) .) .) .) .) .) .) . (((((((((flip .) .) .) .) .) .) .) .) .) . ((((((((((flip .) .) .) .) .) .) .) .) .) .) . (((((((((((ap .) .) .) .) .) .) .) .) .) .) .) . ((((((((((
16:48:18 <lambdabot> ((flip .) .) .) .) .) .) .) .) .) .) .) .) . (((((((((((((flip .) .) .) .) .) .) .) .) .) .) .) .) .) . ((((((((((((((flip .) .) .) .) .) .) .) .) .) .) .) .) .) .) . (((((((((((((((flip .) .) .) .)
16:48:19 <ihope_> Uh oh.
16:48:21 <lambdabot> .) .) .) .) .) .) .) .) .) .) .) . ((((((((((((((((flip .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) . (((((((((((((((((flip .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) . ((((((((((((((((((
16:48:24 <lambdabot> flip .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) . (((((((((((((((((((flip .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) .) . ((((((((((((((((((((flip .) .) .) .) .) .) .) .) .) .)
16:48:26 <ihope_> Stop!
16:48:27 <lambdabot> [23 @more lines]
16:48:29 <lambdabot> optimization suspended, use @pl-resume to continue.
16:48:31 <AStorm> Whoops, flood.
16:48:32 <ihope_> Thank you.
16:48:36 <xerox_> > join (.) . join (.) . join (.) $ succ 0
16:48:37 <lambdabot>  add an instance declaration for (Num (c -> c))
16:49:10 <ihope_> > join (.) . join (.) . join (.) succ $ 0
16:49:11 <lambdabot>  add an instance declaration for (Num (c -> c))
16:49:12 <AStorm> Blah, ghc-bin 6.4.2 surely is slow
16:49:17 <ihope_> Mmh.
16:49:25 <ihope_> > (join (.) . join (.) . join (.)) succ 0
16:49:26 <lambdabot>  8
16:49:31 <xerox_> Ah!
16:49:34 <int-e> > join (.) . join (.) . join (.) . succ $ 0
16:49:34 <lambdabot>  add an instance declaration for (Num (c -> c))
16:49:49 <xerox_> > (join (.) . join (.) . join (.) .) succ 0
16:49:50 <lambdabot>    The operator `.' [infixr 9] of a section
16:49:50 <lambdabot>     must have lower precede...
16:49:53 <int-e> oops.
16:49:53 <xerox_> eh
16:50:38 <xerox_> > let f n = foldr (.) id (replicate n (join (.))) succ 0 in map f [1..]
16:50:39 <lambdabot>  Illegal character ''\DLE''
16:50:55 <xerox_> > let f n = foldr (.) id (replicate n (join (.))) succ 0 in map f [1..]
16:50:57 <lambdabot>  Exception: stack overflow
16:51:04 <xerox_> > let f n = foldr (.) id (replicate n (join (.))) succ 0 in map f [1,2,3,4]
16:51:06 <lambdabot>  [2,4,8,16]
16:52:45 <AStorm> Evil.
16:52:58 <AStorm> Is it any faster?
16:53:39 <ihope_> \DLE, eh?
16:53:45 <xerox_> hehe
16:53:53 <ihope_> > let f n = foldr (.) id (replicate n (join (.))) succ 0 in map f [5]
16:53:54 <lambdabot>  [32]
16:53:59 <ihope_> > let f n = foldr (.) id (replicate n (join (.))) succ 0 in map f [200]
16:54:01 <lambdabot>  Exception: stack overflow
16:54:04 <xerox_> map f [x] = f x
16:54:11 <ihope_> Well, of course.
16:54:21 <Lajexander> f (x,y) list | lookup (x,y) l /= Nothing = fromJust $ lookup (x,y) list; | lookup (y,x) l /= Nothing = fromJust $ lookup (y,x) list; <-- is there any way to make this clean with the use of curry(or uncurry) and flip?
16:54:21 <ihope_> I think that's no better than 2^200, don't you?
16:54:26 <ihope_> > 2^200
16:54:27 <lambdabot>  1606938044258990275541962092341162602522202993782792835301376
16:54:44 <AStorm> Actually, it's much worse and slower :>
16:54:53 <Lajexander> that looks like a mess... *pase.lisp.org coming*
16:54:54 <AStorm> Doing everything in the parser.
16:55:49 <ihope_> @google 1 quart in cups
16:55:50 <lambdabot> 1 US quart = 4 US cups
16:56:02 <AStorm> Hmm?
16:56:15 <ihope_> So a 1-quart whatchamie won't hold 6 cups of water.
16:56:26 <ihope_> I'll need 2 quarts for that.
16:56:43 <ihope_> Any fancy name for 2 quarts?
16:56:47 <Lajexander> http://paste.lisp.org/display/28408 <-- quick peek anyone? what could be done with curry and flip?
16:56:49 <AStorm> biquart? ;-)
16:56:58 <ihope_> That'd work.
16:57:03 <AStorm> imperial units are evil
16:57:04 <ihope_> A biquart pan...
16:57:20 <ihope_> Well, I don't have much of a choice, seeing as how this is all given in quarts and cups.
16:57:39 <ihope_> I could convert from quarts to liters and cups to liters...
16:57:46 <ihope_> Or deciliters, or something.
16:59:59 <AStorm> mililiters
17:00:18 <AStorm> @google 1 cup in mililiters
17:00:21 <lambdabot> http://www.recipeland.com/recipe_info.epl?id=14669
17:00:21 <lambdabot> Title: METRIC CONVERSION CHART -
17:00:27 <AStorm> Evil
17:01:07 <AStorm> The conversion is simple, really :>
17:02:19 <ihope_> Oh yeah, mililiters.
17:02:37 <ihope_> Better than centiliters.
17:02:45 <ihope_> It's all the same, really.
17:05:29 <nomeata> Hi. Does gtk2hs work with ghc6.6?
17:05:52 <dcoutts> nomeata, latest darcs version does yes
17:05:54 <nomeata> @seen liyang
17:05:54 <lambdabot> liyang is in #haskell. I don't know when liyang last spoke.
17:06:28 <nomeata> dcoutts: it's holing back ghc6.6 in debian (http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=393600). Any chance of a near release?
17:06:34 <lambdabot> Title: #393600 - gtk2hs: FTBFS with ghc6 6.6 - Debian Bug report logs, http://tinyurl.com/y56tad
17:07:03 <dcoutts> nomeata, btw, do you have a fix for wxHaskell with ghc-6.6, that's holding back ghc6.6 in gentoo.
17:07:21 <nomeata> no, I don’t even have a problem :-)
17:07:30 <nomeata> never used wxHaskell anyways.
17:07:59 <dcoutts> so you have a patch then? or you don't package it at all ?
17:08:29 <sieni> tinyurl is stupid, if you give it an already tinied url, it just returns another tinyurl, which complains about not being able to redirect a tinyurl
17:08:43 <nomeata> I don’t package any of it, I’m but a user. Liyang is the gtk2hs packager, but AFAIK does not package wxHaskell.
17:09:28 <dcoutts> well I'll aks liyang how much not having a relseased gtk2hs for ghc-6.6 is holding things up
17:10:12 <dcoutts> Igloo, arjanoosting, how desperate are you for patches to make gtk2hs and wxhaskell work with ghc-6.6 ?
17:10:29 <nomeata> It's uninstallable for people who have gtk2hs installed
17:10:42 <dcoutts> you can keep the old version
17:11:00 <dcoutts> ghc is parallel installable
17:11:02 <nomeata> versioned depenencies prevent htat
17:11:08 <dcoutts> oh well
17:11:26 <nomeata> hmm. not the debian package. maybe that has to change, but it's nice to have only one version, ususally.
17:11:39 <dcoutts> arn't versioned dependencies supposed to allow that?
17:11:44 <dcoutts> what's the point otherwise ?
17:11:57 <nomeata> the point is to prevent incompatible packages to be installed
17:12:09 <nomeata> i.e. gtk2hs requires the ghc version it was built with
17:12:17 <dcoutts> as do all ghc packages
17:12:39 <dcoutts> but you can have ghc-6.4, 6.4.1, 6.4.2, 6.6  and libs built for every or any version installed at once
17:12:51 <Igloo> dcoutts: I'm not sure what sort of answer you want
17:12:54 <nomeata> yes, but is it worth the effort?
17:12:59 <xerox_> int-e: how was it? \x -> A B = S (\x -> A) (\x -> B) ?
17:13:06 <Igloo> dcoutts: I don't think we have wxhaskell packaged ATM
17:13:14 <int-e> xerox_: yes
17:13:16 <dcoutts> Igloo, ah right
17:13:16 <nomeata> it was done for python, but I think they changed hat
17:13:31 <coffeemug> hey guys
17:13:37 <dcoutts> Igloo, yeah, I was going to ask if you cared enough to patch wxHaskell
17:13:39 <dons> morning coffeemug :)
17:13:40 <lambdabot> dons: You have 1 new message. '/msg lambdabot @messages' to read it.
17:13:45 <coffeemug> dons: good evening :)
17:13:52 <dcoutts> g'morning dons
17:13:55 <xerox_> int-e: does it work with multiple parameters?
17:14:08 <Igloo> dcoutts: We're more likely to patch gtk2hs, only you'll presumably be doing that anyway
17:14:09 <dons> hey dcoutts . i'll think up some response to your destory/unfold comments
17:14:14 <coffeemug> I ran into some issues that I can't resolve
17:14:21 <dcoutts> dons, cool
17:14:23 <coffeemug> one should be rather simply
17:14:25 <coffeemug> simple
17:14:30 <dons> coffeemug: yes?
17:14:32 <coffeemug> I installed the new xhtml library
17:14:38 <coffeemug> via Cabal
17:14:43 <coffeemug> I use it in my app
17:14:48 <coffeemug> and when I load via ghci, everything's fine
17:14:55 <coffeemug> but when I try to build using ghc --make
17:14:58 <xerox_> int-e: I think I don't completely understand that rule.
17:14:59 <coffeemug> I get a linker error
17:15:03 <dcoutts> Igloo, we were thinking of making a new gtk2hs release in the course of the next month or so. If people are suficiently desperate I might back-port the fixes to the last release.
17:15:13 <dons> coffeemug: hmm. could it be a missing -package xhtml flag?
17:15:21 <coffeemug> c:\tools\ghc-6.4.2\gcc-lib\ld.exe: cannot find -lHSxhtml-2006.9.13
17:15:23 <dons> ?paste the linker error
17:15:24 <lambdabot> http://paste.lisp.org/new/haskell
17:15:27 <dons> ah
17:15:34 <dons> paths maybe?
17:16:00 <Igloo> dcoutts: Well, we'll either need to remove gtk2hs for etch or to fix it one way or another
17:16:04 <int-e> xerox_: just look at the definition of S
17:16:22 <coffeemug> aha
17:16:23 <dcoutts> Igloo, etch, that's the upcomming major release right?
17:16:24 <xerox_> S = \f g x -> f x (g x)
17:16:28 <coffeemug> it is the package flag
17:16:33 <Igloo> Yup
17:16:40 <xerox_> \x -> A B = K (A B) ?
17:16:43 <coffeemug> for some reason I assumed it would find it automatically
17:16:53 <dcoutts> Igloo, so if I wanted gtk2hs in that release then you'd want a fix by when? given that you'd need time to package & test it?
17:16:56 <nomeata> dcoutts: is there a lot to be fixed? the bug report only speaks about Data.FiniteMap
17:17:04 <dcoutts> nomeata, it's more complex
17:17:10 <nomeata> ok
17:17:29 <Igloo> dcoutts: I can't say more than ASAP, I'm afraid
17:17:34 <dcoutts> ok
17:17:42 <int-e> xerox_: \x -> A B = \x -> (\x -> A) x ((\x -> B) x) = S (\x -> A) (\x -> B)
17:17:46 <Igloo> dcoutts: It should have frozen a few days ago, I think
17:18:05 <dcoutts> Igloo, so we're too late anyway? are you planning to get 6.6 into etch ?
17:18:06 <nomeata> Igloo: the whole archive? you sure?
17:18:22 <Igloo> dcoutts: Note the word "should"  :-)
17:18:23 <coffeemug> anyway
17:18:25 <coffeemug> I'll figure it out
17:18:27 <dcoutts> heh
17:18:27 <Igloo> nomeata: No
17:18:30 <coffeemug> second problem is a bit more involved
17:18:39 <nomeata> gtk2hs is not holding up ghc, because it's not it etch
17:18:40 <coffeemug> basically when I use hs-plugins
17:18:46 <xerox_> int-e: impressive
17:18:46 <coffeemug> with ghci
17:18:48 <coffeemug> it crashes
17:18:55 <coffeemug> with a message about duplicate symbols
17:18:55 <xerox_> int-e: I think it's the doubling of the argument that I wasn't considering
17:19:02 <Igloo> nomeata: I am now:
17:19:04 <Igloo> N-45   = Wed 18 Oct 06:
17:19:06 <dons> coffeemug: yeah, hs-plugins in ghci isn't supported on windows
17:19:07 <Igloo>     general freeze
17:19:20 <dons> coffeemug: due to the intrickicies of dynamically loading a dynamic linker
17:19:20 <coffeemug> ahh
17:19:26 <nomeata> ok, time is passing too fast
17:19:29 <xerox_> int-e: but \x -> A B really means something else than what |\x -> a b| means in Haskell, right?
17:19:36 <coffeemug> so it only works with compiled code?
17:19:43 <int-e> xerox_: no
17:19:59 <int-e> xerox_: well, slightly, because it's untyped
17:20:14 <xerox_> Oh-uhm.
17:20:24 <nomeata> Igloo: so are you trying to get 6.6 in etch?
17:20:24 <dons> coffeemug: yes, or in ghci on linux (there's a workaround to not fail on dup syms on elf/unix binaries)
17:20:34 <Igloo> nomeata: Yes
17:20:40 <xerox_> Looks like x is used in \x -> A B, whereas it is not in Haskell's \x -> a b
17:20:48 <coffeemug> dons: is it something that can be fixed?
17:20:59 <nomeata> And is there any other problem than the alpha FTBFS?
17:21:32 <int-e> xerox_: ok. yes, it was a meta-syntax, A and B are lambda-terms.
17:21:32 <dons> coffeemug: possibly. if you really need to use the dynamic linker inside ghci
17:21:58 * nomeata wouldn't mind seeing gtk2hs in etch as well. But as ghc usually builds static binaries, it's not too important. I build stuff for sarge already on sid, because sarge lack's some libraries.
17:22:02 <coffeemug> I don't *really* need to
17:22:14 <Igloo> nomeata: That alpha FTBFS isn't a problem, but there are many other problems
17:22:24 <coffeemug> it just makes developing the dynamic linking bit a little more annoying
17:22:39 <int-e> xerox_: and I'm working in a lambda calculus with S, K and I combinators added.
17:23:35 <nomeata> Igloo: what kind of problems? something where I can help?
17:23:37 <Igloo> nomeata: http://wiki.debian.org/GhcTransition is arjanoosting's summary of the status
17:23:38 <lambdabot> Title: GhcTransition - Debian Wiki
17:23:48 <xerox_> int-e: might you make the meta-syntax clear?
17:23:55 <Igloo> But I don't think we have a list of things that aren't being worked on
17:24:28 <int-e> xerox_: did you look at that combinatory logic page on wikipedia? it also has a tranlation from lambda calculus into the SK calculus
17:25:15 <int-e> xerox_: I don't really want to type this up in detail.
17:29:59 <Cale> eek! The wikipedia entry on fold is horrifically wrong
17:31:14 <coffeemug> dons: so the linker tells me it can't find some library, I add -package one by one, and then it tells me it can't find plugins again
17:31:47 <nomeata> Cale: be bold! and fix it :-)
17:32:20 <coffeemug> do I need to set up a special path somewhere?
17:33:25 <coffeemug> ah crap
17:33:29 <coffeemug> it might be a permissions issue
17:33:38 <coffeemug> running non-root on win32 really sucks
17:33:57 <int-e> Cale: oh no, Tcl examples!
17:35:08 <dons> coffeemug: ah maybe.
17:36:17 <Cale> The worst thing was the fact that they had foldl and foldr backwards with respect to working on infinite lists.
17:36:40 <Cale> I just corrected that. I think I'm just going to rewrite the whole thing though. There is a much better way to look at foldr.
17:37:40 <Patterner> and tomorrow the orginal author removes your corrections and insults you for having no idea what you talk about...
17:38:16 <coffeemug> brb
17:38:44 <int-e> and in three weeks the article gets removed during the course of a personal point of view discussion, yay!
17:39:10 <dons> Cale: and copy the article to haskell.org too, if you like
17:39:21 <dons> where it might last :)
17:39:49 <thou> Cale, might want to check http://en.wikibooks.org/wiki/Haskell/List_processing
17:39:51 <lambdabot> http://tinyurl.com/tbhng
17:39:57 <Lajexander> will haskell become reflective in the future?
17:41:11 <thou> Lajexander: there's Data.Typeable which lets you get typeOf someValue
17:41:19 <dons> Lajexander: it has compile time reflection already, and there is runtime reflection via data.Dynamic and Data.Typeable, as well as runtime evaluation. However, its not terribly critical
17:41:51 <Lajexander> still cool
17:42:30 <unclear> Lajexander: frr fan g och lgg dig ;)
17:43:17 <dcoutts> nomeata, Igloo, I think backporting the fix is going to be too annoying. We'll just do a new release
17:43:36 <dcoutts> we're long overdue for a new release anyway
17:43:45 <Lajexander> unclear: sug mig
17:43:47 <Igloo> dcoutts: OK, cool
17:44:48 <Lajexander> unclear: PM
17:45:24 <unclear> Lajexander: I guess freenode has something about prov msg.
17:45:28 <unclear> priv.
17:46:07 <Cale> oh, also it says that the reason why foldr/l doesn't matter for addition is that addition is commutative, which is again outright wrong.
17:46:08 <xerox_> int-e: thanks for the ideas, I'll try to read more on combinatory logic and model theory.
17:46:19 <Cale> ugh
17:46:22 <nomeata> dcoutts: great! any cool new features? :-)
17:46:28 <dcoutts> lots
17:46:34 <int-e> Cale: read the comments page :)
17:46:38 <Lajexander> unclear: #data06 then
17:46:39 <Cale> yeah, I know
17:46:53 <unclear> Lajexander: on freenode?
17:47:16 <Lajexander> yah
17:47:25 <unclear> hopp
17:47:53 <xerox_> @localtime xerox_
17:47:54 <lambdabot> Local time for xerox_ is 2006-10-21 02:49:24 +0200
17:48:01 <xerox_> Goodnight :-)
17:48:27 <nomeata> dcoutts: oh right, the haskell list interface to Liststore etc, right?
17:48:36 <dcoutts> that too
17:48:48 <dcoutts> and OpenGL and SVG
17:49:01 <nomeata> cool, I’m looking forward to play around with that
17:49:10 <nomeata> might be interesting to get into proplang as well
17:49:11 <dcoutts> you can get it from darcs now
17:49:39 <dcoutts> darcs get --partial http://darcs.haskell.org/gtk2hs
17:49:42 <lambdabot> Title: Index of /gtk2hs
17:50:07 <nomeata> not that interested :->
17:52:29 <emu> wikipedia can't be wrong!
17:52:41 <chessguy> ?seen dons
17:52:41 <lambdabot> dons is in #ghc, #haskell-overflow and #haskell. I last heard dons speak 11m 23s ago.
17:52:56 <nomeata> @seen ndm
17:52:57 <lambdabot> I saw ndm leaving #ghc, #haskell-overflow, #haskell-blah and #haskell 14h 57m 53s ago, and .
17:53:11 <chessguy> and?
17:54:33 <blsecres> has anyone here installed the ppc binaries for ghc-6.6?  I'm getting "ld: Undefined symbols: _sprintf$LDBLStub..." messages trying to compile anything.
17:54:43 <blsecres> Mac OS X, sorry
17:59:43 <dons> chessguy: ?
18:00:44 <chessguy> heya dons
18:00:48 <chessguy> can i msg you?
18:01:10 <dons> sure
18:02:03 <Cale> haha, also, the scheme implementation of foldl is wrong
18:02:05 <SamB_XP> chessguy: it might help if you identified with nickserv first
18:02:26 <Cale> seriously, who wrote this?
18:02:35 <chessguy> i am, i think
18:02:46 <chessguy> are you getting my messages, dons?
18:02:50 <SamB_XP> chessguy: your hostmask says otherwise, I think
18:03:02 <SamB_XP> yeah, it does
18:03:08 <SamB_XP> it starts with an n=
18:03:09 <Cale> I mean, I don't know anything about, oh, the human endocrine system, but I also wouldn't write the wikipedia article on it.
18:03:22 <dons> chessguy: did you see my reply?
18:03:37 <chessguy> [20:49] -NickServ- Password accepted - you are now recognized
18:03:37 <chessguy> [20:49] *** services. sets mode +e
18:03:40 <dons> Cale: ah, see that's where you're making the wikipedia fallacy
18:03:44 <chessguy> no, i didn't
18:03:51 <SamB_XP> chessguy: how odd!
18:03:54 <dons> you _dont_ need to know anything about anything to write for wikipedia :)
18:04:09 <chessguy> very
18:04:12 <SamB_XP> dons: its immoral!
18:04:19 <SamB_XP> I protest very strongly!
18:04:20 <chessguy> fixed now?
18:08:14 <chessguy> my hostmask still starts with n=, but i am indeed identified
18:08:24 <chessguy> how many drinks have you had tonight, SamB? :)
18:08:34 <SamB_XP> none!
18:08:38 <SamB_XP> unless you count milk!
18:08:41 <Cale> By the way, I wrote all of the fold section for the Haskell wikibook back a while ago :)
18:09:13 <dons> why do we have a separate wikibook to the main haskell.org wiki?
18:09:16 <Cale> does anyone know if C++'s accumulate function is a left or right fold?
18:09:17 <Igloo> Counting milk is hard. It's all runny.
18:09:20 <dons> seems like a guaranteed way to dilute readers
18:09:26 <Cale> dons: because some people started it
18:09:38 <dons> hmm
18:09:38 <Cale> dons: we should move it all over
18:09:42 <dons> yes;
18:10:11 <Igloo> I assumed a wikibook was more like a tutorial which flowed, whereas the wiki would go into more detail on each topic?
18:10:35 * Igloo has never read a wikibook, though, so is talking from a position of utter ignorance
18:10:36 <dons> the wikibook would be a subsection of haskell.org
18:10:57 <dons> more to the point would be that it would be integrated into haskell.org, and thus have econmoies of scale or whatever the jargon is .. synergies?
18:10:57 <Igloo> Ah, OK, that makes sense
18:11:08 <Igloo> I thought you meant merging the material
18:11:13 <Lajexander> Can anyone see what i'm trying to do here and tell me what I do wrong? I'm guessing uncurry but this is my first go at this, so be gentle; second = fst.uncurry.flip.curry
18:11:29 <araujo> dons, heya
18:11:34 <araujo> dons, it looks like http://www.haskell.org/haskellwiki/HWN/es/2006-10-19 got the character encoding wrong
18:11:35 <dons> no, just tie it into haskell.org, so its easier to find, more likely to get contribs and so on
18:11:36 <lambdabot> Title: HWN/es/2006-10-19 - HaskellWiki, http://tinyurl.com/y6mxy2
18:11:40 <dons> araujo: yeah, i see. how'd that happen?
18:11:48 <dons> I just uploaded your src file, like last time.
18:11:53 <araujo> dons, mm .. no idea
18:11:54 <dons> araujo: is it possible your editor wrote some weird bytes :)
18:11:59 <dons> i.e. not latin-1 ?
18:12:04 <dons> latin-4 or whatever
18:12:08 <Igloo> OTOH, there's something to be said for having it on wikimedia(?), if that's where it is; do they let you have pointers to wikibooks elsewhere?
18:12:14 <araujo> dons, i am using emacs here like the last time too ....
18:12:37 <dons> araujo: maybe you can just edit the wikipage and do some regex substitutions to the correct chars?
18:13:06 <araujo> dons, you didn't save the file with other editor or something?
18:13:33 <dons> i opened it in vim, as i did last time
18:14:10 <LordBrain> can vim open the wiki directly?
18:14:23 <dons> yep
18:14:24 <araujo> dons, you saved it?
18:14:33 <LordBrain> do you use lynx or something for that?
18:14:54 <dons> see here .... http://cgi.cse.unsw.edu.au/~dons/blog/2006/09/20#efficient_wiki_editing
18:14:57 <lambdabot> Title: Haskell, hacking and other stuff, http://tinyurl.com/nhp9d
18:15:03 <dons> araujo: no.
18:15:52 <dons> ?remember rickyclarkson I've been experimenting with functional programming from within Java (is this like asking your wife to dress up as someone else?)
18:17:29 <dons> LordBrain: the nicest thing is the syntax highlighting (with embedded haskell highihgting)
18:17:34 <araujo> dons, how did you save the file on the wiki?
18:17:36 <dons> don't know how I ever managed to edit wikis before that
18:17:48 <dons> araujo: hmm the usual way. just edit the page, upload the file, done.
18:17:56 <dons> let me try to fix the encoding then..
18:18:30 <dons> did people see that more commerical users of fp slides are up, http://www.galois.com/cufp
18:18:32 <lambdabot> Title: Commercial Users of Functional Programming Workshop 2006
18:18:37 <dons> including credit suisse and bluespec
18:18:41 <araujo> cool
18:19:11 <dons> I note that CS is asking for more haskell programmers....
18:19:21 <araujo> CS?
18:19:28 <dons> of the gabi and lennart flavour, i suppose
18:19:37 <dons> credit suisse
18:19:45 <LordBrain> dons, i think we could probably launch vim from firefox too... i'm investigating
18:19:59 <dons> LordBrain: yeah, check the wikimedia page on that , inked from my blog entry
18:20:00 <LordBrain> that might be convenient for me, because i use firefox usually
18:20:06 <LordBrain> oh
18:20:08 <dons> gvim might be one option
18:20:40 <blsecres> there used to be a firefox extension called mozex that could launch (g)vim to edit things
18:20:48 <scodil> whats the status of the record system described here -> http://research.microsoft.com/~simonpj/Haskell/records.html    is it implemented anywhere?
18:20:50 <lambdabot> http://tinyurl.com/y6rzsg
18:20:59 <dons> Igloo: what's the libffi ?
18:21:02 <LordBrain> yeah.. i dont have gvim installed here tho
18:21:51 <Igloo> dons: You tell it what the function you are calling looks like, and it puts arguments in teh right places etc for you for the appropriate platform
18:22:30 <dons> mmm. interesting
18:22:37 <Igloo> i.e. it could replace some of the assembly in the GHC source
18:23:20 * Igloo needs to dig out Simon's mail on what needs to be done to get rid of Linker.c. We're getting close to everything working everywhere!
18:23:57 <LordBrain> dons, you know w3m isnt really that good as a browser unless you combine it with an external program for caching pages loaded..
18:24:12 <dons> LordBrain: it works fine for everything i use it for...
18:25:16 <LordBrain> the authors never intended for it to be used as a standalone browser.. they thought they were writing a pager which can handle html..
18:25:21 <chessguy> hey what address do i need to give darcs to get the ghc compiler and libraries
18:25:44 <LordBrain> i like the way it renders things tho
18:25:56 <LordBrain> and its controls.. i'm used to
18:25:59 <dons> LordBrain: I udnerstand that. It works nicely as a standalone browswer, and many many people use it for that.
18:26:40 <LordBrain> ok i'll stop bugging you :)
18:27:09 <LordBrain> i used to use it myself
18:27:49 <dons> araujo: this file is weird. the wrongly encoded chars aren't even visible in vim
18:29:13 <dons> araujo: hmm. the patch you sent me looks fine. maybe something bad happened when i uploaded. hmm...
18:29:43 <blsecres> how do I tell ghc to link to a certain library?  -optl doesn't seem to do what I want.
18:30:06 <dons> araujo: hmm. I think darcs might have done something to the encoding? is that possible?
18:30:13 <dons> blsecres: -lfoo
18:30:19 <dons> if its a C lib.
18:30:29 <araujo> dons, not sure .. but i thinksomething happened while uploading
18:31:26 <Igloo> blsecres: -optl-lfoo should work too
18:31:33 <dons> araujo: the src file you sent me as: Anu'cios, but the file in the darcs repo has Anúncios
18:31:38 <dons> hmm.
18:32:01 <araujo> :-/
18:32:39 <Lajexander> > f = uncurry.flip.curry $ snd
18:32:40 <lambdabot>  Parse error
18:32:46 <blsecres> Ok, it the library is being added to the ld command line but for some reason the symbols aren't being resolved
18:32:50 <Lajexander> @pl uncurry.flip.curry $ snd
18:32:50 <lambdabot> uncurry (flip (const id))
18:32:51 <SamB_XP> use a signed patch?
18:33:05 <Lajexander> @type const
18:33:06 <lambdabot> forall a b. a -> b -> a
18:33:20 <dons> araujo: anyway, fixingnow
18:33:46 <araujo> dons, darcs sending with other encoding?
18:33:55 <Lajexander> @pl uncurry.const
18:33:55 <lambdabot> (. snd)
18:34:06 <Lajexander> teh silley
18:35:39 <dons> araujo: i'm just trying to convert the two files so they're in the same format
18:36:04 <Lajexander> @pl uncurry.flip.curry$const
18:36:04 <lambdabot> uncurry (flip (curry const))
18:37:05 <araujo> dons, good
18:39:06 <chessguy> grrr, this stupid darcs-all script will not work
18:39:31 <blsecres> weird.  it appears the order of command line arguments to ld affect the outcome on Mac OS X
18:39:54 <dons> chessguy: zsh darcs-all ?
18:40:02 <SamB_XP> blsecres: how is that unusual?
18:40:17 <dons> yeah, ld cares about the order of args
18:40:28 <chessguy> i'm using bash under cygwin
18:40:55 <SamB_XP> chessguy: you chmoded it first right?
18:40:55 <blsecres> SamB_XP: because ghc-6.6 is putting them out in the wrong order
18:41:00 <lispy> dons: i noticed gcc cares about the order of source files vs. libraries too
18:41:05 <SamB_XP> blsecres: now that might be wierd
18:41:29 <Cale> http://en.wikipedia.org/wiki/Fold_%28higher-order_function%29 -- what do people think?
18:41:33 <lambdabot> http://tinyurl.com/y4jgyn
18:41:36 <lispy> gcc -lfoo bar.c != gcc bar.c -lfoo
18:41:47 <chessguy> yes, but it's getting borked when it tries to actually run the darcs command
18:41:49 <dons> araujo: it looks like the patch you sent me uses a different encoding
18:41:58 <dons> so it happeneda at your end, I think
18:42:19 <blsecres> I take that back, it's just not adding a needed library to the ld invocation
18:42:42 <blsecres> if I add it by hand it gets placed before the library it needs to follow
18:42:51 <araujo> dons, what darcs version are you using?
18:43:05 <liyang> arjanoosting: I'll have a look at Gtk2Hs for GHC 6.6 over the weekend.
18:43:26 <dcoutts> liyang, I'm not sure I can be bothered to back-port the fix.
18:43:57 <liyang> What is the fix? Just switching FiniteMap to Data.Map?
18:45:21 <dons> araujo: same as last week. but i think it was your editor?
18:45:42 <blsecres> I'm not too familiar with ghc's innards, is the ld command line hard coded or is there a file I can edit to fix this issue?
18:45:54 <araujo> dons, it works fine here
18:46:05 <lispy> blsecres: what is the library?
18:46:14 <araujo> dons, i edited it just like the last time
18:46:15 <lispy> is it possible you're missing a -package?
18:46:35 <blsecres> lispy: it's not linking against libSystemStub
18:46:38 <araujo> I wonder if darcs did something when it sent the patch
18:46:43 <chessguy> yargh. i need to just swith completely to linux and be done with it
18:47:03 <chessguy> i hate this cygwin stuff
18:47:04 <liyang> dcoutts: how imminent is 0.9.11? If it's something like next week, I'll not bother; otherwise I'll attempt to patch up 0.9.10 for GHC 6.4...
18:47:05 <lispy> araujo: darcs should be fine wrt line endings
18:47:30 <lispy> chessguy: i prefer mingw for most stuff, ymmv
18:48:14 <dons> lispy: encodings
18:48:18 <dons> not endings
18:48:32 <lispy> what is the difference? like utf-8 kinda stuff?
18:49:08 * chessguy shrugs. i don't much care, as long as it WORKS, darnit
18:49:13 <lispy> blsecres: libSystemStub sounds like an osx framework
18:49:40 <dons> grr, araujo i don't know what's going on. each time i try to fix it it doesn't work :/
18:49:47 <blsecres> lispy: it is, I'm trying to get the ghc-6.6 binary off of haskell.org working
18:50:34 <chessguy> i keep getting this:
18:50:34 <chessguy> == running darcs get --partial http://darcs.haskell.org/packages/Cabal
18:50:34 <chessguy> ./darcs-all: line 75: darcs: command not found
18:50:36 <lispy> blsecres: ah, i've always used the darwin ports version...takes forever to compile, but i haven't had any problems with it
18:50:52 <lispy> ./darcs-all ?
18:51:00 <blsecres> lispy: it dies with unresolved symbols, if I take the output of ghc -v --make and add -lSystemStub to the end everything's fine
18:51:07 <dons> chessguy: darcs isn't in your path?
18:51:27 <chessguy> it's in the local directory
18:51:50 <blsecres> lispy: haven't tried that, played with fink but everything was outdated
18:52:01 <lispy> blsecres: ah yeah, fink is ancient history :(
18:52:04 <lispy> blsecres: literall
18:53:03 <lispy> chessguy: i don't know how darcs is running ./darcs-all on a get
18:53:05 <blsecres> oh well, i'll send an email to the maintaner tomorrow morning, time for beer
18:53:08 <lispy> chessguy: i didn't think that was possible
18:53:10 <SamB_XP> chessguy: is *that* in PATH?
18:53:34 <lispy> blsecres: i agree...just waiting for my buddies to call :)
18:53:36 <chessguy> i'm following the directions at http://hackage.haskell.org/trac/ghc/wiki/Building/GettingTheSources
18:53:39 <lambdabot> Title: Building/GettingTheSources - GHC - Trac, http://tinyurl.com/y3nvjj
18:53:45 <chessguy> $ darcs get --partial http://darcs.haskell.org/ghc
18:53:45 <chessguy>   $ cd ghc
18:53:45 <chessguy>   $ chmod +x darcs-all
18:53:45 <chessguy>   $ ./darcs-all get
18:53:46 <lambdabot> Title: Index of /ghc
18:53:51 <lispy> Oh
18:53:53 <SamB_XP> chessguy: what is PATH?
18:53:58 <araujo> dons, what!?
18:54:00 <SamB_XP> and where is darcs?
18:54:01 <lispy> chessguy: what does 'which darcs' say?
18:54:04 <araujo> dons, how are you trying to fix it?
18:54:34 <chessguy> ./darcs
18:54:51 <lispy> why is darcs in pwd?
18:54:52 <dcoutts> liyang, I can point you to the darcs patches that fixed gtk2hs for ghc-6.6, it's not that pretty. I balked at backporting them.
18:54:59 <chessguy> i put it there
18:55:16 <dons> it just seems that the files in archives/es are in different encodings. can you have a look?
18:55:18 <dcoutts> liyang, we were thinking of gtk2hs-0.9.11 within about a month
18:55:23 <lispy> chessguy: in that case, open darcs-all jump to line 75 and change it to ./darcs
18:55:26 <dons> look at the difference between 10-10 and 10-19
18:55:31 <dons> araujo: ^^
18:55:41 <int-e> lispy, chessguy: that won't work - the script contains cd commands
18:56:13 <lispy> okay, then put darcs in your path :)
18:56:21 <chessguy> aha
18:56:32 <chessguy> then i've gotta remember how to edit my path
18:56:39 <lispy> not really
18:56:42 <SamB_XP> chessguy: no, move darcs!
18:56:44 <SamB_XP> easier!
18:56:47 <int-e> export PATH=`pwd`:PATH   ?
18:56:49 <lispy> just cp darcs.exe /usr/bin/darcs.exe
18:56:56 <araujo> dons, i check
18:57:12 <int-e> (`pwd` if the current directory is where you put it.)
18:58:13 <chessguy> i remember one time as a kid, in dos (during the days of win 3.11), i managed to delete the root directory
18:58:27 <SamB_XP> hah
18:58:32 <lispy> i used filemanager once to move C:/win
18:58:38 <lispy> windows was not happy
18:58:48 <araujo> mmm....
18:58:59 <SamB_XP> I once tried to install another copy of windows 95 in another partition!
18:59:05 <SamB_XP> it didn't do what I was expecting at *all*
18:59:12 <lispy> SamB_XP: hehe
18:59:22 <int-e> did http://darcs.haskell.org/packages/Cabal move?
18:59:47 <chessguy> int-e, i'm getting that error too
19:00:05 <lispy> down sized to cabal?
19:00:12 <chessguy> Invalid multiplex command.
19:00:12 <chessguy> Invalid repository:  http://darcs.haskell.org/packages/Cabal
19:00:12 <chessguy> darcs failed:  Failed to download URL http://darcs.haskell.org/packages/Cabal/_darcs/inventory
19:00:12 <chessguy> libcurl: HTTP error (404?)
19:00:14 <lambdabot> http://tinyurl.com/y2syck
19:00:15 <araujo> dons, yes, they are in different encoding ... 10-10 is iso-8859-1
19:00:24 <araujo> dons, 10-19 is utf-8
19:00:46 <int-e> oh, Cabal gets a 'forbidden' - is there a permission problem?
19:01:05 <lispy> araujo: hmm...darcs should be okay with anything utf-8 iirc and doesn't make any effort to change encodings
19:01:57 <lispy> araujo: is it possible you changed OSs (like did some work on a mac) or changed editors?
19:02:14 <araujo> lispy, nothing .... i am using just the same tools i used last time
19:02:22 <coffeemug> dons: it looks like there is some issue with hsplugins on win32 when used in conjunction with concurrency
19:02:27 <araujo> Though i don't remember if i updated darcs since then ....
19:02:39 <araujo> Isn't ghc6.6 working with utf-8 now?
19:02:49 <dons> coffeemug: hmm?
19:02:53 <dons> coffeemug: sounds very odd..
19:03:00 <coffeemug> dons: not sure why but threads block and have a deadlock
19:03:28 <coffeemug> basically if one thread is waiting for user input (readLine) while another tries to execute a load
19:03:34 <coffeemug> there's a deadlock
19:03:43 <lispy> araujo: darcs hasn't released a new version in a while and i don't recall anything about encodings...and yeah seems that ghc6.6 had some changes...i think they allow more but that shouldn't change anything should it?
19:03:47 <dons> that's not an hs-plugins issue, coffeemug :)
19:03:59 <dons> sounds like blocking IO, when running without the threaded runtime system :)
19:04:02 <dons> try -threaded
19:04:09 <araujo> lispy, don't know ... but it has been the only i have updated recently
19:04:20 <araujo> And i think i compiled darcs with it.
19:04:24 <dons> (you need blocking foreign calls to run in the io manager thread, i.e. with -threaded)
19:04:28 <araujo> only thing*
19:04:40 <coffeemug> ahh crap
19:04:48 <coffeemug> I just spent three hours narrowing it down :)
19:04:55 <dons> coffeemug: in general, once you start tossing threads in, you need -threaded
19:05:03 <dons> (which is on by default in 6.6, iirc)
19:05:24 <araujo> I don't know if ghc6.6 working with utf-8 now, it is affecting the compiled packages.
19:05:24 <coffeemug> -threaded runs forkIO in native threads, correct?
19:05:51 <lennart> howdy
19:06:04 <lispy> araujo: that shouldn't matter though.  For one, the change in ghc6.6 should just be in its ability to read source code and for second, darcs uses a special version of fps that it's used since the dark ages of fps so it shouldn't care about ghc's utf-8 abilithy
19:06:17 <Cale> http://en.wikipedia.org/wiki/Fold_%28higher-order_function%29
19:06:20 <int-e> coffeemug: not necessarily
19:06:20 <Cale> comments?
19:06:20 <lambdabot> http://tinyurl.com/y4jgyn
19:06:43 <dons> hey lennart
19:07:29 <araujo> lispy, we are facing character encoding issues wtih packages in Gentoo with this new version
19:07:30 <lispy> araujo: if you could do a minimal test case that shows darcs is changing the encoding that would be useful
19:08:09 <araujo> lispy, thinking how :-)
19:08:11 <lispy> araujo: because string literals are coming out with the new utf-8 encoding by default?
19:08:16 <araujo> aha
19:08:45 <araujo> And i really don't know how much else is changed too .....
19:09:08 <lispy> how do you determine the encoding?
19:09:13 <chessguy> so is http://darcs.haskell.org/packages/Cabal not valid?
19:09:14 <lispy> do you run the 'file' command?
19:09:31 <lispy> chessguy: int-e said it was giving permission errors
19:09:35 <araujo> Determine the encoding where?
19:09:42 <araujo> i just open it with the editor
19:09:53 <chessguy> why would that be?
19:09:57 <lispy> araujo: which editor?  i mean, i don't think any of my editors tell me the encoding
19:10:06 <SamB_XP> chessguy: server problem of some kind!
19:10:07 <Igloo> araujo: darcs shouldn't be changing the encoding. Have you checked the encoding of your original files?
19:10:15 <araujo> Igloo, yes :-(
19:10:29 <araujo> lispy, i am using emacs
19:10:30 <Igloo> araujo: And your original files have the same encoding as each other?
19:10:39 <dons> araujo: can you construct a test case?
19:11:02 <araujo> dons, against the two files?
19:11:08 <lispy> araujo: i use emacs too, so i'll look it up and find out how to make it show me
19:11:20 <araujo> Igloo, well, they got different encoding in the repo
19:11:25 <int-e> lispy, chessguy: 403 "You don't have permission to access //packages/Cabal/_darcs/inventory on this server." etc.
19:11:43 <liyang> dcoutts: I'll try backporting it then. :)
19:11:55 <dcoutts> liyang, good luck.
19:12:01 <lispy> int-e: weird, i guess that could happen when someone updates the repository
19:12:15 <Igloo> araujo: Do you have any copies where they have the same encoding?
19:12:18 <int-e> dcoutts: you're awake? can you check what's up with cabal's repro?
19:12:22 <chessguy> so i guess i'll try again later?
19:12:25 <int-e> repo
19:12:32 <dcoutts> int-e, web server doesn't like symlinks
19:12:34 <Igloo> araujo: I strongly suspect they had different encodings before they went near darcs
19:13:24 <SamB_XP> yeah, why would darcs mess with encodings/
19:13:28 <SamB_XP> s|/|?|
19:13:32 <lispy> Igloo: yeah, the only way i can imagine that happening is if ghc6.6 switching to utf-8 for source file some how influenced it...but it seems like a stretch
19:13:46 <dcoutts> int-e, it used to be cabal/ -> packages/Cabal, now it's the other way around
19:14:07 <SamB_XP> dcoutts: so why no worky?
19:14:12 <SamB_XP> oh.
19:14:17 <SamB_XP> webserver not like symlinks.
19:14:20 <dcoutts> right
19:14:26 <SamB_XP> so who decided to symlink anyway?
19:14:37 <SamB_XP> and what stupid web server doesn't like symlinks?
19:15:02 <int-e> dcoutts: ah. *hacks libraries/Cabal/_darcs/prefs/defaultrepo*
19:15:44 <dons> araujo: any change you changed your locale between this week and last week, some how?
19:15:58 <coffeemug> what does -threaded do exactly?
19:16:28 <lispy> coffeemug: i think it tells the RTS to use threads
19:16:36 <chessguy> so do i need to change the address in the darcs-all script?
19:16:49 <SamB_XP> its in the script?
19:16:55 <dons> coffeemug: a few things, but one is, Blocking I/O in the threaded RTS is now done by a single I/O manager thread, which performs the
19:16:59 <chessguy> i'm assuming so
19:16:59 <dons>     blocking select() operation to wait for all outstanding I/O requests.
19:17:04 <araujo> dons, no, nothing .. i am checking
19:17:06 <SamB_XP> chessguy: if it is, sure!
19:17:07 <coffeemug> from the docs "Calling a foreign C procedure (such as getchar) that blocks waiting for input will block all threads, unless the threadsafe attribute is used on the foreign call (and your compiler / operating system supports it). GHC's I/O system uses non-blocking I/O internally to implement thread-friendly I/O, so calling standard Haskell I/O functions blocks only the thread making the call."
19:17:19 <SamB_XP> send a patch after, too!
19:17:20 <int-e> chessguy: I guess you can cd into libraries, and  darcs get --partial http://darcs.haskell.org/cabal Cabal  manually
19:17:21 <lambdabot> Title: Index of /cabal
19:17:25 <coffeemug> doesn't look like threads should lock up
19:17:28 <SamB_XP> int-e: lazy way!
19:18:07 <dons> coffeemug: blocking IO _without_ -threaded will block all threads, since you don't get the io manager thread
19:19:04 <chessguy> ok, that path isn't in the script
19:19:17 <dons> coffeemug: http://research.microsoft.com/~simonpj/Papers/conc-ffi/index.htm
19:19:19 <lambdabot> Title: Extending the Haskell Foreign Function Interface with Concurrency, http://tinyurl.com/y3vyuu
19:19:46 <chessguy> int-e, cd into libraries where?
19:20:02 <int-e> where darcs-all is
19:20:04 <chessguy> oh, in GHC?
19:20:05 <int-e> ghc/
19:20:06 <coffeemug> thanks
19:20:23 * lispy leaves for the pub
19:21:34 <chessguy> but the non-existence of cabal aborts the rest of the script, i think
19:21:55 <SamB_XP> chessguy: so you run it after you've got cabal manually
19:22:35 <chessguy> aha, that makes it skip cabal
19:22:40 <int-e> SamB_XP: point is, the script calculates the repository path from the package path
19:23:04 <SamB_XP> oh
19:23:24 <araujo> oh, hah, i think i know what happened ....
19:23:49 <araujo> dons, you edited 10-10 and 10-19 with different encoding?
19:24:23 <dons> araujo: hmm? I didn't edit them
19:24:28 <dons> I just darc applied
19:24:45 <araujo> dons, you didn't edit them?, i talk about the original versions
19:24:46 <chessguy> ok, i think it all downloaded now
19:25:05 <SamB_XP> araujo: you should resend --signed or whatever it is ;-)
19:25:10 <araujo> what i do is that i take a copy of your original text and start editing on top of it.
19:25:29 <araujo> It looks like the last text was edited with a different encoding.
19:25:41 <araujo> And my editor took that one too
19:27:26 <chessguy> dons, so i guess now i need to install haddock too?
19:27:26 <int-e> SamB_XP: and sadly, for a good reason: the way it does that, you can fork (darcs get) a ghc repo locally, and then run  ./darcs-all get  to clone all the other stuff. So I see no nice fix.
19:27:33 <coffeemug> hmm
19:27:39 <coffeemug> -threaded doesn't seem to fix this problem
19:27:42 <dons> chessguy: would be a good idea
19:27:54 <SamB_XP> int-e: how about fixing the web server?
19:28:05 <dons> coffeemug: do we know if the readline io is threadsafe?
19:28:05 <coffeemug> if one thread does a readLine
19:28:13 <coffeemug> sorry, getLine
19:28:20 <dons> coffeemug: post a minimal example please?
19:28:20 <coffeemug> and another tries to load something via hsplugins
19:28:23 <dons> getLine should be fine
19:28:29 <coffeemug> dons: sure
19:28:37 <coffeemug> where was that URL for posting source?
19:28:41 <dons> ?paste
19:28:41 <lambdabot> http://paste.lisp.org/new/haskell
19:29:09 <nn_laptop> sam are you here
19:29:31 <SamB_XP> nn_laptop: yeah?
19:29:46 <nn_laptop> just around
19:29:56 <int-e> SamB_XP: well, dcoutts knows about it, so I hope this is a temporary problem.
19:30:31 <dcoutts> int-e, I'm not sure what to do, except bug the people to adjust the web server config
19:30:43 <nn_laptop> so sam have you been on fire dragon
19:30:49 <SamB_XP> nn_laptop: no
19:30:50 <nn_laptop> lately
19:30:53 <nn_laptop> ok
19:31:08 <SamB_XP> Lemmih gave me an account on his l33t 2-CPU box ;-D
19:31:09 <araujo> dons, i think that's what happens
19:31:16 <SamB_XP> it already has Haskell on it
19:31:25 <SamB_XP> it has an easy-to remember name
19:31:45 <SamB_XP> and he set it up with my SSH key
19:32:01 <lisppaste2> coffeemug pasted "concurrency blocking" at http://paste.lisp.org/display/28415
19:32:03 <nn_laptop> hmm well i think this knoppix cd suports testing dule core 1G mem ,, need anything compiled at the moment??
19:32:17 <SamB_XP> not really no
19:32:17 <coffeemug> dons: ok, take a look at that
19:32:24 <dons> coffeemug: ok.
19:32:36 <coffeemug> dons: basically getLine blocks and until I type something in the other thread is stuck
19:32:37 <nn_laptop> any one else ?
19:32:58 <chessguy> hmm, running hadock.exe doesn't seem to do anything
19:33:04 <nn_laptop> just cant wate to get thease engens roring
19:33:13 <coffeemug> dons: compiled with "ghc --make Main.hs -threaded"
19:34:12 * SamB_XP wonders what nn_laptop could setup a buildbot slave for?
19:34:31 <int-e> dcoutts: hmm. that would be the cleanest solution I guess. (either make the web server follow symlinks or make it rewrite requests to /packages/Cabal to /cabal)
19:34:44 <SamB_XP> symlinks!
19:34:51 <SamB_XP> at least those within the web root!
19:35:00 <araujo> dons, i think i will go manually fixing the wiki now , but save the next files as plain ASCII! :-)
19:35:16 <dcoutts> int-e, it was already using symlinks, it's just nobody noticed that they were not working in the web server
19:35:17 <SamB_XP> araujo: um
19:35:36 <dons> coffeemug: ok. works fine under opebsd/ghc 6.4.2
19:35:49 <dons> it loads and prints the string, while still waiting on the getLine
19:35:54 <nn_laptop> knoppix isn't exactly a config saving system
19:36:02 <SamB_XP> nn_laptop: I know!
19:36:15 <dons> coffeemug: just using, ghc --make A.hs -threaded
19:36:15 <Cale> Ah, I'm so much happier with my new fold article for Wikipedia. Let's hope its glory doesn't degenerate under the combined edits of millions of idiots. :)
19:36:16 <SamB_XP> why don't you just go find some huge animation to render in pov-ray or something ?
19:36:39 <coffeemug> dons: ok, so it's a win32 issue
19:36:46 <dons> Cale: do you want to also copy the content to haskell.org/haskellwiki/Fold or something?
19:36:53 <Cale> Probably a decent idea
19:37:01 <dons> coffeemug: maybe. please ask on glasgow-haskell-users@haskell.org
19:37:22 <dons> I'm not familiar enough with win32 to know about the status of -threaded on that arch, though i've not heard of any issues
19:37:43 <SamB_XP> dons: that could just be because nobody tried it yet!
19:37:48 <nn_laptop> so nothing needs to be compiled relly fast at the moment
19:37:54 <SamB_XP> nope!
19:37:55 <dons> SamB_XP: hmm. joelr certainly did
19:37:56 <coffeemug> ok, thanks
19:38:04 <SamB_XP> dons: I meant lately
19:38:22 <dons> coffeemug: be sure to state what ghc/ cyginwor mingw you're using
19:38:37 <dons> coffeemug: and maybe try to construct a test case that doesn't use hs-plugins
19:38:45 <dons> i.e. just do anything else in the second thread
19:39:12 <coffeemug> dons: yeah
19:39:12 <chessguy> Cale, you know some of the comments in your code samples run out of the boxes?
19:39:25 <Cale> chessguy: they do?
19:39:29 <Cale> not here ;)
19:39:37 <SamB_XP> nn_laptop: I need to figure out what to do next before I'll need anything built, and at that point I'll really want to do it fast ;-)
19:39:47 <dons> ?paste
19:39:47 <lambdabot> http://paste.lisp.org/new/haskell
19:39:55 <Cale> but I should perhaps move them down for people with smaller screens
19:39:56 <dons> coffeemug: e.g. just blah = do
19:39:56 <dons>   threadDelay 100000
19:39:57 <SamB_XP> like 2x3 GHz fast ;-)
19:39:58 <dons>   print "Thread 2"
19:40:00 <dons> or something
19:40:07 <chessguy> your second and 3rd boxes
19:41:06 <coffeemug> dons: what about --enable-threaded-rts flag?
19:41:12 <coffeemug> it doesn't seem to work for me
19:41:19 <coffeemug> says it's an unrecognized flag
19:41:22 <int-e> Cale: nice pictures :)
19:41:25 <coffeemug> but I found this
19:41:26 <coffeemug> http://www.haskell.org/pipermail/glasgow-haskell-users/2002-March/003118.html
19:41:28 <lambdabot> Title: Concurrent Haskell (GHC) and Win32 Applications ?, http://tinyurl.com/yyjz9g
19:42:33 <Cale> er, hmm what category is it in on haskellwiki?
19:43:38 <dons> coffeemug: i'm not familiar with that flag. sounds like an old synonym for -threaded
19:43:52 <dons> coffeemug: does anything change if you use forkOS ?
19:43:54 <Cale> int-e: thanks :)
19:44:12 <dons> coffeemug: that 2002 email is too old I think -- many things have changed since then
19:44:21 <chessguy> so where in the libraries would be a good place to start working on documentation that won't be a tragedy if i screw up
19:44:34 <dons> chessguy: one of the non-core packages.
19:44:44 <dons> say, hmm, quickCheck or haskell-src ?
19:44:51 <dons> or one of the others. readline maybe?
19:44:59 <dons> or the unix package
19:45:17 * SamB_XP doesn't think it would be a tragedy if chessguy screwed anything up -- someone would probably fix it since chessguy's patch would go to the whole libraries@ list
19:46:06 <coffeemug> ok
19:46:06 <chessguy> @hoogle readline
19:46:07 <lambdabot> System.Console.Readline.readline :: String -> IO (Maybe String)
19:46:07 <lambdabot> System.Console.Readline :: module
19:46:07 <lambdabot> System.Console.Readline.setReadlineName :: String -> IO ()
19:46:11 <coffeemug> nothing changes with forkOS
19:46:19 <coffeemug> and I created a very simple example
19:46:26 <coffeemug> the other thread can simply try to print to stdout
19:46:30 <coffeemug> that doesn't work
19:47:09 <dons> ?paste
19:47:09 <lambdabot> http://paste.lisp.org/new/haskell
19:47:23 <dons> coffeemug: whihc ghc are you using?
19:47:57 <chessguy> there doesn't seem to be any actual haskell code in the readline folder
19:48:00 <coffeemug> 6.4.2
19:48:09 <coffeemug> let me see what happens with 6.6
19:48:17 <lisppaste2> dons pasted "forkIO" at http://paste.lisp.org/display/28416
19:48:26 <dons> coffeemug: so you don't see the above behaviour ^^
19:49:29 <coffeemug> no
19:49:34 <coffeemug> in my case thread 2 blocks
19:50:05 <chessguy> what's a .hsc file?
19:50:19 <coffeemug> I first have to type something
19:51:11 <dons> coffeemug: hmm..
19:51:27 <dons> I'm going to be very very surprised if the threaded rts doesn't work on windows.. surely that's not the case
19:51:36 <dons> could it be a cygwin issue?
19:51:41 <coffeemug> is anyone else here on windows who could try this?
19:51:49 <dons> does plain win32 ghc without cygwin and such like work?
19:52:02 <coffeemug> dons: I'm using plain ghc right now
19:52:06 <coffeemug> with plain gcc that comes with it
19:52:10 <Lajexander> @hoogle (\\)
19:52:10 <coffeemug> no cygwin stuff
19:52:11 <lambdabot> Did you mean: (\\)
19:52:11 <lambdabot> Prelude.undefined :: a
19:52:11 <lambdabot> Control.Monad.Reader.ask :: MonadReader r m => m r
19:53:30 <araujo> dons, fixed.
19:53:53 <dons> araujo: feel free to upload the fixed version to the haskellwiki then
19:54:06 <Lajexander> how should i write a function that can use either (++) or (\\) as an operator on the lists the function operates on?
19:54:07 <dons> look at the current text to see the small changes to the format you have to make for the wiki
19:54:08 <araujo> dons, already there
19:54:21 <dons> Lajexander: what's the type?
19:54:23 <coffeemug> dons: when I explicitly turn off buferring it appears to work
19:54:39 <araujo> dons, i directly fixed the wiki
19:54:41 <dons> > let f g xs ys = xs `g` ys in f (++) "abcde" "abcde"
19:54:42 <lambdabot>  "abcdeabcde"
19:54:44 <dons> > let f g xs ys = xs `g` ys in f (//) "abcde" "abcde"
19:54:45 <lambdabot>  Couldn't match `Array i e' against `[Char]'
19:54:54 <dons> > let f g xs ys = xs `g` ys in f (\\) "abcde" "abcde"
19:54:55 <lambdabot>  ""
19:55:05 <dons> coffeemug: ah!
19:55:07 <coffeemug> that's with forkOS
19:55:08 <dons> so its just buffering then
19:55:08 <araujo> dons, It looks like it works fine if you save the files as plain ASCii text
19:55:14 <coffeemug> let me see what happens with forkIO
19:55:18 <dons> yes, there's an issue with 6.4.2 and SetNobuffering
19:55:28 <dons> its probably just the line not being flushed.
19:55:29 <chessguy> hmm, none of the organization of this makes any sense
19:55:41 <Lajexander> dons: hmmm... :: Eq a => ([a]->[a]->[a]) -> [a] -> [a] -> [a]
19:55:51 <dons> Lajexander: look at 'f' above
19:55:52 <coffeemug> ok
19:55:59 <coffeemug> but now I'm thinking my example is bad
19:56:08 <Lajexander> don't write that quick :/
19:56:12 <coffeemug> because it works even with forkIO without -threaded
19:56:28 <dons> ?let myfun g xs ys = xs `g` ys
19:56:29 <lambdabot> Defined.
19:56:35 <dons> > L.myfun (++) "abcde" "abcde"
19:56:36 <lambdabot>  "abcdeabcde"
19:56:40 <SamB_XP> coffeemug: eek
19:56:42 <dons> > L.myfun (\\) "abcde" "abcde"
19:56:43 <lambdabot>  ""
19:56:46 <SamB_XP> forkIO works without -threaded?
19:56:52 <dons> > L.myfun (,) "abcde" "abcde"
19:56:53 <lambdabot>  ("abcde","abcde")
19:57:01 <dons> SamB_XP: yeah
19:57:17 <dons> coffeemug: right. because its not blocking ffi or anything
19:57:19 <dons> its the line buffering
19:57:26 <dons> much much simpler :)
19:57:50 <dcoutts> liyang, look at the patches in the current gtk2hs darcs, all of int-e's patches around Aug 14th and then my ones of that same period, up to Sep 25th.
19:58:15 <chessguy> like if i wanted to edit the documentation at http://haskell.org/ghc/docs/latest/html/libraries/base/Data-Array.html , where in ghc/libraries would i look?
19:58:17 <lambdabot> http://tinyurl.com/yet7dx
19:58:32 <Lajexander> and I have to write xs 'g' ys, right?
19:58:40 <SamB_XP> ghc/libraries/base/Data/Array.hs
19:58:49 <dons> Lajexander: no, you could write: g xs ys
19:58:49 <SamB_XP> also chase imports
19:58:55 <dons> or: xs `g` ys
19:58:59 <dons> or even give it another name
19:59:01 <chessguy> chase imports?
19:59:20 <chessguy> ok, see that file doesn't exist.
19:59:28 <SamB_XP> oh really?
19:59:29 <Lajexander> Eq a => ([a]->[a]->[a]) -> [a] -> [a] -> [a] <-- that type?
19:59:34 <SamB_XP> maybe it was lhs
19:59:34 <chessguy> something must've gone wrong in the darcs
19:59:40 <SamB_XP> or yeah...
19:59:47 <chessguy> lhs?
19:59:47 <SamB_XP> @darcs Data.Array
19:59:47 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Data-Array.html
19:59:53 <SamB_XP> @fptools Data.Array
19:59:53 <lambdabot> http://darcs.haskell.org/packages/base/Data/Array.hs
20:00:07 <SamB_XP> yeah, thats the path its supposed to be alright...
20:01:13 <Lajexander> dons: would this be the correct type, perhaps? Eq a => ([a]->[a]->[a]) -> [a] -> [a] -> [a] <-- that type?
20:01:42 <dons> ?type let f g xs ys = xs `g` ys in f
20:01:43 <lambdabot> forall t t1 t2. (t -> t1 -> t2) -> t -> t1 -> t2
20:01:48 <dons> very general :)
20:01:54 <dons> you can make it more restrictive if you want
20:02:14 <dons> ?type let f g xs ys = xs `g` ys in f :: ([a] -> [a] -> [a]) -> [a] -> [a] -> [a]
20:02:15 <lambdabot> ([a] -> [a] -> [a]) -> [a] -> [a] -> [a] :: forall a. ([a] -> [a] -> [a]) -> [a] -> [a] -> [a]
20:02:26 <chessguy> i'm assuming that base should be gotten from the HEAD?
20:02:39 <dons> it should be gotten from the base package
20:02:41 <SamB_XP> dons: isn't that id?
20:02:50 <SamB_XP> @fptools Data.Array
20:02:50 <lambdabot> http://darcs.haskell.org/packages/base/Data/Array.hs
20:02:55 <SamB_XP> http://darcs.haskell.org/packages/base
20:02:55 <dons> SamB_XP: yes :)
20:02:56 <lambdabot> Title: Index of /packages/base
20:03:03 <Lajexander> fuck... why oh WHY did we use constructors for these lists!?!?
20:03:05 <SamB_XP> that is the location!
20:03:11 <dons> > id (++) "abcde" "defgh"
20:03:12 <lambdabot>  "abcdedefgh"
20:03:20 <coffeemug> dude
20:03:20 <dons> > id (\\) "abcde" "defgh"
20:03:22 <lambdabot>  "abc"
20:03:26 <coffeemug> now something even weirder is happening
20:03:28 <Lajexander> @type id
20:03:30 <lambdabot> forall a. a -> a
20:03:39 <coffeemug> basically on one thread I have a socket, on the other I'm waiting for input
20:03:55 <Lajexander> dons: you can't do that!
20:03:57 <coffeemug> the threaded that has a socket is also the one that loads stuff dynamically with hsplugins
20:04:09 <dons> Lajexander: hmm?
20:04:12 <coffeemug> so now, if I hit the socket the plugins call blocks
20:04:15 <dons> > id (,) 1 2
20:04:17 <lambdabot>  (1,2)
20:04:22 <dons> > (,) 1 2
20:04:23 <lambdabot>  (1,2)
20:04:26 <coffeemug> I type something on the console (the other thread), it works
20:04:36 <Lajexander> i thought id only was =
20:04:38 <coffeemug> next time I hit the socket, it works
20:05:16 <dons> coffeemug: sounds fairly simple. be careful with your buffering. and if you're making true foreign blockign calls, use -threaded
20:06:11 <coffeemug> ah, that's because the module is already loaded
20:06:27 <coffeemug> ok, so the problem generally persists
20:06:38 <chessguy> ok, i think i got base loaded
20:06:52 <coffeemug> trying to open a file in one thread is stuck until getLine returns in the other thread
20:07:00 <coffeemug> even with -threaded and forkIO
20:07:19 <coffeemug> and forkOS
20:07:20 <dons> running in ghci or compiled?
20:07:26 <coffeemug> compiled
20:07:30 <dons> paste please
20:07:45 <coffeemug> ?paste
20:07:45 <lambdabot> http://paste.lisp.org/new/haskell
20:07:50 <chessguy> @fptools readline
20:07:50 <lambdabot> readline not available
20:07:58 * chessguy sighs
20:08:03 <dons> ?index Readline
20:08:03 <lambdabot> bzzt
20:08:07 <dons> ?hoogle Readline
20:08:08 <lambdabot> System.Console.Readline :: module
20:08:08 <lambdabot> System.Console.Readline.readline :: String -> IO (Maybe String)
20:08:08 <lambdabot> System.Console.Readline.setReadlineName :: String -> IO ()
20:08:15 <dons> ?source System.Console.Readline
20:08:16 <lambdabot> http://darcs.haskell.org/packages/readline/System/Console/Readline.hs
20:08:30 <chessguy> is readline different from Readline on http://www.haskell.org/ghc/docs/latest/html/libraries/index.html
20:08:31 <lambdabot> http://tinyurl.com/eoao7
20:08:36 <dons> no
20:09:01 <Lajexander> when defining an operator like ++ do i use ´, ` or ' ?
20:09:24 <dons> neither
20:09:25 <Lajexander> (right-leaning, left-leaning or straight)
20:09:43 <dons> > let b +++ a = a ++ b in "foo" +++ "bar"
20:09:44 <lambdabot>  "barfoo"
20:09:47 <coffeemug> dons: sorry, can't reproduce with reading from a file
20:09:53 <Lajexander> what did you use on that function g earlier then?
20:09:58 <coffeemug> dons: it looks like it's more complex, something hs-plugins does
20:10:00 <SamB_XP> if you mean like `xor`, you use the backtick
20:10:16 <SamB_XP> same key as tilde on US-style keyboards
20:10:18 <dons> coffeemug: ok, its possible. hs-plugins calls into the rts, so its possible ghc does something special
20:10:23 <dons> i.e. blocks threads during a dynamic load
20:10:23 <Lajexander> SamB_XP: danke =)
20:10:29 <dons> (which would maybe make sense, not sure)
20:10:30 <coffeemug> yeah
20:10:59 <SamB_XP> Lajexander: you are welcome
20:11:05 <coffeemug> it should be fairly easy to rework the server
20:11:08 * SamB_XP goes to bed now
20:11:28 <araujo> coffeemug, you trying to read the same file simultaneously from different processes?
20:11:37 <coffeemug> araujo: no
20:11:50 <araujo> coffeemug, what is it?
20:11:55 <coffeemug> I'm trying to load a plugin on one thread while another thread is suspended waiting on getLine
20:12:02 <araujo> i see
20:12:07 <chessguy> oy. i think i'd better drop this for tonight
20:12:49 <dons> chessguy: but note that I was able to load an object in one thread while blocking on another
20:12:55 <dons> in unix, that worked fine.
20:13:06 <chessguy> i don't think you wanted to direct that to me :)
20:13:30 <dons> oh. coffeemug cheeseplate all very confusing :}
20:13:35 <chessguy> haha
20:13:44 <LordBrain> lol
20:14:15 <chessguy> ?remember chessguy chess is a game, not a dairy product
20:14:25 <chessguy> @quote chessguy
20:14:25 <lambdabot>  chess is a game, not a dairy product
20:14:30 <chessguy> @quote chessguy
20:14:30 <coffeemug> dons: I'm going to give you a minimal test case in a min
20:14:30 <lambdabot>  i didn't think pennsylvania had anybody cool enough to know haskell in it
20:14:37 <dons> coffeemug: cheers
20:14:46 <chessguy> @quote chessguy
20:14:46 <lambdabot>  chess is a game, not a dairy product
20:14:59 <chessguy> only two quotes. i'm going to have to work on being more memorable :)
20:15:14 <dons> I don't eat dairy, so cheese is very confusing to me.
20:15:30 <chessguy> @Cale
20:15:30 <lambdabot> Unknown command, try @list
20:15:36 <chessguy> @quote Cale
20:15:36 <lambdabot>  ... if sections were allowed at the type level ...
20:15:47 <Cale> @quote Cale
20:15:47 <lambdabot>  The perfect programming language is mathematics, but that only runs on mathematicians.
20:15:55 <chessguy> lol
20:16:22 <chessguy> @dons
20:16:22 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/index.html
20:16:27 <chessguy> @quote dons
20:16:28 <lambdabot>  note down this date, people, 13-09-2006. today lambdabot == skynet
20:16:58 <coffeemug> ?paste
20:16:58 <lambdabot> http://paste.lisp.org/new/haskell
20:17:53 <coffeemug> haha
20:17:58 <coffeemug> now lisp.org is down for me
20:18:02 <coffeemug> so I can't paste :)
20:18:17 <jcreigh> rafb.net/paste
20:19:02 <chessguy> oh well, time for bed here. 'night all
20:19:29 <coffeemug> dons: http://rafb.net/paste/results/lTzFE058.html
20:19:35 <coffeemug> dons: could you try this?
20:19:43 <dons> looking ...
20:19:52 <coffeemug> in the Hello.hs in that directory just put myTestSym = "hello world"
20:19:55 <coffeemug> or something like that
20:20:39 <dons> coffeemug: works.
20:20:40 <dons> $ ./a.out
20:20:40 <dons> hello
20:20:40 <dons> xyz
20:20:40 <dons> xyz
20:20:48 <dons> i.e. it prints hello before I type anything in
20:21:02 <dons> $ ghc --make -threaded A.hs
20:21:22 <dons> works with -threaded too
20:21:54 <coffeemug> are you doing forkIO or forkOS?
20:22:35 <dons> forkIO. let me try forkOS
20:22:49 * glguy has been in #openbsd, and has been thinking he was in #haskell
20:23:12 <dons> n.b. you need -threaded if you use forkOS
20:23:21 * dons discovers "RTS doesn't support multiple OS threads" :)
20:23:23 <coffeemug> ok, doesn't work for me with both
20:23:38 <coffeemug> dons: yeah, I got that with forkOS, then I had to add -threaded
20:23:45 <dons> works with forkOS -threaded too
20:23:56 <glguy> dons: have you played with wmii much?
20:24:03 <coffeemug> doesn't work for me man
20:24:08 <coffeemug> it's a win32 issue I guess
20:24:38 <dons> glguy: I used it for about 3 months before switching to dwm
20:24:54 <dons> coffeemug: yeah. ask on glasgow-haskell-users@, maybe SimonM knows the story
20:26:22 <dons> Cale: you should categoirse your pages :)
20:26:23 <coffeemug> well
20:26:32 <coffeemug> given that my sample is hs-plugins specific
20:26:37 <coffeemug> I don't know that it makes sense to poste
20:26:43 <dons> but the linker is the issue here
20:26:50 <dons> the library runs the same code on both win32 and unix
20:26:54 <dons> but the linker is different
20:27:00 <dons> i.e. in the ghc rts
20:27:16 <dons> so I don't see this as an hs-plugins issue, but maybe a win32/threaded/linke rissue
20:27:36 <dons> i don't really know what the story with dynamic linking and threaded rts on win32 is though
20:28:10 <dons> coffeemug: can you live without dynamic loading for now?
20:28:24 <dons> or hmm.. don't use win32? :)
20:28:42 <dons> the main issue with win32 is there's lots of users, but not many developers
20:28:51 <coffeemug> well
20:28:53 <dons> i'm sure this is an issue in general with open source
20:29:13 <coffeemug> my goal was to evaluate haskell for use in a app that will run primarily on windows boxes
20:29:17 <coffeemug> an
20:29:25 <coffeemug> I could easily develop on osx/linux
20:29:33 <coffeemug> in fact, I would prefer it
20:29:39 <Smokey`> ...Haskell doesn't support runtime dynamic library loading, in win32? :/
20:29:42 <dons> i'd imagine ocaml, ruby, ... all have more corner cases on win32, due to the lack of devs
20:29:52 <dons> Sm	sure it does.
20:29:56 <dons> Smokey`: it does.
20:30:02 <coffeemug> Smokey`: it does, it works for me
20:30:08 <coffeemug> Smokey`: it's threading that's the problem
20:30:16 <dons> we've just noticed that threads seem to block when calling into the dynamic linker
20:30:22 <Smokey`> I see...
20:30:50 <dons> but yes, plenty of people use  hs-plugins, and dynamic linking in the form of ghci, on windows. of course.
20:31:01 <coffeemug> shit
20:31:08 <coffeemug> I really REALLY started to like haskell
20:31:27 <dons> seems like a minor issue. ask first before deciding things are bad :)
20:31:46 <dons> since i have no idea what's going on there, its' better we find out first, before jumping to conclusions
20:31:53 <Smokey`> I love haskell, but unfortunately it's still not as practical as C++ for me :( So I barely ever get to use it.
20:32:02 <dons> so, mail glasgow-haskell-users@haskell.org, and we'll see what the win32 guys say
20:32:13 <coffeemug> dons: well, I can easily get around this issue for now
20:32:17 <dons> good
20:32:19 <coffeemug> and just not do a getLIne :)
20:32:33 <coffeemug> but in general I keep running into these issues all the time
20:32:35 <coffeemug> they're all minor
20:32:37 <dons> Smokey`: how've you found it to be impractical, btw?
20:32:42 <dons> coffeemug: win32 issues, yes. I agree
20:32:47 <dons> not enough win32 devs.
20:32:52 <coffeemug> each one on its own doesn't mean much
20:32:52 <dons> where are they? why don't they send patches?
20:32:55 <dons> its a mystery.
20:32:59 <coffeemug> but as you keep fighting them day in day out
20:33:05 <coffeemug> you know :)
20:33:13 <dons> its really easier to develop on a unix system...
20:33:24 <coffeemug> I'd prefer it
20:33:31 <dons> or else, be prepared to help out with the win32 effort
20:33:35 <coffeemug> but I'll have to run on a windows system
20:33:42 <coffeemug> dons: I'm trying :)
20:33:43 <dons> until we have a critical mass of win32 devs heping out
20:33:48 <dons> yeah
20:33:57 <dons> no no, its good. things get better and better all the time.
20:34:00 <Smokey`> dons: Most of the development I do, is middleware (library) development, for other people (who use C/C++/CLI/C#/whatever), and I haven't had the time nor motivation to learn how to create static/dynamic libraries for win32/linux, nor what implications using haskell to develop said middleware, might have on the people using my libraries.
20:34:14 <Lajexander> how do you write "\\" to get it to work?
20:34:24 <Lajexander> i'm having a nervous breakdown here...
20:34:38 <dons> Smokey`: oh, so its not so much haskell, as you not knowing Cabal, our tool for producing libraries?
20:34:52 <dons> and understanding the FFI
20:35:14 <dons> i.e. haskell is practical, but you're not familiar yet with the tools and technology we use for these problems.
20:35:23 <dons> Lajexander: hmm?
20:35:28 <dons> > "abce" \\ "dyxds"
20:35:29 <lambdabot>  "abce"
20:35:30 <Smokey`> yes, it's impractical for 'me' (in my current situation) to use haskell.
20:35:45 <Lajexander> doesn't work in... ehm... hugs
20:35:45 <Smokey`> dons: due to the lack of time to learn it (given that I have people wanting things 'right now' :P)... also not sure if it'll affect the people using my libraries... if at all
20:35:55 <dons> have a look at Cabal, and the FFI report, if you're interested in writing "glue" libraries in Haskell.
20:36:14 <dons> you may gain some productivity benefits over , say, C++
20:36:15 <glguy> Lajexander: load Data.List first?
20:36:20 <Lajexander> Prelude> [1,2,3] \\ [3,4,5]
20:36:20 <Lajexander> <interactive>:1:8: Not in scope: `\\'
20:36:27 <dons> do as glguy says :)
20:36:29 <Smokey`> dons: the biggest problem being COM-like dynamic libraries
20:36:37 <dons> right
20:36:43 <dons> i.e. where are the win32 devs?
20:36:43 <glguy> dons: I should ?quote that ;)
20:36:48 <Lajexander> glguy: clever Xp
20:37:36 <dons> I need a plugin that records the statistics comparing the number of win32 user bug reports, with the number of win32 dev patches
20:37:47 <Smokey`> dons: this isn't win32 specific (I'm not using COM per say, just using similar concepts).  basically a dynamic lirbary, which has a 'queryModule' function, which returns creates/returns an implementation of an interface (if that makes any sense :/)
20:38:01 <dons> for an arch with so many users, there's a real lack of devs. its' a mystery. we don't have this problem on the Mac, for example
20:38:24 <dons> Smokey`: well, there's dynamic linking of various kinds, if you need it
20:38:30 <coffeemug> dons: ok, just sent an email
20:38:34 <dons> coffeemug++
20:38:35 <Smokey`> dons: aye, all the win32 devs are most likely using C++/CLI, or C#, or some other microsoft-variation of another language.
20:38:57 <glguy> Smokey`: IoC?
20:40:01 <dons> Smokey`: yes, but I mean more that we have a large number of win32 haskell users, but they tend not to progress to become win32 haskell devs. unlike on linux.
20:40:04 <dons> i'm not sure why this is.
20:40:09 <dons> we do have some notable win32 devs, though.
20:40:19 <dons> but not enough, to match the numbe rof users
20:40:44 <coffeemug> ok, I'll rework my server for now so I don't run into this stupid problem
20:40:48 <dons> possibly we need some documents on getting starting hacking haskell on win32
20:40:50 <coffeemug> hopefully someone will fix this issue
20:40:52 <Smokey`> dons: same issue, less popularity of Haskell for win32, devs would most likely want to spend their time where they would get more recognition and support (eg: .NET languages)
20:40:56 <dons> to teach people darcs and so on
20:41:09 <coffeemug> darcs is great man
20:41:12 <coffeemug> I use darcs all the time
20:41:21 <coffeemug> I don't think darcs is the problem
20:41:30 <coffeemug> ghc is just a big beast
20:41:33 <Smokey`> glguy: IoC?
20:41:34 <coffeemug> that scares people away
20:41:39 <dons> so is eclispse or visual studio ...
20:41:56 <dons> even python is pretty monstrous these days
20:42:26 <dons> i agree, if it was tiny, it'd be easier.
20:42:31 <dons> but there'd be less things to do, as well :)
20:43:41 <coffeemug> oh man
20:43:47 <coffeemug> I used to work for eclipse for a year
20:43:51 <coffeemug> not for
20:43:52 <coffeemug> sorry
20:43:53 <coffeemug> with
20:43:55 <coffeemug> and not the IDE
20:44:01 <coffeemug> but eclipse framework to build a trading app
20:44:02 <glguy> Smokey`: I was just checking to see if you were writting an IoC container
20:44:03 <coffeemug> professionally
20:44:09 <coffeemug> excuse my language
20:44:16 <coffeemug> but what a fucking piece of shit their codebase is
20:44:27 <glguy> Smokey`: common example: Castle Windsor
20:44:34 <coffeemug> they have 30 classes, literally, for a task that you can easily complete with a single function
20:44:57 <coffeemug> they build 30 layers of abstraction over every little freakin' thing, and then never use it
20:45:01 <dfranke> you can easily complete things with a Java function?
20:45:08 <coffeemug> :)
20:45:11 <Smokey`> glguy: nope, just saying I have no idea how I would import/export a C++ class (that implements an interface, if Haskell has anything similar), to a dynamic library...
20:45:45 <Smokey`> dun' worry, random unrelated stuffs :)
20:45:52 <glguy> Smokey`: bah, C++ doesn't have interfaces (c:
20:46:03 <Smokey`> glguy: interface = abstract class.
20:46:16 <glguy> ABCs are close
20:46:25 <Smokey`> close enough for me :)
20:46:48 <dfranke> with multiple inheritance, abstract classes are a superset of the functionality of interfaces.
20:48:12 <glguy> at a highlevel
20:52:01 * glguy just picked up a copy of _The Elements of Typographic Style_ from Borders
20:55:28 <lennart> dons?
20:56:49 <dons> lennart: ?
20:57:12 <lennart> where do I send hsplugins pathes?
20:57:20 <dons> ah, to me :) dons@cse.unsw.edu.au
20:57:38 <lennart> it doesn't load _stub.o files :)
20:57:56 <dons> oh? hmm.
20:58:07 <dons> darcs send should work, btw, if you've got mail configured
20:58:19 <lennart> i'll try
20:58:50 <dons> ah, hmm, maybe. if you can stick a test case in testsuite, that'd be really useful
20:59:21 <lennart> I made a Haskell addin for Excel.  You can define Haskell lambda expressions and run them in Excel.
20:59:35 <lennart> Too bad I can't release the reast of the code. :(
20:59:49 <dons> oh very nice!
20:59:56 <dons> ah well. cool idea though
21:00:03 <dons> so foreign export, and what, runtime eval?
21:00:19 <dons> or foreign export and dynamic linking from the excel side?
21:00:33 <lennart> One haskell addin that invokes gcc and the loads the file.
21:00:58 <dons> ok. cool. does that call System.Plugins.Make.make ?
21:01:04 <dons> or you write your own ?
21:01:26 <lennart> it was a 2 hour hack, so I didn't use your make
21:01:46 <lennart> but if it goes live we will
21:01:57 <lennart> i just invoke gcc
21:02:06 <dons> ok. nice idea lennart. i'd not thought of using it from Excel, but its exacly this kind of thing we wanted to do (we've tried it from objective C, for example)
21:02:33 <lennart> but it needs a lot of Excel specfific infrastructure. :(
21:02:41 <dons> ah well.
21:02:47 <lennart> that I had already written
21:02:57 <dons> does Excel talk a C-like FFI to Haskell?
21:03:02 <dons> or is it more complex than that
21:03:11 <lennart> It's a C API
21:03:17 <dons> ok
21:03:20 <lennart> it's fairly simple
21:04:05 <lennart> but Excel has no concept of foreign "object", so I'm using the CS stuff for that.  Lot's of gory C code
21:04:28 <dons> sounds fun ;)
21:04:39 <lennart> it's disgusting :)
21:05:01 <lennart> "objects" show up as negative numbers in a certain range
21:05:09 <dons> heh!
21:06:25 <dons> hmm, I'd imagine compiled Haskell lambdas might have some performance benefits over native excel?
21:06:31 <dons> for complex things, perhaps.
21:07:54 <coffeemug> just started the server on a mac
21:08:00 <coffeemug> runs very well :)
21:08:04 <dons> cool
21:08:14 <coffeemug> still have the weird browser timeout issue
21:08:28 <coffeemug> happens only in IE and Firefox, not Opera or Safari
21:08:31 <coffeemug> some weird stuff :)
21:13:00 <dons> coffeemug: thanks for putting up the win32 tips on the wiki. (that was you?)
21:18:54 <JohnMeacham> howdy howdy.
21:22:40 <Blackfoot> are there any indent files for vim?
21:22:54 <coffeemug> dons: I don't think it was me
21:23:02 <coffeemug> dons: I would appreciate a link to it :)
21:23:02 <coffeemug> lol
21:24:58 <dons> Blackfoot: not a full implementation yet, no. interested in working on it?
21:26:10 <dons> Blackfoot: here, you could start with this, http://www.cse.unsw.edu.au/~dons/tmp/haskell.indent
21:26:12 <lambdabot> http://tinyurl.com/wbz9q
21:26:30 <dons> I also fine this helps:
21:26:31 <dons> set comments=bO:--
21:26:32 <dons> set formatoptions=tcqr
21:26:38 <dons> since at least your comments get handled properly then
21:27:21 <dons> coffeemug: oh, see here http://haskell.org/haskellwiki/Special:Recentchanges
21:27:23 <lambdabot> Title: Recent changes - HaskellWiki, http://tinyurl.com/sjzyu
21:27:28 <dons> i..e http://haskell.org/haskellwiki/Windows
21:27:30 <lambdabot> Title: Windows - HaskellWiki
21:29:41 <dons> Is agile a synonym for sloppy?
21:30:01 <dons> e.g. this article, http://www.taylor.se/blog/2006/10/20/duck-typing-for-c/, where he moves type checking to runtime to be more "agile"
21:30:05 <lambdabot> Title: Andres&#8217; thoughts » Duck Typing for C#, http://tinyurl.com/ynelpc
21:30:19 <dons> i.e. so that errors are caught after the product is handed to the client, i suppose
21:39:42 <Blackfoot> dons, thanks I'm playing around with it now
21:39:56 <Blackfoot> I would be interested, but I'm just learning haskell so not sure how useful I'd be yet
21:40:33 <dons> indenting isn't such a big issue, I find. since haskell is pretty free form anyway
21:40:39 <dons> but it could be automated, yes.
21:41:02 <dons> feel free to ask around here for advice on learning the language, btw.
21:41:03 <Blackfoot> yea, just indenting inside functions and such, i don't like spacing in all the time
21:41:24 <dons> > map (^2) [1..] -- our bot can help too :)
21:41:25 <lambdabot>  [1,4,9,16,25,36,49,64,81,100,121,144,169,196,225,256,289,324,361,400,441,484...
21:41:27 <dons> ?type map
21:41:28 <lambdabot> forall b a. (a -> b) -> [a] -> [b]
21:41:33 <dons> ?index map
21:41:33 <lambdabot> Data.IntMap, Data.IntSet, Data.Map, Data.Set, Data.List, Prelude
21:41:49 <dons> ?source Data.List
21:41:49 <lambdabot> http://darcs.haskell.org/packages/base/Data/List.hs
21:41:52 <Cale> Well, indenting in Haskell has semantic meaning (it acts like putting braces around the code) so you need to be a little careful
21:41:54 <Blackfoot> oh yea, i got some great help the other night
21:41:54 <dons> ?docs Data.List
21:41:55 <lambdabot> http://haskell.org/ghc/docs/latest/html/libraries/base/Data-List.html
21:42:30 <dons> yeah, as Cale says, white space layout is significant in Haskell, like many modern languages, so an indenter needs to follow the layout rules -- this should make the indenter easier to write, btw.
21:42:56 <dons> since its not so much a matter of personal choice, the layout, but of following the language report :)
21:43:13 <Cale> Though what I'd really want is an editor which produces grey bars to the left of indentation blocks which I could freely drag :)
21:43:13 <Blackfoot> sweet
21:43:40 <dons> mostly, just matching layout-introducing keywords, like 'do' or 'where', and lining up the current indentation level, would be enough for reasonable indentation
21:43:49 <dons> i think this is what emacs' haskell indenter does
21:43:58 <satan> hmm ghci complains about the \\ operator not being in scope, what do i need to import, if anything at all?
21:44:17 <dons> ?hoogle \\
21:44:17 <lambdabot> Hoogle Error: Parse Error: Unexpected character '\\'
21:44:20 <Cale> satan: Data.List
21:44:26 <dons> ?index \\
21:44:26 <lambdabot> bzzt
21:44:28 <satan> import it eh
21:44:34 <dons> ?index (\\)
21:44:34 <lambdabot> bzzt
21:44:43 <dons> its in Data.List, so load that
21:44:57 <dons> :m Data.List
21:45:07 <satan> oh ok
21:45:26 <satan> cool thanks, i'm just trying some code on permutations of a list and it uses that
21:45:28 <dons> that's twice this ha sbeen asked today, to find \\, why?
21:45:37 <satan> maybe everyone is googling it?
21:45:59 <dons> oh, is there an article or something?
21:46:23 <satan> nope, i did combinations in haskell a while ago, with Cale's help, and now am trying to do permutations
21:46:39 <dons> oh, conincidence then
21:47:03 <dons> Cale: so you going to fill out the 'edit' links from your Fold article? :)
21:47:04 <satan> how would i import that in a .hs file? just 'import Data.List', right?
21:47:08 <dons> i.e. "Functoinal programming" and so on :)
21:47:14 <dons> satan: yep
21:47:19 <satan> k thank you
21:47:49 <dons> check out yaht, if you want the full story
21:47:51 <dons> ?where yaht
21:47:52 <lambdabot> http://www.cs.utah.edu/~hal/docs/daume02yaht.pdf
21:48:10 <satan> cool, thanks
21:48:10 <dons> or any of the various books and tuts on haskell.org
21:48:22 <satan> right, thats where i found this permutations code
21:48:38 <Cale> dons: hmm :) They remained there because I basically wholesale copied it over from wikipedia. I think I'll leave them for now, and maybe someone will come along and fill some in :)
21:48:44 <Blackfoot> heh, that's the one i'm working on right now
21:48:54 <Cale> I couldn't remember the interwiki link syntax
21:48:55 <dons> Cale: yeah, I know. Seems like a good foundation for a bunch of things we're missing
21:49:10 <dons> i suppose they could point to wikipedia instead, but is the quality good enough for haskell.org?  :)
21:56:13 <Blackfoot> brb
21:56:33 <Cale> dons: good point :)
21:56:47 <Cale> dons: Wikipedia also needs an article on scanl/scanr :)
22:03:01 <satan> ok, so the basic idea behind permutations is to take the head of the list, permute the tail and attach x to the start of whats returned by recursively calling the function on this tail, right?
22:05:48 <arcatan> @hoogle matrix
22:05:49 <lambdabot> Text.Html.BlockTable.getMatrix :: BlockTable a -> [[(a, (Int, Int))]]
22:14:25 <satan> hmm don't know monads yet, maybe in 3 weeks :)
22:16:36 * araujo jumps and throws some shuriken lambdas
22:18:06 <thou> araujo: have you been learning from SyntaxNinja?
22:21:14 <araujo> sure
22:21:16 <araujo> :-)
22:22:36 * thou is still trying to figure out how to hold his lambda chopsticks :-)
22:24:02 <araujo> yay!
22:25:23 <Daveman> :)
22:26:28 <dons> I was just informed by audreyt that perl6/pugs now runs on multicore boxes via SMP GHC's runtime system. A 10 line change... Something to consider if you're tossing up which language to write your new interpreter in.
22:27:02 <thou> write it in perl!
22:27:09 <Cale> haha
22:27:20 <Cale> :)
22:27:48 <dons> makes me wonder if the decision to write the JavaScript/ECMA reference in OCaml was a bit premature
22:30:21 <satan> hmm how does one define a fold function for a custom data type? i know what foldl and foldr are, but this...
22:31:00 <araujo> fold should do it
22:31:43 <dons> satan: yeah. or make your type an instance of Foldable, I suppose
22:32:05 <satan> araujo: how will fold do it? sorry, i don't get it
22:32:30 <dons> satan: so you have some new data type T, right?
22:32:36 <satan> yes
22:32:40 <dons> and you have a concept of 'fold' for that data structure?
22:33:10 <satan> nope :(
22:33:13 <dons> then I'd write a foldlT :: (a -> b -> a) -> a -> T b -> a
22:33:26 <dons> oh, if you don't know how to fold on the sturcture, then how can you write a fold :)
22:33:58 <satan> fair enough heh
22:34:09 <dons> and then if its truly a foldable structure, you can write an instance for:
22:34:11 <dons> class Foldable t where
22:34:11 <dons>     -- | Combine the elements of a structure using a monoid.
22:34:11 <dons>     fold :: Monoid m => t m -> m
22:34:23 <olliej> dons: (completely OT) i worked out how to support non-strict eval of higher ranked types on .net a few weeks back
22:34:29 <satan> whats a monoid?
22:34:31 <dons> which will give you a :
22:34:32 <dons>     foldl :: (a -> b -> a) -> a -> t b -> a
22:34:32 <dons>     foldl f z t = appEndo (getDual (foldMap (Dual . Endo . flip f) t)) z
22:34:33 <dons> for free
22:34:44 <dons> olliej: oh cool!
22:34:46 <dons> well done.
22:34:49 <satan> ok, so a fold function should work over some data type and return a single value, is that the idea?
22:35:02 <dons> satan: a type class for functions that support ++ and []
22:35:13 <araujo> satan, read Cale's wiki article
22:35:14 <satan> ah ok
22:35:17 <satan> ok
22:35:19 <araujo> it is well explained there
22:35:20 <dons> satan: a fold takes a data structure, and reduces it to a value, yeah
22:35:21 <olliej> dons: however i now have a job, so finishing off the compiler (to being stable level) is taking a large amount of time
22:36:47 <Cale> http://en.wikipedia.org/wiki/Fold_%28higher-order_function%29
22:36:49 <lambdabot> http://tinyurl.com/y4jgyn
22:37:03 <Cale> however, "reduces" is a bit of a misleading term
22:37:15 <araujo> I like to think of fold as a (family of) function(s) to capture the recursivity of a data type
22:37:17 <Cale> since the value it reduces it to might be another list :)
22:37:36 <Cale> or an even larger datastructure
22:37:45 <araujo> Through another function.
22:37:51 <olliej> dons: in hindsight it may have been better to write my compiler from scratch, rather than building off of core
22:37:56 <olliej> but meh
22:37:57 <satan> ah i see
22:38:12 <satan> cool, lemmer ead those articles, thanks guys
22:42:53 <Cale> It's interesting that I can write something, and then get myself excited about it just by reading what I've written. :)
22:43:27 <satan> you wrote that eh, cool
22:43:39 <Cale> yeah, just an hour or so ago
22:43:42 <satan> ok so the fold function only works over recursive types?
22:43:48 <satan> oh no way, wow
22:43:58 <LordBrain> more neurons fire when you read your own text than when you read someone elses
22:44:01 <Cale> the old fold article was awful and contained many errors
22:45:35 <RyanT5000> is there a way to effectively make an enumerated type function?
22:45:42 <RyanT5000> e.g.: Map * *
22:45:54 <RyanT5000> er, actually that's not quite what i want
22:46:03 <RyanT5000> (btw, i of course know that that's totally syntactically invalid)
22:46:08 <satan> ok so if my data type is data Int1 = Pred Int1 | Zero | Succ Int1, then a suitable fold function would be something that worked with the recursive definition, right?
22:46:29 <Cale> yeah, the most natural one would be
22:46:32 <RyanT5000> basically i have a type that takes a bunch of types, and i'd like to make a datastructure to hold those types (for cleaner passing)
22:46:55 <Cale> you'd provide a value to replace Zero, and functions to replace Pred and Succ
22:47:13 <satan> i mean, something like foldi f i (Succ c) = f (foldi f i c)
22:47:39 <satan> functions to replace them? similar to replacing the : for lists, you mean
22:50:26 <Cale> right
22:50:56 <satan> so foldi f i Zero = i
22:51:22 <satan> not sure how to handle the Succ and Pred cases, is what I had above correct?
22:51:32 <satan> this bit: foldi f i (Succ c) = f (foldi f i c) ?
22:54:10 <araujo> satan, "capture the recursivity with a function"
22:54:53 <satan> ok
22:58:48 <Cale> foldi succ pred zero Zero = zero
22:58:50 <satan> since the type is defined recursively using Succ, replacing each instance of Succ with the passed in function would do that, right?
22:58:56 <satan> and the same goes for pred
22:59:14 <Cale> foldi succ pred zero (Succ n) = succ (foldi succ pred zero n)
22:59:28 <Cale> foldi succ pred zero (Pred n) = pred (foldi succ pred zero n)
22:59:39 <Cale> just to name everything with maximal suggestiveness :)
22:59:45 <satan> can i ask why you have 'succ pred' like that?
23:00:34 <RyanT5000> @hoogle foldi
23:00:35 <lambdabot> No matches found
23:00:40 <RyanT5000> what's foldi?
23:00:51 <satan> my own fold
23:00:55 <RyanT5000> ah
23:14:35 <Cale> satan: because I have a replacement for each of the constructors of the type
23:14:56 <Cale> you presented a type with three constructors, so I built a fold with three replacement parameters
23:15:21 <satan> oh, so thats the way to approach it
23:17:20 <thou> RyanT5000: not sure i understand what you're getting at.  do you have an example?  do you want to make a type class, so you could write:   yourFunc :: (TypesYourFuncCanHandle a) => a -> (a -> b) -> c
23:18:34 <thou> RyanT5000: and each instance of TypesYourFuncCanHandle would define certain operations needed by yourFunc?
23:18:55 <RyanT5000> ok so what i have is "Document" type
23:19:04 <RyanT5000> which stores text or whatever
23:19:27 <RyanT5000> along with citations
23:19:56 <RyanT5000> or, generically speaking, i have a type T which contains references of type r
23:20:01 <RyanT5000> r is an argument of T
23:20:21 <RyanT5000> (since the index of the references is external to T, and we don't know what type of reference it will want to use)
23:20:58 <RyanT5000> e.g.: one system might have Integer citations, one might have Library of Congress call  numbers, one might have a custom string
23:21:39 <RyanT5000> so this clearly needs to be an argument to T if T is to be general
23:22:16 <RyanT5000> now, T might at some point need to store *another* kind of reference, on behalf of the client
23:22:16 <dons> is it a [r] ?
23:22:28 <dons> can you paste the data decl?
23:22:39 <RyanT5000> no, i'm working in the abstract here
23:22:43 <dons> show me your types, and the algorithm with be clear
23:22:57 <RyanT5000> this is a pure data description issue
23:23:04 <thou> hmmm
23:23:18 <thou> RyanT5000: the description isn't coming through clearly, for me at least :-/
23:23:32 <RyanT5000> alright, i'll give it another shot
23:24:38 <satan> thanks Cale
23:24:39 <RyanT5000> let's say i have a type: data T r = T (Map String r)
23:24:46 <RyanT5000> and i write a bunch of stuff based on T
23:24:53 <Cale> satan: quite welcome :)
23:24:54 <RyanT5000> and then i realize i need to add another field
23:25:00 <thou> you might have (T String) or (T Int)  ---  you want (T a); if all types a must have something in common, you can make a type class, and then use types like:  CitationIndex a => T a -> Citation
23:25:02 <RyanT5000> which needs a new type variable
23:25:32 <RyanT5000> T doesn't care about r at all
23:25:44 <satan> since we're on the topic of custom datatypes, how would i define a functor for my own datattype?
23:25:45 <RyanT5000> it's only storing r's so that another party can then get them back out
23:25:54 <thou> ok
23:26:16 <RyanT5000> so now i decide i need to store another (perhaps related) kind of external reference
23:26:18 <RyanT5000> r'
23:26:18 <thou> satan: you mean make your data type an instance of Functor?
23:26:22 <RyanT5000> now i have to write T r r'
23:26:34 <RyanT5000> and i have  to go through and change a ton of code
23:26:46 <satan> thou: sure, if that's the way to say it
23:27:10 <RyanT5000> moreover, what if i had like 10 types, such that it was really difficult to pass them around to begin with?
23:27:33 <RyanT5000> T r1 r2 r3 r4 r5 r6 r7 r8 r9
23:27:53 <RyanT5000> is there any way you can actually write maintainable code when you need highly parameterizable types like that?
23:27:59 <satan> so fmap is a functor, but map is not, because...?
23:28:13 <thou> satan: you implement fmap for your type, and declare:  instance Functor YourDatatype where fmap = ...
23:28:13 <Cale> satan: the general idea is to apply the function to all the elements which are the type of the last parameter of your type constructor
23:28:36 <thou> satan: map only works on lists
23:28:50 <thou> satan: for List types, fmap = map
23:28:57 <satan> ahh ok
23:29:12 <RyanT5000> does anyone understand what i'm saying?
23:29:48 <RyanT5000> it's entirely possible that what i'm describing shouldn't come up if i were to use proper design methodologies, and i would love to hear what those methodologies are
23:29:54 <satan> so for my type data Pairlist = PL [(a,a)], a functor would apply the function to both a's
23:30:11 <thou> RyanT5000: it's late, and i'm not the sharpest tack in the box on a good day
23:30:38 <satan> fmap f = [(f a, f a)] ?
23:30:43 <satan> something like that?
23:30:46 <RyanT5000> np, thou
23:30:48 <weitzman> RyanT5000: I think I understand what you're saying, but I'm not familiar enough with Haskell to know the appropriate thing to do. In ML I think what you would want is a functor
23:30:50 <thou> RyanT5000: all i can think of right now is - have you looked at how the Text.HTML library is set up?
23:31:10 <RyanT5000> thou: i will; i see where it might have a simmilar problem
23:31:27 <thou> satan: map can be implemented in terms of fold, right?
23:31:41 <RyanT5000> weitzman: do you mean functor in the same way that it's meant in haskell? (do you know what it means in haskell?)
23:31:48 <thou> satan: since you've defined a fold for your type, just use that to implement fmapt
23:31:55 <thou> fmap
23:32:02 <weitzman> RyanT5000: No. A functor in sml is a function from a structure to a structure
23:32:09 <weitzman> RyanT5000: *Not* a type to a type
23:32:27 <RyanT5000> oh, well a functor in haskell is also from a structure to a structure
23:32:34 <RyanT5000> oh wait
23:32:38 <weitzman> RyanT5000: True, but it's just a n arbitrary typeclass
23:32:44 <satan> hmm i had a fold for the previous Int1 type, not this one
23:32:51 <RyanT5000> ok, i see what you're saying
23:32:59 <weitzman> RyanT5000: A functor is part of the fundamental type system of SML
23:33:08 <RyanT5000> huh
23:33:08 <dons> a functor is different in haskell
23:33:16 <dons> its the type class for mappable data types
23:33:18 <dons> ?type fmap
23:33:20 <lambdabot> forall (f :: * -> *) b a. (Functor f) => (a -> b) -> f a -> f b
23:33:22 <RyanT5000> right
23:33:22 <dons> ?instance Functor
23:33:23 <lambdabot> Maybe you meant: instances instances-importing
23:33:30 <dons> ?instances Functor
23:33:30 <lambdabot> ((->) r), Cont r, ContT r m, Either e, ErrorT e m, IO, Maybe, RWS r w s, RWST r w s m, Reader r, ReaderT r m, ST s, State s, StateT s m, Writer w, WriterT w m, []
23:33:48 <RyanT5000> what's a structure in sml? like a haskell "data"?
23:33:55 <dons> so if you know how to fold on a data sturcture, there's probably also a natural  'map' for that type. which means it would be an instance of Functor
23:34:03 <dons> RyanT5000: yeah.
23:34:16 <dons> or mixed with the module interface
23:34:23 <RyanT5000> so a functor is like a function in typespace?
23:34:23 <dons> see the modules == associated types papers
23:34:40 <dons> its a generalised map
23:34:41 <dons> ?type map
23:34:42 <lambdabot> forall b a. (a -> b) -> [a] -> [b]
23:34:44 <dons> ?type fmap
23:34:45 <lambdabot> forall (f :: * -> *) b a. (Functor f) => (a -> b) -> f a -> f b
23:34:46 <weitzman> It's like data, but with abstraction. You could change some stuff harmlessly if you write a reasonable signature accessing your structure
23:35:10 <RyanT5000> hm
23:35:44 <weitzman> A structure can define some functions and types, but the types can be forced to be abstract an unavailable to users
23:35:57 <RyanT5000> hm
23:36:13 <RyanT5000> i guess what i *really* want is for modules to take arguments
23:36:14 <dons> right. like a type class with associated types in haskell
23:36:23 <dons> defines an interface, some types, some maybe hidden types, and so on
23:36:43 <RyanT5000> hm
23:37:30 <dons> here's the correspondance, http://www.informatik.uni-freiburg.de/~wehr/diplom "ML Modules and Haskell Type Classes: A Constructive Comparison"
23:37:30 <weitzman> If typeclasses correspond to modules, than I think that's what you want
23:37:34 <lambdabot> Title: Stefan Wehr, http://tinyurl.com/yy774c
23:39:27 <RyanT5000> does SML enforce referential transparency?
23:40:02 <dons> it doesn't partition effects like haskell, its impure, so no.
23:40:21 <RyanT5000> how many pure languages are there?
23:40:33 <RyanT5000> i mean clearly there are more than just haskell
23:40:55 <RyanT5000> but are there any other viable ones?
23:41:01 <dons> a handful. its only been feasible since the invention of monads (or uniqueness types), which means only in the last 10 years or so have you seen any full scale languages.
23:41:01 <weitzman> Clean is the only other I know of
23:41:06 <dons> Clean being the most signficant
23:41:12 <weitzman> Is Erlang pure?
23:41:13 <dons> (besides haskell)
23:41:15 <dons> nope
23:41:54 <dons> epigram is pure, I think
23:41:56 <RyanT5000> how hard would it be to add arguments to modules?
23:42:22 <dons> Cayenne probably is too
23:43:11 <weitzman> RyanT5000: In SML?
23:43:17 <RyanT5000> in haskell
23:43:56 <RyanT5000> e.g.: add a keyword for the top-level context:
23:43:56 <RyanT5000> argument MyType :: * -> *
23:43:56 <RyanT5000> argument myValue :: Integer
23:44:31 <RyanT5000> import qualified Namespace(MyType=IO, myValue=5) as NsIO5
23:46:02 <RyanT5000> is that at all feasible?
23:46:56 <satan> can i ask a question on category theory?
23:47:19 <satan> maybe i should ask in #math heh
23:49:47 <vegai> the only questions that are shunned here are questions about questions ;)
23:50:52 <weitzman> vegai: I bet you would regret asking a Java question in here
23:52:36 <dons> vegai: i think higher order questions are ok though
23:52:44 <dons> so questions taking questoins as arguments, would be fine
23:52:50 <RyanT5000> wait a second; can i actually *write* GADTs?
23:52:57 <RyanT5000> a la the wiki page?
23:53:06 <RyanT5000> data Term x where K :: ...?
23:53:29 <dons> if you've got a ghc, yeah
23:53:58 <RyanT5000> oh man, i think that solves most of my problems, lol
23:54:11 <RyanT5000> now i just have to figure out how to use them effectively...
23:55:15 <vegai> hmm
23:55:50 <satan> i asked in #math, so let's see
23:56:06 <satan> i feel so dumb hanging out in these rooms, sheesh, i know next to nothing
23:56:27 <dons> category theory is fine here.
23:56:54 <satan> ok lemme copy and paste
23:56:55 <dons> satan: you should complain to your proferssors that they don't teach you any computer science... !
23:57:05 <satan> dons: damn straight !!!
23:57:16 <satan> Let C be a category with an initial object 0. For any object A, let fA: 0 -> A be the unique arrow from 0 to A. Prove that f: F -> G is a natural transformation for some pair of functors F and G. What are the functors F and G?
23:57:40 <satan> so as i see it, there is this kinda diagram, 0 -----------> A, and the arrow is called fA
23:58:28 <satan> but if f goes from F -> G, then 0 must be in F and A must be in G, well i mean, i know thats what i have to prove
