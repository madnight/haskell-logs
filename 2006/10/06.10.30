00:00:07 <skew> also, lots of boundary cases produce NaN, because I haven't thought carefully about the floating point math, so I'm adding and subtracting epsilon all over the place
00:00:17 <_frederik_> but if someone uses it and gives me feedback, i'm sure it will give me a better sense of direction
00:00:32 <_frederik_> adding and subtracting epsilon isn't something my library helps with :)
00:00:53 <_frederik_> i wish there were a way to abort as soon as NaN appears, actually
00:01:44 <skew> I've only found a few places that actuall specify equations, and they're all in terms of vectors and indices, so hopefully a proper vector library will make it easier to implement them, and they won't make so many NaNs
00:02:01 <andygill> Does anyone have an example of a small buggy Haskell program?
00:02:35 <int-e> buggy?
00:02:42 <_frederik_> andygill: head []
00:03:13 <andygill> Yes, a small program, with two inputs, one that works, one that does not work.
00:03:58 <lispy> andygill: i'm sorry, did you just ask for buggy haskell programs?  I'm not sure GHC accepts those :)
00:04:01 <skew> head, then
00:04:09 <lispy> i mean...if it type checks then it's not buggy right?
00:04:47 <andygill> ha ha.
00:05:00 <dons> andygill: you could take something from the testsuite/ and introduce some bugs?
00:05:15 <_frederik_> i think ghc should be called "the glaswegian haskell compiler". because it sounds cool
00:05:23 <andygill> head is a great example, but the problem is we do not know what calls head, which will be fixed in due time.
00:05:38 * _frederik_ goes to lecture
00:05:55 * _frederik_ goes to category theory lecture
00:06:05 <dons> andygill: fixed? we'll be able to trace it back to the caller?
00:06:17 <andygill> Yes, i could but then I'll know where the bug is :-)
00:06:25 <skew> lispy: you're thinking Epigram - it may not do what you wanted, but it sure does what the spec says.
00:07:00 <andygill> dons: yes, think backwards time travel
00:07:36 <lispy> skew: heh
00:07:38 <dons> mmm! so no more -prof tricks to find stack traces. this is planned for ghc+hpc?
00:09:00 <andygill> yes, in December. -fhpc-trace.
00:09:20 <dons> andygill++  -- great stuff!
00:10:29 <andygill> But I'm still looking for a buggy program.
00:11:10 <dons> perhaps ask on haskell-cafe@haskell.org? i'm sure there are some undergrads with buggy assignments looking for help.. :)
00:11:26 <dons> (seriously, newbie code might be good for this)
00:12:13 <andygill> dons: yes, I know. I was just fishing for quick fodder.
00:17:51 <lispy> am i rude?
00:18:01 <araujo> yes
00:18:06 <int-e> occasionally.
00:18:10 <lispy> i find that many places on freenode i'm unwelcome...starting to think it's me
00:18:19 <lispy> ah, okay :)
00:18:23 <araujo> :-}
00:18:28 * lispy notes sanity check worked
00:18:42 <dons> lispy: really? where aren't you welcome?
00:19:02 <lispy> i was just talking to people in ##mac and they seemed really annoyed with me
00:19:32 <lispy> i was only there to get help with itunes and then got sucked into a conversation about sun
00:19:38 <lispy> i think that was my mistake
00:20:17 <lispy> but, more to the point, i've had this experience in #lisp, #ocaml, #gentoo, #java and now ##mac
00:20:51 <dons> don't go off topic, perhaps?
00:21:25 <lispy> heh
00:21:34 <lispy> when would i do that? ;)
00:21:38 * lispy takes the hint
00:26:03 <astrolabe> Maybe you should change your name to ocamly, or whatever is appropriate for the channel.
00:27:59 <beelsebob> lispy: what did you want to know about iTunes?
00:28:47 <lispy> beelsebob: i'm having severe performance issues with the latest version
00:29:00 <beelsebob> hmm? What're they?
00:29:22 <beelsebob> as in, it won't hold onto them?
00:29:29 <beelsebob> or you can't set them to what you want to
00:30:18 <lispy> beelsebob: it freezes a lot and sometimes seems frozen completely when i start it (and i frequently force-quit)
00:30:24 <lispy> beelsebob: but it's not really #haskell :)
00:30:35 <beelsebob> hehe, true dat
00:31:09 <beelsebob> most likely solution that does require resetting all your preferrences - delet ~/Library/Preferences/com.apple.iTunes.plist
00:33:15 <astrolabe> Hi beelsebob
00:33:21 <beelsebob> lo astrolabe
00:33:25 <astrolabe> I think 1e12 is legal haskell
00:33:37 <astrolabe> I looked in the report
00:33:48 <dons> > 1e12
00:33:49 <lambdabot>  1.0e12
00:34:09 <beelsebob> dons: the discussion was not about whether interpretters interpretted it, it was whether it was strictly legal
00:34:14 <beelsebob> hang on two mins
00:34:35 <dons> ok :) the above was compiled, with -98, btw :)
00:34:55 <dons> oh, also, nhc98, the compiler, is written in Haskell, isn't it?
00:35:05 <dons> (as yhc is?)
00:35:31 <beelsebob> yes
00:35:39 <emu> lispy: you could go for "hascal" as in "that hascally habit"
00:35:52 <beelsebob> astrolabe: ah, the spec changed... here's malcolms response on the topic...
00:35:59 <beelsebob> I suspect this was an unnoticed change in the Haskell Report spec. Originally I think the exponent form was allowed only if there was a decimal point before the 'e'.  I see this is no longer the case. Yes, this is likely to affect the hpc parser as well.
00:36:10 <lispy> emu: nice
00:36:35 <astrolabe> beelsebob:thanks
00:36:55 <lispy> so 1e12 shouldn't be allowed but 1.e12 should?
00:37:21 <beelsebob> in the original spec... 1e12 was an identifier, 1.e12 was a parse error, and 1.0e12 was a number
00:37:24 <pejo> andygill, (late aura) any more verbose information on the time travel?
00:37:46 <beelsebob> in the current spec, both first and last are numbers
00:38:16 <astrolabe> lispy: should be 'decimal.decimal[exponent]' or 'decimal.exponent'
00:38:29 <astrolabe> er
00:38:33 <astrolabe> lispy: should be 'decimal.decimal[exponent]' or 'decimal exponent'
00:39:10 <beelsebob> don't you meant '[integer].[integer]e[exponent]
00:39:18 <astrolabe> and a decimal should have at least one digit
00:39:35 <astrolabe> beelsebob: not in my report
00:39:38 <beelsebob> oh?
00:39:50 * astrolabe checks web version
00:39:53 <beelsebob> so it can be 1.963.1.649e8965
00:39:56 <beelsebob> ?
00:40:03 <beelsebob> or is decimal defined as an integer
00:40:14 <lispy> decimal probably means one ore more digit
00:40:27 <astrolabe> decimal  ->  digit{digit}
00:40:34 <beelsebob> kk
00:41:43 <ion-cannon> hm
00:41:51 <ion-cannon> hows everyonee?
00:42:04 <astrolabe> got to go to work :(
00:42:15 <beelsebob> got to go to work :(
00:42:28 <earthy> <aol>me too</aol>
00:42:38 <beelsebob> earthy: you spoiled it!
00:42:43 <beelsebob> :'(
00:42:43 <earthy> then again, work includes hacking haskell, so it's not too bad. :)
00:42:50 <beelsebob> heh
00:43:01 <beelsebob> today will almost entirely consist of hacking a paper :(
00:49:11 <lispy> "Because the benefits of developing reusable components do not immediately improve a project, there  is usually little incentive for programmers to strive toward reusability."  <-- now, I say, over generalizing is bad, but otherwise i'm not sure i agreed with this
00:49:16 <ion-cannon> are web apps doomed to be database drivers?
00:49:50 <dons> ok. that's it. same old story.
00:49:51 --- mode: ChanServ set +o dons
00:49:55 --- kick: ion-cannon was kicked by dons (dons)
00:49:59 --- mode: ChanServ set -o dons
00:50:19 <dons> that was our famous protontorpedo, who apparenly just can't help himself
00:50:28 <lispy> yeah, i took all my will power to ignore that :)
00:50:47 <bringert> wtf was that?
00:50:57 <dons> ?protontorpedo
00:50:58 <lambdabot> so how do you use haskell tools to build large programs?
00:51:26 <dons> that guy.
00:51:34 * bringert was in the kitchen, and heard the computer making odd noises.
00:51:41 <lispy> heh
00:51:42 <dons> heh
00:51:57 <bringert> ah, maybe that's the sound my client makes when people are kicked
00:52:03 <bringert> this channel is to nice
00:52:09 <bringert> I haven't heard it before
00:52:12 <lispy> this channel is very nice
00:52:20 <bringert> s/too/to/
00:52:26 <dons> here's a transcript of his previous work, http://www.cse.unsw.edu.au/~dons/code/lambdabot/Plugin/Quote/Text.hs (bottom of page)
00:52:28 <lambdabot> http://tinyurl.com/mkqad
00:52:45 <bringert> did anyone get around to implementing s/x/y/ replacements in lambdabot btw?
00:53:06 <lispy> bringert: i saw them in another bot and personally i think they get annoying :(
00:53:46 <lispy> otoh, in the spirit of lambdabot it could be a fun plugin :)
00:54:58 <dons> oh, let me clean up the ban list a bit
00:55:01 --- mode: ChanServ set +o dons
00:55:09 --- mode: dons set -b *!*=kliaejrg@201.231.232.*
00:55:32 --- mode: dons set +b *!*n=tits@*.lsanca.dsl-w.verizon.net
00:55:36 --- mode: ChanServ set -o dons
00:55:53 <dons> so that banned protontorpedo's new ip address, and unbanned pegazus
00:57:34 <dons> ?users
00:57:34 <lambdabot> Maximum users seen in #haskell: 256, currently: 226 (88.3%), active: 24 (10.6%)
01:00:16 <lispy> i use haskell in industry sometimes, but i don't know that i have much to say about it
01:02:26 <dons> doh, i missed him a month ago, 06.09.17:11:50:44 <bublle-war> why snt there  a  web browser in haskell?
01:02:50 <dons> what a weird guy, trolling fp channels for more than 18 months, with the same questions. so strange
01:03:07 <dons> yay for logs
01:03:54 <lispy> i'm convinced a lot of people like that have mental disorders
01:04:21 <dons> yeah, I suppose so.
01:11:12 <bringert> maybe he's a bot?
01:11:40 <bringert> @vixen are you a troll?
01:11:41 <lambdabot> i truely am
01:11:47 <bringert> aha!
01:11:54 <lispy> andygill: if i generate a function definiton at compile time via TH how would hpc deal with that? (the time travel thing)
01:12:07 <lispy> ion-cannon == vixen's little brother!
01:12:41 <lispy> andygill: just a thought of something that might be worth testingif your testing things
01:13:41 <lispy> dons: he's also very emotionless for someone asking questions like that
01:13:49 <lispy> i guess that re-enforces the script idea
01:14:14 <dons> hmm, yeah. strange.
01:16:35 <genneth> who's the packager for GHC in fedora?
01:18:00 <lispy> hmm...i think igloo does the debian package
01:18:14 <genneth> the fedora bugzilla says Jens Peterson
01:18:16 <lispy> genneth: can you use yum to look at the package info?
01:18:19 <genneth> @redhat
01:18:20 <lambdabot> Unknown command, try @list
01:18:29 <lispy> okay, i don't know that person
01:18:44 * genneth wants ghc 6.6
01:18:58 * lispy sympathizes
01:19:07 <genneth> and is there a reason that we've slipped so far on the shootout page?
01:19:16 * dolio just switched from Ubuntu to Debian for 6.6. :)
01:19:28 <genneth> is it just everyone else pulling out all stops to stop us beating them silly :p
01:19:36 <lispy> i can't upgrade to 6.6 until hs-plugins is upgraded
01:19:45 <araujo> ghc6.6 is an old pkg in gentoo
01:19:49 * araujo giggles
01:19:50 <dons> genneth: oh, we've not done anything in the last 10 months, waiting on bytestring and 6.6
01:20:08 <dons> once ghc 6.6 is on the shootout box, we can rewrite, and climb back up
01:20:18 * genneth cackles
01:20:18 <bringert> is anyone working on a fast hashtable btw?
01:20:27 <genneth> we can't let the smalltalk people be faster!
01:20:36 <bringert> wasn't that one of the bottlenecks?
01:20:56 <dons> some speedups went in to Data.HashTable a couple of months ago
01:20:59 <lispy> bringert: i think ThreeQ was considering rewriting the current hashtable to use ST instead of IO, but i don't remember any mention of performance
01:21:43 <lispy> imo, it seems a bit off that a hashtable requires IO
01:22:01 <bringert> yeah
01:22:58 * lispy thinks Data.HashTable is secretly using a database
01:24:09 <dons> there's HsJudy too, now.
01:28:34 <lispy> dons: what are you working on for your thesis?
01:28:48 <lispy> (assuming it's not top secret)
01:29:42 <pzpz> could an emacs user enlighten me with the method for opening multiple files via C x f ? (regexps won't work)
01:30:07 <lispy> pzpz: shell globs should work
01:30:27 <lispy> pzpz: i use *.hs fairly often myself
01:31:13 <pzpz> any way to do it from within emacs?
01:31:28 <pzpz> minus the method of using a shell from within emacs?
01:31:58 <pzpz> b
01:32:05 <TSC> Maybe dired can do it
01:32:24 <lispy> pzpz: when it prompts you in the mini-buffer (after pressing C-x f) you should be able to type shell globs
01:33:07 <pzpz> you're saying, C-x f /home/foo/*.c RET should work?
01:33:59 <lispy> pzpz: yeah
01:34:21 * lispy does a test to just be sure he's not crazy
01:34:37 <xerox-> dcoutts, dcoutts_, I'll be leaving shortly from west kensington to victoria and then try to catch a bus
01:34:56 <lispy> pzpz: just worked here with .tex files
01:35:17 <pzpz> lispy: either I'm retarded, or my version differs.
01:35:55 <pzpz> i'm so angry. it works _now_
01:36:04 <pzpz> after ~1 week of annoyment.
01:37:35 <lispy> pzpz: perhaps you tried actual regexp before, that could cause it to fail
01:39:00 <pzpz> simple C-x f /foo/foo/*.c, would result in no matches, when obviously there were.
01:54:59 <jmmv> hi
01:55:49 <skew> hello
01:55:50 <mnislaih> xerox: I just saw you were visiting London last Friday :)
01:56:03 <mnislaih> how was it ?
02:25:39 <musasabi> What was the way to get a String from a HaXml AttValue (attribute value) ?
02:26:09 <pzpz> if i have a method insert, f :: Tree -> Int -> Tree, how can i insert a list of elements easily when the parameter order isn't optimal?
02:26:15 <pzpz> ie, with map
02:26:34 <norpan> (flip insert)
02:26:46 <pzpz> ninja, ty.
02:28:23 <norpan> foldr (flip insert) origTree listOfElements
02:28:51 <norpan> or something like that
02:29:16 <araujo> morning!
02:29:21 * araujo hugs id
02:32:21 <lambdabot> hugs `id` araujo
02:40:07 <dons> Cale: ah, this makes sense after your explanation yesterday :) http://www.flickr.com/photos/sigsegv/40492213/
02:40:09 <lambdabot> Title: Cthulhu License Plate on Flickr - Photo Sharing!, http://tinyurl.com/ydqoww
02:40:59 <Cale> :)
02:41:09 <skew> kids first!
02:44:55 <araujo> hahaha
02:45:04 <araujo> lambdabot++
02:46:36 <Bobstopper> Seen this one? http://www.geocities.com/tribhis/cthulhutract.html
02:46:38 <lambdabot> Title: CthulhuMirror, http://tinyurl.com/a6z7f
02:55:29 <musasabi> What is the correct thing to call instead of "authority" which is deprecated in Network.URI?
03:16:33 <mnislaih> anyone happens to have an invitation for Oink to spare?
03:26:02 <araujo> http://www.haskell.org/pipermail/haskell-i18n/2004-February/000127.html
03:26:04 <lambdabot> Title: [Haskell-i18n] Code for conversion to and from UTF8, http://tinyurl.com/yj7wnu
03:26:21 * araujo thinks we need to kind of stuff inside the ghc libs
03:26:26 <dcoutts> someone needs to rewrite DrIFT to use the ghc api and hs-plugins for extensible deriving.
03:27:53 <_matthew_> @seen dons
03:27:53 <lambdabot> dons is in #ghc, #haskell-overflow and #haskell. I last heard dons speak 47m 46s ago.
03:28:15 <_matthew_> has anyone made hs-plugins work in ghc6.6 yet?
03:30:00 <dons> _matthew_: doesn't work with 6.6 yet. but you're about the 5th person who's asked, so i better do it
03:30:20 * araujo thought the -rc worked with 6.6
03:31:16 <_matthew_> dons: thanks, was struggling to work out why dbdirect wasn't working the other day and then noticed apt-get had pushed out 6.6...
03:32:13 <dcoutts> araujo, it builds but doesn't work.
03:33:53 <dons> yeah, the .hi parser is broken. i'll try to get it done soon
03:34:07 <_matthew_> thanks
03:38:32 <SamB_XP> oh, hmm, my latest email is incoherent ;-)
03:38:48 <SamB_XP> I forgot what I said at the beginning by the time I got to the end ;-)
03:42:49 <dons> got to watch that...
04:09:34 <Sara|Uni> hi there, lost again...
04:09:47 <Sara|Uni> Am trying to get some kind of debugging output (intermediate steps)
04:09:58 <Sara|Uni> but really I don't know how to
04:10:17 <Sara|Uni> If I try to print stuff I have to return IO(...) and then I can't do recursion
04:10:22 <Sara|Uni> can someone help?
04:10:34 <Sara|Uni> (using hugs)
04:11:24 <musasabi> Sara|Uni: try Debug.Trace ?
04:11:35 <Sara|Uni> looked at that
04:11:44 <Sara|Uni> but thats with IO too, isn't it?
04:14:02 <musasabi> Sara|Uni: no, that is pure.
04:14:08 <musasabi> @type Debug.Trace.trace
04:14:10 <lambdabot> forall a. String -> a -> a
04:14:14 <Sara|Uni> so how do I use it?
04:14:22 <Sara|Uni> Main> trace (1+2)
04:14:28 <Sara|Uni> ERROR - Cannot infer instance
04:14:40 <musasabi> Sara|Uni: trace "my message" (1+2)
04:14:53 <Sara|Uni> aaaah
04:14:54 <Sara|Uni> ok
04:14:56 <Sara|Uni> thanks :)
04:15:51 <Sara|Uni> stupid me
04:15:55 <Sara|Uni> works great
04:16:02 <Sara|Uni> thanks again
04:16:04 <Sara|Uni> byebye
04:22:02 <dons> ah well. good. she's got bugs now. progress!
04:22:26 <Igloo> dons: What's the hs-plugins + 6.6 story?
04:22:49 <dons> .hi parser is broken and AltData.Typeable can be junked. Est. time: 1 day.
04:23:04 <dons> ETA till that 1 day, hmm, next weekend I guess?
04:23:20 <dons> since you're now #6 who's asked..
04:24:43 <Igloo> dons: Do you know if plugs needs it?
04:24:47 <Igloo> s/plugs/pugs/
04:25:00 <dons> pugs uses hs-plugins for Inline::Haskell, I think.
04:25:06 <dons> I'm not sure how widely used that is though
04:25:11 <Igloo> Ah, OK
04:25:16 <SamB> how come they haven't gone crazy?
04:25:30 <dons> SamB: they were already crazy to start with
04:25:50 <dons> 'let's implement perl6 in haskell'... ;)
04:28:22 * dons =>>= sleep
04:28:32 <dons> (bleeding edge!)
04:28:56 <SamB> I'll say!
04:30:28 * mux gave his letter of resignation today
04:32:10 <profmakx> resignation from what?
04:32:13 <mux> job
04:32:30 <mux> I suppose I should have spelled that as "his resignation letter"
04:32:53 <profmakx> whatever
04:32:54 <profmakx> why that?
04:33:11 <mux> well I've been offered a much more interesting job
04:33:26 <profmakx> ah
04:33:52 <profmakx> what have you done up until now and what will you do then?
04:34:32 <mux> I'm mostly a C/Unix developer, but was working as a systems administrator these days, mostly because I had to find a job real quick and couldn't afford to say no
04:34:35 <mux> heh
04:34:54 <mux> so now I got offered a more development-oriented job, with bits of system administration, with all-FreeBSD servers
04:34:59 <mux> which suits me just fine :-)
04:41:00 <profmakx> ;)
04:41:21 <profmakx> yeah i do admin tasks all the time. Time to have enough money to pay someone for doing that for me
04:44:12 * araujo thinks he finishes now
04:45:28 * dcoutts is off to the bus station to meet xerox 
04:45:34 <SamB> hmm. are there quickcheck properties for Data.Bits?
04:58:44 <mux> profmakx: admining is cool when you've got everything sorted out and you just need to wait for alert e-mails to arrive :-)
06:12:08 <therp> anyone familiar with alex (haskell lexer generator) here? I want to tokenize string of the form "foobar" correctly that might contain escapes like "He \"foobar\""
06:12:25 <therp> ah that should have been "He said: \"foobar\"" :)
06:20:45 <Igloo> Has anyone got code for grabbing stdout of running a process?
06:20:53 <roconnor> wow, my quickcheck patch was accepted within 90 minutes
06:21:19 <ikegami--> excellent
06:21:56 <roconnor> too bad my Data.Either patch is being held in limbo
06:22:07 <roconnor> Message body is too big: 44242 bytes with a limit of 40 KB
06:22:20 <flux__> igloo, there is no standard method, but for linux you can find such tools at freshmeat.net
06:22:30 <flux__> igloo, can't recall the name of the tool, though, but it does exist
06:22:55 <Igloo> flux__: Err, I want Haskell code
06:23:10 * Igloo has something that appears to works now, but I'm not convinced of its safety
06:23:31 <flux__> igloo, uh, grab stdout of some other, already running, process?
06:23:39 <Igloo> No, one I run myself
06:23:58 <flux__> ok, well I interpreted "running process" a bit different :)
06:24:10 <resiak> You misread "running a process" as "a running process", I'm guessing.
06:24:22 <flux__> hm, yes
06:25:18 <flux__> well, I don't have an answer for that, but I'm a haskell neophyte anyway, I wouldn't expect it to be very difficult though ;) (not more so than in ocaml or c in any case)
06:26:33 <rnz`WORK> :)
06:49:59 <bringert> Igloo: like runInteractiveProcess?
06:51:17 <Igloo> bringert: but is just hGetContents'ing stdout/stderr before calling waitForProcess sufficient to (a) get all the output and (b) no block?
06:51:36 <Igloo> Do I need to forkIO or use -threaded?
06:52:34 <bringert> by "not block", do you mean that the hGetContents call blocks, or that you block when reading the string?
06:52:56 <bringert> if the former, I don't think hGetContents should ever block, for the latter it of course blocks
06:53:06 <Igloo> I mean something like the process's stdout buffer fills up, but GHC doesn't consume any of it
06:53:18 <bringert> ah, yes, that will happen
06:53:27 <bringert> I'm pretty sure
06:53:45 <bringert> you will need a thread to do the reading, or to do waitForProcess
06:53:54 <Igloo> I think I'll be fine if I use the threaded RTS, but I'm not sure either. Which is why I was hoping someone else would hav written the library already  :-)
06:54:19 <bringert> I think someone might have
06:56:00 <bringert> in my CGI module for HWS, I used hGetContents and do waitForProcess in a separate thread, and it seems to work, even without -threaded (for some reason)
06:56:03 <bringert> http://www.cs.chalmers.se/~bringert/darcs/hws-cgi/src/Module/CGI.hs
06:56:05 <lambdabot> http://tinyurl.com/y93vu6
06:56:53 * Igloo has done it all in one thread for now. I'll ask SM if that's safe, and if not do the MVar dance
06:57:00 <bringert> Igloo: maybe this: http://darcs.complete.org/missingh/MissingH/Cmd.hs
06:57:03 <lambdabot> http://tinyurl.com/y4uc7q
06:57:21 <alar> what's the difference between ghci's and ghc's make processes?
06:57:23 <bringert> Igloo: how could it be safe to use only one thread if the buffer fills up?
06:57:45 <alar> I can evaluate main from GHCi but I can't compile program with ghc
06:57:59 <Igloo> bringert: The RTS should start a new OS thread for the blocking C call for waitForProcess, I think
06:58:02 <bringert> Igloo: do you read the whole string from hGetContents before calling waitForProcess?
06:58:53 <Igloo> Hmm, maybe I need to fork a process to demand last out and last err, actually
06:59:11 <Igloo> s/process/Haskell thread/
06:59:22 <bringert> yeah, either that, or put waitForProcess in a forkIO
06:59:52 <Igloo> waitForProcess in a forkIO won't help, as the main program can only be demanding one of stdout and stderr, and the other can still fill up
07:00:08 <bringert> ah, yes
07:00:12 <Igloo> Also, forkIOing last out/err means I don't have to worry about passing things back in MVars
07:00:56 <bringert> I only really use stdout, so what I did was to forkIO another thread that just copies stderr to the real stderr
07:01:28 <bringert> by "things", do you mean exit status?
07:01:35 <Igloo> Yup
07:01:39 <bringert> ah, yes
07:34:49 <cjeris> @karma+ sigfpe_ -- pretty monad pictures
07:34:49 <lambdabot> sigfpe_'s karma raised to 1.
07:41:48 * shapr yawns
07:41:54 <shapr> Good morning #haskell!
07:42:01 <Botje> hello!
07:42:46 <araujo> shapr!!
07:42:51 <shapr> hola araujo
07:42:55 <araujo> hola shapr !
07:42:57 <araujo> :-)
07:43:11 <ValarQ> hej formarn :)
07:49:51 <camster> I'm trying to write a toy web application in Haskell with FastCGI and HDBC. Handling prepared SQL statements is confusing me. In an imperative language I'd prepare a bunch of queries and stuff the statements into a global hashtable on startup so I could reference them later. Is there an obvious Haskell-like way of going about this?
07:50:56 <_matthew_> um, not that I know of
07:51:10 <_matthew_> the haskelldb + hdbc stuff works very differently to standard sql
07:51:40 <camster> My attempts so far involve an extremely long "do" action which prepares all the statements one by one and the passes references to them to functions which use them. It's not particularly pretty.
07:51:42 <_matthew_> the logs in my postgres install suggest that the sql is being generated and prepared for each query
07:52:45 <camster> Really? The documentation for the hdbc stuff has a function DB.prepare :: DB.Connection -> String -> IO DB.Statement
07:52:46 <_matthew_> mmm. well I'm not sure you could make it pretty. If you are using prepared statements then you don't have a great deal of choice other than to prepare them first and then pass them around
07:53:08 <_matthew_> camster: I'm using it via haskelldb, I'm not using hdbc directly
07:53:42 <_matthew_> camster: you could probably make it lazy so that it only prepares a statement when it knows it's going to use it for something...
07:54:33 <camster> _matthew_: I see. I'm pretty sure the low level hdbc stuff does prepared statements. It's just that explicitly passing them about all over the place just gets unmanageable very quickly.
07:54:44 <shapr> Igloo: Any more thoughts on darcs-as-library?
07:54:59 <Igloo> shapr: I need one.
07:54:59 <shapr> hej ValarQ
07:55:14 <shapr> A thought? or a library that exposes darcs ops?
07:55:17 <shapr> I need that library also.
07:55:21 <Igloo> A library
07:55:26 <shapr> That's the only part of FLM that's missing.
07:55:32 <Igloo> I have enough thoughts already
07:55:35 <shapr> heh
07:55:58 <Patterner> I would try hdbc, but I cannot download it (the website is down for weeks now...)
07:56:20 <camster> Patterner: I managed to download it this morning.
07:57:08 <_matthew_> camster: chuck them in a map or something no?
07:57:26 <_matthew_> err, that might be dictionary or list-of-tuples in haskell speak...
07:57:56 <Patterner> I still get "Connection refused."
07:58:29 <camster> Patterner: http://gopher.quux.org:70/devel/hdbc
07:58:30 <lambdabot> Title: Gopher: hdbc
07:59:02 <Patterner> doesn't work here
07:59:18 * Patterner is probably in the wrong country...
07:59:22 <camster> Patterner: are you behind a firewall which is blocking port 70?
07:59:47 <Patterner> nope
08:00:00 <Philippa> _matthew_: there's a map type in the GHC libs - though a lot of people use association lists when they're feeling lazy
08:00:08 <shapr> Igloo: if you hear more about darcs-as-library, I'm interested and need it.
08:00:28 <camster> _matthew_: I suppose that makes sense. Just pass a single hashtale around and accept that I'll get runtime errors if I forget to prepare a statement. I suppose it's workable though.
08:01:21 <_matthew_> camster: if you use a record then you could get compile-time errors if you use something you've not prepared
08:02:06 <_matthew_> (/defined)
08:02:08 <camster> Is it possible to come up with an IORef hack which has the logic: if it's the first call, prepare the statement; if it's the 2nd call then return the previous value?
08:04:01 <musasabi> camster: why not simply use unsafeInterleaveIO? or if you need more control: data Cached a = Cached (MVar (Maybe a)) (IO a)
08:04:54 <fons> hi all
08:06:41 <fons> I have licensing question, ... I'm porting a header file to haskell which is LGPL, should I make my haskell module LGPL as well?
08:10:25 <ChilliX> fons: Do you mean that you are making a Haskell binding to a C library that is LGPL?
08:10:50 <ChilliX> fons: If so, yes, I would recommend to use the same license for the Haskell binding.
08:11:37 <camster> musasbi: Yes, looks like I could use an MVar to store the cached value. Thanks.
08:12:59 <fons> ChilliX, it's not a library, it's the header file to which a plugin ahs to conform to
08:15:03 <fons> ChilliX, how about the copyright? can I set my own one?
08:15:05 <ChilliX> And you want to write such plugins in Haskell?
08:15:18 <ChilliX> If you write the code, you own the copyright.
08:15:48 <ChilliX> If you include code of others, the authors of that other code are joint copyright holders.
08:16:49 <musasabi> LGPL + Haskell can be problematic.
08:16:52 <Philippa> ChilliX: that's not quite how it works in the UK and AFAIK the US, though it's close enough (they have the right to refuse to let you do stuff)
08:16:56 <ChilliX> fons: Usually, I think, when making Haskell bindings to C things, it is good to go with the license of the original.
08:17:03 <Igloo> I don't think you need to use the licence of the .h file, nor do you need to attribute copyright to its authors
08:17:23 <Igloo> And I'd agree with musasabi that avoiding LGPL with Haskell code is a good idea because of the cross-module inlining issues
08:17:39 <ChilliX> Igloo: no, no copyright attribution to the authors of the .h file, but if Haskell code from other people gets into the binding
08:17:40 <Philippa> right. It may be considered that your code's a derivative work, but that's not the same thing
08:18:10 <Igloo> ChilliX: Right, but I don't think that's what fons is doing
08:18:22 <ChilliX> Igloo, well, with .h its the same, they are also included.
08:18:54 <Igloo> I think that with an LGPL'd .h file it's quite clear that the authors did not intend for things using it to be considered derived works
08:19:10 <ChilliX> same with a Haskell module
08:19:22 <fons> ChilliX, I'm not using any binary code, just the header specification
08:19:45 <ChilliX> fons: if you write all the Haskell code, the Haskell code will only have your copyright
08:19:55 <ChilliX> (unless you have an employer that claims it ;)
08:21:33 <fons> ok :)
08:21:34 <ChilliX> Igloo, besides it would be strange (which I agree would not be suprising with law...) if compiling with -Onot or -O makes difference in the license of the program using a library (or compiling with nhc vs ghc for that matter)
08:23:49 <Igloo> ChilliX: Things like bison have exceptions that generated code can be linked to without affecting the licence, right? I am not convinced that the same doesn't apply to cross-module-inlined code
08:24:54 <ChilliX> Igloo, afaik the exceptions for bison and similar is because they actually verbatim copy in some library code templates.
08:25:10 <ChilliX> So, its the source code rewriting that's excepted.
08:25:48 <Igloo> ChilliX: You might be right, I just don't know
09:19:53 <lennart> howdy!
09:24:20 <kosmikus> lennart: hi. is there a chance that you or gabriele or howard or anyone else would write something about Credit Suisse for the HCAR?
09:24:32 <glguy> w√∏rd
09:24:48 <CosmicRay> kosmikus: is there a HCAR part for how companies are using Haskell?
09:24:54 <kosmikus> CosmicRay: yes
09:25:00 <CosmicRay> ah.
09:25:04 <CosmicRay> I guess I should submit something then.
09:25:11 <kosmikus> CosmicRay: yes, please.
09:25:34 * CosmicRay bets that we will be the only lawn mower manufacturer in the HCAR ;-)
09:25:39 <kosmikus> lennart: an entry for Djinn would also be cool :)
09:26:10 <kosmikus> CosmicRay: in this edition, maybe, but once the word gets out ... ;)
09:26:18 <CosmicRay> heh
09:26:52 <Maddas> Credit Suisse uses Haskell? Cool :-)
09:29:42 <SimonRC> Ah, a great description:  "[Haskell] has been known to cause people's heads [to] explode.  In the ideal world, more people would have less-explosive heads"
09:30:22 <Patterner> Isn't Credit Suisse the evil bank of Alias..?
09:32:12 <lennart> kosmikus: I'll check with howard if it's possible (too many lawyers)
09:32:13 <Maddas> Patterner: haha. I think that's some other bank.
09:32:30 <kosmikus> Patterner: define "evil". but I think that was Credit Dauphine.
09:32:35 <Maddas> Ah, exactly.
09:32:47 <Patterner> my french is non-existant...
09:32:59 <lennart> kosmikus: Djinn I could write about, but is it worth it? :)
09:33:07 <kosmikus> lennart: great.
09:33:17 <kosmikus> lennart: yes, it's always worth it :)
09:33:23 <lennart> Patterner: there's an evil bank in Alias?
09:34:09 <kosmikus> the bank itself isn't evil.
09:34:15 <Patterner> it's been a while...
09:34:20 <Patterner> memory is foggy
09:36:55 <lennart> I don't think Credit Suisse is evil.  Not any more than other investment banks.
09:38:57 <Patterner> I take everything back.
09:40:16 <lennart> oh, i think investment banking itself is evil. :)  but they pay well ;)
10:28:57 <audreyt> yay, Pugs is coming to POPL07 as the invited opening talk :)
10:29:15 <mwc> congrats
10:29:58 * audreyt prepares for more Haskell advocacy. not that that audience needs convincing of Hs's superiority...
10:30:21 <Botje> "silly language, you can't even do assignment!" :P
10:32:05 <audreyt> aww, we have plenty of strudents here on #haskell doing thriw assignment...
10:32:18 <audreyt> *their
10:33:06 <mwc> Aye, last year I did my mod/sim course with it. Haskell kick's matlab's ass for numerical simulation... not that that's any sort of achievement or anything :)
10:33:24 <mwc> Next semester I'm gonna try to do my finite element course in Haskell
10:34:52 <astrolabe> mwc: I think that depends on the application
10:35:07 <mwc> astrolabe, code density, performance, memory usage...
10:35:36 <astrolabe> I hat matlab, but it is very nice to have mathematical functions all ready for you, and graph plotting, and especially debugging.
10:35:50 <mwc> meh, I suppose. I should put together a nice graph library for gtk2hs
10:36:08 <aleator> Gnuplot helps there as well.
10:36:09 <astrolabe> I doubt that haskell can compete with Matlabs matrix routines for speed ( which are cribed from lapack or somewhere).
10:36:30 <mwc> aleator, that's basically what I did... run my program, out put to tab-separated values, and then gnuplot it
10:36:52 <aleator> mwc: Me too. For several mathy things.
10:36:57 <lispy> someone is/was working on a graphing library in haskell, iirc it used cairo with gtk2hs
10:37:10 <mwc> astrolabe, again, probably true, but I haven't seen anybody actually write their programs as matrix operations.
10:37:25 <aleator> astrolabe: There is GSLHaskell which might give kick for matrix operations.
10:37:26 <psnl> anyone here used FAD?
10:37:56 <mwc> even the guys working on optical simulations pretty well used matrices as arrays and then ran their operations in for-loops
10:38:29 <astrolabe> I do signal processing, and sometimes you just need a good svd or something.
10:38:39 * mwc nods.
10:39:09 <astrolabe> aleator: thanks for the GSL thing.
10:39:43 <aleator> astrolabe: No problem. Been using it for pca and it seems rather nice little matrix lib.
10:42:13 <mwc> aleator, it works well for PCA?
10:42:38 <mwc> I mean, it works well for PCA on how high dimesnionality of data?
10:43:01 <aleator> mwc: For my purposes yeah. It's been a while but I did feed it small images.
10:43:19 <aleator> Something under 100≤ pixels in size..
10:43:48 <mwc> I ask because I'm doing a thesis project with Kohonen maps and wanted to seed the initial layout with vectors sampled from the PCA's primary components.
10:44:10 <mwc> I was looking at 500 or so dimensionality input vectors.
10:44:34 <aleator> Ooh. SOM. Neat. I would think that might work. Depending on number of vectors.
10:44:39 <aleator> Or not..
10:44:45 <aleator> Yes. Does.
10:44:57 <mwc> It speeds convergence anyways
10:45:26 <aleator> Mmmhm. What are you mapping?
10:45:54 <mwc> My project is to try to combine genetic modelling and SOM to come up with The Next Big Thing.
10:46:36 <mwc> so I'm more or less trying to optimize the SOM's behavioural parameters for the dataset
10:47:09 <aleator> Ah. Interesting. I have been looking into SOM for textural analysis. Half heartedly though.
10:47:51 <mwc> textural analysis?
10:48:07 <astrolabe> analysis of text or textures?
10:48:14 <aleator> Oh. Texture.
10:48:14 <mwc> I'm mostly familiar with it as a dimensionality reduction technique
10:48:51 <aleator> Well. The basic idea is, get features from your images, make map of them and then when you get a new sample, look where in the map it is.
10:49:50 <mwc> Ah, makes sense
10:50:08 <mwc> sounds like machine vision work
10:50:43 <aleator> Or you can map the training set and then give the map to the expert so he can classify the training data for some machine learning thingy.
10:50:52 <aleator> They even patented that..
10:51:12 <aleator> Yeah. I'm doing "most dull" machine vision work.
10:51:26 <aleator> But with haskell :)
10:51:59 <mwc> excellent
10:52:32 <mwc> Oh well, I better go off and study for tonight's exam
10:56:26 * psnl hugs a random ghc hacker
10:59:42 <bringert> shapr: here?
11:00:28 <astrolabe> there is a command to summon shapr
11:00:53 <astrolabe> I imagine he has a pager embedded in his brain.
11:01:08 <glguy> which can be accessed via ctcp shapr page
11:01:59 <alunoiemestrado> I have a few questions about "Functional programming with bananas, lenses, envelopes & barbed wire"  by Meijer (1991)
11:02:08 <alunoiemestrado> anyone familiar with that article?
11:03:11 <glguy> link?
11:03:20 <alunoiemestrado> http://citeseer.ist.psu.edu/cache/papers/cs/10165/http:zSzzSzwww.cs.uu.nlzSz~erikzSzPublicationszSzfpca91.pdf/meijer91functional.pdf
11:03:23 <lambdabot> http://tinyurl.com/8tv2z
11:03:38 <shapr> bringert: eh?
11:04:28 <shapr> alunoiemestrado: I like that article. I read it, but can't say I understood everything.
11:04:40 <bringert> shapr: I want to show you something. A FastCGI app that uses the ghc api to interpret haskell CGI programs
11:04:50 <shapr> bringert: oooh
11:04:51 <bringert> I figured you might be interested
11:05:05 <alunoiemestrado> Its main goal is stated as proposing a calculus for lazy functional programming.
11:05:08 <shapr> bringert: Definitely
11:05:28 <alunoiemestrado> It seems to me that it's investigating the algebraic properties of recursive functions, instead.
11:05:30 <bringert> shapr: first example: http://csmisc14.cs.chalmers.se/~bjorn/dynhs/examples/test.hs
11:05:32 <lambdabot> Title: Hello!, http://tinyurl.com/y7wyad
11:05:49 <alunoiemestrado> Classifying recursion schemes, stating cata-ana fusion laws and so on.
11:06:12 <shapr> bringert: Cool, how do you see the source as well?
11:06:19 <bringert> shapr: http://csmisc14.cs.chalmers.se/~bjorn/dynhs/dynhs_root/source.hs/examples/test.hs
11:06:25 <lambdabot> Title: examples/test.hs, http://tinyurl.com/ymenos
11:06:32 <bringert> source.hs is also interpreted
11:06:37 <alunoiemestrado> I ask this because I'm interested in starting from that work to build onto something completely different -- unrelated to FP.
11:06:48 <bringert> shapr: http://csmisc14.cs.chalmers.se/~bjorn/dynhs/dynhs_root/source.hs/dynhs_root/source.hs
11:06:52 <lambdabot> Title: dynhs_root/source.hs, http://tinyurl.com/yhqhkv
11:07:11 <bringert> shapr: here is a program with errors: http://csmisc14.cs.chalmers.se/~bjorn/dynhs/examples/error.hs
11:07:13 <lambdabot> http://tinyurl.com/yb5ny7
11:07:19 <alunoiemestrado> Basically, in game theory, repeated games seem to have anamorphic shape, and the equillbiria in those games seems to have catamorphic shape.
11:07:30 <bringert> shapr: if you click the source links you get somehting like this: http://csmisc14.cs.chalmers.se/~bjorn/dynhs/dynhs_root/source.hs/examples/error.hs#15
11:07:31 <shapr> bringert: This is seriously cool.
11:07:31 <lambdabot> Title: examples/error.hs, http://tinyurl.com/y7a554
11:07:44 <alunoiemestrado> What I'm saying is that I'm interested in writing "Industrial economics with bananas, lenses, envelopes and barbed wire"
11:07:45 <bringert> shapr: try hovering your cursor over the red area
11:07:57 <shapr> Wow, cool!
11:08:16 <bringert> shapr: here's a wiki: http://csmisc14.cs.chalmers.se/~bjorn/dynhs/examples/wiki/wiki.hs
11:08:18 <lambdabot> Title: Main, http://tinyurl.com/spqu3
11:08:39 <bringert> shapr: with source here: http://csmisc14.cs.chalmers.se/~bjorn/dynhs/dynhs_root/source.hs/examples/wiki/wiki.hs
11:08:40 <lambdabot> Title: examples/wiki/wiki.hs, http://tinyurl.com/yfcde9
11:08:59 <bringert> I'm writing a blog example now
11:09:08 <shapr> bringert: Wow, awesome!
11:09:24 <bringert> next thing could be an editor ...
11:09:26 <shapr> alunoiemestrado: Write it! It sounds cool.
11:09:41 <bringert> web-based Haskell IDE
11:09:43 <shapr> bringert: Yeah, with some dhtml and/or flash you'd have a full editor.
11:09:45 <alunoiemestrado> I'm not sure whether my interpretation of Meijer is correct.
11:10:00 <alunoiemestrado> Basically Meijer 1991 is my entire window into Bird-Merteens theory.
11:10:23 <shapr> alunoiemestrado: I believe your interpretation is correct. Once recursion is a combinator, many things are simpler.
11:10:32 <shapr> bringert: That is really cool.
11:10:52 <alunoiemestrado> Once you have an algebraic structure whose elements are recursion schemes, rather?
11:19:16 <lisppaste2> camster pasted "Heisenbug" at http://paste.lisp.org/display/28983
11:19:52 <camster> For someone learning Haskell, the above paste is incredibly confusing!
11:20:34 <Cale> camster: sounds like you're doing something in the presence of lazy IO and closing a resource too eaarly
11:20:37 <Cale> early*
11:21:13 <camster> But surely if the value of rows is correct on line 4 for the putStrLn, it should be the same on line 5 for the case statement?
11:21:33 <camster> With the putStrLn the case matches [[str]]; without it matches []
11:21:37 <Cale> printing the rows causes their values to be forced, which causes them to be read from the database/file/whatever
11:22:00 <camster> Wouldn't putting them in a case statement cause their value to be evaluate too?
11:22:17 <Cale> only as much as is needed to pattern match
11:22:58 <Igloo> There's a pile of hideously broken code running at http://matrix.chaos.earth.li/~ian/diki/Index
11:23:00 <lambdabot> Title: Diki
11:23:15 <camster> But there's a blatant different between a list of zero elements and a list of one element.... how can the case statement fail to notice that?
11:23:49 <Cale> By only forcing the top level conses?
11:24:07 <Cale> I'm not 100% sure that's what's going on, but it seems pretty likely to me
11:24:16 <Cale> Are you closing the database connection somewhere?
11:24:22 <Igloo> Speaking of broken code, paste.lisp.org doesn't seem to want to give me the last paste
11:24:34 <Botje> (silly newbie talk) maybe seq rows ?
11:24:39 <camster> Well, empirically something is broken... but surely any sensible implementation of pattern matching a [] should insist that the cdr is null.
11:25:13 <Cale> Well, it becomes null if the connection is closed too soon
11:25:24 <camster> I don't explicitly close it.
11:25:28 <Cale> oh
11:25:38 <Cale> That's broken then :)
11:25:55 <camster> Let me paste the calling function too, and then we can both agree it's broken :-:
11:25:59 <Cale> okay
11:26:12 <lisppaste2> camster annotated #28983 with "calling function" at http://paste.lisp.org/display/28983#1
11:26:37 <camster> There is a user id 1 in the database but not a user id 2.
11:27:30 <camster> So, I'd expect (something, Nothing)... but I get (Nothing, Nothing) without the putStrLn. All of which I find slightly curious.
11:27:56 <vegai> http://www.netfunny.com/rhf/jokes/01/Jun/pi.html
11:27:59 <lambdabot> Title: Converting Pi to binary: DON'T DO IT [rec.humor.funny], http://tinyurl.com/y43yfo
11:28:04 <Igloo> camster: I can't be sure without seeing the rest of the code, but it looks like you are being caught out by lazy IO
11:28:28 <Igloo> camster: You need to actually force the reading of stuff frmo a database handle before you close that handle
11:28:32 <Cale> yeah, that's what I was thinking, but it doesn't appear that he's closing the DB connection
11:28:56 <Igloo> Oh, is this all the code, then? It's not being called by some unseen main function?
11:29:22 <camster> Let me remove all the bogus junk I've put in while debugging it and reduce it to the simplest test case I can.
11:31:10 <Igloo> What database library is this? And where is the handle? In some IORef somewhere?
11:31:25 <bringert> grr, user-defined Show instances are evil
11:31:26 <Igloo> Oh, in the env, I see
11:31:35 <camster> DB library is HDBC. The handle is in Environment. Give me a second and I'll give you the full story.
11:33:00 <lisppaste2> camster annotated #28983 with "full source code" at http://paste.lisp.org/display/28983#2
11:33:03 <camster> There we are.
11:34:16 <camster> The only odd thing I'm trying to do is prepare SQL statements on demand and cache their previously prepared value in a hashtable.
11:35:12 <Igloo> camster: Is there a disconnect function? If so, does using it at the end of test fix it?
11:35:26 <camster> No, there's nothing. I'm literally just calling test from ghci.
11:35:35 <camster> Let me see if adding it helps.
11:35:41 <Igloo> camster: I mean does GDBC provide one
11:36:14 <Igloo> It could be the handle is getting GCed and thus being closed with a finalizer
11:36:26 <camster> Ah, that would make sense...
11:36:59 <camster> If it is being GCd then the collector has a very repeatable behaviour...
11:37:23 <Cale> unsafeInterleaveIO is considered unsafe for a reason :)
11:37:51 <camster> OK, so adding a DB.disconnect (dbh env) at the end of the test function doesn't help. The function still prints (Nothing, Nothing).
11:38:35 <bringert> unsafeInterleaveIO shouldn't cause the handle to be GC:d
11:38:52 <Igloo> camster: And it does something different with the print?
11:39:05 <camster> Whereas it will happily print the correct value of you collapse the wavefunction with a putStrLn. Schrodinger's bug.
11:39:48 <camster> That's the putStrLn at line 4 - I get (Just (User {user_id = 1, username = "test"}),Nothing) when that's in place.
11:40:32 <Igloo> camster: Ah, the problem is you are reusing the statement, so by the time it looks to see what the result was the second query has run
11:40:58 <camster> Aha!
11:41:24 <Cale> oh!
11:41:28 <camster> Of course.
11:41:45 <Cale> that's not so good :)
11:41:50 <camster> Yes, so the order of execution when it prints the tuple out could be different to what I think I'm doing.
11:41:59 <Cale> Someone should complain about that, I think
11:42:19 <Cale> Not being able to do more than one query without forcing the results is bad.
11:42:20 <camster> Right. As that constitutes my first Haskell program, that's taught me rather more than I wanted to know!
11:43:06 <camster> It's sort of my fault. I'm deliberately trying to reuse the statements to save preparing them on the database each time.
11:43:13 <Cale> Yeah, I'm beginning to think HDBC isn't the best designed library :) We've had some other people in here asking about confusing behaviour from it.
11:43:17 <camster> I just need to be a little cleverer about how I do the sequencing.
11:43:34 <camster> Is HSQL better behaved?
11:43:57 <Cale> I'm not sure myself.
11:44:35 <camster> I'm probably trying to do something a little off the beaten track here. Are there any existing CGI applications which use {HDBC,HSQL,haskelldb}?
11:45:07 <Cale> There must be... shapr, maybe you'd know?
11:46:08 <camster> There's the WASH stuff, but I'm not sure whether anyone's still working on it, or even if it compiles with ghc 6.6.
11:47:26 <shapr> wha?
11:47:51 <shapr> Oh, I've used HaskellDB for cgi apps.
11:48:21 <Cale> camster: You might be interested in HAppS. I've heard some good things about it :)
11:48:22 <shapr> Hope uses HaskellDB on top of HSQL and FlatDB. I had some problems with HDBC, but I forget exactly what.
11:48:45 <shapr> HDBC was written by CosmicRay
11:48:49 <shapr> So you could ask him directly
11:49:01 <shapr> HaskellDB was written mostly by bringert so you could ask him directly
11:49:15 <shapr> HSQL was Krasimir Angelov(sp?) I think.
11:49:16 <camster> I'm only playing about with it at the moment, but I'd ultimately be interested in rewriting a fairly busy web site in haskell. I noticed that haskelldb seems to prepare queries every time rather than storing prepared statements. Not sure how it would cope with high load.
11:49:58 <shapr> I've never been haskelldotted, I don't know how HaskellDB would behave, but I do know that HAppS is designed from the ground up for high loads.
11:50:08 <camster> I did have a look at HAppS. I think it would work very well if all your data would fit in memory. I don't think the code which pages stuff on and off of disk exists yet.
11:50:08 <bringert> camster: yeah, it does that. It could use some hacking to fix that.
11:50:49 <bringert> Krasimir is in G√∂teborg now btw, I just had dinner with him
11:51:02 <shapr> HAppS is also the only Haskell application I know that is sort of like IBM and Gnome in that 2.5+ people are paid to produce BSD licensed code for HAppS.
11:51:18 <bringert> and CosmicRay says that he has fixed the date parsing thing in HDBC that was a problem for HaskellDB
11:51:24 <camster> Very nice architecture to HAppS though. It just takes the idea of datbase write-ahead-logs and applies it to http requests rather than raw DB requests. There's a lovely model of recovery where you sort of replay the last HTTP requests from the last checkpoint./
11:52:31 <shapr> camster: Alex (the guy behind HAppS) is convinced that 99% of webapps do fit into memory. He convinced me as well.
11:52:58 * bringert agrees
11:53:15 <bringert> if the app itself doesn't use all the memory
11:53:16 <camster> Yes. I'd love to convince myself of that. I've got about 10GB of data though, and growing. Disks are still cheaper than RAM!
11:53:22 <Cale> I wonder whether my search engine would have :)
11:54:05 <camster> That's basically what my application is. A search engine for academic papers.
11:54:30 <bringert> well, apps that server images, video etc of course don't fit all data into memory, but they sould probably serve their stuff from the file system anyway
11:54:55 <bringert> camster: but you metadata might fit in memory?
11:55:02 <bringert> s/you/your/
11:55:11 <Botje> just put it all on one big-ass ramdisk
11:55:37 <camster> The metadata is 10GB. That does include things like abstracts though. I suppose it might compress.
11:55:49 <shapr> Are you using inverted indices and all that?
11:56:36 <bringert> camster: wow. how many papers is that?
11:56:44 <musasabi> camster: one *could* hack HAppS to work together with a database.
11:56:46 <camster> I do that externally, both in something called Xapian and in Lucene - they're full-text search engines, so they do all the inverted indexes for me.
11:57:03 <bringert> camster: 10 GB of text data?
11:57:10 <camster> bringert: yep.
11:57:24 <bringert> and you run database queries over all of that?
11:57:29 <musasabi> camster: it simply is not a priority at the moment.
11:58:22 <camster> bringert: yes. Works quite well as 99% of the articles are never read by anyone though.
11:58:29 <camster> A sort of 99:1 rule, it seems.
11:58:36 <bringert> that's some serious stuff
11:58:55 <camster> Yes, it's grown quite big.
11:59:11 <camster> Much bigger than I anticipated actually. Hence half thinking about trying to rewrite things.
11:59:11 <fons> is ther a xor operator in haskell?
11:59:12 <bringert> camster: what site is this?
11:59:17 * shapr checks camster for a google.com hostname
11:59:22 <camster> bringert: http://www.citeulike.org
11:59:24 <lambdabot> Title: CiteULike: A free online service to organise your academic papers
11:59:28 <bringert> ah
12:00:15 <camster> So, I spend my life parsing things. Bibtex files, bits of XML. It would be lovely to work in Haskell to do all that.
12:00:17 <glguy> fons: /=
12:00:24 <bringert> camster: what are you using now?
12:00:44 <CosmicRay> Though I haven't tested it, HDBC is essentially the same concept as Perl's DBI and should have essentially the same performance characteristics
12:00:47 <camster> The page generation stuff is all written in Tcl.
12:00:51 <shapr> yow
12:00:59 <fons> glguy, that's right :) didn't see it that way
12:01:20 <camster> There's a big postgresql database which stores the metadata.
12:01:57 <bringert> camster: Paul R Brown has some Haskell FastCGI benchmarks here: http://mult.ifario.us/articles/2006/10/11/first-steps-with-haskell-for-web-applications
12:01:59 <lambdabot> Title: mult.ifario.us : First Steps with Haskell for Web Applications, http://tinyurl.com/hr5mo
12:02:13 <bringert> disclaimer: I wrote some of those libs
12:02:19 <camster> Yes, I reproduced those myself. I was extremely impressed with it.
12:02:34 <CosmicRay> HaskellDB is essentially a layer atop HDBC or HSQL that presents a high-level "business" approach to the database
12:02:36 <camster> On an SMP box it scales very nicely too.
12:02:49 <CosmicRay> HDBC and HSQL both work on the SQL level, taking SQL queries and working with results
12:03:14 <bringert> camster: so now you are looking for a high-performance database library?
12:03:51 <CosmicRay> I wrote HDBC because I was bugged by some design flaws in HSQL, as well as some bugs in its implementation (causing segfaults)
12:03:54 <bringert> HaskellDB is not ready for what you want to do yet, but you are of course welcome to improve it if you want
12:04:02 <camster> Well, there are various requirements. I'm being hit by Ousterhout's dilemma. Tcl works OK up until you hit a certain number of lines of code, then you get spaghetti.
12:04:03 <CosmicRay> but HDBC and HSQL are both solutions to the same problem
12:04:08 <gour> what about database-related widgets like gnome-db stuff?
12:05:00 <musasabi> CosmicRay: any hope of 2PC support in HDBC?
12:05:11 <camster> Haskell's abstract data types would be a big win for me. Basically I have lots of "things" in the database which I parse and format in various guises.
12:05:15 <bringert> CosmicRay: do you put haddock for your libs online somewhere?
12:05:17 <mbishop> Hmm what's the best way to print every possible mutation of a list?
12:05:40 <shapr> @oldwiki LicensedPreludeExts -- permutations
12:05:40 <lambdabot> http://www.haskell.org/hawiki/LicensedPreludeExts -- permutations
12:05:45 <desrt> no!
12:05:58 <glguy> ?hoogle ousterhout's dilemma
12:05:59 <lambdabot> Did you mean: Ousterhout's Dilemma
12:05:59 <lambdabot> Prelude.undefined :: a
12:05:59 <lambdabot> Control.Monad.Reader.ask :: MonadReader r m => m r
12:06:03 <glguy> ?google ousterhout's dilemmaa
12:06:04 <lambdabot> No Result Found.
12:06:05 <desrt> woh.  hi shae
12:06:16 <glguy> camster: which dilemma is that?
12:06:34 <CosmicRay> bringert: yes, just a sec...
12:06:36 <glguy> ?google ousterhout's dilemma
12:06:39 <lambdabot> http://www.jus.uio.no/sisu/free_for_all.peter_wayner/12.html
12:06:39 <lambdabot> Title: 12 - Free For All
12:06:54 <CosmicRay> bringert: http://darcs.complete.org/hdbc/doc/index.html
12:06:55 <shapr> desrt: dude! Haven't seen you in YEARS!
12:07:00 <camster> Ousterhout designed Tcl for writing small programs.
12:07:02 <desrt> shapr; well, months at least :)
12:07:20 <bringert> CosmicRay: thanks!
12:07:25 <desrt> shapr; who is this andre cat?
12:07:27 <shapr> @quote desrt
12:07:28 <lambdabot>  man... there's this whole dark side to haskell that dr. kahl didn't teach us in 3e03
12:07:32 <camster> He purposefully designed it for that, and never really though of what happens if you end up writing anything of a reasonable size.
12:07:43 <shapr> desrt: Which Andre? There are at least two in the Haskell world.
12:07:54 <desrt> andre p from #haskell
12:08:03 <CosmicRay> bringert: if you are a user, and not a driver developer, http://darcs.complete.org/hdbc/doc/Database-HDBC.html is all you need
12:08:04 <lambdabot> http://tinyurl.com/rrers
12:08:12 <bringert> CosmicRay: is there a strict fetchAllRows?
12:08:35 <Cale> CosmicRay: did you see the interesting bug camster posted? Perhaps there is a way to get that code to behave more sanely?
12:08:47 <kowey> lispy++
12:08:53 <bringert> yeah, that's why I asked about a strict version
12:09:00 <CosmicRay> bringert: no, but passing it through evaluate should do that
12:09:08 <desrt> shapr; arrgggh.. the freenodes do not let me message you
12:09:13 <desrt> brb
12:09:14 <CosmicRay> Cale: I don't think so, or what that the one about disconnecting too early?
12:09:16 <shapr> desrt: You need to identify
12:09:23 <Cale> hehe
12:09:24 <shapr> Whoa, AndyGill was here and I missed him.
12:09:25 <kowey> (I had been putting off cabalising GenI for soooo long, until I saw how incredibly easy it was on http://www.haskell.org/haskellwiki/How_to_write_a_Haskell_program
12:09:27 <lambdabot> Title: How to write a Haskell program - HaskellWiki, http://tinyurl.com/yy6xkk
12:09:29 <bringert> CosmicRay: evaluate doesn't force the wholve value right?
12:09:29 <kowey> (lispy)
12:09:45 <CosmicRay> bringert: evaluate (length result) will do it
12:09:52 <bringert> right
12:10:22 <camster> CosmicRay: Yes, it seems to.
12:10:29 <bringert> I was just thinking that it would be more efficient to avoid the unsafeInterleaveIO altogether if the user wants the resukts strictly
12:10:45 <CosmicRay> bringert: I really don't know how that all optimizes out.
12:11:06 <CosmicRay> bringert: the user can always just do it the more conventional way by calling fetchRow
12:11:12 <bringert> true
12:11:17 <CosmicRay> but a strict version of fetchAllRows would be easy to do, too.
12:11:27 <camster> Yes, in fact there's a caveat in the documentation about using fetchAllRows.
12:11:44 <bringert> yeah, it mentions the exact thing you are doing :-)
12:11:47 <Cale> CosmicRay: well, there's probably not much you can do if they disconnect too early, apart from always getting the results from the database strictly into raw memory buffers and only lazily converting them to strings, etc.
12:11:48 <CosmicRay> I guess I never figured someone would want a strict fetchAllRows, because who knows how much data you'll get
12:11:57 <bringert> re-using statements before you get all the data
12:12:01 <CosmicRay> Cale: but we can't do that (what if it's a 2GB result set)
12:12:09 <Cale> CosmicRay: right :)
12:12:09 <camster> Yes, it says: "Please note that the careless use of this function can lead to some unpleasant behavior." I agree!
12:13:31 <bringert> CosmicRay: true, but many queries don't return many results, e.g. looking up a row by primary key
12:13:43 <desrt> Cale; word up
12:13:52 <bringert> settings in configuration tables etc.
12:13:56 <desrt> Cale; fixed my parser
12:13:56 <CosmicRay> bringert: yup, and in the case where you want only one row, you can use fetchRow and avoid the whole problem
12:14:04 <Cale> desrt: I was going to say, you have to register/identify to send private messages
12:14:13 <desrt> Cale; nod.  i'm registered up
12:14:16 <CosmicRay> I don't have an objection to a strict fetchAllRows, I'm just pointing out that it is just as fraught with peril as a lazy one ;-)
12:14:22 <bringert> yeah
12:14:26 <Cale> Good to hear about your parser :)
12:14:27 <bringert> there should be both
12:14:28 <desrt> the ubuntu guys made me register so they could give me this 'ubuntu' thing
12:14:32 <CosmicRay> because now instead of watching how you use it in Haskell, you must be careful about how you use it in SQL
12:14:34 <desrt> it's part of their code of conduct or something
12:15:00 * desrt is anti-nickserv as a rule
12:15:03 <emu> are there any guidelines to picking out a "Category" in the .cabal file
12:15:12 <Igloo> desrt: They've braned you now, then?
12:15:19 <camster> Anyway, there's possibly even some argument that a relational DB is the wrong thing for what I'm doing. I don't really have much concurrency in the application, so there's possible even something to be said just for storing articles in flat files, or in BerkeleyDB. Would I get in a mess if I tried to use show/read in Haskell to serialize things onto disk? What if I extend my data types for example?
12:15:26 <desrt> Igloo; mark of the devil
12:15:35 <bringert> CosmicRay: yeah, I agree. though you can often include LIMIT or whatever they call it if you don't want all results
12:15:35 <CosmicRay> camster: have you looked at sqlite?
12:15:35 <desrt> Igloo; where's your debian one?
12:15:52 <desrt> man.  i love this place.  it has so many cool people.
12:16:01 <shapr> camster: HAppS deals with that by including a version field. But I don't think Read would be any fun for ~2gb of data.
12:16:05 <camster> Yes, sqlite is quite nice. It's probably a good halfway house between flat files and a big full-featured RDBMS.
12:16:05 <CosmicRay> camster: I didn't see your initial problem so I don't know what you're doing.  back when I was about to write a *dbm layer for Haskell, I discovered sqlite, which is faster than Berkeley DB and, imho, better
12:16:15 <bringert> camster: auto-derived show / read aren't very nice when you extend the types
12:16:25 <desrt> Cale; also fixed the "infinite loop" in my evaluator function
12:16:31 <Igloo> desrt: I don't believe in them (if you mean the things I think you do, which I forget the name of)
12:16:31 <CosmicRay> camster: and, despite having a full sql interpreter, manages to outperform berkeley db at almost every turn
12:16:34 <blsecres> hdbc-sqlite and hdbc-missingh make for some quick and easy data access/storage
12:16:39 <camster> bringert: Yes, I was worried about that.
12:16:45 <bringert> though you can make custom ones
12:16:55 <bringert> for the top-level types
12:16:56 <Igloo> Grr, what's the word? Something like shadow or mask or something
12:17:05 <desrt> Igloo; ya.... cloak?
12:17:15 <Igloo> That's the one
12:17:22 <bringert> and use the built-in show and read for all the basic types
12:17:54 <bringert> you could for example use an RFC822 style format
12:18:07 <desrt> Cale; as it turns out, there was no infinite loop at all
12:18:17 <camster> CosmicRay: I'm impressed it's faster than BerkeleyDB.
12:18:20 <CosmicRay> blsecres: yes, I was leading there.  MissingH has an AnyDBM interface to *dbm databases.  It has two very simple (and slow) pure-Haskell implementations.  hdbc-missingh makes any HDBC backed act as a *dbm database, by just using some simple table formats with a primary key in the right place.  So you can use AnyDBM and the Sqlite3 backend and get something that feels as simple as Berkeley DB, but is using Sqlite in the backend f
12:18:20 <CosmicRay> or performance, and can be expanded to a full SQL system later if you need it.
12:18:21 <desrt> Cale; it's just that calculating the factorial of 10 using church numerals is sort of on the slow side
12:18:22 <bringert> camster: but don't you have to run queries over the whole data set?
12:18:35 <CosmicRay> camster: me too.
12:18:41 <Cale> desrt: heh
12:18:56 <glguy> > product [2..10]
12:18:57 <lambdabot>  3628800
12:19:04 <desrt> ya....
12:19:06 <desrt> oops :)
12:19:07 <glguy> I'm not trying to suggest that's better
12:19:11 <glguy> just seeing how big it was
12:19:15 <camster> bringert: No, most queries just involve fetching 100 articles from very simple index paths (per user, per tag, etc)
12:19:19 <desrt> oh... it ran just fine when i used "machine ints"
12:19:24 <CosmicRay> camster: http://www.sqlite.org/cvstrac/wiki?p=SqliteCompetitors
12:19:28 <lambdabot> Title: SQLite CVSTrac, http://tinyurl.com/uks2x
12:19:29 <desrt> (ie: the native integer type built in to my term calculus)
12:20:10 <camster> CosmicRay: Wow. I must have a look at that. For some reason I just assumed that the sleepycat guys had made their library as fast as was possible.
12:20:22 <CosmicRay> well, they are faster in some situations
12:20:44 <glguy> desrt: what is the complexity of multiplication on Church numerals? O(m*n) where m and n are the values of the numerals?
12:20:44 <bringert> camster: maybe you could fit the stuff you need for lookup in memory, and the rest on files on disk, maybe one per article
12:20:59 <blsecres> it's a speed of access vs. speed of development in a lot of places for me
12:21:05 <desrt> glguy; probably more
12:21:18 <CosmicRay> but as that sqlite page points out, they are solving a different problem.  If all you are doing is wanting something simple to store key/value pairs, berkeley db will probably not be faster unless you invest some serious time in learning about how to optimize it
12:21:24 <desrt> plus... i snagged the church "pred" function from some "kid's encyclopedia" site
12:21:27 <blsecres> not dealing with SQL to do basic read/stores saves a lot of time
12:21:31 <desrt> i have no idea how it works but i guess it's not very efficient
12:21:32 <camster> Yes, that would be possible. I've been looking at the way squid stores its data on disk. They have a number of implmentations, but one version simply involves storing a flat file per cache item.
12:22:23 <camster> They do a bit of prefetching and some other optimisations, but a modern operating system seems to give surprisingly good performance just fetching small-ish files on demand.
12:22:54 <Cale> desrt: haha
12:23:14 <Igloo> Apparently ghc6 is the 14th slowest package to build in Debian
12:23:19 <Cale> http://encyclopedia.kids.net.au/page/la/Lambda_calculus -- this?
12:23:26 <desrt> Igloo; shit.  does that mean you've packed 6.6?
12:23:26 <lambdabot> http://tinyurl.com/yk7nm7
12:23:34 <Igloo> desrt: A while ago, yes
12:23:35 <desrt> Cale; YES
12:23:35 <CosmicRay> camster: it depends on the underlying filesystem.  ext2/3 aren't that great yet.  xfs, jfs, and reiser seem to do a pretty decent job
12:23:40 <desrt> Cale; that page is fucking awesome!
12:23:49 <CosmicRay> camster: http://www.sqlite.org/cvstrac/wiki?p=SpeedComparison
12:23:51 <lambdabot> Title: SQLite CVSTrac, http://tinyurl.com/p55uq
12:24:01 <CosmicRay> camster: as for using read/show for serialization, it works if you are careful.
12:24:04 <desrt> Cale; better than almost every academic resource i found on the topic :p
12:24:07 <Cale> Woo! Lambda Calculus and lots of pretty colours!
12:24:15 <camster> CosmicRay: Yes, If you believe all the Hans Reiser hype about resierfs then you can do all sorts of clever things with metadata in on-disk files.
12:24:24 <desrt> Cale; i bookmarked that one :)
12:24:25 <Cale> desrt: hahaha
12:24:26 <CosmicRay> camster: there is no guarantee that show will be able to process the read for every type, but it works out of the box for most.
12:24:41 <desrt> Cale; i lifted pred directly from it without understanding it :)
12:24:50 <camster> CosmicRay: Yes, that's the problem. There's the prospect of writing *lots* of custom serialisation code.
12:24:51 <CosmicRay> camster: I think I do, but unfortunately reiserfs is not able to recover from a power loss without corrupting data, so I don't use it ;-)
12:25:01 <Cale> Don't you think it's rather similar to wikipedia's page?
12:25:03 <CosmicRay> camster: well, what sort of types are you using?
12:25:05 <desrt> Igloo; i hear 6.6 has some utf8 hotness
12:25:24 * Igloo goes to give a pizza some hotness
12:25:29 <desrt> Cale; hah.  so it is.
12:25:34 <desrt> BUT
12:25:40 <desrt> the wikipedia page isn't as nicely coloured
12:25:44 <Cale> true :)
12:26:10 <camster> Basically it's bibliographic data. It's just lots and lots of algebraic data types. This is an example of the sort of stuff I deal with (in an XML representation): http://www.loc.gov/standards/mods/v3/mods99042030.xml
12:26:12 <lambdabot> http://tinyurl.com/y3obva
12:26:14 <desrt> i wonder if that means i can type stuff like (length "Œª") and have it say 1
12:26:43 <shapr> camster: HaXml would make your life much easier for that sort of stuff.
12:26:50 <desrt> and if putStr running in a utf8 locale still does the right thing
12:26:51 <CosmicRay> camster: hmm, that should be no big deal.  if you are using records, add "deriving (Read,Show,Eq)" at the end of each one.
12:26:56 <Cale> Prelude> length "Œª"
12:26:56 <Cale> 2
12:27:00 <CosmicRay> camster: will you know what type you are expecting when you read it back in?
12:27:02 <desrt> Cale; in 6.6?
12:27:05 <Cale> no
12:27:14 <desrt> well.. i already know it doesn't work in 6.4 :p
12:27:28 <camster> CosmicRay: Probably. If not I could add a header to the file.
12:27:32 <desrt> it stores the separate utf8 bytes as two seperate (and both incorrect) unicode points
12:27:32 <Cale> I still don't havee 6.6 because I'm a lazy bastard, and so are the Ubuntu people ;)
12:27:41 <CosmicRay> camster: then you can probably get what you need with Read/Show.
12:27:47 <desrt> Cale; 6.6 came out after UVF
12:28:02 <desrt> Cale; and the haskell compiler is beyond my abilities of UVF-breaking :)
12:28:04 <arjanoosting> @seen SyntaxNinja
12:28:05 <lambdabot> SyntaxNinja is in #haskell, #darcs and #haskell-blah. I don't know when SyntaxNinja last spoke.
12:28:15 <camster> Yes, I'm sort of thinking that... but at the same time it scares me. What if I need to extend a data type and discover that my data gets silently corrupted, whatever?
12:29:07 <Cale> desrt: I should have asked sfllaw about it, I know him from RL :)
12:29:17 <camster> I know at the back of my mind that I should store things in a language independent way... but I'm not keen on spending my days writing serialisers, and formats like XML take too many characters to represent too little data for my liking.
12:29:20 <CosmicRay> camster: you will of course be writing unit tests for all this, right? ;-)      If you change the data type, you'll probably have to convert the stored data
12:29:29 <desrt> Cale; there are two ways to get around UVF
12:29:35 <CosmicRay> camster: what about database tables?
12:29:41 <camster> True. Types don't change that often I suppose.
12:29:41 <desrt> 1) convince a member of the technical board (of which there are like 3 people)
12:29:55 <desrt> 2) be an upstream developer with an agenda :)
12:30:11 <CosmicRay> camster: I totally agree with you about xml.  but otoh, if you have data in xml format already, it may be convenient.
12:30:20 <camster> The database schema I have at the moment is incredibly denormalised. There's basically one whopping big table mapping keys to values.
12:30:46 <CosmicRay> heh
12:30:48 * Baughn has a nasty tendency to use SQL whenever language-specific serialization isn't enough
12:30:51 <desrt> Cale; i once put some bugfixes for my laptop into HAL and wanted them to make it into dapper (i think) past version freeze
12:30:51 <camster> Which is very good for extensibility, but it's not very efficient. It only really survives through judicious use of caching and trying to take as much of the load off the DB as possible.
12:31:02 <CosmicRay> camster: what DB is behind it now?
12:31:05 <desrt> Cale; but because it was past UVF the changes couldn't go in
12:31:06 <Cale> desrt: apparently it'll be in feisty -- would running Feisty be any worse than running Debian Unstable?
12:31:06 <camster> Postgresq.
12:31:16 <CosmicRay> camster: with liberal use of keys?
12:31:26 <desrt> Cale; so i bumped the version requirement for HAL in gnome-applets (which, like all gnome program is UVF-exempt)
12:31:38 <desrt> the new gnome required the new HAL and thus UVF was broken :)
12:31:41 <camster> CosmicRay: Yes.
12:31:43 <Baughn> camster: You can't just convert the database whenever you want to extend it?
12:31:46 <CosmicRay> camster: are you talking millions of rows here?
12:31:52 <desrt> Cale; it's unlikely that that sort of thing would work with ghc :)
12:31:56 <Cale> desrt: hahaha
12:31:58 <camster> CosmicRay: Lots and lots of rows!
12:32:06 <desrt> Cale; for the first few months, absolutely
12:32:12 <Cale> desrt: all we need now is to get a Haskell program into gnomre
12:32:15 <Cale> gnome*
12:32:16 <desrt> well
12:32:19 <CosmicRay> camster: and lots of simultaneous users?
12:32:20 <camster> CosmicRay: I harvest metadata from lots of sources on the web and aggregate it all.
12:32:21 <desrt> there's another problem with that
12:32:35 <CosmicRay> camster: I have 1.9 million rows in my gopher robot's database, in postgresql, and it performs well.
12:32:56 <desrt> if a core part of gnome depended on ghc6 then ghc6 (and its dependencies) would have to be in 'main' and be included on the install CD
12:32:57 <camster> CosmicRay: Fair number of simultaneous users... but there's no real contention between them. They tend to write to their "own" library...
12:33:01 <CosmicRay> the key is to have a multi-field key for all the commonly-used selects
12:33:03 <desrt> as cool as that would be, ....
12:33:06 <desrt> ghc is sort of big :)
12:33:18 <CosmicRay> camster: I imagine that read speeds are more important than write speeds?
12:33:42 <desrt> Cale; do me a favour?
12:33:44 <camster> CosmicRay: Absolutely. It's very biased towards reads.
12:33:48 <Cale> What's that?
12:33:56 <CosmicRay> camster: I think that a SQL DB is still going to be your best bet.
12:34:00 <desrt> when i stop hanging out in here a couple of days from now, /msg me and tell me to get my ass back
12:34:16 <CosmicRay> desrt: heh
12:34:32 <Baughn> desrt: If you don't remember, we certainly won't..
12:34:35 * desrt goes for a late lunch
12:34:44 <camster> CosmicRay: Yes... or the old flat file approach. I'll have a think about it. There are aspects of writing this application in Haskell which appeal, and aspects which don't!.
12:34:57 <CosmicRay> camster: if you use the flat file approach, then you get only one key
12:35:00 <Cale> desrt: haha
12:35:16 <CosmicRay> camster: sometimes that is fine.  otherwise you will have to write your own key cache for the other fields.
12:35:29 <CosmicRay> camster: so if you have a primary key already and everybody uses it, flat files will work well.
12:35:37 <camster> CosmicRay: Of course. I can use things like Xapian and Lucene to provide secondary keys though. They perform *very* well indeed.
12:35:44 <CosmicRay> but if they want, say, all the entries by author foo between 1998 and 2001, then what do you do?
12:35:54 * CosmicRay hasn't looked at those
12:36:04 <CosmicRay> lucene is java, right?
12:36:27 * Cale archives 19 threads from the mailing lists without looking at them
12:36:28 <camster> CosmicRay: Unfortunately yes. There are ports of it to more sensible languages though.
12:36:53 <camster> CosmicRay: Although, to be fair, it performs surprisingly well for a Java application.
12:37:03 <CosmicRay> camster: I was going to say.  Despite all the hype about JITs, I still have yet to see Java perform well.  not to mention that it does a poor job of conserving developer resources.
12:37:04 <CosmicRay> heh
12:37:10 <CosmicRay> what, only uses 500MB RAM?
12:37:28 <camster> CosmicRay: Precisely.
12:37:31 <CosmicRay> heh
12:37:40 <CosmicRay> and people complain about GHC's usage
12:37:45 <Baughn> CosmicRay: No matter how hard you try, it will /not/ use more. Even on a 64-bit system.
12:38:03 <ulfdoz> Imho, Java isn't meant to be fast, but portable.
12:38:04 <camster> CosmicRay: Unfortunately I need to head off. I'll have a think about whether this is feasible or indeed sensible to write in Haskell. I was very impressed with fastcgi's performance though.
12:38:52 <camster> CosmicRay: Many thanks for the advice.
12:39:10 <camster> CosmicRay: And i'll definitely look at SQLIte.
12:44:45 <Baughn> Come to think of it, is there an sqlite library around that treats queries as pure functions? Alternately, why would that be a bad idea?
12:47:08 <Igloo> Because inserts etc can happen
12:48:43 <Igloo> CosmicRay: Is dfsbuild meant to be only for certain arches, BTW?
12:49:47 <Baughn> @hoogle IOMode
12:49:48 <lambdabot> System.IO.IOMode :: data IOMode
12:53:14 <CosmicRay> Igloo: it would work on any arch where someone writes the boodcode generation bits
12:53:23 <CosmicRay> Igloo: for now that list is alpha i386 amd64 powerpc
12:53:34 <CosmicRay> Igloo: actually I think the powerpc guy may never have updated it after the switch to haskell
12:53:45 <Igloo> OK
12:54:02 <CosmicRay> Igloo: that bit of code is clearly segmented out so it shouldn't be too big a deal to support a new arch
13:02:10 <roconnor> Can GADT be used to implement dimensional analysis?
13:11:43 * musasabi delurks
13:12:09 <musasabi> dcoutts: seems like configurations + multiple package versions at the same time is a whole new can of worms :-(
13:12:56 <arjanoosting> SyntaxNinja: I have prepared a NMU for darcs, but before I upload it; did you already prepare something?
13:18:31 <SamB> roconnor: probably
13:18:57 <SamB> but I'm not sure
13:19:27 <CosmicRay> arjanoosting: if you have time to kill, love cabal, and want to figure out the problem with WASH building that I haven't had the time to look into, you'd be welcome to do so ;-)
13:19:38 <SamB> the heavy lifting would have to be in MPTCs, I think...
13:19:45 <SamB> with fundeps, of course
13:20:21 <arjanoosting> CosmicRay: maybe tomorrow :-D
13:20:47 <CosmicRay> arjanoosting: you are my favorite new DD :-)
13:21:05 <arjanoosting> CosmicRay: btw did you see my bugreport on libghc6-missinghpy-dev?
13:21:11 * arjanoosting blushes now
13:21:27 <CosmicRay> arjanoosting: yes, and this falls into the category of "crap, that sounds like some cabal change that I will have to read up on"
13:21:38 <CosmicRay> there is an include directory that it needs at library build time
13:21:42 <CosmicRay> but does not need at library use time
13:21:51 <CosmicRay> why it thinks it needs it then is beyond me at the moment
13:22:35 <CosmicRay> I'm sure if I sat down to reread the cabal manual I'd learn about it
13:22:45 <arjanoosting> wild guess: because it is mentioned in the file which is used by ghc-pkg register?
13:23:05 <CosmicRay> arjanoosting: yes, but the package is built with cabal, so it all traces back to cabal
13:23:21 <CosmicRay> cabal is generating that file
13:24:51 <arjanoosting> sounds like a lot of fun debugging that one
13:25:03 <CosmicRay> I am hoping that it will be something simple
13:25:42 * arjanoosting wispers ghc-pkg --force-files is dirty hack which should work
13:26:40 <arjanoosting> but that will not work if you let dh_haskell generate the postinst script
13:26:52 <psi> ?pl \m n f -> sum (map f [m..n])
13:26:53 <lambdabot> (((sum .) . flip map) .) . enumFromTo
13:48:03 <SyntaxNinja> arjanoosting: nope. go ahead.
13:48:44 * Igloo cheers
14:04:21 <dolio> Cont(T) blows my mind.
14:05:35 <glguy> does Cont(T) from MTL use continuations for anything other than defining an exit to a function?
14:07:14 <dolio> Well, it defines callCC, so you can build whatever you want from that, no?
14:07:58 <glguy> that's what I'm asking, I haven't used it for anything
14:08:09 <glguy> and have only seen it used to define exit calls
14:08:15 <dolio> I'm using it as an exit in this instance, but it took me a really long time to figure out what how to get what I wanted.
14:08:33 <dolio> ContT r [] a doesn't behave like I was expecting it to.
14:08:42 <glguy> how does it behave?
14:09:00 <dolio> I have no idea. But it wasn't giving the results I wanted. :)
14:09:18 <dolio> But I had a very vague idea of what I was doing.
14:09:32 <SamB> well, it could be worse
14:09:37 <SamB> you could be dealing with scheme
14:09:47 <dolio> I wanted to do backtracking search, and escape to all the way out if I found what I was looking for...
14:10:00 <dolio> But with ContT r [] a, it was giving multiple results.
14:10:08 <arjanoosting> SyntaxNinja: it will upgrade darcs to 1.0.9~rc1. Is that ok with you?
14:10:09 <SamB> you should just use []
14:10:10 <dolio> Even though callCC was only at the top level.
14:10:14 <SamB> and take the head
14:10:26 <glguy> dolio: I would expect ContT r [] use the exit calls for each path
14:10:41 <glguy> and return all of the results
14:10:48 <SyntaxNinja> arjanoosting: any clue when the real release will occur?
14:11:00 <arjanoosting> SyntaxNinja: no idea
14:11:04 <glguy> and I agree with SamB's suggestion of simply taking the head of the result
14:11:07 <SyntaxNinja> arjanoosting: I think it should be fine.  were there any troubles packaging it? you mentioned that the diff was big.
14:11:40 <arjanoosting> SyntaxNinja: well there was some old cruft and some issues with the HTML manual, but that is all fixed now
14:11:58 * integral has just learnt a big optimisation lesson:  haskellish haskell is much faster than faffing around with state monads
14:12:01 <dolio> Well, it's not that simple, because if I don't find exactly what I'm looking for, I need to find, for all possible results, the minimum difference with the target.
14:12:03 <arjanoosting> SyntaxNinja: I am cleaning up the last lintian warnings now
14:12:10 <mbishop> what do variables with ' after them mean?
14:12:24 <mbishop> in haskell or mathamatics, I've seen them in both heh
14:12:32 <Igloo> mbishop: They're conventionally something related to the unprimed variable
14:12:38 <SamB> it means "a bit different from the one without the '"
14:13:25 <mbishop> ah
14:13:59 <psi> a "derivative"
14:14:09 <glguy> dolio: so you would just store the result in some var.  check if it is "null" and if it is, compute the differences and if it is not return the head?
14:14:18 <SyntaxNinja> arjanoosting: sweet. thanks :)
14:14:38 <dolio> And besides, I had it written in other manners previously, and wanted to use the jump-out optimization as an excuse to learn Cont.
14:15:15 <glguy> ah
14:20:57 <musasabi> ConT from mtl appears to really require more examples or a redesign.
14:21:12 <lennart> why so?
14:22:03 <SamB> do *you* know how to use it?
14:23:09 <lennart> I have used it, but I could not cite it from memory.
14:23:09 <dcoutts> musasabi, you're quite right.
14:24:00 <musasabi> lennart: even Oleg's delimited continuations seem easier to use and understand in practise than ConT ;)
14:24:12 <dolio> You know, I puzzled through a lot of type errors doing this...
14:24:27 <lennart> But it's like the other monad transformers
14:24:45 <dolio> And it made me think of people who complain that they have to "fight the type system" when they use haskell.
14:25:16 <dolio> But, clearly, my programs wouldn't have worked, even if I hadn't gotten the type errors.
14:25:35 <SamB> well, in the case of Cont and ContT, the typing is truly messed up...
14:25:45 <SamB> I mean, the interface is messed up...
14:25:53 <lennart> The types involved in continuations are dauting, I'll grant you that. :)
14:25:56 <dolio> Yeah, but that's because Cont(T) is confusing as hell.
14:26:10 <dolio> Whether or not you have types.
14:26:14 <SamB> there was a better version, but I can never remember the wiki page...
14:26:28 <SamB> with proper types it might be less confusing.
14:26:45 <fik> @all-dict dauting
14:26:48 <lambdabot> No match for "dauting".
14:27:04 <lennart> daunting, sorry
14:27:05 <dolio> I remember seeing one on the old wiki with an extra "forall" somewhere.
14:27:12 <dolio> But I can't recall what the advantage of that is.
14:27:13 <SamB> dolio: exactly
14:27:41 <SamB> @google site:haskell.org/hawiki callCC
14:27:43 <lambdabot> http://haskell.org/hawiki/ListTDoneRight
14:27:43 <lambdabot> Title: ListTDoneRight - The Haskell Wiki
14:28:41 <dolio> http://haskell.org/hawiki/ContinuationsDoneRight
14:28:43 <lambdabot> Title: ContinuationsDoneRight - The Haskell Wiki, http://tinyurl.com/yyafab
14:30:24 <lennart> @djinn-add data Cont r a = Cont ((a->r)->r)
14:30:48 <lennart> @djinn ((a -> Cont r b) -> Cont r a) -> Cont r a
14:30:48 <lambdabot> f a =
14:30:49 <lambdabot>   Cont (\ b ->
14:30:49 <lambdabot>      case a (\ c -> Cont (\ _ -> b c)) of
14:30:49 <lambdabot>      Cont d -> d b)
14:30:54 <cjay> btw, I read somewhere coroutines could be implemented using Cont, but I couldn't find any information on how one would do that
14:32:23 <dolio> I have a ruby module somewhere that implements coroutines (I think) with callcc, if you want to see that. :)
14:32:42 <lennart> well, first you need to define exactly what you mean by co-routines
14:35:03 <musasabi> cjay: there are rumors that it can be done, but little code.
14:36:19 <cjay> hum. I don't know the definition of coroutines the people have in mind who claim that they can be done with Cont :)
14:38:29 <lennart> Well, it's not to difficult to understand how it's done in principle.
14:38:47 <mwc> cjay, I can kind of see it.. you'd need a pair of continuation chains in the monad
14:38:48 <dolio> Well, the theoretical niceties of continuations are that you can build any other control structure you want out of them.
14:39:04 <mwc> and then you'd use yield to execute the top of the other chain
14:39:35 <mwc> Indeed, you can actually compile code for pretty much any language using continuations as an intermediate representation
14:39:39 <mwc> Appel wrote a book on it
14:39:56 <lennart> dolio: but for some more complicated things, like processes, you also need a ref cell :)
14:40:15 <dolio> Ah, okay. :)
14:42:35 <mwc> Subroutines only require a single stack that can be preallocated at the beginning of program execution. In contrast, coroutines, able to call on other coroutines as peers, are best implemented using continuations. Continuations may require allocation of additional stacks and therefore are more commonly implemented in garbage-collected high-level languages. Coroutine creation can be done cheaply by preallocating stacks
14:42:36 <mwc> or caching previously allocated stacks.
14:51:57 <chessguy> @hoogle [a]->[[a]]
14:51:58 <lambdabot> List.inits :: [a] -> [[a]]
14:51:58 <lambdabot> List.tails :: [a] -> [[a]]
14:51:58 <lambdabot> List.group :: Eq a => [a] -> [[a]]
14:51:59 <chessguy> grr, where's the bot
14:52:08 <chessguy> aha
14:53:28 * mbishop points
14:54:26 <chessguy> hmm. is there no function that'll do something like [1,2,3] -> [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
14:54:30 <chessguy> all the permutations
14:54:43 <chessguy> @hoogle permute
14:54:43 <lambdabot> Text.ParserCombinators.Parsec.Perm.permute :: PermParser tok st a -> GenParser tok st a
14:54:44 <lambdabot> Distribution.GetOpt.Permute :: ArgOrder a
14:55:04 <chessguy> @hoogle permutation
14:55:05 <lambdabot> No matches found
14:55:16 <chessguy> @hoogle combination
14:55:17 <lambdabot> No matches found
14:55:29 <mbishop> @hoogle mutation
14:55:29 <lambdabot> No matches found
14:55:35 <mbishop> @hoogle mutate
14:55:36 <lambdabot> No matches found
14:56:33 <chessguy> hmm, maybe i'll have to write my own
14:57:20 <mbishop> I was looking for this earlier
14:57:33 <mbishop> found examples in CL fairly easy, but not many in haskell
14:57:36 <chessguy> @tell Cale do you know if there's a haskell function that'll do something like [1,2,3] -> [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]] (return all the permutations of a set)?
14:57:36 <lambdabot> Consider it noted.
14:57:55 <mbishop> googling with filetype:hs works pretty good :)
14:57:59 <chessguy> it doesn't seem like it should be hard, recursively
14:58:20 <chessguy> though i'm not sure
15:00:26 <dolio> > let perms [] = [[]] ; perms l = concat [ x:perms (delete x l) | x <- l ] in perms [1,2,3]
15:00:27 <lambdabot>  add an instance declaration for (Num [a])
15:00:27 <lambdabot>   In the list element: 3
15:00:49 <chessguy> steeeerike 1!
15:01:13 <dolio> > let perms [] = [[]] ; perms l = [ map (x:) $ perms (delete x l) | x <- l ] in perms [1,2,3]
15:01:14 <lambdabot>    Occurs check: cannot construct the infinite type: a = [a]
15:01:15 <lambdabot>    Expected...
15:01:19 <dolio> Yarr.
15:01:45 <mbishop> one more strike and lambdabot wins
15:02:32 <fnord123> hey you lazy programmers
15:03:15 <dolio> let perms [] = [[]] ; perms l = [ x:p | x <- l, p <- perms (delete x l) ] in perms [1, 2, 3]
15:03:17 <chessguy> let selections [] = []; selections (x:xs) = (x,xs) : [(y,x:ys) | (y,ys) <- selections xs]; permutations xs = [ y : zs | (y,ys) <- selections xs, zs <- permutations ys] in perms [1,2,3]
15:03:21 <dolio> > let perms [] = [[]] ; perms l = [ x:p | x <- l, p <- perms (delete x l) ] in perms [1, 2, 3]
15:03:22 <lambdabot>  [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
15:03:25 <chessguy> > let selections [] = []; selections (x:xs) = (x,xs) : [(y,x:ys) | (y,ys) <- selections xs]; permutations xs = [ y : zs | (y,ys) <- selections xs, zs <- permutations ys] in perms [1,2,3]
15:03:26 <lambdabot>  Not in scope: `perms'
15:03:37 <chessguy> > let selections [] = []; selections (x:xs) = (x,xs) : [(y,x:ys) | (y,ys) <- selections xs]; permutations xs = [ y : zs | (y,ys) <- selections xs, zs <- permutations ys] in permutations [1,2,3]
15:03:38 <lambdabot>  []
15:04:36 <chessguy> > let perms [] = [[]] ; perms l = [ x:p | x <- l, p <- perms (delete x l) ] in perms [1, 2, 3, 4]
15:04:37 <lambdabot>  [[1,2,3,4],[1,2,4,3],[1,3,2,4],[1,3,4,2],[1,4,2,3],[1,4,3,2],[2,1,3,4],[2,1,...
15:06:28 <chessguy> looks like a home run
15:06:43 <chessguy> > let perms [] = [[]] ; perms l = [ x:p | x <- l, p <- perms (delete x l) ] in length $ perms [1, 2, 3, 4]
15:06:44 <lambdabot>  24
15:07:05 <chessguy> thanks dolio, i'll have to play with that
15:07:11 <dolio> No problem.
15:07:18 <chessguy> @dolio++
15:07:18 <lambdabot> Unknown command, try @list
15:07:26 <mbishop> @karma
15:07:26 <lambdabot> You have a karma of 1
15:07:28 <chessguy> @karma dolio++
15:07:28 <lambdabot> dolio++ has a karma of 0
15:07:34 <chessguy> dolio++
15:07:39 <chessguy> @karma dolio
15:07:39 <lambdabot> dolio has a karma of 2
15:07:42 <chessguy> there we go
15:07:46 <dolio> :)
15:16:59 <Cale> hmm, "Why Ruby Doesn't Interest Me", decently provocative title, but the reason turns out to be stupid.
15:17:00 <lambdabot> Cale: You have 1 new message. '/msg lambdabot @messages' to read it.
15:17:30 <gzl> what was the reason
15:17:41 <Cale> "I already know Java and Perl"
15:17:45 <gzl> hahah
15:18:39 <fons> What is the more extended (de factor) haskell coding style?
15:18:43 <fons> de facto*
15:18:54 <Cale> what?
15:19:09 <fons> Are there coding style guidelines for Haskell?
15:19:19 <fons> in the same way as they exist for C?
15:19:21 <dons> fons: yep, check the 'Style' category on the haskell wiki
15:19:27 * Igloo believe in camel case and not listing imports today
15:19:32 <Cale> there are random things which people do
15:19:33 <dons> haskell.org knows all
15:19:39 <Cale> But nothing all that official
15:19:54 <dons> yeah, we're a bunch of free form hippies
15:19:58 <Cale> and don't listen to everything you hear
15:20:02 <dons> http://haskell.org/haskellwiki/Category:Style
15:20:03 <lambdabot> Title: Category:Style - HaskellWiki
15:20:12 <fons> Cale, they are not official for C either but there are some styles you can stick to, GNU, K&R, Linux ....
15:20:15 <Cale> there are a few people with absolutely hideous ideas about Haskell style
15:21:04 <glguy> like using '{','}', and ';' for anything other than machine generated haskell code or stuff for lambdabot to read :)
15:21:24 <SamB> glguy: come on
15:21:43 <Cale> Or like putting only one data declaration per module and always naming it T
15:21:43 <SamB> now, I don't understand the people who use it at the module level...
15:21:48 <cjeris> i confess i don't understand the preference for using $ to avoid parens, but i haven't written very much haskell yet
15:21:51 <SamB> but sometimes it seems nicer
15:21:57 <SamB> especially the ; part
15:22:05 <glguy> SamB: I understand using it for data-type declarations
15:22:18 <SamB> ???
15:22:19 <Cale> cjeris: I use . and $ together to reduce parens.
15:22:33 <cjeris> Cale: doesn't Module.T descend from the Modula-3/Oberon tradition?
15:22:35 <glguy> data D = C { a::B }
15:23:00 <Cale> cjeris: Writing things in terms of (.) has definite advantages in that it gives you a nicer view of how your code breaks down into parts.
15:23:02 <SamB> glguy: that ain't subject to the layout rule anyway
15:23:16 <Cale> cjeris: possibly, I don't know where it's coming from
15:23:19 <glguy> SamB: right, I just disagree with a lot of the use of {}; for layout that I see
15:23:21 <glguy> that's what I meant
15:23:34 <dolio> If you don't use . and $ when you're doing stream processing, you end up with haskell that looks like lisp.
15:23:37 <Cale> also, if you've been writing
15:23:41 <Cale> if foo then
15:23:44 <Cale>   bar
15:23:45 <SamB> glguy: I won't argue with you
15:23:49 <Cale> else quux
15:23:57 <cjeris> Cale: i'm enough of a novice that a $/. decomposition still interposes a "how does the precedence break down?" question where lispier code would be more obvious to me.
15:23:58 <SamB> not knowing what code you look at mostly
15:23:58 <Cale> then you should try indenting that differently :)
15:23:58 <glguy> SamB: that's fine, I'm not going to enumerate any reasons
15:24:06 <SamB> ;-)
15:24:18 <SamB> especially considering the qualifier "most"
15:24:24 <glguy> as a style issue I generally avoid "if then else"
15:24:30 <cjeris> dolio: in most languages it doesn't bother me when my code looks like lisp :)
15:24:42 <glguy> but that one isn't as widely accepted
15:24:50 <glguy> and is a personal choice :)
15:24:50 <SamB> $ has the lowest precedence
15:24:56 <Cale> cjeris: I dislike code with lots of $'s because the associativity matters. With (.), it's at least an associative operator, so it wouldn't matter how things are parenthesized
15:24:57 <SamB> that is, nothing binds looser
15:25:26 <cjeris> SamB: I know, but it's not automatic yet.
15:25:43 <dolio> :) Well, I much prefer "a . b . c . d $ e" to "a (b (c (d e)))"
15:25:46 <glguy> for more reasons that cale doesn't like $ being right-associative, read Friday(?)'s log
15:25:54 <SamB> basically, you only use it to save your code from being smashed into the right margin ;-)
15:26:03 <Cale> The single most important rule of haskell precedence is that function application happens before anything else
15:26:19 <Cale> and it's left associative
15:26:31 <Cale> so f x y z = ((f x) y) z
15:26:44 <Cale> and f x + f y = (f x) + (f y)
15:27:18 <Cale> similarly, f x + y = (f x) + y
15:28:22 * glguy &
15:28:49 <cjeris> but f $ x + f $ y = f (x + f y) correct?
15:28:53 <monochrom> I just don't use $ anymore.
15:29:28 <monochrom> OK I lie.
15:29:48 <mbishop> liar!
15:29:50 <monochrom> I use $ on the ghci prompt.  But not in programs.
15:30:02 <norpan> dolares
15:30:26 <cjeris> lie :: a -> IO b -- take any input and claim anything else, loudly
15:30:44 <monochrom> No.  lie :: IO b -> a
15:30:54 <norpan> that's a bigger lie
15:31:02 <norpan> and lie :: a -> b is the biggest lie of them all
15:31:04 <cjeris> unsafePerformLie :: a -> b -- the same, but unsafely
15:31:17 <desrt> !!
15:31:25 <desrt> i should totally add '$' to my grammar
15:31:27 <norpan> whiteLie IO a -> a
15:31:32 <norpan> whiteLie :: IO a -> a
15:32:26 <desrt> whiteLie is exactly unsafePerformIO
15:32:30 <dolio> ?instances MonadPlus
15:32:31 <lambdabot> Either e, ErrorT e m, IO, Maybe, RWST r w s m, ReaderT r m, StateT s m, WriterT w m, []
15:33:20 <desrt> and lie :: a -> b is just read.show :)
15:34:00 <cjeris> instance Monad Lie where { return = whiteLie :: a -> Lie a; (>>=) = compoundLies :: Lie a -> (a -> Lie b) -> Lie b }
15:34:32 <cjeris> that restricts you to little lies though - but you can stick them together.
15:34:48 <norpan> reminds me when i was in thailand and people selling me food on the street wanted to know if i wanted "flies ol lies"
15:35:22 <cjeris> i suppose if this went much further we would be doing Lie algebra.
15:35:38 * cjeris runs away
15:35:48 <norpan> modal logic is not far from it
15:35:49 <Cale> cjeris: f $ x + f $ y = f ((x + f) y), but I'd rather that it was (f (x+f)) y
15:36:16 <desrt> how the hell do you spell coorce?
15:36:17 <Cale> cjeris: hehe
15:36:22 <Cale> coerce
15:36:27 <desrt> thank you!
15:36:32 <desrt> ?hoogle coerce
15:36:32 <Cale> @hoogle coerce
15:36:32 <lambdabot> No matches found
15:36:33 <lambdabot> No matches found
15:36:36 <Cale> hehe
15:36:38 <Cale> censored!
15:36:39 <desrt> ?hoogle Coerce
15:36:40 <lambdabot> No matches found
15:36:42 <desrt> crap.
15:37:05 <desrt> it's not in system.io.unsafe
15:37:07 <desrt> where is it?
15:37:15 <cjeris> Cale: you want the 'franc' operator for that :)
15:37:43 <Cale> desrt: GHC.Prim
15:37:45 <monochrom> instance MonadPlus Lie where { mplus = moreLies :: Lie a -> Lie a -> Lie a ... }
15:38:03 <Cale> desrt: watch for falling segfaults
15:38:12 <desrt> so, not haskell98 then?
15:38:17 <Cale> nope
15:38:22 <dolio> Hmm... No instance for (MonadPlus (ContT (Ratio a) [])). So much for that idea.
15:38:32 <Cale> It totally breaks the typesystem :)
15:38:49 <Cale> You can write it with unsafePerformIO though
15:38:56 <Cale> which is in the FFI standard
15:38:57 <desrt> GHC.PrimopWrappers?
15:39:15 <Cale> http://www.haskell.org/ghc/docs/latest/html/libraries/base/GHC-Prim.html#26
15:39:18 <lambdabot> http://tinyurl.com/y6zyz4
15:39:28 <Cale> unsafeCoerce# :: a -> b is not a primop, but is defined in MkId.lhs.
15:39:29 <desrt> that tinyurling feature is annoying
15:39:51 <Cale> It's less annoying when it actually manages to work out the title of the page
15:40:00 <desrt> the title thing is nice
15:40:08 <desrt> the tinyurl thing is superfluous
15:40:34 <Cale> I suppose it's for people with IRC clients which don't turn things into links
15:40:42 <cjeris> what's the # ?  is it just supposed to look pointy to scare you?
15:40:43 <desrt> ah.
15:40:51 <desrt> i can't think of anyone with one of those :)
15:41:01 <dons> right. its for people with IRC clients which don't turn things into links
15:41:06 <Cale> cjeris: All the primops and scary lowlevel stuff have that
15:42:03 <jgrimes> isn't # for unboxed types?
15:42:09 <Cale> yeah, those too
15:42:09 <cjeris> thanks again to everybody here, by the way.  my compiler is in sml, but you've really helped me understand how to write monadic code over the last week or so.
15:42:36 <desrt> # is sort of like C's __
15:43:09 <desrt> par# is interesting
15:43:14 <desrt> why does it return Int#?
15:43:56 <desrt> ?hoogle par#
15:43:57 <lambdabot> Hoogle Error: Parse Error: Unexpected character '>'
15:44:09 <Cale> maybe some kind of identifier for the process which will evaluate a?
15:44:11 <desrt> that's a bug
15:44:32 <Cale> heh
15:44:45 <Cale> I wonder where it's seeing the '>'
15:44:53 <desrt> in the type signature for par#
15:45:04 <desrt> it's having trouble parsing it.. probably because of the #
15:45:09 <Cale> ah, that would make sense
15:45:21 <dolio> Should there be a "MonadPlus m => MonadPlus ContT r m" instance?
15:45:50 <Cale> dolio: I don't know, but I can't think of how that would work.
15:45:51 <dolio> (Missing some parentheses)
15:46:01 <desrt> i think haskell is like math in that it's not something you learn... it's something you get used to.
15:46:20 <dolio> Well, GHC doesn't have one, but I found some (old?) docs on "monadLib" that have such an instance.
15:46:25 <Cale> hmm
15:46:34 <desrt> i don't know why... but all of the sudden these strange haskell things make a lot more sense to me this time around
15:46:35 <Cale> It would be interesting to see how that might behave
15:46:54 <ThreeQ> what would mplus even mean in that case :/
15:47:00 <Cale> haha, reallyUnsafePtrEquality# :: a -> a -> Int#
15:47:11 <desrt> hahahah
15:47:31 <desrt> let me guess... unboxed 0 or 1
15:47:35 <Cale> yeah
15:47:42 <desrt> so evil :)
15:47:53 <desrt> the least they could have done was to box it :p
15:48:02 <Cale> that would encourage use
15:48:16 <ThreeQ> as if the "reallyUnsafe" weren't enough :P
15:48:26 <Cale> unboxing things is a really good way to make them completely unusable to newbies
15:48:43 <desrt> i remember wolfgang wrote a haskell program that stored powerpc assembly code to generate '42' in a heap object then jumped to it
15:48:53 <Cale> haha
15:49:13 <desrt> i think it was a boxed 42
15:50:46 <Cale> dons: where is your IOHCC entry?
15:51:20 * desrt wants eldby in haskell
15:51:33 <Cale> mm, was it dons' entry that I'm thinking of?
15:52:01 <desrt> http://www.ioccc.org/1996/eldby.c
15:53:06 <desrt> 18:51 [freenode] -!- #Œª Illegal channel name
15:53:07 <desrt> ghetto.
15:53:28 <Cale> http://www.cse.unsw.edu.au/~dons/crawl/crawl.hs
15:53:30 <lambdabot> http://tinyurl.com/yjln88
15:53:30 <shapr> I can't believe it's not butter!
15:53:31 <Cale> look at that :)
15:53:35 <dons> http://www.cse.unsw.edu.au/~dons/crawl/
15:53:35 <lambdabot> Title: Index of /~dons/crawl
15:53:39 <dons> ah yeah.
15:53:41 <Cale> yeah, that one :)
15:54:58 <desrt> hmm
15:55:03 <desrt> my haskell fails to parse that program
15:55:51 <dons> read the readme, it explains all
15:58:09 <desrt> i suspect you're just using some ghc feature which has disappeared
15:58:36 <desrt> oh.  my fault.  nm :p
15:58:56 <desrt> your doc fails to mention glasgow-exts :p
16:00:21 <Cale> Also, the kinding problems are back in 6.4.2 at least.
16:00:32 <desrt> The Glorious Glasgow Haskell Compilation System, version 6.4.1
16:00:32 <ThreeQ> 6.6 also
16:00:34 <ThreeQ> crawl.hs:3:43:
16:00:34 <ThreeQ>     Couldn't match kind `*' against `!'
16:00:43 <desrt> ^ works here with the slightly unobfuscated version
16:01:05 <desrt> obfuscated one does not work
16:01:11 <Cale> aha, yeah
16:01:22 <dons> ah interesting
16:01:47 <dons> cool. it dependend on a bug in the 6.3 type checker!
16:02:05 <desrt> you know you're elite when...
16:03:08 <Igloo> heh
16:04:02 <desrt> "ghc >= 6.3" -> "ghc == 6.3"
16:05:53 <monochrom> gghc ?
16:06:12 <desrt> g for glorious
16:07:22 <monochrom> I like "gghc"
16:07:50 <monochrom> darn it's "gghcs".  Now it's becoming dumb
16:21:54 <crashmatrix> Baughn, and it the return is a list with two elements of "String" because ?
16:22:39 <Baughn> @type filter
16:22:41 <lambdabot> forall a. (a -> Bool) -> [a] -> [a]
16:23:03 <crashmatrix> kay
16:23:21 <Baughn> crashmatrix: Think of it as meaning 'map (\x -> "String") (filter (> 5) [1,2,3,4,5,6,7])'
16:23:27 <Baughn> @type map
16:23:28 <lambdabot> forall b a. (a -> b) -> [a] -> [b]
16:23:45 <Baughn> ..those type definitions get extremely documentation-like after a while
16:24:32 <Baughn> Incidentally..
16:24:36 <Cale> http://www.agileadvice.com/archives/2006/10/means_and_ends.html -- does being "agile" mean that you make all your text light grey so that it's difficult to read?
16:24:40 <lambdabot> Title: It's NOT About the Money (Agile Advice), http://tinyurl.com/y7sn3z
16:24:41 <crashmatrix> That's nice, because it sounds like complete bullshit at the moment :)
16:24:51 <Baughn> > ((>) 5) 4
16:24:52 <lambdabot>  True
16:25:01 <dons> Cale: i think its required.
16:25:38 <dons> why is our industry so full of fad and hype?
16:25:54 <dons> see, that's not even a sentence: Is agile about economic benefit or not?
16:26:01 <Baughn> dons: We don't really understand it
16:26:13 <dibblego> dons, fly that question in big letters behind an aircraft all day long please
16:26:24 <dons> Baughn: yeah I guess. people don't like to measure things :/
16:26:49 <dons> dibblego: heh
16:28:00 <dons> I wonder if other engineering disciplines are more disciplined...
16:28:31 <SamB> I have *never* seen a bridge segfault
16:28:41 <dons> you sure ....
16:28:57 <dibblego> no they are not
16:29:00 <Baughn> SamB: I have. It turned itself into a sine wave and then fell apart.
16:29:00 <dibblego> this is my primary argument
16:29:07 <dibblego> I was a carpenter for 5 years
16:29:07 <Igloo> Thre have certainly been cases where bridges have been built in a way that it was known could fail
16:29:14 <SamB> Baughn: hmm.
16:29:27 <dibblego> in fact, hyperbole is proportional to immaturity of industry (my hypothesis)
16:29:34 <SamB> I bet most briges fail if you pile enough giant rocks on them
16:30:01 <Igloo> e.g. http://news.bbc.co.uk/hi/english/static/in_depth/uk/2000/millennium_bridge/default.stm
16:30:03 <dons> segmentation fault, http://www.lightandmatter.com/html_books/3vw/ch02/ch02.html
16:30:04 <lambdabot> Title: BBC News | In Depth | Millennium Bridge, http://tinyurl.com/u1k1
16:30:06 <lambdabot> Title: Resonance, http://tinyurl.com/yy5j9d
16:30:12 <dibblego> SamB, defined behaviour for that bridge
16:30:39 <dons> but the bridge builders have about 200 years on our industry..
16:30:52 <Baughn> Try four thousand
16:31:05 <dons> (i was thinking of suspension bridges and so on)
16:31:15 <dons> (otherwise you can count the greeks for logic and math ;)
16:31:16 <Baughn> Okay. Still, bridges are /simple/.
16:31:20 <Igloo> Also, most bridge designers are better qualified and care more (due to the public caring more)
16:31:31 <Pseudonym> Bridges are not simple.
16:31:37 <dibblego> bridges are not simple
16:31:39 <Pseudonym> Try building your own box girder bridge.
16:32:29 <Pseudonym> You're only saying they're simple because problems with bridges are rare.
16:32:37 <Pseudonym> Well, so are problems with aeroplanes.
16:32:44 <ThreeQ> bridges solve a specific problem, though
16:32:46 <Pseudonym> And rockets.
16:33:06 <ThreeQ> once you've got a good design, you can reuse it
16:33:08 <dons> if more people died as a result of segfaults, then quality might go up..
16:33:31 <dons> developers should receive electric shocks everytime they have a runtime type error
16:33:38 <dons> that'd fix things _real quick_
16:33:53 <Baughn> It'd send everyone over to Haskell, at least. Dunno if that'd be an improvement.
16:34:05 <Pseudonym> If people wanted bridges built next week, and changed the weight requirements and location three times before delivery, you'd see a lot more bridge failures.
16:34:06 <dibblego> dons, yep - mor specifically, if $ and quality were correlated... (I argue this is happening extremely slowly)
16:34:54 <kfish> people aren't used to non-broken software
16:35:07 <Pseudonym> http://www.fastcompany.com/online/06/writestuff.html <- This is software done according to real engineering principles.  Who's going to pay for this?
16:35:11 <lambdabot> Title: They Write the Right Stuff, http://tinyurl.com/1di
16:35:46 <dons> i wonder if accurate clockmaking a few hundred years ago was a bit like this. the movie 'longitude' gave me a sense that there were some really awful hacks that went into 18th century clockmaking
16:36:11 <SamB> at least bridges can be overengieenered. and you rarely have to work in unanticipated communication between subssystems in a bridge...
16:37:28 <Baughn> As Pseudonym's link suggests, software can be overengineered too. But who's going to pay for it, indeed?
16:37:58 <dons> kfish: right.
16:38:16 <ThreeQ> also, I think software really is different from any other kind of engineering
16:38:17 <dons> the quality is so low that people are happy with garbage and thankful for it.
16:39:13 <kfish> for the market to actually expect non-broken software, first they have to get a taste for it
16:39:39 <dons> and i suspect that you can be as 'agile' as you like, but its not going to help
16:39:57 <dons> kfish: yeah. as linux taught windows users they didn't have to expect to reboot once a day or more
16:40:48 <Pseudonym> Agility is a hack to try to overcome the unreasonable nature of software development.
16:40:54 <ThreeQ> when you're building or simulating something physical, you have physics to tell you immediately if your device is going to fall apart
16:41:01 <ThreeQ> it's harder to tell when software is going to fall apart
16:41:18 <ThreeQ> especially without a type system :)
16:42:04 <dons> so that's something at least, competition and the market drive a natural selection on technologies -- towrds productivity at least
16:44:24 * SamB pokes GHC
16:44:32 <SamB> I want something with a decent optimizer
16:45:02 <SamB> And I think a decent optimizer needs far more documentation
16:45:27 <SamB> or a much simpler structure
16:45:45 <sjanssen> GHC's optimizer doesn't count as decent?
16:46:44 <SamB> it is *way* too fragile
16:48:21 <desrt> fragile how?
16:49:52 <dons> when SamB does random hacks to the inliner, sometimes they make some things faster, sometimes they make everything slower :)
16:50:21 <crashmatrix> Is Win98 still supported by GHCi?
16:50:55 <crashmatrix> because I'm getting a rather large protection error when I start it up
16:51:34 <monochrom> There is no overengineered software yet.  Perhaps overfeatured - but that only means overbugged, quite the contrary to overengineered.
16:52:03 <dons> crashmatrix: hmm. that's two people now
16:52:13 <dons> i wonder if the executable memory stuff breaks on non-XP
16:52:20 <dons> crashmatrix: can you report it? let me find a url for you
16:52:47 <crashmatrix> I will report it, tomorrow, I'm off to bed, as I just shut down the pc, but send me the link anyway
16:52:49 <monochrom> An overengineered program is one which not only works under anticipated conditions, but also works under unanticipated conditions!  This has not happened yet.
16:53:05 <dons> crashmatrix: hang on....
16:53:08 <dons> just about to give you a link...
16:53:23 <dons> add to this guy, perhaps, http://hackage.haskell.org/trac/ghc/ticket/970
16:53:27 <lambdabot> Title: #970 (GHCi crashes under Windows Millenium) - GHC - Trac, http://tinyurl.com/sdnyf
16:53:29 <dons> since it sounds liek the same thing?
16:54:53 <crashmatrix> Doesn't seem like the same thing per se, mine breaks while 'loading packet base' I guess, but I don't know GHCi enough to figure it out, will file a report tomorrow for completeness
16:55:01 <dons> both ghci though?
16:55:04 <dons> and you're using 6.6?
16:55:05 <crashmatrix> yeah
16:55:12 <crashmatrix> yep, 6.6
16:55:30 <dons> yeah, I'd bet its the same issue
16:55:39 <dons> and since its ghci, i think its the new exec memory stuff.
16:55:51 <dons> anyway, please report. and perhaps mention the Windows-Me thing in your bug report
16:56:17 <dons> Igloo: ^^ both windows-me and windows-98 are crashing on ghci loading base.
16:56:21 <dons> in 6.6
16:56:28 <crashmatrix> I haven't tried using ghc itself, since I didn't get to the part in the tutorial where I compile a complete haskell file, or build a main structure :p
16:56:38 <dons> ghc should probably work.
16:56:48 <dons> ghc Main.hs ; ./a.out.exe
16:56:55 <crashmatrix> most likely, but I didn't get to test it yet :)
16:57:07 <crashmatrix> anyway, good night for now
16:57:09 <dons> if you could test that before reporintg, that'd be good.
16:57:14 <dons> i.e. main = print "hello, world"
16:57:19 <crashmatrix> rgr that
16:57:21 <dons> in a file, Main.hs, then compile with : ghc Main.hs
16:57:25 <dons> and run the result
16:58:01 <dons> anyway, you can switch back to ghc 6.4.2, which should work
16:58:09 <crashmatrix> k
16:59:31 <Igloo> dons: Hmm, I only have XP
16:59:47 <Igloo> dons: There was some talk about something breaking for older versions of Windows, but I forget what OTTOMH
17:02:57 <dons> Igloo: well we have a report for 6.6 and Windows Me, and now crashmatrix says the same thing roughly for 98
17:03:43 <Igloo> It could also be stack protection stuff. I'll try to look that up tomorrow
17:13:08 <SamB> ooh, I like this
17:13:16 <SamB> "The sooner you fall behind, the more time you will have to catch up."
17:13:58 <Botty> lol
17:14:18 <dons> oh that's good.
17:14:44 <SamB> from the end of that Right Stuff article
17:16:56 <kfish> hey, is there an implicit ban on writing new gui libraries in haskell?
17:17:19 <kfish> i'm sick of getting runtime "assertion failed" warnings in gtk apps
17:17:37 <desrt> kfish; yes.  use gtk.
17:17:46 <desrt> or fix the gtk binding
17:18:19 <kfish> it's been pissing me off for about 8 years now
17:18:31 <desrt> so you have a lot of motivation to fix it
17:18:33 <desrt> get to work!
17:18:47 <kfish> ;-)
17:19:44 <SamB> maybe GTK itself is broken, though?
17:20:13 <desrt> the gtk guys are good about accepting patches
17:20:22 <dibblego> "assertion failed: Integer value may only be 0 or 1"
17:21:00 <SamB> yes, but GTK is written in *C*!
17:21:07 <dons> kfish: there's a project to revive wxHaskell
17:21:17 <dons> but you know ... if you want to do enlightenment bindings or something ...
17:22:52 <arjanoosting> @tell CosmicRay I have fixed the build of washngo and uploaded an NMU
17:22:53 <lambdabot> Consider it noted.
17:23:36 <kfish> dons ... heh
17:29:48 <subdie> hello, have anyone tried to execute Planet.hs example from http://www.haskell.org/HOpenGL/ ?
17:29:50 <lambdabot> Title: HOpenGL
17:33:41 <arjanoosting> SyntaxNinja: I have just uploaded the NMU of darcs
17:33:55 <kfish> SamB, yeah, there's a lot of strcmp-based lookups of signal names and other completely runtime stuff: gtk2hs does a good job of wrapping them typesafely though
17:35:26 * lispy waves
17:35:38 <lispy> arjanoosting: NMU?
17:36:07 <lispy> subdie: hmm...i don't remember if i have, does it give you problems?
17:36:17 <arjanoosting> lispy: Non-maintainer upload
17:36:17 <lispy> subdie: i have some simple HOpenGL examples
17:36:43 <lispy> subdie: http://projects.codersbase.com/repos/nehe-tuts
17:36:46 <lambdabot> Title: Index of /repos/nehe-tuts, http://tinyurl.com/uv496
17:37:00 <lispy> arjanoosting: what does that mean?
17:37:02 <xtruppaw> anyone can suggest a good haskell graphics library with some support ... such as book supporting it or some tutorials
17:37:20 <lispy> arjanoosting: better yet, is this something cool related todarcs? if so, that's why i'm curious :)
17:37:33 <SyntaxNinja> arjanoosting: you rock!
17:37:58 <emk> Silly question: What would be a good name for a function with the type signature "Monad m => (a -> m a) -> b -> m b"?
17:38:22 <subdie> lispy, thanks, those are working great
17:38:43 <emk> ...where a is an element of b. It looks like a cousin of mapM, but the function being mapped is already in the monad.
17:39:00 <lispy> xtruppaw: what sort of graphics? there is cairo support, gtk2hs, wxhaskell, hopengl and so on...
17:39:03 <arjanoosting> lispy: I am not the maintainer of the Debian package of darcs, but I have changed something and uploaded it to the Debian archive; thus a Non-maintainer upload
17:39:03 <emk> Hoogle is less than helpful.
17:39:14 <lispy> arjanoosting: ah
17:39:22 <subdie> lispy, how did you learn how to use hopengl?
17:39:40 <sjanssen> @type \f v -> return v
17:39:40 <xtruppaw> lispy: I am interested in drawing simple polygons, such as triangles, squares ... origami stuff
17:39:41 <lambdabot> forall (m :: * -> *) a t. (Monad m) => t -> a -> m a
17:39:41 <Pseudonym> emk: WHat does it do?
17:39:46 <subdie> i'm reading this thing: http://www.tfh-berlin.de/~panitz/hopengl/skript.html
17:39:50 <lambdabot> http://tinyurl.com/encnj
17:39:52 <subdie> but it doesn't seem very good
17:39:54 <lispy> subdie: well, i took a course on opengl, then reading through the nehe-tuts i sat in here and asked a lot of questions :)
17:40:01 <lispy> subdie: Lemmih was particularly helpful
17:40:05 <emk> Pseudonym: It maps a function over certain elements in a tree...
17:40:09 <subdie> hum
17:40:17 <arjanoosting> lispy: I updated the Debian darcs package to 1.0.9rc1 which compiles with ghc 6.6
17:40:23 <Pseudonym> I don't see a tree in the type signature.
17:40:30 <lispy> arjanoosting: thanks
17:40:33 <subdie> I know nothing about opengl, and I don't like doing graphical interfaces at all :(
17:40:39 <emk> Pseudonym: Let me see if I can make it more specific...
17:40:39 <sjanssen> emk: so it's a monadic map, but over a tree rather than a list?
17:40:42 <subdie> anyhow
17:41:06 <emk> (Monad m, Tree t e) => (e -> m e) -> t -> m t
17:41:10 <lispy> subdie: you can use those source files as a compantion to the nehe tutorials for maximum benefit i would imagine
17:41:11 <subdie> do you know what's wrong with this? http://www.rafb.net/paste/results/HDEypI42.html
17:41:22 <Pseudonym> OK, now that is more like it.
17:41:25 <subdie> it's not displaying anything, only a black screen
17:41:33 <Pseudonym> This is like saying:
17:41:39 <subdie> the tutorial says it should display some white polygon
17:41:46 <Pseudonym> (Monad a) => (a -> m a) -> T a -> m (T a)
17:41:49 <Pseudonym> Right?
17:41:56 * Pseudonym assumes Tree is fundep'd
17:41:58 <emk> sjanssen, Pseudonym: It's almost like mapM, except the function argument returns it result in a monad.
17:42:06 <Pseudonym> ?type mapM
17:42:07 <lambdabot> forall b (m :: * -> *) a. (Monad m) => (a -> m b) -> [a] -> m [b]
17:42:10 <Pseudonym> Right.
17:42:19 <Pseudonym> So it'd be something like treeMapM
17:42:27 <sjanssen> emk: http://www.haskell.org/ghc/docs/latest/html/libraries/base/Data-Traversable.html see mapM in that module
17:42:30 <lambdabot> http://tinyurl.com/ylnfaa
17:42:31 <Pseudonym> Hmmm.
17:42:34 <emk> Pseudonym: Yeah, looks like.
17:42:59 <lispy> subdie: that problem sounds really familiar
17:43:19 <Pseudonym> It'd be nice if you could:
17:43:25 <lispy> subdie: i'll lokat the code real quick, but i think i had a problem like that where i added an initalization statement of somesort
17:43:28 <emk> Pseudonym: I think that will work. Thanks!
17:43:31 <Pseudonym> (Monad m, Functor f) => (a -> m b) -> f a -> m (f b)
17:43:47 <lispy> subdie: ah yeah, something needs to get called that isn't...
17:44:03 <ThreeQ> ?type Data.Traversable.mapM
17:44:04 <lambdabot> Couldn't find qualified module.
17:45:01 <lispy> subdie: the biggest problem i've had learning HOpenGL is that many function names have changed to make it a more haskell friendly interface
17:45:43 <subdie> hum
17:46:41 <lispy> subdie: some day, when i find the time i want to write a functional scene graph abstraction on top of HOpenGL so that you can declare your scenes instead of messing with all the state of the OpenGL statemachine
17:47:14 <subdie> that would be great
17:47:22 <SamB> lispy: you'd think that would be the obvious thing to do with HOpenGL
17:47:30 <SamB> and that someone would have done it by now
17:47:51 <lispy> SamB: well, i think HOpenGL should continue to provide low level bindings
17:47:56 <Pseudonym> Port OpenInventor.
17:47:57 <lispy> SamB: but otherwise, i 100% agree
17:48:05 <lispy> Pseudonym: that's kinda the idea
17:48:15 <emk> I'm always happy when a Haskell program starts fitting together nicely... I can feel when it's going wrong.
17:48:17 <Igloo> Yay, Diki logo done. Unfortunately I'm running out of things to get sidetracked by before I need to start thinking about darcs-as-a-library
17:48:27 <lispy> Pseudonym: but, i admit, i only tangentially know about OpenInventor
17:48:33 <SamB> lispy: oh, absolutely
17:48:42 <SamB> I didn't intend to imply otherwise
17:49:26 <lispy> Igloo: would be good to draw up some design documenation about such a beast
17:49:48 <lispy> but, I too have other things i should be working on :)
17:53:20 <subdie> I found out what was missing
17:53:24 <dons> ?uptime
17:53:24 <lambdabot> uptime: 4m 35s, longest uptime: 6d 23h 44m 3s
17:53:26 <subdie> I needed to call swapBuffers
17:53:34 <dons> ?users
17:53:34 <lambdabot> Maximum users seen in #haskell: 256, currently: 232 (90.6%), active: 6 (2.6%)
17:54:00 <subdie> lispy, doesn't haskell have something like pygame
17:54:01 <subdie> ?
17:54:21 <subdie> I found it really easy to use
17:54:42 <lispy> subdie: what is pygame?
17:54:46 <lispy> subdie: sounds like python
17:54:56 <subdie> yes, it's python
17:55:00 <subdie> it's a sdl wrapper
17:55:04 <lispy> subdie: ah, glad you found it, yes that sounds familiar
17:55:18 <Botty> dunno, i've always thought that opengl interfaces should reflect the idioms of the language.  or at least have some thought to the user.  For example, opengl for .net you have to write Gl.glvertex3f etc
17:55:19 <lispy> there are sdl bindings for haskell
17:55:28 <subdie> i think it adds extra stuff, I'm not too familiar with sdl
17:55:33 <subdie> hum, let me see those
17:55:52 <Botty> sdl does like sound, input, textures, video and such
17:55:58 <Botty> in addition to ogl contexts
17:56:13 <lispy> Botty: i think, it's good to provide that so that people who know opengl can findit, but i agree that adding a layer on top to make it fit the language is awesome
17:56:18 <Botty> my personal favorite is glfw, very simple and powerful
17:56:33 <SamB> SDL is apparantly not well optimized
17:56:41 <lde> can i do pattern matching in anonymous functions?
17:56:43 <SamB> the blits are written in C or C++
17:57:02 <Botty> glfw is nice and sleak, allowing it to be ported to various platforms without too much trouble
17:57:09 <lispy> SamB: i've had good performance with SDL on linux, and less so on windows...
17:57:15 <Botty> I'm actually writing a haskell wrapper for it, but haven't got it to compile
17:57:17 <SamB> lde: case expr of Foo a -> f a; Bar b -> g b
17:58:00 <SamB> Botty: does it steal "main"?
17:58:15 <subdie> hum, the pygame performace was good for what I needed
17:58:41 <lde> SamB: well, yes, but i can do e.g. (\ True -> False), is there a way to add False -> True?
17:58:49 <SamB> lde: no
17:59:07 <lde> thanks
17:59:15 <subdie> hum, I thought that example I posted would use 100% cpu
17:59:26 <subdie> shouldn't it?
18:01:47 <emk> @hoogle (Monad m) => (a -> m a) -> a -> m a
18:01:48 <lambdabot> Prelude.($!) :: (a -> b) -> a -> b
18:01:49 <lambdabot> Prelude.($) :: (a -> b) -> a -> b
18:01:49 <lambdabot> Data.Generics.Schemes.everywhere :: (a -> a) -> a -> a
18:02:52 <kpreid> emk: what're you looking for?
18:03:26 <SamB> might I suggest "id"?
18:03:31 <emk> kpreid: I'm trying to explore different functions for mapping over structures in a monad...
18:03:37 <sjanssen> @pl \f x -> return x >>= f
18:03:37 <lambdabot> id
18:03:46 <sjanssen> oh, duh
18:04:00 <kpreid> emk: well, that one is id, as SamB says
18:04:08 <dolio> ?fptools Control.Monad.Cont
18:04:08 <lambdabot> http://darcs.haskell.org/packages/mtl/Control/Monad/Cont.hs
18:04:17 <SamB> sjanssen: isn't that one of the monad laws?
18:04:25 <sjanssen> SamB: yes, I believe so
18:04:26 <emk> kpreid: a is a recursive type, and I'm trying to transform each recursive instance...
18:05:04 <kpreid> ah, well, there's a big difference between (Foo -> m Foo) -> Foo -> m Foo and what you gave
18:05:42 <kpreid> @type liftM tail
18:05:44 <lambdabot> forall a (m :: * -> *). (Monad m) => m [a] -> m [a]
18:05:51 <kpreid> er
18:06:18 <emk> kpreid: Yup. I'm still not sure about the best way to query Hoogle by type... I'm just a Haskell newbie. :-)
18:06:47 <kpreid> emk: what I mean is, such functions are necessarily specific to a given data structur
18:06:52 <kpreid> e
18:07:44 <emk> kpreid: Yeah, that's obvious now that I think about it. I'm mostly trying to design a part of a toy compiler until it looks nice, and I'm trying to figure out if there are any "standard" names for the patterns I'm finding...
18:07:55 <emk> s/design/redesign/
18:08:53 <emk> kpreid: Is there any conventional name for functions like (Foo -> m Foo) -> Foo -> m Foo over recursive structures?
18:08:55 <kpreid> @pl \k x -> (k :: Monad m => a -> m b) (tail x)
18:08:56 <lambdabot> (line 1, column 28):
18:08:56 <lambdabot> unexpected ">"
18:08:56 <lambdabot> expecting variable, "(", "`", "!!", ".", operator or ")"
18:09:06 <SamB> hmm, my DNS ain't working
18:10:00 <dolio> ?type (=<<)
18:10:01 <lambdabot> forall b (m :: * -> *) a. (Monad m) => (a -> m b) -> m a -> m b
18:10:07 <kpreid> emk: I don't know
18:10:47 <kpreid> emk: I note that that's a bit like Data.Generics.Schemes.everywhereM without the generic part
18:10:48 <emk> kpreid: Well, thanks for humoring a newbie who keeps feeling like he must be reinventing the wheel. :-)
18:11:09 <emk> kpreid: Interesting. I'll go take a look.
18:11:42 <sjanssen> emk: I'd call that a mapM
18:11:46 <dolio> ?type flip $ \f -> mfix
18:11:47 <lambdabot> forall a (m :: * -> *) a1. (MonadFix m) => (a1 -> m a1) -> a -> m a1
18:11:50 <sjanssen> mapFooM, probably
18:12:52 <emk> sjanssen: Yeah, I've been oscillating between mapFooM and fooMapM for a few minutes...
18:13:56 <dons> This week's Haskell Weekly News online (and on reddit!) mod up! http://programming.reddit.com/info/oi79/comments
18:14:00 <lambdabot> Title: Haskell Weekly News: Associated Data Types, How to create a Haskell project (red ..., http://tinyurl.com/yxzfex
18:20:39 --- topic: '["http://www.haskell.org/haskellwiki/HaWikiMigration - act soon or the data will be deleted!", "Join us as we move forward toward the Age of the Lambda", "Haskell - the language of ICFP winners 3 years running", "Logs: http://tunes.org/~nef/logs/haskell/"]'
18:20:39 --- topic: set by dons on [Tue Sep 26 08:23:47 2006]
18:20:39 --- names: list (clog Twigathy_ Plareplane dolio lambdabot mjk emk subdie noclouds integral Botty Trixsey satan mascht lennart lde mr_ank crashmatrix spiffy jtoy Pseudonym erider nicodaemos dibblego kpreid fik ioerror gzl Narcisse clanehin_ ihope desrt pef superjudge dgoldsmith AtnNn SyntaxNinja lOkadin_ sris badalex mathewm Captain_Fourier thou fons camster FingTam lisppaste2 pandres ChilliX Sweetshark khaladan hyraxfourtwo the_dormant shapr Patterner)
18:20:39 --- names: list (converter Dreadshoot ramkrsna arjanb ToRA Mibori lispy slipstream genneth _frederik_ Itkovian Averell Pupeno Pete_I koffein_ bdash DRMacIver Syzygy- thneed noradio glguy araujo Nioate_ SamB sieni df_ Wallbraker jgrimes pingu newsham boliver_ Botje Eidolos SamB_XP szabi_ mGem lovecoder cods tessier mathrick triple_ Philippa drbean_ woggle TSC giksos balayhashi flux__ jcreigh cdfh benben astrolabe dvekravy Kattana ajonat_ saccade GeoBesh)
18:20:39 --- names: list (pave1 thief_grr tessier_ moonlite mornfall atsampson Bobstopper Smokey` ThreeQ Adamant qz nothingmuch ValarQ Foxyloxy rblackwe shawn dino- cmeme rafl Baughn jmob _matthew_ Cale sjanssen Akheron l_a_m eno arjanoosting Igloo Daveman meddle gaal profmakx Xgc xinming resiak exnor dblog toyz JKnecht wagle nnunley Lunar^ earthy hyrax42 Tigge cpatrick sigfpe_ dcoutts_ Lor kosmikus greenrd scw ibid jdev ksandstr liyang kzm Maddas cjay petekaz kolmodin)
18:20:39 --- names: list (Codex_ kpk epitron JohnMeacham vegai gds Spark norpan audreyt wolverian ski Lemmih musasabi magagr aleator bran_ thebug arcatan ozone carp dons psnl kalven SimonRC mux rycee pejo emu mlh unclear dany2k Khisanth kaol shrimpx scsibug Dylan wilx mattam johs edwinb arguile_ xerox fnordus qwr zamez lucca gdsx osfameron explicitjelly moconnor void noj ohub orbitz)
18:20:39 <emk> :type everywhere
18:20:46 <emk> ?type everywhere
18:20:47 <lambdabot> Not in scope: `everywhere'
18:20:55 <emk> ?type everywhereM
18:20:57 <lambdabot> Not in scope: `everywhereM'
18:21:28 <sjanssen> "Ben Rudiak-Gould made a new for scoped type variables" should have "proposal" between "new" and "for"
18:25:05 <dons> sjanssen: ah thanks. fixing...
18:26:13 <dons> done.
18:26:16 <dons> sjanssen++
18:28:53 <aFlag> lispy, what package is the module Util on?
18:29:51 <lispy> aFlag: what do you mean?
18:30:15 <lispy> aFlag: it's in the same directory as the lessons
18:30:21 <aFlag> in one of those lessons, there was "import Util ( Image(..), bitmapLoad )"
18:30:21 <aFlag> oh
18:30:50 <aFlag> thanks
18:30:58 <lispy> aFlag: yw :)
18:31:23 <chessguy> howdy howdy
18:31:26 <lispy> aFlag: if you have a clearer way to write any of that, i accept patches
18:31:59 <lispy> aFlag: the only deal is that it needs to just depend on HOpenGL and be accessible to people with little real-world haksell experience
18:33:56 <aFlag> I doubt I'll be able to come up with anything better. I'm actually trying just to learn how to do simple 2d graphics :)
18:34:05 <lispy> aFlag: for example, the endianness check could be rewritten and simplified
18:34:24 <aFlag> hum, why do you need an endianness check?
18:34:44 <lispy> aFlag: bitmaps assume a certain endianness when they are stored
18:34:55 <aFlag> oh
18:35:59 <lispy> aFlag: so i do a semi-weird, semi-clever thing of detecting endianness at compile time
18:36:22 <lispy> aFlag: but actually, if i used arithmetic you wouldn't need to care about endianness
18:39:29 <aFlag> where would you use arithmetic?
18:41:02 <lispy> aFlag: well, you know the endianness of the file, it's fixed.  So when  you read in the values you can multiply (or shift) them and add them up instead of what i do, which is poke the bytes into their places in memory and then readthem as integers
18:41:44 <lispy> aFlag: since i poke them into their places is memory i have to know which order to poke them, but if i was letting the CPU do it as values it would do it automatically
18:42:56 <aFlag> I get it
18:44:25 <emk> kpreid: everywhereM is exactly what I was looking for--the rest of the code is now falling together very neatly. And now the "Scrap Your Boilerplate" papers have been added to my reading list... :-)
18:45:56 * kpreid hasn't read them
18:47:10 <dons> araujo: HWN is out, commence translation sequence... :)
18:47:10 <chessguy> hmm, what are you referring to by the word 'bitmaps'?
18:47:26 <lispy> chessguy: .bmp files
18:47:33 <chessguy> oh, ok
18:47:41 <lispy> chessguy: http://projects.codersbase.com/repos/nehe-tuts/
18:47:44 <lambdabot> Title: Index of /repos/nehe-tuts, http://tinyurl.com/z45ck
18:49:28 <chessguy> i thought you were talking about binary strings as bitmaps. and chess-programmers have a very specific meaning for that term. i hadn't heard it referring to bitstrings outside that context before
18:50:03 <lispy> chessguy: yeah, images sort of stopped being bitmaps around the time they became 4 color or so :)
18:50:13 <lispy> chessguy: but i guess the name stuck
18:50:36 <mwc> lispy, 8 bit color would be a bytemap, wouldn't it :)
18:50:44 <lispy> mwc: i would think so
18:51:08 <lispy> which would make these wordmaps
18:51:46 <chessguy> so what are these lessons about?
18:51:48 <lispy> so you could have: bitmaps, nibblemaps, bytemaps, wordmaps, doublewordmaps and quadwordmaps
18:51:55 <chessguy> not much info in the readme
18:51:57 <lispy> chessguy: check the README :)
18:52:05 <chessguy> ...
18:52:06 <mwc> lisppaste2, don't forget the octwordmaps
18:52:07 <lispy> chessguy: ah, well, they're about using HOpenGL
18:52:35 <chessguy> a graphics library?
18:52:38 <lispy> chessguy: i thought everyone know teh nehe tutorials :)
18:52:40 <lispy> chessguy: yes
18:52:45 <mwc> yeah, an opengl binding for haskell
18:52:56 <chessguy> ok
18:54:38 <mwc> I think that darcs repo is broken
18:54:45 <mwc> Couldn't do a get from http://projects.codersbase.com/repos/nehe-tuts/
18:54:49 <lambdabot> Title: Index of /repos/nehe-tuts, http://tinyurl.com/z45ck
19:05:07 --- topic: '["http://www.haskell.org/haskellwiki/HaWikiMigration - act soon or the data will be deleted!", "Join us as we move forward toward the Age of the Lambda", "Haskell - the language of ICFP winners 3 years running", "Logs: http://tunes.org/~nef/logs/haskell/"]'
19:05:07 --- topic: set by dons on [Tue Sep 26 08:23:47 2006]
19:05:07 --- names: list (clog_ largos yetifoot koffein mwc chessguy woggle kpreid clog Twigathy_ Plareplane dolio lambdabot emk aFlag noclouds integral Botty Trixsey satan mascht lennart lde mr_ank crashmatrix jtoy Pseudonym erider nicodaemos dibblego gzl Narcisse clanehin_ ihope desrt pef superjudge dgoldsmith AtnNn SyntaxNinja lOkadin_ sris badalex mathewm Captain_Fourier thou fons camster lisppaste2 pandres ChilliX Sweetshark khaladan hyraxfourtwo the_dormant)
19:05:07 --- names: list (shapr Patterner converter Dreadshoot ramkrsna arjanb ToRA Mibori lispy slipstream genneth _frederik_ Itkovian Averell Pupeno Pete_I bdash DRMacIver Syzygy- thneed noradio glguy araujo Nioate_ SamB sieni df_ Wallbraker jgrimes pingu newsham boliver_ Botje Eidolos SamB_XP szabi_ mGem lovecoder cods tessier mathrick triple_ Philippa drbean_ TSC giksos balayhashi flux__ jcreigh cdfh benben astrolabe dvekravy Kattana ajonat_ saccade GeoBesh)
19:05:07 --- names: list (pave1 thief_grr tessier_ moonlite mornfall atsampson Bobstopper Smokey` ThreeQ Adamant qz nothingmuch ValarQ Foxyloxy rblackwe shawn dino- cmeme rafl Baughn jmob _matthew_ Cale sjanssen Akheron l_a_m eno arjanoosting Igloo Daveman meddle gaal profmakx Xgc xinming resiak exnor dblog toyz JKnecht wagle nnunley Lunar^ earthy hyrax42 Tigge cpatrick sigfpe_ dcoutts_ Lor kosmikus greenrd scw orbitz ohub noj void moconnor explicitjelly osfameron)
19:05:07 --- names: list (gdsx lucca zamez qwr fnordus xerox arguile_ edwinb johs mattam wilx Dylan scsibug shrimpx kaol Khisanth dany2k unclear mlh emu pejo rycee mux SimonRC kalven psnl dons carp ozone arcatan thebug bran_ aleator magagr musasabi Lemmih ski wolverian audreyt norpan Spark gds vegai JohnMeacham epitron kpk Codex_ ibid jdev ksandstr liyang kzm Maddas cjay petekaz kolmodin)
19:07:34 <lispy> hoogle isn't as comprehensive as it could be
19:07:49 <largos> yeah.. gtk2hs is advertised as being in hoogle though..
19:07:54 <lispy> ah
19:09:49 <largos> hm.. and the code I found requires a package that doesn't exist :)
19:10:01 <largos> (Graphics.Rendering.Cairo.SVG)
19:10:24 <sjanssen> largos: that's a module, not a package
19:10:33 <sjanssen> to be pedantic ;)
19:10:34 <lispy> that's technically a module, but finding out which package that belongs to can be tricky
19:10:49 <sjanssen> largos: perhaps you need a newer version of gtk2hs?
19:11:04 <largos> ah, the haskell terminology is still not automatic
19:11:16 <sjanssen> or need to enable Cairo support when you build gtk2hs?
19:11:22 <largos> sjanssen: perhaps, looking for a nightly snapshot..
19:11:23 <sjanssen> I don't really know, just guessing
19:11:25 <lispy> largos: that's "haskinology" ;)
19:11:40 <largos> I have the latest released version, and cairo works for other things
19:12:06 <largos> and this code was reportedly written in Jan. '06 :(
19:12:20 <lispy> largos: does the file you found have an email addy?
19:12:35 <lispy> at this point, emailing the author is probably the fastest way to find it
19:12:42 <largos> lispy: nope
19:12:47 <SamB_XP> largos: you aren't building your own?
19:12:59 <largos> SamB_XP: my own SVG library?
19:13:07 <SamB_XP> oh, nevermind
19:13:38 * lispy wonders what SamB_XP was thinking
19:13:43 <SamB_XP> oh, no, don't nevermind... I meant gtk2hs
19:13:49 * lispy tries to concentrate on his midterm
19:13:51 <largos> ah..
19:13:52 * SamB_XP is one of those wierdos who builds from source
19:14:00 <largos> I don't recall
19:14:05 <lispy> SamB_XP: you're the poster boy for gentoo :)
19:14:20 <SamB_XP> thats funny, because I am a Debian user ;-)
19:14:26 <largos> SamB_XP: I think I did build from source
19:14:30 <SamB_XP> I usually only build Haskell stuff from source
19:15:03 <largos> SamB_XP: but I did build the latest version ... and none of the APIs I've found list the module I need
19:15:18 <SamB_XP> huh!
19:15:27 <largos> hm.. actually... is gtk2hs dead?
19:15:32 <SamB_XP> heh
19:15:40 <SamB_XP> no
19:15:42 <largos> the last release will be a year old in 2 days
19:15:50 <SamB_XP> ah, release!
19:16:03 <SamB_XP> try HEAD
19:16:13 * largos sighs
19:16:17 <largos> in process...
19:16:42 <SamB_XP> dcoutts_: maybe you should release more often?
19:16:55 <lispy> ?tell dcoutts_ isn't it about time for a new gtk2hs release?  I hear the current one is about a year old
19:16:55 <lambdabot> Consider it noted.
19:17:04 <largos> hehe
19:17:20 <SamB_XP> @tell dcoutts <lispy> isn't it about time for a new gtk2hs release?  I hear the current one is about a year old
19:17:20 <lambdabot> Consider it noted.
19:17:27 <lispy> heeh
19:17:35 <largos> I love the way bitching about things in here seems to generate more than entropy :)
19:17:41 <lispy> ?tell SamB_XP stop abusing lambdabot ;)
19:17:41 <lambdabot> Consider it noted.
19:17:48 <SamB_XP> what?
19:17:48 <lambdabot> SamB_XP: You have 1 new message. '/msg lambdabot @messages' to read it.
19:17:52 <SamB_XP> you spelled it wrong!
19:18:10 <SamB_XP> @messages
19:18:10 <lambdabot> lispy said 29s ago: stop abusing lambdabot ;)
19:18:39 <lispy> SamB_XP: ah, well dcoutts_ is currently what my client thinks his name is
19:18:47 <SamB_XP> yes
19:18:55 <SamB_XP> but
19:19:00 <Adamant> ?tell lambdabot hello world
19:19:00 <lambdabot> Nice try ;)
19:19:12 <SamB_XP> your client should not be trusted in such matters as @tell
19:19:13 * Lemmih grins.
19:19:22 <sjanssen> @tell Adamant owned!
19:19:22 <lambdabot> Consider it noted.
19:19:32 <lispy> SamB_XP: them's fight'n words! ;)
19:20:55 <Adamant> ?tell sjanssen they think of everything here!
19:20:55 <lambdabot> Consider it noted.
19:21:10 <Adamant> :)
19:21:10 <lambdabot> Adamant: You have 1 new message. '/msg lambdabot @messages' to read it.
19:22:07 <sjanssen> @messages
19:22:07 <lambdabot> Adamant said 1m 12s ago: they think of everything here!
19:25:02 <lispy> largos: is the upgrade working out?
19:26:24 <largos> lispy: working on it... had to manually uninstall
19:28:06 <largos> how do I check my version of haddock?
19:29:00 <largos> (n/m. it's at least 0.6..)
19:30:13 <mgoetze> finally, darwinports, er i mean macports, is willing to try and build ghc for me! what a glorious day!
19:30:16 <lispy> largos: haddock is runnable, so haddock --version probably
19:31:05 <mgoetze> oh... configure: error: C compiler cannot create executables
19:31:20 <mgoetze> darn, and i was so looking forward to it, too
19:31:48 <SamB_XP> mgoetze: you do have a C compiler, right?
19:33:00 <mgoetze> SamB_XP: uh, yeah, i have the borked gcc 4.0 which comes with xcode tools 2.4 and also some experimental gcc 4.2 build from darwinports, er macports
19:34:05 <largos> lispy: weird, it's apparently not in my path
19:34:44 <lispy> largos: i wouldn't worry about it, unless you want to build the documentation
19:35:08 <largos> lispy: yeah, I do :)
19:35:44 <largos> no worries, it just wasn't installed
19:36:27 <largos> I have doubts that this will actually fix my svg issue though
19:36:52 <largos> I did a quick find for *SVG* on the source tree and it turned up nil
19:37:28 <SamB_XP> huh
19:37:30 <lispy> hmm...yeah, not so good sounding
19:38:52 <lispy> ?seen dcoutts_
19:38:52 <lambdabot> dcoutts_ is in #ghc, #gentoo-haskell, #haskell-overflow and #haskell. I don't know when dcoutts_ last spoke.
19:39:00 <lispy> ?seen dcoutts_
19:39:01 <lambdabot> dcoutts_ is in #ghc, #gentoo-haskell, #haskell-overflow and #haskell. I don't know when dcoutts_ last spoke.
19:39:03 <lispy> ?seen dcoutts_
19:39:03 <lambdabot> dcoutts_ is in #ghc, #gentoo-haskell, #haskell-overflow and #haskell. I don't know when dcoutts_ last spoke.
19:39:04 <lispy> sorry
19:39:30 <lispy> 5 hours ago or so, so he's asleep i'm guessing
19:39:40 <largos> yeah
19:39:46 <sjanssen> ?where phrac
19:39:46 <lambdabot> http://www.cse.unsw.edu.au/~pls/repos/phrac/
19:41:00 <fons> --make and -no-hs-main don't work together in ghc?
19:41:11 <fons> $ ghc --make -no-hs-main Null.hs
19:41:32 <largos> ah.. yep. looks like dcoutts wrote the svg app...
19:41:37 <fons> Linking a.out ... /usr/lib/ghc-6.6/libHSrts.a(Main.o): In function `main': ...
19:41:42 <lispy> fons: i'm not sure what -no-hs-main does
19:42:06 <fons> lispy, it links without looking for a main function
19:42:33 <fons> lispy, I need that cause I'm coding plugins
19:42:41 <lispy> fons: i don't know if it would solve your problem, but i prefer cabal over make for haskell projects
19:42:58 <lispy> (or ever ghc --make for that matter)
19:43:27 <fons> lispy, thanks
19:44:08 <largos> hm.. I found a darcs patch file that talks about the module I need
19:44:31 <largos> any chance gtk2hs is using darcs now? and not sf.net cvs?
19:45:12 <lispy> very good chance
19:45:16 <lispy> ?where gtk2hs
19:45:16 <lambdabot> http://haskell.org/gtk2hs/
19:45:28 <lispy> try darcs get http://haskell.org/gtk2hs
19:45:30 <lambdabot> Title: Gtk2Hs
19:45:44 <largos> http://darcs.haskell.org/gtk2hs/
19:45:46 <lambdabot> Title: Index of /gtk2hs
19:45:50 <largos> there's one darcs repo
19:45:54 <largos> comparing dates...
19:45:56 <lispy> ah right,
19:46:09 <lispy> so that url that lambdabot gave maybe wrong
19:46:25 <largos> hm...
19:46:29 <lispy> darcs.h.o is a differente machine than web is on
19:47:18 <largos> is there an easy way to see the date of the last patch sent to a darcs repo?
19:47:46 <Dylan> darcs changes --last=1
19:47:52 <largos> thanks!
19:48:00 <lispy> largos: you'll have to get the repo first
19:48:06 <largos> yeah, figured
19:48:10 <largos> almost done with that
19:48:11 <lispy> okay :)
19:48:24 <lispy> i usually run, 'darcs changes | less'
19:48:51 <largos> haha!
19:48:56 <largos> yesterday :)
19:49:13 <largos> much better than the 11-17 months since the last cvs edit
19:49:30 <largos> someone needs to update the gtk2hs download page ;)
19:50:03 <largos> (and this one has a svgcairo dir :)
19:50:05 <lispy> ?tell dcoutts although, the real problem may be that it's easier to find the sf.net page than the darcs repo
19:50:05 <lambdabot> Consider it noted.
19:50:33 <largos> easier is a wee bit of an understatement ;)
19:51:09 <lispy> yeah, i've had the same problem with wxHaskell recently
19:52:36 <largos> wait, wxHaskell *isn't* dead?
19:53:42 <lispy> nope
19:54:20 <lispy> now if you'd said wxFruit...that's another story ;)
19:55:59 <fons> I have an external C file (wrapper.c) which makes use of a Haskell module (Foo.hs) and its stub Foo_stub.{h,c}. How can I build and link them together creating a dynamic library (no main function)?
19:56:14 <fons> (I'm using ghc)
19:56:37 <lispy> fons: i don't know, but i have some ideas...
19:56:57 <lispy> fons: actually..is this a dll or a .so?
19:57:03 <fons> a .so
19:57:23 <lispy> a .a file would be easier i bet :)
19:57:59 <lispy> fons: you might want to check the ghc manual for the '-dynamic' flag, i can't remember what it does
19:58:00 <fons> lispy, I'm creating plugins so ... I have no chance
19:58:04 <largos> I obviously need to be more persistant when looking at widget toolkits :)
19:58:20 <lispy> largos: or just be here when dcoutts is :)
19:58:33 <largos> lispy: <g>
19:58:43 <lispy> fons: who is in charge of creating the .so file? i'm not sure if ghc does that
19:58:49 <largos> lispy: I was originally going to use wxHaskell, but gave up because it looked dead :(
19:58:58 <lispy> fons: but maybe you can ask ghc to compile all the haskell source, to .o files and the get gcc to do the rest?
19:59:26 <lispy> fons: if you need to go that route, you may need to manually fire up the haskell RTS in your C stubs
19:59:33 <lispy> fons: the ghc manual has examples of doing this
20:00:00 <lispy> fons: i've never tried it, but those are my general thoughts
20:00:17 <lispy> largos: it's not healthy, just not dead :)
20:00:24 <fons> lispy, In the manually they suggest linking with ghc just to avoid that
20:00:24 <largos> lispy: hehe
20:00:48 <fons> lispy, is it possible to "inject" a C file in ghc's compilation?
20:00:52 <lispy> fons: also, haskell-cafe@ maybe the place to ask
20:01:07 <lispy> fons: yeah, i think thatworks just fine
20:01:36 <lispy> it seems like i've done, ghc ... foo.c ... Foo.hs before
20:06:33 <dibblego> what is the name of the algorithm(s?) for representing deltas between arbitrary data?
20:07:23 <lispy> dibblego: asking in a version control channel is probably a good place to ask (like #darcs or #svn)
20:08:11 <dibblego> I wrote one in haskell (changed it a bit from one in a book) and it performs like crap - apparently I need to memoize - but I think someone told me the name of the algorithm
20:08:32 <fons> http://www.mail-archive.com/haskell@haskell.org/msg19218.html
20:08:34 <lambdabot> Title: [Haskell] building shared objects, http://tinyurl.com/y26cgb
20:08:49 * fons kicks himself and cries
20:08:51 <fons> :(
20:11:44 <lispy> fons: that sucks :(
20:12:21 <lisppaste2> dibblego pasted "how exactly do you memoize this?" at http://paste.lisp.org/display/29010
20:13:15 * Lemmih created a .so plugin for apache some time ago.
20:15:25 <Lemmih> fons: This worked for me on i686, not sure if it's related to what you want: http://darcs.haskell.org/~lemmih/modhaskell/Makefile
20:15:30 <lambdabot> http://tinyurl.com/yfvfa8
20:17:27 <fons> Lemmih, it mixes C and Haskell ?
20:17:40 <Lemmih> fons: Yes.
20:17:42 <dibblego> is there any googlable term for these algorithms for deltas? I just need a handle for google
20:18:31 <Lemmih> fons: Apache calls the plugin, the plugins starts the Haskell run-time and call my Haskell handler.
20:18:48 <fons> Lemmih, that's exactly what I need
20:19:05 <TRWBW> howdy
20:21:22 <fons> Lemmih, the C wrapper is mod_haskell.c then ?
20:21:40 <Lemmih> fons: I think so. Haven't looked at the code for quite a while.
20:24:04 <fons> thanks
20:53:38 --- topic: '["http://www.haskell.org/haskellwiki/HaWikiMigration - act soon or the data will be deleted!", "Join us as we move forward toward the Age of the Lambda", "Haskell - the language of ICFP winners 3 years running", "Logs: http://tunes.org/~nef/logs/haskell/"]'
20:53:38 --- topic: set by dons on [Tue Sep 26 08:23:47 2006]
20:53:38 --- names: list (clog mbishop uebayasi Pseudonym FingTam palomer monochrom hellish klutometis dgoldsmith khaladan sethk binary42 kpreid mgoetze slime_mold largos koffein mwc woggle Twigathy_ Plareplane dolio lambdabot noclouds integral Botty Trixsey satan mascht lennart mr_ank crashmatrix erider nicodaemos dibblego gzl Narcisse clanehin_ ihope desrt pef superjudge AtnNn SyntaxNinja lOkadin sris badalex mathewm Captain_Fourier thou fons camster lisppaste2)
20:53:38 --- names: list (pandres ChilliX Sweetshark hyraxfourtwo the_dormant shapr Patterner converter Dreadshoot ramkrsna arjanb ToRA Mibori lispy slipstream genneth _frederik_ Itkovian Averell Pupeno Pete_I bdash DRMacIver Syzygy- thneed noradio glguy araujo Nioate_ SamB sieni df_ Wallbraker jgrimes pingu newsham boliver_ Botje Eidolos SamB_XP szabi_ mGem lovecoder cods tessier mathrick triple_ Philippa drbean_ TSC giksos balayhashi flux__ jcreigh benben astrolabe)
20:53:38 --- names: list (dvekravy Kattana ajonat_ saccade GeoBesh pave1 thief_grr tessier_ moonlite mornfall atsampson Bobstopper Smokey` ThreeQ Adamant qz nothingmuch ValarQ Foxyloxy rblackwe shawn dino- cmeme rafl Baughn jmob _matthew_ Cale sjanssen Akheron l_a_m eno arjanoosting Igloo Daveman meddle gaal profmakx Xgc xinming resiak exnor dblog toyz JKnecht wagle nnunley Lunar^ earthy hyrax42 Tigge cpatrick sigfpe_ dcoutts_ Lor kosmikus greenrd scw ibid jdev)
20:53:38 --- names: list (ksandstr liyang kzm Maddas cjay petekaz kolmodin Codex_ kpk epitron JohnMeacham vegai gds Spark norpan audreyt wolverian ski Lemmih musasabi magagr aleator bran_ thebug arcatan ozone carp dons psnl kalven SimonRC mux rycee pejo emu mlh unclear dany2k Khisanth kaol shrimpx scsibug Dylan wilx mattam johs edwinb arguile_ xerox fnordus qwr zamez lucca gdsx osfameron explicitjelly moconnor void noj ohub orbitz)
20:53:41 <dons> Botty: not quite. close though
20:53:49 <dons> ?users #haskell_ru
20:53:49 <lambdabot> Maximum users seen in #haskell_ru: 2, currently: 1 (50.0%), active: 0 (0.0%)
20:53:55 <dons> ah, its a bit quiet
20:54:03 <dons> probably should publicise some of these chans a bit wider
20:54:20 <monochrom> Yes dons please consider van Roy's article in more detail.  I have considered it and I can't dispute it either, even with IO.  I hope I haven't tried hard enough.
20:54:22 <uebayasi> > 13:53 *** Info: 3 users: uebayasi lambdabot Bobstopper
20:54:23 <lambdabot>  Not in scope: data constructor `Bobstopper'
20:54:25 <uebayasi> hmmmm
21:18:26 --- topic: '["http://www.haskell.org/haskellwiki/HaWikiMigration - act soon or the data will be deleted!", "Join us as we move forward toward the Age of the Lambda", "Haskell - the language of ICFP winners 3 years running", "Logs: http://tunes.org/~nef/logs/haskell/"]'
21:18:26 --- topic: set by dons on [Tue Sep 26 08:23:47 2006]
21:18:26 --- names: list (clog Pete_I Jaak mjk mbishop uebayasi Pseudonym FingTam palomer monochrom klutometis dgoldsmith khaladan sethk binary42 kpreid mgoetze slime_mold largos koffein mwc woggle Twigathy_ Plareplane dolio lambdabot noclouds integral Botty Trixsey satan mascht lennart mr_ank crashmatrix erider dibblego gzl Narcisse ihope desrt pef superjudge AtnNn SyntaxNinja lOkadin sris badalex mathewm Captain_Fourier thou fons camster lisppaste2 pandres Sweetshark)
21:18:26 --- names: list (hyraxfourtwo the_dormant shapr Patterner converter Dreadshoot ramkrsna arjanb ToRA Mibori lispy slipstream genneth _frederik_ Itkovian Averell Pupeno bdash DRMacIver Syzygy- thneed noradio glguy araujo Nioate_ SamB sieni df_ Wallbraker jgrimes pingu newsham boliver_ Botje Eidolos SamB_XP szabi_ mGem lovecoder cods tessier mathrick triple_ Philippa drbean_ TSC giksos balayhashi flux__ jcreigh benben astrolabe dvekravy Kattana ajonat_ saccade)
21:18:26 --- names: list (GeoBesh pave1 thief_grr tessier_ moonlite mornfall atsampson Bobstopper Smokey` ThreeQ Adamant qz nothingmuch ValarQ Foxyloxy rblackwe shawn dino- cmeme rafl Baughn jmob _matthew_ Cale sjanssen Akheron l_a_m eno arjanoosting Igloo Daveman meddle gaal profmakx Xgc xinming resiak exnor dblog toyz JKnecht wagle nnunley Lunar^ earthy hyrax42 Tigge cpatrick sigfpe_ dcoutts_ Lor kosmikus greenrd scw orbitz ohub noj void moconnor explicitjelly)
21:18:26 --- names: list (osfameron gdsx lucca zamez qwr fnordus xerox arguile_ edwinb johs mattam wilx Dylan scsibug shrimpx kaol Khisanth dany2k unclear mlh emu pejo rycee mux SimonRC kalven psnl dons carp ozone arcatan thebug bran_ aleator magagr musasabi Lemmih ski wolverian audreyt norpan Spark gds vegai JohnMeacham epitron kpk Codex_ ibid jdev ksandstr liyang kzm Maddas cjay petekaz kolmodin)
21:18:27 <ozone> unless "trivial" means "understanding microsoft COM machinery is fun and easy"
21:18:36 <lispy> ozone: they got it working?
21:19:02 <lispy> ozone: i spent about 4 days debugging comlib automation and i'm pretty sure the haskell side has a GC bug
21:19:08 <ozone> lispy: yeah.  not particularly pretty, though...
21:19:13 <dons> monochrom: this makes sense. few bugs in haskell code ==> few dollars in haskell code...
21:19:24 <ozone> if you're _seriously_ interested, email lennert and ask him
21:19:32 <lispy> ozone: too late :)
21:19:41 <dons> I should write a tool that introduces runtime bugs in haskell programs, that we can then profitably spend our days tracking down
21:19:52 <lispy> "tracking"
21:19:54 <fons> Lemmih, your makefile links a C wrapper object with various Haskell modules
21:20:07 <lispy> just make it so that the tool user knows where they are and how to make it go away in a "patch"
21:20:18 <lispy> and then i can spend my time here and reading thedailywtf
21:21:01 <monochrom> http://groups.google.com/group/comp.lang.functional/msg/571a96f2fd6195b5?hl=en&   hee hee hee
21:21:04 <lambdabot> Title: Google Groups: comp.lang.functional, http://tinyurl.com/yar5u7
21:22:56 <ozone> i wish fergus henderson was still posting regularly
21:23:06 <glguy> anyone listen to aacPlus streams on not-windows?
21:23:39 <lispy> my os has a first and and it's N-O-T-W-I-N...
21:24:58 <fons> Lemmih, and the GHC manual (http://haskell.org/ghc/docs/latest/html/users_guide/sec-ffi-ghc.html ) states you must   hs_add_root(__stginit_Foo) to initialize module Foo
21:25:00 <lambdabot> Title: 8.2. Using the FFI with GHC, http://tinyurl.com/y3yyhp
21:25:52 * edwardk waves hello.
21:26:18 <Lemmih> fons: Yeah?
21:27:06 <palomer> it's not polite to wave.
21:27:07 <fons> Lemmih, then using your Makefile, do I have to call hs_add_root(__stginit_Foo) for every module I link?
21:27:07 <Lemmih> fons: Do you have multiple roots? I didn't.
21:27:26 <monochrom> It is more polite to particle than to wave.
21:28:03 * edwardk particles.
21:28:03 <palomer> YOU KILLED THE CHANNEL
21:28:07 <fons> Lemmih, uhm, by what you said I think I get it ...
21:28:17 <fons> Lemmih, I link two mod
21:28:39 <fons> modules, but one imports the other thus, just one root :)
21:28:41 <edwardk> hate it when that happens
21:30:13 <lispy> edwardk: howdy
21:31:05 <edwardk> lispy: how fare helisp and the masters of the universe?
21:31:22 <lispy> edwardk: skeletor is winning at the moment :)
21:32:00 <monochrom> Haha Skeletor.
21:32:05 <edwardk> =)
21:32:18 <monochrom> Skeletor is so cool!
21:32:36 <lispy> maybe helisp fights javator
21:32:38 <edwardk> your standard library so has to be called greyskull or something =)
21:32:45 <lispy> heh
21:33:11 <lispy> edwardk: i did find some stuff in the elisp manual about how elisp is defined
21:33:20 <lispy> edwardk: so, i could actually start moving in the direction of conformance
21:33:45 <dibblego> which delta algorithm does darcs use (I have seen xdelta and vdelta so far)
21:33:53 <lispy> edwardk: and they said, elisp has no tail call optimizations, no JIT, and they described the garbage collector and mentioned (ewww!) dynamic scope
21:33:53 <edwardk> conformance is vastly overrated, you are talking a lisp interpreter/compiler. how do you think there got to be so many dialects anyways? =)
21:34:15 <edwardk> in other words elisp == braindead lisp =)
21:34:31 <lispy> edwardk: well, my goal was to be able to interpret emacs code in yi :)
21:35:01 <lispy> edwardk: and do it in less space, do it faster and just be better all around :)
21:35:04 <monochrom> You can do tail call optimization.
21:35:07 <edwardk> any time the pointy headed folks pointed out that a feature was necessary for the language to be well behaved they said that no one runs any application worth mentioning other than emacs anyways, so it doesn't matter if we gobble up all of the memory and all of the resources.
21:36:09 <lispy> monochrom: yeah, i was thinking i could do JIT and tail call to help out quite a bit
21:36:29 <lispy> monochrom: as for GC, well i could probably borrow some ideas from the last 20 years of research taht maybe emacs doesn't do
21:36:31 <edwardk> elisp always struck me as something stallman whipped out in an afternoon and we've been stuck with it ever since
21:37:18 <lispy> edwardk: but right, now i need to finish this god forsaken midterm (finally due tomorrow...oy, less than 1/3 finish...)
21:37:47 <monochrom> poor midterm
21:38:01 <edwardk> lispy: yep, skeletor is definitely going to win, you have to choose between the fate of the universe and your passing of the midterm. choose wisely
21:38:21 * lispy gets inspired and tears the midterm in half ;)
21:38:42 * edwardk cheers, then sighs as lispy prints out another copy. =)
21:38:44 <lispy> heh, i should totaly turn in programs in helisp instead :)
21:38:46 <monochrom> poor midterm
21:39:12 <dons> anyone know a good way to convert latex to .doc ?
21:39:24 <araujo> hola
21:39:27 <edwardk> heh
21:39:30 <lispy> dons: well...what do you mean by good?
21:39:38 <edwardk> well, there is something to be said for the simplicity of helisp.
21:39:45 <lispy> dons: you could use OCR, or you could convert the pdf to an image and embedd that
21:39:54 <dibblego> dons, what about .rtf?
21:40:13 <monochrom> Who needs the .doc?
21:40:30 <lispy> dons: oh, you could do latex2html and then read the html in word
21:40:37 <dons> my girlfriend needs to submit a resume in .doc format. normally we ignore that and send .pdf, but if there's an easy way...
21:40:37 <dibblego> I use docbook mostly (hence, the article I sent you) - and I can convert to most things from that
21:41:14 <lispy> dons: monster has a tool that does it, but it sucks
21:41:25 <monochrom> OK I wouldn't advise you of a Halloween prank I have just devised for such .doc requests, since it's your gf not a moron.
21:41:31 <dibblego> openoffice reads pdf and writes .doc?
21:41:31 <Smokey`> erm, generally OpenOffice can do most these conversions... (though I guess the problem is getting it into OpenOffice in the first place)
21:41:51 <Smokey`> OpenOffice can definately write .doc (all the major revisions), but as for reading PDF I'm not entirely sure.
21:41:55 <dons> Smokey`: i've got openoffice here, along with .ps .tex and .pdf versions of the file
21:42:08 <dons> so how do I get that into openoffice such that its happy to write it back out as .doc?
21:42:18 <lispy> dons: look up antiword, it goes one way, maybe both
21:42:24 <edwardk> reading pdf is generally problematic
21:42:34 <monochrom> I think for now latex -> html -> doc is the best route
21:42:39 <lispy> yeah, good thing it's portable
21:42:43 <dons> yeah, or latex -> rtf
21:42:45 <dons> let me try...
21:43:23 <monochrom> Does anyone want to hear my Halloween prank for .doc requests?
21:43:24 <glguy> coudl the .doc file just contain a picture of the pdf output?
21:43:31 <dons> monochrom: sure.
21:43:45 <monochrom> Print out your ps file on paper.
21:44:08 <dons> and fax it ... :)
21:44:10 <monochrom> Now take out your newest, most expensive, 10 megapixel, DSLR camera...
21:44:15 <Smokey`> lol
21:44:31 <monochrom> I think you can fill in the rest.
21:44:46 <edwardk> glguy: would be kind of worried that the potential employer would be annoyed though, if they employ any sort of automated indexing or scraping techniques
21:44:49 <int-e> aww, I thought you were going to cut it into pieces to make a puzzle first.
21:44:50 <monochrom> A variation.  Display the ps file on your computer screen.  Now take out your camera...
21:44:58 <dons> heh
21:45:12 <dons> ok, latex -> html -> openoffice works somewhat
21:45:19 <monochrom> 10 megapixel is the key.
21:45:25 <glguy> edwardk: if they do a keyword search on your r√©sum√©....
21:45:32 <glguy> I'd recommend not working there
21:45:41 <lispy> dons: now, that you've seen how that works...my real advice is to start from scratch with something that creates .doc files
21:45:46 <Smokey`> dons: I'm thinking that's probably the easiest solution you'll get, short of finding a pdf/ps importer for OpenOffice.
21:46:07 <dons> oh actually, latex -> rtf -> openoffice is much better
21:46:13 <dons> looks pretty much like the original
21:46:19 <dons> (using latex2rtf)
21:46:20 <lispy> dons: ah, cool
21:46:30 <edwardk> glguy: heh
21:46:51 <monochrom> Well the thing is it's for gf and gf is always right.
21:46:57 <dons> exactly.
21:47:10 <dons> otherwise i'd try the "Let's just send .pdf and tell them they're stupid" line again
21:47:25 <monochrom> or 10 megapixel camera
21:48:39 <dons> yeah, so in future, .tex ~> [latex2rtf] ~> .rtf ~> [openoffice] ~> .doc
21:49:27 <emu> personally, i wouldnt want to work for them if theyre so inflexible and stooges of MS to boot
21:50:40 <edwardk> emu: human resources is typically not a great indicator of the intelligence of the rest of the company
21:50:50 <dons> i actually suspect they'd be flexible, and this is just ignorance on the HR dept's part
21:51:08 <dons> the submission page actually says: "Download Acrobat Reader ... please submit in .doc format only"
21:51:16 <dons> so that makes me wonder...
21:51:34 <emu> about a lot of things
21:52:01 <emu> their web devs not so smart either ;)
21:54:52 <emu> what paper is references by "the static semantics paper"
21:54:57 <emu> referenced*
21:58:02 <dons> emu, check the research papers page of the haskell.org wiki
21:58:20 <dons> http://haskell.org/haskellwiki/Research_papers/Type_systems#Haskell_semantics
21:58:23 <lambdabot> Title: Research papers/Type systems - HaskellWiki, http://tinyurl.com/yaqnso
21:58:24 <dons> probably in that list
21:59:23 <gour> morning
21:59:35 <emu> k i'll take a look see
21:59:57 <gour> anyone knows nick of Ben Rudiak-Gould (he is supposed to be author of huffyuv codec) ?
22:00:28 <dons> gour: does he even hang out here?
22:00:41 <gour> dons: no idea
22:01:17 <gour> i'd like to ask something about codec, so need some contact
22:01:33 <ThreeQ> do continuations in WriterT remember their state?
22:02:47 <dons> gour: should be able to find his email address from the haskell mailing list archives
22:03:03 <gour> dons: ok. thanks
22:03:41 <dons> the haskell search engine turned up, http://www.haskell.org/pipermail/haskell-prime/2006-May/001565.html
22:03:42 <lambdabot> Title: Class System current status, http://tinyurl.com/y3klfk
22:03:44 <dons> first hit
22:03:59 <dons> ?where haskell-search
22:03:59 <lambdabot> http://tinyurl.com/y5kvdq
22:08:16 <emu> indeed, this static-semantics paper looks like just the thing
22:08:23 <gour> dons: ta
22:25:10 <dons> note well guys, deadline for HCAR submissions is Monday 6th, http://www.haskell.org/pipermail/haskell/2006-October/018646.html
22:25:12 <lambdabot> Title: [Haskell] Call for Contributions - HC&A Report (November 2006 edition), http://tinyurl.com/y92ymd
22:25:36 <dons> so if you've written any haskell code this year and its available online, write a paragraph on it and send it to kosmikus
22:25:59 <dons> audreyt: you sending a pugs update report?
22:32:36 <desrt> hcar?
22:33:30 <desrt> ah. interesting.
22:33:39 * desrt guesses they're not interested in lambda calc interpreters :)
22:33:43 * desrt goes to sleep
22:33:47 <dons> the 6 monthly summary of _everything_ that's happened in haskell
22:33:59 <dons> desrt: oh, no! a lambda calc interpreter would be ok.
22:34:15 <dons> also....you should add it to ...
22:34:30 <dons> http://haskell.org/haskellwiki/Libraries_and_tools/Compilers_and_interpreters#Small_languages
22:34:33 <dons> if you've written one..
22:34:33 <lambdabot> Title: Libraries and tools/Compilers and interpreters - HaskellWiki, http://tinyurl.com/yzwcwh
22:34:56 <desrt> they already have one :)
22:35:27 <dons> that's supposed to document ever compiler or interpreter ever written and made available in haskell
22:35:36 <dons> so if you've written such a thing .. please add it!
22:35:39 <desrt> ok
22:35:48 <desrt> i'll consider cleaning up, documenting, GPLing my code
22:35:59 <desrt> but i probably ought not to do it until after the submission deadline for the assignment passes
22:36:13 <desrt> i think there's some clause in university regulations about sharing assignment solutions :)
22:36:34 <dons> Do, or do not. There is no 'consider' ;)
22:36:37 <sjanssen> dons: you're listed as an author of phrac, so I'm going to pester you.  Does phrac not support contexts on instance decls?  "instance (Arith x, Arith y) => Arith (Succ x) y" fails with "(,) is not a type class"
22:36:43 <desrt> and relasing the exact assignment solution to the world at large via a highly googleable webpage.... :)
22:36:50 <desrt> hah.
22:36:55 <dons> hmm, sjanssen not sure. stefanw implemented the class handling
22:37:03 <dons> I think it should work
22:37:08 <dons> sjanssen: you have stefan's mail address?
22:37:09 <desrt> well
22:37:11 <edwardk> threeq: doesn't it depend on whether you wrap WriterT Foo Cont or ContT Foo Writer?
22:37:13 <desrt> consider this: i do go to bed now.
22:37:15 <dons> ah, desrt fair enough
22:37:19 <desrt> ciao :)
22:37:56 <dons> reminds me that phrac should be on that page
22:38:11 <ThreeQ> edwardk: the first one; ContT Foo Writer isn't a MonadWriter :/
22:38:28 <edwardk> heh
22:38:36 <sjanssen> dons: I think it's in the AUTHORS file.  Not like it's a big deal, I'll have no need for phrac once GHC gets associated type synonyms
22:38:37 <edwardk> threeq: then i guess it doesn't =)
22:39:50 <ThreeQ> edwardk: makes sense :)
22:40:00 <dons> sjanssen: true. you could ping stefan though, he hangs out here sometimes
22:40:06 <dons> ?seen stefanw
22:40:06 <lambdabot> I haven't seen stefanw.
22:46:44 <monochrom> Godawful now they're on to indexed data types!
23:09:57 <kosmikus> dons: thanks for advertising the HCAR ...
23:21:13 * monochrom is laughing uncontrollably at the quotes about the function _'
23:27:56 <lispy> dons: cool, you put up a link to my bf interpreter!
23:27:57 <lispy> thanks
23:27:59 <lispy> dons++
23:30:56 <roconnor> @hoogle partition
23:30:56 <lambdabot> List.partition :: (a -> Bool) -> [a] -> ([a], [a])
23:30:57 <lambdabot> Data.IntMap.partition :: (a -> Bool) -> IntMap a -> (IntMap a, IntMap a)
23:30:57 <lambdabot> Data.IntSet.partition :: (Int -> Bool) -> IntSet -> (IntSet, IntSet)
23:31:57 <lispy> > partition (==2) (cycle [1,2])
23:31:59 <lambdabot>  ([2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,...
23:32:35 <lispy> hmm...so it's not strict?
23:32:41 <lispy> that's good
23:32:53 <lispy> i sort of expected it to be implemented with filter
23:35:31 <lispy> we should have a Partition type class
23:37:30 <lispy> and then i bet could have instance Functor f => Partition f where ...
23:38:20 <Cale> filter isn't strict
23:38:52 <lispy> Cale: is it an artifact of the way lambdabot works?
23:39:00 <Cale> hm?
23:39:00 <Cale> no
23:39:06 <lispy> > filter (==2) (cycle [1,2])
23:39:08 <lambdabot>  [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2...
23:39:08 <Cale> That's the right behaviour :)
23:39:22 <lispy> hmm...ah, i know what i'm thinking of
23:39:34 <lispy> how about, "filter is strict in the spine of the list"
23:39:47 <Cale> not even that
23:39:56 <lispy> it ends up trying to look at all the values
23:40:41 <lispy> > [ x | Just x <- iterate id Nothing ]
23:40:42 <lambdabot>  Add a type signature
23:40:51 <lispy> > [ x | Just x <- iterate id Nothing ] :: [Int]
23:40:55 <lambdabot> Terminated
23:41:48 <Cale> well, okay, if xs is explicitly undefined, then filter p xs is undefined.
23:43:35 <Cale> and if you actually try to evaluate the head of filter p xs, then you'll end up evaluating the initial segment of xs up to the first element where p succeeds
23:43:47 <Cale> so in that sense, it's strict
23:43:55 <Cale> But it works just fine with infinite lists
23:45:33 <Cale> actually, just weak-head-normal-forming filter p xs will force xs up to the first element which succeeds, but no farther
23:45:37 <lispy> yeah, saying it's strict was a bit too...erm...strict
23:45:48 <Cale> There are lots of levels of strictness :)
23:45:57 <Cale> I suppose in the strictest sense, it's strict :)
23:46:14 <lispy> yeah, "may look at the whole list" is the one i wanted it turns out
23:56:59 <gour> @where yi
23:56:59 <lambdabot> http://www.cse.unsw.edu.au/~dons/yi.html
